var bP=Object.defineProperty;var uy=e=>{throw TypeError(e)};var _P=(e,t,n)=>t in e?bP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var us=(e,t,n)=>_P(e,typeof t!="symbol"?t+"":t,n),gh=(e,t,n)=>t.has(e)||uy("Cannot "+n);var q=(e,t,n)=>(gh(e,t,"read from private field"),n?n.call(e):t.get(e)),Be=(e,t,n)=>t.has(e)?uy("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Ne=(e,t,n,s)=>(gh(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),on=(e,t,n)=>(gh(e,t,"access private method"),n);var ou=(e,t,n,s)=>({set _(i){Ne(e,t,i,n)},get _(){return q(e,t,s)}});function SP(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(s,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var js=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function NP(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function s(){return this instanceof s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var i=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:function(){return e[s]}})}),n}var bb={exports:{}},lf={},_b={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mc=Symbol.for("react.element"),EP=Symbol.for("react.portal"),CP=Symbol.for("react.fragment"),TP=Symbol.for("react.strict_mode"),kP=Symbol.for("react.profiler"),PP=Symbol.for("react.provider"),RP=Symbol.for("react.context"),AP=Symbol.for("react.forward_ref"),DP=Symbol.for("react.suspense"),$P=Symbol.for("react.memo"),MP=Symbol.for("react.lazy"),dy=Symbol.iterator;function IP(e){return e===null||typeof e!="object"?null:(e=dy&&e[dy]||e["@@iterator"],typeof e=="function"?e:null)}var Sb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Nb=Object.assign,Eb={};function Uo(e,t,n){this.props=e,this.context=t,this.refs=Eb,this.updater=n||Sb}Uo.prototype.isReactComponent={};Uo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Uo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Cb(){}Cb.prototype=Uo.prototype;function $g(e,t,n){this.props=e,this.context=t,this.refs=Eb,this.updater=n||Sb}var Mg=$g.prototype=new Cb;Mg.constructor=$g;Nb(Mg,Uo.prototype);Mg.isPureReactComponent=!0;var fy=Array.isArray,Tb=Object.prototype.hasOwnProperty,Ig={current:null},kb={key:!0,ref:!0,__self:!0,__source:!0};function Pb(e,t,n){var s,i={},a=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)Tb.call(t,s)&&!kb.hasOwnProperty(s)&&(i[s]=t[s]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)i[s]===void 0&&(i[s]=l[s]);return{$$typeof:Mc,type:e,key:a,ref:o,props:i,_owner:Ig.current}}function LP(e,t){return{$$typeof:Mc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Lg(e){return typeof e=="object"&&e!==null&&e.$$typeof===Mc}function OP(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var hy=/\/+/g;function xh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?OP(""+e.key):t.toString(36)}function Vu(e,t,n,s,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Mc:case EP:o=!0}}if(o)return o=e,i=i(o),e=s===""?"."+xh(o,0):s,fy(i)?(n="",e!=null&&(n=e.replace(hy,"$&/")+"/"),Vu(i,t,n,"",function(u){return u})):i!=null&&(Lg(i)&&(i=LP(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(hy,"$&/")+"/")+e)),t.push(i)),1;if(o=0,s=s===""?".":s+":",fy(e))for(var l=0;l<e.length;l++){a=e[l];var c=s+xh(a,l);o+=Vu(a,t,n,c,i)}else if(c=IP(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=s+xh(a,l++),o+=Vu(a,t,n,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function lu(e,t,n){if(e==null)return e;var s=[],i=0;return Vu(e,s,"","",function(a){return t.call(n,a,i++)}),s}function FP(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Pn={current:null},zu={transition:null},UP={ReactCurrentDispatcher:Pn,ReactCurrentBatchConfig:zu,ReactCurrentOwner:Ig};function Rb(){throw Error("act(...) is not supported in production builds of React.")}Re.Children={map:lu,forEach:function(e,t,n){lu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return lu(e,function(){t++}),t},toArray:function(e){return lu(e,function(t){return t})||[]},only:function(e){if(!Lg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Re.Component=Uo;Re.Fragment=CP;Re.Profiler=kP;Re.PureComponent=$g;Re.StrictMode=TP;Re.Suspense=DP;Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UP;Re.act=Rb;Re.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Nb({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Ig.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Tb.call(t,c)&&!kb.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:Mc,type:e.type,key:i,ref:a,props:s,_owner:o}};Re.createContext=function(e){return e={$$typeof:RP,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:PP,_context:e},e.Consumer=e};Re.createElement=Pb;Re.createFactory=function(e){var t=Pb.bind(null,e);return t.type=e,t};Re.createRef=function(){return{current:null}};Re.forwardRef=function(e){return{$$typeof:AP,render:e}};Re.isValidElement=Lg;Re.lazy=function(e){return{$$typeof:MP,_payload:{_status:-1,_result:e},_init:FP}};Re.memo=function(e,t){return{$$typeof:$P,type:e,compare:t===void 0?null:t}};Re.startTransition=function(e){var t=zu.transition;zu.transition={};try{e()}finally{zu.transition=t}};Re.unstable_act=Rb;Re.useCallback=function(e,t){return Pn.current.useCallback(e,t)};Re.useContext=function(e){return Pn.current.useContext(e)};Re.useDebugValue=function(){};Re.useDeferredValue=function(e){return Pn.current.useDeferredValue(e)};Re.useEffect=function(e,t){return Pn.current.useEffect(e,t)};Re.useId=function(){return Pn.current.useId()};Re.useImperativeHandle=function(e,t,n){return Pn.current.useImperativeHandle(e,t,n)};Re.useInsertionEffect=function(e,t){return Pn.current.useInsertionEffect(e,t)};Re.useLayoutEffect=function(e,t){return Pn.current.useLayoutEffect(e,t)};Re.useMemo=function(e,t){return Pn.current.useMemo(e,t)};Re.useReducer=function(e,t,n){return Pn.current.useReducer(e,t,n)};Re.useRef=function(e){return Pn.current.useRef(e)};Re.useState=function(e){return Pn.current.useState(e)};Re.useSyncExternalStore=function(e,t,n){return Pn.current.useSyncExternalStore(e,t,n)};Re.useTransition=function(){return Pn.current.useTransition()};Re.version="18.3.1";_b.exports=Re;var h=_b.exports;const $e=jb(h),Og=SP({__proto__:null,default:$e},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BP=h,VP=Symbol.for("react.element"),zP=Symbol.for("react.fragment"),WP=Object.prototype.hasOwnProperty,HP=BP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qP={key:!0,ref:!0,__self:!0,__source:!0};function Ab(e,t,n){var s,i={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)WP.call(t,s)&&!qP.hasOwnProperty(s)&&(i[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)i[s]===void 0&&(i[s]=t[s]);return{$$typeof:VP,type:e,key:a,ref:o,props:i,_owner:HP.current}}lf.Fragment=zP;lf.jsx=Ab;lf.jsxs=Ab;bb.exports=lf;var r=bb.exports,Db={exports:{}},es={},$b={exports:{}},Mb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,_){var C=A.length;A.push(_);e:for(;0<C;){var k=C-1>>>1,L=A[k];if(0<i(L,_))A[k]=_,A[C]=L,C=k;else break e}}function n(A){return A.length===0?null:A[0]}function s(A){if(A.length===0)return null;var _=A[0],C=A.pop();if(C!==_){A[0]=C;e:for(var k=0,L=A.length,I=L>>>1;k<I;){var H=2*(k+1)-1,ae=A[H],Q=H+1,z=A[Q];if(0>i(ae,C))Q<L&&0>i(z,ae)?(A[k]=z,A[Q]=C,k=Q):(A[k]=ae,A[H]=C,k=H);else if(Q<L&&0>i(z,C))A[k]=z,A[Q]=C,k=Q;else break e}}return _}function i(A,_){var C=A.sortIndex-_.sortIndex;return C!==0?C:A.id-_.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,m=3,x=!1,j=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(A){for(var _=n(u);_!==null;){if(_.callback===null)s(u);else if(_.startTime<=A)s(u),_.sortIndex=_.expirationTime,t(c,_);else break;_=n(u)}}function b(A){if(v=!1,w(A),!j)if(n(c)!==null)j=!0,F(S);else{var _=n(u);_!==null&&V(b,_.startTime-A)}}function S(A,_){j=!1,v&&(v=!1,g(E),E=-1),x=!0;var C=m;try{for(w(_),f=n(c);f!==null&&(!(f.expirationTime>_)||A&&!R());){var k=f.callback;if(typeof k=="function"){f.callback=null,m=f.priorityLevel;var L=k(f.expirationTime<=_);_=e.unstable_now(),typeof L=="function"?f.callback=L:f===n(c)&&s(c),w(_)}else s(c);f=n(c)}if(f!==null)var I=!0;else{var H=n(u);H!==null&&V(b,H.startTime-_),I=!1}return I}finally{f=null,m=C,x=!1}}var T=!1,N=null,E=-1,P=5,D=-1;function R(){return!(e.unstable_now()-D<P)}function M(){if(N!==null){var A=e.unstable_now();D=A;var _=!0;try{_=N(!0,A)}finally{_?$():(T=!1,N=null)}}else T=!1}var $;if(typeof p=="function")$=function(){p(M)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,K=O.port2;O.port1.onmessage=M,$=function(){K.postMessage(null)}}else $=function(){y(M,0)};function F(A){N=A,T||(T=!0,$())}function V(A,_){E=y(function(){A(e.unstable_now())},_)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){j||x||(j=!0,F(S))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(A){switch(m){case 1:case 2:case 3:var _=3;break;default:_=m}var C=m;m=_;try{return A()}finally{m=C}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,_){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var C=m;m=A;try{return _()}finally{m=C}},e.unstable_scheduleCallback=function(A,_,C){var k=e.unstable_now();switch(typeof C=="object"&&C!==null?(C=C.delay,C=typeof C=="number"&&0<C?k+C:k):C=k,A){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=C+L,A={id:d++,callback:_,priorityLevel:A,startTime:C,expirationTime:L,sortIndex:-1},C>k?(A.sortIndex=C,t(u,A),n(c)===null&&A===n(u)&&(v?(g(E),E=-1):v=!0,V(b,C-k))):(A.sortIndex=L,t(c,A),j||x||(j=!0,F(S))),A},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(A){var _=m;return function(){var C=m;m=_;try{return A.apply(this,arguments)}finally{m=C}}}})(Mb);$b.exports=Mb;var KP=$b.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GP=h,Jn=KP;function Z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ib=new Set,Ql={};function ja(e,t){So(e,t),So(e+"Capture",t)}function So(e,t){for(Ql[e]=t,e=0;e<t.length;e++)Ib.add(t[e])}var Er=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mm=Object.prototype.hasOwnProperty,YP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,my={},py={};function QP(e){return Mm.call(py,e)?!0:Mm.call(my,e)?!1:YP.test(e)?py[e]=!0:(my[e]=!0,!1)}function XP(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function JP(e,t,n,s){if(t===null||typeof t>"u"||XP(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Rn(e,t,n,s,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var rn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){rn[e]=new Rn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];rn[t]=new Rn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){rn[e]=new Rn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){rn[e]=new Rn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){rn[e]=new Rn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){rn[e]=new Rn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){rn[e]=new Rn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){rn[e]=new Rn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){rn[e]=new Rn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Fg=/[\-:]([a-z])/g;function Ug(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Fg,Ug);rn[t]=new Rn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Fg,Ug);rn[t]=new Rn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Fg,Ug);rn[t]=new Rn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){rn[e]=new Rn(e,1,!1,e.toLowerCase(),null,!1,!1)});rn.xlinkHref=new Rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){rn[e]=new Rn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Bg(e,t,n,s){var i=rn.hasOwnProperty(t)?rn[t]:null;(i!==null?i.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(JP(t,n,i,s)&&(n=null),s||i===null?QP(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,s=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var Mr=GP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cu=Symbol.for("react.element"),Ba=Symbol.for("react.portal"),Va=Symbol.for("react.fragment"),Vg=Symbol.for("react.strict_mode"),Im=Symbol.for("react.profiler"),Lb=Symbol.for("react.provider"),Ob=Symbol.for("react.context"),zg=Symbol.for("react.forward_ref"),Lm=Symbol.for("react.suspense"),Om=Symbol.for("react.suspense_list"),Wg=Symbol.for("react.memo"),Kr=Symbol.for("react.lazy"),Fb=Symbol.for("react.offscreen"),gy=Symbol.iterator;function ol(e){return e===null||typeof e!="object"?null:(e=gy&&e[gy]||e["@@iterator"],typeof e=="function"?e:null)}var gt=Object.assign,vh;function wl(e){if(vh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);vh=t&&t[1]||""}return`
`+vh+e}var yh=!1;function wh(e,t){if(!e||yh)return"";yh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var s=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){s=u}e.call(t.prototype)}else{try{throw Error()}catch(u){s=u}e()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=s.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{yh=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?wl(e):""}function ZP(e){switch(e.tag){case 5:return wl(e.type);case 16:return wl("Lazy");case 13:return wl("Suspense");case 19:return wl("SuspenseList");case 0:case 2:case 15:return e=wh(e.type,!1),e;case 11:return e=wh(e.type.render,!1),e;case 1:return e=wh(e.type,!0),e;default:return""}}function Fm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Va:return"Fragment";case Ba:return"Portal";case Im:return"Profiler";case Vg:return"StrictMode";case Lm:return"Suspense";case Om:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ob:return(e.displayName||"Context")+".Consumer";case Lb:return(e._context.displayName||"Context")+".Provider";case zg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Wg:return t=e.displayName||null,t!==null?t:Fm(e.type)||"Memo";case Kr:t=e._payload,e=e._init;try{return Fm(e(t))}catch{}}return null}function e2(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fm(t);case 8:return t===Vg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function yi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ub(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function t2(e){var t=Ub(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){s=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function uu(e){e._valueTracker||(e._valueTracker=t2(e))}function Bb(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=Ub(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function fd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Um(e,t){var n=t.checked;return gt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function xy(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=yi(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Vb(e,t){t=t.checked,t!=null&&Bg(e,"checked",t,!1)}function Bm(e,t){Vb(e,t);var n=yi(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Vm(e,t.type,n):t.hasOwnProperty("defaultValue")&&Vm(e,t.type,yi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function vy(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Vm(e,t,n){(t!=="number"||fd(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var jl=Array.isArray;function ro(e,t,n,s){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&s&&(e[n].defaultSelected=!0)}else{for(n=""+yi(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,s&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function zm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Z(91));return gt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function yy(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Z(92));if(jl(n)){if(1<n.length)throw Error(Z(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:yi(n)}}function zb(e,t){var n=yi(t.value),s=yi(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function wy(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Wb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Wb(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var du,Hb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(du=du||document.createElement("div"),du.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=du.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Xl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Tl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},n2=["Webkit","ms","Moz","O"];Object.keys(Tl).forEach(function(e){n2.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Tl[t]=Tl[e]})});function qb(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Tl.hasOwnProperty(e)&&Tl[e]?(""+t).trim():t+"px"}function Kb(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,i=qb(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,i):e[n]=i}}var s2=gt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hm(e,t){if(t){if(s2[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Z(62))}}function qm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Km=null;function Hg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Gm=null,io=null,ao=null;function jy(e){if(e=Oc(e)){if(typeof Gm!="function")throw Error(Z(280));var t=e.stateNode;t&&(t=hf(t),Gm(e.stateNode,e.type,t))}}function Gb(e){io?ao?ao.push(e):ao=[e]:io=e}function Yb(){if(io){var e=io,t=ao;if(ao=io=null,jy(e),t)for(e=0;e<t.length;e++)jy(t[e])}}function Qb(e,t){return e(t)}function Xb(){}var jh=!1;function Jb(e,t,n){if(jh)return e(t,n);jh=!0;try{return Qb(e,t,n)}finally{jh=!1,(io!==null||ao!==null)&&(Xb(),Yb())}}function Jl(e,t){var n=e.stateNode;if(n===null)return null;var s=hf(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Z(231,t,typeof n));return n}var Ym=!1;if(Er)try{var ll={};Object.defineProperty(ll,"passive",{get:function(){Ym=!0}}),window.addEventListener("test",ll,ll),window.removeEventListener("test",ll,ll)}catch{Ym=!1}function r2(e,t,n,s,i,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var kl=!1,hd=null,md=!1,Qm=null,i2={onError:function(e){kl=!0,hd=e}};function a2(e,t,n,s,i,a,o,l,c){kl=!1,hd=null,r2.apply(i2,arguments)}function o2(e,t,n,s,i,a,o,l,c){if(a2.apply(this,arguments),kl){if(kl){var u=hd;kl=!1,hd=null}else throw Error(Z(198));md||(md=!0,Qm=u)}}function ba(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Zb(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function by(e){if(ba(e)!==e)throw Error(Z(188))}function l2(e){var t=e.alternate;if(!t){if(t=ba(e),t===null)throw Error(Z(188));return t!==e?null:e}for(var n=e,s=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(s=i.return,s!==null){n=s;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return by(i),e;if(a===s)return by(i),t;a=a.sibling}throw Error(Z(188))}if(n.return!==s.return)n=i,s=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,s=a;break}if(l===s){o=!0,s=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,s=i;break}if(l===s){o=!0,s=a,n=i;break}l=l.sibling}if(!o)throw Error(Z(189))}}if(n.alternate!==s)throw Error(Z(190))}if(n.tag!==3)throw Error(Z(188));return n.stateNode.current===n?e:t}function e_(e){return e=l2(e),e!==null?t_(e):null}function t_(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=t_(e);if(t!==null)return t;e=e.sibling}return null}var n_=Jn.unstable_scheduleCallback,_y=Jn.unstable_cancelCallback,c2=Jn.unstable_shouldYield,u2=Jn.unstable_requestPaint,St=Jn.unstable_now,d2=Jn.unstable_getCurrentPriorityLevel,qg=Jn.unstable_ImmediatePriority,s_=Jn.unstable_UserBlockingPriority,pd=Jn.unstable_NormalPriority,f2=Jn.unstable_LowPriority,r_=Jn.unstable_IdlePriority,cf=null,ir=null;function h2(e){if(ir&&typeof ir.onCommitFiberRoot=="function")try{ir.onCommitFiberRoot(cf,e,void 0,(e.current.flags&128)===128)}catch{}}var Os=Math.clz32?Math.clz32:g2,m2=Math.log,p2=Math.LN2;function g2(e){return e>>>=0,e===0?32:31-(m2(e)/p2|0)|0}var fu=64,hu=4194304;function bl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function gd(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,i=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?s=bl(l):(a&=o,a!==0&&(s=bl(a)))}else o=n&~i,o!==0?s=bl(o):a!==0&&(s=bl(a));if(s===0)return 0;if(t!==0&&t!==s&&!(t&i)&&(i=s&-s,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-Os(t),i=1<<n,s|=e[n],t&=~i;return s}function x2(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function v2(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Os(a),l=1<<o,c=i[o];c===-1?(!(l&n)||l&s)&&(i[o]=x2(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Xm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function i_(){var e=fu;return fu<<=1,!(fu&4194240)&&(fu=64),e}function bh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ic(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Os(t),e[t]=n}function y2(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Os(n),a=1<<i;t[i]=0,s[i]=-1,e[i]=-1,n&=~a}}function Kg(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-Os(n),i=1<<s;i&t|e[s]&t&&(e[s]|=t),n&=~i}}var Xe=0;function a_(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var o_,Gg,l_,c_,u_,Jm=!1,mu=[],ci=null,ui=null,di=null,Zl=new Map,ec=new Map,Xr=[],w2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sy(e,t){switch(e){case"focusin":case"focusout":ci=null;break;case"dragenter":case"dragleave":ui=null;break;case"mouseover":case"mouseout":di=null;break;case"pointerover":case"pointerout":Zl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ec.delete(t.pointerId)}}function cl(e,t,n,s,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Oc(t),t!==null&&Gg(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function j2(e,t,n,s,i){switch(t){case"focusin":return ci=cl(ci,e,t,n,s,i),!0;case"dragenter":return ui=cl(ui,e,t,n,s,i),!0;case"mouseover":return di=cl(di,e,t,n,s,i),!0;case"pointerover":var a=i.pointerId;return Zl.set(a,cl(Zl.get(a)||null,e,t,n,s,i)),!0;case"gotpointercapture":return a=i.pointerId,ec.set(a,cl(ec.get(a)||null,e,t,n,s,i)),!0}return!1}function d_(e){var t=Xi(e.target);if(t!==null){var n=ba(t);if(n!==null){if(t=n.tag,t===13){if(t=Zb(n),t!==null){e.blockedOn=t,u_(e.priority,function(){l_(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Km=s,n.target.dispatchEvent(s),Km=null}else return t=Oc(n),t!==null&&Gg(t),e.blockedOn=n,!1;t.shift()}return!0}function Ny(e,t,n){Wu(e)&&n.delete(t)}function b2(){Jm=!1,ci!==null&&Wu(ci)&&(ci=null),ui!==null&&Wu(ui)&&(ui=null),di!==null&&Wu(di)&&(di=null),Zl.forEach(Ny),ec.forEach(Ny)}function ul(e,t){e.blockedOn===t&&(e.blockedOn=null,Jm||(Jm=!0,Jn.unstable_scheduleCallback(Jn.unstable_NormalPriority,b2)))}function tc(e){function t(i){return ul(i,e)}if(0<mu.length){ul(mu[0],e);for(var n=1;n<mu.length;n++){var s=mu[n];s.blockedOn===e&&(s.blockedOn=null)}}for(ci!==null&&ul(ci,e),ui!==null&&ul(ui,e),di!==null&&ul(di,e),Zl.forEach(t),ec.forEach(t),n=0;n<Xr.length;n++)s=Xr[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<Xr.length&&(n=Xr[0],n.blockedOn===null);)d_(n),n.blockedOn===null&&Xr.shift()}var oo=Mr.ReactCurrentBatchConfig,xd=!0;function _2(e,t,n,s){var i=Xe,a=oo.transition;oo.transition=null;try{Xe=1,Yg(e,t,n,s)}finally{Xe=i,oo.transition=a}}function S2(e,t,n,s){var i=Xe,a=oo.transition;oo.transition=null;try{Xe=4,Yg(e,t,n,s)}finally{Xe=i,oo.transition=a}}function Yg(e,t,n,s){if(xd){var i=Zm(e,t,n,s);if(i===null)Ah(e,t,s,vd,n),Sy(e,s);else if(j2(i,e,t,n,s))s.stopPropagation();else if(Sy(e,s),t&4&&-1<w2.indexOf(e)){for(;i!==null;){var a=Oc(i);if(a!==null&&o_(a),a=Zm(e,t,n,s),a===null&&Ah(e,t,s,vd,n),a===i)break;i=a}i!==null&&s.stopPropagation()}else Ah(e,t,s,null,n)}}var vd=null;function Zm(e,t,n,s){if(vd=null,e=Hg(s),e=Xi(e),e!==null)if(t=ba(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Zb(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return vd=e,null}function f_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(d2()){case qg:return 1;case s_:return 4;case pd:case f2:return 16;case r_:return 536870912;default:return 16}default:return 16}}var ii=null,Qg=null,Hu=null;function h_(){if(Hu)return Hu;var e,t=Qg,n=t.length,s,i="value"in ii?ii.value:ii.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(s=1;s<=o&&t[n-s]===i[a-s];s++);return Hu=i.slice(e,1<s?1-s:void 0)}function qu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function pu(){return!0}function Ey(){return!1}function ts(e){function t(n,s,i,a,o){this._reactName=n,this._targetInst=i,this.type=s,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?pu:Ey,this.isPropagationStopped=Ey,this}return gt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=pu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=pu)},persist:function(){},isPersistent:pu}),t}var Bo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xg=ts(Bo),Lc=gt({},Bo,{view:0,detail:0}),N2=ts(Lc),_h,Sh,dl,uf=gt({},Lc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==dl&&(dl&&e.type==="mousemove"?(_h=e.screenX-dl.screenX,Sh=e.screenY-dl.screenY):Sh=_h=0,dl=e),_h)},movementY:function(e){return"movementY"in e?e.movementY:Sh}}),Cy=ts(uf),E2=gt({},uf,{dataTransfer:0}),C2=ts(E2),T2=gt({},Lc,{relatedTarget:0}),Nh=ts(T2),k2=gt({},Bo,{animationName:0,elapsedTime:0,pseudoElement:0}),P2=ts(k2),R2=gt({},Bo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),A2=ts(R2),D2=gt({},Bo,{data:0}),Ty=ts(D2),$2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},M2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},I2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function L2(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=I2[e])?!!t[e]:!1}function Jg(){return L2}var O2=gt({},Lc,{key:function(e){if(e.key){var t=$2[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=qu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?M2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jg,charCode:function(e){return e.type==="keypress"?qu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),F2=ts(O2),U2=gt({},uf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ky=ts(U2),B2=gt({},Lc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jg}),V2=ts(B2),z2=gt({},Bo,{propertyName:0,elapsedTime:0,pseudoElement:0}),W2=ts(z2),H2=gt({},uf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q2=ts(H2),K2=[9,13,27,32],Zg=Er&&"CompositionEvent"in window,Pl=null;Er&&"documentMode"in document&&(Pl=document.documentMode);var G2=Er&&"TextEvent"in window&&!Pl,m_=Er&&(!Zg||Pl&&8<Pl&&11>=Pl),Py=" ",Ry=!1;function p_(e,t){switch(e){case"keyup":return K2.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function g_(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var za=!1;function Y2(e,t){switch(e){case"compositionend":return g_(t);case"keypress":return t.which!==32?null:(Ry=!0,Py);case"textInput":return e=t.data,e===Py&&Ry?null:e;default:return null}}function Q2(e,t){if(za)return e==="compositionend"||!Zg&&p_(e,t)?(e=h_(),Hu=Qg=ii=null,za=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return m_&&t.locale!=="ko"?null:t.data;default:return null}}var X2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ay(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!X2[e.type]:t==="textarea"}function x_(e,t,n,s){Gb(s),t=yd(t,"onChange"),0<t.length&&(n=new Xg("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Rl=null,nc=null;function J2(e){T_(e,0)}function df(e){var t=qa(e);if(Bb(t))return e}function Z2(e,t){if(e==="change")return t}var v_=!1;if(Er){var Eh;if(Er){var Ch="oninput"in document;if(!Ch){var Dy=document.createElement("div");Dy.setAttribute("oninput","return;"),Ch=typeof Dy.oninput=="function"}Eh=Ch}else Eh=!1;v_=Eh&&(!document.documentMode||9<document.documentMode)}function $y(){Rl&&(Rl.detachEvent("onpropertychange",y_),nc=Rl=null)}function y_(e){if(e.propertyName==="value"&&df(nc)){var t=[];x_(t,nc,e,Hg(e)),Jb(J2,t)}}function eR(e,t,n){e==="focusin"?($y(),Rl=t,nc=n,Rl.attachEvent("onpropertychange",y_)):e==="focusout"&&$y()}function tR(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return df(nc)}function nR(e,t){if(e==="click")return df(t)}function sR(e,t){if(e==="input"||e==="change")return df(t)}function rR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Us=typeof Object.is=="function"?Object.is:rR;function sc(e,t){if(Us(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var i=n[s];if(!Mm.call(t,i)||!Us(e[i],t[i]))return!1}return!0}function My(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Iy(e,t){var n=My(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=My(n)}}function w_(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?w_(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function j_(){for(var e=window,t=fd();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=fd(e.document)}return t}function ex(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function iR(e){var t=j_(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&w_(n.ownerDocument.documentElement,n)){if(s!==null&&ex(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(s.start,i);s=s.end===void 0?a:Math.min(s.end,i),!e.extend&&a>s&&(i=s,s=a,a=i),i=Iy(n,a);var o=Iy(n,s);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var aR=Er&&"documentMode"in document&&11>=document.documentMode,Wa=null,ep=null,Al=null,tp=!1;function Ly(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;tp||Wa==null||Wa!==fd(s)||(s=Wa,"selectionStart"in s&&ex(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Al&&sc(Al,s)||(Al=s,s=yd(ep,"onSelect"),0<s.length&&(t=new Xg("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Wa)))}function gu(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ha={animationend:gu("Animation","AnimationEnd"),animationiteration:gu("Animation","AnimationIteration"),animationstart:gu("Animation","AnimationStart"),transitionend:gu("Transition","TransitionEnd")},Th={},b_={};Er&&(b_=document.createElement("div").style,"AnimationEvent"in window||(delete Ha.animationend.animation,delete Ha.animationiteration.animation,delete Ha.animationstart.animation),"TransitionEvent"in window||delete Ha.transitionend.transition);function ff(e){if(Th[e])return Th[e];if(!Ha[e])return e;var t=Ha[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in b_)return Th[e]=t[n];return e}var __=ff("animationend"),S_=ff("animationiteration"),N_=ff("animationstart"),E_=ff("transitionend"),C_=new Map,Oy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ci(e,t){C_.set(e,t),ja(t,[e])}for(var kh=0;kh<Oy.length;kh++){var Ph=Oy[kh],oR=Ph.toLowerCase(),lR=Ph[0].toUpperCase()+Ph.slice(1);Ci(oR,"on"+lR)}Ci(__,"onAnimationEnd");Ci(S_,"onAnimationIteration");Ci(N_,"onAnimationStart");Ci("dblclick","onDoubleClick");Ci("focusin","onFocus");Ci("focusout","onBlur");Ci(E_,"onTransitionEnd");So("onMouseEnter",["mouseout","mouseover"]);So("onMouseLeave",["mouseout","mouseover"]);So("onPointerEnter",["pointerout","pointerover"]);So("onPointerLeave",["pointerout","pointerover"]);ja("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ja("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ja("onBeforeInput",["compositionend","keypress","textInput","paste"]);ja("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ja("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ja("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cR=new Set("cancel close invalid load scroll toggle".split(" ").concat(_l));function Fy(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,o2(s,t,void 0,e),e.currentTarget=null}function T_(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],i=s.event;s=s.listeners;e:{var a=void 0;if(t)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;Fy(i,l,u),a=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;Fy(i,l,u),a=c}}}if(md)throw e=Qm,md=!1,Qm=null,e}function lt(e,t){var n=t[ap];n===void 0&&(n=t[ap]=new Set);var s=e+"__bubble";n.has(s)||(k_(t,e,2,!1),n.add(s))}function Rh(e,t,n){var s=0;t&&(s|=4),k_(n,e,s,t)}var xu="_reactListening"+Math.random().toString(36).slice(2);function rc(e){if(!e[xu]){e[xu]=!0,Ib.forEach(function(n){n!=="selectionchange"&&(cR.has(n)||Rh(n,!1,e),Rh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[xu]||(t[xu]=!0,Rh("selectionchange",!1,t))}}function k_(e,t,n,s){switch(f_(t)){case 1:var i=_2;break;case 4:i=S2;break;default:i=Yg}n=i.bind(null,t,n,e),i=void 0,!Ym||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),s?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ah(e,t,n,s,i){var a=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Xi(l),o===null)return;if(c=o.tag,c===5||c===6){s=a=o;continue e}l=l.parentNode}}s=s.return}Jb(function(){var u=a,d=Hg(n),f=[];e:{var m=C_.get(e);if(m!==void 0){var x=Xg,j=e;switch(e){case"keypress":if(qu(n)===0)break e;case"keydown":case"keyup":x=F2;break;case"focusin":j="focus",x=Nh;break;case"focusout":j="blur",x=Nh;break;case"beforeblur":case"afterblur":x=Nh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=Cy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=C2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=V2;break;case __:case S_:case N_:x=P2;break;case E_:x=W2;break;case"scroll":x=N2;break;case"wheel":x=q2;break;case"copy":case"cut":case"paste":x=A2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=ky}var v=(t&4)!==0,y=!v&&e==="scroll",g=v?m!==null?m+"Capture":null:m;v=[];for(var p=u,w;p!==null;){w=p;var b=w.stateNode;if(w.tag===5&&b!==null&&(w=b,g!==null&&(b=Jl(p,g),b!=null&&v.push(ic(p,b,w)))),y)break;p=p.return}0<v.length&&(m=new x(m,j,null,n,d),f.push({event:m,listeners:v}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",m&&n!==Km&&(j=n.relatedTarget||n.fromElement)&&(Xi(j)||j[Cr]))break e;if((x||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,x?(j=n.relatedTarget||n.toElement,x=u,j=j?Xi(j):null,j!==null&&(y=ba(j),j!==y||j.tag!==5&&j.tag!==6)&&(j=null)):(x=null,j=u),x!==j)){if(v=Cy,b="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(v=ky,b="onPointerLeave",g="onPointerEnter",p="pointer"),y=x==null?m:qa(x),w=j==null?m:qa(j),m=new v(b,p+"leave",x,n,d),m.target=y,m.relatedTarget=w,b=null,Xi(d)===u&&(v=new v(g,p+"enter",j,n,d),v.target=w,v.relatedTarget=y,b=v),y=b,x&&j)t:{for(v=x,g=j,p=0,w=v;w;w=Ca(w))p++;for(w=0,b=g;b;b=Ca(b))w++;for(;0<p-w;)v=Ca(v),p--;for(;0<w-p;)g=Ca(g),w--;for(;p--;){if(v===g||g!==null&&v===g.alternate)break t;v=Ca(v),g=Ca(g)}v=null}else v=null;x!==null&&Uy(f,m,x,v,!1),j!==null&&y!==null&&Uy(f,y,j,v,!0)}}e:{if(m=u?qa(u):window,x=m.nodeName&&m.nodeName.toLowerCase(),x==="select"||x==="input"&&m.type==="file")var S=Z2;else if(Ay(m))if(v_)S=sR;else{S=tR;var T=eR}else(x=m.nodeName)&&x.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(S=nR);if(S&&(S=S(e,u))){x_(f,S,n,d);break e}T&&T(e,m,u),e==="focusout"&&(T=m._wrapperState)&&T.controlled&&m.type==="number"&&Vm(m,"number",m.value)}switch(T=u?qa(u):window,e){case"focusin":(Ay(T)||T.contentEditable==="true")&&(Wa=T,ep=u,Al=null);break;case"focusout":Al=ep=Wa=null;break;case"mousedown":tp=!0;break;case"contextmenu":case"mouseup":case"dragend":tp=!1,Ly(f,n,d);break;case"selectionchange":if(aR)break;case"keydown":case"keyup":Ly(f,n,d)}var N;if(Zg)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else za?p_(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(m_&&n.locale!=="ko"&&(za||E!=="onCompositionStart"?E==="onCompositionEnd"&&za&&(N=h_()):(ii=d,Qg="value"in ii?ii.value:ii.textContent,za=!0)),T=yd(u,E),0<T.length&&(E=new Ty(E,e,null,n,d),f.push({event:E,listeners:T}),N?E.data=N:(N=g_(n),N!==null&&(E.data=N)))),(N=G2?Y2(e,n):Q2(e,n))&&(u=yd(u,"onBeforeInput"),0<u.length&&(d=new Ty("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=N))}T_(f,t)})}function ic(e,t,n){return{instance:e,listener:t,currentTarget:n}}function yd(e,t){for(var n=t+"Capture",s=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Jl(e,n),a!=null&&s.unshift(ic(e,a,i)),a=Jl(e,t),a!=null&&s.push(ic(e,a,i))),e=e.return}return s}function Ca(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Uy(e,t,n,s,i){for(var a=t._reactName,o=[];n!==null&&n!==s;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&u!==null&&(l=u,i?(c=Jl(n,a),c!=null&&o.unshift(ic(n,c,l))):i||(c=Jl(n,a),c!=null&&o.push(ic(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var uR=/\r\n?/g,dR=/\u0000|\uFFFD/g;function By(e){return(typeof e=="string"?e:""+e).replace(uR,`
`).replace(dR,"")}function vu(e,t,n){if(t=By(t),By(e)!==t&&n)throw Error(Z(425))}function wd(){}var np=null,sp=null;function rp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ip=typeof setTimeout=="function"?setTimeout:void 0,fR=typeof clearTimeout=="function"?clearTimeout:void 0,Vy=typeof Promise=="function"?Promise:void 0,hR=typeof queueMicrotask=="function"?queueMicrotask:typeof Vy<"u"?function(e){return Vy.resolve(null).then(e).catch(mR)}:ip;function mR(e){setTimeout(function(){throw e})}function Dh(e,t){var n=t,s=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(s===0){e.removeChild(i),tc(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=i}while(n);tc(t)}function fi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function zy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Vo=Math.random().toString(36).slice(2),nr="__reactFiber$"+Vo,ac="__reactProps$"+Vo,Cr="__reactContainer$"+Vo,ap="__reactEvents$"+Vo,pR="__reactListeners$"+Vo,gR="__reactHandles$"+Vo;function Xi(e){var t=e[nr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Cr]||n[nr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=zy(e);e!==null;){if(n=e[nr])return n;e=zy(e)}return t}e=n,n=e.parentNode}return null}function Oc(e){return e=e[nr]||e[Cr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function qa(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Z(33))}function hf(e){return e[ac]||null}var op=[],Ka=-1;function Ti(e){return{current:e}}function ct(e){0>Ka||(e.current=op[Ka],op[Ka]=null,Ka--)}function rt(e,t){Ka++,op[Ka]=e.current,e.current=t}var wi={},vn=Ti(wi),zn=Ti(!1),fa=wi;function No(e,t){var n=e.type.contextTypes;if(!n)return wi;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Wn(e){return e=e.childContextTypes,e!=null}function jd(){ct(zn),ct(vn)}function Wy(e,t,n){if(vn.current!==wi)throw Error(Z(168));rt(vn,t),rt(zn,n)}function P_(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var i in s)if(!(i in t))throw Error(Z(108,e2(e)||"Unknown",i));return gt({},n,s)}function bd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||wi,fa=vn.current,rt(vn,e),rt(zn,zn.current),!0}function Hy(e,t,n){var s=e.stateNode;if(!s)throw Error(Z(169));n?(e=P_(e,t,fa),s.__reactInternalMemoizedMergedChildContext=e,ct(zn),ct(vn),rt(vn,e)):ct(zn),rt(zn,n)}var yr=null,mf=!1,$h=!1;function R_(e){yr===null?yr=[e]:yr.push(e)}function xR(e){mf=!0,R_(e)}function ki(){if(!$h&&yr!==null){$h=!0;var e=0,t=Xe;try{var n=yr;for(Xe=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}yr=null,mf=!1}catch(i){throw yr!==null&&(yr=yr.slice(e+1)),n_(qg,ki),i}finally{Xe=t,$h=!1}}return null}var Ga=[],Ya=0,_d=null,Sd=0,ps=[],gs=0,ha=null,br=1,_r="";function qi(e,t){Ga[Ya++]=Sd,Ga[Ya++]=_d,_d=e,Sd=t}function A_(e,t,n){ps[gs++]=br,ps[gs++]=_r,ps[gs++]=ha,ha=e;var s=br;e=_r;var i=32-Os(s)-1;s&=~(1<<i),n+=1;var a=32-Os(t)+i;if(30<a){var o=i-i%5;a=(s&(1<<o)-1).toString(32),s>>=o,i-=o,br=1<<32-Os(t)+i|n<<i|s,_r=a+e}else br=1<<a|n<<i|s,_r=e}function tx(e){e.return!==null&&(qi(e,1),A_(e,1,0))}function nx(e){for(;e===_d;)_d=Ga[--Ya],Ga[Ya]=null,Sd=Ga[--Ya],Ga[Ya]=null;for(;e===ha;)ha=ps[--gs],ps[gs]=null,_r=ps[--gs],ps[gs]=null,br=ps[--gs],ps[gs]=null}var Yn=null,Gn=null,dt=!1,Is=null;function D_(e,t){var n=xs(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function qy(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Yn=e,Gn=fi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Yn=e,Gn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ha!==null?{id:br,overflow:_r}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=xs(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Yn=e,Gn=null,!0):!1;default:return!1}}function lp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function cp(e){if(dt){var t=Gn;if(t){var n=t;if(!qy(e,t)){if(lp(e))throw Error(Z(418));t=fi(n.nextSibling);var s=Yn;t&&qy(e,t)?D_(s,n):(e.flags=e.flags&-4097|2,dt=!1,Yn=e)}}else{if(lp(e))throw Error(Z(418));e.flags=e.flags&-4097|2,dt=!1,Yn=e}}}function Ky(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Yn=e}function yu(e){if(e!==Yn)return!1;if(!dt)return Ky(e),dt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!rp(e.type,e.memoizedProps)),t&&(t=Gn)){if(lp(e))throw $_(),Error(Z(418));for(;t;)D_(e,t),t=fi(t.nextSibling)}if(Ky(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Gn=fi(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Gn=null}}else Gn=Yn?fi(e.stateNode.nextSibling):null;return!0}function $_(){for(var e=Gn;e;)e=fi(e.nextSibling)}function Eo(){Gn=Yn=null,dt=!1}function sx(e){Is===null?Is=[e]:Is.push(e)}var vR=Mr.ReactCurrentBatchConfig;function fl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Z(309));var s=n.stateNode}if(!s)throw Error(Z(147,e));var i=s,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(Z(284));if(!n._owner)throw Error(Z(290,e))}return e}function wu(e,t){throw e=Object.prototype.toString.call(t),Error(Z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Gy(e){var t=e._init;return t(e._payload)}function M_(e){function t(g,p){if(e){var w=g.deletions;w===null?(g.deletions=[p],g.flags|=16):w.push(p)}}function n(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function s(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function i(g,p){return g=gi(g,p),g.index=0,g.sibling=null,g}function a(g,p,w){return g.index=w,e?(w=g.alternate,w!==null?(w=w.index,w<p?(g.flags|=2,p):w):(g.flags|=2,p)):(g.flags|=1048576,p)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,p,w,b){return p===null||p.tag!==6?(p=Bh(w,g.mode,b),p.return=g,p):(p=i(p,w),p.return=g,p)}function c(g,p,w,b){var S=w.type;return S===Va?d(g,p,w.props.children,b,w.key):p!==null&&(p.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Kr&&Gy(S)===p.type)?(b=i(p,w.props),b.ref=fl(g,p,w),b.return=g,b):(b=Zu(w.type,w.key,w.props,null,g.mode,b),b.ref=fl(g,p,w),b.return=g,b)}function u(g,p,w,b){return p===null||p.tag!==4||p.stateNode.containerInfo!==w.containerInfo||p.stateNode.implementation!==w.implementation?(p=Vh(w,g.mode,b),p.return=g,p):(p=i(p,w.children||[]),p.return=g,p)}function d(g,p,w,b,S){return p===null||p.tag!==7?(p=ca(w,g.mode,b,S),p.return=g,p):(p=i(p,w),p.return=g,p)}function f(g,p,w){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Bh(""+p,g.mode,w),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case cu:return w=Zu(p.type,p.key,p.props,null,g.mode,w),w.ref=fl(g,null,p),w.return=g,w;case Ba:return p=Vh(p,g.mode,w),p.return=g,p;case Kr:var b=p._init;return f(g,b(p._payload),w)}if(jl(p)||ol(p))return p=ca(p,g.mode,w,null),p.return=g,p;wu(g,p)}return null}function m(g,p,w,b){var S=p!==null?p.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:l(g,p,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case cu:return w.key===S?c(g,p,w,b):null;case Ba:return w.key===S?u(g,p,w,b):null;case Kr:return S=w._init,m(g,p,S(w._payload),b)}if(jl(w)||ol(w))return S!==null?null:d(g,p,w,b,null);wu(g,w)}return null}function x(g,p,w,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(w)||null,l(p,g,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case cu:return g=g.get(b.key===null?w:b.key)||null,c(p,g,b,S);case Ba:return g=g.get(b.key===null?w:b.key)||null,u(p,g,b,S);case Kr:var T=b._init;return x(g,p,w,T(b._payload),S)}if(jl(b)||ol(b))return g=g.get(w)||null,d(p,g,b,S,null);wu(p,b)}return null}function j(g,p,w,b){for(var S=null,T=null,N=p,E=p=0,P=null;N!==null&&E<w.length;E++){N.index>E?(P=N,N=null):P=N.sibling;var D=m(g,N,w[E],b);if(D===null){N===null&&(N=P);break}e&&N&&D.alternate===null&&t(g,N),p=a(D,p,E),T===null?S=D:T.sibling=D,T=D,N=P}if(E===w.length)return n(g,N),dt&&qi(g,E),S;if(N===null){for(;E<w.length;E++)N=f(g,w[E],b),N!==null&&(p=a(N,p,E),T===null?S=N:T.sibling=N,T=N);return dt&&qi(g,E),S}for(N=s(g,N);E<w.length;E++)P=x(N,g,E,w[E],b),P!==null&&(e&&P.alternate!==null&&N.delete(P.key===null?E:P.key),p=a(P,p,E),T===null?S=P:T.sibling=P,T=P);return e&&N.forEach(function(R){return t(g,R)}),dt&&qi(g,E),S}function v(g,p,w,b){var S=ol(w);if(typeof S!="function")throw Error(Z(150));if(w=S.call(w),w==null)throw Error(Z(151));for(var T=S=null,N=p,E=p=0,P=null,D=w.next();N!==null&&!D.done;E++,D=w.next()){N.index>E?(P=N,N=null):P=N.sibling;var R=m(g,N,D.value,b);if(R===null){N===null&&(N=P);break}e&&N&&R.alternate===null&&t(g,N),p=a(R,p,E),T===null?S=R:T.sibling=R,T=R,N=P}if(D.done)return n(g,N),dt&&qi(g,E),S;if(N===null){for(;!D.done;E++,D=w.next())D=f(g,D.value,b),D!==null&&(p=a(D,p,E),T===null?S=D:T.sibling=D,T=D);return dt&&qi(g,E),S}for(N=s(g,N);!D.done;E++,D=w.next())D=x(N,g,E,D.value,b),D!==null&&(e&&D.alternate!==null&&N.delete(D.key===null?E:D.key),p=a(D,p,E),T===null?S=D:T.sibling=D,T=D);return e&&N.forEach(function(M){return t(g,M)}),dt&&qi(g,E),S}function y(g,p,w,b){if(typeof w=="object"&&w!==null&&w.type===Va&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case cu:e:{for(var S=w.key,T=p;T!==null;){if(T.key===S){if(S=w.type,S===Va){if(T.tag===7){n(g,T.sibling),p=i(T,w.props.children),p.return=g,g=p;break e}}else if(T.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Kr&&Gy(S)===T.type){n(g,T.sibling),p=i(T,w.props),p.ref=fl(g,T,w),p.return=g,g=p;break e}n(g,T);break}else t(g,T);T=T.sibling}w.type===Va?(p=ca(w.props.children,g.mode,b,w.key),p.return=g,g=p):(b=Zu(w.type,w.key,w.props,null,g.mode,b),b.ref=fl(g,p,w),b.return=g,g=b)}return o(g);case Ba:e:{for(T=w.key;p!==null;){if(p.key===T)if(p.tag===4&&p.stateNode.containerInfo===w.containerInfo&&p.stateNode.implementation===w.implementation){n(g,p.sibling),p=i(p,w.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else t(g,p);p=p.sibling}p=Vh(w,g.mode,b),p.return=g,g=p}return o(g);case Kr:return T=w._init,y(g,p,T(w._payload),b)}if(jl(w))return j(g,p,w,b);if(ol(w))return v(g,p,w,b);wu(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,p!==null&&p.tag===6?(n(g,p.sibling),p=i(p,w),p.return=g,g=p):(n(g,p),p=Bh(w,g.mode,b),p.return=g,g=p),o(g)):n(g,p)}return y}var Co=M_(!0),I_=M_(!1),Nd=Ti(null),Ed=null,Qa=null,rx=null;function ix(){rx=Qa=Ed=null}function ax(e){var t=Nd.current;ct(Nd),e._currentValue=t}function up(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function lo(e,t){Ed=e,rx=Qa=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Bn=!0),e.firstContext=null)}function bs(e){var t=e._currentValue;if(rx!==e)if(e={context:e,memoizedValue:t,next:null},Qa===null){if(Ed===null)throw Error(Z(308));Qa=e,Ed.dependencies={lanes:0,firstContext:e}}else Qa=Qa.next=e;return t}var Ji=null;function ox(e){Ji===null?Ji=[e]:Ji.push(e)}function L_(e,t,n,s){var i=t.interleaved;return i===null?(n.next=n,ox(t)):(n.next=i.next,i.next=n),t.interleaved=n,Tr(e,s)}function Tr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Gr=!1;function lx(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function O_(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Sr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function hi(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,Fe&2){var i=s.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),s.pending=t,Tr(e,n)}return i=s.interleaved,i===null?(t.next=t,ox(s)):(t.next=i.next,i.next=t),s.interleaved=t,Tr(e,n)}function Ku(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Kg(e,n)}}function Yy(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Cd(e,t,n,s){var i=e.updateQueue;Gr=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=i.baseState;o=0,d=u=c=null,l=a;do{var m=l.lane,x=l.eventTime;if((s&m)===m){d!==null&&(d=d.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var j=e,v=l;switch(m=t,x=n,v.tag){case 1:if(j=v.payload,typeof j=="function"){f=j.call(x,f,m);break e}f=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=v.payload,m=typeof j=="function"?j.call(x,f,m):j,m==null)break e;f=gt({},f,m);break e;case 2:Gr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else x={eventTime:x,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=x,c=f):d=d.next=x,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);pa|=o,e.lanes=o,e.memoizedState=f}}function Qy(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],i=s.callback;if(i!==null){if(s.callback=null,s=n,typeof i!="function")throw Error(Z(191,i));i.call(s)}}}var Fc={},ar=Ti(Fc),oc=Ti(Fc),lc=Ti(Fc);function Zi(e){if(e===Fc)throw Error(Z(174));return e}function cx(e,t){switch(rt(lc,t),rt(oc,e),rt(ar,Fc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Wm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Wm(t,e)}ct(ar),rt(ar,t)}function To(){ct(ar),ct(oc),ct(lc)}function F_(e){Zi(lc.current);var t=Zi(ar.current),n=Wm(t,e.type);t!==n&&(rt(oc,e),rt(ar,n))}function ux(e){oc.current===e&&(ct(ar),ct(oc))}var ht=Ti(0);function Td(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Mh=[];function dx(){for(var e=0;e<Mh.length;e++)Mh[e]._workInProgressVersionPrimary=null;Mh.length=0}var Gu=Mr.ReactCurrentDispatcher,Ih=Mr.ReactCurrentBatchConfig,ma=0,pt=null,Lt=null,Ht=null,kd=!1,Dl=!1,cc=0,yR=0;function ln(){throw Error(Z(321))}function fx(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Us(e[n],t[n]))return!1;return!0}function hx(e,t,n,s,i,a){if(ma=a,pt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Gu.current=e===null||e.memoizedState===null?_R:SR,e=n(s,i),Dl){a=0;do{if(Dl=!1,cc=0,25<=a)throw Error(Z(301));a+=1,Ht=Lt=null,t.updateQueue=null,Gu.current=NR,e=n(s,i)}while(Dl)}if(Gu.current=Pd,t=Lt!==null&&Lt.next!==null,ma=0,Ht=Lt=pt=null,kd=!1,t)throw Error(Z(300));return e}function mx(){var e=cc!==0;return cc=0,e}function Qs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?pt.memoizedState=Ht=e:Ht=Ht.next=e,Ht}function _s(){if(Lt===null){var e=pt.alternate;e=e!==null?e.memoizedState:null}else e=Lt.next;var t=Ht===null?pt.memoizedState:Ht.next;if(t!==null)Ht=t,Lt=e;else{if(e===null)throw Error(Z(310));Lt=e,e={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Ht===null?pt.memoizedState=Ht=e:Ht=Ht.next=e}return Ht}function uc(e,t){return typeof t=="function"?t(e):t}function Lh(e){var t=_s(),n=t.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=e;var s=Lt,i=s.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}s.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,s=s.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((ma&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=s):c=c.next=f,pt.lanes|=d,pa|=d}u=u.next}while(u!==null&&u!==a);c===null?o=s:c.next=l,Us(s,t.memoizedState)||(Bn=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){i=e;do a=i.lane,pt.lanes|=a,pa|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Oh(e){var t=_s(),n=t.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=e;var s=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);Us(a,t.memoizedState)||(Bn=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,s]}function U_(){}function B_(e,t){var n=pt,s=_s(),i=t(),a=!Us(s.memoizedState,i);if(a&&(s.memoizedState=i,Bn=!0),s=s.queue,px(W_.bind(null,n,s,e),[e]),s.getSnapshot!==t||a||Ht!==null&&Ht.memoizedState.tag&1){if(n.flags|=2048,dc(9,z_.bind(null,n,s,i,t),void 0,null),Gt===null)throw Error(Z(349));ma&30||V_(n,t,i)}return i}function V_(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=pt.updateQueue,t===null?(t={lastEffect:null,stores:null},pt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function z_(e,t,n,s){t.value=n,t.getSnapshot=s,H_(t)&&q_(e)}function W_(e,t,n){return n(function(){H_(t)&&q_(e)})}function H_(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Us(e,n)}catch{return!0}}function q_(e){var t=Tr(e,1);t!==null&&Fs(t,e,1,-1)}function Xy(e){var t=Qs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uc,lastRenderedState:e},t.queue=e,e=e.dispatch=bR.bind(null,pt,e),[t.memoizedState,e]}function dc(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=pt.updateQueue,t===null?(t={lastEffect:null,stores:null},pt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function K_(){return _s().memoizedState}function Yu(e,t,n,s){var i=Qs();pt.flags|=e,i.memoizedState=dc(1|t,n,void 0,s===void 0?null:s)}function pf(e,t,n,s){var i=_s();s=s===void 0?null:s;var a=void 0;if(Lt!==null){var o=Lt.memoizedState;if(a=o.destroy,s!==null&&fx(s,o.deps)){i.memoizedState=dc(t,n,a,s);return}}pt.flags|=e,i.memoizedState=dc(1|t,n,a,s)}function Jy(e,t){return Yu(8390656,8,e,t)}function px(e,t){return pf(2048,8,e,t)}function G_(e,t){return pf(4,2,e,t)}function Y_(e,t){return pf(4,4,e,t)}function Q_(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function X_(e,t,n){return n=n!=null?n.concat([e]):null,pf(4,4,Q_.bind(null,t,e),n)}function gx(){}function J_(e,t){var n=_s();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&fx(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function Z_(e,t){var n=_s();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&fx(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function eS(e,t,n){return ma&21?(Us(n,t)||(n=i_(),pt.lanes|=n,pa|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Bn=!0),e.memoizedState=n)}function wR(e,t){var n=Xe;Xe=n!==0&&4>n?n:4,e(!0);var s=Ih.transition;Ih.transition={};try{e(!1),t()}finally{Xe=n,Ih.transition=s}}function tS(){return _s().memoizedState}function jR(e,t,n){var s=pi(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},nS(e))sS(t,n);else if(n=L_(e,t,n,s),n!==null){var i=kn();Fs(n,e,s,i),rS(n,t,s)}}function bR(e,t,n){var s=pi(e),i={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(nS(e))sS(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,n);if(i.hasEagerState=!0,i.eagerState=l,Us(l,o)){var c=t.interleaved;c===null?(i.next=i,ox(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=L_(e,t,i,s),n!==null&&(i=kn(),Fs(n,e,s,i),rS(n,t,s))}}function nS(e){var t=e.alternate;return e===pt||t!==null&&t===pt}function sS(e,t){Dl=kd=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function rS(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Kg(e,n)}}var Pd={readContext:bs,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useInsertionEffect:ln,useLayoutEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useMutableSource:ln,useSyncExternalStore:ln,useId:ln,unstable_isNewReconciler:!1},_R={readContext:bs,useCallback:function(e,t){return Qs().memoizedState=[e,t===void 0?null:t],e},useContext:bs,useEffect:Jy,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Yu(4194308,4,Q_.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Yu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Yu(4,2,e,t)},useMemo:function(e,t){var n=Qs();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=Qs();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=jR.bind(null,pt,e),[s.memoizedState,e]},useRef:function(e){var t=Qs();return e={current:e},t.memoizedState=e},useState:Xy,useDebugValue:gx,useDeferredValue:function(e){return Qs().memoizedState=e},useTransition:function(){var e=Xy(!1),t=e[0];return e=wR.bind(null,e[1]),Qs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=pt,i=Qs();if(dt){if(n===void 0)throw Error(Z(407));n=n()}else{if(n=t(),Gt===null)throw Error(Z(349));ma&30||V_(s,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Jy(W_.bind(null,s,a,e),[e]),s.flags|=2048,dc(9,z_.bind(null,s,a,n,t),void 0,null),n},useId:function(){var e=Qs(),t=Gt.identifierPrefix;if(dt){var n=_r,s=br;n=(s&~(1<<32-Os(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=cc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=yR++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},SR={readContext:bs,useCallback:J_,useContext:bs,useEffect:px,useImperativeHandle:X_,useInsertionEffect:G_,useLayoutEffect:Y_,useMemo:Z_,useReducer:Lh,useRef:K_,useState:function(){return Lh(uc)},useDebugValue:gx,useDeferredValue:function(e){var t=_s();return eS(t,Lt.memoizedState,e)},useTransition:function(){var e=Lh(uc)[0],t=_s().memoizedState;return[e,t]},useMutableSource:U_,useSyncExternalStore:B_,useId:tS,unstable_isNewReconciler:!1},NR={readContext:bs,useCallback:J_,useContext:bs,useEffect:px,useImperativeHandle:X_,useInsertionEffect:G_,useLayoutEffect:Y_,useMemo:Z_,useReducer:Oh,useRef:K_,useState:function(){return Oh(uc)},useDebugValue:gx,useDeferredValue:function(e){var t=_s();return Lt===null?t.memoizedState=e:eS(t,Lt.memoizedState,e)},useTransition:function(){var e=Oh(uc)[0],t=_s().memoizedState;return[e,t]},useMutableSource:U_,useSyncExternalStore:B_,useId:tS,unstable_isNewReconciler:!1};function Ps(e,t){if(e&&e.defaultProps){t=gt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function dp(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:gt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var gf={isMounted:function(e){return(e=e._reactInternals)?ba(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=kn(),i=pi(e),a=Sr(s,i);a.payload=t,n!=null&&(a.callback=n),t=hi(e,a,i),t!==null&&(Fs(t,e,i,s),Ku(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=kn(),i=pi(e),a=Sr(s,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=hi(e,a,i),t!==null&&(Fs(t,e,i,s),Ku(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=kn(),s=pi(e),i=Sr(n,s);i.tag=2,t!=null&&(i.callback=t),t=hi(e,i,s),t!==null&&(Fs(t,e,s,n),Ku(t,e,s))}};function Zy(e,t,n,s,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,a,o):t.prototype&&t.prototype.isPureReactComponent?!sc(n,s)||!sc(i,a):!0}function iS(e,t,n){var s=!1,i=wi,a=t.contextType;return typeof a=="object"&&a!==null?a=bs(a):(i=Wn(t)?fa:vn.current,s=t.contextTypes,a=(s=s!=null)?No(e,i):wi),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=gf,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ew(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&gf.enqueueReplaceState(t,t.state,null)}function fp(e,t,n,s){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},lx(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=bs(a):(a=Wn(t)?fa:vn.current,i.context=No(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(dp(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&gf.enqueueReplaceState(i,i.state,null),Cd(e,n,i,s),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ko(e,t){try{var n="",s=t;do n+=ZP(s),s=s.return;while(s);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Fh(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function hp(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ER=typeof WeakMap=="function"?WeakMap:Map;function aS(e,t,n){n=Sr(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){Ad||(Ad=!0,_p=s),hp(e,t)},n}function oS(e,t,n){n=Sr(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var i=t.value;n.payload=function(){return s(i)},n.callback=function(){hp(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){hp(e,t),typeof s!="function"&&(mi===null?mi=new Set([this]):mi.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function tw(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new ER;var i=new Set;s.set(t,i)}else i=s.get(t),i===void 0&&(i=new Set,s.set(t,i));i.has(n)||(i.add(n),e=UR.bind(null,e,t,n),t.then(e,e))}function nw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function sw(e,t,n,s,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Sr(-1,1),t.tag=2,hi(n,t,1))),n.lanes|=1),e)}var CR=Mr.ReactCurrentOwner,Bn=!1;function Nn(e,t,n,s){t.child=e===null?I_(t,null,n,s):Co(t,e.child,n,s)}function rw(e,t,n,s,i){n=n.render;var a=t.ref;return lo(t,i),s=hx(e,t,n,s,a,i),n=mx(),e!==null&&!Bn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,kr(e,t,i)):(dt&&n&&tx(t),t.flags|=1,Nn(e,t,s,i),t.child)}function iw(e,t,n,s,i){if(e===null){var a=n.type;return typeof a=="function"&&!Sx(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,lS(e,t,a,s,i)):(e=Zu(n.type,null,s,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:sc,n(o,s)&&e.ref===t.ref)return kr(e,t,i)}return t.flags|=1,e=gi(a,s),e.ref=t.ref,e.return=t,t.child=e}function lS(e,t,n,s,i){if(e!==null){var a=e.memoizedProps;if(sc(a,s)&&e.ref===t.ref)if(Bn=!1,t.pendingProps=s=a,(e.lanes&i)!==0)e.flags&131072&&(Bn=!0);else return t.lanes=e.lanes,kr(e,t,i)}return mp(e,t,n,s,i)}function cS(e,t,n){var s=t.pendingProps,i=s.children,a=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(Ja,qn),qn|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,rt(Ja,qn),qn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:n,rt(Ja,qn),qn|=s}else a!==null?(s=a.baseLanes|n,t.memoizedState=null):s=n,rt(Ja,qn),qn|=s;return Nn(e,t,i,n),t.child}function uS(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function mp(e,t,n,s,i){var a=Wn(n)?fa:vn.current;return a=No(t,a),lo(t,i),n=hx(e,t,n,s,a,i),s=mx(),e!==null&&!Bn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,kr(e,t,i)):(dt&&s&&tx(t),t.flags|=1,Nn(e,t,n,i),t.child)}function aw(e,t,n,s,i){if(Wn(n)){var a=!0;bd(t)}else a=!1;if(lo(t,i),t.stateNode===null)Qu(e,t),iS(t,n,s),fp(t,n,s,i),s=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=bs(u):(u=Wn(n)?fa:vn.current,u=No(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==u)&&ew(t,o,s,u),Gr=!1;var m=t.memoizedState;o.state=m,Cd(t,s,o,i),c=t.memoizedState,l!==s||m!==c||zn.current||Gr?(typeof d=="function"&&(dp(t,n,d,s),c=t.memoizedState),(l=Gr||Zy(t,n,l,s,m,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=u,s=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,O_(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Ps(t.type,l),o.props=u,f=t.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=bs(c):(c=Wn(n)?fa:vn.current,c=No(t,c));var x=n.getDerivedStateFromProps;(d=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==c)&&ew(t,o,s,c),Gr=!1,m=t.memoizedState,o.state=m,Cd(t,s,o,i);var j=t.memoizedState;l!==f||m!==j||zn.current||Gr?(typeof x=="function"&&(dp(t,n,x,s),j=t.memoizedState),(u=Gr||Zy(t,n,u,s,m,j,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,j,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,j,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=j),o.props=s,o.state=j,o.context=c,s=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),s=!1)}return pp(e,t,n,s,a,i)}function pp(e,t,n,s,i,a){uS(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return i&&Hy(t,n,!1),kr(e,t,a);s=t.stateNode,CR.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=Co(t,e.child,null,a),t.child=Co(t,null,l,a)):Nn(e,t,l,a),t.memoizedState=s.state,i&&Hy(t,n,!0),t.child}function dS(e){var t=e.stateNode;t.pendingContext?Wy(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Wy(e,t.context,!1),cx(e,t.containerInfo)}function ow(e,t,n,s,i){return Eo(),sx(i),t.flags|=256,Nn(e,t,n,s),t.child}var gp={dehydrated:null,treeContext:null,retryLane:0};function xp(e){return{baseLanes:e,cachePool:null,transitions:null}}function fS(e,t,n){var s=t.pendingProps,i=ht.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),rt(ht,i&1),e===null)return cp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,a?(s=t.mode,a=t.child,o={mode:"hidden",children:o},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=yf(o,s,0,null),e=ca(e,s,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=xp(n),t.memoizedState=gp,e):xx(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return TR(e,t,o,s,l,i,n);if(a){a=s.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==i?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=gi(i,c),s.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=gi(l,a):(a=ca(a,o,n,null),a.flags|=2),a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,o=e.child.memoizedState,o=o===null?xp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=gp,s}return a=e.child,e=a.sibling,s=gi(a,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function xx(e,t){return t=yf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ju(e,t,n,s){return s!==null&&sx(s),Co(t,e.child,null,n),e=xx(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function TR(e,t,n,s,i,a,o){if(n)return t.flags&256?(t.flags&=-257,s=Fh(Error(Z(422))),ju(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=s.fallback,i=t.mode,s=yf({mode:"visible",children:s.children},i,0,null),a=ca(a,i,o,null),a.flags|=2,s.return=t,a.return=t,s.sibling=a,t.child=s,t.mode&1&&Co(t,e.child,null,o),t.child.memoizedState=xp(o),t.memoizedState=gp,a);if(!(t.mode&1))return ju(e,t,o,null);if(i.data==="$!"){if(s=i.nextSibling&&i.nextSibling.dataset,s)var l=s.dgst;return s=l,a=Error(Z(419)),s=Fh(a,s,void 0),ju(e,t,o,s)}if(l=(o&e.childLanes)!==0,Bn||l){if(s=Gt,s!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(s.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Tr(e,i),Fs(s,e,i,-1))}return _x(),s=Fh(Error(Z(421))),ju(e,t,o,s)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=BR.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Gn=fi(i.nextSibling),Yn=t,dt=!0,Is=null,e!==null&&(ps[gs++]=br,ps[gs++]=_r,ps[gs++]=ha,br=e.id,_r=e.overflow,ha=t),t=xx(t,s.children),t.flags|=4096,t)}function lw(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),up(e.return,t,n)}function Uh(e,t,n,s,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=i)}function hS(e,t,n){var s=t.pendingProps,i=s.revealOrder,a=s.tail;if(Nn(e,t,s.children,n),s=ht.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&lw(e,n,t);else if(e.tag===19)lw(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(rt(ht,s),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Td(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Uh(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Td(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Uh(t,!0,n,null,a);break;case"together":Uh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function kr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),pa|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Z(153));if(t.child!==null){for(e=t.child,n=gi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=gi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function kR(e,t,n){switch(t.tag){case 3:dS(t),Eo();break;case 5:F_(t);break;case 1:Wn(t.type)&&bd(t);break;case 4:cx(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,i=t.memoizedProps.value;rt(Nd,s._currentValue),s._currentValue=i;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(rt(ht,ht.current&1),t.flags|=128,null):n&t.child.childLanes?fS(e,t,n):(rt(ht,ht.current&1),e=kr(e,t,n),e!==null?e.sibling:null);rt(ht,ht.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return hS(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),rt(ht,ht.current),s)break;return null;case 22:case 23:return t.lanes=0,cS(e,t,n)}return kr(e,t,n)}var mS,vp,pS,gS;mS=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};vp=function(){};pS=function(e,t,n,s){var i=e.memoizedProps;if(i!==s){e=t.stateNode,Zi(ar.current);var a=null;switch(n){case"input":i=Um(e,i),s=Um(e,s),a=[];break;case"select":i=gt({},i,{value:void 0}),s=gt({},s,{value:void 0}),a=[];break;case"textarea":i=zm(e,i),s=zm(e,s),a=[];break;default:typeof i.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=wd)}Hm(n,s);var o;n=null;for(u in i)if(!s.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ql.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in s){var c=s[u];if(l=i!=null?i[u]:void 0,s.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ql.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&lt("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};gS=function(e,t,n,s){n!==s&&(t.flags|=4)};function hl(e,t){if(!dt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function cn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags&14680064,s|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function PR(e,t,n){var s=t.pendingProps;switch(nx(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cn(t),null;case 1:return Wn(t.type)&&jd(),cn(t),null;case 3:return s=t.stateNode,To(),ct(zn),ct(vn),dx(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(yu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Is!==null&&(Ep(Is),Is=null))),vp(e,t),cn(t),null;case 5:ux(t);var i=Zi(lc.current);if(n=t.type,e!==null&&t.stateNode!=null)pS(e,t,n,s,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(Z(166));return cn(t),null}if(e=Zi(ar.current),yu(t)){s=t.stateNode,n=t.type;var a=t.memoizedProps;switch(s[nr]=t,s[ac]=a,e=(t.mode&1)!==0,n){case"dialog":lt("cancel",s),lt("close",s);break;case"iframe":case"object":case"embed":lt("load",s);break;case"video":case"audio":for(i=0;i<_l.length;i++)lt(_l[i],s);break;case"source":lt("error",s);break;case"img":case"image":case"link":lt("error",s),lt("load",s);break;case"details":lt("toggle",s);break;case"input":xy(s,a),lt("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},lt("invalid",s);break;case"textarea":yy(s,a),lt("invalid",s)}Hm(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?s.textContent!==l&&(a.suppressHydrationWarning!==!0&&vu(s.textContent,l,e),i=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&vu(s.textContent,l,e),i=["children",""+l]):Ql.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&lt("scroll",s)}switch(n){case"input":uu(s),vy(s,a,!0);break;case"textarea":uu(s),wy(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=wd)}s=i,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Wb(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(n,{is:s.is}):(e=o.createElement(n),n==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,n),e[nr]=t,e[ac]=s,mS(e,t,!1,!1),t.stateNode=e;e:{switch(o=qm(n,s),n){case"dialog":lt("cancel",e),lt("close",e),i=s;break;case"iframe":case"object":case"embed":lt("load",e),i=s;break;case"video":case"audio":for(i=0;i<_l.length;i++)lt(_l[i],e);i=s;break;case"source":lt("error",e),i=s;break;case"img":case"image":case"link":lt("error",e),lt("load",e),i=s;break;case"details":lt("toggle",e),i=s;break;case"input":xy(e,s),i=Um(e,s),lt("invalid",e);break;case"option":i=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},i=gt({},s,{value:void 0}),lt("invalid",e);break;case"textarea":yy(e,s),i=zm(e,s),lt("invalid",e);break;default:i=s}Hm(n,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?Kb(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Hb(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Xl(e,c):typeof c=="number"&&Xl(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ql.hasOwnProperty(a)?c!=null&&a==="onScroll"&&lt("scroll",e):c!=null&&Bg(e,a,c,o))}switch(n){case"input":uu(e),vy(e,s,!1);break;case"textarea":uu(e),wy(e);break;case"option":s.value!=null&&e.setAttribute("value",""+yi(s.value));break;case"select":e.multiple=!!s.multiple,a=s.value,a!=null?ro(e,!!s.multiple,a,!1):s.defaultValue!=null&&ro(e,!!s.multiple,s.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=wd)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return cn(t),null;case 6:if(e&&t.stateNode!=null)gS(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(Z(166));if(n=Zi(lc.current),Zi(ar.current),yu(t)){if(s=t.stateNode,n=t.memoizedProps,s[nr]=t,(a=s.nodeValue!==n)&&(e=Yn,e!==null))switch(e.tag){case 3:vu(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&vu(s.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[nr]=t,t.stateNode=s}return cn(t),null;case 13:if(ct(ht),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(dt&&Gn!==null&&t.mode&1&&!(t.flags&128))$_(),Eo(),t.flags|=98560,a=!1;else if(a=yu(t),s!==null&&s.dehydrated!==null){if(e===null){if(!a)throw Error(Z(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Z(317));a[nr]=t}else Eo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;cn(t),a=!1}else Is!==null&&(Ep(Is),Is=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||ht.current&1?Ft===0&&(Ft=3):_x())),t.updateQueue!==null&&(t.flags|=4),cn(t),null);case 4:return To(),vp(e,t),e===null&&rc(t.stateNode.containerInfo),cn(t),null;case 10:return ax(t.type._context),cn(t),null;case 17:return Wn(t.type)&&jd(),cn(t),null;case 19:if(ct(ht),a=t.memoizedState,a===null)return cn(t),null;if(s=(t.flags&128)!==0,o=a.rendering,o===null)if(s)hl(a,!1);else{if(Ft!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Td(e),o!==null){for(t.flags|=128,hl(a,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)a=n,e=s,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return rt(ht,ht.current&1|2),t.child}e=e.sibling}a.tail!==null&&St()>Po&&(t.flags|=128,s=!0,hl(a,!1),t.lanes=4194304)}else{if(!s)if(e=Td(o),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),hl(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!dt)return cn(t),null}else 2*St()-a.renderingStartTime>Po&&n!==1073741824&&(t.flags|=128,s=!0,hl(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=St(),t.sibling=null,n=ht.current,rt(ht,s?n&1|2:n&1),t):(cn(t),null);case 22:case 23:return bx(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?qn&1073741824&&(cn(t),t.subtreeFlags&6&&(t.flags|=8192)):cn(t),null;case 24:return null;case 25:return null}throw Error(Z(156,t.tag))}function RR(e,t){switch(nx(t),t.tag){case 1:return Wn(t.type)&&jd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return To(),ct(zn),ct(vn),dx(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ux(t),null;case 13:if(ct(ht),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Z(340));Eo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ct(ht),null;case 4:return To(),null;case 10:return ax(t.type._context),null;case 22:case 23:return bx(),null;case 24:return null;default:return null}}var bu=!1,hn=!1,AR=typeof WeakSet=="function"?WeakSet:Set,de=null;function Xa(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){jt(e,t,s)}else n.current=null}function yp(e,t,n){try{n()}catch(s){jt(e,t,s)}}var cw=!1;function DR(e,t){if(np=xd,e=j_(),ex(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var i=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,m=null;t:for(;;){for(var x;f!==n||i!==0&&f.nodeType!==3||(l=o+i),f!==a||s!==0&&f.nodeType!==3||(c=o+s),f.nodeType===3&&(o+=f.nodeValue.length),(x=f.firstChild)!==null;)m=f,f=x;for(;;){if(f===e)break t;if(m===n&&++u===i&&(l=o),m===a&&++d===s&&(c=o),(x=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=x}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(sp={focusedElem:e,selectionRange:n},xd=!1,de=t;de!==null;)if(t=de,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,de=e;else for(;de!==null;){t=de;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var v=j.memoizedProps,y=j.memoizedState,g=t.stateNode,p=g.getSnapshotBeforeUpdate(t.elementType===t.type?v:Ps(t.type,v),y);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(b){jt(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,de=e;break}de=t.return}return j=cw,cw=!1,j}function $l(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&yp(t,n,a)}i=i.next}while(i!==s)}}function xf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function wp(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function xS(e){var t=e.alternate;t!==null&&(e.alternate=null,xS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[nr],delete t[ac],delete t[ap],delete t[pR],delete t[gR])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function vS(e){return e.tag===5||e.tag===3||e.tag===4}function uw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||vS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function jp(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=wd));else if(s!==4&&(e=e.child,e!==null))for(jp(e,t,n),e=e.sibling;e!==null;)jp(e,t,n),e=e.sibling}function bp(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(bp(e,t,n),e=e.sibling;e!==null;)bp(e,t,n),e=e.sibling}var tn=null,$s=!1;function Fr(e,t,n){for(n=n.child;n!==null;)yS(e,t,n),n=n.sibling}function yS(e,t,n){if(ir&&typeof ir.onCommitFiberUnmount=="function")try{ir.onCommitFiberUnmount(cf,n)}catch{}switch(n.tag){case 5:hn||Xa(n,t);case 6:var s=tn,i=$s;tn=null,Fr(e,t,n),tn=s,$s=i,tn!==null&&($s?(e=tn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):tn.removeChild(n.stateNode));break;case 18:tn!==null&&($s?(e=tn,n=n.stateNode,e.nodeType===8?Dh(e.parentNode,n):e.nodeType===1&&Dh(e,n),tc(e)):Dh(tn,n.stateNode));break;case 4:s=tn,i=$s,tn=n.stateNode.containerInfo,$s=!0,Fr(e,t,n),tn=s,$s=i;break;case 0:case 11:case 14:case 15:if(!hn&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){i=s=s.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&yp(n,t,o),i=i.next}while(i!==s)}Fr(e,t,n);break;case 1:if(!hn&&(Xa(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(l){jt(n,t,l)}Fr(e,t,n);break;case 21:Fr(e,t,n);break;case 22:n.mode&1?(hn=(s=hn)||n.memoizedState!==null,Fr(e,t,n),hn=s):Fr(e,t,n);break;default:Fr(e,t,n)}}function dw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new AR),t.forEach(function(s){var i=VR.bind(null,e,s);n.has(s)||(n.add(s),s.then(i,i))})}}function Es(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var i=n[s];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:tn=l.stateNode,$s=!1;break e;case 3:tn=l.stateNode.containerInfo,$s=!0;break e;case 4:tn=l.stateNode.containerInfo,$s=!0;break e}l=l.return}if(tn===null)throw Error(Z(160));yS(a,o,i),tn=null,$s=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){jt(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)wS(t,e),t=t.sibling}function wS(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Es(t,e),Ys(e),s&4){try{$l(3,e,e.return),xf(3,e)}catch(v){jt(e,e.return,v)}try{$l(5,e,e.return)}catch(v){jt(e,e.return,v)}}break;case 1:Es(t,e),Ys(e),s&512&&n!==null&&Xa(n,n.return);break;case 5:if(Es(t,e),Ys(e),s&512&&n!==null&&Xa(n,n.return),e.flags&32){var i=e.stateNode;try{Xl(i,"")}catch(v){jt(e,e.return,v)}}if(s&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&Vb(i,a),qm(l,o);var u=qm(l,a);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?Kb(i,f):d==="dangerouslySetInnerHTML"?Hb(i,f):d==="children"?Xl(i,f):Bg(i,d,f,u)}switch(l){case"input":Bm(i,a);break;case"textarea":zb(i,a);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var x=a.value;x!=null?ro(i,!!a.multiple,x,!1):m!==!!a.multiple&&(a.defaultValue!=null?ro(i,!!a.multiple,a.defaultValue,!0):ro(i,!!a.multiple,a.multiple?[]:"",!1))}i[ac]=a}catch(v){jt(e,e.return,v)}}break;case 6:if(Es(t,e),Ys(e),s&4){if(e.stateNode===null)throw Error(Z(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(v){jt(e,e.return,v)}}break;case 3:if(Es(t,e),Ys(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{tc(t.containerInfo)}catch(v){jt(e,e.return,v)}break;case 4:Es(t,e),Ys(e);break;case 13:Es(t,e),Ys(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(wx=St())),s&4&&dw(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(hn=(u=hn)||d,Es(t,e),hn=u):Es(t,e),Ys(e),s&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(de=e,d=e.child;d!==null;){for(f=de=d;de!==null;){switch(m=de,x=m.child,m.tag){case 0:case 11:case 14:case 15:$l(4,m,m.return);break;case 1:Xa(m,m.return);var j=m.stateNode;if(typeof j.componentWillUnmount=="function"){s=m,n=m.return;try{t=s,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(v){jt(s,n,v)}}break;case 5:Xa(m,m.return);break;case 22:if(m.memoizedState!==null){hw(f);continue}}x!==null?(x.return=m,de=x):hw(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=qb("display",o))}catch(v){jt(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){jt(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Es(t,e),Ys(e),s&4&&dw(e);break;case 21:break;default:Es(t,e),Ys(e)}}function Ys(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(vS(n)){var s=n;break e}n=n.return}throw Error(Z(160))}switch(s.tag){case 5:var i=s.stateNode;s.flags&32&&(Xl(i,""),s.flags&=-33);var a=uw(e);bp(e,a,i);break;case 3:case 4:var o=s.stateNode.containerInfo,l=uw(e);jp(e,l,o);break;default:throw Error(Z(161))}}catch(c){jt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $R(e,t,n){de=e,jS(e)}function jS(e,t,n){for(var s=(e.mode&1)!==0;de!==null;){var i=de,a=i.child;if(i.tag===22&&s){var o=i.memoizedState!==null||bu;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||hn;l=bu;var u=hn;if(bu=o,(hn=c)&&!u)for(de=i;de!==null;)o=de,c=o.child,o.tag===22&&o.memoizedState!==null?mw(i):c!==null?(c.return=o,de=c):mw(i);for(;a!==null;)de=a,jS(a),a=a.sibling;de=i,bu=l,hn=u}fw(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,de=a):fw(e)}}function fw(e){for(;de!==null;){var t=de;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:hn||xf(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!hn)if(n===null)s.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ps(t.type,n.memoizedProps);s.componentDidUpdate(i,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Qy(t,a,s);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Qy(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&tc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}hn||t.flags&512&&wp(t)}catch(m){jt(t,t.return,m)}}if(t===e){de=null;break}if(n=t.sibling,n!==null){n.return=t.return,de=n;break}de=t.return}}function hw(e){for(;de!==null;){var t=de;if(t===e){de=null;break}var n=t.sibling;if(n!==null){n.return=t.return,de=n;break}de=t.return}}function mw(e){for(;de!==null;){var t=de;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{xf(4,t)}catch(c){jt(t,n,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var i=t.return;try{s.componentDidMount()}catch(c){jt(t,i,c)}}var a=t.return;try{wp(t)}catch(c){jt(t,a,c)}break;case 5:var o=t.return;try{wp(t)}catch(c){jt(t,o,c)}}}catch(c){jt(t,t.return,c)}if(t===e){de=null;break}var l=t.sibling;if(l!==null){l.return=t.return,de=l;break}de=t.return}}var MR=Math.ceil,Rd=Mr.ReactCurrentDispatcher,vx=Mr.ReactCurrentOwner,ys=Mr.ReactCurrentBatchConfig,Fe=0,Gt=null,Rt=null,sn=0,qn=0,Ja=Ti(0),Ft=0,fc=null,pa=0,vf=0,yx=0,Ml=null,Fn=null,wx=0,Po=1/0,xr=null,Ad=!1,_p=null,mi=null,_u=!1,ai=null,Dd=0,Il=0,Sp=null,Xu=-1,Ju=0;function kn(){return Fe&6?St():Xu!==-1?Xu:Xu=St()}function pi(e){return e.mode&1?Fe&2&&sn!==0?sn&-sn:vR.transition!==null?(Ju===0&&(Ju=i_()),Ju):(e=Xe,e!==0||(e=window.event,e=e===void 0?16:f_(e.type)),e):1}function Fs(e,t,n,s){if(50<Il)throw Il=0,Sp=null,Error(Z(185));Ic(e,n,s),(!(Fe&2)||e!==Gt)&&(e===Gt&&(!(Fe&2)&&(vf|=n),Ft===4&&Jr(e,sn)),Hn(e,s),n===1&&Fe===0&&!(t.mode&1)&&(Po=St()+500,mf&&ki()))}function Hn(e,t){var n=e.callbackNode;v2(e,t);var s=gd(e,e===Gt?sn:0);if(s===0)n!==null&&_y(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&_y(n),t===1)e.tag===0?xR(pw.bind(null,e)):R_(pw.bind(null,e)),hR(function(){!(Fe&6)&&ki()}),n=null;else{switch(a_(s)){case 1:n=qg;break;case 4:n=s_;break;case 16:n=pd;break;case 536870912:n=r_;break;default:n=pd}n=kS(n,bS.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function bS(e,t){if(Xu=-1,Ju=0,Fe&6)throw Error(Z(327));var n=e.callbackNode;if(co()&&e.callbackNode!==n)return null;var s=gd(e,e===Gt?sn:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=$d(e,s);else{t=s;var i=Fe;Fe|=2;var a=SS();(Gt!==e||sn!==t)&&(xr=null,Po=St()+500,la(e,t));do try{OR();break}catch(l){_S(e,l)}while(!0);ix(),Rd.current=a,Fe=i,Rt!==null?t=0:(Gt=null,sn=0,t=Ft)}if(t!==0){if(t===2&&(i=Xm(e),i!==0&&(s=i,t=Np(e,i))),t===1)throw n=fc,la(e,0),Jr(e,s),Hn(e,St()),n;if(t===6)Jr(e,s);else{if(i=e.current.alternate,!(s&30)&&!IR(i)&&(t=$d(e,s),t===2&&(a=Xm(e),a!==0&&(s=a,t=Np(e,a))),t===1))throw n=fc,la(e,0),Jr(e,s),Hn(e,St()),n;switch(e.finishedWork=i,e.finishedLanes=s,t){case 0:case 1:throw Error(Z(345));case 2:Ki(e,Fn,xr);break;case 3:if(Jr(e,s),(s&130023424)===s&&(t=wx+500-St(),10<t)){if(gd(e,0)!==0)break;if(i=e.suspendedLanes,(i&s)!==s){kn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ip(Ki.bind(null,e,Fn,xr),t);break}Ki(e,Fn,xr);break;case 4:if(Jr(e,s),(s&4194240)===s)break;for(t=e.eventTimes,i=-1;0<s;){var o=31-Os(s);a=1<<o,o=t[o],o>i&&(i=o),s&=~a}if(s=i,s=St()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*MR(s/1960))-s,10<s){e.timeoutHandle=ip(Ki.bind(null,e,Fn,xr),s);break}Ki(e,Fn,xr);break;case 5:Ki(e,Fn,xr);break;default:throw Error(Z(329))}}}return Hn(e,St()),e.callbackNode===n?bS.bind(null,e):null}function Np(e,t){var n=Ml;return e.current.memoizedState.isDehydrated&&(la(e,t).flags|=256),e=$d(e,t),e!==2&&(t=Fn,Fn=n,t!==null&&Ep(t)),e}function Ep(e){Fn===null?Fn=e:Fn.push.apply(Fn,e)}function IR(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var i=n[s],a=i.getSnapshot;i=i.value;try{if(!Us(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Jr(e,t){for(t&=~yx,t&=~vf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Os(t),s=1<<n;e[n]=-1,t&=~s}}function pw(e){if(Fe&6)throw Error(Z(327));co();var t=gd(e,0);if(!(t&1))return Hn(e,St()),null;var n=$d(e,t);if(e.tag!==0&&n===2){var s=Xm(e);s!==0&&(t=s,n=Np(e,s))}if(n===1)throw n=fc,la(e,0),Jr(e,t),Hn(e,St()),n;if(n===6)throw Error(Z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ki(e,Fn,xr),Hn(e,St()),null}function jx(e,t){var n=Fe;Fe|=1;try{return e(t)}finally{Fe=n,Fe===0&&(Po=St()+500,mf&&ki())}}function ga(e){ai!==null&&ai.tag===0&&!(Fe&6)&&co();var t=Fe;Fe|=1;var n=ys.transition,s=Xe;try{if(ys.transition=null,Xe=1,e)return e()}finally{Xe=s,ys.transition=n,Fe=t,!(Fe&6)&&ki()}}function bx(){qn=Ja.current,ct(Ja)}function la(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,fR(n)),Rt!==null)for(n=Rt.return;n!==null;){var s=n;switch(nx(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&jd();break;case 3:To(),ct(zn),ct(vn),dx();break;case 5:ux(s);break;case 4:To();break;case 13:ct(ht);break;case 19:ct(ht);break;case 10:ax(s.type._context);break;case 22:case 23:bx()}n=n.return}if(Gt=e,Rt=e=gi(e.current,null),sn=qn=t,Ft=0,fc=null,yx=vf=pa=0,Fn=Ml=null,Ji!==null){for(t=0;t<Ji.length;t++)if(n=Ji[t],s=n.interleaved,s!==null){n.interleaved=null;var i=s.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,s.next=o}n.pending=s}Ji=null}return e}function _S(e,t){do{var n=Rt;try{if(ix(),Gu.current=Pd,kd){for(var s=pt.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}kd=!1}if(ma=0,Ht=Lt=pt=null,Dl=!1,cc=0,vx.current=null,n===null||n.return===null){Ft=1,fc=t,Rt=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=sn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var x=nw(o);if(x!==null){x.flags&=-257,sw(x,o,l,a,t),x.mode&1&&tw(a,u,t),t=x,c=u;var j=t.updateQueue;if(j===null){var v=new Set;v.add(c),t.updateQueue=v}else j.add(c);break e}else{if(!(t&1)){tw(a,u,t),_x();break e}c=Error(Z(426))}}else if(dt&&l.mode&1){var y=nw(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),sw(y,o,l,a,t),sx(ko(c,l));break e}}a=c=ko(c,l),Ft!==4&&(Ft=2),Ml===null?Ml=[a]:Ml.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var g=aS(a,c,t);Yy(a,g);break e;case 1:l=c;var p=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof p.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(mi===null||!mi.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var b=oS(a,l,t);Yy(a,b);break e}}a=a.return}while(a!==null)}ES(n)}catch(S){t=S,Rt===n&&n!==null&&(Rt=n=n.return);continue}break}while(!0)}function SS(){var e=Rd.current;return Rd.current=Pd,e===null?Pd:e}function _x(){(Ft===0||Ft===3||Ft===2)&&(Ft=4),Gt===null||!(pa&268435455)&&!(vf&268435455)||Jr(Gt,sn)}function $d(e,t){var n=Fe;Fe|=2;var s=SS();(Gt!==e||sn!==t)&&(xr=null,la(e,t));do try{LR();break}catch(i){_S(e,i)}while(!0);if(ix(),Fe=n,Rd.current=s,Rt!==null)throw Error(Z(261));return Gt=null,sn=0,Ft}function LR(){for(;Rt!==null;)NS(Rt)}function OR(){for(;Rt!==null&&!c2();)NS(Rt)}function NS(e){var t=TS(e.alternate,e,qn);e.memoizedProps=e.pendingProps,t===null?ES(e):Rt=t,vx.current=null}function ES(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=RR(n,t),n!==null){n.flags&=32767,Rt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ft=6,Rt=null;return}}else if(n=PR(n,t,qn),n!==null){Rt=n;return}if(t=t.sibling,t!==null){Rt=t;return}Rt=t=e}while(t!==null);Ft===0&&(Ft=5)}function Ki(e,t,n){var s=Xe,i=ys.transition;try{ys.transition=null,Xe=1,FR(e,t,n,s)}finally{ys.transition=i,Xe=s}return null}function FR(e,t,n,s){do co();while(ai!==null);if(Fe&6)throw Error(Z(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Z(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(y2(e,a),e===Gt&&(Rt=Gt=null,sn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||_u||(_u=!0,kS(pd,function(){return co(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=ys.transition,ys.transition=null;var o=Xe;Xe=1;var l=Fe;Fe|=4,vx.current=null,DR(e,n),wS(n,e),iR(sp),xd=!!np,sp=np=null,e.current=n,$R(n),u2(),Fe=l,Xe=o,ys.transition=a}else e.current=n;if(_u&&(_u=!1,ai=e,Dd=i),a=e.pendingLanes,a===0&&(mi=null),h2(n.stateNode),Hn(e,St()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],s(i.value,{componentStack:i.stack,digest:i.digest});if(Ad)throw Ad=!1,e=_p,_p=null,e;return Dd&1&&e.tag!==0&&co(),a=e.pendingLanes,a&1?e===Sp?Il++:(Il=0,Sp=e):Il=0,ki(),null}function co(){if(ai!==null){var e=a_(Dd),t=ys.transition,n=Xe;try{if(ys.transition=null,Xe=16>e?16:e,ai===null)var s=!1;else{if(e=ai,ai=null,Dd=0,Fe&6)throw Error(Z(331));var i=Fe;for(Fe|=4,de=e.current;de!==null;){var a=de,o=a.child;if(de.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(de=u;de!==null;){var d=de;switch(d.tag){case 0:case 11:case 15:$l(8,d,a)}var f=d.child;if(f!==null)f.return=d,de=f;else for(;de!==null;){d=de;var m=d.sibling,x=d.return;if(xS(d),d===u){de=null;break}if(m!==null){m.return=x,de=m;break}de=x}}}var j=a.alternate;if(j!==null){var v=j.child;if(v!==null){j.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}de=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,de=o;else e:for(;de!==null;){if(a=de,a.flags&2048)switch(a.tag){case 0:case 11:case 15:$l(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,de=g;break e}de=a.return}}var p=e.current;for(de=p;de!==null;){o=de;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,de=w;else e:for(o=p;de!==null;){if(l=de,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:xf(9,l)}}catch(S){jt(l,l.return,S)}if(l===o){de=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,de=b;break e}de=l.return}}if(Fe=i,ki(),ir&&typeof ir.onPostCommitFiberRoot=="function")try{ir.onPostCommitFiberRoot(cf,e)}catch{}s=!0}return s}finally{Xe=n,ys.transition=t}}return!1}function gw(e,t,n){t=ko(n,t),t=aS(e,t,1),e=hi(e,t,1),t=kn(),e!==null&&(Ic(e,1,t),Hn(e,t))}function jt(e,t,n){if(e.tag===3)gw(e,e,n);else for(;t!==null;){if(t.tag===3){gw(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(mi===null||!mi.has(s))){e=ko(n,e),e=oS(t,e,1),t=hi(t,e,1),e=kn(),t!==null&&(Ic(t,1,e),Hn(t,e));break}}t=t.return}}function UR(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=kn(),e.pingedLanes|=e.suspendedLanes&n,Gt===e&&(sn&n)===n&&(Ft===4||Ft===3&&(sn&130023424)===sn&&500>St()-wx?la(e,0):yx|=n),Hn(e,t)}function CS(e,t){t===0&&(e.mode&1?(t=hu,hu<<=1,!(hu&130023424)&&(hu=4194304)):t=1);var n=kn();e=Tr(e,t),e!==null&&(Ic(e,t,n),Hn(e,n))}function BR(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),CS(e,n)}function VR(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(Z(314))}s!==null&&s.delete(t),CS(e,n)}var TS;TS=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||zn.current)Bn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Bn=!1,kR(e,t,n);Bn=!!(e.flags&131072)}else Bn=!1,dt&&t.flags&1048576&&A_(t,Sd,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Qu(e,t),e=t.pendingProps;var i=No(t,vn.current);lo(t,n),i=hx(null,t,s,e,i,n);var a=mx();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Wn(s)?(a=!0,bd(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,lx(t),i.updater=gf,t.stateNode=i,i._reactInternals=t,fp(t,s,e,n),t=pp(null,t,s,!0,a,n)):(t.tag=0,dt&&a&&tx(t),Nn(null,t,i,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Qu(e,t),e=t.pendingProps,i=s._init,s=i(s._payload),t.type=s,i=t.tag=WR(s),e=Ps(s,e),i){case 0:t=mp(null,t,s,e,n);break e;case 1:t=aw(null,t,s,e,n);break e;case 11:t=rw(null,t,s,e,n);break e;case 14:t=iw(null,t,s,Ps(s.type,e),n);break e}throw Error(Z(306,s,""))}return t;case 0:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:Ps(s,i),mp(e,t,s,i,n);case 1:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:Ps(s,i),aw(e,t,s,i,n);case 3:e:{if(dS(t),e===null)throw Error(Z(387));s=t.pendingProps,a=t.memoizedState,i=a.element,O_(e,t),Cd(t,s,null,n);var o=t.memoizedState;if(s=o.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=ko(Error(Z(423)),t),t=ow(e,t,s,n,i);break e}else if(s!==i){i=ko(Error(Z(424)),t),t=ow(e,t,s,n,i);break e}else for(Gn=fi(t.stateNode.containerInfo.firstChild),Yn=t,dt=!0,Is=null,n=I_(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Eo(),s===i){t=kr(e,t,n);break e}Nn(e,t,s,n)}t=t.child}return t;case 5:return F_(t),e===null&&cp(t),s=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,rp(s,i)?o=null:a!==null&&rp(s,a)&&(t.flags|=32),uS(e,t),Nn(e,t,o,n),t.child;case 6:return e===null&&cp(t),null;case 13:return fS(e,t,n);case 4:return cx(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Co(t,null,s,n):Nn(e,t,s,n),t.child;case 11:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:Ps(s,i),rw(e,t,s,i,n);case 7:return Nn(e,t,t.pendingProps,n),t.child;case 8:return Nn(e,t,t.pendingProps.children,n),t.child;case 12:return Nn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,rt(Nd,s._currentValue),s._currentValue=o,a!==null)if(Us(a.value,o)){if(a.children===i.children&&!zn.current){t=kr(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(a.tag===1){c=Sr(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),up(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Z(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),up(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Nn(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,s=t.pendingProps.children,lo(t,n),i=bs(i),s=s(i),t.flags|=1,Nn(e,t,s,n),t.child;case 14:return s=t.type,i=Ps(s,t.pendingProps),i=Ps(s.type,i),iw(e,t,s,i,n);case 15:return lS(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:Ps(s,i),Qu(e,t),t.tag=1,Wn(s)?(e=!0,bd(t)):e=!1,lo(t,n),iS(t,s,i),fp(t,s,i,n),pp(null,t,s,!0,e,n);case 19:return hS(e,t,n);case 22:return cS(e,t,n)}throw Error(Z(156,t.tag))};function kS(e,t){return n_(e,t)}function zR(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xs(e,t,n,s){return new zR(e,t,n,s)}function Sx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function WR(e){if(typeof e=="function")return Sx(e)?1:0;if(e!=null){if(e=e.$$typeof,e===zg)return 11;if(e===Wg)return 14}return 2}function gi(e,t){var n=e.alternate;return n===null?(n=xs(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Zu(e,t,n,s,i,a){var o=2;if(s=e,typeof e=="function")Sx(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Va:return ca(n.children,i,a,t);case Vg:o=8,i|=8;break;case Im:return e=xs(12,n,t,i|2),e.elementType=Im,e.lanes=a,e;case Lm:return e=xs(13,n,t,i),e.elementType=Lm,e.lanes=a,e;case Om:return e=xs(19,n,t,i),e.elementType=Om,e.lanes=a,e;case Fb:return yf(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Lb:o=10;break e;case Ob:o=9;break e;case zg:o=11;break e;case Wg:o=14;break e;case Kr:o=16,s=null;break e}throw Error(Z(130,e==null?e:typeof e,""))}return t=xs(o,n,t,i),t.elementType=e,t.type=s,t.lanes=a,t}function ca(e,t,n,s){return e=xs(7,e,s,t),e.lanes=n,e}function yf(e,t,n,s){return e=xs(22,e,s,t),e.elementType=Fb,e.lanes=n,e.stateNode={isHidden:!1},e}function Bh(e,t,n){return e=xs(6,e,null,t),e.lanes=n,e}function Vh(e,t,n){return t=xs(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function HR(e,t,n,s,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bh(0),this.expirationTimes=bh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bh(0),this.identifierPrefix=s,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Nx(e,t,n,s,i,a,o,l,c){return e=new HR(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=xs(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},lx(a),e}function qR(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ba,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function PS(e){if(!e)return wi;e=e._reactInternals;e:{if(ba(e)!==e||e.tag!==1)throw Error(Z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Wn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Z(171))}if(e.tag===1){var n=e.type;if(Wn(n))return P_(e,n,t)}return t}function RS(e,t,n,s,i,a,o,l,c){return e=Nx(n,s,!0,e,i,a,o,l,c),e.context=PS(null),n=e.current,s=kn(),i=pi(n),a=Sr(s,i),a.callback=t??null,hi(n,a,i),e.current.lanes=i,Ic(e,i,s),Hn(e,s),e}function wf(e,t,n,s){var i=t.current,a=kn(),o=pi(i);return n=PS(n),t.context===null?t.context=n:t.pendingContext=n,t=Sr(a,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=hi(i,t,o),e!==null&&(Fs(e,i,o,a),Ku(e,i,o)),o}function Md(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function xw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ex(e,t){xw(e,t),(e=e.alternate)&&xw(e,t)}function KR(){return null}var AS=typeof reportError=="function"?reportError:function(e){console.error(e)};function Cx(e){this._internalRoot=e}jf.prototype.render=Cx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Z(409));wf(e,t,null,null)};jf.prototype.unmount=Cx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ga(function(){wf(null,e,null,null)}),t[Cr]=null}};function jf(e){this._internalRoot=e}jf.prototype.unstable_scheduleHydration=function(e){if(e){var t=c_();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Xr.length&&t!==0&&t<Xr[n].priority;n++);Xr.splice(n,0,e),n===0&&d_(e)}};function Tx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function bf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function vw(){}function GR(e,t,n,s,i){if(i){if(typeof s=="function"){var a=s;s=function(){var u=Md(o);a.call(u)}}var o=RS(t,s,e,0,null,!1,!1,"",vw);return e._reactRootContainer=o,e[Cr]=o.current,rc(e.nodeType===8?e.parentNode:e),ga(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof s=="function"){var l=s;s=function(){var u=Md(c);l.call(u)}}var c=Nx(e,0,!1,null,null,!1,!1,"",vw);return e._reactRootContainer=c,e[Cr]=c.current,rc(e.nodeType===8?e.parentNode:e),ga(function(){wf(t,c,n,s)}),c}function _f(e,t,n,s,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=Md(o);l.call(c)}}wf(t,o,e,i)}else o=GR(n,t,e,i,s);return Md(o)}o_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=bl(t.pendingLanes);n!==0&&(Kg(t,n|1),Hn(t,St()),!(Fe&6)&&(Po=St()+500,ki()))}break;case 13:ga(function(){var s=Tr(e,1);if(s!==null){var i=kn();Fs(s,e,1,i)}}),Ex(e,1)}};Gg=function(e){if(e.tag===13){var t=Tr(e,134217728);if(t!==null){var n=kn();Fs(t,e,134217728,n)}Ex(e,134217728)}};l_=function(e){if(e.tag===13){var t=pi(e),n=Tr(e,t);if(n!==null){var s=kn();Fs(n,e,t,s)}Ex(e,t)}};c_=function(){return Xe};u_=function(e,t){var n=Xe;try{return Xe=e,t()}finally{Xe=n}};Gm=function(e,t,n){switch(t){case"input":if(Bm(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var i=hf(s);if(!i)throw Error(Z(90));Bb(s),Bm(s,i)}}}break;case"textarea":zb(e,n);break;case"select":t=n.value,t!=null&&ro(e,!!n.multiple,t,!1)}};Qb=jx;Xb=ga;var YR={usingClientEntryPoint:!1,Events:[Oc,qa,hf,Gb,Yb,jx]},ml={findFiberByHostInstance:Xi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},QR={bundleType:ml.bundleType,version:ml.version,rendererPackageName:ml.rendererPackageName,rendererConfig:ml.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=e_(e),e===null?null:e.stateNode},findFiberByHostInstance:ml.findFiberByHostInstance||KR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Su.isDisabled&&Su.supportsFiber)try{cf=Su.inject(QR),ir=Su}catch{}}es.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YR;es.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tx(t))throw Error(Z(200));return qR(e,t,null,n)};es.createRoot=function(e,t){if(!Tx(e))throw Error(Z(299));var n=!1,s="",i=AS;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Nx(e,1,!1,null,null,n,!1,s,i),e[Cr]=t.current,rc(e.nodeType===8?e.parentNode:e),new Cx(t)};es.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Z(188)):(e=Object.keys(e).join(","),Error(Z(268,e)));return e=e_(t),e=e===null?null:e.stateNode,e};es.flushSync=function(e){return ga(e)};es.hydrate=function(e,t,n){if(!bf(t))throw Error(Z(200));return _f(null,e,t,!0,n)};es.hydrateRoot=function(e,t,n){if(!Tx(e))throw Error(Z(405));var s=n!=null&&n.hydratedSources||null,i=!1,a="",o=AS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=RS(t,null,e,1,n??null,i,!1,a,o),e[Cr]=t.current,rc(e),s)for(e=0;e<s.length;e++)n=s[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new jf(t)};es.render=function(e,t,n){if(!bf(t))throw Error(Z(200));return _f(null,e,t,!1,n)};es.unmountComponentAtNode=function(e){if(!bf(e))throw Error(Z(40));return e._reactRootContainer?(ga(function(){_f(null,null,e,!1,function(){e._reactRootContainer=null,e[Cr]=null})}),!0):!1};es.unstable_batchedUpdates=jx;es.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!bf(n))throw Error(Z(200));if(e==null||e._reactInternals===void 0)throw Error(Z(38));return _f(e,t,n,!1,s)};es.version="18.3.1-next-f1338f8080-20240426";function DS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(DS)}catch(e){console.error(e)}}DS(),Db.exports=es;var vs=Db.exports;const XR=jb(vs);var $S,yw=vs;$S=yw.createRoot,yw.hydrateRoot;const JR=1,ZR=1e6;let zh=0;function eA(){return zh=(zh+1)%Number.MAX_SAFE_INTEGER,zh.toString()}const Wh=new Map,ww=e=>{if(Wh.has(e))return;const t=setTimeout(()=>{Wh.delete(e),Ll({type:"REMOVE_TOAST",toastId:e})},ZR);Wh.set(e,t)},tA=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,JR)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?ww(n):e.toasts.forEach(s=>{ww(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},ed=[];let td={toasts:[]};function Ll(e){td=tA(td,e),ed.forEach(t=>{t(td)})}function oi({...e}){const t=eA(),n=i=>Ll({type:"UPDATE_TOAST",toast:{...i,id:t}}),s=()=>Ll({type:"DISMISS_TOAST",toastId:t});return Ll({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||s()}}}),{id:t,dismiss:s,update:n}}function An(){const[e,t]=h.useState(td);return h.useEffect(()=>(ed.push(t),()=>{const n=ed.indexOf(t);n>-1&&ed.splice(n,1)}),[e]),{...e,toast:oi,dismiss:n=>Ll({type:"DISMISS_TOAST",toastId:n})}}function xe(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function jw(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function MS(...e){return t=>{let n=!1;const s=e.map(i=>{const a=jw(i,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<s.length;i++){const a=s[i];typeof a=="function"?a():jw(e[i],null)}}}}function Ke(...e){return h.useCallback(MS(...e),e)}function nA(e,t){const n=h.createContext(t),s=a=>{const{children:o,...l}=a,c=h.useMemo(()=>l,Object.values(l));return r.jsx(n.Provider,{value:c,children:o})};s.displayName=e+"Provider";function i(a){const o=h.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[s,i]}function ns(e,t=[]){let n=[];function s(a,o){const l=h.createContext(o),c=n.length;n=[...n,o];const u=f=>{var g;const{scope:m,children:x,...j}=f,v=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,y=h.useMemo(()=>j,Object.values(j));return r.jsx(v.Provider,{value:y,children:x})};u.displayName=a+"Provider";function d(f,m){var v;const x=((v=m==null?void 0:m[e])==null?void 0:v[c])||l,j=h.useContext(x);if(j)return j;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const i=()=>{const a=n.map(o=>h.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[s,sA(i,...t)]}function sA(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=s.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function Ro(e){const t=iA(e),n=h.forwardRef((s,i)=>{const{children:a,...o}=s,l=h.Children.toArray(a),c=l.find(oA);if(c){const u=c.props.children,d=l.map(f=>f===c?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:f);return r.jsx(t,{...o,ref:i,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return r.jsx(t,{...o,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}var rA=Ro("Slot");function iA(e){const t=h.forwardRef((n,s)=>{const{children:i,...a}=n;if(h.isValidElement(i)){const o=cA(i),l=lA(a,i.props);return i.type!==h.Fragment&&(l.ref=s?MS(s,o):o),h.cloneElement(i,l)}return h.Children.count(i)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var IS=Symbol("radix.slottable");function aA(e){const t=({children:n})=>r.jsx(r.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=IS,t}function oA(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===IS}function lA(e,t){const n={...t};for(const s in t){const i=e[s],a=t[s];/^on[A-Z]/.test(s)?i&&a?n[s]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[s]=i):s==="style"?n[s]={...i,...a}:s==="className"&&(n[s]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function cA(e){var s,i;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function kx(e){const t=e+"CollectionProvider",[n,s]=ns(t),[i,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:y,children:g}=v,p=$e.useRef(null),w=$e.useRef(new Map).current;return r.jsx(i,{scope:y,itemMap:w,collectionRef:p,children:g})};o.displayName=t;const l=e+"CollectionSlot",c=Ro(l),u=$e.forwardRef((v,y)=>{const{scope:g,children:p}=v,w=a(l,g),b=Ke(y,w.collectionRef);return r.jsx(c,{ref:b,children:p})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",m=Ro(d),x=$e.forwardRef((v,y)=>{const{scope:g,children:p,...w}=v,b=$e.useRef(null),S=Ke(y,b),T=a(d,g);return $e.useEffect(()=>(T.itemMap.set(b,{ref:b,...w}),()=>void T.itemMap.delete(b))),r.jsx(m,{[f]:"",ref:S,children:p})});x.displayName=d;function j(v){const y=a(e+"CollectionConsumer",v);return $e.useCallback(()=>{const p=y.collectionRef.current;if(!p)return[];const w=Array.from(p.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((T,N)=>w.indexOf(T.ref.current)-w.indexOf(N.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:u,ItemSlot:x},j,s]}var uA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ve=uA.reduce((e,t)=>{const n=Ro(`Primitive.${t}`),s=h.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:a})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function LS(e,t){e&&vs.flushSync(()=>e.dispatchEvent(t))}function Zn(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}function dA(e,t=globalThis==null?void 0:globalThis.document){const n=Zn(e);h.useEffect(()=>{const s=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var fA="DismissableLayer",Cp="dismissableLayer.update",hA="dismissableLayer.pointerDownOutside",mA="dismissableLayer.focusOutside",bw,OS=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Uc=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,u=h.useContext(OS),[d,f]=h.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=h.useState({}),j=Ke(t,N=>f(N)),v=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=v.indexOf(y),p=d?v.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,b=p>=g,S=gA(N=>{const E=N.target,P=[...u.branches].some(D=>D.contains(E));!b||P||(i==null||i(N),o==null||o(N),N.defaultPrevented||l==null||l())},m),T=xA(N=>{const E=N.target;[...u.branches].some(D=>D.contains(E))||(a==null||a(N),o==null||o(N),N.defaultPrevented||l==null||l())},m);return dA(N=>{p===u.layers.size-1&&(s==null||s(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},m),h.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(bw=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),_w(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=bw)}},[d,m,n,u]),h.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),_w())},[d,u]),h.useEffect(()=>{const N=()=>x({});return document.addEventListener(Cp,N),()=>document.removeEventListener(Cp,N)},[]),r.jsx(ve.div,{...c,ref:j,style:{pointerEvents:w?b?"auto":"none":void 0,...e.style},onFocusCapture:xe(e.onFocusCapture,T.onFocusCapture),onBlurCapture:xe(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:xe(e.onPointerDownCapture,S.onPointerDownCapture)})});Uc.displayName=fA;var pA="DismissableLayerBranch",FS=h.forwardRef((e,t)=>{const n=h.useContext(OS),s=h.useRef(null),i=Ke(t,s);return h.useEffect(()=>{const a=s.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),r.jsx(ve.div,{...e,ref:i})});FS.displayName=pA;function gA(e,t=globalThis==null?void 0:globalThis.document){const n=Zn(e),s=h.useRef(!1),i=h.useRef(()=>{});return h.useEffect(()=>{const a=l=>{if(l.target&&!s.current){let c=function(){US(hA,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function xA(e,t=globalThis==null?void 0:globalThis.document){const n=Zn(e),s=h.useRef(!1);return h.useEffect(()=>{const i=a=>{a.target&&!s.current&&US(mA,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function _w(){const e=new CustomEvent(Cp);document.dispatchEvent(e)}function US(e,t,n,{discrete:s}){const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),s?LS(i,a):i.dispatchEvent(a)}var vA=Uc,yA=FS,Tt=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},wA="Portal",Bc=h.forwardRef((e,t)=>{var l;const{container:n,...s}=e,[i,a]=h.useState(!1);Tt(()=>a(!0),[]);const o=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?XR.createPortal(r.jsx(ve.div,{...s,ref:t}),o):null});Bc.displayName=wA;function jA(e,t){return h.useReducer((n,s)=>t[n][s]??n,e)}var fr=e=>{const{present:t,children:n}=e,s=bA(t),i=typeof n=="function"?n({present:s.isPresent}):h.Children.only(n),a=Ke(s.ref,_A(i));return typeof n=="function"||s.isPresent?h.cloneElement(i,{ref:a}):null};fr.displayName="Presence";function bA(e){const[t,n]=h.useState(),s=h.useRef(null),i=h.useRef(e),a=h.useRef("none"),o=e?"mounted":"unmounted",[l,c]=jA(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const u=Nu(s.current);a.current=l==="mounted"?u:"none"},[l]),Tt(()=>{const u=s.current,d=i.current;if(d!==e){const m=a.current,x=Nu(u);e?c("MOUNT"):x==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==x?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),Tt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=x=>{const v=Nu(s.current).includes(x.animationName);if(x.target===t&&v&&(c("ANIMATION_END"),!i.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},m=x=>{x.target===t&&(a.current=Nu(s.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(u=>{s.current=u?getComputedStyle(u):null,n(u)},[])}}function Nu(e){return(e==null?void 0:e.animationName)||"none"}function _A(e){var s,i;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var SA=Og[" useInsertionEffect ".trim().toString()]||Tt;function Pr({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[i,a,o]=NA({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:i;{const d=h.useRef(e!==void 0);h.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${s} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,s])}const u=h.useCallback(d=>{var f;if(l){const m=EA(d)?d(e):d;m!==e&&((f=o.current)==null||f.call(o,m))}else a(d)},[l,e,a,o]);return[c,u]}function NA({defaultProp:e,onChange:t}){const[n,s]=h.useState(e),i=h.useRef(n),a=h.useRef(t);return SA(()=>{a.current=t},[t]),h.useEffect(()=>{var o;i.current!==n&&((o=a.current)==null||o.call(a,n),i.current=n)},[n,i]),[n,s,a]}function EA(e){return typeof e=="function"}var BS=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),CA="VisuallyHidden",Sf=h.forwardRef((e,t)=>r.jsx(ve.span,{...e,ref:t,style:{...BS,...e.style}}));Sf.displayName=CA;var TA=Sf,Px="ToastProvider",[Rx,kA,PA]=kx("Toast"),[VS,F7]=ns("Toast",[PA]),[RA,Nf]=VS(Px),zS=e=>{const{__scopeToast:t,label:n="Notification",duration:s=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=e,[l,c]=h.useState(null),[u,d]=h.useState(0),f=h.useRef(!1),m=h.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Px}\`. Expected non-empty \`string\`.`),r.jsx(Rx.Provider,{scope:t,children:r.jsx(RA,{scope:t,label:n,duration:s,swipeDirection:i,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:h.useCallback(()=>d(x=>x+1),[]),onToastRemove:h.useCallback(()=>d(x=>x-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};zS.displayName=Px;var WS="ToastViewport",AA=["F8"],Tp="toast.viewportPause",kp="toast.viewportResume",HS=h.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:s=AA,label:i="Notifications ({hotkey})",...a}=e,o=Nf(WS,n),l=kA(n),c=h.useRef(null),u=h.useRef(null),d=h.useRef(null),f=h.useRef(null),m=Ke(t,f,o.onViewportChange),x=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=o.toastCount>0;h.useEffect(()=>{const y=g=>{var w;s.length!==0&&s.every(b=>g[b]||g.code===b)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[s]),h.useEffect(()=>{const y=c.current,g=f.current;if(j&&y&&g){const p=()=>{if(!o.isClosePausedRef.current){const T=new CustomEvent(Tp);g.dispatchEvent(T),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const T=new CustomEvent(kp);g.dispatchEvent(T),o.isClosePausedRef.current=!1}},b=T=>{!y.contains(T.relatedTarget)&&w()},S=()=>{y.contains(document.activeElement)||w()};return y.addEventListener("focusin",p),y.addEventListener("focusout",b),y.addEventListener("pointermove",p),y.addEventListener("pointerleave",S),window.addEventListener("blur",p),window.addEventListener("focus",w),()=>{y.removeEventListener("focusin",p),y.removeEventListener("focusout",b),y.removeEventListener("pointermove",p),y.removeEventListener("pointerleave",S),window.removeEventListener("blur",p),window.removeEventListener("focus",w)}}},[j,o.isClosePausedRef]);const v=h.useCallback(({tabbingDirection:y})=>{const p=l().map(w=>{const b=w.ref.current,S=[b,...HA(b)];return y==="forwards"?S:S.reverse()});return(y==="forwards"?p.reverse():p).flat()},[l]);return h.useEffect(()=>{const y=f.current;if(y){const g=p=>{var S,T,N;const w=p.altKey||p.ctrlKey||p.metaKey;if(p.key==="Tab"&&!w){const E=document.activeElement,P=p.shiftKey;if(p.target===y&&P){(S=u.current)==null||S.focus();return}const M=v({tabbingDirection:P?"backwards":"forwards"}),$=M.findIndex(O=>O===E);Hh(M.slice($+1))?p.preventDefault():P?(T=u.current)==null||T.focus():(N=d.current)==null||N.focus()}};return y.addEventListener("keydown",g),()=>y.removeEventListener("keydown",g)}},[l,v]),r.jsxs(yA,{ref:c,role:"region","aria-label":i.replace("{hotkey}",x),tabIndex:-1,style:{pointerEvents:j?void 0:"none"},children:[j&&r.jsx(Pp,{ref:u,onFocusFromOutsideViewport:()=>{const y=v({tabbingDirection:"forwards"});Hh(y)}}),r.jsx(Rx.Slot,{scope:n,children:r.jsx(ve.ol,{tabIndex:-1,...a,ref:m})}),j&&r.jsx(Pp,{ref:d,onFocusFromOutsideViewport:()=>{const y=v({tabbingDirection:"backwards"});Hh(y)}})]})});HS.displayName=WS;var qS="ToastFocusProxy",Pp=h.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:s,...i}=e,a=Nf(qS,n);return r.jsx(Sf,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&s()}})});Pp.displayName=qS;var Vc="Toast",DA="toast.swipeStart",$A="toast.swipeMove",MA="toast.swipeCancel",IA="toast.swipeEnd",KS=h.forwardRef((e,t)=>{const{forceMount:n,open:s,defaultOpen:i,onOpenChange:a,...o}=e,[l,c]=Pr({prop:s,defaultProp:i??!0,onChange:a,caller:Vc});return r.jsx(fr,{present:n||l,children:r.jsx(FA,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Zn(e.onPause),onResume:Zn(e.onResume),onSwipeStart:xe(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:xe(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:xe(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:xe(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});KS.displayName=Vc;var[LA,OA]=VS(Vc,{onClose(){}}),FA=h.forwardRef((e,t)=>{const{__scopeToast:n,type:s="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:x,...j}=e,v=Nf(Vc,n),[y,g]=h.useState(null),p=Ke(t,O=>g(O)),w=h.useRef(null),b=h.useRef(null),S=i||v.duration,T=h.useRef(0),N=h.useRef(S),E=h.useRef(0),{onToastAdd:P,onToastRemove:D}=v,R=Zn(()=>{var K;(y==null?void 0:y.contains(document.activeElement))&&((K=v.viewport)==null||K.focus()),o()}),M=h.useCallback(O=>{!O||O===1/0||(window.clearTimeout(E.current),T.current=new Date().getTime(),E.current=window.setTimeout(R,O))},[R]);h.useEffect(()=>{const O=v.viewport;if(O){const K=()=>{M(N.current),u==null||u()},F=()=>{const V=new Date().getTime()-T.current;N.current=N.current-V,window.clearTimeout(E.current),c==null||c()};return O.addEventListener(Tp,F),O.addEventListener(kp,K),()=>{O.removeEventListener(Tp,F),O.removeEventListener(kp,K)}}},[v.viewport,S,c,u,M]),h.useEffect(()=>{a&&!v.isClosePausedRef.current&&M(S)},[a,S,v.isClosePausedRef,M]),h.useEffect(()=>(P(),()=>D()),[P,D]);const $=h.useMemo(()=>y?eN(y):null,[y]);return v.viewport?r.jsxs(r.Fragment,{children:[$&&r.jsx(UA,{__scopeToast:n,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:$}),r.jsx(LA,{scope:n,onClose:R,children:vs.createPortal(r.jsx(Rx.ItemSlot,{scope:n,children:r.jsx(vA,{asChild:!0,onEscapeKeyDown:xe(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||R(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(ve.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":v.swipeDirection,...j,ref:p,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:xe(e.onKeyDown,O=>{O.key==="Escape"&&(l==null||l(O.nativeEvent),O.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,R()))}),onPointerDown:xe(e.onPointerDown,O=>{O.button===0&&(w.current={x:O.clientX,y:O.clientY})}),onPointerMove:xe(e.onPointerMove,O=>{if(!w.current)return;const K=O.clientX-w.current.x,F=O.clientY-w.current.y,V=!!b.current,A=["left","right"].includes(v.swipeDirection),_=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,C=A?_(0,K):0,k=A?0:_(0,F),L=O.pointerType==="touch"?10:2,I={x:C,y:k},H={originalEvent:O,delta:I};V?(b.current=I,Eu($A,f,H,{discrete:!1})):Sw(I,v.swipeDirection,L)?(b.current=I,Eu(DA,d,H,{discrete:!1}),O.target.setPointerCapture(O.pointerId)):(Math.abs(K)>L||Math.abs(F)>L)&&(w.current=null)}),onPointerUp:xe(e.onPointerUp,O=>{const K=b.current,F=O.target;if(F.hasPointerCapture(O.pointerId)&&F.releasePointerCapture(O.pointerId),b.current=null,w.current=null,K){const V=O.currentTarget,A={originalEvent:O,delta:K};Sw(K,v.swipeDirection,v.swipeThreshold)?Eu(IA,x,A,{discrete:!0}):Eu(MA,m,A,{discrete:!0}),V.addEventListener("click",_=>_.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),UA=e=>{const{__scopeToast:t,children:n,...s}=e,i=Nf(Vc,t),[a,o]=h.useState(!1),[l,c]=h.useState(!1);return zA(()=>o(!0)),h.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:r.jsx(Bc,{asChild:!0,children:r.jsx(Sf,{...s,children:a&&r.jsxs(r.Fragment,{children:[i.label," ",n]})})})},BA="ToastTitle",GS=h.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return r.jsx(ve.div,{...s,ref:t})});GS.displayName=BA;var VA="ToastDescription",YS=h.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return r.jsx(ve.div,{...s,ref:t})});YS.displayName=VA;var QS="ToastAction",XS=h.forwardRef((e,t)=>{const{altText:n,...s}=e;return n.trim()?r.jsx(ZS,{altText:n,asChild:!0,children:r.jsx(Ax,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${QS}\`. Expected non-empty \`string\`.`),null)});XS.displayName=QS;var JS="ToastClose",Ax=h.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e,i=OA(JS,n);return r.jsx(ZS,{asChild:!0,children:r.jsx(ve.button,{type:"button",...s,ref:t,onClick:xe(e.onClick,i.onClose)})})});Ax.displayName=JS;var ZS=h.forwardRef((e,t)=>{const{__scopeToast:n,altText:s,...i}=e;return r.jsx(ve.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...i,ref:t})});function eN(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),WA(s)){const i=s.ariaHidden||s.hidden||s.style.display==="none",a=s.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=s.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...eN(s))}}),t}function Eu(e,t,n,{discrete:s}){const i=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),s?LS(i,a):i.dispatchEvent(a)}var Sw=(e,t,n=0)=>{const s=Math.abs(e.x),i=Math.abs(e.y),a=s>i;return t==="left"||t==="right"?a&&s>n:!a&&i>n};function zA(e=()=>{}){const t=Zn(e);Tt(()=>{let n=0,s=0;return n=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(s)}},[t])}function WA(e){return e.nodeType===e.ELEMENT_NODE}function HA(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Hh(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var qA=zS,tN=HS,nN=KS,sN=GS,rN=YS,iN=XS,aN=Ax;function oN(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=oN(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function lN(){for(var e,t,n=0,s="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=oN(e))&&(s&&(s+=" "),s+=t);return s}const Nw=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Ew=lN,zo=(e,t)=>n=>{var s;if((t==null?void 0:t.variants)==null)return Ew(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:a}=t,o=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],f=a==null?void 0:a[u];if(d===null)return null;const m=Nw(d)||Nw(f);return i[u][m]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,m]=d;return m===void 0||(u[f]=m),u},{}),c=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((u,d)=>{let{class:f,className:m,...x}=d;return Object.entries(x).every(j=>{let[v,y]=j;return Array.isArray(y)?y.includes({...a,...l}[v]):{...a,...l}[v]===y})?[...u,f,m]:u},[]);return Ew(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),GA=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),Cw=e=>{const t=GA(e);return t.charAt(0).toUpperCase()+t.slice(1)},cN=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),YA=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var QA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:i="",children:a,iconNode:o,...l},c)=>h.createElement("svg",{ref:c,...QA,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:cN("lucide",i),...!a&&!YA(l)&&{"aria-hidden":"true"},...l},[...o.map(([u,d])=>h.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=(e,t)=>{const n=h.forwardRef(({className:s,...i},a)=>h.createElement(XA,{ref:a,iconNode:t,className:cN(`lucide-${KA(Cw(e))}`,`lucide-${e}`,s),...i}));return n.displayName=Cw(e),n};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Ao=me("activity",JA);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],eD=me("arrow-left-right",ZA);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ol=me("arrow-left",tD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],qh=me("arrow-right",nD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],Ta=me("arrow-up-down",sD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],iD=me("bot",rD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Qn=me("calendar",aD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],lD=me("chart-column",oD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Dx=me("check",cD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ef=me("chevron-down",uD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],$x=me("chevron-up",dD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Oe=me("circle-alert",fD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Sl=me("circle-check-big",hD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],pD=me("circle-x",mD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],er=me("clock",gD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]],vD=me("cog",xD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Oa=me("database",yD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Rp=me("dollar-sign",wD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],uN=me("download",jD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],zc=me("external-link",bD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Fl=me("eye-off",_D);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],dN=me("eye",SD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],hc=me("file-text",ND);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],fN=me("funnel",ED);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],TD=me("grip-vertical",CD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],PD=me("history",kD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],AD=me("house",RD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Ui=me("info",DD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Nt=me("loader-circle",$D);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ID=me("lock",MD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],Ap=me("maximize-2",LD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],FD=me("menu",OD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],Dp=me("minimize-2",UD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=[["path",{d:"M5 12h14",key:"1ays0h"}]],VD=me("minus",BD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],WD=me("moon",zD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],qD=me("pause",HD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],GD=me("play",KD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Id=me("plus",YD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],nt=me("refresh-cw",QD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],JD=me("rotate-ccw",XD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],hN=me("save",ZD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e$=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Mx=me("search",e$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t$=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],Kh=me("server",t$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n$=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ld=me("settings",n$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s$=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],mc=me("shield",s$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r$=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],$p=me("square-pen",r$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i$=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],mN=me("star",i$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a$=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],o$=me("sun",a$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l$=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],pc=me("swords",l$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],nd=me("target",c$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u$=[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]],d$=me("test-tube",u$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f$=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],h$=me("timer",f$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m$=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Do=me("trending-up",m$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p$=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],g$=me("triangle-alert",p$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x$=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],Kt=me("trophy",x$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],uo=me("user-check",v$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y$=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],w$=me("user",y$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Yt=me("users",j$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b$=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Cf=me("x",b$),Ix="-",_$=e=>{const t=N$(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:o=>{const l=o.split(Ix);return l[0]===""&&l.length!==1&&l.shift(),pN(l,t)||S$(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&s[o]?[...c,...s[o]]:c}}},pN=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),i=s?pN(e.slice(1),s):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(Ix);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},Tw=/^\[(.+)\]$/,S$=e=>{if(Tw.test(e)){const t=Tw.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},N$=e=>{const{theme:t,prefix:n}=e,s={nextPart:new Map,validators:[]};return C$(Object.entries(e.classGroups),n).forEach(([a,o])=>{Mp(o,s,a,t)}),s},Mp=(e,t,n,s)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:kw(t,i);a.classGroupId=n;return}if(typeof i=="function"){if(E$(i)){Mp(i(s),t,n,s);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,o])=>{Mp(o,kw(t,a),n,s)})})},kw=(e,t)=>{let n=e;return t.split(Ix).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},E$=e=>e.isThemeGetter,C$=(e,t)=>t?e.map(([n,s])=>{const i=s.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[n,i]}):e,T$=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const i=(a,o)=>{n.set(a,o),t++,t>e&&(t=0,s=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=s.get(a))!==void 0)return i(a,o),o},set(a,o){n.has(a)?n.set(a,o):i(a,o)}}},gN="!",k$=e=>{const{separator:t,experimentalParseClassName:n}=e,s=t.length===1,i=t[0],a=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let y=0;y<l.length;y++){let g=l[y];if(u===0){if(g===i&&(s||l.slice(y,y+a)===t)){c.push(l.slice(d,y)),d=y+a;continue}if(g==="/"){f=y;continue}}g==="["?u++:g==="]"&&u--}const m=c.length===0?l:l.substring(d),x=m.startsWith(gN),j=x?m.substring(1):m,v=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:x,baseClassName:j,maybePostfixModifierPosition:v}};return n?l=>n({className:l,parseClassName:o}):o},P$=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(s=>{s[0]==="["?(t.push(...n.sort(),s),n=[]):n.push(s)}),t.push(...n.sort()),t},R$=e=>({cache:T$(e.cacheSize),parseClassName:k$(e),..._$(e)}),A$=/\s+/,D$=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:i}=t,a=[],o=e.trim().split(A$);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:x}=n(u);let j=!!x,v=s(j?m.substring(0,x):m);if(!v){if(!j){l=u+(l.length>0?" "+l:l);continue}if(v=s(m),!v){l=u+(l.length>0?" "+l:l);continue}j=!1}const y=P$(d).join(":"),g=f?y+gN:y,p=g+v;if(a.includes(p))continue;a.push(p);const w=i(v,j);for(let b=0;b<w.length;++b){const S=w[b];a.push(g+S)}l=u+(l.length>0?" "+l:l)}return l};function $$(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=xN(t))&&(s&&(s+=" "),s+=n);return s}const xN=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=xN(e[s]))&&(n&&(n+=" "),n+=t);return n};function M$(e,...t){let n,s,i,a=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return n=R$(u),s=n.cache.get,i=n.cache.set,a=l,l(c)}function l(c){const u=s(c);if(u)return u;const d=D$(c,n);return i(c,d),d}return function(){return a($$.apply(null,arguments))}}const ot=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},vN=/^\[(?:([a-z-]+):)?(.+)\]$/i,I$=/^\d+\/\d+$/,L$=new Set(["px","full","screen"]),O$=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,F$=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,U$=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,B$=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,V$=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,mr=e=>fo(e)||L$.has(e)||I$.test(e),Ur=e=>Wo(e,"length",Q$),fo=e=>!!e&&!Number.isNaN(Number(e)),Gh=e=>Wo(e,"number",fo),pl=e=>!!e&&Number.isInteger(Number(e)),z$=e=>e.endsWith("%")&&fo(e.slice(0,-1)),Ce=e=>vN.test(e),Br=e=>O$.test(e),W$=new Set(["length","size","percentage"]),H$=e=>Wo(e,W$,yN),q$=e=>Wo(e,"position",yN),K$=new Set(["image","url"]),G$=e=>Wo(e,K$,J$),Y$=e=>Wo(e,"",X$),gl=()=>!0,Wo=(e,t,n)=>{const s=vN.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):n(s[2]):!1},Q$=e=>F$.test(e)&&!U$.test(e),yN=()=>!1,X$=e=>B$.test(e),J$=e=>V$.test(e),Z$=()=>{const e=ot("colors"),t=ot("spacing"),n=ot("blur"),s=ot("brightness"),i=ot("borderColor"),a=ot("borderRadius"),o=ot("borderSpacing"),l=ot("borderWidth"),c=ot("contrast"),u=ot("grayscale"),d=ot("hueRotate"),f=ot("invert"),m=ot("gap"),x=ot("gradientColorStops"),j=ot("gradientColorStopPositions"),v=ot("inset"),y=ot("margin"),g=ot("opacity"),p=ot("padding"),w=ot("saturate"),b=ot("scale"),S=ot("sepia"),T=ot("skew"),N=ot("space"),E=ot("translate"),P=()=>["auto","contain","none"],D=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",Ce,t],M=()=>[Ce,t],$=()=>["",mr,Ur],O=()=>["auto",fo,Ce],K=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],A=()=>["start","end","center","between","around","evenly","stretch"],_=()=>["","0",Ce],C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],k=()=>[fo,Ce];return{cacheSize:500,separator:":",theme:{colors:[gl],spacing:[mr,Ur],blur:["none","",Br,Ce],brightness:k(),borderColor:[e],borderRadius:["none","","full",Br,Ce],borderSpacing:M(),borderWidth:$(),contrast:k(),grayscale:_(),hueRotate:k(),invert:_(),gap:M(),gradientColorStops:[e],gradientColorStopPositions:[z$,Ur],inset:R(),margin:R(),opacity:k(),padding:M(),saturate:k(),scale:k(),sepia:_(),skew:k(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",Ce]}],container:["container"],columns:[{columns:[Br]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...K(),Ce]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",pl,Ce]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ce]}],grow:[{grow:_()}],shrink:[{shrink:_()}],order:[{order:["first","last","none",pl,Ce]}],"grid-cols":[{"grid-cols":[gl]}],"col-start-end":[{col:["auto",{span:["full",pl,Ce]},Ce]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[gl]}],"row-start-end":[{row:["auto",{span:[pl,Ce]},Ce]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ce]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...A()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...A(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...A(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ce,t]}],"min-w":[{"min-w":[Ce,t,"min","max","fit"]}],"max-w":[{"max-w":[Ce,t,"none","full","min","max","fit","prose",{screen:[Br]},Br]}],h:[{h:[Ce,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ce,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ce,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ce,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Br,Ur]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Gh]}],"font-family":[{font:[gl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ce]}],"line-clamp":[{"line-clamp":["none",fo,Gh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",mr,Ce]}],"list-image":[{"list-image":["none",Ce]}],"list-style-type":[{list:["none","disc","decimal",Ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",mr,Ur]}],"underline-offset":[{"underline-offset":["auto",mr,Ce]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...K(),q$]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",H$]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},G$]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[j]}],"gradient-via-pos":[{via:[j]}],"gradient-to-pos":[{to:[j]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:F()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[mr,Ce]}],"outline-w":[{outline:[mr,Ur]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[mr,Ur]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Br,Y$]}],"shadow-color":[{shadow:[gl]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...V(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Br,Ce]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ce]}],duration:[{duration:k()}],ease:[{ease:["linear","in","out","in-out",Ce]}],delay:[{delay:k()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[pl,Ce]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ce]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ce]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ce]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[mr,Ur,Gh]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},eM=M$(Z$);function pe(...e){return eM(lN(e))}const tM=qA,wN=h.forwardRef(({className:e,...t},n)=>r.jsx(tN,{ref:n,className:pe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));wN.displayName=tN.displayName;const nM=zo("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),jN=h.forwardRef(({className:e,variant:t,...n},s)=>r.jsx(nN,{ref:s,className:pe(nM({variant:t}),e),...n}));jN.displayName=nN.displayName;const sM=h.forwardRef(({className:e,...t},n)=>r.jsx(iN,{ref:n,className:pe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));sM.displayName=iN.displayName;const bN=h.forwardRef(({className:e,...t},n)=>r.jsx(aN,{ref:n,className:pe("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:r.jsx(Cf,{className:"h-4 w-4"})}));bN.displayName=aN.displayName;const _N=h.forwardRef(({className:e,...t},n)=>r.jsx(sN,{ref:n,className:pe("text-sm font-semibold [&+div]:text-xs",e),...t}));_N.displayName=sN.displayName;const SN=h.forwardRef(({className:e,...t},n)=>r.jsx(rN,{ref:n,className:pe("text-sm opacity-90",e),...t}));SN.displayName=rN.displayName;function rM(){const{toasts:e}=An();return r.jsxs(tM,{children:[e.map(function({id:t,title:n,description:s,action:i,...a}){return r.jsxs(jN,{...a,children:[r.jsxs("div",{className:"grid gap-1",children:[n&&r.jsx(_N,{children:n}),s&&r.jsx(SN,{children:s})]}),i,r.jsx(bN,{})]},t)}),r.jsx(wN,{})]})}var iM=Og[" useId ".trim().toString()]||(()=>{}),aM=0;function Nr(e){const[t,n]=h.useState(iM());return Tt(()=>{n(s=>s??String(aM++))},[e]),t?`radix-${t}`:""}const oM=["top","right","bottom","left"],ji=Math.min,Kn=Math.max,Od=Math.round,Cu=Math.floor,or=e=>({x:e,y:e}),lM={left:"right",right:"left",bottom:"top",top:"bottom"},cM={start:"end",end:"start"};function Ip(e,t,n){return Kn(e,ji(t,n))}function Rr(e,t){return typeof e=="function"?e(t):e}function Ar(e){return e.split("-")[0]}function Ho(e){return e.split("-")[1]}function Lx(e){return e==="x"?"y":"x"}function Ox(e){return e==="y"?"height":"width"}const uM=new Set(["top","bottom"]);function rr(e){return uM.has(Ar(e))?"y":"x"}function Fx(e){return Lx(rr(e))}function dM(e,t,n){n===void 0&&(n=!1);const s=Ho(e),i=Fx(e),a=Ox(i);let o=i==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=Fd(o)),[o,Fd(o)]}function fM(e){const t=Fd(e);return[Lp(e),t,Lp(t)]}function Lp(e){return e.replace(/start|end/g,t=>cM[t])}const Pw=["left","right"],Rw=["right","left"],hM=["top","bottom"],mM=["bottom","top"];function pM(e,t,n){switch(e){case"top":case"bottom":return n?t?Rw:Pw:t?Pw:Rw;case"left":case"right":return t?hM:mM;default:return[]}}function gM(e,t,n,s){const i=Ho(e);let a=pM(Ar(e),n==="start",s);return i&&(a=a.map(o=>o+"-"+i),t&&(a=a.concat(a.map(Lp)))),a}function Fd(e){return e.replace(/left|right|bottom|top/g,t=>lM[t])}function xM(e){return{top:0,right:0,bottom:0,left:0,...e}}function NN(e){return typeof e!="number"?xM(e):{top:e,right:e,bottom:e,left:e}}function Ud(e){const{x:t,y:n,width:s,height:i}=e;return{width:s,height:i,top:n,left:t,right:t+s,bottom:n+i,x:t,y:n}}function Aw(e,t,n){let{reference:s,floating:i}=e;const a=rr(t),o=Fx(t),l=Ox(o),c=Ar(t),u=a==="y",d=s.x+s.width/2-i.width/2,f=s.y+s.height/2-i.height/2,m=s[l]/2-i[l]/2;let x;switch(c){case"top":x={x:d,y:s.y-i.height};break;case"bottom":x={x:d,y:s.y+s.height};break;case"right":x={x:s.x+s.width,y:f};break;case"left":x={x:s.x-i.width,y:f};break;default:x={x:s.x,y:s.y}}switch(Ho(t)){case"start":x[o]-=m*(n&&u?-1:1);break;case"end":x[o]+=m*(n&&u?-1:1);break}return x}const vM=async(e,t,n)=>{const{placement:s="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:f}=Aw(u,s,c),m=s,x={},j=0;for(let v=0;v<l.length;v++){const{name:y,fn:g}=l[v],{x:p,y:w,data:b,reset:S}=await g({x:d,y:f,initialPlacement:s,placement:m,strategy:i,middlewareData:x,rects:u,platform:o,elements:{reference:e,floating:t}});d=p??d,f=w??f,x={...x,[y]:{...x[y],...b}},S&&j<=50&&(j++,typeof S=="object"&&(S.placement&&(m=S.placement),S.rects&&(u=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):S.rects),{x:d,y:f}=Aw(u,m,c)),v=-1)}return{x:d,y:f,placement:m,strategy:i,middlewareData:x}};async function gc(e,t){var n;t===void 0&&(t={});const{x:s,y:i,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:x=0}=Rr(t,e),j=NN(x),y=l[m?f==="floating"?"reference":"floating":f],g=Ud(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(y)))==null||n?y:y.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),p=f==="floating"?{x:s,y:i,width:o.floating.width,height:o.floating.height}:o.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),b=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},S=Ud(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:p,offsetParent:w,strategy:c}):p);return{top:(g.top-S.top+j.top)/b.y,bottom:(S.bottom-g.bottom+j.bottom)/b.y,left:(g.left-S.left+j.left)/b.x,right:(S.right-g.right+j.right)/b.x}}const yM=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:i,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Rr(e,t)||{};if(u==null)return{};const f=NN(d),m={x:n,y:s},x=Fx(i),j=Ox(x),v=await o.getDimensions(u),y=x==="y",g=y?"top":"left",p=y?"bottom":"right",w=y?"clientHeight":"clientWidth",b=a.reference[j]+a.reference[x]-m[x]-a.floating[j],S=m[x]-a.reference[x],T=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let N=T?T[w]:0;(!N||!await(o.isElement==null?void 0:o.isElement(T)))&&(N=l.floating[w]||a.floating[j]);const E=b/2-S/2,P=N/2-v[j]/2-1,D=ji(f[g],P),R=ji(f[p],P),M=D,$=N-v[j]-R,O=N/2-v[j]/2+E,K=Ip(M,O,$),F=!c.arrow&&Ho(i)!=null&&O!==K&&a.reference[j]/2-(O<M?D:R)-v[j]/2<0,V=F?O<M?O-M:O-$:0;return{[x]:m[x]+V,data:{[x]:K,centerOffset:O-K-V,...F&&{alignmentOffset:V}},reset:F}}}),wM=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:i,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:v=!0,...y}=Rr(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const g=Ar(i),p=rr(l),w=Ar(l)===l,b=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=m||(w||!v?[Fd(l)]:fM(l)),T=j!=="none";!m&&T&&S.push(...gM(l,v,j,b));const N=[l,...S],E=await gc(t,y),P=[];let D=((s=a.flip)==null?void 0:s.overflows)||[];if(d&&P.push(E[g]),f){const O=dM(i,o,b);P.push(E[O[0]],E[O[1]])}if(D=[...D,{placement:i,overflows:P}],!P.every(O=>O<=0)){var R,M;const O=(((R=a.flip)==null?void 0:R.index)||0)+1,K=N[O];if(K&&(!(f==="alignment"?p!==rr(K):!1)||D.every(A=>A.overflows[0]>0&&rr(A.placement)===p)))return{data:{index:O,overflows:D},reset:{placement:K}};let F=(M=D.filter(V=>V.overflows[0]<=0).sort((V,A)=>V.overflows[1]-A.overflows[1])[0])==null?void 0:M.placement;if(!F)switch(x){case"bestFit":{var $;const V=($=D.filter(A=>{if(T){const _=rr(A.placement);return _===p||_==="y"}return!0}).map(A=>[A.placement,A.overflows.filter(_=>_>0).reduce((_,C)=>_+C,0)]).sort((A,_)=>A[1]-_[1])[0])==null?void 0:$[0];V&&(F=V);break}case"initialPlacement":F=l;break}if(i!==F)return{reset:{placement:F}}}return{}}}};function Dw(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function $w(e){return oM.some(t=>e[t]>=0)}const jM=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:s="referenceHidden",...i}=Rr(e,t);switch(s){case"referenceHidden":{const a=await gc(t,{...i,elementContext:"reference"}),o=Dw(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:$w(o)}}}case"escaped":{const a=await gc(t,{...i,altBoundary:!0}),o=Dw(a,n.floating);return{data:{escapedOffsets:o,escaped:$w(o)}}}default:return{}}}}},EN=new Set(["left","top"]);async function bM(e,t){const{placement:n,platform:s,elements:i}=e,a=await(s.isRTL==null?void 0:s.isRTL(i.floating)),o=Ar(n),l=Ho(n),c=rr(n)==="y",u=EN.has(o)?-1:1,d=a&&c?-1:1,f=Rr(t,e);let{mainAxis:m,crossAxis:x,alignmentAxis:j}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof j=="number"&&(x=l==="end"?j*-1:j),c?{x:x*d,y:m*u}:{x:m*u,y:x*d}}const _M=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:i,y:a,placement:o,middlewareData:l}=t,c=await bM(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:o}}}}},SM=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:y=>{let{x:g,y:p}=y;return{x:g,y:p}}},...c}=Rr(e,t),u={x:n,y:s},d=await gc(t,c),f=rr(Ar(i)),m=Lx(f);let x=u[m],j=u[f];if(a){const y=m==="y"?"top":"left",g=m==="y"?"bottom":"right",p=x+d[y],w=x-d[g];x=Ip(p,x,w)}if(o){const y=f==="y"?"top":"left",g=f==="y"?"bottom":"right",p=j+d[y],w=j-d[g];j=Ip(p,j,w)}const v=l.fn({...t,[m]:x,[f]:j});return{...v,data:{x:v.x-n,y:v.y-s,enabled:{[m]:a,[f]:o}}}}}},NM=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:i,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Rr(e,t),d={x:n,y:s},f=rr(i),m=Lx(f);let x=d[m],j=d[f];const v=Rr(l,t),y=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const w=m==="y"?"height":"width",b=a.reference[m]-a.floating[w]+y.mainAxis,S=a.reference[m]+a.reference[w]-y.mainAxis;x<b?x=b:x>S&&(x=S)}if(u){var g,p;const w=m==="y"?"width":"height",b=EN.has(Ar(i)),S=a.reference[f]-a.floating[w]+(b&&((g=o.offset)==null?void 0:g[f])||0)+(b?0:y.crossAxis),T=a.reference[f]+a.reference[w]+(b?0:((p=o.offset)==null?void 0:p[f])||0)-(b?y.crossAxis:0);j<S?j=S:j>T&&(j=T)}return{[m]:x,[f]:j}}}},EM=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:i,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Rr(e,t),d=await gc(t,u),f=Ar(i),m=Ho(i),x=rr(i)==="y",{width:j,height:v}=a.floating;let y,g;f==="top"||f==="bottom"?(y=f,g=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(g=f,y=m==="end"?"top":"bottom");const p=v-d.top-d.bottom,w=j-d.left-d.right,b=ji(v-d[y],p),S=ji(j-d[g],w),T=!t.middlewareData.shift;let N=b,E=S;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(E=w),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(N=p),T&&!m){const D=Kn(d.left,0),R=Kn(d.right,0),M=Kn(d.top,0),$=Kn(d.bottom,0);x?E=j-2*(D!==0||R!==0?D+R:Kn(d.left,d.right)):N=v-2*(M!==0||$!==0?M+$:Kn(d.top,d.bottom))}await c({...t,availableWidth:E,availableHeight:N});const P=await o.getDimensions(l.floating);return j!==P.width||v!==P.height?{reset:{rects:!0}}:{}}}};function Tf(){return typeof window<"u"}function qo(e){return CN(e)?(e.nodeName||"").toLowerCase():"#document"}function Xn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function hr(e){var t;return(t=(CN(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function CN(e){return Tf()?e instanceof Node||e instanceof Xn(e).Node:!1}function Bs(e){return Tf()?e instanceof Element||e instanceof Xn(e).Element:!1}function dr(e){return Tf()?e instanceof HTMLElement||e instanceof Xn(e).HTMLElement:!1}function Mw(e){return!Tf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Xn(e).ShadowRoot}const CM=new Set(["inline","contents"]);function Wc(e){const{overflow:t,overflowX:n,overflowY:s,display:i}=Vs(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!CM.has(i)}const TM=new Set(["table","td","th"]);function kM(e){return TM.has(qo(e))}const PM=[":popover-open",":modal"];function kf(e){return PM.some(t=>{try{return e.matches(t)}catch{return!1}})}const RM=["transform","translate","scale","rotate","perspective"],AM=["transform","translate","scale","rotate","perspective","filter"],DM=["paint","layout","strict","content"];function Ux(e){const t=Bx(),n=Bs(e)?Vs(e):e;return RM.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||AM.some(s=>(n.willChange||"").includes(s))||DM.some(s=>(n.contain||"").includes(s))}function $M(e){let t=bi(e);for(;dr(t)&&!$o(t);){if(Ux(t))return t;if(kf(t))return null;t=bi(t)}return null}function Bx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const MM=new Set(["html","body","#document"]);function $o(e){return MM.has(qo(e))}function Vs(e){return Xn(e).getComputedStyle(e)}function Pf(e){return Bs(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function bi(e){if(qo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Mw(e)&&e.host||hr(e);return Mw(t)?t.host:t}function TN(e){const t=bi(e);return $o(t)?e.ownerDocument?e.ownerDocument.body:e.body:dr(t)&&Wc(t)?t:TN(t)}function xc(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=TN(e),a=i===((s=e.ownerDocument)==null?void 0:s.body),o=Xn(i);if(a){const l=Op(o);return t.concat(o,o.visualViewport||[],Wc(i)?i:[],l&&n?xc(l):[])}return t.concat(i,xc(i,[],n))}function Op(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function kN(e){const t=Vs(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const i=dr(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:s,l=Od(n)!==a||Od(s)!==o;return l&&(n=a,s=o),{width:n,height:s,$:l}}function Vx(e){return Bs(e)?e:e.contextElement}function ho(e){const t=Vx(e);if(!dr(t))return or(1);const n=t.getBoundingClientRect(),{width:s,height:i,$:a}=kN(t);let o=(a?Od(n.width):n.width)/s,l=(a?Od(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const IM=or(0);function PN(e){const t=Xn(e);return!Bx()||!t.visualViewport?IM:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function LM(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Xn(e)?!1:t}function xa(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),a=Vx(e);let o=or(1);t&&(s?Bs(s)&&(o=ho(s)):o=ho(e));const l=LM(a,n,s)?PN(a):or(0);let c=(i.left+l.x)/o.x,u=(i.top+l.y)/o.y,d=i.width/o.x,f=i.height/o.y;if(a){const m=Xn(a),x=s&&Bs(s)?Xn(s):s;let j=m,v=Op(j);for(;v&&s&&x!==j;){const y=ho(v),g=v.getBoundingClientRect(),p=Vs(v),w=g.left+(v.clientLeft+parseFloat(p.paddingLeft))*y.x,b=g.top+(v.clientTop+parseFloat(p.paddingTop))*y.y;c*=y.x,u*=y.y,d*=y.x,f*=y.y,c+=w,u+=b,j=Xn(v),v=Op(j)}}return Ud({width:d,height:f,x:c,y:u})}function zx(e,t){const n=Pf(e).scrollLeft;return t?t.left+n:xa(hr(e)).left+n}function RN(e,t,n){n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=s.left+t.scrollLeft-(n?0:zx(e,s)),a=s.top+t.scrollTop;return{x:i,y:a}}function OM(e){let{elements:t,rect:n,offsetParent:s,strategy:i}=e;const a=i==="fixed",o=hr(s),l=t?kf(t.floating):!1;if(s===o||l&&a)return n;let c={scrollLeft:0,scrollTop:0},u=or(1);const d=or(0),f=dr(s);if((f||!f&&!a)&&((qo(s)!=="body"||Wc(o))&&(c=Pf(s)),dr(s))){const x=xa(s);u=ho(s),d.x=x.x+s.clientLeft,d.y=x.y+s.clientTop}const m=o&&!f&&!a?RN(o,c,!0):or(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:n.y*u.y-c.scrollTop*u.y+d.y+m.y}}function FM(e){return Array.from(e.getClientRects())}function UM(e){const t=hr(e),n=Pf(e),s=e.ownerDocument.body,i=Kn(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),a=Kn(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let o=-n.scrollLeft+zx(e);const l=-n.scrollTop;return Vs(s).direction==="rtl"&&(o+=Kn(t.clientWidth,s.clientWidth)-i),{width:i,height:a,x:o,y:l}}function BM(e,t){const n=Xn(e),s=hr(e),i=n.visualViewport;let a=s.clientWidth,o=s.clientHeight,l=0,c=0;if(i){a=i.width,o=i.height;const u=Bx();(!u||u&&t==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:a,height:o,x:l,y:c}}const VM=new Set(["absolute","fixed"]);function zM(e,t){const n=xa(e,!0,t==="fixed"),s=n.top+e.clientTop,i=n.left+e.clientLeft,a=dr(e)?ho(e):or(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=i*a.x,u=s*a.y;return{width:o,height:l,x:c,y:u}}function Iw(e,t,n){let s;if(t==="viewport")s=BM(e,n);else if(t==="document")s=UM(hr(e));else if(Bs(t))s=zM(t,n);else{const i=PN(e);s={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Ud(s)}function AN(e,t){const n=bi(e);return n===t||!Bs(n)||$o(n)?!1:Vs(n).position==="fixed"||AN(n,t)}function WM(e,t){const n=t.get(e);if(n)return n;let s=xc(e,[],!1).filter(l=>Bs(l)&&qo(l)!=="body"),i=null;const a=Vs(e).position==="fixed";let o=a?bi(e):e;for(;Bs(o)&&!$o(o);){const l=Vs(o),c=Ux(o);!c&&l.position==="fixed"&&(i=null),(a?!c&&!i:!c&&l.position==="static"&&!!i&&VM.has(i.position)||Wc(o)&&!c&&AN(e,o))?s=s.filter(d=>d!==o):i=l,o=bi(o)}return t.set(e,s),s}function HM(e){let{element:t,boundary:n,rootBoundary:s,strategy:i}=e;const o=[...n==="clippingAncestors"?kf(t)?[]:WM(t,this._c):[].concat(n),s],l=o[0],c=o.reduce((u,d)=>{const f=Iw(t,d,i);return u.top=Kn(f.top,u.top),u.right=ji(f.right,u.right),u.bottom=ji(f.bottom,u.bottom),u.left=Kn(f.left,u.left),u},Iw(t,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function qM(e){const{width:t,height:n}=kN(e);return{width:t,height:n}}function KM(e,t,n){const s=dr(t),i=hr(t),a=n==="fixed",o=xa(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=or(0);function u(){c.x=zx(i)}if(s||!s&&!a)if((qo(t)!=="body"||Wc(i))&&(l=Pf(t)),s){const x=xa(t,!0,a,t);c.x=x.x+t.clientLeft,c.y=x.y+t.clientTop}else i&&u();a&&!s&&i&&u();const d=i&&!s&&!a?RN(i,l):or(0),f=o.left+l.scrollLeft-c.x-d.x,m=o.top+l.scrollTop-c.y-d.y;return{x:f,y:m,width:o.width,height:o.height}}function Yh(e){return Vs(e).position==="static"}function Lw(e,t){if(!dr(e)||Vs(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return hr(e)===n&&(n=n.ownerDocument.body),n}function DN(e,t){const n=Xn(e);if(kf(e))return n;if(!dr(e)){let i=bi(e);for(;i&&!$o(i);){if(Bs(i)&&!Yh(i))return i;i=bi(i)}return n}let s=Lw(e,t);for(;s&&kM(s)&&Yh(s);)s=Lw(s,t);return s&&$o(s)&&Yh(s)&&!Ux(s)?n:s||$M(e)||n}const GM=async function(e){const t=this.getOffsetParent||DN,n=this.getDimensions,s=await n(e.floating);return{reference:KM(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function YM(e){return Vs(e).direction==="rtl"}const QM={convertOffsetParentRelativeRectToViewportRelativeRect:OM,getDocumentElement:hr,getClippingRect:HM,getOffsetParent:DN,getElementRects:GM,getClientRects:FM,getDimensions:qM,getScale:ho,isElement:Bs,isRTL:YM};function $N(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function XM(e,t){let n=null,s;const i=hr(e);function a(){var l;clearTimeout(s),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:d,top:f,width:m,height:x}=u;if(l||t(),!m||!x)return;const j=Cu(f),v=Cu(i.clientWidth-(d+m)),y=Cu(i.clientHeight-(f+x)),g=Cu(d),w={rootMargin:-j+"px "+-v+"px "+-y+"px "+-g+"px",threshold:Kn(0,ji(1,c))||1};let b=!0;function S(T){const N=T[0].intersectionRatio;if(N!==c){if(!b)return o();N?o(!1,N):s=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!$N(u,e.getBoundingClientRect())&&o(),b=!1}try{n=new IntersectionObserver(S,{...w,root:i.ownerDocument})}catch{n=new IntersectionObserver(S,w)}n.observe(e)}return o(!0),a}function JM(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,u=Vx(e),d=i||a?[...u?xc(u):[],...xc(t)]:[];d.forEach(g=>{i&&g.addEventListener("scroll",n,{passive:!0}),a&&g.addEventListener("resize",n)});const f=u&&l?XM(u,n):null;let m=-1,x=null;o&&(x=new ResizeObserver(g=>{let[p]=g;p&&p.target===u&&x&&(x.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var w;(w=x)==null||w.observe(t)})),n()}),u&&!c&&x.observe(u),x.observe(t));let j,v=c?xa(e):null;c&&y();function y(){const g=xa(e);v&&!$N(v,g)&&n(),v=g,j=requestAnimationFrame(y)}return n(),()=>{var g;d.forEach(p=>{i&&p.removeEventListener("scroll",n),a&&p.removeEventListener("resize",n)}),f==null||f(),(g=x)==null||g.disconnect(),x=null,c&&cancelAnimationFrame(j)}}const ZM=_M,eI=SM,tI=wM,nI=EM,sI=jM,Ow=yM,rI=NM,iI=(e,t,n)=>{const s=new Map,i={platform:QM,...n},a={...i.platform,_c:s};return vM(e,t,{...i,platform:a})};var aI=typeof document<"u",oI=function(){},sd=aI?h.useLayoutEffect:oI;function Bd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!Bd(e[s],t[s]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,i[s]))return!1;for(s=n;s--!==0;){const a=i[s];if(!(a==="_owner"&&e.$$typeof)&&!Bd(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function MN(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Fw(e,t){const n=MN(e);return Math.round(t*n)/n}function Qh(e){const t=h.useRef(e);return sd(()=>{t.current=e}),t}function lI(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:i,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=h.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,x]=h.useState(s);Bd(m,s)||x(s);const[j,v]=h.useState(null),[y,g]=h.useState(null),p=h.useCallback(A=>{A!==T.current&&(T.current=A,v(A))},[]),w=h.useCallback(A=>{A!==N.current&&(N.current=A,g(A))},[]),b=a||j,S=o||y,T=h.useRef(null),N=h.useRef(null),E=h.useRef(d),P=c!=null,D=Qh(c),R=Qh(i),M=Qh(u),$=h.useCallback(()=>{if(!T.current||!N.current)return;const A={placement:t,strategy:n,middleware:m};R.current&&(A.platform=R.current),iI(T.current,N.current,A).then(_=>{const C={..._,isPositioned:M.current!==!1};O.current&&!Bd(E.current,C)&&(E.current=C,vs.flushSync(()=>{f(C)}))})},[m,t,n,R,M]);sd(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(A=>({...A,isPositioned:!1})))},[u]);const O=h.useRef(!1);sd(()=>(O.current=!0,()=>{O.current=!1}),[]),sd(()=>{if(b&&(T.current=b),S&&(N.current=S),b&&S){if(D.current)return D.current(b,S,$);$()}},[b,S,$,D,P]);const K=h.useMemo(()=>({reference:T,floating:N,setReference:p,setFloating:w}),[p,w]),F=h.useMemo(()=>({reference:b,floating:S}),[b,S]),V=h.useMemo(()=>{const A={position:n,left:0,top:0};if(!F.floating)return A;const _=Fw(F.floating,d.x),C=Fw(F.floating,d.y);return l?{...A,transform:"translate("+_+"px, "+C+"px)",...MN(F.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:_,top:C}},[n,l,F.floating,d.x,d.y]);return h.useMemo(()=>({...d,update:$,refs:K,elements:F,floatingStyles:V}),[d,$,K,F,V])}const cI=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:i}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?Ow({element:s.current,padding:i}).fn(n):{}:s?Ow({element:s,padding:i}).fn(n):{}}}},uI=(e,t)=>({...ZM(e),options:[e,t]}),dI=(e,t)=>({...eI(e),options:[e,t]}),fI=(e,t)=>({...rI(e),options:[e,t]}),hI=(e,t)=>({...tI(e),options:[e,t]}),mI=(e,t)=>({...nI(e),options:[e,t]}),pI=(e,t)=>({...sI(e),options:[e,t]}),gI=(e,t)=>({...cI(e),options:[e,t]});var xI="Arrow",IN=h.forwardRef((e,t)=>{const{children:n,width:s=10,height:i=5,...a}=e;return r.jsx(ve.svg,{...a,ref:t,width:s,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});IN.displayName=xI;var vI=IN;function Wx(e){const[t,n]=h.useState(void 0);return Tt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var Hx="Popper",[LN,Rf]=ns(Hx),[yI,ON]=LN(Hx),FN=e=>{const{__scopePopper:t,children:n}=e,[s,i]=h.useState(null);return r.jsx(yI,{scope:t,anchor:s,onAnchorChange:i,children:n})};FN.displayName=Hx;var UN="PopperAnchor",BN=h.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:s,...i}=e,a=ON(UN,n),o=h.useRef(null),l=Ke(t,o);return h.useEffect(()=>{a.onAnchorChange((s==null?void 0:s.current)||o.current)}),s?null:r.jsx(ve.div,{...i,ref:l})});BN.displayName=UN;var qx="PopperContent",[wI,jI]=LN(qx),VN=h.forwardRef((e,t)=>{var z,W,G,U,se,ce;const{__scopePopper:n,side:s="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:x="optimized",onPlaced:j,...v}=e,y=ON(qx,n),[g,p]=h.useState(null),w=Ke(t,ue=>p(ue)),[b,S]=h.useState(null),T=Wx(b),N=(T==null?void 0:T.width)??0,E=(T==null?void 0:T.height)??0,P=s+(a!=="center"?"-"+a:""),D=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},R=Array.isArray(u)?u:[u],M=R.length>0,$={padding:D,boundary:R.filter(_I),altBoundary:M},{refs:O,floatingStyles:K,placement:F,isPositioned:V,middlewareData:A}=lI({strategy:"fixed",placement:P,whileElementsMounted:(...ue)=>JM(...ue,{animationFrame:x==="always"}),elements:{reference:y.anchor},middleware:[uI({mainAxis:i+E,alignmentAxis:o}),c&&dI({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?fI():void 0,...$}),c&&hI({...$}),mI({...$,apply:({elements:ue,rects:ge,availableWidth:fe,availableHeight:ye})=>{const{width:Se,height:Ze}=ge.reference,oe=ue.floating.style;oe.setProperty("--radix-popper-available-width",`${fe}px`),oe.setProperty("--radix-popper-available-height",`${ye}px`),oe.setProperty("--radix-popper-anchor-width",`${Se}px`),oe.setProperty("--radix-popper-anchor-height",`${Ze}px`)}}),b&&gI({element:b,padding:l}),SI({arrowWidth:N,arrowHeight:E}),m&&pI({strategy:"referenceHidden",...$})]}),[_,C]=HN(F),k=Zn(j);Tt(()=>{V&&(k==null||k())},[V,k]);const L=(z=A.arrow)==null?void 0:z.x,I=(W=A.arrow)==null?void 0:W.y,H=((G=A.arrow)==null?void 0:G.centerOffset)!==0,[ae,Q]=h.useState();return Tt(()=>{g&&Q(window.getComputedStyle(g).zIndex)},[g]),r.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:V?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ae,"--radix-popper-transform-origin":[(U=A.transformOrigin)==null?void 0:U.x,(se=A.transformOrigin)==null?void 0:se.y].join(" "),...((ce=A.hide)==null?void 0:ce.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(wI,{scope:n,placedSide:_,onArrowChange:S,arrowX:L,arrowY:I,shouldHideArrow:H,children:r.jsx(ve.div,{"data-side":_,"data-align":C,...v,ref:w,style:{...v.style,animation:V?void 0:"none"}})})})});VN.displayName=qx;var zN="PopperArrow",bI={top:"bottom",right:"left",bottom:"top",left:"right"},WN=h.forwardRef(function(t,n){const{__scopePopper:s,...i}=t,a=jI(zN,s),o=bI[a.placedSide];return r.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:r.jsx(vI,{...i,ref:n,style:{...i.style,display:"block"}})})});WN.displayName=zN;function _I(e){return e!==null}var SI=e=>({name:"transformOrigin",options:e,fn(t){var y,g,p;const{placement:n,rects:s,middlewareData:i}=t,o=((y=i.arrow)==null?void 0:y.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=HN(n),f={start:"0%",center:"50%",end:"100%"}[d],m=(((g=i.arrow)==null?void 0:g.x)??0)+l/2,x=(((p=i.arrow)==null?void 0:p.y)??0)+c/2;let j="",v="";return u==="bottom"?(j=o?f:`${m}px`,v=`${-c}px`):u==="top"?(j=o?f:`${m}px`,v=`${s.floating.height+c}px`):u==="right"?(j=`${-c}px`,v=o?f:`${x}px`):u==="left"&&(j=`${s.floating.width+c}px`,v=o?f:`${x}px`),{data:{x:j,y:v}}}});function HN(e){const[t,n="center"]=e.split("-");return[t,n]}var NI=FN,qN=BN,KN=VN,GN=WN,[Af,U7]=ns("Tooltip",[Rf]),Kx=Rf(),YN="TooltipProvider",EI=700,Uw="tooltip.open",[CI,QN]=Af(YN),XN=e=>{const{__scopeTooltip:t,delayDuration:n=EI,skipDelayDuration:s=300,disableHoverableContent:i=!1,children:a}=e,o=h.useRef(!0),l=h.useRef(!1),c=h.useRef(0);return h.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),r.jsx(CI,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:h.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:h.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,s)},[s]),isPointerInTransitRef:l,onPointerInTransitChange:h.useCallback(u=>{l.current=u},[]),disableHoverableContent:i,children:a})};XN.displayName=YN;var JN="Tooltip",[B7,Hc]=Af(JN),Fp="TooltipTrigger",TI=h.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,i=Hc(Fp,n),a=QN(Fp,n),o=Kx(n),l=h.useRef(null),c=Ke(t,l,i.onTriggerChange),u=h.useRef(!1),d=h.useRef(!1),f=h.useCallback(()=>u.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),r.jsx(qN,{asChild:!0,...o,children:r.jsx(ve.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...s,ref:c,onPointerMove:xe(e.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:xe(e.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:xe(e.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:xe(e.onFocus,()=>{u.current||i.onOpen()}),onBlur:xe(e.onBlur,i.onClose),onClick:xe(e.onClick,i.onClose)})})});TI.displayName=Fp;var Gx="TooltipPortal",[kI,PI]=Af(Gx,{forceMount:void 0}),ZN=e=>{const{__scopeTooltip:t,forceMount:n,children:s,container:i}=e,a=Hc(Gx,t);return r.jsx(kI,{scope:t,forceMount:n,children:r.jsx(fr,{present:n||a.open,children:r.jsx(Bc,{asChild:!0,container:i,children:s})})})};ZN.displayName=Gx;var Mo="TooltipContent",e1=h.forwardRef((e,t)=>{const n=PI(Mo,e.__scopeTooltip),{forceMount:s=n.forceMount,side:i="top",...a}=e,o=Hc(Mo,e.__scopeTooltip);return r.jsx(fr,{present:s||o.open,children:o.disableHoverableContent?r.jsx(t1,{side:i,...a,ref:t}):r.jsx(RI,{side:i,...a,ref:t})})}),RI=h.forwardRef((e,t)=>{const n=Hc(Mo,e.__scopeTooltip),s=QN(Mo,e.__scopeTooltip),i=h.useRef(null),a=Ke(t,i),[o,l]=h.useState(null),{trigger:c,onClose:u}=n,d=i.current,{onPointerInTransitChange:f}=s,m=h.useCallback(()=>{l(null),f(!1)},[f]),x=h.useCallback((j,v)=>{const y=j.currentTarget,g={x:j.clientX,y:j.clientY},p=II(g,y.getBoundingClientRect()),w=LI(g,p),b=OI(v.getBoundingClientRect()),S=UI([...w,...b]);l(S),f(!0)},[f]);return h.useEffect(()=>()=>m(),[m]),h.useEffect(()=>{if(c&&d){const j=y=>x(y,d),v=y=>x(y,c);return c.addEventListener("pointerleave",j),d.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",j),d.removeEventListener("pointerleave",v)}}},[c,d,x,m]),h.useEffect(()=>{if(o){const j=v=>{const y=v.target,g={x:v.clientX,y:v.clientY},p=(c==null?void 0:c.contains(y))||(d==null?void 0:d.contains(y)),w=!FI(g,o);p?m():w&&(m(),u())};return document.addEventListener("pointermove",j),()=>document.removeEventListener("pointermove",j)}},[c,d,o,u,m]),r.jsx(t1,{...e,ref:a})}),[AI,DI]=Af(JN,{isInside:!1}),$I=aA("TooltipContent"),t1=h.forwardRef((e,t)=>{const{__scopeTooltip:n,children:s,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=e,c=Hc(Mo,n),u=Kx(n),{onClose:d}=c;return h.useEffect(()=>(document.addEventListener(Uw,d),()=>document.removeEventListener(Uw,d)),[d]),h.useEffect(()=>{if(c.trigger){const f=m=>{const x=m.target;x!=null&&x.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),r.jsx(Uc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:r.jsxs(KN,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[r.jsx($I,{children:s}),r.jsx(AI,{scope:n,isInside:!0,children:r.jsx(TA,{id:c.contentId,role:"tooltip",children:i||s})})]})})});e1.displayName=Mo;var n1="TooltipArrow",MI=h.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,i=Kx(n);return DI(n1,n).isInside?null:r.jsx(GN,{...i,...s,ref:t})});MI.displayName=n1;function II(e,t){const n=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,s,i,a)){case a:return"left";case i:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function LI(e,t,n=5){const s=[];switch(t){case"top":s.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":s.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":s.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":s.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return s}function OI(e){const{top:t,right:n,bottom:s,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:s},{x:i,y:s}]}function FI(e,t){const{x:n,y:s}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a],c=t[o],u=l.x,d=l.y,f=c.x,m=c.y;d>s!=m>s&&n<(f-u)*(s-d)/(m-d)+u&&(i=!i)}return i}function UI(e){const t=e.slice();return t.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),BI(t)}function BI(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const i=e[s];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let s=e.length-1;s>=0;s--){const i=e[s];for(;n.length>=2;){const a=n[n.length-1],o=n[n.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var VI=XN,zI=ZN,s1=e1;const WI=VI,HI=h.forwardRef(({className:e,sideOffset:t=4,...n},s)=>r.jsx(zI,{children:r.jsx(s1,{ref:s,sideOffset:t,className:pe("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n})}));HI.displayName=s1.displayName;var Df=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},$f=typeof window>"u"||"Deno"in globalThis;function Rs(){}function qI(e,t){return typeof e=="function"?e(t):e}function KI(e){return typeof e=="number"&&e>=0&&e!==1/0}function GI(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Up(e,t){return typeof e=="function"?e(t):e}function YI(e,t){return typeof e=="function"?e(t):e}function Bw(e,t){const{type:n="all",exact:s,fetchStatus:i,predicate:a,queryKey:o,stale:l}=e;if(o){if(s){if(t.queryHash!==Yx(o,t.options))return!1}else if(!yc(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||a&&!a(t))}function Vw(e,t){const{exact:n,status:s,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(vc(t.options.mutationKey)!==vc(a))return!1}else if(!yc(t.options.mutationKey,a))return!1}return!(s&&t.state.status!==s||i&&!i(t))}function Yx(e,t){return((t==null?void 0:t.queryKeyHashFn)||vc)(e)}function vc(e){return JSON.stringify(e,(t,n)=>Bp(n)?Object.keys(n).sort().reduce((s,i)=>(s[i]=n[i],s),{}):n)}function yc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>yc(e[n],t[n])):!1}function r1(e,t){if(e===t)return e;const n=zw(e)&&zw(t);if(n||Bp(e)&&Bp(t)){const s=n?e:Object.keys(e),i=s.length,a=n?t:Object.keys(t),o=a.length,l=n?[]:{},c=new Set(s);let u=0;for(let d=0;d<o;d++){const f=n?d:a[d];(!n&&c.has(f)||n)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,u++):(l[f]=r1(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&u++)}return i===o&&u===i?e:l}return t}function zw(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Bp(e){if(!Ww(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Ww(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Ww(e){return Object.prototype.toString.call(e)==="[object Object]"}function QI(e){return new Promise(t=>{setTimeout(t,e)})}function XI(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?r1(e,t):t}function JI(e,t,n=0){const s=[...e,t];return n&&s.length>n?s.slice(1):s}function ZI(e,t,n=0){const s=[t,...e];return n&&s.length>n?s.slice(0,-1):s}var Qx=Symbol();function i1(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Qx?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var na,ei,go,hb,eL=(hb=class extends Df{constructor(){super();Be(this,na);Be(this,ei);Be(this,go);Ne(this,go,t=>{if(!$f&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){q(this,ei)||this.setEventListener(q(this,go))}onUnsubscribe(){var t;this.hasListeners()||((t=q(this,ei))==null||t.call(this),Ne(this,ei,void 0))}setEventListener(t){var n;Ne(this,go,t),(n=q(this,ei))==null||n.call(this),Ne(this,ei,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){q(this,na)!==t&&(Ne(this,na,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof q(this,na)=="boolean"?q(this,na):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},na=new WeakMap,ei=new WeakMap,go=new WeakMap,hb),a1=new eL,xo,ti,vo,mb,tL=(mb=class extends Df{constructor(){super();Be(this,xo,!0);Be(this,ti);Be(this,vo);Ne(this,vo,t=>{if(!$f&&window.addEventListener){const n=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){q(this,ti)||this.setEventListener(q(this,vo))}onUnsubscribe(){var t;this.hasListeners()||((t=q(this,ti))==null||t.call(this),Ne(this,ti,void 0))}setEventListener(t){var n;Ne(this,vo,t),(n=q(this,ti))==null||n.call(this),Ne(this,ti,t(this.setOnline.bind(this)))}setOnline(t){q(this,xo)!==t&&(Ne(this,xo,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return q(this,xo)}},xo=new WeakMap,ti=new WeakMap,vo=new WeakMap,mb),Vd=new tL;function nL(){let e,t;const n=new Promise((i,a)=>{e=i,t=a});n.status="pending",n.catch(()=>{});function s(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{s({status:"fulfilled",value:i}),e(i)},n.reject=i=>{s({status:"rejected",reason:i}),t(i)},n}function sL(e){return Math.min(1e3*2**e,3e4)}function o1(e){return(e??"online")==="online"?Vd.isOnline():!0}var l1=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Xh(e){return e instanceof l1}function c1(e){let t=!1,n=0,s=!1,i;const a=nL(),o=v=>{var y;s||(m(new l1(v)),(y=e.abort)==null||y.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>a1.isFocused()&&(e.networkMode==="always"||Vd.isOnline())&&e.canRun(),d=()=>o1(e.networkMode)&&e.canRun(),f=v=>{var y;s||(s=!0,(y=e.onSuccess)==null||y.call(e,v),i==null||i(),a.resolve(v))},m=v=>{var y;s||(s=!0,(y=e.onError)==null||y.call(e,v),i==null||i(),a.reject(v))},x=()=>new Promise(v=>{var y;i=g=>{(s||u())&&v(g)},(y=e.onPause)==null||y.call(e)}).then(()=>{var v;i=void 0,s||(v=e.onContinue)==null||v.call(e)}),j=()=>{if(s)return;let v;const y=n===0?e.initialPromise:void 0;try{v=y??e.fn()}catch(g){v=Promise.reject(g)}Promise.resolve(v).then(f).catch(g=>{var T;if(s)return;const p=e.retry??($f?0:3),w=e.retryDelay??sL,b=typeof w=="function"?w(n,g):w,S=p===!0||typeof p=="number"&&n<p||typeof p=="function"&&p(n,g);if(t||!S){m(g);return}n++,(T=e.onFail)==null||T.call(e,n,g),QI(b).then(()=>u()?void 0:x()).then(()=>{t?m(g):j()})})};return{promise:a,cancel:o,continue:()=>(i==null||i(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?j():x().then(j),a)}}var rL=e=>setTimeout(e,0);function iL(){let e=[],t=0,n=l=>{l()},s=l=>{l()},i=rL;const a=l=>{t?e.push(l):i(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&i(()=>{s(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{i=l}}}var En=iL(),sa,pb,u1=(pb=class{constructor(){Be(this,sa)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),KI(this.gcTime)&&Ne(this,sa,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??($f?1/0:5*60*1e3))}clearGcTimeout(){q(this,sa)&&(clearTimeout(q(this,sa)),Ne(this,sa,void 0))}},sa=new WeakMap,pb),yo,ra,hs,ia,dn,Dc,aa,As,pr,gb,aL=(gb=class extends u1{constructor(t){super();Be(this,As);Be(this,yo);Be(this,ra);Be(this,hs);Be(this,ia);Be(this,dn);Be(this,Dc);Be(this,aa);Ne(this,aa,!1),Ne(this,Dc,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ne(this,ia,t.client),Ne(this,hs,q(this,ia).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ne(this,yo,lL(this.options)),this.state=t.state??q(this,yo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=q(this,dn))==null?void 0:t.promise}setOptions(t){this.options={...q(this,Dc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&q(this,hs).remove(this)}setData(t,n){const s=XI(this.state.data,t,this.options);return on(this,As,pr).call(this,{data:s,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),s}setState(t,n){on(this,As,pr).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var s,i;const n=(s=q(this,dn))==null?void 0:s.promise;return(i=q(this,dn))==null||i.cancel(t),n?n.then(Rs).catch(Rs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(q(this,yo))}isActive(){return this.observers.some(t=>YI(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Qx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Up(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!GI(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=q(this,dn))==null||n.continue()}onOnline(){var n;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=q(this,dn))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),q(this,hs).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(q(this,dn)&&(q(this,aa)?q(this,dn).cancel({revert:!0}):q(this,dn).cancelRetry()),this.scheduleGc()),q(this,hs).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||on(this,As,pr).call(this,{type:"invalidate"})}fetch(t,n){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(q(this,dn))return q(this,dn).continueRetry(),q(this,dn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(x=>x.options.queryFn);m&&this.setOptions(m.options)}const s=new AbortController,i=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(Ne(this,aa,!0),s.signal)})},a=()=>{const m=i1(this.options,n),j=(()=>{const v={client:q(this,ia),queryKey:this.queryKey,meta:this.meta};return i(v),v})();return Ne(this,aa,!1),this.options.persister?this.options.persister(m,j,this):m(j)},l=(()=>{const m={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:q(this,ia),state:this.state,fetchFn:a};return i(m),m})();(u=this.options.behavior)==null||u.onFetch(l,this),Ne(this,ra,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&on(this,As,pr).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=m=>{var x,j,v,y;Xh(m)&&m.silent||on(this,As,pr).call(this,{type:"error",error:m}),Xh(m)||((j=(x=q(this,hs).config).onError)==null||j.call(x,m,this),(y=(v=q(this,hs).config).onSettled)==null||y.call(v,this.state.data,m,this)),this.scheduleGc()};return Ne(this,dn,c1({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:s.abort.bind(s),onSuccess:m=>{var x,j,v,y;if(m===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(g){c(g);return}(j=(x=q(this,hs).config).onSuccess)==null||j.call(x,m,this),(y=(v=q(this,hs).config).onSettled)==null||y.call(v,m,this.state.error,this),this.scheduleGc()},onError:c,onFail:(m,x)=>{on(this,As,pr).call(this,{type:"failed",failureCount:m,error:x})},onPause:()=>{on(this,As,pr).call(this,{type:"pause"})},onContinue:()=>{on(this,As,pr).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),q(this,dn).start()}},yo=new WeakMap,ra=new WeakMap,hs=new WeakMap,ia=new WeakMap,dn=new WeakMap,Dc=new WeakMap,aa=new WeakMap,As=new WeakSet,pr=function(t){const n=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...oL(s.data,this.options),fetchMeta:t.meta??null};case"success":return Ne(this,ra,void 0),{...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return Xh(i)&&i.revert&&q(this,ra)?{...q(this,ra),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=n(this.state),En.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),q(this,hs).notify({query:this,type:"updated",action:t})})},gb);function oL(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:o1(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function lL(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,s=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Xs,xb,cL=(xb=class extends Df{constructor(t={}){super();Be(this,Xs);this.config=t,Ne(this,Xs,new Map)}build(t,n,s){const i=n.queryKey,a=n.queryHash??Yx(i,n);let o=this.get(a);return o||(o=new aL({client:t,queryKey:i,queryHash:a,options:t.defaultQueryOptions(n),state:s,defaultOptions:t.getQueryDefaults(i)}),this.add(o)),o}add(t){q(this,Xs).has(t.queryHash)||(q(this,Xs).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=q(this,Xs).get(t.queryHash);n&&(t.destroy(),n===t&&q(this,Xs).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){En.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return q(this,Xs).get(t)}getAll(){return[...q(this,Xs).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(s=>Bw(n,s))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(s=>Bw(t,s)):n}notify(t){En.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){En.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){En.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Xs=new WeakMap,xb),Js,Sn,oa,Zs,zr,vb,uL=(vb=class extends u1{constructor(t){super();Be(this,Zs);Be(this,Js);Be(this,Sn);Be(this,oa);this.mutationId=t.mutationId,Ne(this,Sn,t.mutationCache),Ne(this,Js,[]),this.state=t.state||dL(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){q(this,Js).includes(t)||(q(this,Js).push(t),this.clearGcTimeout(),q(this,Sn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ne(this,Js,q(this,Js).filter(n=>n!==t)),this.scheduleGc(),q(this,Sn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){q(this,Js).length||(this.state.status==="pending"?this.scheduleGc():q(this,Sn).remove(this))}continue(){var t;return((t=q(this,oa))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,o,l,c,u,d,f,m,x,j,v,y,g,p,w,b,S,T,N,E;const n=()=>{on(this,Zs,zr).call(this,{type:"continue"})};Ne(this,oa,c1({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(P,D)=>{on(this,Zs,zr).call(this,{type:"failed",failureCount:P,error:D})},onPause:()=>{on(this,Zs,zr).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>q(this,Sn).canRun(this)}));const s=this.state.status==="pending",i=!q(this,oa).canStart();try{if(s)n();else{on(this,Zs,zr).call(this,{type:"pending",variables:t,isPaused:i}),await((o=(a=q(this,Sn).config).onMutate)==null?void 0:o.call(a,t,this));const D=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));D!==this.state.context&&on(this,Zs,zr).call(this,{type:"pending",context:D,variables:t,isPaused:i})}const P=await q(this,oa).start();return await((d=(u=q(this,Sn).config).onSuccess)==null?void 0:d.call(u,P,t,this.state.context,this)),await((m=(f=this.options).onSuccess)==null?void 0:m.call(f,P,t,this.state.context)),await((j=(x=q(this,Sn).config).onSettled)==null?void 0:j.call(x,P,null,this.state.variables,this.state.context,this)),await((y=(v=this.options).onSettled)==null?void 0:y.call(v,P,null,t,this.state.context)),on(this,Zs,zr).call(this,{type:"success",data:P}),P}catch(P){try{throw await((p=(g=q(this,Sn).config).onError)==null?void 0:p.call(g,P,t,this.state.context,this)),await((b=(w=this.options).onError)==null?void 0:b.call(w,P,t,this.state.context)),await((T=(S=q(this,Sn).config).onSettled)==null?void 0:T.call(S,void 0,P,this.state.variables,this.state.context,this)),await((E=(N=this.options).onSettled)==null?void 0:E.call(N,void 0,P,t,this.state.context)),P}finally{on(this,Zs,zr).call(this,{type:"error",error:P})}}finally{q(this,Sn).runNext(this)}}},Js=new WeakMap,Sn=new WeakMap,oa=new WeakMap,Zs=new WeakSet,zr=function(t){const n=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),En.batch(()=>{q(this,Js).forEach(s=>{s.onMutationUpdate(t)}),q(this,Sn).notify({mutation:this,type:"updated",action:t})})},vb);function dL(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var jr,Ds,$c,yb,fL=(yb=class extends Df{constructor(t={}){super();Be(this,jr);Be(this,Ds);Be(this,$c);this.config=t,Ne(this,jr,new Set),Ne(this,Ds,new Map),Ne(this,$c,0)}build(t,n,s){const i=new uL({mutationCache:this,mutationId:++ou(this,$c)._,options:t.defaultMutationOptions(n),state:s});return this.add(i),i}add(t){q(this,jr).add(t);const n=Tu(t);if(typeof n=="string"){const s=q(this,Ds).get(n);s?s.push(t):q(this,Ds).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(q(this,jr).delete(t)){const n=Tu(t);if(typeof n=="string"){const s=q(this,Ds).get(n);if(s)if(s.length>1){const i=s.indexOf(t);i!==-1&&s.splice(i,1)}else s[0]===t&&q(this,Ds).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Tu(t);if(typeof n=="string"){const s=q(this,Ds).get(n),i=s==null?void 0:s.find(a=>a.state.status==="pending");return!i||i===t}else return!0}runNext(t){var s;const n=Tu(t);if(typeof n=="string"){const i=(s=q(this,Ds).get(n))==null?void 0:s.find(a=>a!==t&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){En.batch(()=>{q(this,jr).forEach(t=>{this.notify({type:"removed",mutation:t})}),q(this,jr).clear(),q(this,Ds).clear()})}getAll(){return Array.from(q(this,jr))}find(t){const n={exact:!0,...t};return this.getAll().find(s=>Vw(n,s))}findAll(t={}){return this.getAll().filter(n=>Vw(t,n))}notify(t){En.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return En.batch(()=>Promise.all(t.map(n=>n.continue().catch(Rs))))}},jr=new WeakMap,Ds=new WeakMap,$c=new WeakMap,yb);function Tu(e){var t;return(t=e.options.scope)==null?void 0:t.id}function Hw(e){return{onFetch:(t,n)=>{var d,f,m,x,j;const s=t.options,i=(m=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,a=((x=t.state.data)==null?void 0:x.pages)||[],o=((j=t.state.data)==null?void 0:j.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const y=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},g=i1(t.options,t.fetchOptions),p=async(w,b,S)=>{if(v)return Promise.reject();if(b==null&&w.pages.length)return Promise.resolve(w);const N=(()=>{const R={client:t.client,queryKey:t.queryKey,pageParam:b,direction:S?"backward":"forward",meta:t.options.meta};return y(R),R})(),E=await g(N),{maxPages:P}=t.options,D=S?ZI:JI;return{pages:D(w.pages,E,P),pageParams:D(w.pageParams,b,P)}};if(i&&a.length){const w=i==="backward",b=w?hL:qw,S={pages:a,pageParams:o},T=b(s,S);l=await p(S,T,w)}else{const w=e??a.length;do{const b=c===0?o[0]??s.initialPageParam:qw(s,l);if(c>0&&b==null)break;l=await p(l,b),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var v,y;return(y=(v=t.options).persister)==null?void 0:y.call(v,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function qw(e,{pages:t,pageParams:n}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,n[s],n):void 0}function hL(e,{pages:t,pageParams:n}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,n[0],n):void 0}var yt,ni,si,wo,jo,ri,bo,_o,wb,mL=(wb=class{constructor(e={}){Be(this,yt);Be(this,ni);Be(this,si);Be(this,wo);Be(this,jo);Be(this,ri);Be(this,bo);Be(this,_o);Ne(this,yt,e.queryCache||new cL),Ne(this,ni,e.mutationCache||new fL),Ne(this,si,e.defaultOptions||{}),Ne(this,wo,new Map),Ne(this,jo,new Map),Ne(this,ri,0)}mount(){ou(this,ri)._++,q(this,ri)===1&&(Ne(this,bo,a1.subscribe(async e=>{e&&(await this.resumePausedMutations(),q(this,yt).onFocus())})),Ne(this,_o,Vd.subscribe(async e=>{e&&(await this.resumePausedMutations(),q(this,yt).onOnline())})))}unmount(){var e,t;ou(this,ri)._--,q(this,ri)===0&&((e=q(this,bo))==null||e.call(this),Ne(this,bo,void 0),(t=q(this,_o))==null||t.call(this),Ne(this,_o,void 0))}isFetching(e){return q(this,yt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return q(this,ni).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=q(this,yt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=q(this,yt).build(this,t),s=n.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Up(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return q(this,yt).findAll(e).map(({queryKey:t,state:n})=>{const s=n.data;return[t,s]})}setQueryData(e,t,n){const s=this.defaultQueryOptions({queryKey:e}),i=q(this,yt).get(s.queryHash),a=i==null?void 0:i.state.data,o=qI(t,a);if(o!==void 0)return q(this,yt).build(this,s).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return En.batch(()=>q(this,yt).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=q(this,yt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=q(this,yt);En.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=q(this,yt);return En.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},s=En.batch(()=>q(this,yt).findAll(e).map(i=>i.cancel(n)));return Promise.all(s).then(Rs).catch(Rs)}invalidateQueries(e,t={}){return En.batch(()=>(q(this,yt).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},s=En.batch(()=>q(this,yt).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(Rs)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(s).then(Rs)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=q(this,yt).build(this,t);return n.isStaleByTime(Up(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Rs).catch(Rs)}fetchInfiniteQuery(e){return e.behavior=Hw(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Rs).catch(Rs)}ensureInfiniteQueryData(e){return e.behavior=Hw(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Vd.isOnline()?q(this,ni).resumePausedMutations():Promise.resolve()}getQueryCache(){return q(this,yt)}getMutationCache(){return q(this,ni)}getDefaultOptions(){return q(this,si)}setDefaultOptions(e){Ne(this,si,e)}setQueryDefaults(e,t){q(this,wo).set(vc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...q(this,wo).values()],n={};return t.forEach(s=>{yc(e,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(e,t){q(this,jo).set(vc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...q(this,jo).values()],n={};return t.forEach(s=>{yc(e,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...q(this,si).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Yx(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Qx&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...q(this,si).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){q(this,yt).clear(),q(this,ni).clear()}},yt=new WeakMap,ni=new WeakMap,si=new WeakMap,wo=new WeakMap,jo=new WeakMap,ri=new WeakMap,bo=new WeakMap,_o=new WeakMap,wb),pL=h.createContext(void 0),gL=({client:e,children:t})=>(h.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(pL.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wc(){return wc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},wc.apply(this,arguments)}var li;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(li||(li={}));const Kw="popstate";function xL(e){e===void 0&&(e={});function t(s,i){let{pathname:a,search:o,hash:l}=s.location;return Vp("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){return typeof i=="string"?i:zd(i)}return yL(t,n,null,e)}function $t(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function d1(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function vL(){return Math.random().toString(36).substr(2,8)}function Gw(e,t){return{usr:e.state,key:e.key,idx:t}}function Vp(e,t,n,s){return n===void 0&&(n=null),wc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ko(t):t,{state:n,key:t&&t.key||s||vL()})}function zd(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Ko(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function yL(e,t,n,s){s===void 0&&(s={});let{window:i=document.defaultView,v5Compat:a=!1}=s,o=i.history,l=li.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(wc({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=li.Pop;let y=d(),g=y==null?null:y-u;u=y,c&&c({action:l,location:v.location,delta:g})}function m(y,g){l=li.Push;let p=Vp(v.location,y,g);u=d()+1;let w=Gw(p,u),b=v.createHref(p);try{o.pushState(w,"",b)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(b)}a&&c&&c({action:l,location:v.location,delta:1})}function x(y,g){l=li.Replace;let p=Vp(v.location,y,g);u=d();let w=Gw(p,u),b=v.createHref(p);o.replaceState(w,"",b),a&&c&&c({action:l,location:v.location,delta:0})}function j(y){let g=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof y=="string"?y:zd(y);return p=p.replace(/ $/,"%20"),$t(g,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,g)}let v={get action(){return l},get location(){return e(i,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Kw,f),c=y,()=>{i.removeEventListener(Kw,f),c=null}},createHref(y){return t(i,y)},createURL:j,encodeLocation(y){let g=j(y);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:m,replace:x,go(y){return o.go(y)}};return v}var Yw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Yw||(Yw={}));function wL(e,t,n){return n===void 0&&(n="/"),jL(e,t,n)}function jL(e,t,n,s){let i=typeof t=="string"?Ko(t):t,a=Xx(i.pathname||"/",n);if(a==null)return null;let o=f1(e);bL(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=$L(a);l=RL(o[c],u)}return l}function f1(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let i=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&($t(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let u=xi([s,c.relativePath]),d=n.concat(c);a.children&&a.children.length>0&&($t(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),f1(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:kL(u,a.index),routesMeta:d})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of h1(a.path))i(a,o,c)}),t}function h1(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(s.length===0)return i?[a,""]:[a];let o=h1(s.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function bL(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:PL(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const _L=/^:[\w-]+$/,SL=3,NL=2,EL=1,CL=10,TL=-2,Qw=e=>e==="*";function kL(e,t){let n=e.split("/"),s=n.length;return n.some(Qw)&&(s+=TL),t&&(s+=NL),n.filter(i=>!Qw(i)).reduce((i,a)=>i+(_L.test(a)?SL:a===""?EL:CL),s)}function PL(e,t){return e.length===t.length&&e.slice(0,-1).every((s,i)=>s===t[i])?e[e.length-1]-t[t.length-1]:0}function RL(e,t,n){let{routesMeta:s}=e,i={},a="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],u=l===s.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=AL({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:xi([a,f.pathname]),pathnameBase:OL(xi([a,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(a=xi([a,f.pathnameBase]))}return o}function AL(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=DL(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:s.reduce((u,d,f)=>{let{paramName:m,isOptional:x}=d;if(m==="*"){let v=l[f]||"";o=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const j=l[f];return x&&!j?u[m]=void 0:u[m]=(j||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function DL(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),d1(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),s]}function $L(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return d1(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Xx(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function ML(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:i=""}=typeof e=="string"?Ko(e):e;return{pathname:n?n.startsWith("/")?n:IL(n,t):t,search:FL(s),hash:UL(i)}}function IL(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Jh(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function LL(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function m1(e,t){let n=LL(e);return t?n.map((s,i)=>i===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function p1(e,t,n,s){s===void 0&&(s=!1);let i;typeof e=="string"?i=Ko(e):(i=wc({},e),$t(!i.pathname||!i.pathname.includes("?"),Jh("?","pathname","search",i)),$t(!i.pathname||!i.pathname.includes("#"),Jh("#","pathname","hash",i)),$t(!i.search||!i.search.includes("#"),Jh("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=n;else{let f=t.length-1;if(!s&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;i.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=ML(i,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const xi=e=>e.join("/").replace(/\/\/+/g,"/"),OL=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),FL=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,UL=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function BL(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const g1=["post","put","patch","delete"];new Set(g1);const VL=["get",...g1];new Set(VL);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jc(){return jc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},jc.apply(this,arguments)}const Jx=h.createContext(null),zL=h.createContext(null),_a=h.createContext(null),Mf=h.createContext(null),Pi=h.createContext({outlet:null,matches:[],isDataRoute:!1}),x1=h.createContext(null);function WL(e,t){let{relative:n}=t===void 0?{}:t;qc()||$t(!1);let{basename:s,navigator:i}=h.useContext(_a),{hash:a,pathname:o,search:l}=w1(e,{relative:n}),c=o;return s!=="/"&&(c=o==="/"?s:xi([s,o])),i.createHref({pathname:c,search:l,hash:a})}function qc(){return h.useContext(Mf)!=null}function Go(){return qc()||$t(!1),h.useContext(Mf).location}function v1(e){h.useContext(_a).static||h.useLayoutEffect(e)}function HL(){let{isDataRoute:e}=h.useContext(Pi);return e?rO():qL()}function qL(){qc()||$t(!1);let e=h.useContext(Jx),{basename:t,future:n,navigator:s}=h.useContext(_a),{matches:i}=h.useContext(Pi),{pathname:a}=Go(),o=JSON.stringify(m1(i,n.v7_relativeSplatPath)),l=h.useRef(!1);return v1(()=>{l.current=!0}),h.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){s.go(u);return}let f=p1(u,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:xi([t,f.pathname])),(d.replace?s.replace:s.push)(f,d.state,d)},[t,s,o,a,e])}function y1(){let{matches:e}=h.useContext(Pi),t=e[e.length-1];return t?t.params:{}}function w1(e,t){let{relative:n}=t===void 0?{}:t,{future:s}=h.useContext(_a),{matches:i}=h.useContext(Pi),{pathname:a}=Go(),o=JSON.stringify(m1(i,s.v7_relativeSplatPath));return h.useMemo(()=>p1(e,JSON.parse(o),a,n==="path"),[e,o,a,n])}function KL(e,t){return GL(e,t)}function GL(e,t,n,s){qc()||$t(!1);let{navigator:i}=h.useContext(_a),{matches:a}=h.useContext(Pi),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Go(),d;if(t){var f;let y=typeof t=="string"?Ko(t):t;c==="/"||(f=y.pathname)!=null&&f.startsWith(c)||$t(!1),d=y}else d=u;let m=d.pathname||"/",x=m;if(c!=="/"){let y=c.replace(/^\//,"").split("/");x="/"+m.replace(/^\//,"").split("/").slice(y.length).join("/")}let j=wL(e,{pathname:x}),v=ZL(j&&j.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:xi([c,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:xi([c,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,n,s);return t&&v?h.createElement(Mf.Provider,{value:{location:jc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:li.Pop}},v):v}function YL(){let e=sO(),t=BL(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),n?h.createElement("pre",{style:i},n):null,null)}const QL=h.createElement(YL,null);class XL extends h.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?h.createElement(Pi.Provider,{value:this.props.routeContext},h.createElement(x1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function JL(e){let{routeContext:t,match:n,children:s}=e,i=h.useContext(Jx);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),h.createElement(Pi.Provider,{value:t},s)}function ZL(e,t,n,s){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=s)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||$t(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&s&&s.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:x}=n,j=f.route.loader&&m[f.route.id]===void 0&&(!x||x[f.route.id]===void 0);if(f.route.lazy||j){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,m)=>{let x,j=!1,v=null,y=null;n&&(x=l&&f.route.id?l[f.route.id]:void 0,v=f.route.errorElement||QL,c&&(u<0&&m===0?(iO("route-fallback"),j=!0,y=null):u===m&&(j=!0,y=f.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,m+1)),p=()=>{let w;return x?w=v:j?w=y:f.route.Component?w=h.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,h.createElement(JL,{match:f,routeContext:{outlet:d,matches:g,isDataRoute:n!=null},children:w})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?h.createElement(XL,{location:n.location,revalidation:n.revalidation,component:v,error:x,children:p(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):p()},null)}var j1=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(j1||{}),b1=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(b1||{});function eO(e){let t=h.useContext(Jx);return t||$t(!1),t}function tO(e){let t=h.useContext(zL);return t||$t(!1),t}function nO(e){let t=h.useContext(Pi);return t||$t(!1),t}function _1(e){let t=nO(),n=t.matches[t.matches.length-1];return n.route.id||$t(!1),n.route.id}function sO(){var e;let t=h.useContext(x1),n=tO(),s=_1();return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function rO(){let{router:e}=eO(j1.UseNavigateStable),t=_1(b1.UseNavigateStable),n=h.useRef(!1);return v1(()=>{n.current=!0}),h.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,jc({fromRouteId:t},a)))},[e,t])}const Xw={};function iO(e,t,n){Xw[e]||(Xw[e]=!0)}function aO(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function On(e){$t(!1)}function oO(e){let{basename:t="/",children:n=null,location:s,navigationType:i=li.Pop,navigator:a,static:o=!1,future:l}=e;qc()&&$t(!1);let c=t.replace(/^\/*/,"/"),u=h.useMemo(()=>({basename:c,navigator:a,static:o,future:jc({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof s=="string"&&(s=Ko(s));let{pathname:d="/",search:f="",hash:m="",state:x=null,key:j="default"}=s,v=h.useMemo(()=>{let y=Xx(d,c);return y==null?null:{location:{pathname:y,search:f,hash:m,state:x,key:j},navigationType:i}},[c,d,f,m,x,j,i]);return v==null?null:h.createElement(_a.Provider,{value:u},h.createElement(Mf.Provider,{children:n,value:v}))}function lO(e){let{children:t,location:n}=e;return KL(zp(t),n)}new Promise(()=>{});function zp(e,t){t===void 0&&(t=[]);let n=[];return h.Children.forEach(e,(s,i)=>{if(!h.isValidElement(s))return;let a=[...t,i];if(s.type===h.Fragment){n.push.apply(n,zp(s.props.children,a));return}s.type!==On&&$t(!1),!s.props.index||!s.props.children||$t(!1);let o={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=zp(s.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wp(){return Wp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Wp.apply(this,arguments)}function cO(e,t){if(e==null)return{};var n={},s=Object.keys(e),i,a;for(a=0;a<s.length;a++)i=s[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function uO(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function dO(e,t){return e.button===0&&(!t||t==="_self")&&!uO(e)}const fO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],hO="6";try{window.__reactRouterVersion=hO}catch{}const mO="startTransition",Jw=Og[mO];function pO(e){let{basename:t,children:n,future:s,window:i}=e,a=h.useRef();a.current==null&&(a.current=xL({window:i,v5Compat:!0}));let o=a.current,[l,c]=h.useState({action:o.action,location:o.location}),{v7_startTransition:u}=s||{},d=h.useCallback(f=>{u&&Jw?Jw(()=>c(f)):c(f)},[c,u]);return h.useLayoutEffect(()=>o.listen(d),[o,d]),h.useEffect(()=>aO(s),[s]),h.createElement(oO,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:s})}const gO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pt=h.forwardRef(function(t,n){let{onClick:s,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,m=cO(t,fO),{basename:x}=h.useContext(_a),j,v=!1;if(typeof u=="string"&&xO.test(u)&&(j=u,gO))try{let w=new URL(window.location.href),b=u.startsWith("//")?new URL(w.protocol+u):new URL(u),S=Xx(b.pathname,x);b.origin===w.origin&&S!=null?u=S+b.search+b.hash:v=!0}catch{}let y=WL(u,{relative:i}),g=vO(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:f});function p(w){s&&s(w),w.defaultPrevented||g(w)}return h.createElement("a",Wp({},m,{href:j||y,onClick:v||a?s:p,ref:n,target:c}))});var Zw;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Zw||(Zw={}));var e0;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(e0||(e0={}));function vO(e,t){let{target:n,replace:s,state:i,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=HL(),u=Go(),d=w1(e,{relative:o});return h.useCallback(f=>{if(dO(f,n)){f.preventDefault();let m=s!==void 0?s:zd(u)===zd(d);c(e,{replace:m,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,s,i,n,e,a,o,l])}const yO="modulepreload",wO=function(e){return"/"+e},t0={},_i=function(t,n,s){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=wO(c),c in t0)return;t0[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":yO,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((m,x)=>{f.addEventListener("load",m),f.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},jO=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>_i(async()=>{const{default:s}=await Promise.resolve().then(()=>Yo);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)};class Zx extends Error{constructor(t,n="FunctionsError",s){super(t),this.name=n,this.context=s}}class bO extends Zx{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class n0 extends Zx{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class s0 extends Zx{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Hp;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Hp||(Hp={}));var _O=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};class SO{constructor(t,{headers:n={},customFetch:s,region:i=Hp.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=jO(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var s;return _O(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:o}=n;let l={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const f=yield this.fetch(u.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:d}).catch(v=>{throw new bO(v)}),m=f.headers.get("x-relay-error");if(m&&m==="true")throw new n0(f);if(!f.ok)throw new s0(f);let x=((s=f.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),j;return x==="application/json"?j=yield f.json():x==="application/octet-stream"?j=yield f.blob():x==="text/event-stream"?j=f:x==="multipart/form-data"?j=yield f.formData():j=yield f.text(),{data:j,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof s0||i instanceof n0?i.context:void 0}}})}}var Un={},ev={},If={},Kc={},Lf={},Of={},NO=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Io=NO();const EO=Io.fetch,S1=Io.fetch.bind(Io),N1=Io.Headers,CO=Io.Request,TO=Io.Response,Yo=Object.freeze(Object.defineProperty({__proto__:null,Headers:N1,Request:CO,Response:TO,default:S1,fetch:EO},Symbol.toStringTag,{value:"Module"})),kO=NP(Yo);var Ff={};Object.defineProperty(Ff,"__esModule",{value:!0});let PO=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Ff.default=PO;var E1=js&&js.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Of,"__esModule",{value:!0});const RO=E1(kO),AO=E1(Ff);let DO=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=RO.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const s=this.fetch;let i=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,l,c;let u=null,d=null,f=null,m=a.status,x=a.statusText;if(a.ok){if(this.method!=="HEAD"){const g=await a.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=g:d=JSON.parse(g))}const v=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),y=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");v&&y&&y.length>1&&(f=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,m=406,x="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const v=await a.text();try{u=JSON.parse(v),Array.isArray(u)&&a.status===404&&(d=[],u=null,m=200,x="OK")}catch{a.status===404&&v===""?(m=204,x="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,m=200,x="OK"),u&&this.shouldThrowOnError)throw new AO.default(u)}return{error:u,data:d,count:f,status:m,statusText:x}});return this.shouldThrowOnError||(i=i.catch(a=>{var o,l,c;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}returns(){return this}overrideTypes(){return this}};Of.default=DO;var $O=js&&js.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Lf,"__esModule",{value:!0});const MO=$O(Of);let IO=class extends MO.default{select(t){let n=!1;const s=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:s,foreignTable:i,referencedTable:a=i}={}){const o=a?`${a}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:s,referencedTable:i=s}={}){const a=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:s=!1,buffers:i=!1,wal:a=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,s?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Lf.default=IO;var LO=js&&js.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Kc,"__esModule",{value:!0});const OO=LO(Lf);let FO=class extends OO.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const s=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${s})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:s,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const o=s===void 0?"":`(${s})`;return this.url.searchParams.append(t,`${a}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,s])=>{this.url.searchParams.append(n,`eq.${s}`)}),this}not(t,n,s){return this.url.searchParams.append(t,`not.${n}.${s}`),this}or(t,{foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,s){return this.url.searchParams.append(t,`${n}.${s}`),this}};Kc.default=FO;var UO=js&&js.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(If,"__esModule",{value:!0});const xl=UO(Kc);let BO=class{constructor(t,{headers:n={},schema:s,fetch:i}){this.url=t,this.headers=n,this.schema=s,this.fetch=i}select(t,{head:n=!1,count:s}={}){const i=n?"HEAD":"GET";let a=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),s&&(this.headers.Prefer=`count=${s}`),new xl.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:s=!0}={}){const i="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),s||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new xl.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:s=!1,count:i,defaultToNull:a=!0}={}){const o="POST",l=[`resolution=${s?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),a||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new xl.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const s="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new xl.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",s=[];return t&&s.push(`count=${t}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new xl.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};If.default=BO;var Uf={},Bf={};Object.defineProperty(Bf,"__esModule",{value:!0});Bf.version=void 0;Bf.version="0.0.0-automated";Object.defineProperty(Uf,"__esModule",{value:!0});Uf.DEFAULT_HEADERS=void 0;const VO=Bf;Uf.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${VO.version}`};var C1=js&&js.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ev,"__esModule",{value:!0});const zO=C1(If),WO=C1(Kc),HO=Uf;let qO=class T1{constructor(t,{headers:n={},schema:s,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},HO.DEFAULT_HEADERS),n),this.schemaName=s,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new zO.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new T1(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:s=!1,get:i=!1,count:a}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;s||i?(o=s?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(o="POST",c=n);const u=Object.assign({},this.headers);return a&&(u.Prefer=`count=${a}`),new WO.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};ev.default=qO;var Qo=js&&js.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Un,"__esModule",{value:!0});Un.PostgrestError=Un.PostgrestBuilder=Un.PostgrestTransformBuilder=Un.PostgrestFilterBuilder=Un.PostgrestQueryBuilder=Un.PostgrestClient=void 0;const k1=Qo(ev);Un.PostgrestClient=k1.default;const P1=Qo(If);Un.PostgrestQueryBuilder=P1.default;const R1=Qo(Kc);Un.PostgrestFilterBuilder=R1.default;const A1=Qo(Lf);Un.PostgrestTransformBuilder=A1.default;const D1=Qo(Of);Un.PostgrestBuilder=D1.default;const $1=Qo(Ff);Un.PostgrestError=$1.default;var KO=Un.default={PostgrestClient:k1.default,PostgrestQueryBuilder:P1.default,PostgrestFilterBuilder:R1.default,PostgrestTransformBuilder:A1.default,PostgrestBuilder:D1.default,PostgrestError:$1.default};const{PostgrestClient:GO,PostgrestQueryBuilder:K7,PostgrestFilterBuilder:G7,PostgrestTransformBuilder:Y7,PostgrestBuilder:Q7,PostgrestError:X7}=KO;function YO(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const QO=YO(),XO="2.11.15",JO=`realtime-js/${XO}`,ZO="1.0.0",M1=1e4,e4=1e3;var Ul;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ul||(Ul={}));var un;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(un||(un={}));var Ms;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ms||(Ms={}));var qp;(function(e){e.websocket="websocket"})(qp||(qp={}));var Qi;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Qi||(Qi={}));class t4{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),s=new TextDecoder;return this._decodeBroadcast(t,n,s)}_decodeBroadcast(t,n,s){const i=n.getUint8(1),a=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=s.decode(t.slice(o,o+i));o=o+i;const c=s.decode(t.slice(o,o+a));o=o+a;const u=JSON.parse(s.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class I1{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var st;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(st||(st={}));const r0=(e,t,n={})=>{var s;const i=(s=n.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(t).reduce((a,o)=>(a[o]=n4(o,e,t,i),a),{})},n4=(e,t,n,s)=>{const i=t.find(l=>l.name===e),a=i==null?void 0:i.type,o=n[e];return a&&!s.includes(a)?L1(a,o):Kp(o)},L1=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return a4(t,n)}switch(e){case st.bool:return s4(t);case st.float4:case st.float8:case st.int2:case st.int4:case st.int8:case st.numeric:case st.oid:return r4(t);case st.json:case st.jsonb:return i4(t);case st.timestamp:return o4(t);case st.abstime:case st.date:case st.daterange:case st.int4range:case st.int8range:case st.money:case st.reltime:case st.text:case st.time:case st.timestamptz:case st.timetz:case st.tsrange:case st.tstzrange:return Kp(t);default:return Kp(t)}},Kp=e=>e,s4=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},r4=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},i4=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},a4=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,s=e[n];if(e[0]==="{"&&s==="}"){let a;const o=e.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>L1(t,l))}return e},o4=e=>typeof e=="string"?e.replace(" ","T"):e,O1=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Zh{constructor(t,n,s={},i=M1){this.channel=t,this.event=n,this.payload=s,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var s;return this._hasReceived(t)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var i0;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(i0||(i0={}));class Bl{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Bl.syncState(this.state,i,a,o),this.pendingDiffs.forEach(c=>{this.state=Bl.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(s.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Bl.syncDiff(this.state,i,a,o),l())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,s,i){const a=this.cloneDeep(t),o=this.transformState(n),l={},c={};return this.map(a,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=a[u];if(f){const m=d.map(y=>y.presence_ref),x=f.map(y=>y.presence_ref),j=d.filter(y=>x.indexOf(y.presence_ref)<0),v=f.filter(y=>m.indexOf(y.presence_ref)<0);j.length>0&&(l[u]=j),v.length>0&&(c[u]=v)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},s,i)}static syncDiff(t,n,s,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),i||(i=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(x=>x.presence_ref),m=d.filter(x=>f.indexOf(x.presence_ref)<0);t[l].unshift(...m)}s(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,i(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(s=>n(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,s)=>{const i=t[s];return"metas"in i?n[s]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[s]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var a0;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(a0||(a0={}));var o0;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(o0||(o0={}));var vr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(vr||(vr={}));class tv{constructor(t,n={config:{}},s){this.topic=t,this.params=n,this.socket=s,this.bindings={},this.state=un.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Zh(this,Ms.join,this.params,this.timeout),this.rejoinTimer=new I1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=un.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=un.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=un.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=un.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ms.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new Bl(this),this.broadcastEndpointURL=O1(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==un.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t(vr.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(vr.CLOSED));const c={},u={broadcast:a,presence:o,postgres_changes:(i=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(d=>d.filter))!==null&&i!==void 0?i:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(vr.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,x=(f=m==null?void 0:m.length)!==null&&f!==void 0?f:0,j=[];for(let v=0;v<x;v++){const y=m[v],{filter:{event:g,schema:p,table:w,filter:b}}=y,S=d&&d[v];if(S&&S.event===g&&S.schema===p&&S.table===w&&S.filter===b)j.push(Object.assign(Object.assign({},y),{id:S.id}));else{this.unsubscribe(),this.state=un.errored,t==null||t(vr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,t&&t(vr.SUBSCRIBED);return}}).receive("error",d=>{this.state=un.errored,t==null||t(vr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(vr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,s){return this._on(t,n,s)}async send(t,n={}){var s,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=un.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ms.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(i=>{s=new Zh(this,Ms.leave,{},t),s.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,s){const i=new AbortController,a=setTimeout(()=>i.abort(),s),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(t,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Zh(this,t,n,s);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,n,s){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,s){var i,a;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Ms;if(s&&[l,c,u,d].indexOf(o)>=0&&s!==this._joinRef())return;let m=this._onMessage(o,n,s);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(x=>{var j,v,y;return((j=x.filter)===null||j===void 0?void 0:j.event)==="*"||((y=(v=x.filter)===null||v===void 0?void 0:v.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(x=>x.callback(m,s)):(a=this.bindings[o])===null||a===void 0||a.filter(x=>{var j,v,y,g,p,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in x){const b=x.id,S=(j=x.filter)===null||j===void 0?void 0:j.event;return b&&((v=n.ids)===null||v===void 0?void 0:v.includes(b))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const b=(p=(g=x==null?void 0:x.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return b==="*"||b===((w=n==null?void 0:n.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===o}).map(x=>{if(typeof m=="object"&&"ids"in m){const j=m.data,{schema:v,table:y,commit_timestamp:g,type:p,errors:w}=j;m=Object.assign(Object.assign({},{schema:v,table:y,commit_timestamp:g,eventType:p,new:{},old:{},errors:w}),this._getPayloadRecords(j))}x.callback(m,s)})}_isClosed(){return this.state===un.closed}_isJoined(){return this.state===un.joined}_isJoining(){return this.state===un.joining}_isLeaving(){return this.state===un.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,s){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:s};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const s=t.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===s&&tv.isEqual(i.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const s in t)if(t[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ms.close,{},t)}_onError(t){this._on(Ms.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=un.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=r0(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=r0(t.columns,t.old_record)),n}}const l0=()=>{},l4=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class c4{constructor(t,n){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=M1,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=l0,this.ref=0,this.logger=l0,this.conn=null,this.sendBuffer=[],this.serializer=new t4,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let o;return a?o=a:typeof fetch>"u"?o=(...l)=>_i(async()=>{const{default:c}=await Promise.resolve().then(()=>Yo);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${qp.websocket}`,this.httpEndpoint=O1(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(s=n==null?void 0:n.params)===null||s===void 0?void 0:s.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(a,o)=>o(JSON.stringify(a)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new I1(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=QO),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ZO}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(s=>s.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,s){this.logger(t,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Ul.connecting:return Qi.Connecting;case Ul.open:return Qi.Open;case Ul.closing:return Qi.Closing;default:return Qi.Closed}}isConnected(){return this.connectionState()===Qi.Open}channel(t,n={config:{}}){const s=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===s);if(i)return i;{const a=new tv(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:s,payload:i,ref:a}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${s} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:JO};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(Ms.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(e4,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:s,event:i,payload:a,ref:o}=n;s==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${s} ${i} ${o&&"("+o+")"||""}`,a),Array.from(this.channels).filter(l=>l._isMember(s)).forEach(l=>l._trigger(i,a,o)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ms.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const s=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${s}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const s=new Blob([l4],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}}class nv extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Wt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class u4 extends nv{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Gp extends nv{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var d4=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};const F1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>_i(async()=>{const{default:s}=await Promise.resolve().then(()=>Yo);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},f4=()=>d4(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield _i(()=>Promise.resolve().then(()=>Yo),void 0)).Response:Response}),Yp=e=>{if(Array.isArray(e))return e.map(n=>Yp(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,s])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=Yp(s)}),t};var Sa=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};const em=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),h4=(e,t,n)=>Sa(void 0,void 0,void 0,function*(){const s=yield f4();e instanceof s&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{t(new u4(em(i),e.status||500))}).catch(i=>{t(new Gp(em(i),i))}):t(new Gp(em(e),e))}),m4=(e,t,n,s)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s&&(i.body=JSON.stringify(s)),Object.assign(Object.assign({},i),n))};function Gc(e,t,n,s,i,a){return Sa(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,m4(t,s,i,a)).then(c=>{if(!c.ok)throw c;return s!=null&&s.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>h4(c,l,s))})})}function Wd(e,t,n,s){return Sa(this,void 0,void 0,function*(){return Gc(e,"GET",t,n,s)})}function Yr(e,t,n,s,i){return Sa(this,void 0,void 0,function*(){return Gc(e,"POST",t,s,i,n)})}function p4(e,t,n,s,i){return Sa(this,void 0,void 0,function*(){return Gc(e,"PUT",t,s,i,n)})}function g4(e,t,n,s){return Sa(this,void 0,void 0,function*(){return Gc(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function U1(e,t,n,s,i){return Sa(this,void 0,void 0,function*(){return Gc(e,"DELETE",t,s,i,n)})}var Ln=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};const x4={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},c0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class v4{constructor(t,n={},s,i){this.url=t,this.headers=n,this.bucketId=s,this.fetch=F1(i)}uploadOrUpdate(t,n,s,i){return Ln(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},c0),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&s instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",s)):typeof FormData<"u"&&s instanceof FormData?(a=s,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=s,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:a,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),m=yield f.json();return f.ok?{data:{path:u,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(a){if(Wt(a))return{data:null,error:a};throw a}})}upload(t,n,s){return Ln(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,s)})}uploadToSignedUrl(t,n,s,i){return Ln(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:c0.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.append("cacheControl",u.cacheControl)):(c=s,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),m=yield f.json();return f.ok?{data:{path:a,fullPath:m.Key},error:null}:{data:null,error:m}}catch(c){if(Wt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return Ln(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const a=yield Yr(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:i}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new nv("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(s){if(Wt(s))return{data:null,error:s};throw s}})}update(t,n,s){return Ln(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,s)})}move(t,n,s){return Ln(this,void 0,void 0,function*(){try{return{data:yield Yr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Wt(i))return{data:null,error:i};throw i}})}copy(t,n,s){return Ln(this,void 0,void 0,function*(){try{return{data:{path:(yield Yr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Wt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,s){return Ln(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Yr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(Wt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,s){return Ln(this,void 0,void 0,function*(){try{const i=yield Yr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(Wt(i))return{data:null,error:i};throw i}})}download(t,n){return Ln(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=a?`?${a}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Wd(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Wt(l))return{data:null,error:l};throw l}})}info(t){return Ln(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const s=yield Wd(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Yp(s),error:null}}catch(s){if(Wt(s))return{data:null,error:s};throw s}})}exists(t){return Ln(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield g4(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(Wt(s)&&s instanceof Gp){const i=s.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:s}}throw s}})}getPublicUrl(t,n){const s=this._getFinalPath(t),i=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${s}${u}`)}}}remove(t){return Ln(this,void 0,void 0,function*(){try{return{data:yield U1(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Wt(n))return{data:null,error:n};throw n}})}list(t,n,s){return Ln(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},x4),n),{prefix:t||""});return{data:yield Yr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if(Wt(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const y4="2.7.1",w4={"X-Client-Info":`storage-js/${y4}`};var ka=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};class j4{constructor(t,n={},s){this.url=t,this.headers=Object.assign(Object.assign({},w4),n),this.fetch=F1(s)}listBuckets(){return ka(this,void 0,void 0,function*(){try{return{data:yield Wd(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Wt(t))return{data:null,error:t};throw t}})}getBucket(t){return ka(this,void 0,void 0,function*(){try{return{data:yield Wd(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Wt(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return ka(this,void 0,void 0,function*(){try{return{data:yield Yr(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(Wt(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return ka(this,void 0,void 0,function*(){try{return{data:yield p4(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(Wt(s))return{data:null,error:s};throw s}})}emptyBucket(t){return ka(this,void 0,void 0,function*(){try{return{data:yield Yr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Wt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ka(this,void 0,void 0,function*(){try{return{data:yield U1(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Wt(n))return{data:null,error:n};throw n}})}}class b4 extends j4{constructor(t,n={},s){super(t,n,s)}from(t){return new v4(this.url,this.headers,t,this.fetch)}}const _4="2.51.0";let Nl="";typeof Deno<"u"?Nl="deno":typeof document<"u"?Nl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Nl="react-native":Nl="node";const S4={"X-Client-Info":`supabase-js-${Nl}/${_4}`},N4={headers:S4},E4={schema:"public"},C4={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},T4={};var k4=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};const P4=e=>{let t;return e?t=e:typeof fetch>"u"?t=S1:t=fetch,(...n)=>t(...n)},R4=()=>typeof Headers>"u"?N1:Headers,A4=(e,t,n)=>{const s=P4(n),i=R4();return(a,o)=>k4(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),s(a,Object.assign(Object.assign({},o),{headers:u}))})};var D4=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};function $4(e){return e.endsWith("/")?e:e+"/"}function M4(e,t){var n,s;const{db:i,auth:a,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,m={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(s=l==null?void 0:l.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>D4(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}const B1="2.71.0",Fa=30*1e3,Qp=3,tm=Qp*Fa,I4="http://localhost:9999",L4="supabase.auth.token",O4={"X-Client-Info":`gotrue-js/${B1}`},Xp="X-Supabase-Api-Version",V1={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},F4=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,U4=10*60*1e3;class sv extends Error{constructor(t,n,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function Ee(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class B4 extends sv{constructor(t,n,s){super(t,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function V4(e){return Ee(e)&&e.name==="AuthApiError"}class z1 extends sv{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Ri extends sv{constructor(t,n,s,i){super(t,s,i),this.name=n,this.status=s}}class Wr extends Ri{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function z4(e){return Ee(e)&&e.name==="AuthSessionMissingError"}class ku extends Ri{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Pu extends Ri{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ru extends Ri{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function W4(e){return Ee(e)&&e.name==="AuthImplicitGrantRedirectError"}class u0 extends Ri{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Jp extends Ri{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function nm(e){return Ee(e)&&e.name==="AuthRetryableFetchError"}class d0 extends Ri{constructor(t,n,s){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class Zp extends Ri{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Hd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),f0=` 	
\r=`.split(""),H4=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<f0.length;t+=1)e[f0[t].charCodeAt(0)]=-2;for(let t=0;t<Hd.length;t+=1)e[Hd[t].charCodeAt(0)]=t;return e})();function h0(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n(Hd[s]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n(Hd[s]),t.queuedBits-=6}}function W1(e,t,n){const s=H4[e];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function m0(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{G4(o,s,n)};for(let o=0;o<e.length;o+=1)W1(e.charCodeAt(o),i,a);return t.join("")}function q4(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function K4(e,t){for(let n=0;n<e.length;n+=1){let s=e.charCodeAt(n);if(s>55295&&s<=56319){const i=(s-55296)*1024&65535;s=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}q4(s,t)}}function G4(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let s=1;s<6;s+=1)if(!(e>>7-s&1)){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Y4(e){const t=[],n={queue:0,queuedBits:0},s=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)W1(e.charCodeAt(i),n,s);return new Uint8Array(t)}function Q4(e){const t=[];return K4(e,n=>t.push(n)),new Uint8Array(t)}function X4(e){const t=[],n={queue:0,queuedBits:0},s=i=>{t.push(i)};return e.forEach(i=>h0(i,n,s)),h0(null,n,s),t.join("")}function J4(e){return Math.round(Date.now()/1e3)+e}function Z4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Cs=()=>typeof window<"u"&&typeof document<"u",Bi={tested:!1,writable:!1},H1=()=>{if(!Cs())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Bi.tested)return Bi.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Bi.tested=!0,Bi.writable=!0}catch{Bi.tested=!0,Bi.writable=!1}return Bi.writable};function eF(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((s,i)=>{t[i]=s}),t}const q1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>_i(async()=>{const{default:s}=await Promise.resolve().then(()=>Yo);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},tF=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ua=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Vi=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Vr=async(e,t)=>{await e.removeItem(t)};class Vf{constructor(){this.promise=new Vf.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Vf.promiseConstructor=Promise;function sm(e){const t=e.split(".");if(t.length!==3)throw new Zp("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!F4.test(t[s]))throw new Zp("JWT not in base64url format");return{header:JSON.parse(m0(t[0])),payload:JSON.parse(m0(t[1])),signature:Y4(t[2]),raw:{header:t[0],payload:t[1]}}}async function nF(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function sF(e,t){return new Promise((s,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){s(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function rF(e){return("0"+e.toString(16)).substr(-2)}function iF(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*s));return i}return crypto.getRandomValues(t),Array.from(t,rF).join("")}async function aF(e){const n=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(s);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function oF(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await aF(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Pa(e,t,n=!1){const s=iF();let i=s;n&&(i+="/PASSWORD_RECOVERY"),await Ua(e,`${t}-code-verifier`,i);const a=await oF(s);return[a,s===a?"plain":"s256"]}const lF=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function cF(e){const t=e.headers.get(Xp);if(!t||!t.match(lF))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function uF(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function dF(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const fF=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ra(e){if(!fF.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function rm(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}var hF=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n};const Gi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),mF=[502,503,504];async function p0(e){var t;if(!tF(e))throw new Jp(Gi(e),0);if(mF.includes(e.status))throw new Jp(Gi(e),e.status);let n;try{n=await e.json()}catch(a){throw new z1(Gi(a),a)}let s;const i=cF(e);if(i&&i.getTime()>=V1["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new d0(Gi(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new Wr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new d0(Gi(n),e.status,n.weak_password.reasons);throw new B4(Gi(n),e.status||500,s)}const pF=(e,t,n,s)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(s),Object.assign(Object.assign({},i),n))};async function ke(e,t,n,s){var i;const a=Object.assign({},s==null?void 0:s.headers);a[Xp]||(a[Xp]=V1["2024-01-01"].name),s!=null&&s.jwt&&(a.Authorization=`Bearer ${s.jwt}`);const o=(i=s==null?void 0:s.query)!==null&&i!==void 0?i:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await gF(e,t,n+l,{headers:a,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(c):{data:Object.assign({},c),error:null}}async function gF(e,t,n,s,i,a){const o=pF(t,s,i,a);let l;try{l=await e(n,Object.assign({},o))}catch(c){throw console.error(c),new Jp(Gi(c),0)}if(l.ok||await p0(l),s!=null&&s.noResolveJson)return l;try{return await l.json()}catch(c){await p0(c)}}function gr(e){var t;let n=null;wF(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=J4(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:s},error:null}}function g0(e){const t=gr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Zr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function xF(e){return{data:e,error:null}}function vF(e){const{action_link:t,email_otp:n,hashed_token:s,redirect_to:i,verification_type:a}=e,o=hF(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:s,redirect_to:i,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function yF(e){return e}function wF(e){return e.access_token&&e.refresh_token&&e.expires_in}const im=["global","local","others"];var jF=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n};class bF{constructor({url:t="",headers:n={},fetch:s}){this.url=t,this.headers=n,this.fetch=q1(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=im[0]){if(im.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${im.join(", ")}`);try{return await ke(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Ee(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,n={}){try{return await ke(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Zr})}catch(s){if(Ee(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:n}=t,s=jF(t,["options"]),i=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(i.new_email=s==null?void 0:s.newEmail,delete i.newEmail),await ke(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:vF,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ee(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await ke(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Zr})}catch(n){if(Ee(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,s,i,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ke(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:yF});if(d.error)throw d.error;const f=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,x=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return x.length>0&&(x.forEach(j=>{const v=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(j.split(";")[1].split("=")[1]);u[`${y}Page`]=v}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Ee(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Ra(t);try{return await ke(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Zr})}catch(n){if(Ee(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Ra(t);try{return await ke(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Zr})}catch(s){if(Ee(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,n=!1){Ra(t);try{return await ke(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Zr})}catch(s){if(Ee(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){Ra(t.userId);try{const{data:n,error:s}=await ke(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:s}}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Ra(t.userId),Ra(t.id);try{return{data:await ke(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ee(n))return{data:null,error:n};throw n}}}function x0(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function _F(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Aa={debug:!!(globalThis&&H1()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class K1 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class SF extends K1{}async function NF(e,t,n){Aa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),Aa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async i=>{if(i){Aa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Aa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Aa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new SF(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Aa.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}_F();const EF={url:I4,storageKey:L4,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:O4,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function v0(e,t,n){return await n()}const Da={};class bc{constructor(t){var n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=bc.nextInstanceID,bc.nextInstanceID+=1,this.instanceID>0&&Cs()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},EF),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new bF({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=q1(i.fetch),this.lock=i.lock||v0,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Cs()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=NF:this.lock=v0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:H1()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=x0(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=x0(this.memoryStorage)),Cs()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=Da[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Da[this.storageKey]=Object.assign(Object.assign({},Da[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Da[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Da[this.storageKey]=Object.assign(Object.assign({},Da[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${B1}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=eF(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),Cs()&&this.detectSessionInUrl&&s!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,s);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),W4(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ee(n)?{error:n}:{error:new z1("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,s,i;try{const a=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:gr}),{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Ee(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var n,s,i;try{let a;if("email"in t){const{email:d,password:f,options:m}=t;let x=null,j=null;this.flowType==="pkce"&&([x,j]=await Pa(this.storage,this.storageKey)),a=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:x,code_challenge_method:j},xform:gr})}else if("phone"in t){const{phone:d,password:f,options:m}=t;a=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(s=m==null?void 0:m.data)!==null&&s!==void 0?s:{},channel:(i=m==null?void 0:m.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:gr})}else throw new Pu("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Ee(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:o,options:l}=t;n=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:g0})}else if("phone"in t){const{phone:a,password:o,options:l}=t;n=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:g0})}else throw new Pu("You must provide either an email or phone number and a password");const{data:s,error:i}=n;return i?{data:{user:null,session:null},error:i}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new ku}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:i})}catch(n){if(Ee(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,s,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,s,i,a,o,l,c,u,d,f,m,x;let j,v;if("message"in t)j=t.message,v=t.signature;else{const{chain:y,wallet:g,statement:p,options:w}=t;let b;if(Cs())if(typeof g=="object")b=g;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))b=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=g}const S=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in b&&b.signIn){const T=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),p?{statement:p}:null));let N;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")N=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)N=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)j=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),v=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${S.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(i=(s=w==null?void 0:w.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const T=await b.signMessage(new TextEncoder().encode(j),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=T}}try{const{data:y,error:g}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:X4(v)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:gr});if(g)throw g;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new ku}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:g})}catch(y){if(Ee(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const n=await Vi(this.storage,`${this.storageKey}-code-verifier`),[s,i]=(n??"").split("/");try{const{data:a,error:o}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:gr});if(await Vr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new ku}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(Ee(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:n,provider:s,token:i,access_token:a,nonce:o}=t,l=await ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:gr}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new ku}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(Ee(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,s,i,a,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Pa(this.storage,this.storageKey));const{error:f}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Pu("You must provide either an email or phone number.")}catch(l){if(Ee(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,s;try{let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:l}=await ke(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:gr});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Ee(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,s,i;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await Pa(this.storage,this.storageKey)),await ke(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:xF})}catch(a){if(Ee(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:s}=t;if(s)throw s;if(!n)throw new Wr;const{error:i}=await ke(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Ee(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:s,type:i,options:a}=t,{error:o}=await ke(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:s,type:i,options:a}=t,{data:o,error:l}=await ke(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Pu("You must provide either an email or phone number and a type")}catch(n){if(Ee(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Vi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<tm:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.userStorage){const o=await Vi(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=rm()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Zr}):await this._useSession(async n=>{var s,i,a;const{data:o,error:l}=n;if(l)throw l;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Wr}:await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Zr})})}catch(n){if(Ee(n))return z4(n)&&(await this._removeSession(),await Vr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async s=>{const{data:i,error:a}=s;if(a)throw a;if(!i.session)throw new Wr;const o=i.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Pa(this.storage,this.storageKey));const{data:u,error:d}=await ke(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Zr});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if(Ee(s))return{data:{user:null},error:s};throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Wr;const n=Date.now()/1e3;let s=n,i=!0,a=null;const{payload:o}=sm(t.access_token);if(o.exp&&(s=o.exp,i=s<=n),i){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(Ee(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var s;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(t!=null&&t.refresh_token))throw new Wr;const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ee(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Cs())throw new Ru("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ru(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new u0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ru("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new u0("No code detected.");const{data:p,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!o||!u)throw new Ru("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let m=d+f;c&&(m=parseInt(c));const x=m-d;x*1e3<=Fa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${f}s`);const j=m-f;d-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,m,d):d-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,m,d);const{data:v,error:y}=await this._getUser(a);if(y)throw y;const g={provider_token:s,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:m,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(s){if(Ee(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Vi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:i,error:a}=n;if(a)return{error:a};const o=(s=i.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(V4(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Vr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=Z4(),s={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async n=>{var s,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let s=null,i=null;this.flowType==="pkce"&&([s,i]=await Pa(this.storage,this.storageKey,!0));try{return await ke(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(Ee(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:s,error:i}=await this._useSession(async a=>{var o,l,c,u,d;const{data:f,error:m}=a;if(m)throw m;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ke(this.fetch,"GET",x,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Cs()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:t.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(Ee(s))return{data:{provider:t.provider,url:null},error:s};throw s}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var s,i;const{data:a,error:o}=n;if(o)throw o;return await ke(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await sF(async i=>(i>0&&await nF(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await ke(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:gr})),(i,a)=>{const o=200*Math.pow(2,i);return a&&nm(a)&&Date.now()+o-s<Fa})}catch(s){if(this._debug(n,"error",s),Ee(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",s),Cs()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const i=await Vi(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Vi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Ua(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:rm()}else if(i&&!i.user&&!i.user){const o=await Vi(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await Vr(this.storage,this.storageKey+"-user"),await Ua(this.storage,this.storageKey,i)):i.user=rm()}if(this._debug(s,"session from storage",i),!this._isValidSession(i)){this._debug(s,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<tm;if(this._debug(s,`session has${a?"":" not"} expired with margin of ${tm}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),nm(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(i.access_token);!l&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(s,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(s,"error",i),console.error(i);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var n,s;if(!t)throw new Wr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Vf;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new Wr;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),Ee(a)){const o={session:null,error:a};return nm(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,s=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await Ua(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=structuredClone(i);await Ua(this.storage,this.storageKey,a)}else{const i=structuredClone(n);await Ua(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Vr(this.storage,this.storageKey),await Vr(this.storage,this.storageKey+"-code-verifier"),await Vr(this.storage,this.storageKey+"-user"),this.userStorage&&await Vr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Cs()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Fa);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((s.expires_at*1e3-t)/Fa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Fa}ms, refresh threshold is ${Qp} ticks`),i<=Qp&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof K1)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Cs()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,s){const i=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&i.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&i.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[a,o]=await Pa(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(s!=null&&s.queryParams){const a=new URLSearchParams(s.queryParams);i.push(a.toString())}return s!=null&&s.skipBrowserRedirect&&i.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var s;const{data:i,error:a}=n;return a?{data:null,error:a}:await ke(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var s,i;const{data:a,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await ke(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:i,error:a}=n;if(a)return{data:null,error:a};const{data:o,error:l}=await ke(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(Ee(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:i,error:a}=n;return a?{data:null,error:a}:await ke(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(Ee(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:s}=await this._challenge({factorId:t.factorId});return s?{data:null,error:s}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const s=(t==null?void 0:t.factors)||[],i=s.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=s.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:s,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,s;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=sm(i.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((s=(n=i.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let s=n.keys.find(l=>l.kid===t);if(s)return s;const i=Date.now();if(s=this.jwks.keys.find(l=>l.kid===t),s&&this.jwks_cached_at+U4>i)return s;const{data:a,error:o}=await ke(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,s=a.keys.find(l=>l.kid===t),!s)?null:s}async getClaims(t,n={}){try{let s=t;if(!s){const{data:x,error:j}=await this.getSession();if(j||!x.session)return{data:null,error:j};s=x.session.access_token}const{header:i,payload:a,signature:o,raw:{header:l,payload:c}}=sm(s);n!=null&&n.allowExpired||uF(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:x}=await this.getUser(s);if(x)throw x;return{data:{claims:a,header:i,signature:o},error:null}}const d=dF(i.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,Q4(`${l}.${c}`)))throw new Zp("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(s){if(Ee(s))return{data:null,error:s};throw s}}}bc.nextInstanceID=0;const CF=bc;class TF extends CF{constructor(t){super(t)}}var kF=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};class PF{constructor(t,n,s){var i,a,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=$4(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:E4,realtime:T4,auth:Object.assign(Object.assign({},C4),{storageKey:u}),global:N4},f=M4(s??{},d);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=f.global.headers)!==null&&a!==void 0?a:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(m,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=A4(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new GO(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new SO(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new b4(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},s={}){return this.rest.rpc(t,n,s)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return kF(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(n=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:i,storageKey:a,flowType:o,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new TF({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:a,autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:i,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new c4(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(t,n,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const RF=(e,t,n)=>new PF(e,t,n),AF="https://pmtssnzfepkcqpziknbz.supabase.co",DF="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBtdHNzbnpmZXBrY3FwemlrbmJ6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIwMzQ5MDQsImV4cCI6MjA2NzYxMDkwNH0.KNIFrGxC-XaJFzN0m69NX85bMQR2XgCj0JDxfbPcHS0",Cn=RF(AF,DF),Ae={SEASONS:"seasons",CONFERENCES:"conferences",TEAMS:"teams",TEAM_CONFERENCE_JUNCTION:"team_conference_junction",MATCHUPS:"matchups",TEAM_RECORDS:"team_records",PLAYERS:"players",DRAFT_RESULTS:"draft_results",MATCHUP_ADMIN_OVERRIDE:"matchup_admin_override",PLAYOFF_BRACKETS:"playoff_brackets",PLAYOFF_FORMATS:"playoff_formats",TEAM_ROSTERS:"team_rosters",TRANSACTIONS:"transactions"};class le{static async queryTable(t,n={}){try{let s=Cn.from(t).select("*",{count:"exact"});n.filters&&n.filters.forEach(l=>{s=this.applyFilter(s,l)}),n.orderBy&&(s=s.order(n.orderBy.column,{ascending:n.orderBy.ascending})),n.limit&&(s=s.limit(n.limit)),n.offset&&(s=s.range(n.offset,n.offset+(n.limit||100)-1));const{data:i,error:a,count:o}=await s;return a?(console.error(`Error querying ${t}:`,a),{data:[],error:a}):{data:i||[],count:o||0}}catch(s){return console.error(`Error in queryTable for ${t}:`,s),{data:[],error:s}}}static async createRecord(t,n){try{const{data:s,error:i}=await Cn.from(t).insert(n).select().single();return i?(console.error(`Error creating record in ${t}:`,i),{data:null,error:i}):{data:s,error:null}}catch(s){return console.error(`Error in createRecord for ${t}:`,s),{data:null,error:s}}}static async updateRecord(t,n,s){try{const{data:i,error:a}=await Cn.from(t).update(s).eq("id",n).select().single();return a?(console.error(`Error updating record in ${t}:`,a),{data:null,error:a}):{data:i,error:null}}catch(i){return console.error(`Error in updateRecord for ${t}:`,i),{data:null,error:i}}}static async deleteRecord(t,n){try{const{error:s}=await Cn.from(t).delete().eq("id",n);return s?(console.error(`Error deleting record from ${t}:`,s),{error:s}):{error:null}}catch(s){return console.error(`Error in deleteRecord for ${t}:`,s),{error:s}}}static applyFilter(t,n){const{column:s,operator:i,value:a}=n;switch(i){case"eq":return t.eq(s,a);case"neq":return t.neq(s,a);case"gt":return t.gt(s,a);case"gte":return t.gte(s,a);case"lt":return t.lt(s,a);case"lte":return t.lte(s,a);case"like":return t.like(s,a);case"ilike":return t.ilike(s,a);case"in":return t.in(s,a);case"is":return t.is(s,a);case"not":return t.not(s,a);default:return t}}static async getSeasons(t){return this.queryTable(Ae.SEASONS,t)}static async createSeason(t){return this.createRecord(Ae.SEASONS,t)}static async updateSeason(t,n){return this.updateRecord(Ae.SEASONS,t,n)}static async updateSeasonScoringSettings(t){try{const{data:n}=await this.getConferences({filters:[{column:"season_id",operator:"eq",value:t}]});if(!n||n.length===0)return{success:!1,error:"No conferences found for this season"};const s=n[0],a=await(await _i(async()=>{const{SleeperApiService:l}=await Promise.resolve().then(()=>P0);return{SleeperApiService:l}},void 0)).SleeperApiService.fetchLeague(s.league_id);if(!a.scoring_settings)return{success:!1,error:"No scoring settings found in league data"};const{error:o}=await this.updateSeason(t,{scoring_settings:a.scoring_settings});return o?{success:!1,error:o}:{success:!0}}catch(n){return console.error("Error updating season scoring settings:",n),{success:!1,error:n}}}static async updateSeasonRosterPositions(t){try{const{data:n}=await this.getConferences({filters:[{column:"season_id",operator:"eq",value:t}]});if(!n||n.length===0)return{success:!1,error:"No conferences found for this season"};const s=n[0],a=await(await _i(async()=>{const{SleeperApiService:l}=await Promise.resolve().then(()=>P0);return{SleeperApiService:l}},void 0)).SleeperApiService.fetchLeague(s.league_id);if(!a.roster_positions)return{success:!1,error:"No roster positions found in league data"};const{error:o}=await this.updateSeason(t,{roster_positions:a.roster_positions});return o?{success:!1,error:o}:{success:!0}}catch(n){return console.error("Error updating season roster positions:",n),{success:!1,error:n}}}static async getConferences(t){return this.queryTable(Ae.CONFERENCES,t)}static async createConference(t){return this.createRecord(Ae.CONFERENCES,t)}static async updateConference(t,n){return this.updateRecord(Ae.CONFERENCES,t,n)}static async getTeams(t){return this.queryTable(Ae.TEAMS,t)}static async createTeam(t){return this.createRecord(Ae.TEAMS,t)}static async updateTeam(t,n){return this.updateRecord(Ae.TEAMS,t,n)}static async getTeamConferenceJunctions(t){return this.queryTable(Ae.TEAM_CONFERENCE_JUNCTION,t)}static async createTeamConferenceJunction(t){return this.createRecord(Ae.TEAM_CONFERENCE_JUNCTION,t)}static async getMatchups(t){return this.queryTable(Ae.MATCHUPS,t)}static async createMatchup(t){return this.createRecord(Ae.MATCHUPS,t)}static async updateMatchup(t,n){return this.updateRecord(Ae.MATCHUPS,t,n)}static async getTeamRecords(t){return this.queryTable(Ae.TEAM_RECORDS,t)}static async createTeamRecord(t){return this.createRecord(Ae.TEAM_RECORDS,t)}static async updateTeamRecord(t,n){return this.updateRecord(Ae.TEAM_RECORDS,t,n)}static async deleteTeamRecord(t){return this.deleteRecord(Ae.TEAM_RECORDS,t)}static async getPlayers(t){try{let n=Cn.from(Ae.PLAYERS).select("*",{count:"exact"});t!=null&&t.filters&&t.filters.forEach(o=>{n=this.applyFilter(n,o)}),t!=null&&t.orderBy&&(n=n.order(t.orderBy.column,{ascending:t.orderBy.ascending})),n=n.range(0,14999);const{data:s,error:i,count:a}=await n;return i?(console.error(`Error querying ${Ae.PLAYERS}:`,i),{data:[],error:i}):{data:s||[],count:a||0}}catch(n){return console.error("Error in getPlayers:",n),{data:[],error:n}}}static async createPlayer(t){return this.createRecord(Ae.PLAYERS,t)}static async updatePlayer(t,n){return this.updateRecord(Ae.PLAYERS,t,n)}static async getAllPlayersForMapping(t){try{const n=[];let i=0,a=!0;for(;a;){let o=Cn.from(Ae.PLAYERS).select("*");t&&t.forEach(u=>{o=this.applyFilter(o,u)}),o=o.order("sleeper_id",{ascending:!0}),o=o.range(i,i+1e3-1);const{data:l,error:c}=await o;if(c)throw console.error("Error in getAllPlayersForMapping:",c),c;l&&l.length>0?(n.push(...l),l.length<1e3?a=!1:i+=1e3):a=!1}return n}catch(n){throw console.error("Error in getAllPlayersForMapping:",n),n}}static async getPlayersAsSleeperFormat(){try{const t=await this.getPlayers();if(!t.data)throw new Error("Failed to fetch players from database");const n={};return t.data.forEach(s=>{var i;if(s.sleeper_id){const a=s.player_name.split(" "),o=a[0]||"",l=a.slice(1).join(" ")||"";n[s.sleeper_id]={player_id:s.sleeper_id,first_name:o,last_name:l,position:s.position||"",team:s.nfl_team||"",jersey_number:s.number||0,status:s.playing_status||"",injury_status:s.injury_status||"",age:s.age||0,height:((i=s.height)==null?void 0:i.toString())||"",weight:s.weight||0,years_exp:0,college:s.college||""}}}),n}catch(t){throw console.error("Error fetching players from database:",t),t}}static async getDraftResults(t){return this.queryTable(Ae.DRAFT_RESULTS,t)}static async createDraftResult(t){return this.createRecord(Ae.DRAFT_RESULTS,t)}static async getMatchupAdminOverrides(t){return this.queryTable(Ae.MATCHUP_ADMIN_OVERRIDE,t)}static async createMatchupAdminOverride(t){return this.createRecord(Ae.MATCHUP_ADMIN_OVERRIDE,t)}static async updateMatchupAdminOverride(t,n){return this.updateRecord(Ae.MATCHUP_ADMIN_OVERRIDE,t,n)}static async deleteMatchupAdminOverride(t){return this.deleteRecord(Ae.MATCHUP_ADMIN_OVERRIDE,t)}static async getTransactions(t){return this.queryTable(Ae.TRANSACTIONS,t)}static async createTransaction(t){return this.createRecord(Ae.TRANSACTIONS,t)}static async getPlayoffBrackets(t){return this.queryTable(Ae.PLAYOFF_BRACKETS,t)}static async createPlayoffBracket(t){return this.createRecord(Ae.PLAYOFF_BRACKETS,t)}static async getPlayoffFormats(t){return this.queryTable(Ae.PLAYOFF_FORMATS,t)}static async createPlayoffFormat(t){return this.createRecord(Ae.PLAYOFF_FORMATS,t)}static async updatePlayoffFormat(t,n){return this.updateRecord(Ae.PLAYOFF_FORMATS,t,n)}}const $F=Object.freeze(Object.defineProperty({__proto__:null,DatabaseService:le},Symbol.toStringTag,{value:"Module"})),G1=h.createContext(void 0),MF=({children:e})=>{const[t,n]=h.useState(2025),[s,i]=h.useState(null),[a,o]=h.useState("light"),[l,c]=h.useState([]),[u,d]=h.useState(!0),[f,m]=h.useState(null),x=async()=>{try{d(!0),m(null);const g=await le.getSeasons({orderBy:{column:"season_year",ascending:!1}});if(g.error)throw new Error(g.error);const p=g.data||[],w=await le.getConferences();if(w.error)throw new Error(w.error);const b=w.data||[],S=p.map(N=>{const E=b.filter(P=>P.season_id===N.id).map(P=>({id:P.conference_name.toLowerCase().replace(/[^a-z0-9]/g,""),name:P.conference_name,leagueId:P.league_id,status:P.status,seasonId:P.season_id,dbConferenceId:P.id}));return{year:parseInt(N.season_year),conferences:E,seasonId:N.id,isCurrent:N.is_current}});c(S);const T=S.find(N=>N.isCurrent);T&&t!==T.year&&n(T.year)}catch(g){console.error("Failed to load season data:",g),m(g instanceof Error?g.message:"Failed to load season data"),c([{year:2024,conferences:[{id:"mars",name:"The Legions of Mars",leagueId:"1072580179844857856"},{id:"jupiter",name:"The Guardians of Jupiter",leagueId:"1072593839715667968"},{id:"vulcan",name:"Vulcan's Oathsworn",leagueId:"1072593416955015168"}]},{year:2025,conferences:[{id:"mars",name:"The Legions of Mars",leagueId:"1204854057169072128"},{id:"jupiter",name:"The Guardians of Jupiter",leagueId:"1204857692007440384"},{id:"vulcan",name:"Vulcan's Oathsworn",leagueId:"1204857608989577216"}]}])}finally{d(!1)}};h.useEffect(()=>{x()},[]);const j=()=>{o(g=>g==="light"?"dark":"light")},v=l.find(g=>g.year===t)||l.find(g=>g.isCurrent)||l[0]||{year:t,conferences:[]},y={selectedSeason:t,selectedConference:s,theme:a,setSelectedSeason:n,setSelectedConference:i,toggleTheme:j,seasonConfigs:l,currentSeasonConfig:v,loading:u,error:f,refreshSeasonData:x};return r.jsx(G1.Provider,{value:y,children:r.jsx("div",{className:a,children:e})})},Dn=()=>{const e=h.useContext(G1);if(!e)throw new Error("useApp must be used within an AppProvider");return e},IF=zo("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),J=h.forwardRef(({className:e,variant:t,size:n,asChild:s=!1,...i},a)=>{const o=s?rA:"button";return r.jsx(o,{className:pe(IF({variant:t,size:n,className:e})),ref:a,...i})});J.displayName="Button";var am="focusScope.autoFocusOnMount",om="focusScope.autoFocusOnUnmount",y0={bubbles:!1,cancelable:!0},LF="FocusScope",rv=h.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=e,[l,c]=h.useState(null),u=Zn(i),d=Zn(a),f=h.useRef(null),m=Ke(t,v=>c(v)),x=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(s){let v=function(w){if(x.paused||!l)return;const b=w.target;l.contains(b)?f.current=b:Hr(f.current,{select:!0})},y=function(w){if(x.paused||!l)return;const b=w.relatedTarget;b!==null&&(l.contains(b)||Hr(f.current,{select:!0}))},g=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&Hr(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",y);const p=new MutationObserver(g);return l&&p.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",y),p.disconnect()}}},[s,l,x.paused]),h.useEffect(()=>{if(l){j0.add(x);const v=document.activeElement;if(!l.contains(v)){const g=new CustomEvent(am,y0);l.addEventListener(am,u),l.dispatchEvent(g),g.defaultPrevented||(OF(zF(Y1(l)),{select:!0}),document.activeElement===v&&Hr(l))}return()=>{l.removeEventListener(am,u),setTimeout(()=>{const g=new CustomEvent(om,y0);l.addEventListener(om,d),l.dispatchEvent(g),g.defaultPrevented||Hr(v??document.body,{select:!0}),l.removeEventListener(om,d),j0.remove(x)},0)}}},[l,u,d,x]);const j=h.useCallback(v=>{if(!n&&!s||x.paused)return;const y=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,g=document.activeElement;if(y&&g){const p=v.currentTarget,[w,b]=FF(p);w&&b?!v.shiftKey&&g===b?(v.preventDefault(),n&&Hr(w,{select:!0})):v.shiftKey&&g===w&&(v.preventDefault(),n&&Hr(b,{select:!0})):g===p&&v.preventDefault()}},[n,s,x.paused]);return r.jsx(ve.div,{tabIndex:-1,...o,ref:m,onKeyDown:j})});rv.displayName=LF;function OF(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(Hr(s,{select:t}),document.activeElement!==n)return}function FF(e){const t=Y1(e),n=w0(t,e),s=w0(t.reverse(),e);return[n,s]}function Y1(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function w0(e,t){for(const n of e)if(!UF(n,{upTo:t}))return n}function UF(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function BF(e){return e instanceof HTMLInputElement&&"select"in e}function Hr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&BF(e)&&t&&e.select()}}var j0=VF();function VF(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=b0(e,t),e.unshift(t)},remove(t){var n;e=b0(e,t),(n=e[0])==null||n.resume()}}}function b0(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function zF(e){return e.filter(t=>t.tagName!=="A")}var lm=0;function Q1(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??_0()),document.body.insertAdjacentElement("beforeend",e[1]??_0()),lm++,()=>{lm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),lm--}},[])}function _0(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var sr=function(){return sr=Object.assign||function(t){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},sr.apply(this,arguments)};function X1(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n}function WF(e,t,n){if(n||arguments.length===2)for(var s=0,i=t.length,a;s<i;s++)(a||!(s in t))&&(a||(a=Array.prototype.slice.call(t,0,s)),a[s]=t[s]);return e.concat(a||Array.prototype.slice.call(t))}var rd="right-scroll-bar-position",id="width-before-scroll-bar",HF="with-scroll-bars-hidden",qF="--removed-body-scroll-bar-size";function cm(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function KF(e,t){var n=h.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var i=n.value;i!==s&&(n.value=s,n.callback(s,i))}}}})[0];return n.callback=t,n.facade}var GF=typeof window<"u"?h.useLayoutEffect:h.useEffect,S0=new WeakMap;function YF(e,t){var n=KF(null,function(s){return e.forEach(function(i){return cm(i,s)})});return GF(function(){var s=S0.get(n);if(s){var i=new Set(s),a=new Set(e),o=n.current;i.forEach(function(l){a.has(l)||cm(l,null)}),a.forEach(function(l){i.has(l)||cm(l,o)})}S0.set(n,e)},[e]),n}function QF(e){return e}function XF(e,t){t===void 0&&(t=QF);var n=[],s=!1,i={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var o=t(a,s);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(s=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){s=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(a),o=n}var c=function(){var d=o;o=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return i}function JF(e){e===void 0&&(e={});var t=XF(null);return t.options=sr({async:!0,ssr:!1},e),t}var J1=function(e){var t=e.sideCar,n=X1(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return h.createElement(s,sr({},n))};J1.isSideCarExport=!0;function ZF(e,t){return e.useMedium(t),J1}var Z1=JF(),um=function(){},zf=h.forwardRef(function(e,t){var n=h.useRef(null),s=h.useState({onScrollCapture:um,onWheelCapture:um,onTouchMoveCapture:um}),i=s[0],a=s[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,m=e.sideCar,x=e.noRelative,j=e.noIsolation,v=e.inert,y=e.allowPinchZoom,g=e.as,p=g===void 0?"div":g,w=e.gapMode,b=X1(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=m,T=YF([n,t]),N=sr(sr({},b),i);return h.createElement(h.Fragment,null,d&&h.createElement(S,{sideCar:Z1,removeScrollBar:u,shards:f,noRelative:x,noIsolation:j,inert:v,setCallbacks:a,allowPinchZoom:!!y,lockRef:n,gapMode:w}),o?h.cloneElement(h.Children.only(l),sr(sr({},N),{ref:T})):h.createElement(p,sr({},N,{className:c,ref:T}),l))});zf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};zf.classNames={fullWidth:id,zeroRight:rd};var e3=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function t3(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=e3();return t&&e.setAttribute("nonce",t),e}function n3(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function s3(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var r3=function(){var e=0,t=null;return{add:function(n){e==0&&(t=t3())&&(n3(t,n),s3(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},i3=function(){var e=r3();return function(t,n){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},eE=function(){var e=i3(),t=function(n){var s=n.styles,i=n.dynamic;return e(s,i),null};return t},a3={left:0,top:0,right:0,gap:0},dm=function(e){return parseInt(e||"",10)||0},o3=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[dm(n),dm(s),dm(i)]},l3=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return a3;var t=o3(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},c3=eE(),mo="data-scroll-locked",u3=function(e,t,n,s){var i=e.left,a=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(HF,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(mo,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(rd,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(id,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(rd," .").concat(rd,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(id," .").concat(id,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(mo,`] {
    `).concat(qF,": ").concat(l,`px;
  }
`)},N0=function(){var e=parseInt(document.body.getAttribute(mo)||"0",10);return isFinite(e)?e:0},d3=function(){h.useEffect(function(){return document.body.setAttribute(mo,(N0()+1).toString()),function(){var e=N0()-1;e<=0?document.body.removeAttribute(mo):document.body.setAttribute(mo,e.toString())}},[])},f3=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,i=s===void 0?"margin":s;d3();var a=h.useMemo(function(){return l3(i)},[i]);return h.createElement(c3,{styles:u3(a,!t,i,n?"":"!important")})},eg=!1;if(typeof window<"u")try{var Au=Object.defineProperty({},"passive",{get:function(){return eg=!0,!0}});window.addEventListener("test",Au,Au),window.removeEventListener("test",Au,Au)}catch{eg=!1}var $a=eg?{passive:!1}:!1,h3=function(e){return e.tagName==="TEXTAREA"},tE=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!h3(e)&&n[t]==="visible")},m3=function(e){return tE(e,"overflowY")},p3=function(e){return tE(e,"overflowX")},E0=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var i=nE(e,s);if(i){var a=sE(e,s),o=a[1],l=a[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},g3=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},x3=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},nE=function(e,t){return e==="v"?m3(t):p3(t)},sE=function(e,t){return e==="v"?g3(t):x3(t)},v3=function(e,t){return e==="h"&&t==="rtl"?-1:1},y3=function(e,t,n,s,i){var a=v3(e,window.getComputedStyle(t).direction),o=a*s,l=n.target,c=t.contains(l),u=!1,d=o>0,f=0,m=0;do{if(!l)break;var x=sE(e,l),j=x[0],v=x[1],y=x[2],g=v-y-a*j;(j||g)&&nE(e,l)&&(f+=g,m+=j);var p=l.parentNode;l=p&&p.nodeType===Node.DOCUMENT_FRAGMENT_NODE?p.host:p}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(m)<1)&&(u=!0),u},Du=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},C0=function(e){return[e.deltaX,e.deltaY]},T0=function(e){return e&&"current"in e?e.current:e},w3=function(e,t){return e[0]===t[0]&&e[1]===t[1]},j3=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},b3=0,Ma=[];function _3(e){var t=h.useRef([]),n=h.useRef([0,0]),s=h.useRef(),i=h.useState(b3++)[0],a=h.useState(eE)[0],o=h.useRef(e);h.useEffect(function(){o.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var v=WF([e.lockRef.current],(e.shards||[]).map(T0),!0).filter(Boolean);return v.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=h.useCallback(function(v,y){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var g=Du(v),p=n.current,w="deltaX"in v?v.deltaX:p[0]-g[0],b="deltaY"in v?v.deltaY:p[1]-g[1],S,T=v.target,N=Math.abs(w)>Math.abs(b)?"h":"v";if("touches"in v&&N==="h"&&T.type==="range")return!1;var E=E0(N,T);if(!E)return!0;if(E?S=N:(S=N==="v"?"h":"v",E=E0(N,T)),!E)return!1;if(!s.current&&"changedTouches"in v&&(w||b)&&(s.current=S),!S)return!0;var P=s.current||S;return y3(P,y,v,P==="h"?w:b)},[]),c=h.useCallback(function(v){var y=v;if(!(!Ma.length||Ma[Ma.length-1]!==a)){var g="deltaY"in y?C0(y):Du(y),p=t.current.filter(function(S){return S.name===y.type&&(S.target===y.target||y.target===S.shadowParent)&&w3(S.delta,g)})[0];if(p&&p.should){y.cancelable&&y.preventDefault();return}if(!p){var w=(o.current.shards||[]).map(T0).filter(Boolean).filter(function(S){return S.contains(y.target)}),b=w.length>0?l(y,w[0]):!o.current.noIsolation;b&&y.cancelable&&y.preventDefault()}}},[]),u=h.useCallback(function(v,y,g,p){var w={name:v,delta:y,target:g,should:p,shadowParent:S3(g)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(b){return b!==w})},1)},[]),d=h.useCallback(function(v){n.current=Du(v),s.current=void 0},[]),f=h.useCallback(function(v){u(v.type,C0(v),v.target,l(v,e.lockRef.current))},[]),m=h.useCallback(function(v){u(v.type,Du(v),v.target,l(v,e.lockRef.current))},[]);h.useEffect(function(){return Ma.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,$a),document.addEventListener("touchmove",c,$a),document.addEventListener("touchstart",d,$a),function(){Ma=Ma.filter(function(v){return v!==a}),document.removeEventListener("wheel",c,$a),document.removeEventListener("touchmove",c,$a),document.removeEventListener("touchstart",d,$a)}},[]);var x=e.removeScrollBar,j=e.inert;return h.createElement(h.Fragment,null,j?h.createElement(a,{styles:j3(i)}):null,x?h.createElement(f3,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function S3(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const N3=ZF(Z1,_3);var iv=h.forwardRef(function(e,t){return h.createElement(zf,sr({},e,{ref:t,sideCar:N3}))});iv.classNames=zf.classNames;var E3=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ia=new WeakMap,$u=new WeakMap,Mu={},fm=0,rE=function(e){return e&&(e.host||rE(e.parentNode))},C3=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=rE(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},T3=function(e,t,n,s){var i=C3(t,Array.isArray(e)?e:[e]);Mu[n]||(Mu[n]=new WeakMap);var a=Mu[n],o=[],l=new Set,c=new Set(i),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))d(m);else try{var x=m.getAttribute(s),j=x!==null&&x!=="false",v=(Ia.get(m)||0)+1,y=(a.get(m)||0)+1;Ia.set(m,v),a.set(m,y),o.push(m),v===1&&j&&$u.set(m,!0),y===1&&m.setAttribute(n,"true"),j||m.setAttribute(s,"true")}catch(g){console.error("aria-hidden: cannot operate on ",m,g)}})};return d(t),l.clear(),fm++,function(){o.forEach(function(f){var m=Ia.get(f)-1,x=a.get(f)-1;Ia.set(f,m),a.set(f,x),m||($u.has(f)||f.removeAttribute(s),$u.delete(f)),x||f.removeAttribute(n)}),fm--,fm||(Ia=new WeakMap,Ia=new WeakMap,$u=new WeakMap,Mu={})}},iE=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),i=E3(e);return i?(s.push.apply(s,Array.from(i.querySelectorAll("[aria-live], script"))),T3(s,i,n,"aria-hidden")):function(){return null}},Wf="Dialog",[aE,J7]=ns(Wf),[k3,Hs]=aE(Wf),oE=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,l=h.useRef(null),c=h.useRef(null),[u,d]=Pr({prop:s,defaultProp:i??!1,onChange:a,caller:Wf});return r.jsx(k3,{scope:t,triggerRef:l,contentRef:c,contentId:Nr(),titleId:Nr(),descriptionId:Nr(),open:u,onOpenChange:d,onOpenToggle:h.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};oE.displayName=Wf;var lE="DialogTrigger",cE=h.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Hs(lE,n),a=Ke(t,i.triggerRef);return r.jsx(ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":lv(i.open),...s,ref:a,onClick:xe(e.onClick,i.onOpenToggle)})});cE.displayName=lE;var av="DialogPortal",[P3,uE]=aE(av,{forceMount:void 0}),dE=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:i}=e,a=Hs(av,t);return r.jsx(P3,{scope:t,forceMount:n,children:h.Children.map(s,o=>r.jsx(fr,{present:n||a.open,children:r.jsx(Bc,{asChild:!0,container:i,children:o})}))})};dE.displayName=av;var qd="DialogOverlay",fE=h.forwardRef((e,t)=>{const n=uE(qd,e.__scopeDialog),{forceMount:s=n.forceMount,...i}=e,a=Hs(qd,e.__scopeDialog);return a.modal?r.jsx(fr,{present:s||a.open,children:r.jsx(A3,{...i,ref:t})}):null});fE.displayName=qd;var R3=Ro("DialogOverlay.RemoveScroll"),A3=h.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Hs(qd,n);return r.jsx(iv,{as:R3,allowPinchZoom:!0,shards:[i.contentRef],children:r.jsx(ve.div,{"data-state":lv(i.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),va="DialogContent",hE=h.forwardRef((e,t)=>{const n=uE(va,e.__scopeDialog),{forceMount:s=n.forceMount,...i}=e,a=Hs(va,e.__scopeDialog);return r.jsx(fr,{present:s||a.open,children:a.modal?r.jsx(D3,{...i,ref:t}):r.jsx($3,{...i,ref:t})})});hE.displayName=va;var D3=h.forwardRef((e,t)=>{const n=Hs(va,e.__scopeDialog),s=h.useRef(null),i=Ke(t,n.contentRef,s);return h.useEffect(()=>{const a=s.current;if(a)return iE(a)},[]),r.jsx(mE,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:xe(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:xe(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:xe(e.onFocusOutside,a=>a.preventDefault())})}),$3=h.forwardRef((e,t)=>{const n=Hs(va,e.__scopeDialog),s=h.useRef(!1),i=h.useRef(!1);return r.jsx(mE,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(s.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),mE=h.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=e,l=Hs(va,n),c=h.useRef(null),u=Ke(t,c);return Q1(),r.jsxs(r.Fragment,{children:[r.jsx(rv,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:a,children:r.jsx(Uc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":lv(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(M3,{titleId:l.titleId}),r.jsx(L3,{contentRef:c,descriptionId:l.descriptionId})]})]})}),ov="DialogTitle",pE=h.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Hs(ov,n);return r.jsx(ve.h2,{id:i.titleId,...s,ref:t})});pE.displayName=ov;var gE="DialogDescription",xE=h.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Hs(gE,n);return r.jsx(ve.p,{id:i.descriptionId,...s,ref:t})});xE.displayName=gE;var vE="DialogClose",yE=h.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Hs(vE,n);return r.jsx(ve.button,{type:"button",...s,ref:t,onClick:xe(e.onClick,()=>i.onOpenChange(!1))})});yE.displayName=vE;function lv(e){return e?"open":"closed"}var wE="DialogTitleWarning",[Z7,jE]=nA(wE,{contentName:va,titleName:ov,docsSlug:"dialog"}),M3=({titleId:e})=>{const t=jE(wE),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},I3="DialogDescriptionWarning",L3=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${jE(I3).contentName}}.`;return h.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},bE=oE,_E=cE,SE=dE,Hf=fE,qf=hE,Kf=pE,Gf=xE,NE=yE;const O3=bE,F3=_E,U3=SE,EE=h.forwardRef(({className:e,...t},n)=>r.jsx(Hf,{className:pe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));EE.displayName=Hf.displayName;const B3=zo("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),CE=h.forwardRef(({side:e="right",className:t,children:n,...s},i)=>r.jsxs(U3,{children:[r.jsx(EE,{}),r.jsxs(qf,{ref:i,className:pe(B3({side:e}),t),...s,children:[r.jsxs(NE,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[r.jsx(Cf,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]}),n]})]}));CE.displayName=qf.displayName;const V3=h.forwardRef(({className:e,...t},n)=>r.jsx(Kf,{ref:n,className:pe("text-lg font-semibold text-foreground",e),...t}));V3.displayName=Kf.displayName;const z3=h.forwardRef(({className:e,...t},n)=>r.jsx(Gf,{ref:n,className:pe("text-sm text-muted-foreground",e),...t}));z3.displayName=Gf.displayName;function k0(e,[t,n]){return Math.min(n,Math.max(t,e))}var W3=h.createContext(void 0);function cv(e){const t=h.useContext(W3);return e||t||"ltr"}function uv(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var H3=[" ","Enter","ArrowUp","ArrowDown"],q3=[" ","Enter"],ya="Select",[Yf,Qf,K3]=kx(ya),[Xo,eH]=ns(ya,[K3,Rf]),Xf=Rf(),[G3,Ai]=Xo(ya),[Y3,Q3]=Xo(ya),TE=e=>{const{__scopeSelect:t,children:n,open:s,defaultOpen:i,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:m,required:x,form:j}=e,v=Xf(t),[y,g]=h.useState(null),[p,w]=h.useState(null),[b,S]=h.useState(!1),T=cv(u),[N,E]=Pr({prop:s,defaultProp:i??!1,onChange:a,caller:ya}),[P,D]=Pr({prop:o,defaultProp:l,onChange:c,caller:ya}),R=h.useRef(null),M=y?j||!!y.closest("form"):!0,[$,O]=h.useState(new Set),K=Array.from($).map(F=>F.props.value).join(";");return r.jsx(NI,{...v,children:r.jsxs(G3,{required:x,scope:t,trigger:y,onTriggerChange:g,valueNode:p,onValueNodeChange:w,valueNodeHasChildren:b,onValueNodeHasChildrenChange:S,contentId:Nr(),value:P,onValueChange:D,open:N,onOpenChange:E,dir:T,triggerPointerDownPosRef:R,disabled:m,children:[r.jsx(Yf.Provider,{scope:t,children:r.jsx(Y3,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(F=>{O(V=>new Set(V).add(F))},[]),onNativeOptionRemove:h.useCallback(F=>{O(V=>{const A=new Set(V);return A.delete(F),A})},[]),children:n})}),M?r.jsxs(JE,{"aria-hidden":!0,required:x,tabIndex:-1,name:d,autoComplete:f,value:P,onChange:F=>D(F.target.value),disabled:m,form:j,children:[P===void 0?r.jsx("option",{value:""}):null,Array.from($)]},K):null]})})};TE.displayName=ya;var kE="SelectTrigger",PE=h.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:s=!1,...i}=e,a=Xf(n),o=Ai(kE,n),l=o.disabled||s,c=Ke(t,o.onTriggerChange),u=Qf(n),d=h.useRef("touch"),[f,m,x]=eC(v=>{const y=u().filter(w=>!w.disabled),g=y.find(w=>w.value===o.value),p=tC(y,v,g);p!==void 0&&o.onValueChange(p.value)}),j=v=>{l||(o.onOpenChange(!0),x()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return r.jsx(qN,{asChild:!0,...a,children:r.jsx(ve.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":ZE(o.value)?"":void 0,...i,ref:c,onClick:xe(i.onClick,v=>{v.currentTarget.focus(),d.current!=="mouse"&&j(v)}),onPointerDown:xe(i.onPointerDown,v=>{d.current=v.pointerType;const y=v.target;y.hasPointerCapture(v.pointerId)&&y.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(j(v),v.preventDefault())}),onKeyDown:xe(i.onKeyDown,v=>{const y=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&m(v.key),!(y&&v.key===" ")&&H3.includes(v.key)&&(j(),v.preventDefault())})})})});PE.displayName=kE;var RE="SelectValue",AE=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:i,children:a,placeholder:o="",...l}=e,c=Ai(RE,n),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,f=Ke(t,c.onValueNodeChange);return Tt(()=>{u(d)},[u,d]),r.jsx(ve.span,{...l,ref:f,style:{pointerEvents:"none"},children:ZE(c.value)?r.jsx(r.Fragment,{children:o}):a})});AE.displayName=RE;var X3="SelectIcon",DE=h.forwardRef((e,t)=>{const{__scopeSelect:n,children:s,...i}=e;return r.jsx(ve.span,{"aria-hidden":!0,...i,ref:t,children:s||""})});DE.displayName=X3;var J3="SelectPortal",$E=e=>r.jsx(Bc,{asChild:!0,...e});$E.displayName=J3;var wa="SelectContent",ME=h.forwardRef((e,t)=>{const n=Ai(wa,e.__scopeSelect),[s,i]=h.useState();if(Tt(()=>{i(new DocumentFragment)},[]),!n.open){const a=s;return a?vs.createPortal(r.jsx(IE,{scope:e.__scopeSelect,children:r.jsx(Yf.Slot,{scope:e.__scopeSelect,children:r.jsx("div",{children:e.children})})}),a):null}return r.jsx(LE,{...e,ref:t})});ME.displayName=wa;var Ts=10,[IE,Di]=Xo(wa),Z3="SelectContentImpl",e5=Ro("SelectContent.RemoveScroll"),LE=h.forwardRef((e,t)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:x,sticky:j,hideWhenDetached:v,avoidCollisions:y,...g}=e,p=Ai(wa,n),[w,b]=h.useState(null),[S,T]=h.useState(null),N=Ke(t,z=>b(z)),[E,P]=h.useState(null),[D,R]=h.useState(null),M=Qf(n),[$,O]=h.useState(!1),K=h.useRef(!1);h.useEffect(()=>{if(w)return iE(w)},[w]),Q1();const F=h.useCallback(z=>{const[W,...G]=M().map(ce=>ce.ref.current),[U]=G.slice(-1),se=document.activeElement;for(const ce of z)if(ce===se||(ce==null||ce.scrollIntoView({block:"nearest"}),ce===W&&S&&(S.scrollTop=0),ce===U&&S&&(S.scrollTop=S.scrollHeight),ce==null||ce.focus(),document.activeElement!==se))return},[M,S]),V=h.useCallback(()=>F([E,w]),[F,E,w]);h.useEffect(()=>{$&&V()},[$,V]);const{onOpenChange:A,triggerPointerDownPosRef:_}=p;h.useEffect(()=>{if(w){let z={x:0,y:0};const W=U=>{var se,ce;z={x:Math.abs(Math.round(U.pageX)-(((se=_.current)==null?void 0:se.x)??0)),y:Math.abs(Math.round(U.pageY)-(((ce=_.current)==null?void 0:ce.y)??0))}},G=U=>{z.x<=10&&z.y<=10?U.preventDefault():w.contains(U.target)||A(!1),document.removeEventListener("pointermove",W),_.current=null};return _.current!==null&&(document.addEventListener("pointermove",W),document.addEventListener("pointerup",G,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",W),document.removeEventListener("pointerup",G,{capture:!0})}}},[w,A,_]),h.useEffect(()=>{const z=()=>A(!1);return window.addEventListener("blur",z),window.addEventListener("resize",z),()=>{window.removeEventListener("blur",z),window.removeEventListener("resize",z)}},[A]);const[C,k]=eC(z=>{const W=M().filter(se=>!se.disabled),G=W.find(se=>se.ref.current===document.activeElement),U=tC(W,z,G);U&&setTimeout(()=>U.ref.current.focus())}),L=h.useCallback((z,W,G)=>{const U=!K.current&&!G;(p.value!==void 0&&p.value===W||U)&&(P(z),U&&(K.current=!0))},[p.value]),I=h.useCallback(()=>w==null?void 0:w.focus(),[w]),H=h.useCallback((z,W,G)=>{const U=!K.current&&!G;(p.value!==void 0&&p.value===W||U)&&R(z)},[p.value]),ae=s==="popper"?tg:OE,Q=ae===tg?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:x,sticky:j,hideWhenDetached:v,avoidCollisions:y}:{};return r.jsx(IE,{scope:n,content:w,viewport:S,onViewportChange:T,itemRefCallback:L,selectedItem:E,onItemLeave:I,itemTextRefCallback:H,focusSelectedItem:V,selectedItemText:D,position:s,isPositioned:$,searchRef:C,children:r.jsx(iv,{as:e5,allowPinchZoom:!0,children:r.jsx(rv,{asChild:!0,trapped:p.open,onMountAutoFocus:z=>{z.preventDefault()},onUnmountAutoFocus:xe(i,z=>{var W;(W=p.trigger)==null||W.focus({preventScroll:!0}),z.preventDefault()}),children:r.jsx(Uc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:z=>z.preventDefault(),onDismiss:()=>p.onOpenChange(!1),children:r.jsx(ae,{role:"listbox",id:p.contentId,"data-state":p.open?"open":"closed",dir:p.dir,onContextMenu:z=>z.preventDefault(),...g,...Q,onPlaced:()=>O(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:xe(g.onKeyDown,z=>{const W=z.ctrlKey||z.altKey||z.metaKey;if(z.key==="Tab"&&z.preventDefault(),!W&&z.key.length===1&&k(z.key),["ArrowUp","ArrowDown","Home","End"].includes(z.key)){let U=M().filter(se=>!se.disabled).map(se=>se.ref.current);if(["ArrowUp","End"].includes(z.key)&&(U=U.slice().reverse()),["ArrowUp","ArrowDown"].includes(z.key)){const se=z.target,ce=U.indexOf(se);U=U.slice(ce+1)}setTimeout(()=>F(U)),z.preventDefault()}})})})})})})});LE.displayName=Z3;var t5="SelectItemAlignedPosition",OE=h.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:s,...i}=e,a=Ai(wa,n),o=Di(wa,n),[l,c]=h.useState(null),[u,d]=h.useState(null),f=Ke(t,N=>d(N)),m=Qf(n),x=h.useRef(!1),j=h.useRef(!0),{viewport:v,selectedItem:y,selectedItemText:g,focusSelectedItem:p}=o,w=h.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&v&&y&&g){const N=a.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),P=a.valueNode.getBoundingClientRect(),D=g.getBoundingClientRect();if(a.dir!=="rtl"){const se=D.left-E.left,ce=P.left-se,ue=N.left-ce,ge=N.width+ue,fe=Math.max(ge,E.width),ye=window.innerWidth-Ts,Se=k0(ce,[Ts,Math.max(Ts,ye-fe)]);l.style.minWidth=ge+"px",l.style.left=Se+"px"}else{const se=E.right-D.right,ce=window.innerWidth-P.right-se,ue=window.innerWidth-N.right-ce,ge=N.width+ue,fe=Math.max(ge,E.width),ye=window.innerWidth-Ts,Se=k0(ce,[Ts,Math.max(Ts,ye-fe)]);l.style.minWidth=ge+"px",l.style.right=Se+"px"}const R=m(),M=window.innerHeight-Ts*2,$=v.scrollHeight,O=window.getComputedStyle(u),K=parseInt(O.borderTopWidth,10),F=parseInt(O.paddingTop,10),V=parseInt(O.borderBottomWidth,10),A=parseInt(O.paddingBottom,10),_=K+F+$+A+V,C=Math.min(y.offsetHeight*5,_),k=window.getComputedStyle(v),L=parseInt(k.paddingTop,10),I=parseInt(k.paddingBottom,10),H=N.top+N.height/2-Ts,ae=M-H,Q=y.offsetHeight/2,z=y.offsetTop+Q,W=K+F+z,G=_-W;if(W<=H){const se=R.length>0&&y===R[R.length-1].ref.current;l.style.bottom="0px";const ce=u.clientHeight-v.offsetTop-v.offsetHeight,ue=Math.max(ae,Q+(se?I:0)+ce+V),ge=W+ue;l.style.height=ge+"px"}else{const se=R.length>0&&y===R[0].ref.current;l.style.top="0px";const ue=Math.max(H,K+v.offsetTop+(se?L:0)+Q)+G;l.style.height=ue+"px",v.scrollTop=W-H+v.offsetTop}l.style.margin=`${Ts}px 0`,l.style.minHeight=C+"px",l.style.maxHeight=M+"px",s==null||s(),requestAnimationFrame(()=>x.current=!0)}},[m,a.trigger,a.valueNode,l,u,v,y,g,a.dir,s]);Tt(()=>w(),[w]);const[b,S]=h.useState();Tt(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const T=h.useCallback(N=>{N&&j.current===!0&&(w(),p==null||p(),j.current=!1)},[w,p]);return r.jsx(s5,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:x,onScrollButtonChange:T,children:r.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:r.jsx(ve.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});OE.displayName=t5;var n5="SelectPopperPosition",tg=h.forwardRef((e,t)=>{const{__scopeSelect:n,align:s="start",collisionPadding:i=Ts,...a}=e,o=Xf(n);return r.jsx(KN,{...o,...a,ref:t,align:s,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});tg.displayName=n5;var[s5,dv]=Xo(wa,{}),ng="SelectViewport",FE=h.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:s,...i}=e,a=Di(ng,n),o=dv(ng,n),l=Ke(t,a.onViewportChange),c=h.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),r.jsx(Yf.Slot,{scope:n,children:r.jsx(ve.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:xe(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&f){const x=Math.abs(c.current-d.scrollTop);if(x>0){const j=window.innerHeight-Ts*2,v=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),g=Math.max(v,y);if(g<j){const p=g+x,w=Math.min(j,p),b=p-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=b>0?b:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});FE.displayName=ng;var UE="SelectGroup",[r5,i5]=Xo(UE),a5=h.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=Nr();return r.jsx(r5,{scope:n,id:i,children:r.jsx(ve.div,{role:"group","aria-labelledby":i,...s,ref:t})})});a5.displayName=UE;var BE="SelectLabel",VE=h.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=i5(BE,n);return r.jsx(ve.div,{id:i.id,...s,ref:t})});VE.displayName=BE;var Kd="SelectItem",[o5,zE]=Xo(Kd),WE=h.forwardRef((e,t)=>{const{__scopeSelect:n,value:s,disabled:i=!1,textValue:a,...o}=e,l=Ai(Kd,n),c=Di(Kd,n),u=l.value===s,[d,f]=h.useState(a??""),[m,x]=h.useState(!1),j=Ke(t,p=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,p,s,i)}),v=Nr(),y=h.useRef("touch"),g=()=>{i||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(o5,{scope:n,value:s,disabled:i,textId:v,isSelected:u,onItemTextChange:h.useCallback(p=>{f(w=>w||((p==null?void 0:p.textContent)??"").trim())},[]),children:r.jsx(Yf.ItemSlot,{scope:n,value:s,disabled:i,textValue:d,children:r.jsx(ve.div,{role:"option","aria-labelledby":v,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:j,onFocus:xe(o.onFocus,()=>x(!0)),onBlur:xe(o.onBlur,()=>x(!1)),onClick:xe(o.onClick,()=>{y.current!=="mouse"&&g()}),onPointerUp:xe(o.onPointerUp,()=>{y.current==="mouse"&&g()}),onPointerDown:xe(o.onPointerDown,p=>{y.current=p.pointerType}),onPointerMove:xe(o.onPointerMove,p=>{var w;y.current=p.pointerType,i?(w=c.onItemLeave)==null||w.call(c):y.current==="mouse"&&p.currentTarget.focus({preventScroll:!0})}),onPointerLeave:xe(o.onPointerLeave,p=>{var w;p.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:xe(o.onKeyDown,p=>{var b;((b=c.searchRef)==null?void 0:b.current)!==""&&p.key===" "||(q3.includes(p.key)&&g(),p.key===" "&&p.preventDefault())})})})})});WE.displayName=Kd;var El="SelectItemText",HE=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:i,...a}=e,o=Ai(El,n),l=Di(El,n),c=zE(El,n),u=Q3(El,n),[d,f]=h.useState(null),m=Ke(t,g=>f(g),c.onItemTextChange,g=>{var p;return(p=l.itemTextRefCallback)==null?void 0:p.call(l,g,c.value,c.disabled)}),x=d==null?void 0:d.textContent,j=h.useMemo(()=>r.jsx("option",{value:c.value,disabled:c.disabled,children:x},c.value),[c.disabled,c.value,x]),{onNativeOptionAdd:v,onNativeOptionRemove:y}=u;return Tt(()=>(v(j),()=>y(j)),[v,y,j]),r.jsxs(r.Fragment,{children:[r.jsx(ve.span,{id:c.textId,...a,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?vs.createPortal(a.children,o.valueNode):null]})});HE.displayName=El;var qE="SelectItemIndicator",KE=h.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return zE(qE,n).isSelected?r.jsx(ve.span,{"aria-hidden":!0,...s,ref:t}):null});KE.displayName=qE;var sg="SelectScrollUpButton",GE=h.forwardRef((e,t)=>{const n=Di(sg,e.__scopeSelect),s=dv(sg,e.__scopeSelect),[i,a]=h.useState(!1),o=Ke(t,s.onScrollButtonChange);return Tt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?r.jsx(QE,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});GE.displayName=sg;var rg="SelectScrollDownButton",YE=h.forwardRef((e,t)=>{const n=Di(rg,e.__scopeSelect),s=dv(rg,e.__scopeSelect),[i,a]=h.useState(!1),o=Ke(t,s.onScrollButtonChange);return Tt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?r.jsx(QE,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});YE.displayName=rg;var QE=h.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:s,...i}=e,a=Di("SelectScrollButton",n),o=h.useRef(null),l=Qf(n),c=h.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return h.useEffect(()=>()=>c(),[c]),Tt(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),r.jsx(ve.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:xe(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:xe(i.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:xe(i.onPointerLeave,()=>{c()})})}),l5="SelectSeparator",XE=h.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return r.jsx(ve.div,{"aria-hidden":!0,...s,ref:t})});XE.displayName=l5;var ig="SelectArrow",c5=h.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=Xf(n),a=Ai(ig,n),o=Di(ig,n);return a.open&&o.position==="popper"?r.jsx(GN,{...i,...s,ref:t}):null});c5.displayName=ig;var u5="SelectBubbleInput",JE=h.forwardRef(({__scopeSelect:e,value:t,...n},s)=>{const i=h.useRef(null),a=Ke(s,i),o=uv(t);return h.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),r.jsx(ve.select,{...n,style:{...BS,...n.style},ref:a,defaultValue:t})});JE.displayName=u5;function ZE(e){return e===""||e===void 0}function eC(e){const t=Zn(e),n=h.useRef(""),s=h.useRef(0),i=h.useCallback(o=>{const l=n.current+o;t(l),function c(u){n.current=u,window.clearTimeout(s.current),u!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=h.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,i,a]}function tC(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=d5(e,Math.max(a,0));i.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function d5(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var f5=TE,nC=PE,h5=AE,m5=DE,p5=$E,sC=ME,g5=FE,rC=VE,iC=WE,x5=HE,v5=KE,aC=GE,oC=YE,lC=XE;const At=f5,Dt=h5,Et=h.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(nC,{ref:s,className:pe("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,r.jsx(m5,{asChild:!0,children:r.jsx(Ef,{className:"h-4 w-4 opacity-50"})})]}));Et.displayName=nC.displayName;const cC=h.forwardRef(({className:e,...t},n)=>r.jsx(aC,{ref:n,className:pe("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx($x,{className:"h-4 w-4"})}));cC.displayName=aC.displayName;const uC=h.forwardRef(({className:e,...t},n)=>r.jsx(oC,{ref:n,className:pe("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(Ef,{className:"h-4 w-4"})}));uC.displayName=oC.displayName;const Ct=h.forwardRef(({className:e,children:t,position:n="popper",...s},i)=>r.jsx(p5,{children:r.jsxs(sC,{ref:i,className:pe("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...s,children:[r.jsx(cC,{}),r.jsx(g5,{className:pe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),r.jsx(uC,{})]})}));Ct.displayName=sC.displayName;const y5=h.forwardRef(({className:e,...t},n)=>r.jsx(rC,{ref:n,className:pe("px-2 py-1.5 text-sm font-semibold",e),...t}));y5.displayName=rC.displayName;const Me=h.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(iC,{ref:s,className:pe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(v5,{children:r.jsx(Dx,{className:"h-4 w-4"})})}),r.jsx(x5,{children:t})]}));Me.displayName=iC.displayName;const w5=h.forwardRef(({className:e,...t},n)=>r.jsx(lC,{ref:n,className:pe("-mx-1 my-1 h-px bg-muted",e),...t}));w5.displayName=lC.displayName;const j5=zo("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ee({className:e,variant:t,...n}){return r.jsx("div",{className:pe(j5({variant:t}),e),...n})}const b5=()=>{var j;const[e,t]=h.useState(!1),n=Go(),{selectedSeason:s,selectedConference:i,theme:a,setSelectedSeason:o,setSelectedConference:l,toggleTheme:c,seasonConfigs:u,currentSeasonConfig:d}=Dn(),f=[{path:"/",label:"Home",icon:AD},{path:"/standings",label:"Standings",icon:Kt},{path:"/matchups",label:"Matchups",icon:pc},{path:"/teams",label:"Teams",icon:Yt},{path:"/players",label:"Players",icon:uo},{path:"/draft",label:"Draft Results",icon:mc},{path:"/rules",label:"League Rules",icon:hc},{path:"/admin",label:"Admin",icon:vD}],m=v=>v==="/"?n.pathname==="/":n.pathname.startsWith(v),x=({isMobile:v=!1})=>r.jsx(r.Fragment,{children:f.map(y=>{const g=y.icon,p=m(y.path);return r.jsxs(Pt,{to:y.path,onClick:()=>v&&t(!1),className:`flex items-center space-x-2 px-3 py-2 rounded-md ${y.path==="/admin"?"text-xs opacity-75":"text-sm"} font-medium transition-colors ${p?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-accent"}`,children:[r.jsx(g,{className:y.path==="/admin"?"h-3 w-3":"h-4 w-4"}),r.jsx("span",{className:y.path==="/admin"?"text-xs":"",children:y.label})]},y.path)})});return r.jsxs("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:[r.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[r.jsx("div",{className:"flex items-center space-x-4",children:r.jsxs(Pt,{to:"/",className:"flex items-center space-x-2",children:[r.jsx("img",{src:"/gladiator-logo.png",alt:"Gladiator League Logo",className:"h-8 w-8"}),r.jsx("div",{className:"hidden sm:block",children:r.jsx("h1",{className:"text-xl font-bold",children:"Gladiator League"})})]})}),r.jsx("nav",{className:"hidden lg:flex items-center space-x-1",children:r.jsx(x,{})}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(At,{value:s.toString(),onValueChange:v=>o(parseInt(v)),children:[r.jsx(Et,{className:"w-20",children:r.jsx(Dt,{})}),r.jsx(Ct,{children:u.map(v=>r.jsx(Me,{value:v.year.toString(),children:v.year},v.year))})]}),r.jsxs(At,{value:i||"all",onValueChange:v=>l(v==="all"?null:v),children:[r.jsx(Et,{className:"w-40",children:r.jsx(Dt,{})}),r.jsxs(Ct,{children:[r.jsx(Me,{value:"all",children:"All Conferences"}),d.conferences.map(v=>r.jsx(Me,{value:v.id,children:v.name},v.id))]})]}),r.jsx(J,{variant:"ghost",size:"icon",onClick:c,children:a==="light"?r.jsx(WD,{className:"h-4 w-4"}):r.jsx(o$,{className:"h-4 w-4"})}),r.jsxs(O3,{open:e,onOpenChange:t,children:[r.jsx(F3,{asChild:!0,className:"lg:hidden",children:r.jsx(J,{variant:"ghost",size:"icon",children:r.jsx(FD,{className:"h-4 w-4"})})}),r.jsx(CE,{side:"right",className:"w-64",children:r.jsxs("div",{className:"flex flex-col space-y-4 mt-8",children:[r.jsxs("div",{className:"flex items-center space-x-2 pb-4 border-b",children:[r.jsx(mc,{className:"h-6 w-6 text-primary"}),r.jsxs("div",{children:[r.jsx("h2",{className:"font-semibold",children:"Gladiator League"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Fantasy Football"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Navigation"}),r.jsx(x,{isMobile:!0})]}),r.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium mb-2",children:"Season"}),r.jsxs(At,{value:s.toString(),onValueChange:v=>o(parseInt(v)),children:[r.jsx(Et,{children:r.jsx(Dt,{})}),r.jsx(Ct,{children:u.map(v=>r.jsx(Me,{value:v.year.toString(),children:v.year},v.year))})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium mb-2",children:"Conference"}),r.jsxs(At,{value:i||"all",onValueChange:v=>l(v==="all"?null:v),children:[r.jsx(Et,{children:r.jsx(Dt,{})}),r.jsxs(Ct,{children:[r.jsx(Me,{value:"all",children:"All Conferences"}),d.conferences.map(v=>r.jsx(Me,{value:v.id,children:v.name},v.id))]})]})]})]})]})})]})]})]}),(i||s!==2025)&&r.jsx("div",{className:"border-t bg-accent/50",children:r.jsx("div",{className:"container py-2",children:r.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Active filters:"}),s!==2025&&r.jsxs(ee,{variant:"secondary",children:[s," Season"]}),i&&r.jsx(ee,{variant:"secondary",children:(j=d.conferences.find(v=>v.id===i))==null?void 0:j.name})]})})})]})},Y=h.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:pe("rounded-xl border bg-card text-card-foreground shadow",e),...t}));Y.displayName="Card";const ne=h.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:pe("flex flex-col space-y-1.5 p-6",e),...t}));ne.displayName="CardHeader";const ie=h.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:pe("font-semibold leading-none tracking-tight",e),...t}));ie.displayName="CardTitle";const je=h.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:pe("text-sm text-muted-foreground",e),...t}));je.displayName="CardDescription";const X=h.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:pe("p-6 pt-0",e),...t}));X.displayName="CardContent";const _5=h.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:pe("flex items-center p-6 pt-0",e),...t}));_5.displayName="CardFooter";const S5=zo("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Ve=h.forwardRef(({className:e,variant:t,...n},s)=>r.jsx("div",{ref:s,role:"alert",className:pe(S5({variant:t}),e),...n}));Ve.displayName="Alert";const wr=h.forwardRef(({className:e,...t},n)=>r.jsx("h5",{ref:n,className:pe("mb-1 font-medium leading-none tracking-tight",e),...t}));wr.displayName="AlertTitle";const ze=h.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:pe("text-sm [&_p]:leading-relaxed",e),...t}));ze.displayName="AlertDescription";class Gd{static async getStandingsData(t,n){try{console.log(`StandingsService: Fetching standings for season ${t}, conference ${n||"all"}`);const s=[{column:"season_id",operator:"eq",value:t}];n&&s.push({column:"conference_id",operator:"eq",value:n});const i=await le.getTeamRecords({filters:s});if(i.error)throw new Error(`Failed to fetch team records: ${i.error}`);const a=i.data||[];if(console.log(`StandingsService: Found ${a.length} team records`),a.length===0)return console.log("StandingsService: No team records found, returning empty array"),[];const o=[...new Set(a.map(y=>y.team_id))],l=[...new Set(a.map(y=>y.conference_id))],[c,u]=await Promise.all([le.getTeams({filters:[{column:"id",operator:"in",value:o}]}),le.getConferences({filters:[{column:"id",operator:"in",value:l}]})]);if(c.error)throw new Error(`Failed to fetch teams: ${c.error}`);if(u.error)throw new Error(`Failed to fetch conferences: ${u.error}`);const d=c.data||[],f=u.data||[],m=new Map;d.forEach(y=>m.set(y.id,y));const x=new Map;f.forEach(y=>x.set(y.id,y));const j=a.map(y=>{const g=m.get(y.team_id),p=x.get(y.conference_id),w=y.wins||0,b=y.losses||0,S=0,T=w+b+S,N=T>0?w/T:0;return{team_id:y.team_id,team_name:(g==null?void 0:g.team_name)||`Team ${y.team_id}`,owner_name:(g==null?void 0:g.owner_name)||"Unknown Owner",conference_name:(p==null?void 0:p.conference_name)||"Unknown Conference",wins:w,losses:b,ties:S,points_for:y.points_for||0,points_against:y.points_against||0,point_diff:y.point_diff||(y.points_for||0)-(y.points_against||0),win_percentage:N,conference_rank:0,overall_rank:0,playoff_eligible:!1,is_conference_champion:!1}});j.sort((y,g)=>g.win_percentage!==y.win_percentage?g.win_percentage-y.win_percentage:g.points_for-y.points_for),j.forEach((y,g)=>{y.overall_rank=g+1});const v=new Map;return j.forEach(y=>{v.has(y.conference_name)||v.set(y.conference_name,[]),v.get(y.conference_name).push(y)}),v.forEach((y,g)=>{y.sort((p,w)=>w.win_percentage!==p.win_percentage?w.win_percentage-p.win_percentage:w.points_for-p.points_for),y.forEach((p,w)=>{p.conference_rank=w+1,p.playoff_eligible=w<2,p.is_conference_champion=w===0})}),console.log(`StandingsService: Returning ${j.length} standings records`),j}catch(s){throw console.error("StandingsService: Error fetching standings data:",s),s}}static async getConferenceStandings(t,n){return this.getStandingsData(t,n)}static async getLeagueStandings(t){return this.getStandingsData(t)}static formatRecord(t,n,s=0){return s>0?`${t}-${n}-${s}`:`${t}-${n}`}static formatPoints(t){return t.toFixed(1)}}const N5=e=>{const{seasonYear:t,conferenceId:n,limit:s,autoRefresh:i=!1,refreshInterval:a=3e4}=e,[o,l]=h.useState([]),[c,u]=h.useState(!0),[d,f]=h.useState(null),m=async()=>{if(!t){u(!1);return}try{u(!0),f(null);let x=await Gd.getStandingsData(t,n);s&&s>0&&(x=x.slice(0,s)),l(x)}catch(x){const j=x instanceof Error?x.message:"An error occurred while fetching standings";f(j),console.error("Error fetching standings:",x)}finally{u(!1)}};return h.useEffect(()=>{t?m():u(!1)},[t,n,s]),h.useEffect(()=>{if(i&&a>0&&t){const x=setInterval(m,a);return()=>clearInterval(x)}},[i,a,t,n,s]),{standings:o,loading:c,error:d,refetch:m}},E5=["QB","RB","RB","WR","WR","WR","TE","FLEX","SUPER_FLEX","K","DEF"];class Ye{static async fetchLeagueRosters(t){try{console.log(`Fetching rosters for league: ${t}`);const n=await fetch(`${this.baseUrl}/league/${t}/rosters`);if(!n.ok)throw new Error(`Failed to fetch rosters: ${n.status} ${n.statusText}`);const s=await n.json();return console.log(`Fetched ${s.length} rosters for league ${t}`),s}catch(n){throw console.error("Error fetching league rosters:",n),n}}static async fetchAllPlayers(){try{console.log("Fetching all NFL players data...");const t=await fetch(`${this.baseUrl}/players/nfl`);if(!t.ok)throw new Error(`Failed to fetch players: ${t.status} ${t.statusText}`);const n=await t.json();return console.log(`Fetched ${Object.keys(n).length} players from Sleeper API`),n}catch(t){throw console.error("Error fetching players:",t),t}}static organizeRoster(t,n){const s=(t.starters||[]).map((a,o)=>{const l=n[a],c=E5[o]||"BENCH";return{playerId:a,position:(l==null?void 0:l.position)||"UNK",slotPosition:c}}),i=(t.players||[]).filter(a=>!(t.starters||[]).includes(a)&&!(t.reserve||[]).includes(a));return{starters:s,bench:i,ir:t.reserve||[]}}static async getTeamRosterData(t,n){try{const[s,i]=await Promise.all([this.fetchLeagueRosters(t),(async()=>{const{DatabaseService:l}=await _i(async()=>{const{DatabaseService:d}=await Promise.resolve().then(()=>$F);return{DatabaseService:d}},void 0),c=await l.getAllPlayersForMapping([{column:"playing_status",operator:"eq",value:"Active"},{column:"position",operator:"in",value:["QB","RB","WR","TE","K","DEF"]}]),u={};return c.forEach(d=>{var f;if(d.sleeper_id){const m=d.player_name.split(" "),x=m[0]||"",j=m.slice(1).join(" ")||"";u[d.sleeper_id]={player_id:d.sleeper_id,first_name:x,last_name:j,position:d.position||"",team:d.nfl_team||"",jersey_number:d.number||0,status:d.playing_status||"",injury_status:d.injury_status||"",age:d.age||0,height:((f=d.height)==null?void 0:f.toString())||"",weight:d.weight||0,years_exp:0,college:d.college||""}}}),u})()]),a=s.find(l=>l.roster_id===n);if(!a)throw new Error(`Roster with ID ${n} not found in league ${t}`);const o=this.organizeRoster(a,i);return{roster:a,organizedRoster:o,allPlayers:i}}catch(s){throw console.error("Error getting team roster data:",s),s}}static getPlayerName(t){return t&&`${t.first_name||""} ${t.last_name||""}`.trim()||"Unknown Player"}static calculatePointsPerGame(t,n){return n===0?0:t/n}static formatPoints(t,n=0){return t+n/100}static async fetchMatchups(t,n){try{console.log(` Fetching matchups for league: ${t}, week: ${n}`);const s=await fetch(`${this.baseUrl}/league/${t}/matchups/${n}`);if(!s.ok)throw new Error(`Failed to fetch matchups: ${s.status} ${s.statusText}`);const i=await s.json();if(console.log(` Fetched ${i.length} matchups for league ${t}, week ${n}`),i.length>0){const a={totalMatchups:i.length,matchupsWithPoints:i.filter(o=>o.points>0).length,matchupsWithZeroPoints:i.filter(o=>o.points===0).length,matchupsWithNullPoints:i.filter(o=>o.points===null||o.points===void 0).length,pointsRange:{min:Math.min(...i.map(o=>o.points||0)),max:Math.max(...i.map(o=>o.points||0)),average:i.reduce((o,l)=>o+(l.points||0),0)/i.length},playersPointsAvailability:{withPlayersPoints:i.filter(o=>o.players_points&&Object.keys(o.players_points).length>0).length,withStartersPoints:i.filter(o=>o.starters_points&&o.starters_points.length>0).length},sampleMatchup:{rosterId:i[0].roster_id,points:i[0].points,playersPointsKeys:Object.keys(i[0].players_points||{}).length,startersPointsLength:(i[0].starters_points||[]).length,matchupId:i[0].matchup_id}};console.log(` Points analysis for league ${t}, week ${n}:`,a),a.matchupsWithPoints===0&&(console.warn(` No matchups with points > 0 found for league ${t}, week ${n}`),console.warn(" This could indicate: week hasn't started, games in progress, or API delay")),a.playersPointsAvailability.withPlayersPoints===0&&console.warn(` No player-level points data available for league ${t}, week ${n}`)}else console.warn(` No matchup data returned for league ${t}, week ${n}`);return i}catch(s){throw console.error(` Error fetching matchups for league ${t}, week ${n}:`,s),s}}static async fetchLeague(t){try{console.log(`Fetching league info: ${t}`);const n=await fetch(`${this.baseUrl}/league/${t}`);if(!n.ok)throw new Error(`Failed to fetch league: ${n.status} ${n.statusText}`);const s=await n.json();return console.log(`Fetched league info for ${t}`),s}catch(n){throw console.error("Error fetching league:",n),n}}static async fetchLeagueUsers(t){try{console.log(`Fetching users for league: ${t}`);const n=await fetch(`${this.baseUrl}/league/${t}/users`);if(!n.ok)throw new Error(`Failed to fetch users: ${n.status} ${n.statusText}`);const s=await n.json();return console.log(`Fetched ${s.length} users for league ${t}`),s}catch(n){throw console.error("Error fetching league users:",n),n}}static organizeMatchups(t,n,s){const i=new Map;return t.forEach(a=>{i.has(a.matchup_id)||i.set(a.matchup_id,[]),i.get(a.matchup_id).push(a)}),Array.from(i.entries()).filter(([a,o])=>o.length===2).map(([a,o])=>({matchup_id:a,teams:o.map(l=>{const c=n.find(d=>d.roster_id===l.roster_id),u=c?s.find(d=>d.user_id===c.owner_id):null;return{roster_id:l.roster_id,points:l.points,owner:u,roster:c}})}))}static async getCurrentNFLWeek(){try{console.log("Fetching current NFL week from Sleeper API...");const t=await fetch(`${this.baseUrl}/state/nfl`);if(!t.ok)throw new Error(`Failed to fetch NFL state: ${t.status} ${t.statusText}`);const n=await t.json();return console.log("NFL State from Sleeper:",n),console.log(`Current NFL week: ${n.week}`),n.week||1}catch(t){return console.error("Error fetching current NFL week:",t),console.warn("Falling back to default week 1"),1}}static async getNFLState(){try{console.log("Fetching NFL state from Sleeper API...");const t=await fetch(`${this.baseUrl}/state/nfl`);if(!t.ok)throw new Error(`Failed to fetch NFL state: ${t.status} ${t.statusText}`);const n=await t.json();return console.log("NFL State from Sleeper:",n),n}catch(t){throw console.error("Error fetching NFL state:",t),t}}}us(Ye,"baseUrl","https://api.sleeper.app/v1");const P0=Object.freeze(Object.defineProperty({__proto__:null,SleeperApiService:Ye,default:Ye},Symbol.toStringTag,{value:"Module"})),C5=()=>{var V,A;const[e,t]=h.useState(1),[n,s]=h.useState([]),[i,a]=h.useState([]),[o,l]=h.useState(!0),[c,u]=h.useState(!0),[d,f]=h.useState(null),[m,x]=h.useState(null),{selectedSeason:j,selectedConference:v,currentSeasonConfig:y,seasonConfigs:g,loading:p,error:w,refreshSeasonData:b}=Dn();y==null||y.year;const{standings:S,loading:T,error:N,refetch:E}=N5({seasonYear:y!=null&&y.seasonId?typeof y.seasonId=="string"?parseInt(y.seasonId):y.seasonId:void 0,conferenceId:v==="all"||v===null||(V=y==null?void 0:y.conferences.find(_=>_.id===v))==null?void 0:V.dbConferenceId,limit:12,autoRefresh:!0,refreshInterval:6e4});h.useEffect(()=>{(async()=>{try{const C=await Ye.getCurrentNFLWeek();t(C===0?1:C)}catch(C){console.error("Error loading current week:",C),t(1)}})()},[]);const P=async(_,C)=>{const k=[];for(const L of _){if(!L.dbConferenceId)continue;const I=await le.getMatchups({filters:[{column:"conference_id",operator:"eq",value:L.dbConferenceId},{column:"week",operator:"eq",value:C}]});if(I.error||!I.data)continue;const H=await le.getTeams({});if(H.error||!H.data)continue;const ae=new Map;H.data.forEach(Q=>{ae.set(Q.id,Q.team_name)});for(const Q of I.data){const z=ae.get(Q.team1_id)||"Unknown Team",W=ae.get(Q.team2_id)||"Unknown Team";k.push({matchup_id:Q.id,conference:{conference_name:L.name,league_id:L.leagueId},teams:[{team:{team_name:z},points:Q.team1_score||0},{team:{team_name:W},points:Q.team2_score||0}],status:Q.team1_score&&Q.team2_score?"completed":"upcoming"})}}return k},D=async()=>{if(!(!y||e===0)){l(!0),f(null);try{const _=v==="all"||v===null?y.conferences:y.conferences.filter(k=>k.id===v),C=await P(_,e);s(C)}catch(_){console.error("Error loading matchups:",_),f(_ instanceof Error?_.message:"Failed to load matchups")}finally{l(!1)}}};h.useEffect(()=>{D()},[e,v,y]);const R=async()=>{if(y){u(!0),x(null);try{const _=v==="all"||v===null?y.conferences:y.conferences.filter(z=>z.id===v),C=_.filter(z=>z.dbConferenceId).map(z=>z.dbConferenceId);if(C.length===0){a([]);return}const k=await le.getTransactions({filters:[{column:"conference_id",operator:"in",value:C}],orderBy:{column:"created_at",ascending:!1},limit:10});if(k.error||!k.data)throw new Error(k.error||"Failed to fetch transactions");const L=await le.getTeams({}),I=await le.getTeamConferenceJunctions({filters:[{column:"conference_id",operator:"in",value:C}]}),H=await le.getAllPlayersForMapping([{column:"playing_status",operator:"eq",value:"Active"},{column:"position",operator:"in",value:["QB","RB","WR","TE"]}]),ae=new Map;H.forEach(z=>{z.sleeper_id&&ae.set(String(z.sleeper_id),z.player_name)});const Q=await Promise.all(k.data.map(async z=>{let W={};try{W=typeof z.data=="string"?JSON.parse(z.data):z.data||{}}catch(oe){console.warn("Failed to parse transaction data:",oe)}const G=_.find(oe=>oe.dbConferenceId===z.conference_id),U=oe=>{var et;const _e=(et=I.data)==null?void 0:et.find(Ue=>Ue.roster_id.toString()===oe.toString()&&Ue.conference_id===z.conference_id);if(_e&&L.data){const Ue=L.data.find(Lr=>Lr.id===_e.team_id);return(Ue==null?void 0:Ue.team_name)||"Unknown Team"}return"Unknown Team"};let se="Unknown Team";W.roster_ids&&W.roster_ids.length>0&&(se=U(W.roster_ids[0]));const ce=[],ue=[],ge=oe=>{const _e=String(oe);return ae.get(_e)||`Player ${_e}`};if(W.adds)for(const[oe,_e]of Object.entries(W.adds)){const et=ge(oe),Ue=U(_e),Lr=W.settings&&W.settings.waiver_bid&&W.settings.waiver_bid[oe];ce.push({name:et,team:Ue,bidAmount:Lr||null})}if(W.drops)for(const[oe,_e]of Object.entries(W.drops)){const et=ge(oe),Ue=U(_e);ue.push({name:et,team:Ue})}let fe="";const ye=W.type||z.type,Se=new Set;switch(W.roster_ids&&W.roster_ids.forEach(oe=>{const _e=U(oe);_e!=="Unknown Team"&&Se.add(_e)}),ye){case"trade":if(ce.length>0||ue.length>0){const oe=[];ce.forEach(_e=>oe.push(`${_e.name} to ${_e.team}`)),ue.forEach(_e=>oe.push(`${_e.name} from ${_e.team}`)),Se.size>1?fe=`Trade between ${Array.from(Se).join(" and ")}: ${oe.join(", ")}`:fe=`${se} trade: ${oe.join(", ")}`}else W.draft_picks&&W.draft_picks.length>0?fe=`Trade involving ${W.draft_picks.map(_e=>`${_e.season} Round ${_e.round} pick`).join(", ")}`:fe=`Trade between ${Array.from(Se).join(" and ")}`;break;case"waiver":ce.length>0&&ue.length>0?fe=`${se} claimed ${ce.map(oe=>oe.name).join(", ")} from waivers, dropped ${ue.map(oe=>oe.name).join(", ")}`:ce.length>0?fe=`${se} claimed ${ce.map(oe=>oe.name).join(", ")} from waivers`:ue.length>0?fe=`${se} dropped ${ue.map(oe=>oe.name).join(", ")} to waivers`:fe=`${se} made a waiver claim`;break;case"free_agent":ce.length>0&&ue.length>0?fe=`${se} added ${ce.map(oe=>oe.name).join(", ")}, dropped ${ue.map(oe=>oe.name).join(", ")}`:ce.length>0?fe=`${se} added ${ce.map(oe=>oe.name).join(", ")} from free agency`:ue.length>0?fe=`${se} dropped ${ue.map(oe=>oe.name).join(", ")}`:fe=`${se} made a free agent transaction`;break;default:fe=`${se} completed a ${ye||"transaction"}`}const Ze=W.type==="trade"?"trade":W.type==="waiver"?"waiver":W.type==="free_agent"?"free_agent":"commissioner";return{id:z.id.toString(),type:Ze,date:new Date(z.created_at||new Date),details:fe,teams:[se],players:{added:ce.map(oe=>({id:"",name:oe.name,team:oe.team,bidAmount:oe.bidAmount})),dropped:ue.map(oe=>({id:"",name:oe.name,team:oe.team}))},week:W.leg||0,status:"completed",rosterIds:W.roster_ids||[],draftPicks:W.draft_picks||[],waiverBudget:W.waiver_budget||[]}}));a(Q)}catch(_){console.error("Error loading transactions:",_),x(_ instanceof Error?_.message:"Failed to load transactions")}finally{u(!1)}}};if(h.useEffect(()=>{R()},[v,y]),p)return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Nt,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Loading Gladiator League"}),r.jsx("p",{className:"text-muted-foreground",children:"Connecting to Supabase database..."})]})});if(w)return r.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:r.jsxs(Y,{className:"w-full max-w-md",children:[r.jsx(ne,{children:r.jsxs(ie,{className:"flex items-center gap-2 text-destructive",children:[r.jsx(Oe,{className:"h-5 w-5"}),"Connection Error"]})}),r.jsxs(X,{className:"space-y-4",children:[r.jsx(Ve,{children:r.jsx(ze,{children:w})}),r.jsxs(J,{onClick:b,className:"w-full",children:[r.jsx(nt,{className:"h-4 w-4 mr-2"}),"Retry Connection"]})]})]})});if(!g||g.length===0)return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Nt,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Loading Season Configuration"}),r.jsx("p",{className:"text-muted-foreground",children:"Setting up league data..."})]})});if(!y||!y.conferences||y.conferences.length===0)return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Nt,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Loading Conferences"}),r.jsx("p",{className:"text-muted-foreground",children:"Setting up conference data..."})]})});const M=_=>{switch(_){case"live":return r.jsx(ee,{className:"bg-green-500 hover:bg-green-600 text-xs",children:"Live"});case"completed":return r.jsx(ee,{variant:"secondary",className:"text-xs",children:"Final"});case"upcoming":return r.jsx(ee,{variant:"outline",className:"text-xs",children:"Upcoming"});default:return r.jsx(ee,{variant:"secondary",className:"text-xs",children:_})}},$=_=>{switch(_){case"trade":return"";case"waiver":return"";case"free_agent":return"";case"commissioner":return"";default:return""}},O=()=>T?r.jsxs("div",{className:"flex items-center justify-center p-8",children:[r.jsx(Nt,{className:"h-6 w-6 animate-spin text-primary"}),r.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:"Loading standings..."})]}):N?r.jsxs("div",{className:"text-center p-8",children:[r.jsxs("p",{className:"text-sm text-red-600 mb-4",children:["Error loading standings: ",N]}),r.jsx(J,{variant:"outline",size:"sm",onClick:E,children:"Try Again"})]}):!S||S.length===0?r.jsx("div",{className:"text-center p-8",children:r.jsx("p",{className:"text-sm text-muted-foreground",children:"No standings data available"})}):r.jsx("div",{className:"space-y-3",children:S.map(_=>r.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-accent/50",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("div",{className:"flex items-center space-x-1",children:[_.overall_rank===1&&r.jsx(mN,{className:"h-4 w-4 text-yellow-500"}),r.jsxs("span",{className:"font-semibold w-6",children:["#",_.overall_rank]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:_.team_name}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[_.owner_name,"  ",_.conference_name]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"font-semibold",children:Gd.formatRecord(_.wins,_.losses,_.ties)}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[Gd.formatPoints(_.points_for)," pts"]})]})]},_.team_id))}),K=()=>o?r.jsxs("div",{className:"flex items-center justify-center p-8",children:[r.jsx(Nt,{className:"h-6 w-6 animate-spin text-primary"}),r.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:"Loading matchups..."})]}):d?r.jsxs("div",{className:"text-center p-8",children:[r.jsxs("p",{className:"text-sm text-red-600 mb-4",children:["Error loading matchups: ",d]}),r.jsx(J,{variant:"outline",size:"sm",onClick:D,children:"Try Again"})]}):!n||n.length===0?r.jsx("div",{className:"text-center p-8",children:r.jsxs("p",{className:"text-sm text-muted-foreground",children:["No matchups found for week ",e]})}):r.jsx("div",{className:"space-y-2",children:n.map(_=>{var C,k,L,I,H,ae;return r.jsxs("div",{className:"p-2 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx(ee,{variant:"outline",className:"text-xs",children:_.conference.conference_name}),M(_.status)]}),r.jsxs("div",{className:"grid grid-cols-3 gap-2 items-center text-sm",children:[r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"font-medium truncate text-xs",children:((k=(C=_.teams[0])==null?void 0:C.team)==null?void 0:k.team_name)||"Team 1"}),r.jsx("p",{className:"text-sm font-bold",children:_.status==="upcoming"?"--":(L=_.teams[0])==null?void 0:L.points.toFixed(1)})]}),r.jsx("div",{className:"text-center text-muted-foreground font-semibold text-xs",children:"VS"}),r.jsxs("div",{className:"text-left",children:[r.jsx("p",{className:"font-medium truncate text-xs",children:((H=(I=_.teams[1])==null?void 0:I.team)==null?void 0:H.team_name)||"Team 2"}),r.jsx("p",{className:"text-sm font-bold",children:_.status==="upcoming"?"--":(ae=_.teams[1])==null?void 0:ae.points.toFixed(1)})]})]})]},_.matchup_id)})}),F=()=>c?r.jsxs("div",{className:"flex items-center justify-center p-8",children:[r.jsx(Nt,{className:"h-6 w-6 animate-spin text-primary"}),r.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:"Loading transactions..."})]}):m?r.jsxs("div",{className:"text-center p-8",children:[r.jsxs("p",{className:"text-sm text-red-600 mb-4",children:["Error loading transactions: ",m]}),r.jsx(J,{variant:"outline",size:"sm",onClick:R,children:"Try Again"})]}):!i||i.length===0?r.jsx("div",{className:"text-center p-8",children:r.jsx("p",{className:"text-sm text-muted-foreground",children:"No recent transactions found"})}):r.jsx("div",{className:"space-y-3",children:i.map(_=>r.jsxs("div",{className:"p-3 rounded-lg border bg-card hover:bg-accent/50 transition-colors",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"text-base",children:$(_.type)}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ee,{variant:"outline",className:"text-xs",children:_.type.replace("_"," ").toUpperCase()}),r.jsxs("span",{className:"text-xs text-muted-foreground",children:["Week ",_.week]})]})]}),r.jsx("span",{className:"text-xs text-muted-foreground",children:_.date.toLocaleDateString()})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"flex items-center space-x-2",children:r.jsx("span",{className:"text-sm font-medium",children:_.teams[0]})}),(_.players.added.length>0||_.players.dropped.length>0)&&r.jsxs("div",{className:"space-y-2",children:[_.players.added.length>0&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[r.jsxs(ee,{variant:"secondary",className:"text-xs bg-green-100 text-green-800",children:["+",_.players.added.length]}),r.jsx("span",{className:"text-xs font-medium text-green-700",children:"Added"})]}),r.jsx("div",{className:"ml-1 space-y-1",children:_.players.added.map((C,k)=>r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"font-medium",children:C.name}),r.jsxs("div",{className:"flex items-center space-x-1",children:[C.bidAmount&&r.jsxs(ee,{variant:"secondary",className:"text-xs bg-blue-100 text-blue-800",children:["$",C.bidAmount]}),r.jsx(ee,{variant:"outline",className:"text-xs",children:C.team})]})]},k))})]}),_.players.dropped.length>0&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[r.jsxs(ee,{variant:"secondary",className:"text-xs bg-red-100 text-red-800",children:["-",_.players.dropped.length]}),r.jsx("span",{className:"text-xs font-medium text-red-700",children:"Dropped"})]}),r.jsx("div",{className:"ml-1 space-y-1",children:_.players.dropped.map((C,k)=>r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"font-medium",children:C.name}),r.jsx(ee,{variant:"outline",className:"text-xs",children:C.team})]},k))})]})]})]})]},_.id))});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"relative overflow-hidden rounded-lg bg-gradient-to-br from-primary/10 via-primary/5 to-background border",children:[r.jsx("div",{className:"absolute inset-0 bg-grid-white/10 [mask-image:linear-gradient(0deg,white,rgba(255,255,255,0.6))]"}),r.jsx("div",{className:"relative px-6 py-12 sm:px-12",children:r.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("img",{src:"/gladiator-logo.png",alt:"Gladiator League Logo",className:"h-12 w-12"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"Gladiator League"}),r.jsx("p",{className:"text-lg text-muted-foreground",children:"Fantasy Football Championship"})]})]}),r.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl",children:"Welcome to the ultimate fantasy football experience. Track your teams across three competitive conferences in real-time."}),r.jsxs("div",{className:"flex items-center space-x-2 mt-4",children:[r.jsxs(ee,{variant:"outline",children:[j," Season"]}),r.jsxs(ee,{variant:"outline",children:["Week ",e]}),v!=="all"&&y&&r.jsx(ee,{variant:"secondary",children:(A=y.conferences.find(_=>_.id===v))==null?void 0:A.name})]})]})})]}),r.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[r.jsxs("div",{className:"lg:w-2/3 flex flex-col gap-6",children:[r.jsxs(Y,{children:[r.jsxs(ne,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(pc,{className:"h-5 w-5 text-primary"}),r.jsxs(ie,{children:["Week ",e]})]}),r.jsx(Pt,{to:"/matchups",children:r.jsx(J,{variant:"ghost",size:"sm",children:r.jsx(qh,{className:"h-4 w-4"})})})]}),r.jsx(je,{children:"Current matchups"})]}),r.jsx(X,{children:K()})]}),r.jsxs(Y,{children:[r.jsxs(ne,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ao,{className:"h-5 w-5 text-primary"}),r.jsx(ie,{children:"Recent Transactions"})]}),r.jsx(Pt,{to:"/transactions",children:r.jsxs(J,{variant:"ghost",size:"sm",children:["View All ",r.jsx(qh,{className:"ml-1 h-4 w-4"})]})})]}),r.jsx(je,{children:"Latest roster moves across all conferences"})]}),r.jsx(X,{children:F()})]})]}),r.jsxs("div",{className:"lg:w-1/3 flex flex-col gap-6",children:[r.jsxs(Y,{children:[r.jsxs(ne,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Kt,{className:"h-5 w-5 text-primary"}),r.jsx(ie,{children:"League Standings"})]}),r.jsx(Pt,{to:"/standings",children:r.jsxs(J,{variant:"ghost",size:"sm",children:["View All ",r.jsx(qh,{className:"ml-1 h-4 w-4"})]})})]}),r.jsx(je,{children:"Top 12 teams across all conferences"})]}),r.jsx(X,{children:O()})]}),r.jsxs(Y,{children:[r.jsxs(ne,{children:[r.jsxs(ie,{className:"flex items-center space-x-2",children:[r.jsx(Yt,{className:"h-5 w-5 text-primary"}),r.jsx("span",{children:"Quick Actions"})]}),r.jsx(je,{children:"Navigate to key sections of the league"})]}),r.jsx(X,{children:r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsx(Pt,{to:"/standings",children:r.jsxs(J,{variant:"outline",className:"w-full h-16 flex flex-col space-y-1",children:[r.jsx(Kt,{className:"h-5 w-5"}),r.jsx("span",{className:"text-xs",children:"Standings"})]})}),r.jsx(Pt,{to:"/matchups",children:r.jsxs(J,{variant:"outline",className:"w-full h-16 flex flex-col space-y-1",children:[r.jsx(pc,{className:"h-5 w-5"}),r.jsx("span",{className:"text-xs",children:"Matchups"})]})}),r.jsx(Pt,{to:"/teams",children:r.jsxs(J,{variant:"outline",className:"w-full h-16 flex flex-col space-y-1",children:[r.jsx(Yt,{className:"h-5 w-5"}),r.jsx("span",{className:"text-xs",children:"Teams"})]})}),r.jsx(Pt,{to:"/players",children:r.jsxs(J,{variant:"outline",className:"w-full h-16 flex flex-col space-y-1",children:[r.jsx(Ao,{className:"h-5 w-5"}),r.jsx("span",{className:"text-xs",children:"Players"})]})}),r.jsx(Pt,{to:"/draft",children:r.jsxs(J,{variant:"outline",className:"w-full h-16 flex flex-col space-y-1",children:[r.jsx(mc,{className:"h-5 w-5"}),r.jsx("span",{className:"text-xs",children:"Draft Results"})]})}),r.jsx(Pt,{to:"/rules",children:r.jsxs(J,{variant:"outline",className:"w-full h-16 flex flex-col space-y-1",children:[r.jsx(Qn,{className:"h-5 w-5"}),r.jsx("span",{className:"text-xs",children:"League Rules"})]})})]})})]})]})]}),r.jsxs(Y,{children:[r.jsxs(ne,{children:[r.jsx(ie,{children:"League Information"}),r.jsx(je,{children:"Current season details and conference structure"})]}),r.jsx(X,{children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:y==null?void 0:y.conferences.map(_=>r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsx("h4",{className:"font-semibold mb-2",children:_.name}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"12 teams  14-week season"}),r.jsx(ee,{variant:"outline",className:"text-xs",children:_.status})]},_.id))})})]})]})},mn=h.forwardRef(({className:e,...t},n)=>r.jsx("div",{className:"relative w-full overflow-auto",children:r.jsx("table",{ref:n,className:pe("w-full caption-bottom text-sm",e),...t})}));mn.displayName="Table";const pn=h.forwardRef(({className:e,...t},n)=>r.jsx("thead",{ref:n,className:pe("[&_tr]:border-b",e),...t}));pn.displayName="TableHeader";const gn=h.forwardRef(({className:e,...t},n)=>r.jsx("tbody",{ref:n,className:pe("[&_tr:last-child]:border-0",e),...t}));gn.displayName="TableBody";const T5=h.forwardRef(({className:e,...t},n)=>r.jsx("tfoot",{ref:n,className:pe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));T5.displayName="TableFooter";const Pe=h.forwardRef(({className:e,...t},n)=>r.jsx("tr",{ref:n,className:pe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Pe.displayName="TableRow";const re=h.forwardRef(({className:e,...t},n)=>r.jsx("th",{ref:n,className:pe("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));re.displayName="TableHead";const te=h.forwardRef(({className:e,...t},n)=>r.jsx("td",{ref:n,className:pe("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));te.displayName="TableCell";const k5=h.forwardRef(({className:e,...t},n)=>r.jsx("caption",{ref:n,className:pe("mt-4 text-sm text-muted-foreground",e),...t}));k5.displayName="TableCaption";const P5=()=>{var S,T;const{selectedSeason:e,selectedConference:t,currentSeasonConfig:n,loading:s}=Dn(),[i,a]=h.useState(null),[o,l]=h.useState([]),[c,u]=h.useState(!0),[d,f]=h.useState(null),[m,x]=h.useState(!1),{toast:j}=An(),v=async()=>{try{u(!0),f(null),console.log(`Fetching standings data for season ${e} and conference ${t||"all"}...`);const N=n;if(!N)throw new Error(`No season configuration found for year ${e}`);const E=N.seasonId,P=typeof E=="string"?parseInt(E):E;console.log(`Using season ID ${P} for year ${e}`);let D;if(t){const M=N.conferences.find($=>$.id===t);if(M){const $=await le.getConferences({filters:[{column:"season_id",operator:"eq",value:P},{column:"conference_name",operator:"eq",value:M.name}]});if($.error)throw new Error(`Conferences fetch error: ${$.error}`);const O=$.data||[];O.length>0&&(D=typeof O[0].id=="string"?parseInt(O[0].id):O[0].id)}}const R=await Gd.getStandingsData(P,D);console.log("Standings data from service:",R),l(R)}catch(N){console.error("Error fetching standings:",N),f(N instanceof Error?N.message:"Failed to fetch standings data"),j({title:"Error",description:"Failed to fetch standings data. Please try again.",variant:"destructive"})}finally{u(!1)}},y=async()=>{try{x(!0);const N=n;if(!N)throw new Error(`No season configuration found for year ${e}`);const E=N.seasonId,P=typeof E=="string"?parseInt(E):E;let D;if(t){const R=N.conferences.find(M=>M.id===t);if(R){const M=await le.getConferences({filters:[{column:"season_id",operator:"eq",value:P},{column:"conference_name",operator:"eq",value:R.name}]});if(M.error)throw new Error(`Conferences fetch error: ${M.error}`);const $=M.data||[];$.length>0&&(D=typeof $[0].id=="string"?parseInt($[0].id):$[0].id)}}console.log("Team records refresh triggered for season:",P,"conference:",D),await v(),j({title:"Success",description:"Standings refreshed successfully"})}catch(N){console.error("Error refreshing standings:",N),j({title:"Error",description:"Failed to refresh standings data",variant:"destructive"})}finally{x(!1)}};h.useEffect(()=>{!s&&n&&v()},[e,t,s,n]);const g=N=>{let E="desc";i&&i.key===N&&i.direction==="desc"&&(E="asc"),a({key:N,direction:E})},p=$e.useMemo(()=>{let N=[...o];return i!==null?N.sort((E,P)=>{const D=E[i.key],R=P[i.key];return D<R?i.direction==="asc"?-1:1:D>R?i.direction==="asc"?1:-1:0}):N.sort((E,P)=>E.wins!==P.wins?P.wins-E.wins:P.points_for-E.points_for),N},[o,i]),w=(N,E)=>{const P=N+E;if(P===0)return"outline";const D=N/P;return D>=.7?"default":D>=.5?"secondary":"destructive"},b=(N,E)=>E?r.jsxs(ee,{variant:"default",className:"bg-yellow-500 text-white",children:[r.jsx(Kt,{className:"w-3 h-3 mr-1"}),"Champion"]}):N?r.jsx(ee,{variant:"default",className:"bg-green-500",children:"Playoff"}):null;return s||c?r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Nt,{className:"h-6 w-6 animate-spin"}),r.jsxs("span",{children:["Loading ",s?"season data":"standings","..."]})]})}):d?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Kt,{className:"h-6 w-6 text-primary"}),r.jsx("h1",{className:"text-3xl font-bold",children:"League Standings"})]}),r.jsxs("p",{className:"text-muted-foreground",children:[e," Season  ",t?(S=n.conferences.find(N=>N.id===t))==null?void 0:S.name:"All Conferences"]})]}),r.jsxs(Y,{children:[r.jsxs(ne,{children:[r.jsx(ie,{children:"Error Loading Standings"}),r.jsx(je,{children:"Unable to fetch standings data"})]}),r.jsx(X,{children:r.jsxs("div",{className:"text-center space-y-4",children:[r.jsx("p",{className:"text-muted-foreground",children:d}),r.jsx(J,{onClick:v,children:"Try Again"})]})})]})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Kt,{className:"h-6 w-6 text-primary"}),r.jsx("h1",{className:"text-3xl font-bold",children:"League Standings"})]}),r.jsxs(J,{variant:"outline",onClick:y,disabled:m,className:"flex items-center gap-2",children:[r.jsx(nt,{className:`h-4 w-4 ${m?"animate-spin":""}`}),m?"Refreshing...":"Refresh"]})]}),r.jsxs("p",{className:"text-muted-foreground",children:[e," Season  ",t?(T=n.conferences.find(N=>N.id===t))==null?void 0:T.name:"All Conferences"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(Y,{children:r.jsxs(ne,{className:"pb-2",children:[r.jsx(je,{children:"Total Teams"}),r.jsx(ie,{className:"text-2xl",children:o.length})]})}),r.jsx(Y,{children:r.jsxs(ne,{className:"pb-2",children:[r.jsx(je,{children:"Highest Scoring Team"}),r.jsx(ie,{className:"text-xl",children:o.length>0&&o.reduce((N,E)=>N.points_for>E.points_for?N:E).team_name})]})}),r.jsx(Y,{children:r.jsxs(ne,{className:"pb-2",children:[r.jsx(je,{children:"Playoff Teams"}),r.jsx(ie,{className:"text-2xl",children:o.filter(N=>N.playoff_eligible).length})]})})]}),r.jsxs(Y,{children:[r.jsxs(ne,{children:[r.jsx(ie,{children:"Team Standings"}),r.jsxs(je,{children:["Click column headers to sort. Current standings for the ",e," season."]})]}),r.jsx(X,{children:r.jsx("div",{className:"rounded-md border",children:r.jsxs(mn,{children:[r.jsx(pn,{children:r.jsxs(Pe,{children:[r.jsx(re,{className:"w-12",children:r.jsxs(J,{variant:"ghost",size:"sm",onClick:()=>g("overall_rank"),children:["Rank ",r.jsx(Ta,{className:"ml-1 h-3 w-3"})]})}),r.jsx(re,{children:r.jsxs(J,{variant:"ghost",size:"sm",onClick:()=>g("team_name"),children:["Team ",r.jsx(Ta,{className:"ml-1 h-3 w-3"})]})}),r.jsx(re,{className:"hidden md:table-cell",children:"Owner"}),r.jsx(re,{className:"hidden lg:table-cell",children:"Conference"}),r.jsx(re,{children:r.jsxs(J,{variant:"ghost",size:"sm",onClick:()=>g("wins"),children:["Record ",r.jsx(Ta,{className:"ml-1 h-3 w-3"})]})}),r.jsx(re,{className:"text-right",children:r.jsxs(J,{variant:"ghost",size:"sm",onClick:()=>g("points_for"),children:["PF ",r.jsx(Ta,{className:"ml-1 h-3 w-3"})]})}),r.jsx(re,{className:"text-right hidden sm:table-cell",children:r.jsxs(J,{variant:"ghost",size:"sm",onClick:()=>g("points_against"),children:["PA ",r.jsx(Ta,{className:"ml-1 h-3 w-3"})]})}),r.jsx(re,{className:"text-right hidden md:table-cell",children:r.jsxs(J,{variant:"ghost",size:"sm",onClick:()=>g("win_percentage"),children:["Win% ",r.jsx(Ta,{className:"ml-1 h-3 w-3"})]})}),r.jsx(re,{className:"hidden lg:table-cell",children:"Status"})]})}),r.jsx(gn,{children:p.map((N,E)=>r.jsxs(Pe,{className:"hover:bg-muted/50",children:[r.jsx(te,{className:"font-medium",children:r.jsxs("div",{className:"flex items-center space-x-1",children:[N.overall_rank===1&&r.jsx(Kt,{className:"h-4 w-4 text-yellow-500"}),r.jsx("span",{children:N.overall_rank})]})}),r.jsxs(te,{children:[r.jsx("div",{className:"font-medium",children:N.team_name}),r.jsx("div",{className:"text-sm text-muted-foreground md:hidden",children:N.owner_name})]}),r.jsx(te,{className:"hidden md:table-cell",children:N.owner_name}),r.jsx(te,{className:"hidden lg:table-cell",children:r.jsx(ee,{variant:"outline",className:"text-xs",children:N.conference_name})}),r.jsx(te,{children:r.jsxs(ee,{variant:w(N.wins,N.losses),children:[N.wins,"-",N.losses,N.ties>0&&`-${N.ties}`]})}),r.jsx(te,{className:"text-right font-mono",children:N.points_for.toFixed(1)}),r.jsx(te,{className:"text-right font-mono hidden sm:table-cell",children:N.points_against.toFixed(1)}),r.jsxs(te,{className:"text-right font-mono hidden md:table-cell",children:[(N.win_percentage*100).toFixed(1),"%"]}),r.jsx(te,{className:"hidden lg:table-cell",children:r.jsxs("div",{className:"flex items-center space-x-1",children:[b(N.playoff_eligible,N.is_conference_champion),r.jsxs(ee,{variant:"outline",className:"text-xs",children:["C",N.conference_rank]})]})})]},N.team_id))})]})})})]})]})};var Jf="Collapsible",[R5,tH]=ns(Jf),[A5,fv]=R5(Jf),dC=h.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:s,defaultOpen:i,disabled:a,onOpenChange:o,...l}=e,[c,u]=Pr({prop:s,defaultProp:i??!1,onChange:o,caller:Jf});return r.jsx(A5,{scope:n,disabled:a,contentId:Nr(),open:c,onOpenToggle:h.useCallback(()=>u(d=>!d),[u]),children:r.jsx(ve.div,{"data-state":mv(c),"data-disabled":a?"":void 0,...l,ref:t})})});dC.displayName=Jf;var fC="CollapsibleTrigger",hC=h.forwardRef((e,t)=>{const{__scopeCollapsible:n,...s}=e,i=fv(fC,n);return r.jsx(ve.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":mv(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...s,ref:t,onClick:xe(e.onClick,i.onOpenToggle)})});hC.displayName=fC;var hv="CollapsibleContent",mC=h.forwardRef((e,t)=>{const{forceMount:n,...s}=e,i=fv(hv,e.__scopeCollapsible);return r.jsx(fr,{present:n||i.open,children:({present:a})=>r.jsx(D5,{...s,ref:t,present:a})})});mC.displayName=hv;var D5=h.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:s,children:i,...a}=e,o=fv(hv,n),[l,c]=h.useState(s),u=h.useRef(null),d=Ke(t,u),f=h.useRef(0),m=f.current,x=h.useRef(0),j=x.current,v=o.open||l,y=h.useRef(v),g=h.useRef(void 0);return h.useEffect(()=>{const p=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(p)},[]),Tt(()=>{const p=u.current;if(p){g.current=g.current||{transitionDuration:p.style.transitionDuration,animationName:p.style.animationName},p.style.transitionDuration="0s",p.style.animationName="none";const w=p.getBoundingClientRect();f.current=w.height,x.current=w.width,y.current||(p.style.transitionDuration=g.current.transitionDuration,p.style.animationName=g.current.animationName),c(s)}},[o.open,s]),r.jsx(ve.div,{"data-state":mv(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!v,...a,ref:d,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":j?`${j}px`:void 0,...e.style},children:v&&i})});function mv(e){return e?"open":"closed"}var $5=dC;const M5=$5,I5=hC,L5=mC;class O5{static async getHybridMatchups(t,n,s){try{console.log(" Getting hybrid matchups:",{seasonId:t,week:n,conferenceId:s});let i=[],a=[];if(n>=13){console.log(` Week ${n} is playoffs - using playoff_brackets table`),a=await this.getPlayoffBrackets(t,n,s);const d=await this.getConferences(t);i=this.convertPlayoffBracketsToMatchups(a,d)}else console.log(` Week ${n} is regular season - using matchups table`),i=await this.getDatabaseMatchups(t,n,s);if(console.log(` Found ${i.length} database matchups`),i.length===0)return console.warn("No database matchups found for the specified criteria"),[];const o=await this.getConferences(t),l=await this.getTeams(),c=await this.getTeamConferenceJunctions();console.log(` Loaded ${o.length} conferences, ${l.length} teams`);const u=[];for(const d of i)try{console.log(` Processing matchup: Team ${d.team1_id} vs Team ${d.team2_id}`);const f=o.find(R=>R.id===d.conference_id);if(!f){console.warn(`Conference ${d.conference_id} not found for matchup ${d.id}`);continue}const m=l.find(R=>R.id===d.team1_id),x=d.team2_id?l.find(R=>R.id===d.team2_id):null;if(!m){console.warn(`Team1 not found: team1_id=${d.team1_id}`);continue}if(!d.is_bye&&!x){console.warn(`Team2 not found for non-bye matchup: team2_id=${d.team2_id}`);continue}if(d.is_bye||!x){console.log(` Processing bye week for team ${m.id}`);let R=c.find(_=>_.team_id===m.id&&_.conference_id===f.id);if(R||(R=c.find(_=>_.team_id===m.id)),!R){console.warn(`Roster mapping not found for bye team ${m.id}`);continue}const M=o.find(_=>_.id===R.conference_id);if(!M){console.warn(`Conference not found for bye team ${m.id}`);continue}const $=await Ye.fetchMatchups(M.league_id,parseInt(d.week)),O=await Ye.fetchLeagueRosters(M.league_id),K=await Ye.fetchLeagueUsers(M.league_id),F=$.find(_=>_.roster_id===R.roster_id);if(!F){console.warn(`Sleeper matchup not found for bye team roster ID ${R.roster_id}`);continue}const V=await this.buildByeMatchupTeam(m,F,O,K,R.roster_id),A={matchup_id:F.matchup_id||0,conference:f,teams:V,status:"completed",rawData:{dbMatchup:d,team1SleeperMatchup:F,team2SleeperMatchup:null,isOverride:d.manual_override||!1,isBye:!0,playoffBracket:n>=13?a.find(_=>_.id===d.id):void 0}};u.push(A),console.log(` Successfully processed bye matchup ${d.id}`);continue}let j=c.find(R=>R.team_id===m.id&&R.conference_id===f.id),v=c.find(R=>R.team_id===x.id&&R.conference_id===f.id);if(j||(console.log(` Team ${m.id} not in conference ${f.id}, searching home conference`),j=c.find(R=>R.team_id===m.id),j&&console.log(` Found team ${m.id} in conference ${j.conference_id}`)),v||(console.log(` Team ${x.id} not in conference ${f.id}, searching home conference`),v=c.find(R=>R.team_id===x.id),v&&console.log(` Found team ${x.id} in conference ${v.conference_id}`)),!j||!v){console.warn(`Roster mappings not found for teams ${m.id}, ${x.id} (searched all conferences)`);continue}const y=d.is_playoff||parseInt(d.week)>=13,g=y||j.conference_id!==v.conference_id;let p,w,b,S,T,N;if(g){console.log(y?` Processing playoff matchup (treated as interconference): Team ${m.id} (conf ${j.conference_id}) vs Team ${x.id} (conf ${v.conference_id})`:` Processing interconference matchup: Team ${m.id} (conf ${j.conference_id}) vs Team ${x.id} (conf ${v.conference_id})`);const R=o.find(_=>_.id===j.conference_id),M=o.find(_=>_.id===v.conference_id);if(!R||!M){console.warn("Conference details not found for interconference matchup");continue}const[$,O]=await Promise.all([Ye.fetchMatchups(R.league_id,parseInt(d.week)),Ye.fetchMatchups(M.league_id,parseInt(d.week))]),[K,F]=await Promise.all([Ye.fetchLeagueRosters(R.league_id),Ye.fetchLeagueRosters(M.league_id)]),[V,A]=await Promise.all([Ye.fetchLeagueUsers(R.league_id),Ye.fetchLeagueUsers(M.league_id)]);p=$.find(_=>_.roster_id===j.roster_id),w=O.find(_=>_.roster_id===v.roster_id),b=K,S=F,T=V,N=A}else{console.log(` Processing same-conference regular season matchup: Team ${m.id} vs Team ${x.id} (conf ${j.conference_id})`);const R=await Ye.fetchMatchups(f.league_id,parseInt(d.week)),M=await Ye.fetchLeagueRosters(f.league_id),$=await Ye.fetchLeagueUsers(f.league_id);p=R.find(O=>O.roster_id===j.roster_id),w=R.find(O=>O.roster_id===v.roster_id),b=M,S=M,T=$,N=$}if(!p||!w){console.warn(`Sleeper matchups not found for roster IDs ${j.roster_id}, ${v.roster_id}`);continue}if(!g&&!y&&p.matchup_id!==w.matchup_id){console.warn(`Teams are not matched against each other in Sleeper: ${p.matchup_id} vs ${w.matchup_id}`);continue}const E=await this.buildMatchupTeamsFromDatabaseInterconference(m,x,p,w,b,S,T,N,j.roster_id,v.roster_id),P=this.determineMatchupStatusFromSleeper(p,w),D={matchup_id:p.matchup_id||0,conference:f,teams:E,status:P,rawData:{dbMatchup:d,team1SleeperMatchup:p,team2SleeperMatchup:w,isOverride:d.manual_override||!1,playoffBracket:n>=13?a.find(R=>R.id===d.id):void 0}};u.push(D),console.log(` Successfully processed matchup ${d.id}`)}catch(f){console.error(`Error processing matchup ${d.id}:`,f)}return console.log(` Processed ${u.length} hybrid matchups from ${i.length} database records`),u}catch(i){return console.error("Error in getHybridMatchups:",i),[]}}static async getConferences(t){try{return(await le.getConferences({filters:[{column:"season_id",operator:"eq",value:t}],limit:50})).data||[]}catch(n){return console.error("Error in getConferences:",n),[]}}static async getTeams(){try{return(await le.getTeams({limit:500})).data||[]}catch(t){return console.error("Error in getTeams:",t),[]}}static async getTeamConferenceJunctions(){try{return(await le.getTeamConferenceJunctions({limit:1e3})).data||[]}catch(t){return console.error("Error in getTeamConferenceJunctions:",t),[]}}static async getPlayoffBrackets(t,n,s){try{console.log(` Getting playoff brackets for season ${t}, week ${n}, conference: ${s||"all"}`);const i=[{column:"season_id",operator:"eq",value:t},{column:"week",operator:"eq",value:n}];let o=(await le.getPlayoffBrackets({filters:i,limit:100})).data||[];if(s&&o.length>0){const c=(await this.getTeamConferenceJunctions()).filter(u=>u.conference_id===s).map(u=>u.team_id);o=o.filter(u=>c.includes(u.team1_id)||c.includes(u.team2_id))}return console.log(` Found ${o.length} playoff brackets`),o}catch(i){return console.error("Error in getPlayoffBrackets:",i),[]}}static convertPlayoffBracketsToMatchups(t,n){return t.map(s=>{const i=n[0];return{id:s.id,conference_id:(i==null?void 0:i.id)||1,week:s.week.toString(),team1_id:s.team1_id,team2_id:s.team2_id,is_playoff:!0,manual_override:!1,matchup_status:s.winner_team_id?"completed":"upcoming",notes:s.playoff_round_name||null,matchup_type:"playoff",team1_score:s.team1_score||null,team2_score:s.team2_score||null,winning_team_id:s.winner_team_id||null,is_bye:s.is_bye||!1}})}static async getDatabaseMatchups(t,n,s){var i,a;try{if(s){console.log(` Filtering matchups for specific conference: ${s}`);const d=[{column:"week",operator:"eq",value:n.toString()},{column:"conference_id",operator:"eq",value:s}],f=await le.getMatchups({filters:d,limit:100});return console.log(` Found ${((i=f.data)==null?void 0:i.length)||0} matchups for conference ${s}`),f.data||[]}const l=(await this.getConferences(t)).map(d=>d.id);if(l.length===0)return console.warn("No conferences found for season:",t),[];const c=[{column:"week",operator:"eq",value:n.toString()},{column:"conference_id",operator:"in",value:l}],u=await le.getMatchups({filters:c,limit:100});return console.log(` Found ${((a=u.data)==null?void 0:a.length)||0} matchups for season ${t}, week ${n}`),u.data||[]}catch(o){return console.error("Error in getDatabaseMatchups:",o),[]}}static async getMatchupOverrides(t,n,s){var i;try{console.log("Fetching matchup overrides:",{seasonId:t,week:n,conferenceId:s});const a=[{column:"season_id",operator:"eq",value:t},{column:"week",operator:"eq",value:n},{column:"is_active",operator:"eq",value:!0}];s&&a.push({column:"conference_id",operator:"eq",value:s});const o=await le.getMatchupAdminOverrides({filters:a,limit:100});return console.log("Matchup overrides found:",((i=o.data)==null?void 0:i.length)||0),o.data||[]}catch(a){return console.error("Error in getMatchupOverrides:",a),[]}}static async getOrganizedMatchups(t,n,s){try{console.log("Getting organized matchups:",{seasonId:t,week:n,conferenceId:s});let i=[];if(n>=13){console.log(` Week ${n} is playoffs - using playoff_brackets table`);const c=await this.getPlayoffBrackets(t,n,s),u=await this.getConferences(t);i=this.convertPlayoffBracketsToMatchups(c,u)}else console.log(` Week ${n} is regular season - using matchups table`),i=await this.getDatabaseMatchups(t,n,s);const a=await this.getConferences(t),o=await this.getTeams(),l=await this.getMatchupOverrides(t,n,s);return console.log("Found data:",{matchups:i.length,conferences:a.length,teams:o.length,overrides:l.length}),this.getHybridMatchups(t,n,s)}catch(i){return console.error("Error in getOrganizedMatchups:",i),[]}}static async buildMatchupTeamsSimple(t,n,s,i,a){try{const o=[],l=n.find(f=>f.roster_id===t.roster_id);if(!l)return console.warn(`No roster found for roster_id: ${t.roster_id}`),[];const c=s.find(f=>f.user_id===l.owner_id),u=i.find(f=>f.owner_id===l.owner_id),d={roster_id:t.roster_id,points:t.points||0,projected_points:t.projected_points||0,owner:c||null,roster:l||null,team:u||null,players_points:t.players_points||{},starters_points:t.starters_points||[],matchup_starters:t.starters||[]};return o.push(d),o}catch(o){return console.error("Error building simple matchup teams:",o),[]}}static determineMatchupStatusSimple(t){return t.points&&t.points>0?"completed":"upcoming"}static async buildMatchupTeamsFromDatabase(t,n,s,i,a,o,l,c){try{const u=[],d=a.find(y=>y.roster_id===l),f=o.find(y=>y.user_id===(d==null?void 0:d.owner_id)),m={roster_id:l,points:s.points||0,projected_points:s.projected_points||0,owner:f||null,roster:d||null,team:t,players_points:s.players_points||{},starters_points:s.starters_points||[],matchup_starters:s.starters||[]},x=a.find(y=>y.roster_id===c),j=o.find(y=>y.user_id===(x==null?void 0:x.owner_id)),v={roster_id:c,points:i.points||0,projected_points:i.projected_points||0,owner:j||null,roster:x||null,team:n,players_points:i.players_points||{},starters_points:i.starters_points||[],matchup_starters:i.starters||[]};return u.push(m,v),u}catch(u){return console.error("Error building matchup teams from database:",u),[]}}static async buildMatchupTeamsFromDatabaseInterconference(t,n,s,i,a,o,l,c,u,d){try{const f=[],m=a.find(p=>p.roster_id===u),x=l.find(p=>p.user_id===(m==null?void 0:m.owner_id)),j={roster_id:u,points:s.points||0,projected_points:s.projected_points||0,owner:x||null,roster:m||null,team:t,players_points:s.players_points||{},starters_points:s.starters_points||[],matchup_starters:s.starters||[]},v=o.find(p=>p.roster_id===d),y=c.find(p=>p.user_id===(v==null?void 0:v.owner_id)),g={roster_id:d,points:i.points||0,projected_points:i.projected_points||0,owner:y||null,roster:v||null,team:n,players_points:i.players_points||{},starters_points:i.starters_points||[],matchup_starters:i.starters||[]};return f.push(j,g),f}catch(f){return console.error("Error building interconference matchup teams from database:",f),[]}}static async buildByeMatchupTeam(t,n,s,i,a){try{const o=s.find(u=>u.roster_id===a),l=i.find(u=>u.user_id===(o==null?void 0:o.owner_id));return[{roster_id:a,points:n.points||0,projected_points:n.projected_points||0,owner:l||null,roster:o||null,team:t,players_points:n.players_points||{},starters_points:n.starters_points||[],matchup_starters:n.starters||[]}]}catch(o){return console.error("Error building bye matchup team:",o),[]}}static determineMatchupStatusFromSleeper(t,n){const s=t.points&&t.points>0,i=n&&n.points&&n.points>0;return s&&i?"completed":s||i?"live":"upcoming"}}const R0=()=>["QB","RB","RB","WR","WR","WR","TE","FLEX","SUPER_FLEX"],A0=e=>({QB:"QB",RB:"RB",WR:"WR",TE:"TE",FLEX:"W/R/T",SUPER_FLEX:"Q/W/R/T",K:"K",DEF:"DEF"})[e]||e,Iu=(e,t)=>{const n=t[e];return n?{name:`${n.first_name||""} ${n.last_name||""}`.trim()||"Unknown",position:n.position||"N/A",team:n.team||"N/A"}:{name:"Unknown Player",position:"N/A",team:"N/A"}},F5=()=>{var D;console.log(" MatchupsPage component mounting...");const{selectedSeason:e,selectedConference:t,currentSeasonConfig:n,seasonConfigs:s}=Dn(),{toast:i}=An(),[a,o]=h.useState(1),[l,c]=h.useState(1),[u,d]=h.useState(new Set),[f,m]=h.useState([]),[x,j]=h.useState({}),[v,y]=h.useState(!0),[g,p]=h.useState(!1),[w,b]=h.useState([]),S=async()=>{if(!e||!n||g){console.log(" Skipping matchup fetch - missing data or already refreshing"),y(!1);return}p(!0),b([]);try{console.log(` Fetching matchups for season ${e}, week ${a}, conference: ${t||"all"}`);const R=s.find(K=>K.year===e);if(!R)throw new Error(`Season ${e} not found`);const M=typeof R.seasonId=="string"?parseInt(R.seasonId):R.seasonId||e;let $;if(t){const K=R.conferences.find(F=>F.id===t);$=K==null?void 0:K.dbConferenceId,console.log(` Conference filter: ${t} -> DB conferenceId: ${$}`)}const O=await O5.getHybridMatchups(M,a,$);if(console.log(` Loaded ${O.length} matchups`),console.log("Conference filter applied:",{selectedConference:t,conferenceId:$,matchupConferences:O.map(K=>K.conference.conference_name)}),m(O),Object.keys(x).length===0)try{const K=await le.getAllPlayersForMapping([{column:"playing_status",operator:"eq",value:"Active"},{column:"position",operator:"in",value:["QB","RB","WR","TE","K","DEF"]}]),F={};K.forEach(V=>{var A;if(V.sleeper_id){const _=V.player_name.split(" "),C=_[0]||"",k=_.slice(1).join(" ")||"";F[V.sleeper_id]={player_id:V.sleeper_id,first_name:C,last_name:k,position:V.position||"",team:V.nfl_team||"",jersey_number:V.number||0,status:V.playing_status||"",injury_status:V.injury_status||"",age:V.age||0,height:((A=V.height)==null?void 0:A.toString())||"",weight:V.weight||0,years_exp:0,college:V.college||""}}}),j(F)}catch(K){console.warn("Could not load players data:",K)}}catch(R){console.error("Error fetching matchups:",R);const M=R instanceof Error?R.message:"Unknown error";b([M]),i({title:"Error Loading Matchups",description:`Failed to load matchup data: ${M}`,variant:"destructive"}),m([])}finally{p(!1),y(!1)}},T=async()=>{try{console.log(" Loading current NFL week...");const R=await Ye.getCurrentNFLWeek();console.log(` Current NFL week: ${R}`),c(R),o(R)}catch(R){console.error("Error getting current week:",R),c(1),o(1)}};h.useEffect(()=>{T()},[]),h.useEffect(()=>{e&&n?(y(!0),S()):y(!1)},[a,t,e,n]);const N=R=>{const M=new Set(u);M.has(R)?M.delete(R):M.add(R),d(M)},E=R=>{switch(R){case"live":return r.jsx(ee,{className:"bg-green-500 hover:bg-green-600",children:"Live"});case"completed":return r.jsx(ee,{variant:"secondary",children:"Final"});case"upcoming":return r.jsx(ee,{variant:"outline",children:"Upcoming"});default:return r.jsx(ee,{variant:"secondary",children:R})}},P=R=>{if(R.status!=="completed")return null;const[M,$]=R.teams;return $?M.points>$.points?M:$:M};return v?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(pc,{className:"h-6 w-6 text-primary"}),r.jsx("h1",{className:"text-3xl font-bold",children:"Matchups"})]}),r.jsx(Y,{children:r.jsxs(X,{className:"py-8 text-center",children:[r.jsx(nt,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-primary"}),r.jsx("p",{children:"Loading matchup data..."})]})})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(pc,{className:"h-6 w-6 text-primary"}),r.jsx("h1",{className:"text-3xl font-bold",children:"Matchups"})]}),r.jsxs("p",{className:"text-muted-foreground",children:[e," Season  Week ",a,"  ",t?((D=n.conferences.find(R=>R.id===t))==null?void 0:D.name)||"Selected Conference":"All Conferences"]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs(At,{value:a.toString(),onValueChange:R=>o(parseInt(R)),children:[r.jsx(Et,{className:"w-32",children:r.jsx(Dt,{})}),r.jsx(Ct,{children:Array.from({length:18},(R,M)=>M+1).map(R=>r.jsx(Me,{value:R.toString(),children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("span",{children:["Week ",R]}),R===l&&r.jsx(ee,{variant:"outline",className:"text-xs",children:"Current"})]})},R))})]}),a===l&&r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[r.jsx(er,{className:"h-4 w-4"}),r.jsx("span",{children:"Current week"})]})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs(J,{variant:"outline",size:"sm",onClick:()=>S(),disabled:g,children:[r.jsx(nt,{className:`h-4 w-4 ${g?"animate-spin":""}`}),"Refresh"]}),r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[r.jsx(Yt,{className:"h-4 w-4"}),r.jsxs("span",{children:[f.length," matchups"]})]})]})]}),w.length>0&&r.jsxs(Y,{className:"border-l-4 border-l-red-500",children:[r.jsx(ne,{className:"pb-2",children:r.jsxs(ie,{className:"text-sm flex items-center space-x-2",children:[r.jsx(Oe,{className:"h-4 w-4 text-red-500"}),r.jsxs("span",{children:["API Errors (",w.length,")"]})]})}),r.jsx(X,{children:r.jsx("div",{className:"space-y-1",children:w.map((R,M)=>r.jsx("div",{className:"text-sm text-red-600 bg-red-50 p-2 rounded",children:R},M))})})]}),r.jsxs("div",{className:"grid gap-3",children:[[...f].sort((R,M)=>R.conference.conference_name.localeCompare(M.conference.conference_name)).map(R=>{var V,A,_,C,k,L,I,H,ae,Q,z,W,G,U,se,ce,ue,ge;const[M,$]=R.teams,O=P(R),K=`${R.conference.id}-${R.matchup_id}`,F=u.has(K);return r.jsxs(Y,{className:"hover:shadow-md transition-shadow",children:[r.jsx(ne,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ie,{className:"text-base",children:a>=13&&((A=(V=R.rawData)==null?void 0:V.playoffBracket)!=null&&A.playoff_round_name)?R.rawData.playoffBracket.playoff_round_name:R.conference.conference_name}),E(R.status)]})}),r.jsxs(X,{className:"pt-0 space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-3 gap-2 items-center",children:[r.jsxs("div",{className:"text-right space-y-1",children:[r.jsx("div",{className:"font-medium text-sm",children:((_=M.team)==null?void 0:_.team_name)||((C=M.owner)==null?void 0:C.display_name)||((k=M.owner)==null?void 0:k.username)||"Unknown Team"}),r.jsx("div",{className:`text-lg font-bold ${(O==null?void 0:O.roster_id)===M.roster_id?"text-green-600":""}`,children:R.status==="upcoming"?"--":(M.points??0).toFixed(1)})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"VS"}),R.status==="completed"&&O&&r.jsx(Kt,{className:"h-4 w-4 mx-auto mt-1 text-yellow-500"})]}),r.jsxs("div",{className:"text-left space-y-1",children:[r.jsx("div",{className:"font-medium text-sm",children:!$||a>=13&&((I=(L=R.rawData)==null?void 0:L.playoffBracket)!=null&&I.is_bye)?"BYE":((H=$==null?void 0:$.team)==null?void 0:H.team_name)||((ae=$==null?void 0:$.owner)==null?void 0:ae.display_name)||((Q=$==null?void 0:$.owner)==null?void 0:Q.username)||"TBD"}),r.jsx("div",{className:`text-lg font-bold ${(O==null?void 0:O.roster_id)===($==null?void 0:$.roster_id)?"text-green-600":""}`,children:!$||a>=13&&((W=(z=R.rawData)==null?void 0:z.playoffBracket)!=null&&W.is_bye)?"BYE":R.status==="upcoming"?"--":(($==null?void 0:$.points)??0).toFixed(1)})]})]}),r.jsxs(M5,{open:F,children:[r.jsx(L5,{className:"space-y-4",children:r.jsx("div",{className:"border-t pt-4",children:r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("h4",{className:"font-semibold text-sm mb-3 flex items-center",children:[r.jsx(Yt,{className:"h-4 w-4 mr-2"}),((G=M.team)==null?void 0:G.team_name)||((U=M.owner)==null?void 0:U.display_name)||"Team 1"," Lineup"]}),M.roster?r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("h5",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide mb-2",children:"Starters"}),r.jsx("div",{className:"space-y-1",children:(se=M.matchup_starters)==null?void 0:se.map((fe,ye)=>{var et;const Se=Iu(fe,x),Ze=((et=M.players_points)==null?void 0:et[fe])||0,_e=R0()[ye]||"FLEX";return r.jsxs("div",{className:"flex justify-between items-center py-1 px-2 bg-gray-50 rounded text-xs",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ee,{variant:"outline",className:"text-xs px-1 py-0",children:A0(_e)}),r.jsx("span",{className:"font-medium",children:Se.name}),r.jsxs("span",{className:"text-muted-foreground",children:["(",Se.position," - ",Se.team,")"]})]}),r.jsx("span",{className:"font-bold",children:Ze.toFixed(1)})]},`${fe}-${ye}`)})})]}),M.roster.players&&r.jsxs("div",{children:[r.jsx("h5",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide mb-2",children:"Bench"}),r.jsx("div",{className:"space-y-1",children:M.roster.players.filter(fe=>{var ye;return!((ye=M.matchup_starters)!=null&&ye.includes(fe))}).map(fe=>{var Ze;const ye=Iu(fe,x),Se=((Ze=M.players_points)==null?void 0:Ze[fe])||0;return r.jsxs("div",{className:"flex justify-between items-center py-1 px-2 bg-gray-25 rounded text-xs",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"font-medium",children:ye.name}),r.jsxs("span",{className:"text-muted-foreground",children:["(",ye.position," - ",ye.team,")"]})]}),r.jsx("span",{className:"text-muted-foreground",children:Se.toFixed(1)})]},fe)})})]})]}):r.jsx("p",{className:"text-sm text-muted-foreground",children:"No roster data available"})]}),$&&r.jsxs("div",{children:[r.jsxs("h4",{className:"font-semibold text-sm mb-3 flex items-center",children:[r.jsx(Yt,{className:"h-4 w-4 mr-2"}),((ce=$.team)==null?void 0:ce.team_name)||((ue=$.owner)==null?void 0:ue.display_name)||"Team 2"," Lineup"]}),$.roster?r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("h5",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide mb-2",children:"Starters"}),r.jsx("div",{className:"space-y-1",children:(ge=$.matchup_starters)==null?void 0:ge.map((fe,ye)=>{var et;const Se=Iu(fe,x),Ze=((et=$.players_points)==null?void 0:et[fe])||0,_e=R0()[ye]||"FLEX";return r.jsxs("div",{className:"flex justify-between items-center py-1 px-2 bg-gray-50 rounded text-xs",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ee,{variant:"outline",className:"text-xs px-1 py-0",children:A0(_e)}),r.jsx("span",{className:"font-medium",children:Se.name}),r.jsxs("span",{className:"text-muted-foreground",children:["(",Se.position," - ",Se.team,")"]})]}),r.jsx("span",{className:"font-bold",children:Ze.toFixed(1)})]},`${fe}-${ye}`)})})]}),$.roster.players&&r.jsxs("div",{children:[r.jsx("h5",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide mb-2",children:"Bench"}),r.jsx("div",{className:"space-y-1",children:$.roster.players.filter(fe=>{var ye;return!((ye=$.matchup_starters)!=null&&ye.includes(fe))}).map(fe=>{var Ze;const ye=Iu(fe,x),Se=((Ze=$.players_points)==null?void 0:Ze[fe])||0;return r.jsxs("div",{className:"flex justify-between items-center py-1 px-2 bg-gray-25 rounded text-xs",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"font-medium",children:ye.name}),r.jsxs("span",{className:"text-muted-foreground",children:["(",ye.position," - ",ye.team,")"]})]}),r.jsx("span",{className:"text-muted-foreground",children:Se.toFixed(1)})]},fe)})})]})]}):r.jsx("p",{className:"text-sm text-muted-foreground",children:"No roster data available"})]})]})})}),r.jsx(I5,{asChild:!0,children:r.jsx(J,{variant:"outline",className:"w-full mt-3",onClick:()=>N(K),children:F?r.jsxs(r.Fragment,{children:["Hide Details",r.jsx($x,{className:"h-4 w-4 ml-2"})]}):r.jsxs(r.Fragment,{children:["View Details",r.jsx(Ef,{className:"h-4 w-4 ml-2"})]})})})]})]})]},K)}),f.length===0&&r.jsx(Y,{children:r.jsxs(X,{className:"py-8 text-center",children:[r.jsx(Oe,{className:"h-8 w-8 mx-auto mb-4 text-muted-foreground"}),r.jsx("p",{className:"text-muted-foreground",children:"No matchups found for the selected filters."})]})})]})]})},fn=h.forwardRef(({className:e,type:t,...n},s)=>r.jsx("input",{type:t,className:pe("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...n}));fn.displayName="Input";var pC={exports:{}},gC={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lo=h;function U5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var B5=typeof Object.is=="function"?Object.is:U5,V5=Lo.useState,z5=Lo.useEffect,W5=Lo.useLayoutEffect,H5=Lo.useDebugValue;function q5(e,t){var n=t(),s=V5({inst:{value:n,getSnapshot:t}}),i=s[0].inst,a=s[1];return W5(function(){i.value=n,i.getSnapshot=t,hm(i)&&a({inst:i})},[e,n,t]),z5(function(){return hm(i)&&a({inst:i}),e(function(){hm(i)&&a({inst:i})})},[e]),H5(n),n}function hm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!B5(e,n)}catch{return!0}}function K5(e,t){return t()}var G5=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?K5:q5;gC.useSyncExternalStore=Lo.useSyncExternalStore!==void 0?Lo.useSyncExternalStore:G5;pC.exports=gC;var Y5=pC.exports;function Q5(){return Y5.useSyncExternalStore(X5,()=>!0,()=>!1)}function X5(){return()=>{}}var pv="Avatar",[J5,nH]=ns(pv),[Z5,xC]=J5(pv),vC=h.forwardRef((e,t)=>{const{__scopeAvatar:n,...s}=e,[i,a]=h.useState("idle");return r.jsx(Z5,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:r.jsx(ve.span,{...s,ref:t})})});vC.displayName=pv;var yC="AvatarImage",wC=h.forwardRef((e,t)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:i=()=>{},...a}=e,o=xC(yC,n),l=eU(s,a),c=Zn(u=>{i(u),o.onImageLoadingStatusChange(u)});return Tt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?r.jsx(ve.img,{...a,ref:t,src:s}):null});wC.displayName=yC;var jC="AvatarFallback",bC=h.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:s,...i}=e,a=xC(jC,n),[o,l]=h.useState(s===void 0);return h.useEffect(()=>{if(s!==void 0){const c=window.setTimeout(()=>l(!0),s);return()=>window.clearTimeout(c)}},[s]),o&&a.imageLoadingStatus!=="loaded"?r.jsx(ve.span,{...i,ref:t}):null});bC.displayName=jC;function D0(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function eU(e,{referrerPolicy:t,crossOrigin:n}){const s=Q5(),i=h.useRef(null),a=s?(i.current||(i.current=new window.Image),i.current):null,[o,l]=h.useState(()=>D0(a,e));return Tt(()=>{l(D0(a,e))},[a,e]),Tt(()=>{const c=f=>()=>{l(f)};if(!a)return;const u=c("loaded"),d=c("error");return a.addEventListener("load",u),a.addEventListener("error",d),t&&(a.referrerPolicy=t),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",u),a.removeEventListener("error",d)}},[a,n,t]),o}var _C=vC,SC=wC,NC=bC;const gv=h.forwardRef(({className:e,...t},n)=>r.jsx(_C,{ref:n,className:pe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));gv.displayName=_C.displayName;const xv=h.forwardRef(({className:e,...t},n)=>r.jsx(SC,{ref:n,className:pe("aspect-square h-full w-full",e),...t}));xv.displayName=SC.displayName;const vv=h.forwardRef(({className:e,...t},n)=>r.jsx(NC,{ref:n,className:pe("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));vv.displayName=NC.displayName;const tU=()=>{var g;const{selectedSeason:e,selectedConference:t,currentSeasonConfig:n}=Dn(),{toast:s}=An(),[i,a]=h.useState(""),[o,l]=h.useState([]),[c,u]=h.useState(!0),[d,f]=h.useState(null),m=async()=>{var p;u(!0),f(null);try{console.log("Fetching teams data for season:",e);const w=t?n.conferences.filter(M=>M.id===t):n.conferences;console.log("Conferences to fetch:",w);const{data:b,error:S}=await window.ezsite.apis.tablePage("12852",{PageNo:1,PageSize:100,OrderByField:"team_name",IsAsc:!0,Filters:[]});if(S)throw new Error(S);const T=(b==null?void 0:b.List)||[];console.log("Database teams:",T);const{data:N,error:E}=await window.ezsite.apis.tablePage("12820",{PageNo:1,PageSize:50,OrderByField:"conference_name",IsAsc:!0,Filters:[]});if(E)throw new Error(E);const P=(N==null?void 0:N.List)||[];console.log("Database conferences:",P);const D=[];for(const M of w)try{console.log(`Fetching roster data for league: ${M.leagueId}`);const $=await fetch(`https://api.sleeper.app/v1/league/${M.leagueId}/rosters`);if(!$.ok){console.warn(`Failed to fetch roster data for league ${M.leagueId}:`,$.statusText);continue}const O=await $.json();console.log(`Roster data for ${M.name}:`,O),D.push(...O.map(K=>({...K,league_id:M.leagueId})))}catch($){console.warn(`Error fetching roster data for league ${M.leagueId}:`,$)}console.log("All roster data:",D);const R=[];for(const M of T){const $=D.find(O=>O.owner_id===M.owner_id);if($){const O=w.find(F=>F.leagueId===$.league_id),K=x($.settings.wins,$.settings.losses);R.push({id:M.id.toString(),teamName:M.team_name,ownerName:M.owner_name,coOwnerName:M.co_owner_name||void 0,ownerAvatar:M.team_logo_url||null,conference:(O==null?void 0:O.name)||"Unknown Conference",record:{wins:$.settings.wins,losses:$.settings.losses,ties:$.settings.ties},pointsFor:$.settings.fpts+$.settings.fpts_decimal/100,pointsAgainst:$.settings.fpts_against+$.settings.fpts_against_decimal/100,rank:0,streak:K,rosterCount:((p=$.players)==null?void 0:p.length)||0,waiversCount:$.settings.total_moves||0,tradesCount:0,rosterId:$.roster_id,leagueId:$.league_id})}else console.warn(`No matching roster found for team: ${M.team_name} (owner_id: ${M.owner_id})`)}R.sort((M,$)=>M.record.wins!==$.record.wins?$.record.wins-M.record.wins:$.pointsFor-M.pointsFor),R.forEach((M,$)=>{M.rank=$+1}),console.log("Final combined teams data:",R),l(R)}catch(w){console.error("Error fetching teams data:",w),f(w instanceof Error?w.message:"Failed to load teams data"),s({title:"Error Loading Teams",description:"Failed to load team data. Please try again.",variant:"destructive"})}finally{u(!1)}},x=(p,w)=>p>w?`W${Math.min(p-w,5)}`:w>p?`L${Math.min(w-p,5)}`:"T1";h.useEffect(()=>{m()},[e,t]);const j=o.filter(p=>i===""||p.teamName.toLowerCase().includes(i.toLowerCase())||p.ownerName.toLowerCase().includes(i.toLowerCase())||p.coOwnerName&&p.coOwnerName.toLowerCase().includes(i.toLowerCase())),v=(p,w)=>{const b=p/(p+w);return b>=.7?"default":b>=.5?"secondary":"destructive"},y=p=>p.startsWith("W")?"text-green-600":p.startsWith("L")?"text-red-600":"text-muted-foreground";return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Yt,{className:"h-6 w-6 text-primary"}),r.jsx("h1",{className:"text-3xl font-bold",children:"Teams"})]}),r.jsxs("p",{className:"text-muted-foreground",children:[e," Season  ",t?(g=n.conferences.find(p=>p.id===t))==null?void 0:g.name:"All Conferences","  ",j.length," teams"]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("div",{className:"relative flex-1 max-w-md",children:[r.jsx(Mx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(fn,{placeholder:"Search teams or owners...",value:i,onChange:p=>a(p.target.value),className:"pl-10"})]}),r.jsx(J,{variant:"outline",onClick:()=>a(""),children:"Clear"}),r.jsxs(J,{variant:"outline",onClick:m,disabled:c,children:[r.jsx(nt,{className:`h-4 w-4 mr-2 ${c?"animate-spin":""}`}),"Refresh"]})]}),c&&r.jsx(Y,{children:r.jsxs(X,{className:"py-12 text-center",children:[r.jsx(nt,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4 animate-spin"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Loading Teams"}),r.jsx("p",{className:"text-muted-foreground",children:"Fetching team data from Sleeper API..."})]})}),d&&!c&&r.jsx(Y,{children:r.jsxs(X,{className:"py-12 text-center",children:[r.jsx(Oe,{className:"h-12 w-12 mx-auto text-destructive mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Error Loading Teams"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:d}),r.jsxs(J,{onClick:m,children:[r.jsx(nt,{className:"h-4 w-4 mr-2"}),"Try Again"]})]})}),!c&&!d&&r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.map(p=>r.jsxs(Y,{className:"hover:shadow-lg transition-shadow",children:[r.jsx(ne,{className:"pb-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs(gv,{className:"h-12 w-12",children:[r.jsx(xv,{src:p.ownerAvatar||void 0}),r.jsx(vv,{className:"bg-primary/10",children:p.ownerName.split(" ").map(w=>w[0]).join("").toUpperCase()})]}),r.jsxs("div",{children:[r.jsx(ie,{className:"text-lg leading-tight",children:p.teamName}),r.jsxs(je,{children:[p.ownerName,p.coOwnerName&&` & ${p.coOwnerName}`]})]})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[p.rank<=3&&r.jsx(Kt,{className:"h-4 w-4 text-yellow-500"}),r.jsxs("span",{className:"text-sm font-semibold",children:["#",p.rank]})]})]})}),r.jsxs(X,{className:"space-y-4",children:[r.jsx(ee,{variant:"outline",className:"text-xs",children:p.conference}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Record"}),r.jsxs(ee,{variant:v(p.record.wins,p.record.losses),children:[p.record.wins,"-",p.record.losses,p.record.ties>0&&`-${p.record.ties}`]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Streak"}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Do,{className:`h-4 w-4 ${y(p.streak)}`}),r.jsx("span",{className:`font-semibold ${y(p.streak)}`,children:p.streak})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"Points For"}),r.jsx("p",{className:"font-semibold",children:p.pointsFor.toFixed(1)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"Points Against"}),r.jsx("p",{className:"font-semibold",children:p.pointsAgainst.toFixed(1)})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs text-muted-foreground",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"font-medium",children:p.rosterCount}),r.jsx("p",{children:"Roster"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"font-medium",children:p.waiversCount}),r.jsx("p",{children:"Moves"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("p",{className:"font-medium",children:["#",p.rosterId]}),r.jsx("p",{children:"Roster ID"})]})]}),r.jsx(Pt,{to:`/teams/${p.id}`,className:"w-full",children:r.jsxs(J,{variant:"outline",className:"w-full",children:[r.jsx(zc,{className:"mr-2 h-4 w-4"}),"View Team Details"]})})]})]},p.id))}),!c&&!d&&j.length===0&&r.jsx(Y,{children:r.jsxs(X,{className:"py-12 text-center",children:[r.jsx(Yt,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No teams found"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:"No teams match your current search criteria."}),r.jsx(J,{variant:"outline",onClick:()=>a(""),children:"Clear Search"})]})}),!c&&!d&&j.length>0&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(Y,{children:r.jsxs(ne,{className:"pb-2",children:[r.jsx(je,{children:"Average Points For"}),r.jsx(ie,{className:"text-2xl",children:(j.reduce((p,w)=>p+w.pointsFor,0)/j.length).toFixed(1)})]})}),r.jsx(Y,{children:r.jsxs(ne,{className:"pb-2",children:[r.jsx(je,{children:"Most Active Team"}),r.jsx(ie,{className:"text-lg",children:j.reduce((p,w)=>p.waiversCount>w.waiversCount?p:w).teamName})]})}),r.jsx(Y,{children:r.jsxs(ne,{className:"pb-2",children:[r.jsx(je,{children:"Total Moves"}),r.jsx(ie,{className:"text-2xl",children:j.reduce((p,w)=>p+w.waiversCount,0)})]})})]})]})};var mm="rovingFocusGroup.onEntryFocus",nU={bubbles:!1,cancelable:!0},Yc="RovingFocusGroup",[ag,EC,sU]=kx(Yc),[rU,CC]=ns(Yc,[sU]),[iU,aU]=rU(Yc),TC=h.forwardRef((e,t)=>r.jsx(ag.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(ag.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(oU,{...e,ref:t})})}));TC.displayName=Yc;var oU=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,m=h.useRef(null),x=Ke(t,m),j=cv(a),[v,y]=Pr({prop:o,defaultProp:l??null,onChange:c,caller:Yc}),[g,p]=h.useState(!1),w=Zn(u),b=EC(n),S=h.useRef(!1),[T,N]=h.useState(0);return h.useEffect(()=>{const E=m.current;if(E)return E.addEventListener(mm,w),()=>E.removeEventListener(mm,w)},[w]),r.jsx(iU,{scope:n,orientation:s,dir:j,loop:i,currentTabStopId:v,onItemFocus:h.useCallback(E=>y(E),[y]),onItemShiftTab:h.useCallback(()=>p(!0),[]),onFocusableItemAdd:h.useCallback(()=>N(E=>E+1),[]),onFocusableItemRemove:h.useCallback(()=>N(E=>E-1),[]),children:r.jsx(ve.div,{tabIndex:g||T===0?-1:0,"data-orientation":s,...f,ref:x,style:{outline:"none",...e.style},onMouseDown:xe(e.onMouseDown,()=>{S.current=!0}),onFocus:xe(e.onFocus,E=>{const P=!S.current;if(E.target===E.currentTarget&&P&&!g){const D=new CustomEvent(mm,nU);if(E.currentTarget.dispatchEvent(D),!D.defaultPrevented){const R=b().filter(F=>F.focusable),M=R.find(F=>F.active),$=R.find(F=>F.id===v),K=[M,$,...R].filter(Boolean).map(F=>F.ref.current);RC(K,d)}}S.current=!1}),onBlur:xe(e.onBlur,()=>p(!1))})})}),kC="RovingFocusGroupItem",PC=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:i=!1,tabStopId:a,children:o,...l}=e,c=Nr(),u=a||c,d=aU(kC,n),f=d.currentTabStopId===u,m=EC(n),{onFocusableItemAdd:x,onFocusableItemRemove:j,currentTabStopId:v}=d;return h.useEffect(()=>{if(s)return x(),()=>j()},[s,x,j]),r.jsx(ag.ItemSlot,{scope:n,id:u,focusable:s,active:i,children:r.jsx(ve.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:xe(e.onMouseDown,y=>{s?d.onItemFocus(u):y.preventDefault()}),onFocus:xe(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:xe(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const g=uU(y,d.orientation,d.dir);if(g!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let w=m().filter(b=>b.focusable).map(b=>b.ref.current);if(g==="last")w.reverse();else if(g==="prev"||g==="next"){g==="prev"&&w.reverse();const b=w.indexOf(y.currentTarget);w=d.loop?dU(w,b+1):w.slice(b+1)}setTimeout(()=>RC(w))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:v!=null}):o})})});PC.displayName=kC;var lU={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function cU(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function uU(e,t,n){const s=cU(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return lU[s]}function RC(e,t=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:t}),document.activeElement!==n))return}function dU(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var fU=TC,hU=PC,Zf="Tabs",[mU,sH]=ns(Zf,[CC]),AC=CC(),[pU,yv]=mU(Zf),DC=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=cv(l),[f,m]=Pr({prop:s,onChange:i,defaultProp:a??"",caller:Zf});return r.jsx(pU,{scope:n,baseId:Nr(),value:f,onValueChange:m,orientation:o,dir:d,activationMode:c,children:r.jsx(ve.div,{dir:d,"data-orientation":o,...u,ref:t})})});DC.displayName=Zf;var $C="TabsList",MC=h.forwardRef((e,t)=>{const{__scopeTabs:n,loop:s=!0,...i}=e,a=yv($C,n),o=AC(n);return r.jsx(fU,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:s,children:r.jsx(ve.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});MC.displayName=$C;var IC="TabsTrigger",LC=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,disabled:i=!1,...a}=e,o=yv(IC,n),l=AC(n),c=UC(o.baseId,s),u=BC(o.baseId,s),d=s===o.value;return r.jsx(hU,{asChild:!0,...l,focusable:!i,active:d,children:r.jsx(ve.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:t,onMouseDown:xe(e.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?o.onValueChange(s):f.preventDefault()}),onKeyDown:xe(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(s)}),onFocus:xe(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!i&&f&&o.onValueChange(s)})})})});LC.displayName=IC;var OC="TabsContent",FC=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,forceMount:i,children:a,...o}=e,l=yv(OC,n),c=UC(l.baseId,s),u=BC(l.baseId,s),d=s===l.value,f=h.useRef(d);return h.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),r.jsx(fr,{present:i||d,children:({present:m})=>r.jsx(ve.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&a})})});FC.displayName=OC;function UC(e,t){return`${e}-trigger-${t}`}function BC(e,t){return`${e}-content-${t}`}var gU=DC,VC=MC,zC=LC,WC=FC;const $i=gU,Ir=h.forwardRef(({className:e,...t},n)=>r.jsx(VC,{ref:n,className:pe("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));Ir.displayName=VC.displayName;const He=h.forwardRef(({className:e,...t},n)=>r.jsx(zC,{ref:n,className:pe("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));He.displayName=zC.displayName;const qe=h.forwardRef(({className:e,...t},n)=>r.jsx(WC,{ref:n,className:pe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));qe.displayName=WC.displayName;var xU="Separator",$0="horizontal",vU=["horizontal","vertical"],HC=h.forwardRef((e,t)=>{const{decorative:n,orientation:s=$0,...i}=e,a=yU(s)?s:$0,l=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return r.jsx(ve.div,{"data-orientation":a,...l,...i,ref:t})});HC.displayName=xU;function yU(e){return vU.includes(e)}var qC=HC;const KC=h.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...s},i)=>r.jsx(qC,{ref:i,decorative:n,orientation:t,className:pe("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...s}));KC.displayName=qC.displayName;const GC=({transaction:e})=>{const t=()=>{switch(e.type){case"trade":return r.jsx(eD,{className:"h-4 w-4"});case"free_agent":return r.jsx(Id,{className:"h-4 w-4"});case"waiver":return r.jsx(Do,{className:"h-4 w-4"});default:return r.jsx(hc,{className:"h-4 w-4"})}},n=()=>{switch(e.type){case"trade":return"bg-blue-100 text-blue-800";case"free_agent":return"bg-green-100 text-green-800";case"waiver":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},s=()=>{switch(e.status){case"complete":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},i=o=>new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}).format(o),a=o=>{switch(o){case"free_agent":return"Free Agent";case"waiver":return"Waiver";case"trade":return"Trade";default:return o.charAt(0).toUpperCase()+o.slice(1)}};return r.jsxs(Y,{className:"mb-4 hover:shadow-md transition-shadow",children:[r.jsx(ne,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:`p-2 rounded-full ${n()}`,children:t()}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ee,{className:n(),children:a(e.type)}),r.jsxs(ee,{variant:"outline",children:["Week ",e.week]}),r.jsx(ee,{className:s(),children:e.status})]}),r.jsxs("div",{className:"flex items-center space-x-1 mt-1 text-sm text-muted-foreground",children:[r.jsx(Qn,{className:"h-3 w-3"}),r.jsx("span",{children:i(e.date)})]})]})]}),e.waiverBid&&r.jsxs("div",{className:"flex items-center space-x-1 text-sm text-muted-foreground",children:[r.jsx(Rp,{className:"h-3 w-3"}),r.jsxs("span",{children:["$",e.waiverBid]})]})]})}),r.jsx(X,{className:"pt-0",children:r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{children:r.jsx("p",{className:"text-sm font-medium text-foreground",children:e.details})}),e.teams.length>0&&r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Teams:"}),r.jsx("div",{className:"flex flex-wrap gap-1",children:e.teams.map((o,l)=>r.jsx(ee,{variant:"secondary",className:"text-xs",children:o},l))})]}),(e.players.added.length>0||e.players.dropped.length>0)&&r.jsxs("div",{className:"space-y-2",children:[e.players.added.length>0&&r.jsxs("div",{children:[r.jsxs("p",{className:"text-xs text-muted-foreground mb-1 flex items-center",children:[r.jsx(Id,{className:"h-3 w-3 mr-1 text-green-600"}),"Added:"]}),r.jsx("div",{className:"space-y-1",children:e.players.added.map((o,l)=>r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"font-medium",children:o.name}),r.jsxs(ee,{variant:"outline",className:"text-xs",children:["to ",o.team]})]},l))})]}),e.players.dropped.length>0&&r.jsxs("div",{children:[r.jsxs("p",{className:"text-xs text-muted-foreground mb-1 flex items-center",children:[r.jsx(VD,{className:"h-3 w-3 mr-1 text-red-600"}),"Dropped:"]}),r.jsx("div",{className:"space-y-1",children:e.players.dropped.map((o,l)=>r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"font-medium",children:o.name}),r.jsxs(ee,{variant:"outline",className:"text-xs",children:["from ",o.team]})]},l))})]})]}),e.draftPicks.length>0&&r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Draft Picks:"}),r.jsx("div",{className:"space-y-1",children:e.draftPicks.map((o,l)=>r.jsxs("div",{className:"text-sm",children:[r.jsxs("span",{className:"font-medium",children:[o.season," Round ",o.round]}),r.jsxs("span",{className:"text-muted-foreground ml-2",children:["(Roster ",o.previous_owner_id,"  Roster ",o.owner_id,")"]})]},l))})]}),e.waiverBudget.length>0&&r.jsxs("div",{children:[r.jsxs("p",{className:"text-xs text-muted-foreground mb-1 flex items-center",children:[r.jsx(Rp,{className:"h-3 w-3 mr-1"}),"FAAB Transfers:"]}),r.jsx("div",{className:"space-y-1",children:e.waiverBudget.map((o,l)=>r.jsxs("div",{className:"text-sm",children:[r.jsxs("span",{className:"font-medium",children:["$",o.amount]}),r.jsxs("span",{className:"text-muted-foreground ml-2",children:["(Roster ",o.sender,"  Roster ",o.receiver,")"]})]},l))})]}),e.notes&&r.jsxs(r.Fragment,{children:[r.jsx(KC,{}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Notes:"}),r.jsx("p",{className:"text-sm italic text-muted-foreground",children:e.notes})]})]})]})})]})},wU=()=>{const{teamId:e}=y1(),{selectedSeason:t,currentSeasonConfig:n}=Dn(),[s,i]=h.useState("roster"),[a,o]=h.useState(null),[l,c]=h.useState([]),[u,d]=h.useState(!1),[f,m]=h.useState([]),[x,j]=h.useState(!1),[v,y]=h.useState(!0),[g,p]=h.useState(null),{toast:w}=An();h.useEffect(()=>{e&&n&&b(parseInt(e))},[e,n]),h.useEffect(()=>{s==="transactions"&&a&&l.length===0&&S()},[s,a]),h.useEffect(()=>{s==="schedule"&&a&&f.length===0&&T()},[s,a,t]),h.useEffect(()=>{f.length>0&&m([])},[t]);const b=async C=>{try{y(!0),p(null),console.log(`Fetching data for team ID: ${C}`);const k=await le.getTeams({filters:[{column:"id",operator:"eq",value:C}]});if(k.error||!k.data||k.data.length===0)throw new Error("Team not found");const L=k.data[0];console.log("Team data:",L);const I=await le.getTeamConferenceJunctions({filters:[{column:"team_id",operator:"eq",value:C}]});if(I.error||!I.data||I.data.length===0)throw new Error("Team conference mapping not found");const H=I.data[0],ae=H.roster_id;console.log("Junction data:",H,"Roster ID:",ae),console.log("All junctions for this team:",I.data);const Q=await le.getConferences({filters:[{column:"id",operator:"eq",value:H.conference_id}]});if(Q.error||!Q.data||Q.data.length===0)throw new Error("Conference not found");const z=Q.data[0];console.log("Conference data:",z),console.log(`Fetching Sleeper data for league ${z.league_id}, roster ${ae}`);const W=await Ye.getTeamRosterData(z.league_id,ae);o({...W,teamData:L,conferenceData:z}),console.log("Successfully loaded team roster data")}catch(k){console.error("Error fetching team data:",k);const L=k instanceof Error?k.message:"Failed to load team data";p(L),w({title:"Error",description:L,variant:"destructive"})}finally{y(!1)}},S=async()=>{if(a)try{d(!0),console.log(`Fetching transactions for team ${a.teamData.team_name} across all conferences`);const C=await le.getTeamConferenceJunctions({filters:[{column:"team_id",operator:"eq",value:a.teamData.id}]});if(C.error||!C.data||C.data.length===0)throw new Error("Team conference mappings not found");const k=C.data.map(G=>G.conference_id);console.log(`Team participates in conferences: ${k.join(", ")}`);const L=await le.getTransactions({filters:[{column:"conference_id",operator:"in",value:k}],orderBy:{column:"created_at",ascending:!1}});if(L.error||!L.data)throw new Error(L.error||"Failed to fetch transactions");const I=await le.getTeams({}),H=await le.getTeamConferenceJunctions({filters:[{column:"conference_id",operator:"in",value:k}]}),ae=await le.getAllPlayersForMapping(),Q=new Map;ae.forEach(G=>{G.sleeper_id&&Q.set(String(G.sleeper_id),G.player_name)});const W=(await Promise.all(L.data.map(async G=>{var rl,qs,Mn;let U={};try{U=typeof G.data=="string"?JSON.parse(G.data):G.data||{}}catch(we){console.warn("Failed to parse transaction data:",we)}const se=a.teamData.id,ce=G.conference_id,ue=U.roster_ids||[],ge=(rl=C.data)==null?void 0:rl.find(we=>we.team_id===se&&we.conference_id===ce);if(!ge||!ue.includes(ge.roster_id))return null;const fe=we=>{var Xt;const We=(Xt=H.data)==null?void 0:Xt.find(Ut=>Ut.roster_id.toString()===we.toString()&&Ut.conference_id===G.conference_id);if(We&&I.data){const Ut=I.data.find(Na=>Na.id===We.team_id);return(Ut==null?void 0:Ut.team_name)||"Unknown Team"}return"Unknown Team"},ye=[],Se=[],Ze=we=>{const We=String(we);return Q.get(We)||`Player ${We}`};if(U.adds)for(const[we,We]of Object.entries(U.adds)){const Xt=Ze(we),Ut=fe(We);ye.push({name:Xt,team:Ut})}if(U.drops)for(const[we,We]of Object.entries(U.drops)){const Xt=Ze(we),Ut=fe(We);Se.push({name:Xt,team:Ut})}let oe="";const _e=U.type||G.type,et=new Set;U.roster_ids&&U.roster_ids.forEach(we=>{const We=fe(we);We!=="Unknown Team"&&et.add(We)});const Ue=a.teamData.team_name,Qt=((Mn=(qs=(await le.getConferences({filters:[{column:"id",operator:"eq",value:G.conference_id}]})).data)==null?void 0:qs[0])==null?void 0:Mn.conference_name)||"Unknown Conference";switch(_e){case"trade":if(ye.length>0||Se.length>0){const we=[];ye.forEach(We=>we.push(`${We.name} to ${We.team}`)),Se.forEach(We=>we.push(`${We.name} from ${We.team}`)),et.size>1?oe=`[${Qt}] Trade between ${Array.from(et).join(" and ")}: ${we.join(", ")}`:oe=`[${Qt}] ${Ue} trade: ${we.join(", ")}`}else if(U.draft_picks&&U.draft_picks.length>0){const we=U.draft_picks.map(We=>`${We.season} Round ${We.round} pick`);oe=`[${Qt}] Trade involving ${we.join(", ")}`}else oe=`[${Qt}] Trade between ${Array.from(et).join(" and ")}`;break;case"waiver":ye.length>0&&Se.length>0?oe=`[${Qt}] ${Ue} claimed ${ye.map(we=>we.name).join(", ")} from waivers, dropped ${Se.map(we=>we.name).join(", ")}`:ye.length>0?oe=`[${Qt}] ${Ue} claimed ${ye.map(we=>we.name).join(", ")} from waivers`:Se.length>0?oe=`[${Qt}] ${Ue} dropped ${Se.map(we=>we.name).join(", ")} to waivers`:oe=`[${Qt}] ${Ue} made a waiver claim`;break;case"free_agent":ye.length>0&&Se.length>0?oe=`[${Qt}] ${Ue} added ${ye.map(we=>we.name).join(", ")}, dropped ${Se.map(we=>we.name).join(", ")}`:ye.length>0?oe=`[${Qt}] ${Ue} added ${ye.map(we=>we.name).join(", ")} from free agency`:Se.length>0?oe=`[${Qt}] ${Ue} dropped ${Se.map(we=>we.name).join(", ")}`:oe=`[${Qt}] ${Ue} made a free agent transaction`;break;default:oe=`[${Qt}] ${Ue} completed a ${_e||"transaction"}`}const ru=U.type==="trade"?"trade":U.type==="waiver"?"waiver":U.type==="free_agent"?"free_agent":"commissioner";return{id:G.id.toString(),type:ru,date:new Date(G.created_at||new Date),details:oe,teams:[Ue],players:{added:ye.map(we=>({id:"",name:we.name,team:we.team})),dropped:Se.map(we=>({id:"",name:we.name,team:we.team}))},week:U.leg||0,status:"completed",rosterIds:U.roster_ids||[],draftPicks:U.draft_picks||[],waiverBudget:U.waiver_budget||[]}}))).filter(G=>G!==null);c(W),console.log(`Loaded ${W.length} transactions for this team across all conferences`),w({title:"Transactions Loaded",description:`Found ${W.length} transactions for this team across all seasons`})}catch(C){console.error("Error fetching transactions:",C);const k=C instanceof Error?C.message:"Failed to load transactions";w({title:"Error Loading Transactions",description:k,variant:"destructive"})}finally{d(!1)}},T=async()=>{if(!(!a||!n))try{j(!0),console.log(`Fetching schedule for team ${a.teamData.team_name} for season ${t}`);const C=n.conferences.filter(U=>U.dbConferenceId);if(C.length===0){console.log("No conferences found for selected season"),m([]);return}const k=await le.getTeamConferenceJunctions({filters:[{column:"team_id",operator:"eq",value:a.teamData.id}]});if(k.error||!k.data)throw new Error("Failed to get team conference mappings");const L=C.map(U=>U.dbConferenceId),I=k.data.find(U=>L.includes(U.conference_id));if(!I){console.log(`Team not found in any conference for season ${t}`),m([]);return}const H=await le.getMatchups({filters:[{column:"conference_id",operator:"eq",value:I.conference_id}],orderBy:{column:"week",ascending:!0}});if(H.error||!H.data)throw new Error(H.error||"Failed to fetch matchups");const ae=H.data.filter(U=>U.team1_id===a.teamData.id||U.team2_id===a.teamData.id),Q=await le.getMatchupAdminOverrides({filters:[{column:"conference_id",operator:"eq",value:I.conference_id},{column:"is_active",operator:"eq",value:!0}]}),z=await le.getTeams({}),W=new Map;z.data&&z.data.forEach(U=>{W.set(U.id,U.team_name)});const G=ae.map(U=>{var et;const se=(et=Q.data)==null?void 0:et.find(Ue=>Ue.conference_id===U.conference_id&&Ue.week===parseInt(U.week)&&Ue.is_active);let ce,ue,ge=!1;if(se?(ce=se.override_team1_id,ue=se.override_team2_id,ge=!0):(ce=U.team1_id,ue=U.team2_id),ce!==a.teamData.id&&ue!==a.teamData.id)return null;const fe=ce===a.teamData.id,ye=fe?ue:ce,Se=W.get(ye)||"Unknown Team";let Ze="TBD",oe=null,_e=null;return U.team1_score!==null&&U.team2_score!==null&&(fe?(oe=U.team1_score,_e=U.team2_score):(oe=U.team2_score,_e=U.team1_score),oe>_e?Ze="W":oe<_e?Ze="L":Ze="T"),{week:U.week,opponent:Se,isHome:fe,result:Ze,teamScore:oe,opponentScore:_e,isPlayoff:U.is_playoff||!1,isOverridden:ge,overrideReason:(se==null?void 0:se.override_reason)||null,matchupStatus:U.matchup_status||"scheduled"}}).filter(U=>U!==null);m(G),console.log(`Loaded ${G.length} matchups for ${t} season`),w({title:"Schedule Loaded",description:`Found ${G.length} matchups for ${t} season`})}catch(C){console.error("Error fetching schedule:",C);const k=C instanceof Error?C.message:"Failed to load schedule";w({title:"Error Loading Schedule",description:k,variant:"destructive"})}finally{j(!1)}},N=C=>{switch(C){case"QB":return"bg-red-100 text-red-800";case"RB":return"bg-green-100 text-green-800";case"WR":return"bg-blue-100 text-blue-800";case"TE":return"bg-yellow-100 text-yellow-800";case"K":return"bg-purple-100 text-purple-800";case"DEF":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},E=C=>{switch(C){case"FLEX":return"bg-orange-100 text-orange-800";case"SUPER_FLEX":return"bg-pink-100 text-pink-800";default:return"bg-slate-100 text-slate-800"}},P=C=>{if(!C||C==="Active")return null;const k={IR:"destructive",Out:"destructive",Doubtful:"destructive",Questionable:"secondary",Probable:"outline"};return r.jsx(ee,{variant:k[C]||"outline",className:"text-xs",children:C})};if(v)return r.jsx("div",{className:"flex items-center justify-center min-h-64",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Nt,{className:"h-6 w-6 animate-spin"}),r.jsx("span",{children:"Loading team data..."})]})});if(g||!a)return r.jsxs("div",{className:"space-y-6",children:[r.jsx(Pt,{to:"/teams",children:r.jsxs(J,{variant:"ghost",className:"mb-4",children:[r.jsx(Ol,{className:"mr-2 h-4 w-4"}),"Back to Teams"]})}),r.jsx(Y,{children:r.jsx(X,{className:"flex items-center justify-center min-h-64",children:r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx(Oe,{className:"h-12 w-12 text-destructive mx-auto"}),r.jsx("h3",{className:"text-lg font-semibold",children:"Error Loading Team"}),r.jsx("p",{className:"text-muted-foreground",children:g||"Team data not available"}),r.jsx(J,{onClick:()=>e&&b(parseInt(e)),children:"Try Again"})]})})})]});const{roster:D,organizedRoster:R,allPlayers:M,teamData:$,conferenceData:O}=a,K=Ye.formatPoints(D.settings.fpts,D.settings.fpts_decimal),F=Ye.formatPoints(D.settings.fpts_against,D.settings.fpts_against_decimal),V=D.settings.wins+D.settings.losses+D.settings.ties,A=Ye.calculatePointsPerGame(K,V),_=V>0?D.settings.wins/V*100:0;return r.jsxs("div",{className:"space-y-6",children:[r.jsx(Pt,{to:"/teams",children:r.jsxs(J,{variant:"ghost",className:"mb-4",children:[r.jsx(Ol,{className:"mr-2 h-4 w-4"}),"Back to Teams"]})}),r.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between space-y-4 md:space-y-0",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs(gv,{className:"h-16 w-16",children:[r.jsx(xv,{src:$.team_logo_url||void 0}),r.jsx(vv,{className:"bg-primary/10 text-lg",style:{backgroundColor:$.team_primary_color+"20"},children:$.team_name.split(" ").map(C=>C[0]).join("").toUpperCase()})]}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:$.team_name}),r.jsxs("p",{className:"text-muted-foreground",children:["Owned by ",$.owner_name]}),$.co_owner_name&&r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Co-owner: ",$.co_owner_name]}),r.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[r.jsx(ee,{variant:"outline",children:O.conference_name}),r.jsxs(ee,{variant:"secondary",children:["Roster #",D.roster_id]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"text-2xl font-bold",children:[D.settings.wins,"-",D.settings.losses]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Record"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:K.toFixed(1)}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Points For"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:A.toFixed(1)}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg/Game"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[_.toFixed(1),"%"]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Win %"})]})]})]}),r.jsxs($i,{value:s,onValueChange:i,className:"w-full",children:[r.jsxs(Ir,{className:"grid w-full grid-cols-4",children:[r.jsx(He,{value:"roster",children:"Roster"}),r.jsx(He,{value:"performance",children:"Performance"}),r.jsx(He,{value:"transactions",children:"Transactions"}),r.jsx(He,{value:"schedule",children:"Schedule"})]}),r.jsxs(qe,{value:"roster",className:"space-y-4",children:[r.jsxs(Y,{children:[r.jsxs(ne,{children:[r.jsxs(ie,{className:"flex items-center space-x-2",children:[r.jsx(mN,{className:"h-5 w-5"}),r.jsx("span",{children:"Starting Lineup"})]}),r.jsx(je,{children:"Current starting players for this roster"})]}),r.jsx(X,{children:r.jsx("div",{className:"rounded-md border",children:r.jsxs(mn,{children:[r.jsx(pn,{children:r.jsxs(Pe,{children:[r.jsx(re,{children:"Position"}),r.jsx(re,{children:"Player"}),r.jsx(re,{children:"NFL Team"}),r.jsx(re,{children:"Status"})]})}),r.jsx(gn,{children:R.starters.map((C,k)=>{const L=M[C.playerId];return r.jsxs(Pe,{children:[r.jsx(te,{children:r.jsx(ee,{className:E(C.slotPosition),children:C.slotPosition})}),r.jsx(te,{children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"font-medium",children:L?Ye.getPlayerName(L):"Unknown Player"}),L&&r.jsx(ee,{className:N(L.position),children:L.position})]})}),r.jsx(te,{children:(L==null?void 0:L.team)||"N/A"}),r.jsx(te,{children:P(L==null?void 0:L.injury_status)})]},`starter-${k}`)})})]})})})]}),r.jsxs(Y,{children:[r.jsxs(ne,{children:[r.jsxs(ie,{className:"flex items-center space-x-2",children:[r.jsx(Yt,{className:"h-5 w-5"}),r.jsxs("span",{children:["Bench (",R.bench.length,")"]})]}),r.jsx(je,{children:"Players available as substitutes"})]}),r.jsx(X,{children:r.jsx("div",{className:"rounded-md border",children:r.jsxs(mn,{children:[r.jsx(pn,{children:r.jsxs(Pe,{children:[r.jsx(re,{children:"Player"}),r.jsx(re,{children:"Position"}),r.jsx(re,{children:"NFL Team"}),r.jsx(re,{children:"Status"})]})}),r.jsxs(gn,{children:[R.bench.map(C=>{const k=M[C];return r.jsxs(Pe,{children:[r.jsx(te,{className:"font-medium",children:k?Ye.getPlayerName(k):"Unknown Player"}),r.jsx(te,{children:k&&r.jsx(ee,{className:N(k.position),children:k.position})}),r.jsx(te,{children:(k==null?void 0:k.team)||"N/A"}),r.jsx(te,{children:P(k==null?void 0:k.injury_status)})]},`bench-${C}`)}),R.bench.length===0&&r.jsx(Pe,{children:r.jsx(te,{colSpan:4,className:"text-center text-muted-foreground py-4",children:"No bench players"})})]})]})})})]}),R.ir.length>0&&r.jsxs(Y,{children:[r.jsxs(ne,{children:[r.jsxs(ie,{className:"flex items-center space-x-2",children:[r.jsx(Oe,{className:"h-5 w-5"}),r.jsxs("span",{children:["Injured Reserve (",R.ir.length,")"]})]}),r.jsx(je,{children:"Players on injured reserve"})]}),r.jsx(X,{children:r.jsx("div",{className:"rounded-md border",children:r.jsxs(mn,{children:[r.jsx(pn,{children:r.jsxs(Pe,{children:[r.jsx(re,{children:"Player"}),r.jsx(re,{children:"Position"}),r.jsx(re,{children:"NFL Team"}),r.jsx(re,{children:"Status"})]})}),r.jsx(gn,{children:R.ir.map(C=>{const k=M[C];return r.jsxs(Pe,{children:[r.jsx(te,{className:"font-medium",children:k?Ye.getPlayerName(k):"Unknown Player"}),r.jsx(te,{children:k&&r.jsx(ee,{className:N(k.position),children:k.position})}),r.jsx(te,{children:(k==null?void 0:k.team)||"N/A"}),r.jsx(te,{children:r.jsx(ee,{variant:"destructive",className:"text-xs",children:"IR"})})]},`ir-${C}`)})})]})})})]})]}),r.jsx(qe,{value:"performance",className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs(Y,{children:[r.jsx(ne,{children:r.jsxs(ie,{className:"flex items-center space-x-2",children:[r.jsx(Kt,{className:"h-5 w-5"}),r.jsx("span",{children:"Season Stats"})]})}),r.jsx(X,{className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Points For"}),r.jsx("p",{className:"text-2xl font-bold",children:K.toFixed(1)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Points Against"}),r.jsx("p",{className:"text-2xl font-bold",children:F.toFixed(1)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Point Differential"}),r.jsxs("p",{className:`text-2xl font-bold ${K-F>0?"text-green-600":"text-red-600"}`,children:[K-F>0?"+":"",(K-F).toFixed(1)]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Win Percentage"}),r.jsxs("p",{className:"text-2xl font-bold",children:[_.toFixed(1),"%"]})]})]})})]}),r.jsxs(Y,{children:[r.jsx(ne,{children:r.jsxs(ie,{className:"flex items-center space-x-2",children:[r.jsx(Do,{className:"h-5 w-5"}),r.jsx("span",{children:"Team Management"})]})}),r.jsx(X,{className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Waiver Position"}),r.jsx("p",{className:"text-2xl font-bold",children:D.settings.waiver_position})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Waiver Budget Used"}),r.jsxs("p",{className:"text-2xl font-bold",children:["$",D.settings.waiver_budget_used]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Moves"}),r.jsx("p",{className:"text-2xl font-bold",children:D.settings.total_moves})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Games Played"}),r.jsx("p",{className:"text-2xl font-bold",children:V})]})]})})]})]})}),r.jsxs(qe,{value:"transactions",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Transaction History"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"All trades, waivers, and roster moves for this team across all seasons"})]}),r.jsx(J,{onClick:S,disabled:u,variant:"outline",size:"sm",children:u?r.jsxs(r.Fragment,{children:[r.jsx(Nt,{className:"h-4 w-4 mr-2 animate-spin"}),"Loading..."]}):r.jsxs(r.Fragment,{children:[r.jsx(nt,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]}),u&&l.length===0?r.jsx(Y,{children:r.jsx(X,{className:"flex items-center justify-center min-h-32",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Nt,{className:"h-6 w-6 animate-spin"}),r.jsx("span",{children:"Loading transactions..."})]})})}):l.length===0?r.jsx(Y,{children:r.jsx(X,{className:"flex items-center justify-center min-h-32",children:r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx(Qn,{className:"h-12 w-12 text-muted-foreground mx-auto"}),r.jsx("h3",{className:"text-lg font-semibold",children:"No Transactions Found"}),r.jsx("p",{className:"text-muted-foreground",children:"This team hasn't made any trades, waiver claims, or free agent pickups this season."}),r.jsx("div",{className:"mt-4",children:r.jsxs(ee,{variant:"secondary",children:["Total moves: ",D.settings.total_moves]})})]})})}):r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",l.length," transaction",l.length!==1?"s":""]}),r.jsxs(ee,{variant:"secondary",children:["Total moves: ",D.settings.total_moves]})]}),r.jsx("div",{className:"space-y-3",children:l.map(C=>r.jsx(GC,{transaction:C},C.id))})]})]}),r.jsxs(qe,{value:"schedule",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Season Schedule"}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Complete schedule and results for ",t," season"]})]}),r.jsx(J,{onClick:T,disabled:x,variant:"outline",size:"sm",children:x?r.jsxs(r.Fragment,{children:[r.jsx(Nt,{className:"h-4 w-4 mr-2 animate-spin"}),"Loading..."]}):r.jsxs(r.Fragment,{children:[r.jsx(nt,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]}),x&&f.length===0?r.jsx(Y,{children:r.jsx(X,{className:"flex items-center justify-center min-h-32",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Nt,{className:"h-6 w-6 animate-spin"}),r.jsx("span",{children:"Loading schedule..."})]})})}):f.length===0?r.jsx(Y,{children:r.jsx(X,{className:"flex items-center justify-center min-h-32",children:r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx(Qn,{className:"h-12 w-12 text-muted-foreground mx-auto"}),r.jsx("h3",{className:"text-lg font-semibold",children:"No Schedule Found"}),r.jsxs("p",{className:"text-muted-foreground",children:["No matchups found for this team in the ",t," season."]})]})})}):r.jsxs("div",{className:"space-y-4",children:[r.jsxs(Y,{children:[r.jsx(ne,{children:r.jsxs(ie,{className:"flex items-center space-x-2",children:[r.jsx(Qn,{className:"h-5 w-5"}),r.jsxs("span",{children:[t," Season Schedule"]})]})}),r.jsx(X,{children:r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:f.filter(C=>C.result==="W").length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Wins"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:f.filter(C=>C.result==="L").length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Losses"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:f.filter(C=>C.result==="T").length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Ties"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:f.filter(C=>C.result==="TBD").length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Remaining"})]})]})})]}),r.jsxs(Y,{children:[r.jsxs(ne,{children:[r.jsx(ie,{children:"Matchup Results"}),r.jsx(je,{children:"Week-by-week schedule and results"})]}),r.jsx(X,{children:r.jsx("div",{className:"rounded-md border",children:r.jsxs(mn,{children:[r.jsx(pn,{children:r.jsxs(Pe,{children:[r.jsx(re,{className:"w-16",children:"Week"}),r.jsx(re,{children:"Opponent"}),r.jsx(re,{className:"w-16",children:"@/vs"}),r.jsx(re,{className:"w-20",children:"Result"}),r.jsx(re,{className:"w-24",children:"Score"}),r.jsx(re,{className:"w-16",children:"Status"})]})}),r.jsx(gn,{children:f.map((C,k)=>r.jsxs(Pe,{children:[r.jsxs(te,{className:"font-medium",children:[C.week,C.isPlayoff&&r.jsx(ee,{variant:"destructive",className:"ml-1 text-xs",children:"PO"})]}),r.jsx(te,{children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{children:C.opponent}),C.isOverridden&&r.jsx(ee,{variant:"outline",className:"text-xs",children:"Override"})]})}),r.jsx(te,{className:"text-center",children:C.isHome?"vs":"@"}),r.jsx(te,{children:r.jsx(ee,{variant:C.result==="W"?"default":C.result==="L"?"destructive":C.result==="T"?"secondary":"outline",className:"w-8 justify-center",children:C.result})}),r.jsx(te,{children:C.teamScore!==null&&C.opponentScore!==null?r.jsxs("div",{className:"text-sm",children:[r.jsx("span",{className:C.result==="W"?"font-bold":"",children:C.teamScore}),r.jsx("span",{className:"text-muted-foreground mx-1",children:"-"}),r.jsx("span",{className:C.result==="L"?"font-bold":"",children:C.opponentScore})]}):r.jsx("span",{className:"text-muted-foreground",children:"-"})}),r.jsx(te,{children:r.jsx(ee,{variant:"outline",className:"text-xs",children:C.matchupStatus})})]},`matchup-${k}`))})]})})})]})]})]})]})]})};async function jU(e={},t=1,n=25){try{const{data:{session:s},error:i}=await Cn.auth.getSession();if(i)throw console.error("Session error:",i),new Error(`Authentication error: ${i.message}`);console.log("Fetching players directly from database...");let a=Cn.from("players_with_roster_status").select(`
        id,
        player_name,
        position,
        nfl_team,
        sleeper_id,
        injury_status,
        total_points,
        avg_points,
        is_rostered,
        rostered_by_teams,
        playing_status
      `,{count:"exact"});e.search&&(a=a.or(`player_name.ilike.%${e.search}%,nfl_team.ilike.%${e.search}%`)),e.position&&e.position!=="all"&&(a=a.eq("position",e.position)),e.is_rostered!==""&&(a=a.eq("is_rostered",e.is_rostered));const o=(t-1)*n,l=o+n-1;a=a.range(o,l).order("total_points",{ascending:!1});const{data:c,error:u,count:d}=await a;if(u)throw console.error("Database query error:",u),new Error(`Database error: ${u.message}`);return console.log(` Fetched ${(c==null?void 0:c.length)||0} players (total: ${d})`),{data:c||[],count:d||0}}catch(s){throw console.error("fetchPlayersFromApi error:",s),s}}const bU=()=>{const{selectedSeason:e,selectedConference:t,currentSeasonConfig:n}=Dn(),{toast:s}=An(),[i,a]=h.useState([]),[o,l]=h.useState(0),[c,u]=h.useState(1),d=50,[f,m]=h.useState(!0),[x,j]=h.useState(null),[v,y]=h.useState(""),[g,p]=h.useState("all"),[w,b]=h.useState("all"),[S,T]=h.useState(new Map),[N,E]=h.useState("all-players"),P=["QB","RB","WR","TE"];h.useEffect(()=>{(async()=>{try{const{data:O,error:K}=await Cn.from("teams").select("id, team_name");if(K){console.error("Error loading teams:",K);return}const F=new Map;(O||[]).forEach(V=>{F.set(V.id,V.team_name)}),T(F)}catch(O){console.error("Error setting up team lookup:",O)}})()},[]),h.useEffect(()=>{(async()=>{m(!0),j(null);try{const O={search:v,position:g,is_rostered:w==="rostered"?!0:w==="free_agent"?!1:""},{data:K,count:F}=await jU(O,c,d);a(K||[]),l(F||0),s({title:"Players Loaded",description:`Found ${F||0} players for ${e} season`})}catch(O){const K=O instanceof Error?O.message:"Failed to fetch players";j(K),s({title:"Error",description:K,variant:"destructive"})}finally{m(!1)}})()},[v,g,w,c,e,t]);const D=$=>{switch($){case"QB":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"RB":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"WR":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"TE":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},R=($,O)=>{if(O){const K={IR:"destructive",O:"destructive",D:"destructive",Q:"secondary",P:"outline"};return r.jsx(ee,{variant:K[O]||"outline",className:"text-xs",children:O})}return $?r.jsx(ee,{variant:"default",className:"text-xs",children:"Rostered"}):r.jsx(ee,{variant:"outline",className:"text-xs",children:"FA"})},M=$=>!$||$.length===0?null:r.jsx("div",{className:"flex flex-col gap-1",children:$.map(O=>{const K=S.get(O)||`Team ${O}`;return r.jsx(Pt,{to:`/teams/${O}`,children:r.jsx(ee,{variant:"outline",className:"text-xs hover:bg-primary hover:text-primary-foreground cursor-pointer transition-colors",children:K})},O)})});return f&&i.length===0?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Nt,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Loading Players"}),r.jsx("p",{className:"text-muted-foreground",children:"Fetching player data..."})]})}):x&&i.length===0?r.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:r.jsxs(Y,{className:"w-full max-w-md",children:[r.jsx(ne,{children:r.jsx(ie,{className:"flex items-center gap-2 text-destructive",children:"Error Loading Players"})}),r.jsxs(X,{className:"space-y-4",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:x}),r.jsx(J,{onClick:()=>window.location.reload(),className:"w-full",children:"Retry"})]})]})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(uo,{className:"h-6 w-6 text-primary"}),r.jsx("h1",{className:"text-3xl font-bold",children:"Players"})]}),r.jsxs("p",{className:"text-muted-foreground",children:[e," Season  ",o," players"]})]}),r.jsxs($i,{value:N,onValueChange:E,className:"w-full",children:[r.jsxs(Ir,{className:"grid w-full grid-cols-2",children:[r.jsxs(He,{value:"all-players",className:"flex items-center gap-2",children:[r.jsx(uo,{className:"h-4 w-4"}),"All Players"]}),r.jsxs(He,{value:"trending",className:"flex items-center gap-2",children:[r.jsx(Do,{className:"h-4 w-4"}),"Trending Players"]})]}),r.jsxs(qe,{value:"all-players",className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Mx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(fn,{placeholder:"Search players...",value:v,onChange:$=>{y($.target.value),u(1)},className:"pl-10"})]}),r.jsxs(At,{value:g,onValueChange:$=>{p($),u(1)},children:[r.jsx(Et,{children:r.jsx(Dt,{placeholder:"All Positions"})}),r.jsxs(Ct,{children:[r.jsx(Me,{value:"all",children:"All Positions"}),P.map($=>r.jsx(Me,{value:$,children:$},$))]})]}),r.jsxs(At,{value:w,onValueChange:$=>{b($),u(1)},children:[r.jsx(Et,{children:r.jsx(Dt,{placeholder:"All Status"})}),r.jsxs(Ct,{children:[r.jsx(Me,{value:"all",children:"All Status"}),r.jsx(Me,{value:"rostered",children:"Rostered"}),r.jsx(Me,{value:"free_agent",children:"Free Agent"})]})]})]}),r.jsx(Y,{children:r.jsxs(X,{className:"pt-6",children:[r.jsx("div",{className:"rounded-md border",children:r.jsxs(mn,{children:[r.jsx(pn,{children:r.jsxs(Pe,{children:[r.jsx(re,{children:"Player"}),r.jsx(re,{children:"Pos"}),r.jsx(re,{className:"hidden sm:table-cell",children:"NFL Team"}),r.jsx(re,{className:"text-right",children:"Points"}),r.jsx(re,{className:"text-right hidden md:table-cell",children:"Avg"}),r.jsx(re,{children:"Status"}),r.jsx(re,{className:"hidden lg:table-cell",children:"Rostered By"}),r.jsx(re,{className:"w-10"})]})}),r.jsx(gn,{children:f?r.jsx(Pe,{children:r.jsx(te,{colSpan:8,className:"text-center py-8",children:r.jsx(Nt,{className:"h-6 w-6 animate-spin mx-auto"})})}):i.length===0?r.jsx(Pe,{children:r.jsx(te,{colSpan:8,className:"text-center py-8",children:"No players found."})}):i.map($=>r.jsxs(Pe,{children:[r.jsx(te,{children:r.jsx("div",{className:"font-medium",children:$.player_name})}),r.jsx(te,{children:r.jsx(ee,{className:D($.position),children:$.position})}),r.jsx(te,{className:"hidden sm:table-cell",children:$.nfl_team||"FA"}),r.jsx(te,{className:"text-right font-mono",children:$.total_points.toFixed(1)}),r.jsx(te,{className:"text-right font-mono hidden md:table-cell",children:$.avg_points.toFixed(1)}),r.jsx(te,{children:R($.is_rostered,$.injury_status)}),r.jsx(te,{className:"hidden lg:table-cell",children:M($.rostered_by_teams)}),r.jsx(te,{children:r.jsx(Pt,{to:`/players/${$.sleeper_id}`,children:r.jsx(J,{variant:"ghost",size:"sm",children:r.jsx(zc,{className:"h-4 w-4"})})})})]},$.id))})]})}),r.jsxs("div",{className:"flex items-center justify-between space-x-2 py-4",children:[r.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",Math.min((c-1)*d+1,o)," to ",Math.min(c*d,o)," of ",o," players"]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(J,{variant:"outline",size:"sm",onClick:()=>u($=>Math.max(1,$-1)),disabled:c===1,children:"Previous"}),r.jsxs("span",{className:"text-sm",children:["Page ",c," of ",Math.ceil(o/d)]}),r.jsx(J,{variant:"outline",size:"sm",onClick:()=>u($=>$+1),disabled:c*d>=o,children:"Next"})]})]})]})})]}),r.jsx(qe,{value:"trending",className:"space-y-6",children:r.jsxs(Y,{children:[r.jsxs(ne,{children:[r.jsxs(ie,{className:"flex items-center gap-2",children:[r.jsx(Do,{className:"h-5 w-5"}),"Trending Players (Last 24 Hours)"]}),r.jsx(je,{children:"Most added players across all Sleeper leagues in the past 24 hours"})]}),r.jsx(X,{className:"flex justify-center",children:r.jsx("iframe",{src:"https://sleeper.app/embed/players/nfl/trending/add?lookback_hours=24&limit=25",width:"350",height:"500",allowTransparency:!0,frameBorder:"0",className:"rounded-lg border",title:"Trending Players"})})]})})]})]})};var wv="Progress",jv=100,[_U,rH]=ns(wv),[SU,NU]=_U(wv),YC=h.forwardRef((e,t)=>{const{__scopeProgress:n,value:s=null,max:i,getValueLabel:a=EU,...o}=e;(i||i===0)&&!M0(i)&&console.error(CU(`${i}`,"Progress"));const l=M0(i)?i:jv;s!==null&&!I0(s,l)&&console.error(TU(`${s}`,"Progress"));const c=I0(s,l)?s:null,u=Yd(c)?a(c,l):void 0;return r.jsx(SU,{scope:n,value:c,max:l,children:r.jsx(ve.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Yd(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":JC(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});YC.displayName=wv;var QC="ProgressIndicator",XC=h.forwardRef((e,t)=>{const{__scopeProgress:n,...s}=e,i=NU(QC,n);return r.jsx(ve.div,{"data-state":JC(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...s,ref:t})});XC.displayName=QC;function EU(e,t){return`${Math.round(e/t*100)}%`}function JC(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Yd(e){return typeof e=="number"}function M0(e){return Yd(e)&&!isNaN(e)&&e>0}function I0(e,t){return Yd(e)&&!isNaN(e)&&e<=t&&e>=0}function CU(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${jv}\`.`}function TU(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${jv} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var ZC=YC,kU=XC;const tr=h.forwardRef(({className:e,value:t,...n},s)=>r.jsx(ZC,{ref:s,className:pe("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",e),...n,children:r.jsx(kU,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));tr.displayName=ZC.displayName;const PU=()=>{const{playerId:e}=y1(),{selectedSeason:t,selectedConference:n,currentSeasonConfig:s}=Dn(),{toast:i}=An(),[a,o]=h.useState("overview"),[l,c]=h.useState(null),[u,d]=h.useState(!0),[f,m]=h.useState(null),x=async()=>{if(!(!e||!s))try{d(!0),m(null),console.log("Fetching player detail for ID:",e);const g=await le.getPlayers({filters:[{column:"sleeper_id",operator:"eq",value:e},{column:"playing_status",operator:"eq",value:"Active"},{column:"position",operator:"in",value:["QB","RB","WR","TE"]}]});if(g.error||!g.data||g.data.length===0)throw new Error("Player not found or not active");const p=g.data[0];console.log("Found player:",p);let w=s.conferences;n&&n!=="all"&&(w=s.conferences.filter(F=>F.id===n));const b=w.filter(F=>F.dbConferenceId).map(F=>F.dbConferenceId);if(b.length===0)throw new Error("No valid conference IDs found");const S=await le.getTeamConferenceJunctions({filters:[{column:"conference_id",operator:"in",value:b}]});if(S.error||!S.data)throw new Error("Failed to fetch team mappings");const T=[...new Set(S.data.map(F=>F.team_id))],N=await le.getTeams({filters:[{column:"id",operator:"in",value:T}]});if(N.error||!N.data)throw new Error("Failed to fetch teams");const E=await Promise.all(w.map(async F=>{try{if(!F.leagueId)return console.warn(`No league ID for conference ${F.name}`),{conference:F,rosters:[]};const V=await Ye.fetchLeagueRosters(F.leagueId);return{conference:F,rosters:V}}catch(V){return console.warn(`Failed to fetch rosters for conference ${F.name}:`,V),{conference:F,rosters:[]}}})),P=[];E.forEach(({conference:F,rosters:V})=>{V.forEach(A=>{var _,C;if(A.players&&A.players.includes(e)){const k=(_=S.data)==null?void 0:_.find(L=>L.conference_id===F.dbConferenceId&&L.roster_id===A.roster_id);if(k){const L=(C=N.data)==null?void 0:C.find(I=>I.id===k.team_id);L&&P.push({conference_id:F.dbConferenceId,conference_name:F.name,team_id:L.id,team_name:L.team_name,owner_name:L.owner_name,roster_id:A.roster_id,league_id:F.leagueId})}}})});const D=[],R=j(),M=[...new Set(P.map(F=>F.league_id))];for(const F of M){const V=P.find(A=>A.league_id===F);if(V)for(let A=1;A<=Math.min(R,17);A++)try{const C=(await Ye.fetchMatchups(F,A)).find(k=>k.players&&k.players.includes(e));if(C&&C.players_points){const k=C.players_points[e]||0;D.push({week:A,points:k,league_id:F,conference_name:V.conference_name})}}catch(_){console.warn(`Failed to fetch matchup data for league ${F}, week ${A}:`,_)}}const $={totalPoints:D.reduce((F,V)=>F+V.points,0),gamesPlayed:D.length,bestGame:D.length>0?Math.max(...D.map(F=>F.points)):0,worstGame:D.length>0?Math.min(...D.map(F=>F.points)):0,avgPoints:0,consistency:0,weeklyPerformance:D};if($.avgPoints=$.gamesPlayed>0?$.totalPoints/$.gamesPlayed:0,$.gamesPlayed>1){const F=$.avgPoints,V=D.reduce((C,k)=>C+Math.pow(k.points-F,2),0)/$.gamesPlayed,A=Math.sqrt(V),_=F>0?A/F:0;$.consistency=Math.max(0,100-_*100)}let O;P.length===0?O="free_agent":P.length===1?O="rostered":O="multi_rostered";const K={id:p.id,sleeper_id:p.sleeper_id,player_name:p.player_name,position:p.position,nfl_team:p.nfl_team||"FA",number:p.number||0,age:p.age||0,height:p.height||0,weight:p.weight||0,college:p.college||"Unknown",playing_status:p.playing_status||"Active",injury_status:p.injury_status,depth_chart:p.depth_chart||1,rostered_by:P,availability_status:O,season_stats:$};c(K),console.log("Loaded player detail:",K),i({title:"Player Loaded",description:`Found ${K.player_name} with ${$.gamesPlayed} games of data`})}catch(g){console.error("Error fetching player data:",g);const p=g instanceof Error?g.message:"Failed to fetch player data";m(p),i({title:"Error Loading Player",description:p,variant:"destructive"})}finally{d(!1)}};h.useEffect(()=>{e&&s&&x()},[e,t,n,s]);const j=()=>{const g=new Date,p=new Date(g.getFullYear(),8,1),w=Math.floor((g.getTime()-p.getTime())/(7*24*60*60*1e3));return Math.min(Math.max(w+1,1),17)},v=g=>{switch(g){case"QB":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"RB":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"WR":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"TE":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},y=g=>{if(!g||g==="Healthy")return null;const p={IR:"destructive",Out:"destructive",Doubtful:"destructive",Questionable:"secondary",Probable:"secondary",Q:"secondary",D:"destructive",O:"destructive"};return r.jsx(ee,{variant:p[g]||"outline",children:g})};return u?r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Nt,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Loading player data..."})]})}):f?r.jsxs("div",{className:"space-y-6",children:[r.jsx(Pt,{to:"/players",children:r.jsxs(J,{variant:"ghost",className:"mb-4",children:[r.jsx(Ol,{className:"mr-2 h-4 w-4"}),"Back to Players"]})}),r.jsxs(Ve,{variant:"destructive",children:[r.jsx(Oe,{className:"h-4 w-4"}),r.jsx(ze,{children:f})]}),r.jsx("div",{className:"text-center",children:r.jsxs(J,{onClick:x,variant:"outline",children:[r.jsx(nt,{className:"mr-2 h-4 w-4"}),"Try Again"]})})]}):l?r.jsxs("div",{className:"space-y-6",children:[r.jsx(Pt,{to:"/players",children:r.jsxs(J,{variant:"ghost",className:"mb-4",children:[r.jsx(Ol,{className:"mr-2 h-4 w-4"}),"Back to Players"]})}),r.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between space-y-4 md:space-y-0",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"h-16 w-16 bg-primary/10 rounded-full flex items-center justify-center",children:r.jsx(w$,{className:"h-8 w-8 text-primary"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:l.player_name}),r.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[r.jsx(ee,{className:v(l.position),children:l.position}),r.jsxs(ee,{variant:"outline",children:[l.nfl_team," #",l.number]}),y(l.injury_status)]}),r.jsxs("p",{className:"text-muted-foreground mt-1",children:[l.age," years old  ",l.height,'"", ',l.weight," lbs  ",l.college]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:l.season_stats.totalPoints.toFixed(1)}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Points"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:l.season_stats.avgPoints.toFixed(1)}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg/Game"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:l.season_stats.bestGame.toFixed(1)}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Best Game"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"text-2xl font-bold",children:[l.season_stats.consistency.toFixed(0),"%"]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Consistency"})]})]})]}),l.rostered_by.length>0&&r.jsx(Y,{children:r.jsx(X,{className:"pt-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Currently rostered by:"}),l.rostered_by.map((g,p)=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("p",{className:"font-semibold",children:g.team_name}),r.jsx("span",{className:"text-muted-foreground",children:""}),r.jsx("p",{className:"text-muted-foreground",children:g.owner_name})]}),l.rostered_by.length>1&&r.jsx("p",{className:"text-sm text-blue-600",children:g.conference_name})]}),r.jsx(Pt,{to:`/teams/${g.team_id}`,children:r.jsx(J,{variant:"outline",size:"sm",children:"View Team"})})]},p))]})})}),r.jsxs($i,{value:a,onValueChange:o,className:"w-full",children:[r.jsxs(Ir,{className:"grid w-full grid-cols-3",children:[r.jsx(He,{value:"overview",children:"Overview"}),r.jsx(He,{value:"performance",children:"Performance"}),r.jsx(He,{value:"details",children:"Details"})]}),r.jsx(qe,{value:"overview",className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs(Y,{children:[r.jsx(ne,{children:r.jsxs(ie,{className:"flex items-center space-x-2",children:[r.jsx(Kt,{className:"h-5 w-5"}),r.jsx("span",{children:"Season Summary"})]})}),r.jsxs(X,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Fantasy Points"}),r.jsx("p",{className:"text-2xl font-bold",children:l.season_stats.totalPoints.toFixed(1)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Games Played"}),r.jsx("p",{className:"text-2xl font-bold",children:l.season_stats.gamesPlayed})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Best Game"}),r.jsx("p",{className:"text-2xl font-bold",children:l.season_stats.bestGame.toFixed(1)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Consistency"}),r.jsxs("p",{className:"text-2xl font-bold",children:[l.season_stats.consistency.toFixed(0),"%"]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:"Availability Status"}),r.jsx("span",{className:"capitalize",children:l.availability_status.replace("_"," ")})]}),r.jsx(tr,{value:l.availability_status==="multi_rostered"?100:l.availability_status==="rostered"?75:25,className:"h-2"})]})]})]}),r.jsxs(Y,{children:[r.jsx(ne,{children:r.jsx(ie,{children:"Player Info"})}),r.jsx(X,{className:"space-y-3",children:r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"Position"}),r.jsx("p",{className:"font-medium",children:l.position})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"NFL Team"}),r.jsx("p",{className:"font-medium",children:l.nfl_team})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"Number"}),r.jsxs("p",{className:"font-medium",children:["#",l.number]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"Depth Chart"}),r.jsx("p",{className:"font-medium",children:l.depth_chart})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"Height"}),r.jsxs("p",{className:"font-medium",children:[l.height,'""']})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"Weight"}),r.jsxs("p",{className:"font-medium",children:[l.weight," lbs"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"College"}),r.jsx("p",{className:"font-medium",children:l.college})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"Age"}),r.jsx("p",{className:"font-medium",children:l.age})]})]})})]})]})}),r.jsx(qe,{value:"performance",className:"space-y-4",children:r.jsxs(Y,{children:[r.jsxs(ne,{children:[r.jsxs(ie,{className:"flex items-center space-x-2",children:[r.jsx(Do,{className:"h-5 w-5"}),r.jsx("span",{children:"Weekly Performance"})]}),r.jsx(je,{children:"Fantasy points by week across all leagues"})]}),r.jsx(X,{children:l.season_stats.weeklyPerformance.length>0?r.jsx("div",{className:"rounded-md border",children:r.jsxs(mn,{children:[r.jsx(pn,{children:r.jsxs(Pe,{children:[r.jsx(re,{children:"Week"}),r.jsx(re,{children:"Conference"}),r.jsx(re,{className:"text-right",children:"Points"})]})}),r.jsx(gn,{children:l.season_stats.weeklyPerformance.sort((g,p)=>p.week-g.week).slice(0,10).map((g,p)=>r.jsxs(Pe,{children:[r.jsxs(te,{className:"font-medium",children:["Week ",g.week]}),r.jsx(te,{children:g.conference_name}),r.jsx(te,{className:"text-right font-mono",children:g.points.toFixed(1)})]},p))})]})}):r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-muted-foreground",children:"No performance data available"})})})]})}),r.jsxs(qe,{value:"details",className:"space-y-4",children:[r.jsxs(Y,{children:[r.jsxs(ne,{children:[r.jsx(ie,{children:"Roster Information"}),r.jsx(je,{children:"Current roster status across all conferences"})]}),r.jsx(X,{children:l.rostered_by.length>0?r.jsx("div",{className:"space-y-4",children:l.rostered_by.map((g,p)=>r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"font-semibold",children:g.team_name}),r.jsx(ee,{variant:"outline",children:g.conference_name})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"Owner"}),r.jsx("p",{className:"font-medium",children:g.owner_name})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"Roster ID"}),r.jsx("p",{className:"font-medium",children:g.roster_id})]})]})]},p))}):r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-muted-foreground",children:"Player is currently a free agent"})})})]}),l.injury_status&&r.jsxs(Y,{children:[r.jsx(ne,{children:r.jsxs(ie,{className:"flex items-center space-x-2",children:[r.jsx(Oe,{className:"h-5 w-5 text-yellow-600"}),r.jsx("span",{children:"Injury Status"})]})}),r.jsx(X,{children:r.jsxs("div",{className:"flex items-start space-x-3 p-4 border rounded-lg bg-yellow-50 dark:bg-yellow-900/20",children:[r.jsx(Oe,{className:"h-5 w-5 text-yellow-600 mt-0.5"}),r.jsxs("div",{children:[r.jsxs("h4",{className:"font-semibold text-yellow-800 dark:text-yellow-200",children:["Status: ",l.injury_status]}),r.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"Player is currently listed with an injury designation. Monitor status updates."})]})]})})]})]})]})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsx(Pt,{to:"/players",children:r.jsxs(J,{variant:"ghost",className:"mb-4",children:[r.jsx(Ol,{className:"mr-2 h-4 w-4"}),"Back to Players"]})}),r.jsxs(Ve,{children:[r.jsx(Oe,{className:"h-4 w-4"}),r.jsx(ze,{children:"Player not found or not available in the current season configuration."})]})]})},RU=()=>{var S,T,N;const{toast:e}=An(),{selectedConference:t,currentSeasonConfig:n,loading:s,error:i}=Dn(),[a,o]=h.useState([]),[l,c]=h.useState([]),[u,d]=h.useState(!0),[f,m]=h.useState(null),[x,j]=h.useState({team:"all",player:"",type:"all",conference:"all"}),v=async()=>{if(!n){d(!1);return}try{d(!0),m(null);const E=t==="all"||t===null?n.conferences:n.conferences.filter(F=>F.id===t),P=E.filter(F=>F.dbConferenceId).map(F=>F.dbConferenceId);if(P.length===0){o([]),c([]);return}const D=await le.getTransactions({filters:[{column:"conference_id",operator:"in",value:P}],orderBy:{column:"created_at",ascending:!1}});if(D.error||!D.data)throw new Error(D.error||"Failed to fetch transactions");const R=await le.getTeams({}),M=await le.getTeamConferenceJunctions({filters:[{column:"conference_id",operator:"in",value:P}]}),$=await le.getAllPlayersForMapping([{column:"playing_status",operator:"eq",value:"Active"},{column:"position",operator:"in",value:["QB","RB","WR","TE"]}]),O=new Map;$.forEach(F=>{F.sleeper_id&&O.set(String(F.sleeper_id),F.player_name)});const K=await Promise.all(D.data.map(async F=>{let V={};try{V=typeof F.data=="string"?JSON.parse(F.data):F.data||{}}catch(W){console.warn("Failed to parse transaction data:",W)}const A=E.find(W=>W.dbConferenceId===F.conference_id),_=W=>{var U;const G=(U=M.data)==null?void 0:U.find(se=>se.roster_id.toString()===W.toString()&&se.conference_id===F.conference_id);if(G&&R.data){const se=R.data.find(ce=>ce.id===G.team_id);return(se==null?void 0:se.team_name)||"Unknown Team"}return"Unknown Team"};let C="Unknown Team";V.roster_ids&&V.roster_ids.length>0&&(C=_(V.roster_ids[0]));const k=[],L=[],I=W=>{const G=String(W);return O.get(G)||`Player ${G}`};if(V.adds)for(const[W,G]of Object.entries(V.adds)){const U=I(W),se=_(G);k.push({name:U,team:se})}if(V.drops)for(const[W,G]of Object.entries(V.drops)){const U=I(W),se=_(G);L.push({name:U,team:se})}let H="";const ae=V.type||F.type,Q=new Set;switch(V.roster_ids&&V.roster_ids.forEach(W=>{const G=_(W);G!=="Unknown Team"&&Q.add(G)}),ae){case"trade":if(k.length>0||L.length>0){const W=[];k.forEach(G=>W.push(`${G.name} to ${G.team}`)),L.forEach(G=>W.push(`${G.name} from ${G.team}`)),Q.size>1?H=`Trade between ${Array.from(Q).join(" and ")}: ${W.join(", ")}`:H=`${C} trade: ${W.join(", ")}`}else V.draft_picks&&V.draft_picks.length>0?H=`Trade involving ${V.draft_picks.map(G=>`${G.season} Round ${G.round} pick`).join(", ")}`:H=`Trade between ${Array.from(Q).join(" and ")}`;break;case"waiver":k.length>0&&L.length>0?H=`${C} claimed ${k.map(W=>W.name).join(", ")} from waivers, dropped ${L.map(W=>W.name).join(", ")}`:k.length>0?H=`${C} claimed ${k.map(W=>W.name).join(", ")} from waivers`:L.length>0?H=`${C} dropped ${L.map(W=>W.name).join(", ")} to waivers`:H=`${C} made a waiver claim`;break;case"free_agent":k.length>0&&L.length>0?H=`${C} added ${k.map(W=>W.name).join(", ")}, dropped ${L.map(W=>W.name).join(", ")}`:k.length>0?H=`${C} added ${k.map(W=>W.name).join(", ")} from free agency`:L.length>0?H=`${C} dropped ${L.map(W=>W.name).join(", ")}`:H=`${C} made a free agent transaction`;break;default:H=`${C} completed a ${ae||"transaction"}`}const z=V.type==="trade"?"trade":V.type==="waiver"?"waiver":V.type==="free_agent"?"free_agent":"commissioner";return{id:F.id.toString(),type:z,date:new Date(F.created_at||new Date),details:H,teams:[C],players:{added:k.map(W=>({id:"",name:W.name,team:W.team})),dropped:L.map(W=>({id:"",name:W.name,team:W.team}))},week:V.leg||0,status:"completed",rosterIds:V.roster_ids||[],draftPicks:V.draft_picks||[],waiverBudget:V.waiver_budget||[],conference:(A==null?void 0:A.name)||"Unknown Conference",conferenceId:F.conference_id.toString()}}));o(K),c(K)}catch(E){console.error("Error fetching transactions:",E),m("Failed to load transactions. Please try again."),e({title:"Error",description:"Failed to load transactions. Please try again.",variant:"destructive"})}finally{d(!1)}},y=()=>{let E=[...a];x.team&&x.team!=="all"&&(E=E.filter(P=>P.teams.some(D=>D.toLowerCase().includes(x.team.toLowerCase())))),x.player&&(E=E.filter(P=>{const D=P.players.added||[],R=P.players.dropped||[];return[...D,...R].some(M=>M.name.toLowerCase().includes(x.player.toLowerCase()))})),x.type&&x.type!=="all"&&(E=E.filter(P=>P.type===x.type)),x.conference&&x.conference!=="all"&&(E=E.filter(P=>P.conferenceId===x.conference)),c(E)},g=()=>{j({team:"all",player:"",type:"all",conference:"all"})},p=(E,P)=>{j(D=>({...D,[E]:P}))};h.useEffect(()=>{v()},[n,t]),h.useEffect(()=>{y()},[x,a]);const w=()=>{const E=new Set(a.map(P=>P.type));return Array.from(E).filter(P=>P&&P.trim()!=="")},b=()=>{const E=new Set;return a.forEach(P=>{P.teams.forEach(D=>{D&&D.trim()!==""&&E.add(D)})}),Array.from(E).sort()};return s?r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Transactions"}),r.jsx("p",{className:"text-muted-foreground",children:"All roster moves and trades across conferences"})]})}),r.jsx("div",{className:"grid gap-4",children:[...Array(5)].map((E,P)=>r.jsx(Y,{className:"animate-pulse",children:r.jsxs(X,{className:"p-6",children:[r.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),r.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]})},P))})]}):i?r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Transactions"}),r.jsx("p",{className:"text-muted-foreground",children:"All roster moves and trades across conferences"})]})}),r.jsx(Ve,{variant:"destructive",children:r.jsxs(ze,{children:["App Error: ",i]})})]}):n?u?r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Transactions"}),r.jsx("p",{className:"text-muted-foreground",children:"All roster moves and trades across conferences"})]})}),r.jsx("div",{className:"grid gap-4",children:[...Array(5)].map((E,P)=>r.jsx(Y,{className:"animate-pulse",children:r.jsxs(X,{className:"p-6",children:[r.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),r.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]})},P))})]}):f?r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Transactions"}),r.jsx("p",{className:"text-muted-foreground",children:"All roster moves and trades across conferences"})]})}),r.jsx(Ve,{variant:"destructive",children:r.jsx(ze,{children:f})}),r.jsxs(J,{onClick:v,className:"w-full",children:[r.jsx(nt,{className:"mr-2 h-4 w-4"}),"Try Again"]})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Transactions"}),r.jsx("p",{className:"text-muted-foreground",children:"All roster moves and trades across conferences"})]}),r.jsxs(J,{onClick:v,variant:"outline",size:"sm",children:[r.jsx(nt,{className:"mr-2 h-4 w-4"}),"Refresh"]})]}),r.jsxs(Y,{children:[r.jsxs(ne,{children:[r.jsxs(ie,{className:"flex items-center space-x-2",children:[r.jsx(fN,{className:"h-5 w-5"}),r.jsx("span",{children:"Filters"})]}),r.jsx(je,{children:"Filter transactions by team, player, type, or conference"})]}),r.jsxs(X,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Team"}),r.jsxs(At,{value:x.team,onValueChange:E=>p("team",E),children:[r.jsx(Et,{children:r.jsx(Dt,{placeholder:"All teams"})}),r.jsxs(Ct,{children:[r.jsx(Me,{value:"all",children:"All teams"}),b().filter(E=>E&&E.trim()!=="").map(E=>r.jsx(Me,{value:E,children:E},E))]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Player"}),r.jsxs("div",{className:"relative",children:[r.jsx(Mx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(fn,{placeholder:"Search players...",value:x.player,onChange:E=>p("player",E.target.value),className:"pl-10"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Type"}),r.jsxs(At,{value:x.type,onValueChange:E=>p("type",E),children:[r.jsx(Et,{children:r.jsx(Dt,{placeholder:"All types"})}),r.jsxs(Ct,{children:[r.jsx(Me,{value:"all",children:"All types"}),w().filter(E=>E&&E.trim()!=="").map(E=>r.jsx(Me,{value:E,children:E==="trade"?"Trade":E==="free_agent"?"Free Agent":E==="waiver"?"Waiver":E==="commissioner"?"Commissioner":E},E))]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Conference"}),r.jsxs(At,{value:x.conference,onValueChange:E=>p("conference",E),children:[r.jsx(Et,{children:r.jsx(Dt,{placeholder:"All conferences"})}),r.jsxs(Ct,{children:[r.jsx(Me,{value:"all",children:"All conferences"}),(S=n==null?void 0:n.conferences)==null?void 0:S.filter(E=>{var D;const P=((D=E.dbConferenceId)==null?void 0:D.toString())||E.id;return P&&P.trim()!==""}).map(E=>{var D;const P=((D=E.dbConferenceId)==null?void 0:D.toString())||E.id;return r.jsx(Me,{value:P,children:E.name},P)})]})]})]})]}),r.jsxs("div",{className:"flex items-center justify-between mt-4",children:[r.jsx("div",{className:"flex items-center space-x-2",children:(x.team!=="all"||x.player!==""||x.type!=="all"||x.conference!=="all")&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Active filters:"}),x.team!=="all"&&r.jsxs(ee,{variant:"secondary",children:["Team: ",x.team]}),x.player!==""&&r.jsxs(ee,{variant:"secondary",children:["Player: ",x.player]}),x.type!=="all"&&r.jsxs(ee,{variant:"secondary",children:["Type: ",x.type]}),x.conference!=="all"&&r.jsxs(ee,{variant:"secondary",children:["Conference: ",(N=(T=n==null?void 0:n.conferences)==null?void 0:T.filter(E=>{var D;const P=((D=E.dbConferenceId)==null?void 0:D.toString())||E.id;return P&&P.trim()!==""}).find(E=>{var P;return((P=E.dbConferenceId)==null?void 0:P.toString())===x.conference}))==null?void 0:N.name]})]})}),(x.team!=="all"||x.player!==""||x.type!=="all"||x.conference!=="all")&&r.jsx(J,{variant:"outline",size:"sm",onClick:g,children:"Reset Filters"})]})]})]}),r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ao,{className:"h-5 w-5 text-primary"}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:["Showing ",l.length," of ",a.length," transactions"]})]})}),r.jsx("div",{className:"space-y-4",children:l.length>0?l.map((E,P)=>r.jsx(GC,{transaction:E},P)):r.jsx(Y,{children:r.jsxs(X,{className:"p-12 text-center",children:[r.jsx(Ao,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No transactions found"}),r.jsx("p",{className:"text-muted-foreground",children:x.team!=="all"||x.player!==""||x.type!=="all"||x.conference!=="all"?"No transactions match your current filters. Try adjusting your search criteria.":"No transactions available at this time."}),(x.team!=="all"||x.player!==""||x.type!=="all"||x.conference!=="all")&&r.jsx(J,{variant:"outline",onClick:g,className:"mt-4",children:"Clear Filters"})]})})})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Transactions"}),r.jsx("p",{className:"text-muted-foreground",children:"All roster moves and trades across conferences"})]})}),r.jsx("div",{className:"grid gap-4",children:[...Array(5)].map((E,P)=>r.jsx(Y,{className:"animate-pulse",children:r.jsxs(X,{className:"p-6",children:[r.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),r.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]})},P))})]})},AU=()=>{var V;const{selectedSeason:e,selectedConference:t}=Dn(),{toast:n}=An(),[s,i]=h.useState(1),[a,o]=h.useState("board"),[l,c]=h.useState(!0),[u,d]=h.useState([]),[f,m]=h.useState([]),[x,j]=h.useState([]),[v,y]=h.useState({}),[g,p]=h.useState([]),[w,b]=h.useState(!1),[S,T]=h.useState(new Set);h.useEffect(()=>{N()},[]),h.useEffect(()=>{e&&x.length>0&&f.length>0&&g.length>0&&Object.keys(v).length>0&&E()},[e,t,x,f,g,v]);const N=async()=>{c(!0);try{const A=await le.getSeasons({orderBy:{column:"season_year",ascending:!1},limit:50});if(A.error)throw A.error;j(A.data||[]);const _=await le.getConferences({orderBy:{column:"conference_name",ascending:!0},limit:50});if(_.error)throw _.error;m(_.data||[]);const C=await le.getTeams({orderBy:{column:"team_name",ascending:!0},limit:100});if(C.error)throw C.error;p(C.data||[]);try{const k=await le.getAllPlayersForMapping(),L={};k.forEach(I=>{I.sleeper_id&&(L[I.sleeper_id]=I)}),y(L),console.log(` Loaded ${Object.keys(L).length} players from database (${k.length} total players)`)}catch(k){console.warn("Could not load players data from database:",k),y({})}}catch(A){console.error("Error loading initial data:",A),n({title:"Error",description:`Failed to load initial data: ${A}`,variant:"destructive"})}finally{c(!1)}},E=async()=>{var A;if(!e){console.log(" No selectedSeason, skipping draft data load");return}if(x.length===0){console.log(" Seasons not loaded yet, skipping draft data load");return}if(f.length===0){console.log(" Conferences not loaded yet, skipping draft data load");return}if(g.length===0){console.log(" Teams not loaded yet, skipping draft data load");return}if(Object.keys(v).length===0){console.log(" Players not loaded yet, skipping draft data load");return}b(!0);try{if(console.log(` Loading draft data for season ${e}, conference: ${t||"all"}`),console.log(` Available data: seasons=${x.length}, conferences=${f.length}, teams=${g.length}, players=${Object.keys(v).length}`),!x.find(H=>H.season_year===e.toString())){console.warn(` Season ${e} not found in database`),console.log("Available seasons:",x.map(H=>H.season_year)),d([]);return}const C=[{column:"draft_year",operator:"eq",value:e.toString()}];console.log(" Draft query filters:",C);const k=await le.getDraftResults({filters:C,orderBy:{column:"pick_number",ascending:!0},limit:1e3});if(k.error)throw k.error;console.log(` Loaded ${((A=k.data)==null?void 0:A.length)||0} draft picks`);const L=k.data||[],I=L.map(H=>{const ae=f.find(W=>W.league_id===H.league_id),Q=v[H.sleeper_id],z=g.find(W=>W.owner_id===H.owner_id);return L.indexOf(H)<3&&console.log(` Processing pick ${H.pick_number}:`,{sleeper_id:H.sleeper_id,player_found:!!Q,player_name:Q==null?void 0:Q.player_name,conference_found:!!ae,team_found:!!z}),{...H,conference_name:(ae==null?void 0:ae.conference_name)||"Unknown Conference",player_name:(Q==null?void 0:Q.player_name)||"Unknown Player",position:(Q==null?void 0:Q.position)||"UNK",nfl_team:(Q==null?void 0:Q.nfl_team)||"UNK",owner_name:(z==null?void 0:z.owner_name)||"Unknown Owner",team_name:(z==null?void 0:z.team_name)||"Unknown Team",conference_id:ae==null?void 0:ae.id,team_id:z==null?void 0:z.id,player_id:H.sleeper_id}});console.log(` Processed ${I.length} draft picks`),console.log("First few picks:",I.slice(0,3)),d(I)}catch(_){console.error("Error loading draft data:",_),n({title:"Error",description:`Failed to load draft data: ${_}`,variant:"destructive"}),d([])}finally{b(!1)}},P=A=>{const _=new Set(S);_.has(A)?_.delete(A):_.add(A),T(_)},D=()=>{if(!t){const L=x.find(H=>H.season_year===e.toString());if(!L)return console.log(" Season not found for getConferencesToShow"),[];const I=f.filter(H=>H.season_id===L.id);return console.log(` Showing ${I.length} conferences for season ${e}`),I}const _={thelegionsofmars:"The Legions of Mars",theguardiansofjupiter:"The Guardians of Jupiter",vulcansoathsworn:"Vulcan's Oathsworn"}[t];if(!_)return console.log(` Unknown conference ID: ${t}`),[];const C=x.find(L=>L.season_year===e.toString());if(!C)return console.log(" Season not found for specific conference"),[];const k=f.find(L=>L.season_id===C.id&&L.conference_name===_);return console.log(` Selected conference: ${_}, found: ${k?"yes":"no"}`),k?[k]:[]},R=A=>{switch(A){case"QB":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"RB":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"WR":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"TE":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"K":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200";case"DEF":return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},M=A=>{let C=u.filter(k=>k.conference_id===A.id).filter(k=>parseInt(k.round)===s);return C.sort((k,L)=>parseInt(k.draft_slot)-parseInt(L.draft_slot)),r.jsxs(Y,{children:[r.jsxs(ne,{children:[r.jsxs(ie,{className:"flex items-center space-x-2",children:[r.jsx(mc,{className:"h-5 w-5"}),r.jsx("span",{children:A.conference_name})]}),r.jsxs(je,{children:["Round ",s,"  ",C.length," picks"]})]}),r.jsx(X,{children:r.jsx("div",{className:"rounded-md border",children:r.jsxs(mn,{children:[r.jsx(pn,{children:r.jsxs(Pe,{children:[r.jsx(re,{className:"w-16",children:"Pick"}),r.jsx(re,{className:"w-16",children:"Overall"}),r.jsx(re,{children:"Player"}),r.jsx(re,{children:"Position"}),r.jsx(re,{className:"hidden sm:table-cell",children:"NFL Team"}),r.jsx(re,{children:"Drafted By"})]})}),r.jsx(gn,{children:C.length>0?C.map(k=>r.jsxs(Pe,{children:[r.jsx(te,{className:"font-medium",children:k.draft_slot}),r.jsx(te,{className:"font-medium",children:k.pick_number}),r.jsx(te,{className:"font-semibold",children:k.player_name}),r.jsx(te,{children:r.jsx(ee,{className:R(k.position),children:k.position})}),r.jsx(te,{className:"hidden sm:table-cell",children:k.nfl_team}),r.jsx(te,{children:r.jsxs("div",{className:"text-sm",children:[r.jsx("div",{className:"font-medium",children:k.team_name}),r.jsx("div",{className:"text-muted-foreground",children:k.owner_name})]})})]},`${A.id}-${k.pick_number}`)):r.jsx(Pe,{children:r.jsxs(te,{colSpan:6,className:"text-center text-muted-foreground py-8",children:["No picks found for round ",s]})})})]})})})]},A.id)},$=()=>{const A=D();return r.jsx("div",{className:"space-y-6",children:A.map(_=>{const C=u.filter(I=>I.conference_id===_.id),k=new Map;C.forEach(I=>{const H=I.team_id;k.has(H)||k.set(H,{team_id:I.team_id,owner_name:I.owner_name,team_name:I.team_name,picks:[]}),k.get(H).picks.push(I)}),k.forEach(I=>{I.picks.sort((H,ae)=>{const Q=parseInt(H.round),z=parseInt(ae.round);return Q!==z?Q-z:parseInt(H.draft_slot)-parseInt(ae.draft_slot)})});const L=Array.from(k.values());return r.jsxs(Y,{children:[r.jsx(ne,{children:r.jsxs(ie,{className:"flex items-center space-x-2",children:[r.jsx(Yt,{className:"h-5 w-5"}),r.jsxs("span",{children:[_.conference_name," - Team Draft Summary"]})]})}),r.jsxs(X,{children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:L.map(I=>{const H=S.has(I.team_id),ae=H?I.picks:I.picks.slice(0,8);return r.jsxs(Y,{children:[r.jsxs(ne,{className:"pb-2",children:[r.jsx(ie,{className:"text-lg",children:I.team_name}),r.jsxs(je,{children:[I.owner_name,"  ",I.picks.length," picks"]})]}),r.jsx(X,{children:r.jsxs("div",{className:"space-y-2",children:[ae.map(Q=>r.jsxs("div",{className:"flex items-center justify-between p-2 rounded-md bg-accent/50",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(ee,{variant:"outline",className:"text-xs",children:["R",Q.round]}),r.jsx("span",{className:"font-medium text-sm",children:Q.player_name}),r.jsx(ee,{className:`${R(Q.position)} text-xs`,children:Q.position})]}),r.jsxs("span",{className:"text-xs text-muted-foreground",children:["#",Q.pick_number]})]},Q.pick_number)),I.picks.length>8&&r.jsx("div",{className:"flex justify-center pt-2",children:r.jsx(J,{variant:"ghost",size:"sm",onClick:()=>P(I.team_id),className:"text-xs",children:H?r.jsxs(r.Fragment,{children:[r.jsx($x,{className:"h-3 w-3 mr-1"}),"Show Less"]}):r.jsxs(r.Fragment,{children:[r.jsx(Ef,{className:"h-3 w-3 mr-1"}),"Show All ",I.picks.length," Picks"]})})})]})})]},I.team_id)})}),L.length===0&&r.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[r.jsx(Oe,{className:"h-8 w-8 mx-auto mb-2"}),r.jsx("p",{children:"No draft picks found for this conference"}),r.jsx("p",{className:"text-sm",children:"Try syncing draft data from the Admin panel"})]})]})]},_.id)})})};if(l)return r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsx("div",{className:"animate-spin h-8 w-8 border-b-2 border-blue-600 rounded-full"})});console.log(" Render debug:",{selectedSeason:e,selectedConference:t,draftPicksCount:u.length,seasonsCount:x.length,conferencesCount:f.length,teamsCount:g.length});const O=D();console.log(" Conferences to show:",O.length);const K=O.reduce((A,_)=>{const C=new Set(u.filter(k=>k.conference_id===_.id).map(k=>k.team_id));return A+C.size},0),F=Math.max(...u.map(A=>parseInt(A.round)),1);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(nd,{className:"h-6 w-6 text-primary"}),r.jsx("h1",{className:"text-3xl font-bold",children:"Draft Results"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("p",{className:"text-muted-foreground",children:[e," Season  ",t?((V=O[0])==null?void 0:V.conference_name)||"Conference":"All Conferences"]}),r.jsxs(J,{variant:"outline",size:"sm",onClick:E,disabled:w,children:[w?r.jsx(nt,{className:"h-4 w-4 mr-2 animate-spin"}):r.jsx(nt,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(Y,{children:r.jsxs(ne,{className:"pb-2",children:[r.jsx(je,{children:"Total Conferences"}),r.jsx(ie,{className:"text-2xl",children:O.length})]})}),r.jsx(Y,{children:r.jsxs(ne,{className:"pb-2",children:[r.jsx(je,{children:"Total Teams"}),r.jsx(ie,{className:"text-2xl",children:K})]})}),r.jsx(Y,{children:r.jsxs(ne,{className:"pb-2",children:[r.jsx(je,{children:"Total Picks"}),r.jsx(ie,{className:"text-2xl",children:u.length})]})}),r.jsx(Y,{children:r.jsxs(ne,{className:"pb-2",children:[r.jsx(je,{children:"Max Rounds"}),r.jsx(ie,{className:"text-2xl",children:F})]})})]}),u.length===0?r.jsx(Y,{children:r.jsxs(X,{className:"flex flex-col items-center justify-center py-12",children:[r.jsx(Oe,{className:"h-12 w-12 text-muted-foreground mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Draft Results Found"}),r.jsxs("p",{className:"text-muted-foreground text-center mb-4",children:["No draft picks found for the ",e," season",t?` in ${t}`:"","."]}),r.jsxs("div",{className:"text-sm text-muted-foreground text-center space-y-2",children:[r.jsx("p",{children:"Try:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[r.jsx("li",{children:"Selecting a different season from the dropdown above"}),r.jsx("li",{children:'Choosing "All Conferences" if you have a conference selected'}),r.jsx("li",{children:"Syncing draft data from Admin  Data Sync  Draft Sync"})]})]})]})}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:r.jsx("div",{className:"flex items-center space-x-4",children:r.jsxs(At,{value:s.toString(),onValueChange:A=>i(parseInt(A)),children:[r.jsx(Et,{className:"w-32",children:r.jsx(Dt,{})}),r.jsx(Ct,{children:Array.from({length:F},(A,_)=>r.jsxs(Me,{value:(_+1).toString(),children:["Round ",_+1]},_+1))})]})})}),r.jsxs($i,{value:a,onValueChange:A=>o(A),className:"w-full",children:[r.jsxs(Ir,{children:[r.jsx(He,{value:"board",children:"Draft Board"}),r.jsx(He,{value:"team",children:"Team View"})]}),r.jsx(qe,{value:"board",className:"space-y-6",children:O.map(A=>M(A))}),r.jsx(qe,{value:"team",className:"space-y-6",children:$()})]}),r.jsxs(Y,{children:[r.jsxs(ne,{children:[r.jsxs(ie,{className:"flex items-center space-x-2",children:[r.jsx(Kt,{className:"h-5 w-5"}),r.jsx("span",{children:"Draft Analysis"})]}),r.jsx(je,{children:"Draft insights and position trends"})]}),r.jsx(X,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold text-green-600",children:u.filter(A=>A.position==="RB").length}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Running Backs Drafted"})]}),r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold",children:u.filter(A=>A.position==="QB").length}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Quarterbacks Drafted"})]}),r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold",children:u.filter(A=>A.position==="WR").length}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Wide Receivers Drafted"})]})]})})]})]})]})},DU={pass_yd:{category:"passing",key:"passingYards",description:"passing yards",per:25},pass_td:{category:"passing",key:"passingTDs",description:"passing touchdown",per:1},pass_int:{category:"passing",key:"interceptions",description:"interception",per:1},pass_2pt:{category:"passing",key:"passing2pt",description:"2-point conversion",per:1},rush_yd:{category:"rushing",key:"rushingYards",description:"rushing yards",per:10},rush_td:{category:"rushing",key:"rushingTDs",description:"rushing touchdown",per:1},rush_2pt:{category:"rushing",key:"rushing2pt",description:"2-point conversion",per:1},rec_yd:{category:"receiving",key:"receivingYards",description:"receiving yards",per:10},rec:{category:"receiving",key:"receptions",description:"reception (PPR)",per:1},rec_td:{category:"receiving",key:"receivingTDs",description:"receiving touchdown",per:1},rec_2pt:{category:"receiving",key:"receiving2pt",description:"2-point conversion",per:1}},$U=()=>{const{selectedSeason:e}=Dn(),[t,n]=h.useState(null),[s,i]=h.useState(!0),[a,o]=h.useState(null),l=u=>{const d={passing:{},rushing:{},receiving:{}};return Object.entries(u).forEach(([f,m])=>{const x=DU[f];x&&(d[x.category][x.key]={points:m,per:x.per,description:`${m>0?"+":""}${m} point${Math.abs(m)!==1?"s":""} per ${x.description}`})}),d},c=async()=>{if(!e){o("No season selected"),i(!1);return}try{i(!0),o(null);const{data:u}=await le.getSeasons({filters:[{column:"season_year",operator:"eq",value:e}]});if(!u||u.length===0){o("Season not found"),i(!1);return}const d=u[0];if(d.scoring_settings){const f=l(d.scoring_settings);n(f)}else{if(console.log("Scoring settings not found, fetching from Sleeper API..."),!(await le.updateSeasonScoringSettings(d.id)).success){o("Failed to fetch scoring settings from Sleeper API"),i(!1);return}const{data:m}=await le.getSeasons({filters:[{column:"season_year",operator:"eq",value:e}]});if(m&&m.length>0&&m[0].scoring_settings){const x=l(m[0].scoring_settings);n(x)}else o("Failed to update scoring settings")}}catch(u){console.error("Error fetching scoring settings:",u),o("Failed to load scoring settings")}finally{i(!1)}};return h.useEffect(()=>{c()},[e]),{scoringSettings:t,loading:s,error:a,refetch:c}},pm={positions:{QB:1,RB:2,WR:2,TE:1,FLEX:1,SUPER_FLEX:1,DEF:1,BENCH:6},totalRosterSize:15,startingLineupSize:9,benchSize:6},MU=()=>{const{selectedSeason:e}=Dn(),[t,n]=h.useState(null),[s,i]=h.useState(!0),[a,o]=h.useState(null),l=u=>{const d={};u.forEach(j=>{d[j]=(d[j]||0)+1});const f=u.length,m=15,x=m-f;return x>0&&(d.BENCH=x),{positions:d,totalRosterSize:m,startingLineupSize:f,benchSize:x}},c=async()=>{if(!e){o("No season selected"),i(!1);return}try{i(!0),o(null);const{data:u}=await le.getSeasons({filters:[{column:"season_year",operator:"eq",value:e}]});if(!u||u.length===0){o("Season not found"),i(!1);return}const d=u[0];if(d.roster_positions){const f=l(d.roster_positions);n(f)}else{if(console.log("Roster positions not found, fetching from Sleeper API..."),!(await le.updateSeasonRosterPositions(d.id)).success){console.warn("Failed to fetch roster positions from Sleeper API, using defaults"),n(pm),i(!1);return}const{data:m}=await le.getSeasons({filters:[{column:"season_year",operator:"eq",value:e}]});if(m&&m.length>0&&m[0].roster_positions){const x=l(m[0].roster_positions);n(x)}else n(pm)}}catch(u){console.error("Error fetching roster settings:",u),o("Failed to load roster settings"),n(pm)}finally{i(!1)}};return h.useEffect(()=>{c()},[e]),{rosterSettings:t,loading:s,error:a,refetch:c}},gm={id:0,season_id:0,playoff_teams:10,week_14_byes:6,reseed:!0,playoff_start_week:14,championship_week:17,is_active:!0},IU=()=>{const{selectedSeason:e}=Dn(),[t,n]=h.useState(null),[s,i]=h.useState(!0),[a,o]=h.useState(null),l=async()=>{if(!e){o("No season selected"),i(!1);return}try{i(!0),o(null);const{data:c}=await le.getSeasons({filters:[{column:"season_year",operator:"eq",value:e}]});if(!c||c.length===0){o("Season not found"),n(gm),i(!1);return}const u=c[0],{data:d}=await le.getPlayoffFormats({filters:[{column:"season_id",operator:"eq",value:u.id},{column:"is_active",operator:"eq",value:!0}]});d&&d.length>0?n(d[0]):(console.warn("No playoff format found for season, using defaults"),n(gm))}catch(c){console.error("Error fetching playoff format:",c),o("Failed to load playoff format"),n(gm)}finally{i(!1)}};return h.useEffect(()=>{l()},[e]),{playoffFormat:t,loading:s,error:a,refetch:l}};class ad{static async initializeBucket(){try{const{data:t}=await Cn.storage.listBuckets();if(!(t==null?void 0:t.some(s=>s.name===this.BUCKET_NAME))){const{error:s}=await Cn.storage.createBucket(this.BUCKET_NAME,{public:!0,allowedMimeTypes:this.ALLOWED_FILE_TYPES,fileSizeLimit:this.MAX_FILE_SIZE});if(s)throw console.error("Error creating charter bucket:",s),s}}catch(t){throw console.error("Error initializing charter bucket:",t),t}}static async uploadCharter(t,n,s){try{const i=this.validateFile(n);if(!i.valid)return{success:!1,error:i.error};await this.initializeBucket();const a=n.name.split(".").pop(),l=`charters/${`charter-season-${t}-${Date.now()}.${a}`}`,{data:c,error:u}=await Cn.storage.from(this.BUCKET_NAME).upload(l,n,{cacheControl:"3600",upsert:!0});if(u)return console.error("Error uploading charter:",u),{success:!1,error:"Failed to upload file"};const{data:d}=Cn.storage.from(this.BUCKET_NAME).getPublicUrl(l);if(!d.publicUrl)return{success:!1,error:"Failed to get file URL"};const{error:f}=await le.updateSeason(t,{charter_file_url:d.publicUrl,charter_file_name:n.name,charter_uploaded_at:new Date().toISOString(),charter_uploaded_by:s});return f?(console.error("Error updating season with charter info:",f),await this.deleteCharterFile(l),{success:!1,error:"Failed to save charter information"}):{success:!0,fileUrl:d.publicUrl,fileName:n.name}}catch(i){return console.error("Error in uploadCharter:",i),{success:!1,error:"Unexpected error during upload"}}}static async getCharterInfo(t){try{const{data:n}=await le.getSeasons({filters:[{column:"id",operator:"eq",value:t}]});if(!n||n.length===0)return null;const s=n[0];return!s.charter_file_url||!s.charter_file_name?null:{fileUrl:s.charter_file_url,fileName:s.charter_file_name,uploadedAt:s.charter_uploaded_at||"",uploadedBy:s.charter_uploaded_by||""}}catch(n){return console.error("Error getting charter info:",n),null}}static async deleteCharter(t){try{const n=await this.getCharterInfo(t);if(!n)return{success:!1,error:"No charter found for this season"};const i=new URL(n.fileUrl).pathname.split("/").slice(-2).join("/"),{error:a}=await Cn.storage.from(this.BUCKET_NAME).remove([i]);a&&console.error("Error deleting charter file:",a);const{error:o}=await le.updateSeason(t,{charter_file_url:null,charter_file_name:null,charter_uploaded_at:null,charter_uploaded_by:null});return o?(console.error("Error updating season after charter deletion:",o),{success:!1,error:"Failed to update season record"}):{success:!0}}catch(n){return console.error("Error in deleteCharter:",n),{success:!1,error:"Unexpected error during deletion"}}}static validateFile(t){return t.size>this.MAX_FILE_SIZE?{valid:!1,error:"File size must be less than 10MB"}:this.ALLOWED_FILE_TYPES.includes(t.type)?{valid:!0}:{valid:!1,error:"File must be PDF, Word document, or text file"}}static async deleteCharterFile(t){try{await Cn.storage.from(this.BUCKET_NAME).remove([t])}catch(n){console.error("Error deleting charter file:",n)}}static getFileIcon(t){var s;switch((s=t.split(".").pop())==null?void 0:s.toLowerCase()){case"pdf":return"";case"doc":case"docx":return"";case"txt":return"";default:return""}}}us(ad,"BUCKET_NAME","league-documents"),us(ad,"ALLOWED_FILE_TYPES",["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain"]),us(ad,"MAX_FILE_SIZE",10*1024*1024);const LU=()=>{const{selectedSeason:e}=Dn(),[t,n]=h.useState(null),[s,i]=h.useState(!0),[a,o]=h.useState(null),l=async()=>{if(!e){o("No season selected"),i(!1);return}try{i(!0),o(null);const{data:c}=await le.getSeasons({filters:[{column:"season_year",operator:"eq",value:e}]});if(!c||c.length===0){o("Season not found"),i(!1);return}const u=c[0],d=await ad.getCharterInfo(u.id);n(d)}catch(c){console.error("Error fetching charter info:",c),o("Failed to load charter information"),n(null)}finally{i(!1)}};return h.useEffect(()=>{l()},[e]),{charterInfo:t,loading:s,error:a,refetch:l,hasCharter:!!t}},OU=({fileUrl:e,fileName:t,className:n=""})=>{const[s,i]=h.useState(!1),[a,o]=h.useState(!0),[l,c]=h.useState(null),[u,d]=h.useState("iframe"),[f,m]=h.useState(!0),x=()=>{const p=navigator.mimeTypes&&navigator.mimeTypes["application/pdf"],w=/Chrome/.test(navigator.userAgent),b=/Firefox/.test(navigator.userAgent),S=/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent);return p||w||b||S},j=()=>{m(!1),c(null)},v=()=>{m(!1),c("Failed to load PDF in iframe. Trying alternative method..."),u==="iframe"?d("embed"):u==="embed"&&d("object")},y=()=>{c(null),m(!0),d("iframe")},g=()=>{const p={width:"100%",height:"100%",title:t,onLoad:j,onError:v},w=`${e}#toolbar=1&navpanes=1&scrollbar=1&view=FitH`;switch(u){case"iframe":return r.jsx("iframe",{src:w,className:"border-0 w-full h-full",...p});case"embed":return r.jsx("embed",{src:w,type:"application/pdf",className:"w-full h-full",...p});case"object":return r.jsx("object",{data:w,type:"application/pdf",className:"w-full h-full",...p,children:r.jsxs("p",{children:["Your browser doesn't support PDF viewing.",r.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"text-primary underline ml-1",children:"Click here to download the PDF"})]})});default:return null}};return a?r.jsxs("div",{className:`space-y-4 ${n}`,children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ee,{variant:"secondary",children:"PDF Viewer"}),!x()&&r.jsx(ee,{variant:"destructive",children:"Limited Browser Support"})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(J,{variant:"outline",size:"sm",onClick:y,disabled:f,children:[r.jsx(nt,{className:`h-4 w-4 mr-1 ${f?"animate-spin":""}`}),"Reload"]}),r.jsxs(J,{variant:"outline",size:"sm",onClick:()=>o(!1),children:[r.jsx(Fl,{className:"h-4 w-4 mr-1"}),"Hide"]}),r.jsxs(J,{variant:"outline",size:"sm",onClick:()=>i(!s),children:[s?r.jsx(Dp,{className:"h-4 w-4 mr-1"}):r.jsx(Ap,{className:"h-4 w-4 mr-1"}),s?"Minimize":"Expand"]}),r.jsxs(J,{variant:"outline",size:"sm",onClick:()=>window.open(e,"_blank"),children:[r.jsx(zc,{className:"h-4 w-4 mr-1"}),"New Tab"]}),r.jsxs(J,{variant:"outline",size:"sm",onClick:()=>{const p=document.createElement("a");p.href=e,p.download=t,document.body.appendChild(p),p.click(),document.body.removeChild(p)},children:[r.jsx(uN,{className:"h-4 w-4 mr-1"}),"Download"]})]})]}),r.jsxs("div",{className:`border rounded-lg overflow-hidden bg-gray-100 dark:bg-gray-800 relative ${s?"fixed inset-4 z-50 bg-white dark:bg-gray-900":"h-96 md:h-[600px]"}`,children:[f&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white dark:bg-gray-900 z-10",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading PDF..."})]})}),l?r.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white dark:bg-gray-900 z-10",children:r.jsxs(Ve,{variant:"destructive",className:"max-w-md",children:[r.jsx(Oe,{className:"h-4 w-4"}),r.jsxs(ze,{children:[l,r.jsxs("div",{className:"mt-2 space-x-2",children:[r.jsx(J,{size:"sm",variant:"outline",onClick:y,children:"Try Again"}),r.jsx(J,{size:"sm",variant:"outline",onClick:()=>window.open(e,"_blank"),children:"Open in New Tab"})]})]})]})}):g()]}),!x()&&r.jsxs(Ve,{children:[r.jsx(Oe,{className:"h-4 w-4"}),r.jsx(ze,{children:"Your browser may have limited PDF viewing support. For the best experience, try opening the PDF in a new tab or downloading it."})]}),r.jsxs(Ve,{children:[r.jsx(Oe,{className:"h-4 w-4"}),r.jsxs(ze,{children:[r.jsx("strong",{children:"Tips:"}),` Use the expand button for full-screen viewing. If the PDF doesn't load properly, try the "New Tab" or "Download" options.`]})]})]}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Fl,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"PDF viewer hidden"}),r.jsxs(J,{variant:"outline",onClick:()=>o(!0),className:"mt-2",children:[r.jsx(dN,{className:"h-4 w-4 mr-2"}),"Show PDF"]})]})},FU=({fileUrl:e,fileName:t,uploadedAt:n})=>{const[s,i]=h.useState(!1),[a,o]=h.useState(!0),[l,c]=h.useState(null),u=y=>{var g;return((g=y.split(".").pop())==null?void 0:g.toLowerCase())||""},d=y=>{switch(u(y)){case"pdf":return"PDF Document";case"doc":case"docx":return"Word Document";case"txt":return"Text Document";default:return"Document"}},f=()=>{const y=u(t);if(!a)return r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Fl,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Document viewer hidden"}),r.jsxs(J,{variant:"outline",onClick:()=>o(!0),className:"mt-2",children:[r.jsx(dN,{className:"h-4 w-4 mr-2"}),"Show Document"]})]});switch(y){case"pdf":return m();case"doc":case"docx":return x();case"txt":return j();default:return v()}},m=()=>r.jsx(OU,{fileUrl:e,fileName:t}),x=()=>r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(ee,{variant:"secondary",children:"Document Viewer"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(J,{variant:"outline",size:"sm",onClick:()=>o(!1),children:[r.jsx(Fl,{className:"h-4 w-4 mr-1"}),"Hide"]}),r.jsxs(J,{variant:"outline",size:"sm",onClick:()=>i(!s),children:[s?r.jsx(Dp,{className:"h-4 w-4 mr-1"}):r.jsx(Ap,{className:"h-4 w-4 mr-1"}),s?"Minimize":"Expand"]})]})]}),r.jsx("div",{className:`border rounded-lg overflow-hidden ${s?"h-screen":"h-96"}`,children:r.jsx("iframe",{src:`https://docs.google.com/viewer?url=${encodeURIComponent(e)}&embedded=true`,width:"100%",height:"100%",title:t,className:"border-0",onError:()=>c("Failed to load document. Please try downloading the file.")})}),r.jsxs(Ve,{children:[r.jsx(Oe,{className:"h-4 w-4"}),r.jsx(ze,{children:"Word documents are displayed using Google Docs Viewer. For best experience, consider uploading as PDF."})]})]}),j=()=>{const[y,g]=h.useState(""),[p,w]=h.useState(!0);return $e.useEffect(()=>{fetch(e).then(b=>b.text()).then(b=>{g(b),w(!1)}).catch(b=>{console.error("Error loading text file:",b),c("Failed to load text file content."),w(!1)})},[e]),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(ee,{variant:"secondary",children:"Text Viewer"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(J,{variant:"outline",size:"sm",onClick:()=>o(!1),children:[r.jsx(Fl,{className:"h-4 w-4 mr-1"}),"Hide"]}),r.jsxs(J,{variant:"outline",size:"sm",onClick:()=>i(!s),children:[s?r.jsx(Dp,{className:"h-4 w-4 mr-1"}):r.jsx(Ap,{className:"h-4 w-4 mr-1"}),s?"Minimize":"Expand"]})]})]}),r.jsx("div",{className:`border rounded-lg p-4 bg-gray-50 dark:bg-gray-900 overflow-auto ${s?"h-screen":"h-96"}`,children:p?r.jsx("div",{className:"flex items-center justify-center h-full",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):r.jsx("pre",{className:"whitespace-pre-wrap text-sm font-mono",children:y})})]})},v=()=>r.jsxs(Ve,{children:[r.jsx(Oe,{className:"h-4 w-4"}),r.jsx(wr,{children:"Preview Not Available"}),r.jsx(ze,{children:"This file type cannot be previewed in the browser. Please download the file to view its contents."})]});return r.jsxs(Y,{children:[r.jsx(ne,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(hc,{className:"h-6 w-6 text-primary"}),r.jsxs("div",{children:[r.jsx(ie,{className:"text-lg",children:t}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[d(t),"  Last updated: ",new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(J,{variant:"outline",size:"sm",onClick:()=>window.open(e,"_blank"),children:[r.jsx(zc,{className:"h-4 w-4 mr-1"}),"Open in New Tab"]}),r.jsxs(J,{variant:"outline",size:"sm",onClick:()=>{const y=document.createElement("a");y.href=e,y.download=t,document.body.appendChild(y),y.click(),document.body.removeChild(y)},children:[r.jsx(uN,{className:"h-4 w-4 mr-1"}),"Download"]})]})]})}),r.jsx(X,{children:l?r.jsxs(Ve,{variant:"destructive",children:[r.jsx(Oe,{className:"h-4 w-4"}),r.jsx(wr,{children:"Viewer Error"}),r.jsx(ze,{children:l})]}):f()})]})},zi={scoring:{passing:{passingYards:{points:1,per:25,description:"1 point per 25 passing yards"},passingTDs:{points:4,per:1,description:"4 points per passing touchdown"},interceptions:{points:-2,per:1,description:"-2 points per interception"},passing2pt:{points:2,per:1,description:"2 points per 2-point conversion"}},rushing:{rushingYards:{points:1,per:10,description:"1 point per 10 rushing yards"},rushingTDs:{points:6,per:1,description:"6 points per rushing touchdown"},rushing2pt:{points:2,per:1,description:"2 points per 2-point conversion"}},receiving:{receivingYards:{points:1,per:10,description:"1 point per 10 receiving yards"},receptions:{points:.5,per:1,description:"0.5 points per reception (PPR)"},receivingTDs:{points:6,per:1,description:"6 points per receiving touchdown"},receiving2pt:{points:2,per:1,description:"2 points per 2-point conversion"}}},roster:{positions:{QB:1,RB:2,WR:2,TE:1,FLEX:1,K:1,DEF:1,BENCH:6},waiverSystem:"FAAB",waiverBudget:100,waiverClearTime:"Wednesday 3:00 AM ET"}},UU=()=>{var w,b,S,T,N,E;const{selectedSeason:e,selectedConference:t,currentSeasonConfig:n}=Dn(),{scoringSettings:s,loading:i,error:a}=$U(),{rosterSettings:o,loading:l,error:c}=MU(),{playoffFormat:u,loading:d,error:f}=IU(),{charterInfo:m,loading:x,error:j,hasCharter:v}=LU(),[y,g]=h.useState("scoring"),p=(P,D)=>!D||Object.keys(D).length===0?r.jsxs(Y,{children:[r.jsx(ne,{children:r.jsx(ie,{className:"capitalize",children:P})}),r.jsx(X,{children:r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:["No ",P," scoring rules configured"]})})]}):r.jsxs(Y,{children:[r.jsx(ne,{children:r.jsx(ie,{className:"capitalize",children:P})}),r.jsx(X,{children:r.jsx("div",{className:"rounded-md border",children:r.jsxs(mn,{children:[r.jsx(pn,{children:r.jsxs(Pe,{children:[r.jsx(re,{children:"Statistic"}),r.jsx(re,{className:"text-right",children:"Points"}),r.jsx(re,{className:"hidden md:table-cell",children:"Description"})]})}),r.jsx(gn,{children:Object.entries(D).map(([R,M])=>r.jsxs(Pe,{children:[r.jsx(te,{className:"font-medium",children:R.replace(/([A-Z])/g," $1").replace(/^./,$=>$.toUpperCase())}),r.jsx(te,{className:"text-right font-mono",children:r.jsxs(ee,{variant:M.points>0?"default":"destructive",children:[M.points>0?"+":"",M.points]})}),r.jsx(te,{className:"hidden md:table-cell text-sm text-muted-foreground",children:M.description})]},R))})]})})})]});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(hc,{className:"h-6 w-6 text-primary"}),r.jsx("h1",{className:"text-3xl font-bold",children:"League Rules"})]}),r.jsxs("p",{className:"text-muted-foreground",children:[e," Season  Official rules and regulations for the Gladiator League"]})]}),r.jsxs(Ve,{children:[r.jsx(Ui,{className:"h-4 w-4"}),r.jsx(wr,{children:"League Information"}),r.jsx(ze,{children:"These rules apply to all three conferences within the Gladiator League. Conference-specific variations are noted where applicable."})]}),r.jsxs($i,{value:y,onValueChange:g,className:"w-full",children:[r.jsxs(Ir,{className:"grid w-full grid-cols-5",children:[r.jsx(He,{value:"scoring",children:"Scoring"}),r.jsx(He,{value:"roster",children:"Roster"}),r.jsx(He,{value:"schedule",children:"Schedule"}),r.jsx(He,{value:"payouts",children:"Payouts"}),r.jsx(He,{value:"charter",children:"Charter"})]}),r.jsxs(qe,{value:"scoring",className:"space-y-6",children:[i?r.jsx(Y,{children:r.jsx(X,{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Nt,{className:"h-6 w-6 animate-spin"}),r.jsx("span",{children:"Loading scoring settings..."})]})})}):a?r.jsxs(Ve,{variant:"destructive",children:[r.jsx(Ui,{className:"h-4 w-4"}),r.jsx(wr,{children:"Error Loading Scoring Settings"}),r.jsxs(ze,{children:[a,". Using default scoring rules as fallback."]})]}):null,r.jsx("div",{className:"grid gap-6",children:s?r.jsxs(r.Fragment,{children:[p("passing",s.passing),p("rushing",s.rushing),p("receiving",s.receiving)]}):r.jsxs(r.Fragment,{children:[p("passing",zi.scoring.passing),p("rushing",zi.scoring.rushing),p("receiving",zi.scoring.receiving)]})}),r.jsxs(Y,{children:[r.jsx(ne,{children:r.jsxs(ie,{className:"flex items-center space-x-2",children:[r.jsx(Ld,{className:"h-5 w-5"}),r.jsx("span",{children:"Scoring Summary"})]})}),r.jsx(X,{children:s?r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold",children:s.receiving.receptions?`${s.receiving.receptions.points} PPR`:"Standard"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:s.receiving.receptions?`${s.receiving.receptions.points} Points per Reception`:"No PPR Scoring"})]}),r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsxs("p",{className:"text-2xl font-bold",children:[((w=s.passing.passingTDs)==null?void 0:w.points)||0,"/",((b=s.rushing.rushingTDs)==null?void 0:b.points)||((S=s.receiving.receivingTDs)==null?void 0:S.points)||0]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Pass TD / Rush-Rec TD"})]}),r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsxs("p",{className:"text-2xl font-bold",children:[((T=s.passing.passingYards)==null?void 0:T.per)||25,"/",((N=s.rushing.rushingYards)==null?void 0:N.per)||((E=s.receiving.receivingYards)==null?void 0:E.per)||10]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Pass Yards / Rush-Rec Yards"})]})]}):r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold",children:"PPR"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"0.5 Points per Reception"})]}),r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold",children:"4/6"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Pass TD / Rush-Rec TD"})]}),r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold",children:"25/10"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Pass Yards / Rush-Rec Yards"})]})]})})]})]}),r.jsxs(qe,{value:"roster",className:"space-y-6",children:[l?r.jsx(Y,{children:r.jsx(X,{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Nt,{className:"h-6 w-6 animate-spin"}),r.jsx("span",{children:"Loading roster settings..."})]})})}):c?r.jsxs(Ve,{variant:"destructive",children:[r.jsx(Ui,{className:"h-4 w-4"}),r.jsx(wr,{children:"Error Loading Roster Settings"}),r.jsxs(ze,{children:[c,". Using default roster configuration as fallback."]})]}):null,r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs(Y,{children:[r.jsxs(ne,{children:[r.jsxs(ie,{className:"flex items-center space-x-2",children:[r.jsx(Yt,{className:"h-5 w-5"}),r.jsx("span",{children:"Starting Lineup"})]}),r.jsx(je,{children:"Required positions for weekly lineup"})]}),r.jsx(X,{children:r.jsx("div",{className:"space-y-3",children:Object.entries((o==null?void 0:o.positions)||zi.roster.positions).filter(([P])=>P!=="BENCH").map(([P,D])=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ee,{variant:"outline",children:P}),r.jsx("span",{className:"text-sm text-muted-foreground",children:P==="FLEX"?"RB/WR/TE":P==="SUPER_FLEX"?"QB/RB/WR/TE":P==="DEF"?"Team Defense":P})]}),r.jsx("span",{className:"font-semibold",children:D})]},P))})})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Y,{children:[r.jsxs(ne,{className:"pb-3",children:[r.jsx(ie,{className:"text-lg",children:"Roster Management"}),r.jsx(je,{className:"text-sm",children:"Roster size and configuration"})]}),r.jsx(X,{children:r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Roster Size"}),r.jsx("p",{className:"text-xl font-bold",children:"21"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Starting Lineup"}),r.jsx("p",{className:"text-xl font-bold",children:"9"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Bench"}),r.jsx("p",{className:"text-xl font-bold",children:"12"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"IR"}),r.jsx("p",{className:"text-xl font-bold",children:"2"})]})]})})]}),r.jsxs(Y,{children:[r.jsxs(ne,{className:"pb-3",children:[r.jsx(ie,{className:"text-lg",children:"Waiver & Trade Rules"}),r.jsx(je,{className:"text-sm",children:"League transaction settings"})]}),r.jsxs(X,{children:[r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Waiver System"}),r.jsx("p",{className:"font-semibold",children:zi.roster.waiverSystem})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"FAAB Budget"}),r.jsxs("p",{className:"font-semibold",children:["$",zi.roster.waiverBudget]})]})]}),r.jsxs("div",{className:"pt-3 mt-3 border-t",children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Waiver Clear Time"}),r.jsx("p",{className:"text-sm font-medium",children:zi.roster.waiverClearTime})]})]})]})]})]})]}),r.jsxs(qe,{value:"schedule",className:"space-y-6",children:[d?r.jsx(Y,{children:r.jsx(X,{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Nt,{className:"h-6 w-6 animate-spin"}),r.jsx("span",{children:"Loading schedule information..."})]})})}):f?r.jsxs(Ve,{variant:"destructive",children:[r.jsx(Ui,{className:"h-4 w-4"}),r.jsx(wr,{children:"Error Loading Schedule Information"}),r.jsxs(ze,{children:[f,". Using default schedule information as fallback."]})]}):null,r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs(Y,{children:[r.jsxs(ne,{children:[r.jsxs(ie,{className:"flex items-center space-x-2",children:[r.jsx(Qn,{className:"h-5 w-5"}),r.jsx("span",{children:"Season Structure"})]}),r.jsx(je,{children:"Regular season and playoff format"})]}),r.jsx(X,{className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Regular Season"}),r.jsx("p",{className:"text-2xl font-bold",children:"12 weeks"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Playoffs"}),r.jsx("p",{className:"text-2xl font-bold",children:"5 weeks"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Playoff Teams"}),r.jsxs("p",{className:"text-2xl font-bold",children:[(u==null?void 0:u.playoff_teams)||10,"/36"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"First Round Byes"}),r.jsx("p",{className:"text-2xl font-bold",children:(u==null?void 0:u.week_14_byes)||6})]})]})})]}),r.jsxs(Y,{children:[r.jsxs(ne,{children:[r.jsx(ie,{children:"Important Dates"}),r.jsxs(je,{children:[e," season timeline"]})]}),r.jsxs(X,{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsx("span",{className:"font-medium",children:"Regular Season"}),r.jsx("span",{className:"text-sm",children:"Weeks 1-12"})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsx("span",{className:"font-medium",children:"Conference Championships"}),r.jsx("span",{className:"text-sm",children:"Week 13"})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsx("span",{className:"font-medium",children:"Playoffs Begin"}),r.jsxs("span",{className:"text-sm",children:["Week ",(u==null?void 0:u.playoff_start_week)||14]})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsx("span",{className:"font-medium",children:"Coliseum Championship"}),r.jsxs("span",{className:"text-sm",children:["Week ",(u==null?void 0:u.championship_week)||17]})]})]})]})]}),r.jsxs(Y,{children:[r.jsx(ne,{children:r.jsx(ie,{children:"Playoff Format"})}),r.jsx(X,{children:r.jsxs("div",{className:"prose prose-sm max-w-none",children:[r.jsxs("p",{className:"mb-4",children:["The playoffs consist of ",(u==null?void 0:u.playoff_teams)||10," teams total across all conferences, with the following structure:"]}),r.jsxs("ul",{className:"space-y-3",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Week 13: Conference Championships"})," - Top 2 teams from each conference compete to become Conference Champion"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Playoff Seeding:"}),r.jsxs("ul",{className:"ml-4 mt-2 space-y-1",children:[r.jsx("li",{children:" Top 3 seeds go to Conference Champions"}),r.jsx("li",{children:" Seeds 4-6 go to losing teams of Conference Championship"}),r.jsxs("li",{children:[" Seeds 7-",(u==null?void 0:u.playoff_teams)||10," go to next highest ranked teams, across all Conferences"]})]})]}),r.jsxs("li",{children:[r.jsxs("strong",{children:["Week ",(u==null?void 0:u.playoff_start_week)||14,": Wildcard Round"]})," - Top ",(u==null?void 0:u.week_14_byes)||6," teams get byes. Remaining teams are matched up based on seeding."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Week 15: Quarterfinals Round"})," - Teams are reseeded, includes winners of Wildcard round matchups and teams on bye"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Week 16: Semifinals Round"})," - Teams are reseeded, includes winners of Quarterfinals"]}),r.jsxs("li",{children:[r.jsxs("strong",{children:["Week ",(u==null?void 0:u.championship_week)||17,": Coliseum Championship"]})," - Winners of Semifinals compete to become the Coliseum Champion"]})]}),r.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:u!=null&&u.reseed?"Teams are reseeded after each round based on original seeding.":"Teams maintain their bracket position throughout the playoffs."})]})})]})]}),r.jsx(qe,{value:"payouts",className:"space-y-6",children:r.jsxs(Y,{children:[r.jsxs(ne,{children:[r.jsxs(ie,{className:"flex items-center space-x-2",children:[r.jsx(Rp,{className:"h-5 w-5"}),r.jsx("span",{children:"Prize Structure"})]}),r.jsx(je,{children:"Annual dues: $100 per team  Total prize pool: $3,600"})]}),r.jsx(X,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-semibold",children:"Coliseum Championship Payouts"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-yellow-50 dark:bg-yellow-900/20",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Kt,{className:"h-5 w-5 text-yellow-600"}),r.jsx("span",{className:"font-medium",children:"Coliseum Champion"})]}),r.jsx("span",{className:"font-bold text-lg",children:"$1,200"})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsx("span",{className:"font-medium",children:"Runner-up"}),r.jsx("span",{className:"font-bold",children:"$800"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-semibold",children:"Regular Season Awards"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsx("span",{className:"font-medium",children:"Conference Champions"}),r.jsx("span",{className:"font-bold",children:"$500 each"})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsx("span",{className:"font-medium",children:"Single Week High Score"}),r.jsx("span",{className:"font-bold",children:"$100"})]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx("p",{children:"Conference champions are determined by regular season record within each conference."}),r.jsx("p",{className:"mt-2",children:"Single week high score award goes to the team with the most points in a single week during the regular season."})]})]})]})]})})]})}),r.jsxs(qe,{value:"charter",className:"space-y-6",children:[x?r.jsx(Y,{children:r.jsx(X,{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Nt,{className:"h-6 w-6 animate-spin"}),r.jsx("span",{children:"Loading charter information..."})]})})}):j?r.jsxs(Ve,{variant:"destructive",children:[r.jsx(Ui,{className:"h-4 w-4"}),r.jsx(wr,{children:"Error Loading Charter"}),r.jsxs(ze,{children:[j,". Please contact an administrator if this issue persists."]})]}):null,r.jsxs(Y,{children:[r.jsxs(ne,{children:[r.jsx(ie,{children:"League Charter"}),r.jsxs(je,{children:["Official constitution and bylaws of the Gladiator League - ",e," Season"]})]}),r.jsx(X,{children:v&&m?r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Ve,{children:[r.jsx(Ui,{className:"h-4 w-4"}),r.jsx(wr,{children:"Official League Document"}),r.jsx(ze,{children:"This charter contains the complete rules, policies, and procedures for the Gladiator League. All league members are expected to be familiar with its contents."})]}),r.jsx(FU,{fileUrl:m.fileUrl,fileName:m.fileName,uploadedAt:m.uploadedAt})]}):r.jsxs("div",{className:"text-center py-12 border-2 border-dashed rounded-lg",children:[r.jsx(hc,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Charter Available"}),r.jsxs("p",{className:"text-muted-foreground mb-4",children:["The league charter document for the ",e," season has not been uploaded yet."]}),r.jsxs(Ve,{className:"max-w-md mx-auto",children:[r.jsx(Ui,{className:"h-4 w-4"}),r.jsx(ze,{children:"League administrators can upload the charter document through the admin panel."})]})]})})]}),r.jsxs(Y,{children:[r.jsx(ne,{children:r.jsx(ie,{children:"League History"})}),r.jsx(X,{children:r.jsxs("div",{className:"prose prose-sm max-w-none",children:[r.jsx("p",{children:"The Gladiator League was founded in 2024 as a premier fantasy football competition consisting of three competitive conferences: Legions of Mars, Guardians of Jupiter, and Vulcan's Oathsworn."}),r.jsx("p",{className:"mt-4",children:"Each conference operates as an independent league while following unified rules and participating in inter-conference competition during special events."}),r.jsx("p",{className:"mt-4",children:"The league charter serves as the official constitution, outlining all rules, procedures, and policies that govern league operations and member conduct."})]})})]})]})]})]})},BU=()=>{const{toast:e}=An(),[t,n]=h.useState(!1),[s,i]=h.useState([]),a={2024:["1072580179844857856","1072593839715667968","1072593416955015168"],2025:["1204854057169072128","1204857692007440384","1204857608989577216"]},o={2024:1,2025:2},l=async u=>{try{console.log(`Fetching data for league ID: ${u}`);const d=await fetch(`https://api.sleeper.app/v1/league/${u}`);if(!d.ok)throw new Error(`HTTP error! status: ${d.status}`);const f=await d.json();return console.log(`Data received for league ${u}:`,f),{name:f.name||"",league_id:f.league_id||u,season:f.season||"",draft_id:f.draft_id||"",status:f.status||"",avatar:f.avatar||""}}catch(d){return console.error(`Error fetching data for league ${u}:`,d),null}},c=async()=>{n(!0);const u=[];try{const d=[...a[2024],...a[2025]];for(const m of d){const x=await l(m);x&&u.push(x)}console.log("All fetched data:",u),i(u);const f=u.map(m=>{const x=o[m.season]||0,j=m.avatar?`https://sleepercdn.com/avatars/thumbs/${m.avatar}`:"";return{conference_name:m.name,league_id:m.league_id,season_id:x,draft_id:m.draft_id,status:m.status,league_logo_url:j}});console.log("Conference records to insert:",f);for(const m of f)try{const{error:x}=await window.ezsite.apis.tableCreate("12820",m);if(x)throw console.error("Error inserting conference record:",x),new Error(x)}catch(x){console.error("Failed to insert conference record:",x),e({title:"Error",description:`Failed to insert conference: ${m.conference_name}`,variant:"destructive"})}e({title:"Success",description:`Successfully loaded ${f.length} conferences from Sleeper API`})}catch(d){console.error("Error loading conferences data:",d),e({title:"Error",description:"Failed to load conferences data from Sleeper API",variant:"destructive"})}finally{n(!1)}};return r.jsxs("div",{className:"p-4 space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Conferences Data Loader"}),r.jsx("button",{onClick:c,disabled:t,className:"px-4 py-2 bg-blue-600 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-blue-700 transition-colors",children:t?"Loading...":"Load Conferences Data"})]}),r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsx("p",{children:"This will fetch data from Sleeper API for the following league IDs:"}),r.jsxs("div",{className:"mt-2 space-y-1",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"2024 Season:"})," ",a[2024].join(", ")]}),r.jsxs("div",{children:[r.jsx("strong",{children:"2025 Season:"})," ",a[2025].join(", ")]})]})]}),s.length>0&&r.jsxs("div",{className:"mt-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Loaded Data Preview:"}),r.jsx("div",{className:"space-y-2",children:s.map((u,d)=>r.jsxs("div",{className:"p-3 border rounded-lg bg-gray-50",children:[r.jsx("div",{className:"font-medium",children:u.name}),r.jsxs("div",{className:"text-sm text-gray-600",children:["League ID: ",u.league_id," | Season: ",u.season," | Status: ",u.status]})]},d))})]})]})},VU=()=>{const{toast:e}=An(),[t,n]=h.useState([]),[s,i]=h.useState([]),[a,o]=h.useState(!0),[l,c]=h.useState(!1),u=async()=>{try{const{data:j,error:v}=await window.ezsite.apis.tablePage("12818",{PageNo:1,PageSize:10,OrderByField:"season_year",IsAsc:!0,Filters:[]});if(v)throw new Error(v);i(j.List||[])}catch(j){console.error("Error fetching seasons:",j),e({title:"Error",description:"Failed to load seasons data",variant:"destructive"})}},d=async()=>{try{const{data:j,error:v}=await window.ezsite.apis.tablePage("12820",{PageNo:1,PageSize:50,OrderByField:"conference_name",IsAsc:!0,Filters:[]});if(v)throw new Error(v);n(j.List||[])}catch(j){console.error("Error fetching conferences:",j),e({title:"Error",description:"Failed to load conferences data",variant:"destructive"})}};h.useEffect(()=>{(async()=>{o(!0),await Promise.all([u(),d()]),o(!1)})()},[]);const f=j=>{const v=s.find(y=>y.id===j);return v?v.season_name:`Season ${j}`},m=j=>{switch(j.toLowerCase()){case"in_season":return"bg-green-500";case"complete":return"bg-blue-500";case"drafting":return"bg-orange-500";case"pre_draft":return"bg-yellow-500";default:return"bg-gray-500"}},x=j=>j.replace(/_/g," ").replace(/\b\w/g,v=>v.toUpperCase());return a?r.jsx("div",{className:"container mx-auto px-4 py-8",children:r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"text-lg",children:"Loading conferences..."})})}):r.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-6",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[r.jsx(Kt,{className:"h-8 w-8 text-yellow-600"}),"Conferences"]}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Fantasy football conferences and leagues"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(J,{variant:"outline",onClick:()=>c(!l),children:[l?"Hide":"Show"," Data Loader"]}),r.jsx(J,{onClick:()=>{d(),e({title:"Refreshed",description:"Conferences data has been refreshed"})},children:"Refresh Data"})]})]}),l&&r.jsx(Y,{children:r.jsx(X,{className:"p-0",children:r.jsx(BU,{})})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(Y,{children:r.jsx(X,{className:"p-6",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Yt,{className:"h-8 w-8 text-blue-600"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:t.length}),r.jsx("div",{className:"text-sm text-gray-600",children:"Total Conferences"})]})]})})}),r.jsx(Y,{children:r.jsx(X,{className:"p-6",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Qn,{className:"h-8 w-8 text-green-600"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:t.filter(j=>j.status==="in_season").length}),r.jsx("div",{className:"text-sm text-gray-600",children:"Active Seasons"})]})]})})}),r.jsx(Y,{children:r.jsx(X,{className:"p-6",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Kt,{className:"h-8 w-8 text-yellow-600"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:s.length}),r.jsx("div",{className:"text-sm text-gray-600",children:"Total Seasons"})]})]})})})]}),r.jsxs(Y,{children:[r.jsx(ne,{children:r.jsx(ie,{children:"Conference Details"})}),r.jsx(X,{children:t.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("p",{className:"text-gray-500 mb-4",children:"No conferences found."}),r.jsx(J,{onClick:()=>c(!0),variant:"outline",children:"Load Conferences Data"})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(mn,{children:[r.jsx(pn,{children:r.jsxs(Pe,{children:[r.jsx(re,{children:"Logo"}),r.jsx(re,{children:"Conference Name"}),r.jsx(re,{children:"Season"}),r.jsx(re,{children:"Status"}),r.jsx(re,{children:"League ID"}),r.jsx(re,{children:"Draft ID"}),r.jsx(re,{children:"Actions"})]})}),r.jsx(gn,{children:t.map(j=>r.jsxs(Pe,{children:[r.jsx(te,{children:j.league_logo_url?r.jsx("img",{src:j.league_logo_url,alt:`${j.conference_name} logo`,className:"w-10 h-10 rounded-full object-cover",onError:v=>{v.target.src="/placeholder.svg"}}):r.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center",children:r.jsx(Kt,{className:"h-5 w-5 text-gray-400"})})}),r.jsx(te,{className:"font-medium",children:j.conference_name}),r.jsx(te,{children:r.jsx(ee,{variant:"secondary",children:f(j.season_id)})}),r.jsx(te,{children:r.jsx(ee,{className:`text-white ${m(j.status)}`,children:x(j.status)})}),r.jsx(te,{className:"font-mono text-sm",children:j.league_id}),r.jsx(te,{className:"font-mono text-sm",children:j.draft_id||"N/A"}),r.jsx(te,{children:r.jsx(J,{variant:"ghost",size:"sm",onClick:()=>{window.open(`https://sleeper.app/leagues/${j.league_id}`,"_blank")},children:r.jsx(zc,{className:"h-4 w-4"})})})]},j.id))})]})})})]})]})};var zU="Label",eT=h.forwardRef((e,t)=>r.jsx(ve.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));eT.displayName=zU;var tT=eT;const WU=zo("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),It=h.forwardRef(({className:e,...t},n)=>r.jsx(tT,{ref:n,className:pe(WU(),e),...t}));It.displayName=tT.displayName;const L0=bE,O0=_E,HU=SE,nT=h.forwardRef(({className:e,...t},n)=>r.jsx(Hf,{ref:n,className:pe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));nT.displayName=Hf.displayName;const og=h.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(HU,{children:[r.jsx(nT,{}),r.jsxs(qf,{ref:s,className:pe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,r.jsxs(NE,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(Cf,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));og.displayName=qf.displayName;const lg=({className:e,...t})=>r.jsx("div",{className:pe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});lg.displayName="DialogHeader";const cg=h.forwardRef(({className:e,...t},n)=>r.jsx(Kf,{ref:n,className:pe("text-lg font-semibold leading-none tracking-tight",e),...t}));cg.displayName=Kf.displayName;const ug=h.forwardRef(({className:e,...t},n)=>r.jsx(Gf,{ref:n,className:pe("text-sm text-muted-foreground",e),...t}));ug.displayName=Gf.displayName;const qU=()=>{const[e,t]=h.useState([]),[n,s]=h.useState([]),[i,a]=h.useState(null),[o,l]=h.useState(null),[c,u]=h.useState(!1),[d,f]=h.useState(!1),[m,x]=h.useState(!0),[j,v]=h.useState(!1),[y,g]=h.useState(null),{toast:p}=An(),[w,b]=h.useState(""),[S,T]=h.useState(""),[N,E]=h.useState(""),[P,D]=h.useState("");h.useEffect(()=>{R()},[]),h.useEffect(()=>{i&&M()},[i]);const R=async()=>{try{const _=await le.getSeasons(),C=Array.isArray(_)?_:(_==null?void 0:_.data)||[],k=C.map(I=>({...I,is_current_season:I.is_current_season??!1}));t(k);const L=C.find(I=>I.is_current_season);L?a(L.id):C.length>0&&a(C[0].id)}catch(_){console.error("Error loading seasons:",_),p({title:"Error",description:`Failed to load seasons: ${_}`,variant:"destructive"})}finally{x(!1)}},M=async()=>{var _;if(i)try{const C=await V("load conferences");s(((_=C==null?void 0:C.data)==null?void 0:_.List)||[])}catch(C){console.error("Error loading conferences:",C),p({title:"Error",description:`Failed to load conferences: ${C}`,variant:"destructive"})}},$=async _=>{if(_.preventDefault(),!(!w||!S))try{v(!0);const C=await le.createSeason({season_year:w,season_name:S,is_current:!1});if(C.error)throw C.error;p({title:"Season Added",description:`${S} has been created successfully`}),b(""),T(""),u(!1),R()}catch(C){console.error("Error adding season:",C),p({title:"Error",description:`Failed to add season: ${C}`,variant:"destructive"})}finally{v(!1)}},O=async _=>{if(_.preventDefault(),!(!N||!P||!i))try{v(!0);const C=await le.createConference({conference_name:N,league_id:P,season_id:i,draft_id:"",status:"draft",league_logo_url:""});if(C.error)throw C.error;p({title:"League Added",description:`${N} has been created successfully`}),E(""),D(""),f(!1),M()}catch(C){console.error("Error adding league:",C),p({title:"Error",description:`Failed to add league: ${C}`,variant:"destructive"})}finally{v(!1)}},K=async _=>{try{v(!0);const C=await le.updateConference(_.id,{conference_name:_.conference_name,league_id:_.league_id,season_id:_.season_id,draft_id:_.draft_id,status:_.status,league_logo_url:_.league_logo_url});if(C.error)throw C.error;p({title:"Conference Updated",description:"Conference details have been saved successfully"}),l(null),M()}catch(C){console.error("Error saving conference:",C),p({title:"Error",description:`Failed to save conference: ${C}`,variant:"destructive"})}finally{v(!1)}},F=async _=>{if(_)try{g(_);const C=await fetch(`https://api.sleeper.app/v1/league/${_}`);if(C.ok){const k=await C.json();p({title:"Connection Successful",description:`League "${k.name}" found on Sleeper API`})}else throw new Error(`API returned ${C.status}`)}catch(C){console.error("Error testing connection:",C),p({title:"Connection Failed",description:`Unable to connect to Sleeper API for league ID: ${_}`,variant:"destructive"})}finally{g(null)}},V=async _=>(console.log(`Placeholder: ${_}`),{data:{List:[]},error:null}),A=e.find(_=>_.id===i);return m?r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsx("div",{className:"animate-spin h-8 w-8 border-b-2 border-blue-600 rounded-full"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Y,{children:[r.jsxs(ne,{children:[r.jsx(ie,{children:"Season Management"}),r.jsx(je,{children:"Select and manage fantasy football seasons"})]}),r.jsx(X,{children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx(It,{htmlFor:"season-select",children:"Select Season"}),r.jsxs(At,{value:(i==null?void 0:i.toString())||"",onValueChange:_=>a(parseInt(_)),children:[r.jsx(Et,{children:r.jsx(Dt,{placeholder:"Select a season"})}),r.jsx(Ct,{children:e.map(_=>r.jsx(Me,{value:_.id.toString(),children:r.jsxs("div",{className:"flex items-center gap-2",children:[_.season_name,_.is_current_season&&r.jsx(ee,{variant:"secondary",className:"text-xs",children:"Current"})]})},_.id))})]})]}),r.jsxs(L0,{open:c,onOpenChange:u,children:[r.jsx(O0,{asChild:!0,children:r.jsx(J,{variant:"outline",size:"icon",children:r.jsx(Id,{className:"h-4 w-4"})})}),r.jsxs(og,{children:[r.jsxs(lg,{children:[r.jsx(cg,{children:"Add New Season"}),r.jsx(ug,{children:"Create a new fantasy football season"})]}),r.jsxs("form",{onSubmit:$,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(It,{htmlFor:"season-year",children:"Season Year"}),r.jsx(fn,{id:"season-year",type:"number",value:w,onChange:_=>b(_.target.value),placeholder:"2025",min:"2020",max:"2030"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(It,{htmlFor:"season-name",children:"Season Name"}),r.jsx(fn,{id:"season-name",value:S,onChange:_=>T(_.target.value),placeholder:"2025 Season"})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(J,{type:"button",variant:"outline",onClick:()=>u(!1),children:"Cancel"}),r.jsx(J,{type:"submit",disabled:j,children:j?"Adding...":"Add Season"})]})]})]})]})]})})]}),A&&r.jsxs(Y,{children:[r.jsx(ne,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(ie,{children:["Conferences - ",A.season_name]}),r.jsxs(je,{children:["Manage league IDs and conference settings for ",A.season_name]})]}),r.jsxs(L0,{open:d,onOpenChange:f,children:[r.jsx(O0,{asChild:!0,children:r.jsxs(J,{children:[r.jsx(Id,{className:"h-4 w-4 mr-2"}),"Add New League"]})}),r.jsxs(og,{children:[r.jsxs(lg,{children:[r.jsx(cg,{children:"Add New League"}),r.jsxs(ug,{children:["Add a new conference/league to ",A.season_name]})]}),r.jsxs("form",{onSubmit:O,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(It,{htmlFor:"league-name",children:"League Name"}),r.jsx(fn,{id:"league-name",value:N,onChange:_=>E(_.target.value),placeholder:"Conference Name"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(It,{htmlFor:"league-id",children:"Sleeper League ID"}),r.jsx(fn,{id:"league-id",value:P,onChange:_=>D(_.target.value),placeholder:"123456789012345678"})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(J,{type:"button",variant:"outline",onClick:()=>f(!1),children:"Cancel"}),r.jsx(J,{type:"submit",disabled:j,children:j?"Adding...":"Add League"})]})]})]})]})]})}),r.jsx(X,{children:n.length===0?r.jsx(Ve,{children:r.jsxs(ze,{children:["No conferences found for ",A.season_name,". Add a new league to get started."]})}):r.jsxs(mn,{children:[r.jsx(pn,{children:r.jsxs(Pe,{children:[r.jsx(re,{children:"Conference Name"}),r.jsx(re,{children:"League ID"}),r.jsx(re,{children:"Draft ID"}),r.jsx(re,{children:"Status"}),r.jsx(re,{children:"Actions"})]})}),r.jsx(gn,{children:n.map(_=>r.jsxs(Pe,{children:[r.jsx(te,{children:(o==null?void 0:o.id)===_.id?r.jsx(fn,{value:o.conference_name,onChange:C=>l({...o,conference_name:C.target.value})}):r.jsx("span",{className:"font-medium",children:_.conference_name})}),r.jsx(te,{children:(o==null?void 0:o.id)===_.id?r.jsx(fn,{value:o.league_id,onChange:C=>l({...o,league_id:C.target.value})}):r.jsx("code",{className:"text-sm bg-muted px-2 py-1 rounded",children:_.league_id})}),r.jsx(te,{children:(o==null?void 0:o.id)===_.id?r.jsx(fn,{value:o.draft_id,onChange:C=>l({...o,draft_id:C.target.value})}):r.jsx("code",{className:"text-sm bg-muted px-2 py-1 rounded",children:_.draft_id||"Not set"})}),r.jsx(te,{children:r.jsx(ee,{variant:_.status==="in_season"?"default":_.status==="complete"?"secondary":"outline",children:_.status})}),r.jsx(te,{children:r.jsx("div",{className:"flex items-center gap-2",children:(o==null?void 0:o.id)===_.id?r.jsxs(r.Fragment,{children:[r.jsx(J,{size:"sm",onClick:()=>K(o),disabled:j,children:r.jsx(hN,{className:"h-4 w-4"})}),r.jsx(J,{size:"sm",variant:"outline",onClick:()=>l(null),children:"Cancel"})]}):r.jsxs(r.Fragment,{children:[r.jsx(J,{size:"sm",variant:"outline",onClick:()=>l(_),children:r.jsx($p,{className:"h-4 w-4"})}),r.jsx(J,{size:"sm",variant:"outline",onClick:()=>F(_.league_id),disabled:y===_.league_id,children:y===_.league_id?r.jsx("div",{className:"animate-spin h-4 w-4 border-b-2 border-blue-600 rounded-full"}):r.jsx(d$,{className:"h-4 w-4"})})]})})})]},_.id))})]})})]})]})};var eh="Checkbox",[KU,iH]=ns(eh),[GU,bv]=KU(eh);function YU(e){const{__scopeCheckbox:t,checked:n,children:s,defaultChecked:i,disabled:a,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[m,x]=Pr({prop:n,defaultProp:i??!1,onChange:c,caller:eh}),[j,v]=h.useState(null),[y,g]=h.useState(null),p=h.useRef(!1),w=j?!!o||!!j.closest("form"):!0,b={checked:m,disabled:a,setChecked:x,control:j,setControl:v,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:p,required:u,defaultChecked:vi(i)?!1:i,isFormControl:w,bubbleInput:y,setBubbleInput:g};return r.jsx(GU,{scope:t,...b,children:QU(f)?f(b):s})}var sT="CheckboxTrigger",rT=h.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...s},i)=>{const{control:a,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:m,isFormControl:x,bubbleInput:j}=bv(sT,e),v=Ke(i,d),y=h.useRef(c);return h.useEffect(()=>{const g=a==null?void 0:a.form;if(g){const p=()=>f(y.current);return g.addEventListener("reset",p),()=>g.removeEventListener("reset",p)}},[a,f]),r.jsx(ve.button,{type:"button",role:"checkbox","aria-checked":vi(c)?"mixed":c,"aria-required":u,"data-state":cT(c),"data-disabled":l?"":void 0,disabled:l,value:o,...s,ref:v,onKeyDown:xe(t,g=>{g.key==="Enter"&&g.preventDefault()}),onClick:xe(n,g=>{f(p=>vi(p)?!0:!p),j&&x&&(m.current=g.isPropagationStopped(),m.current||g.stopPropagation())})})});rT.displayName=sT;var _v=h.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:s,checked:i,defaultChecked:a,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return r.jsx(YU,{__scopeCheckbox:n,checked:i,defaultChecked:a,disabled:l,required:o,onCheckedChange:u,name:s,form:d,value:c,internal_do_not_use_render:({isFormControl:m})=>r.jsxs(r.Fragment,{children:[r.jsx(rT,{...f,ref:t,__scopeCheckbox:n}),m&&r.jsx(lT,{__scopeCheckbox:n})]})})});_v.displayName=eh;var iT="CheckboxIndicator",aT=h.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:s,...i}=e,a=bv(iT,n);return r.jsx(fr,{present:s||vi(a.checked)||a.checked===!0,children:r.jsx(ve.span,{"data-state":cT(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});aT.displayName=iT;var oT="CheckboxBubbleInput",lT=h.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:s,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:m,setBubbleInput:x}=bv(oT,e),j=Ke(n,x),v=uv(a),y=Wx(s);h.useEffect(()=>{const p=m;if(!p)return;const w=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(w,"checked").set,T=!i.current;if(v!==a&&S){const N=new Event("click",{bubbles:T});p.indeterminate=vi(a),S.call(p,vi(a)?!1:a),p.dispatchEvent(N)}},[m,v,a,i]);const g=h.useRef(vi(a)?!1:a);return r.jsx(ve.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??g.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:j,style:{...t.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});lT.displayName=oT;function QU(e){return typeof e=="function"}function vi(e){return e==="indeterminate"}function cT(e){return vi(e)?"indeterminate":e?"checked":"unchecked"}const uT=h.forwardRef(({className:e,...t},n)=>r.jsx(_v,{ref:n,className:pe("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:r.jsx(aT,{className:pe("flex items-center justify-center text-current"),children:r.jsx(Dx,{className:"h-4 w-4"})})}));uT.displayName=_v.displayName;class dT{static async fetchLeagueDrafts(t){try{console.log(`Fetching drafts for league: ${t}`);const n=await fetch(`${this.baseUrl}/league/${t}/drafts`);if(!n.ok)throw new Error(`Failed to fetch drafts: ${n.status} ${n.statusText}`);const s=await n.json();return console.log(`Fetched ${s.length} drafts for league ${t}`),s}catch(n){throw console.error("Error fetching league drafts:",n),n}}static async fetchDraftPicks(t){try{console.log(`Fetching picks for draft: ${t}`);const n=await fetch(`${this.baseUrl}/draft/${t}/picks`);if(!n.ok)throw new Error(`Failed to fetch draft picks: ${n.status} ${n.statusText}`);const s=await n.json();return console.log(`Fetched ${s.length} picks for draft ${t}`),s}catch(n){throw console.error("Error fetching draft picks:",n),n}}static async getTeamIdFromOwnerMatcher(t,n){var s,i;try{const{data:a,error:o}=await window.ezsite.apis.tablePage(12853,{PageNo:1,PageSize:1,Filters:[{name:"roster_id",op:"Equal",value:t},{name:"conference_id",op:"Equal",value:n},{name:"is_active",op:"Equal",value:!0}]});if(!o&&((s=a==null?void 0:a.List)==null?void 0:s.length)>0){const u=a.List[0].team_id;return console.log(`Found team ID ${u} for roster_id ${t} in conference ${n}`),u}const{data:l,error:c}=await window.ezsite.apis.tablePage(12852,{PageNo:1,PageSize:1,Filters:[{name:"owner_id",op:"Equal",value:t}]});return c?(console.error(`Error finding team for owner_id ${t}:`,c),null):((i=l==null?void 0:l.List)==null?void 0:i.length)>0?(console.log(`Found team ID ${l.List[0].id} for owner_id ${t} (legacy mapping)`),l.List[0].id):(console.warn(`No team found for Sleeper roster_id/owner_id ${t} in conference ${n}`),null)}catch(a){return console.error("Error in getTeamIdFromOwnerMatcher:",a),null}}static async processDraftPicksForDatabase(t,n,s){var i,a;try{console.log(`Processing ${s.length} draft picks for conference ${t}, season ${n}`);const o=[];for(const l of s){const c=await this.getTeamIdFromOwnerMatcher(l.picked_by,t);if(!c){console.warn(`Skipping pick ${l.pick_no} - no team found for roster_id ${l.picked_by}`);continue}o.push({season_id:n,conference_id:t,round:l.round,draft_slot:l.draft_slot,pick_number:l.pick_no,team_id:c,player_id:l.player_id,player_name:l.metadata?`${l.metadata.first_name||""} ${l.metadata.last_name||""}`.trim():"Unknown Player",position:((i=l.metadata)==null?void 0:i.position)||"UNK",nfl_team:((a=l.metadata)==null?void 0:a.team)||"UNK",draft_id:l.draft_id})}return console.log(`Processed ${o.length} draft picks (${s.length-o.length} skipped due to missing team mapping)`),o}catch(o){throw console.error("Error processing draft picks:",o),o}}static async fetchAndStoreDraftResults(){try{console.log(" Starting draft results sync for all conferences...");const{data:t,error:n}=await window.ezsite.apis.tablePage(12820,{PageNo:1,PageSize:50,OrderByField:"id",IsAsc:!0});if(n)throw new Error(`Failed to fetch conferences: ${n}`);const s=(t==null?void 0:t.List)||[];console.log(`Found ${s.length} conferences`);const{data:i,error:a}=await window.ezsite.apis.tablePage(12818,{PageNo:1,PageSize:50,OrderByField:"season_year",IsAsc:!1});if(a)throw new Error(`Failed to fetch seasons: ${a}`);const o=(i==null?void 0:i.List)||[];console.log(`Found ${o.length} seasons`);let l=0;const c=[];for(const u of s)try{console.log(`
 Processing conference: ${u.conference_name} (League ID: ${u.league_id})`);const d=o.find(m=>m.id===u.season_id);if(!d){console.warn(` Season not found for conference ${u.conference_name}`);continue}const f=await this.fetchLeagueDrafts(u.league_id);if(f.length===0){console.warn(` No drafts found for league ${u.league_id}`);continue}for(const m of f){console.log(` Processing draft: ${m.draft_id} for season ${d.season_year}`);const x=await this.fetchDraftPicks(m.draft_id);if(x.length===0){console.warn(` No picks found for draft ${m.draft_id}`);continue}const j=await this.processDraftPicksForDatabase(u.id,d.id,x);console.log(` Clearing existing draft results for conference ${u.id}, season ${d.id}`);const{data:v,error:y}=await window.ezsite.apis.tablePage(27845,{PageNo:1,PageSize:1e3,Filters:[{name:"conference_id",op:"Equal",value:u.id},{name:"season_id",op:"Equal",value:d.id}]});if(!y&&(v!=null&&v.List))for(const g of v.List)await window.ezsite.apis.tableDelete(27845,{ID:g.id});console.log(` Inserting ${j.length} draft picks into database...`);for(const g of j){const{error:p}=await window.ezsite.apis.tableCreate(27845,{season_id:g.season_id,conference_id:g.conference_id,round:g.round,draft_slot:g.draft_slot,pick_number:g.pick_number,team_id:g.team_id,player_id:g.player_id});p?console.error(` Error inserting pick ${g.pick_number}:`,p):l++}c.push({conference:u.conference_name,season:d.season_year,draftId:m.draft_id,picksProcessed:j.length})}}catch(d){console.error(` Error processing conference ${u.conference_name}:`,d),c.push({conference:u.conference_name,error:d.message})}return console.log(`
 Draft sync completed! Total picks processed: ${l}`),{success:!0,message:`Successfully processed ${l} draft picks across ${c.length} conference/season combinations`,data:c}}catch(t){return console.error(" Error in draft sync:",t),{success:!1,message:`Draft sync failed: ${t.message}`}}}}us(dT,"baseUrl","https://api.sleeper.app/v1");const XU=()=>{const[e,t]=h.useState([]),[n,s]=h.useState([]),[i,a]=h.useState([]),[o,l]=h.useState(null),[c,u]=h.useState(!1),[d,f]=h.useState(!1),[m,x]=h.useState(!1),[j,v]=h.useState(!1),[y,g]=h.useState(!1),[p,w]=h.useState(!1),[b,S]=h.useState(0),[T,N]=h.useState(0),[E,P]=h.useState(0),[D,R]=h.useState(0),[M,$]=h.useState(0),[O,K]=h.useState(0),[F,V]=h.useState([]),[A,_]=h.useState([]),[C,k]=h.useState(null),[L,I]=h.useState(null),[H,ae]=h.useState(null),[Q,z]=h.useState(null),[W,G]=h.useState(null),[U,se]=h.useState(null),[ce,ue]=h.useState(null),[ge,fe]=h.useState(null),[ye,Se]=h.useState(null),[Ze,oe]=h.useState(null),[_e,et]=h.useState(!0),[Ue,Lr]=h.useState("all"),[Qt,ru]=h.useState("all"),[rl,qs]=h.useState("all"),[Mn,we]=h.useState("all"),[We,Xt]=h.useState(1),[Ut,Na]=h.useState(17),[il,Ii]=h.useState([]),{toast:xt}=An();h.useEffect(()=>{dh(),fh(),hh(),mh(),Bt(),yn(),wn(),Ss()},[]),h.useEffect(()=>{o&&al()},[o]);const dh=async()=>{try{const B=await le.getSeasons(),he=Array.isArray(B)?B:(B==null?void 0:B.data)||[];t(he);const Je=he.find(Ie=>Ie.is_current_season);Je?l(Je.id):he.length>0&&l(he[0].id)}catch(B){console.error("Error loading seasons:",B),xt({title:"Error",description:`Failed to load seasons: ${B}`,variant:"destructive"})}finally{et(!1)}},al=async()=>{if(o)try{const B=await le.getConferences(),he=Array.isArray(B)?B:(B==null?void 0:B.data)||[];s(he)}catch(B){console.error("Error loading conferences:",B),xt({title:"Error",description:`Failed to load conferences: ${B}`,variant:"destructive"})}},fh=()=>{const B=localStorage.getItem("last_data_sync");B&&G(new Date(B).toLocaleString())},hh=()=>{const B=localStorage.getItem("last_teams_sync");B&&se(new Date(B).toLocaleString())},mh=()=>{const B=localStorage.getItem("last_players_sync");B&&ue(new Date(B).toLocaleString())},Bt=()=>{const B=localStorage.getItem("last_matchups_sync");B&&fe(new Date(B).toLocaleString())},yn=()=>{const B=localStorage.getItem("last_draft_sync");B&&Se(new Date(B).toLocaleString())},wn=()=>{const B=localStorage.getItem("last_rosters_sync");B&&oe(new Date(B).toLocaleString())},Ss=async()=>{try{const B=await le.getTeams(),he=Array.isArray(B)?B:(B==null?void 0:B.data)||[];a(he)}catch(B){console.error("Error loading teams:",B)}},Jt=()=>{switch(Mn){case"range":const B=[];for(let he=We;he<=Ut;he++)B.push(he);return B;case"specific":return[...il];case"all":default:return Array.from({length:17},(he,Je)=>Je+1)}},jn=B=>{Ii(he=>he.includes(B)?he.filter(Je=>Je!==B):[...he,B].sort((Je,Ie)=>Je-Ie))},ss=()=>{Ii(Array.from({length:17},(B,he)=>he+1))},Or=()=>{Ii([])};$e.useEffect(()=>{We>Ut&&Na(We)},[We,Ut]);const Mt=async()=>{var he,Je;if(!o||n.length===0){xt({title:"No Data to Sync",description:"Please select a season with conferences to sync rosters",variant:"destructive"});return}const B=Jt();if(B.length===0){xt({title:"No Weeks Selected",description:"Please select at least one week to sync",variant:"destructive"});return}w(!0),K(0),z(null);try{console.log("Starting team rosters sync from Sleeper API..."),console.log(`Syncing weeks: ${B.join(", ")}`),K(5);let Ie=0,tt=0,vt=0,it=0,bt=0;const Le=n.length*B.length;let Qe=0;for(const Ge of n)try{console.log(`Processing rosters for league ${Ge.league_id}...`);for(const Te of B){try{console.log(`Fetching roster data for league ${Ge.league_id}, week ${Te}...`);const ut=await fetch(`https://api.sleeper.app/v1/league/${Ge.league_id}/matchups/${Te}`);if(!ut.ok){if(ut.status===404){console.log(`No matchups found for league ${Ge.league_id}, week ${Te} (404 - may not exist yet)`);continue}throw new Error(`API returned ${ut.status}: ${ut.statusText}`)}const an=await ut.json();if(console.log(`Received ${an.length} roster entries for league ${Ge.league_id}, week ${Te}`),!Array.isArray(an)||an.length===0){console.log(`No matchup data available for league ${Ge.league_id}, week ${Te}`);continue}for(const en of an){if(!en.roster_id||!en.players||!Array.isArray(en.players)){console.warn("Skipping entry with missing roster_id or players array:",en);continue}const bn=await rs(en.roster_id,Ge.id);if(!bn){console.warn(`Could not find team ID for roster_id ${en.roster_id} in conference ${Ge.id}`);continue}for(const as of en.players)if(as)try{const{data:In,error:zt}=await window.ezsite.apis.tablePage(12870,{PageNo:1,PageSize:1,Filters:[{name:"sleeper_player_id",op:"Equal",value:as}]});if(zt){console.error(`Error searching for player ${as}:`,zt);continue}if(((he=In==null?void 0:In.List)==null?void 0:he.length)>0){const os=In.List[0].id,{data:Gs,error:ls}=await window.ezsite.apis.tablePage(27886,{PageNo:1,PageSize:1,Filters:[{name:"team_id",op:"Equal",value:bn},{name:"player_id",op:"Equal",value:os},{name:"season_id",op:"Equal",value:o},{name:"week",op:"Equal",value:Te}]});if(ls){console.error("Error searching for existing roster record:",ls);continue}const au={team_id:bn,player_id:os,season_id:o,week:Te};if(((Je=Gs==null?void 0:Gs.List)==null?void 0:Je.length)>0){const cs=Gs.List[0],ph={...au,ID:cs.id},{error:_n}=await La("tableUpdate");_n?console.error("Error updating roster record:",_n):(vt++,Ie++)}else{const{error:cs}=await vl("tableCreate");cs?console.error("Error creating roster record:",cs):(tt++,Ie++)}}else console.warn(`Player with sleeper_player_id ${as} not found in database`)}catch(In){console.error(`Error processing player ${as}:`,In)}}bt++,await new Promise(en=>setTimeout(en,100))}catch(ut){console.error(`Error processing week ${Te} for league ${Ge.league_id}:`,ut)}Qe++;const Zt=5+Qe/Le*90;K(Zt)}it++,console.log(` Completed processing rosters for league ${Ge.league_id}`),await new Promise(Te=>setTimeout(Te,200))}catch(Te){console.error(`Error processing league ${Ge.league_id}:`,Te)}z({success:!0,players_processed:Ie,rosters_created:tt,rosters_updated:vt,leagues_processed:it,weeks_processed:bt}),console.log(` Successfully synced rosters: ${tt} created, ${vt} updated, ${Ie} total player assignments`);const at=new Date().toISOString();localStorage.setItem("last_rosters_sync",at),oe(new Date(at).toLocaleString()),xt({title:"Team Rosters Sync Complete",description:`${tt} rosters created, ${vt} updated across ${it} leagues`,variant:"default"})}catch(Ie){console.error(" Error syncing rosters:",Ie),z({success:!1,error:Ie.toString(),players_processed:0,rosters_created:0,rosters_updated:0,leagues_processed:0,weeks_processed:0}),xt({title:"Team Rosters Sync Failed",description:`Failed to sync rosters: ${Ie}`,variant:"destructive"})}finally{w(!1),K(100)}},rs=async(B,he)=>{var Je;try{const{data:Ie,error:tt}=await window.ezsite.apis.tablePage(12853,{PageNo:1,PageSize:1,Filters:[{name:"roster_id",op:"Equal",value:B},{name:"conference_id",op:"Equal",value:he},{name:"is_active",op:"Equal",value:!0}]});return tt?(console.error(`Error finding team for roster_id ${B}:`,tt),null):((Je=Ie==null?void 0:Ie.List)==null?void 0:Je.length)>0?Ie.List[0].team_id:(console.warn(`No team found for roster_id ${B} in conference ${he}`),null)}catch(Ie){return console.error("Error in getTeamIdFromRosterId:",Ie),null}},is=async()=>{if(!o||n.length===0){xt({title:"No Data to Sync",description:"Please select a season with conferences to sync",variant:"destructive"});return}u(!0),S(0),V([]);const B=[],he=n.length;for(let vt=0;vt<n.length;vt++){const it=n[vt];S((vt+1)/he*100);try{console.log(`Syncing league ${it.league_id}...`);const bt=await fetch(`https://api.sleeper.app/v1/league/${it.league_id}`);if(!bt.ok)throw new Error(`API returned ${bt.status}: ${bt.statusText}`);const Le=await bt.json();console.log("Sleeper API response:",Le);const Qe={ID:it.id,conference_name:Le.name||it.conference_name,league_id:Le.league_id||it.league_id,season_id:it.season_id,draft_id:Le.draft_id||it.draft_id,status:Le.status||it.status,league_logo_url:Le.avatar?`https://sleepercdn.com/avatars/thumbs/${Le.avatar}`:it.league_logo_url},{error:at}=await La("tableUpdate");if(at)throw at;B.push({league_id:it.league_id,success:!0,data:Le}),console.log(`Successfully synced league ${it.league_id}`)}catch(bt){console.error(`Error syncing league ${it.league_id}:`,bt),B.push({league_id:it.league_id,success:!1,error:bt.toString()})}await new Promise(bt=>setTimeout(bt,200))}V(B),u(!1),S(100);const Je=new Date().toISOString();localStorage.setItem("last_data_sync",Je),G(new Date(Je).toLocaleString()),al();const Ie=B.filter(vt=>vt.success).length,tt=B.filter(vt=>!vt.success).length;xt({title:"Data Sync Complete",description:`${Ie} successful, ${tt} failed`,variant:tt>0?"destructive":"default"})},Ns=async()=>{var B,he,Je,Ie;if(!o||n.length===0){xt({title:"No Data to Sync",description:"Please select a season with conferences to sync teams",variant:"destructive"});return}f(!0),N(0),_([]);try{console.log("Starting teams sync from Sleeper API..."),N(5);const tt=[],vt=n.length;let it=0,bt=0;for(let Ge=0;Ge<n.length;Ge++){const Te=n[Ge];N(5+Ge/vt*90);try{console.log(`Processing teams for league ${Te.league_id}...`);const[Zt,ut,an]=await Promise.all([fetch(`https://api.sleeper.app/v1/league/${Te.league_id}`),fetch(`https://api.sleeper.app/v1/league/${Te.league_id}/rosters`),fetch(`https://api.sleeper.app/v1/league/${Te.league_id}/users`)]);if(!Zt.ok||!ut.ok||!an.ok)throw new Error(`API request failed for league ${Te.league_id}`);const[en,bn,as]=await Promise.all([Zt.json(),ut.json(),an.json()]);console.log(`Fetched ${bn.length} rosters and ${as.length} users for league ${Te.league_id}`);for(const In of bn){const zt=as.find(_n=>_n.user_id===In.owner_id);if(!zt){console.warn(`No user found for roster ${In.roster_id}`);continue}const iu={team_name:((B=zt.metadata)==null?void 0:B.team_name)||zt.display_name||zt.username,owner_name:zt.display_name||zt.username,owner_id:zt.user_id,co_owner_name:"",co_owner_id:"",team_logo_url:zt.avatar?`https://sleepercdn.com/avatars/thumbs/${zt.avatar}`:"",team_primary_color:"#1f2937",team_secondary_color:"#6b7280"},{data:os,error:Gs}=await window.ezsite.apis.tablePage(12852,{PageNo:1,PageSize:1,Filters:[{name:"owner_id",op:"Equal",value:zt.user_id}]});if(Gs){console.error("Error searching for existing team:",Gs);continue}let ls;if(((he=os==null?void 0:os.List)==null?void 0:he.length)>0){const _n=os.List[0],Ea={...iu,ID:_n.id},{error:Fi}=await La("tableUpdate");if(Fi){console.error("Error updating team:",Fi);continue}ls=_n.id}else{const{error:_n}=await vl("tableCreate");if(_n){console.error("Error creating team:",_n);continue}const{data:Ea,error:Fi}=await window.ezsite.apis.tablePage(12852,{PageNo:1,PageSize:1,Filters:[{name:"owner_id",op:"Equal",value:zt.user_id}]});if(Fi||!((Je=Ea==null?void 0:Ea.List)!=null&&Je.length)){console.error("Error retrieving new team ID");continue}ls=Ea.List[0].id,it++}const au={team_id:ls,conference_id:Te.id,roster_id:In.roster_id.toString(),is_active:!0,joined_date:new Date().toISOString()},{data:cs,error:ph}=await window.ezsite.apis.tablePage(12853,{PageNo:1,PageSize:1,Filters:[{name:"team_id",op:"Equal",value:ls},{name:"conference_id",op:"Equal",value:Te.id}]});if(ph){console.error("Error searching for existing junction:",ph);continue}if(((Ie=cs==null?void 0:cs.List)==null?void 0:Ie.length)>0){const _n=cs.List[0],Ea={...au,ID:_n.id},{error:Fi}=await La("tableUpdate");Fi&&console.error("Error updating junction:",Fi)}else{const{error:_n}=await vl("tableCreate");_n?console.error("Error creating junction:",_n):bt++}}tt.push({league_id:Te.league_id,success:!0,teams_created:it,junction_records_created:bt}),console.log(` Completed teams sync for league ${Te.league_id}`)}catch(Zt){console.error(`Error syncing teams for league ${Te.league_id}:`,Zt),tt.push({league_id:Te.league_id,success:!1,error:Zt.toString(),teams_created:0,junction_records_created:0})}await new Promise(Zt=>setTimeout(Zt,200))}_(tt),N(100);const Le=new Date().toISOString();localStorage.setItem("last_teams_sync",Le),se(new Date(Le).toLocaleString()),Ss();const Qe=tt.filter(Ge=>Ge.success).length,at=tt.filter(Ge=>!Ge.success).length;xt({title:"Teams Sync Complete",description:`${Qe} successful, ${at} failed`,variant:at>0?"destructive":"default"})}catch(tt){console.error(" Error syncing teams:",tt),xt({title:"Teams Sync Failed",description:`Failed to sync teams: ${tt}`,variant:"destructive"})}finally{f(!1)}},Li=async()=>{var B;x(!0),P(0),k(null);try{console.log("Starting players sync from Sleeper API..."),P(5);const he=await fetch("https://api.sleeper.app/v1/players/nfl");if(!he.ok)throw new Error(`API returned ${he.status}: ${he.statusText}`);const Je=await he.json(),Ie=Object.keys(Je);console.log(`Fetched ${Ie.length} players from Sleeper API`),P(20);let tt=0,vt=0;const it=Ie.length;for(let Le=0;Le<Ie.length;Le++){const Qe=Ie[Le],at=Je[Qe];if(!at)continue;const Ge=20+Le/it*75;P(Ge);try{const{data:Te,error:Zt}=await window.ezsite.apis.tablePage(12870,{PageNo:1,PageSize:1,Filters:[{name:"sleeper_player_id",op:"Equal",value:Qe}]});if(Zt){console.error(`Error searching for player ${Qe}:`,Zt);continue}const ut={sleeper_player_id:Qe,player_name:`${at.first_name||""} ${at.last_name||""}`.trim()||"Unknown Player",position:at.position||"UNK",team_id:0,nfl_team:at.team||"FA",jersey_number:at.jersey_number||0,status:at.status||"Active",injury_status:at.injury_status||"Healthy",age:at.age||0,height:at.height||"",weight:at.weight||0,years_experience:at.years_exp||0,depth_chart_position:at.depth_chart_position||1,college:at.college||"",is_current_data:!0,last_updated:new Date().toISOString(),data_version:1};if(((B=Te==null?void 0:Te.List)==null?void 0:B.length)>0){const an=Te.List[0],en={...ut,ID:an.id},{error:bn}=await La("tableUpdate");bn?console.error(`Error updating player ${Qe}:`,bn):vt++}else{const{error:an}=await vl("tableCreate");an?console.error(`Error creating player ${Qe}:`,an):tt++}}catch(Te){console.error(`Error processing player ${Qe}:`,Te)}Le%100===0&&await new Promise(Te=>setTimeout(Te,50))}k({success:!0,players_created:tt,players_updated:vt}),console.log(` Successfully synced players: ${tt} created, ${vt} updated`);const bt=new Date().toISOString();localStorage.setItem("last_players_sync",bt),ue(new Date(bt).toLocaleString()),xt({title:"Players Sync Complete",description:`${tt} players created, ${vt} updated`,variant:"default"})}catch(he){console.error(" Error syncing players:",he),k({success:!1,error:he.toString(),players_created:0,players_updated:0}),xt({title:"Players Sync Failed",description:`Failed to sync players: ${he}`,variant:"destructive"})}finally{x(!1),P(100)}},Oi=async()=>{var B;if(!o||n.length===0){xt({title:"No Data to Sync",description:"Please select a season with conferences to sync matchups",variant:"destructive"});return}v(!0),R(0),I(null);try{console.log("Starting matchups sync from Sleeper API..."),R(5);let he=0,Je=0,Ie=0,tt=0;const vt=n.length*17;let it=0;for(const Le of n)try{console.log(`Processing matchups for league ${Le.league_id}...`);for(let Qe=1;Qe<=17;Qe++){try{console.log(`Fetching matchups for league ${Le.league_id}, week ${Qe}...`);const Ge=await fetch(`https://api.sleeper.app/v1/league/${Le.league_id}/matchups/${Qe}`);if(!Ge.ok){if(Ge.status===404){console.log(`No matchups found for league ${Le.league_id}, week ${Qe} (404)`);continue}throw new Error(`API returned ${Ge.status}: ${Ge.statusText}`)}const Te=await Ge.json();if(console.log(`Received ${Te.length} matchup entries for league ${Le.league_id}, week ${Qe}`),!Array.isArray(Te)||Te.length===0){console.log(`No matchup data available for league ${Le.league_id}, week ${Qe}`);continue}const Zt=new Map;Te.forEach(ut=>{Zt.has(ut.matchup_id)||Zt.set(ut.matchup_id,[]),Zt.get(ut.matchup_id).push(ut)});for(const[ut,an]of Zt.entries()){if(an.length!==2){console.warn(`Skipping incomplete matchup ${ut} - only ${an.length} teams`);continue}const[en,bn]=an,as=await rs(en.roster_id.toString(),Le.id),In=await rs(bn.roster_id.toString(),Le.id);if(!as||!In){console.warn(`Could not find team IDs for matchup ${ut}`);continue}let zt=0;en.points>bn.points?zt=as:bn.points>en.points&&(zt=In);const iu={conference_id:Le.id,week:Qe,team_1_id:as,team_2_id:In,is_playoff:Qe>14,sleeper_matchup_id:ut.toString(),team_1_score:en.points||0,team_2_score:bn.points||0,winner_id:zt,is_manual_override:!1,status:en.points>0||bn.points>0?"complete":"pending",matchup_date:new Date().toISOString(),notes:""},{data:os,error:Gs}=await window.ezsite.apis.tablePage(13329,{PageNo:1,PageSize:1,Filters:[{name:"conference_id",op:"Equal",value:Le.id},{name:"week",op:"Equal",value:Qe},{name:"sleeper_matchup_id",op:"Equal",value:ut.toString()}]});if(Gs){console.error("Error searching for existing matchup:",Gs);continue}if(((B=os==null?void 0:os.List)==null?void 0:B.length)>0){const ls=os.List[0],au={...iu,ID:ls.id},{error:cs}=await La("tableUpdate");cs?console.error("Error updating matchup:",cs):Je++}else{const{error:ls}=await vl("tableCreate");ls?console.error("Error creating matchup:",ls):he++}}tt++,await new Promise(ut=>setTimeout(ut,100))}catch(Ge){console.error(`Error processing week ${Qe} for league ${Le.league_id}:`,Ge)}it++;const at=5+it/vt*90;R(at)}Ie++,console.log(` Completed matchups sync for league ${Le.league_id}`),await new Promise(Qe=>setTimeout(Qe,200))}catch(Qe){console.error(`Error processing league ${Le.league_id}:`,Qe)}I({success:!0,matchups_created:he,matchups_updated:Je,leagues_processed:Ie,weeks_processed:tt}),console.log(` Successfully synced matchups: ${he} created, ${Je} updated`);const bt=new Date().toISOString();localStorage.setItem("last_matchups_sync",bt),fe(new Date(bt).toLocaleString()),xt({title:"Matchups Sync Complete",description:`${he} matchups created, ${Je} updated across ${Ie} leagues`,variant:"default"})}catch(he){console.error(" Error syncing matchups:",he),I({success:!1,error:he.toString(),matchups_created:0,matchups_updated:0,leagues_processed:0,weeks_processed:0}),xt({title:"Matchups Sync Failed",description:`Failed to sync matchups: ${he}`,variant:"destructive"})}finally{v(!1),R(100)}},Ks=async()=>{g(!0),$(0),ae(null);try{console.log("Starting draft sync from Sleeper API..."),$(5);const B=await dT.fetchAndStoreDraftResults();if($(100),B.success){ae({success:!0,message:B.message,data:B.data});const he=new Date().toISOString();localStorage.setItem("last_draft_sync",he),Se(new Date(he).toLocaleString()),xt({title:"Draft Sync Complete",description:B.message,variant:"default"})}else ae({success:!1,error:B.message,message:B.message}),xt({title:"Draft Sync Failed",description:B.message,variant:"destructive"})}catch(B){console.error(" Error syncing draft:",B),ae({success:!1,error:B.toString(),message:`Draft sync failed: ${B}`}),xt({title:"Draft Sync Failed",description:`Failed to sync draft: ${B}`,variant:"destructive"})}finally{g(!1)}},Vt=e.find(B=>B.id===o);return _e?r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsx("div",{className:"animate-spin h-8 w-8 border-b-2 border-blue-600 rounded-full"})}):r.jsx("div",{className:"space-y-6",children:r.jsxs(Y,{children:[r.jsxs(ne,{children:[r.jsxs(ie,{className:"flex items-center gap-2",children:[r.jsx(Oa,{className:"h-5 w-5"}),"Data Synchronization"]}),r.jsx(je,{children:"Sync conference, team, and player data from Sleeper API to update database records"})]}),r.jsxs(X,{children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsx("div",{className:"flex items-center gap-4",children:r.jsx("div",{className:"flex-1",children:r.jsxs(At,{value:(o==null?void 0:o.toString())||"",onValueChange:B=>l(parseInt(B)),children:[r.jsx(Et,{className:"w-[200px]",children:r.jsx(Dt,{placeholder:"Select season"})}),r.jsx(Ct,{children:e.map(B=>r.jsx(Me,{value:B.id.toString(),children:B.season_name},B.id))})]})})})}),Vt&&r.jsxs(r.Fragment,{children:[n.length===0&&r.jsxs(Ve,{className:"mb-6",children:[r.jsx(Oe,{className:"h-4 w-4"}),r.jsxs(ze,{children:["No conferences found for ",Vt.season_name,". Conference and Team sync require leagues to be added first, but Player sync can be performed independently."]})]}),r.jsxs($i,{defaultValue:n.length>0?"conferences":"players",className:"space-y-6",children:[r.jsxs(Ir,{className:"grid w-full grid-cols-6",children:[r.jsxs(He,{value:"conferences",className:"flex items-center gap-2",children:[r.jsx(Kt,{className:"h-4 w-4"}),"Conference Sync"]}),r.jsxs(He,{value:"teams",className:"flex items-center gap-2",children:[r.jsx(Yt,{className:"h-4 w-4"}),"Teams Sync"]}),r.jsxs(He,{value:"matchups",className:"flex items-center gap-2",children:[r.jsx(nt,{className:"h-4 w-4"}),"Matchups Sync"]}),r.jsxs(He,{value:"draft",className:"flex items-center gap-2",children:[r.jsx(nd,{className:"h-4 w-4"}),"Draft Sync"]}),r.jsxs(He,{value:"rosters",className:"flex items-center gap-2",children:[r.jsx(Kh,{className:"h-4 w-4"}),"Team Rosters"]}),r.jsxs(He,{value:"players",className:"flex items-center gap-2",children:[r.jsx(uo,{className:"h-4 w-4"}),"Players Sync"]})]}),r.jsx(qe,{value:"rosters",children:n.length===0?r.jsxs(Ve,{children:[r.jsx(Oe,{className:"h-4 w-4"}),r.jsx(ze,{children:"No conferences available for team rosters synchronization. Please add leagues in the League Manager tab first."})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center gap-4",children:Ze&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx(er,{className:"h-4 w-4"}),"Last rosters sync: ",Ze]})}),r.jsx(J,{onClick:Mt,disabled:p||!o||n.length===0,children:p?r.jsxs(r.Fragment,{children:[r.jsx(nt,{className:"h-4 w-4 mr-2 animate-spin"}),"Syncing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Kh,{className:"h-4 w-4 mr-2"}),"Sync Team Rosters"]})})]}),r.jsxs(Y,{children:[r.jsxs(ne,{children:[r.jsxs(ie,{className:"flex items-center gap-2",children:[r.jsx(fN,{className:"h-5 w-5"}),"Week Filtering Options"]}),r.jsx(je,{children:"Choose which weeks to sync for team rosters data"})]}),r.jsxs(X,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs(At,{value:Mn,onValueChange:we,children:[r.jsx(Et,{className:"w-[200px]",children:r.jsx(Dt,{placeholder:"Select sync mode"})}),r.jsxs(Ct,{children:[r.jsx(Me,{value:"all",children:"All Weeks (1-17)"}),r.jsx(Me,{value:"range",children:"Week Range"}),r.jsx(Me,{value:"specific",children:"Specific Weeks"})]})]}),Mn==="range"&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm",children:"From week:"}),r.jsxs(At,{value:We.toString(),onValueChange:B=>Xt(parseInt(B)),children:[r.jsx(Et,{className:"w-20",children:r.jsx(Dt,{})}),r.jsx(Ct,{children:Array.from({length:17},(B,he)=>he+1).map(B=>r.jsx(Me,{value:B.toString(),children:B},B))})]}),r.jsx("span",{className:"text-sm",children:"to week:"}),r.jsxs(At,{value:Ut.toString(),onValueChange:B=>Na(parseInt(B)),children:[r.jsx(Et,{className:"w-20",children:r.jsx(Dt,{})}),r.jsx(Ct,{children:Array.from({length:17},(B,he)=>he+1).filter(B=>B>=We).map(B=>r.jsx(Me,{value:B.toString(),children:B},B))})]})]})]}),Mn==="specific"&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(J,{variant:"outline",size:"sm",onClick:ss,className:"text-xs",children:"Select All"}),r.jsx(J,{variant:"outline",size:"sm",onClick:Or,className:"text-xs",children:"Clear All"}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[il.length," weeks selected"]})]}),r.jsx("div",{className:"grid grid-cols-9 gap-2",children:Array.from({length:17},(B,he)=>he+1).map(B=>r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(uT,{id:`week-${B}`,checked:il.includes(B),onCheckedChange:()=>jn(B)}),r.jsx("label",{htmlFor:`week-${B}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:B})]},B))})]}),r.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(Qn,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Sync Summary"})]}),r.jsx("div",{className:"text-sm text-blue-700",children:(()=>{const B=Jt();return`Will sync ${B.length} week${B.length!==1?"s":""} (${B.join(", ")}) across ${n.length} conference${n.length!==1?"s":""} = ${B.length*n.length} total operations`})()})]})]})]}),p&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium",children:"Synchronizing team rosters..."}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(O),"%"]})]}),r.jsx(tr,{value:O,className:"w-full"})]}),r.jsxs(Y,{children:[r.jsxs(ne,{children:[r.jsxs(ie,{className:"text-lg",children:["Team Rosters Synchronization - ",Vt.season_name]}),r.jsxs(je,{children:["Sync weekly team roster data from Sleeper API using matchups endpoint for ",n.length," conference",n.length!==1?"s":""," across selected weeks"]})]}),r.jsxs(X,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Kh,{className:"h-5 w-5 text-blue-600"}),r.jsx("h4",{className:"font-semibold",children:"Roster Data"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Fetches weekly roster information including:"}),r.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[r.jsx("li",{children:" Player assignments to teams by week"}),r.jsx("li",{children:" Active roster compositions"}),r.jsx("li",{children:" Team-player relationships over time"}),r.jsx("li",{children:" Historical roster tracking"})]})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Oa,{className:"h-5 w-5 text-green-600"}),r.jsx("h4",{className:"font-semibold",children:"Data Mapping"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Uses existing data for accurate mapping:"}),r.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[r.jsx("li",{children:" Maps roster_id to team_id via junction table"}),r.jsx("li",{children:" Maps sleeper_player_id to player_id"}),r.jsx("li",{children:" Creates weekly roster assignments"}),r.jsxs("li",{children:[" Processes ",n.length*17," total operations"]})]})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Sync Process Overview:"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[r.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded",children:[r.jsx("div",{className:"text-sm font-medium text-blue-800",children:"Step 1: API Calls"}),r.jsx("div",{className:"text-xs text-blue-600",children:"Fetch matchups for each league & week"})]}),r.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded",children:[r.jsx("div",{className:"text-sm font-medium text-yellow-800",children:"Step 2: Data Mapping"}),r.jsx("div",{className:"text-xs text-yellow-600",children:"Map roster_id & player_id to database"})]}),r.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 rounded",children:[r.jsx("div",{className:"text-sm font-medium text-green-800",children:"Step 3: Store Rosters"}),r.jsx("div",{className:"text-xs text-green-600",children:"Save weekly roster assignments"})]})]})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Conferences to Process:"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:n.map(B=>r.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded",children:[r.jsx(ee,{variant:"outline",className:"text-xs",children:B.league_id}),r.jsx("span",{className:"text-sm truncate",children:B.conference_name})]},B.id))}),r.jsxs("div",{className:"mt-2 text-xs text-muted-foreground",children:["Total operations: ",n.length," leagues  ",Jt().length," weeks = ",n.length*Jt().length," API calls"]})]}),r.jsxs(Ve,{className:"mt-4",children:[r.jsx(Oe,{className:"h-4 w-4"}),r.jsxs(ze,{children:[r.jsx("strong",{children:"Note:"}),` This sync processes team rosters for the selected weeks across all conferences using the matchups endpoint. The "players" array from each matchup entry contains all players on that team's roster for that specific week. Weeks that don't exist yet (future weeks) will be skipped automatically.`]})]})]})]}),Q&&r.jsxs(Y,{children:[r.jsxs(ne,{children:[r.jsx(ie,{className:"text-lg",children:"Team Rosters Sync Results"}),r.jsx(je,{children:"Results from the last team rosters synchronization"})]}),r.jsx(X,{children:r.jsxs("div",{className:"p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[Q.success?r.jsx(Sl,{className:"h-5 w-5 text-green-600"}):r.jsx(Oe,{className:"h-5 w-5 text-red-600"}),r.jsx("span",{className:"font-medium",children:"Team Rosters Synchronization"})]}),r.jsx("div",{className:"text-sm",children:Q.success?r.jsx("span",{className:"text-green-600",children:"Success"}):r.jsx("span",{className:"text-red-600",children:"Failed"})})]}),Q.success&&r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 text-sm text-muted-foreground",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Created:"}),r.jsx("div",{className:"text-lg font-semibold text-green-600",children:Q.rosters_created})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Updated:"}),r.jsx("div",{className:"text-lg font-semibold text-blue-600",children:Q.rosters_updated})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Players:"}),r.jsx("div",{className:"text-lg font-semibold text-purple-600",children:Q.players_processed})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Leagues:"}),r.jsx("div",{className:"text-lg font-semibold text-orange-600",children:Q.leagues_processed})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Weeks:"}),r.jsx("div",{className:"text-lg font-semibold text-teal-600",children:Q.weeks_processed})]})]}),Q.error&&r.jsx("div",{className:"text-sm text-red-600 mt-1",children:Q.error})]})})]})]})}),r.jsx(qe,{value:"conferences",children:n.length===0?r.jsxs(Ve,{children:[r.jsx(Oe,{className:"h-4 w-4"}),r.jsx(ze,{children:"No conferences available. Please add leagues in the League Manager tab first."})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center gap-4",children:W&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx(er,{className:"h-4 w-4"}),"Last sync: ",W]})}),r.jsx(J,{onClick:is,disabled:c||!o||n.length===0,children:c?r.jsxs(r.Fragment,{children:[r.jsx(nt,{className:"h-4 w-4 mr-2 animate-spin"}),"Syncing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Kt,{className:"h-4 w-4 mr-2"}),"Sync Conference Data"]})})]}),c&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium",children:"Synchronizing conferences..."}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(b),"%"]})]}),r.jsx(tr,{value:b,className:"w-full"})]}),r.jsxs(Y,{children:[r.jsxs(ne,{children:[r.jsxs(ie,{className:"text-lg",children:["Conference Synchronization - ",Vt==null?void 0:Vt.season_name]}),r.jsx(je,{children:"Sync conference data from Sleeper API to update league information"})]}),r.jsx(X,{children:r.jsxs("div",{className:"mb-4",children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Conferences to Process:"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:n.map(B=>r.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded",children:[r.jsx(ee,{variant:"outline",className:"text-xs",children:B.league_id}),r.jsx("span",{className:"text-sm truncate",children:B.conference_name})]},B.id))})]})})]}),F.length>0&&r.jsxs(Y,{children:[r.jsx(ne,{children:r.jsx(ie,{className:"text-lg",children:"Sync Results"})}),r.jsx(X,{children:r.jsxs(mn,{children:[r.jsx(pn,{children:r.jsxs(Pe,{children:[r.jsx(re,{children:"League ID"}),r.jsx(re,{children:"Status"}),r.jsx(re,{children:"Details"})]})}),r.jsx(gn,{children:F.map((B,he)=>r.jsxs(Pe,{children:[r.jsx(te,{className:"font-medium",children:B.league_id}),r.jsx(te,{children:B.success?r.jsx(ee,{variant:"default",children:"Success"}):r.jsx(ee,{variant:"destructive",children:"Failed"})}),r.jsx(te,{children:B.success?r.jsx("span",{className:"text-green-600",children:"Updated successfully"}):r.jsx("span",{className:"text-red-600",children:B.error})})]},he))})]})})]})]})}),r.jsx(qe,{value:"teams",children:n.length===0?r.jsxs(Ve,{children:[r.jsx(Oe,{className:"h-4 w-4"}),r.jsx(ze,{children:"No conferences available for team synchronization. Please add leagues in the League Manager tab first."})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center gap-4",children:U&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx(er,{className:"h-4 w-4"}),"Last teams sync: ",U]})}),r.jsx(J,{onClick:Ns,disabled:d||!o||n.length===0,children:d?r.jsxs(r.Fragment,{children:[r.jsx(nt,{className:"h-4 w-4 mr-2 animate-spin"}),"Syncing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Yt,{className:"h-4 w-4 mr-2"}),"Sync Teams"]})})]}),d&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium",children:"Synchronizing teams..."}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(T),"%"]})]}),r.jsx(tr,{value:T,className:"w-full"})]}),r.jsxs(Y,{children:[r.jsxs(ne,{children:[r.jsxs(ie,{className:"text-lg",children:["Teams Synchronization - ",Vt==null?void 0:Vt.season_name]}),r.jsx(je,{children:"Sync team data from Sleeper API including owners, team names, and roster mappings"})]}),r.jsx(X,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Yt,{className:"h-5 w-5 text-blue-600"}),r.jsx("h4",{className:"font-semibold",children:"Team Data"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Creates teams and junction records:"}),r.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[r.jsx("li",{children:" Team names and owner information"}),r.jsx("li",{children:" Avatar/logo URLs"}),r.jsx("li",{children:" Roster ID mappings"}),r.jsx("li",{children:" Conference relationships"})]})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Oa,{className:"h-5 w-5 text-green-600"}),r.jsx("h4",{className:"font-semibold",children:"Data Structure"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Updates database tables:"}),r.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[r.jsx("li",{children:" Teams table (team info)"}),r.jsx("li",{children:" Junction table (team-conference mapping)"}),r.jsx("li",{children:" Roster ID associations"}),r.jsx("li",{children:" Active status tracking"})]})]})]})})]}),A.length>0&&r.jsxs(Y,{children:[r.jsx(ne,{children:r.jsx(ie,{className:"text-lg",children:"Teams Sync Results"})}),r.jsx(X,{children:r.jsxs(mn,{children:[r.jsx(pn,{children:r.jsxs(Pe,{children:[r.jsx(re,{children:"League ID"}),r.jsx(re,{children:"Status"}),r.jsx(re,{children:"Teams Created"}),r.jsx(re,{children:"Junction Records"}),r.jsx(re,{children:"Details"})]})}),r.jsx(gn,{children:A.map((B,he)=>r.jsxs(Pe,{children:[r.jsx(te,{className:"font-medium",children:B.league_id}),r.jsx(te,{children:B.success?r.jsx(ee,{variant:"default",children:"Success"}):r.jsx(ee,{variant:"destructive",children:"Failed"})}),r.jsx(te,{children:B.success?B.teams_created:0}),r.jsx(te,{children:B.success?B.junction_records_created:0}),r.jsx(te,{children:B.success?r.jsx("span",{className:"text-green-600",children:"Updated successfully"}):r.jsx("span",{className:"text-red-600",children:B.error})})]},he))})]})})]})]})}),r.jsx(qe,{value:"matchups",children:n.length===0?r.jsxs(Ve,{children:[r.jsx(Oe,{className:"h-4 w-4"}),r.jsx(ze,{children:"No conferences available for matchup synchronization. Please add leagues in the League Manager tab first."})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center gap-4",children:ge&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx(er,{className:"h-4 w-4"}),"Last matchups sync: ",ge]})}),r.jsx(J,{onClick:Oi,disabled:j||!o||n.length===0,children:j?r.jsxs(r.Fragment,{children:[r.jsx(nt,{className:"h-4 w-4 mr-2 animate-spin"}),"Syncing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(nt,{className:"h-4 w-4 mr-2"}),"Sync Matchups"]})})]}),j&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium",children:"Synchronizing matchups..."}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(D),"%"]})]}),r.jsx(tr,{value:D,className:"w-full"})]}),r.jsxs(Y,{children:[r.jsxs(ne,{children:[r.jsxs(ie,{className:"text-lg",children:["Matchups Synchronization - ",Vt==null?void 0:Vt.season_name]}),r.jsx(je,{children:"Sync matchup data from Sleeper API for all weeks across all conferences"})]}),r.jsx(X,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(nt,{className:"h-5 w-5 text-blue-600"}),r.jsx("h4",{className:"font-semibold",children:"Matchup Data"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Processes matchup information:"}),r.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[r.jsx("li",{children:" Team matchups for all weeks"}),r.jsx("li",{children:" Scores and results"}),r.jsx("li",{children:" Winner determination"}),r.jsx("li",{children:" Playoff vs regular season"})]})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Qn,{className:"h-5 w-5 text-green-600"}),r.jsx("h4",{className:"font-semibold",children:"Season Coverage"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Covers the entire season:"}),r.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[r.jsx("li",{children:" Weeks 1-17 for each conference"}),r.jsx("li",{children:" Regular season and playoffs"}),r.jsxs("li",{children:[" ",n.length*17," total operations"]}),r.jsx("li",{children:" Automatic status detection"})]})]})]})})]}),L&&r.jsxs(Y,{children:[r.jsx(ne,{children:r.jsx(ie,{className:"text-lg",children:"Matchups Sync Results"})}),r.jsx(X,{children:r.jsxs("div",{className:"p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[L.success?r.jsx(Sl,{className:"h-5 w-5 text-green-600"}):r.jsx(Oe,{className:"h-5 w-5 text-red-600"}),r.jsx("span",{className:"font-medium",children:"Matchups Synchronization"})]}),r.jsx("div",{className:"text-sm",children:L.success?r.jsx("span",{className:"text-green-600",children:"Success"}):r.jsx("span",{className:"text-red-600",children:"Failed"})})]}),L.success&&r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-muted-foreground",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Created:"}),r.jsx("div",{className:"text-lg font-semibold text-green-600",children:L.matchups_created})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Updated:"}),r.jsx("div",{className:"text-lg font-semibold text-blue-600",children:L.matchups_updated})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Leagues:"}),r.jsx("div",{className:"text-lg font-semibold text-orange-600",children:L.leagues_processed})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Weeks:"}),r.jsx("div",{className:"text-lg font-semibold text-purple-600",children:L.weeks_processed})]})]}),L.error&&r.jsx("div",{className:"text-sm text-red-600 mt-1",children:L.error})]})})]})]})}),r.jsx(qe,{value:"draft",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center gap-4",children:ye&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx(er,{className:"h-4 w-4"}),"Last draft sync: ",ye]})}),r.jsx(J,{onClick:Ks,disabled:y,children:y?r.jsxs(r.Fragment,{children:[r.jsx(nt,{className:"h-4 w-4 mr-2 animate-spin"}),"Syncing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(nd,{className:"h-4 w-4 mr-2"}),"Sync Draft Results"]})})]}),y&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium",children:"Synchronizing draft results..."}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(M),"%"]})]}),r.jsx(tr,{value:M,className:"w-full"})]}),r.jsxs(Y,{children:[r.jsxs(ne,{children:[r.jsx(ie,{className:"text-lg",children:"Draft Results Synchronization"}),r.jsx(je,{children:"Sync draft results from Sleeper API for all conferences and seasons"})]}),r.jsxs(X,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(nd,{className:"h-5 w-5 text-blue-600"}),r.jsx("h4",{className:"font-semibold",children:"Draft Data"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Processes draft information:"}),r.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[r.jsx("li",{children:" Draft picks by round and position"}),r.jsx("li",{children:" Player information and positions"}),r.jsx("li",{children:" Team assignments"}),r.jsx("li",{children:" Historical draft tracking"})]})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Oa,{className:"h-5 w-5 text-green-600"}),r.jsx("h4",{className:"font-semibold",children:"Data Processing"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Updates draft results table:"}),r.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[r.jsx("li",{children:" Maps roster IDs to team IDs"}),r.jsx("li",{children:" Processes all conferences"}),r.jsx("li",{children:" Handles multiple seasons"}),r.jsx("li",{children:" Clears and refreshes data"})]})]})]}),r.jsxs(Ve,{children:[r.jsx(Oe,{className:"h-4 w-4"}),r.jsxs(ze,{children:[r.jsx("strong",{children:"Note:"})," This sync processes draft results for all conferences and seasons. It will clear existing draft data and repopulate it with the latest information from Sleeper API."]})]})]})]}),H&&r.jsxs(Y,{children:[r.jsx(ne,{children:r.jsx(ie,{className:"text-lg",children:"Draft Sync Results"})}),r.jsx(X,{children:r.jsxs("div",{className:"p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[H.success?r.jsx(Sl,{className:"h-5 w-5 text-green-600"}):r.jsx(Oe,{className:"h-5 w-5 text-red-600"}),r.jsx("span",{className:"font-medium",children:"Draft Synchronization"})]}),r.jsx("div",{className:"text-sm",children:H.success?r.jsx("span",{className:"text-green-600",children:"Success"}):r.jsx("span",{className:"text-red-600",children:"Failed"})})]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:H.message}),H.error&&r.jsx("div",{className:"text-sm text-red-600 mt-1",children:H.error})]})})]})]})}),r.jsx(qe,{value:"players",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center gap-4",children:ce&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx(er,{className:"h-4 w-4"}),"Last players sync: ",ce]})}),r.jsx(J,{onClick:Li,disabled:m,children:m?r.jsxs(r.Fragment,{children:[r.jsx(nt,{className:"h-4 w-4 mr-2 animate-spin"}),"Syncing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(uo,{className:"h-4 w-4 mr-2"}),"Sync Players"]})})]}),m&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium",children:"Synchronizing players..."}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(E),"%"]})]}),r.jsx(tr,{value:E,className:"w-full"})]}),r.jsxs(Y,{children:[r.jsxs(ne,{children:[r.jsx(ie,{className:"text-lg",children:"Players Synchronization"}),r.jsx(je,{children:"Sync all NFL players data from Sleeper API - this operation is independent of conferences"})]}),r.jsxs(X,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(uo,{className:"h-5 w-5 text-blue-600"}),r.jsx("h4",{className:"font-semibold",children:"Player Data"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Syncs comprehensive player information:"}),r.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[r.jsx("li",{children:" Names and positions"}),r.jsx("li",{children:" NFL team affiliations"}),r.jsx("li",{children:" Physical attributes"}),r.jsx("li",{children:" Injury status"}),r.jsx("li",{children:" College and experience"})]})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Oa,{className:"h-5 w-5 text-green-600"}),r.jsx("h4",{className:"font-semibold",children:"Data Management"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Updates player database:"}),r.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[r.jsx("li",{children:" Creates new player records"}),r.jsx("li",{children:" Updates existing player info"}),r.jsx("li",{children:" Maintains Sleeper ID mappings"}),r.jsx("li",{children:" Processes thousands of players"})]})]})]}),r.jsxs(Ve,{children:[r.jsx(Oe,{className:"h-4 w-4"}),r.jsxs(ze,{children:[r.jsx("strong",{children:"Note:"})," This sync processes all NFL players from Sleeper API. It can take several minutes to complete and will update or create thousands of player records."]})]})]})]}),C&&r.jsxs(Y,{children:[r.jsx(ne,{children:r.jsx(ie,{className:"text-lg",children:"Players Sync Results"})}),r.jsx(X,{children:r.jsxs("div",{className:"p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[C.success?r.jsx(Sl,{className:"h-5 w-5 text-green-600"}):r.jsx(Oe,{className:"h-5 w-5 text-red-600"}),r.jsx("span",{className:"font-medium",children:"Players Synchronization"})]}),r.jsx("div",{className:"text-sm",children:C.success?r.jsx("span",{className:"text-green-600",children:"Success"}):r.jsx("span",{className:"text-red-600",children:"Failed"})})]}),C.success&&r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Created:"}),r.jsx("div",{className:"text-lg font-semibold text-green-600",children:C.players_created})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Updated:"}),r.jsx("div",{className:"text-lg font-semibold text-blue-600",children:C.players_updated})]})]}),C.error&&r.jsx("div",{className:"text-sm text-red-600 mt-1",children:C.error})]})})]})]})})]})]})]})]})})},La=async(e,t)=>(console.log(`Placeholder Update: ${e}`,t),{error:null}),vl=async(e,t)=>(console.log(`Placeholder Create: ${e}`,t),{error:null});function JU(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return h.useMemo(()=>s=>{t.forEach(i=>i(s))},t)}const th=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Jo(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Sv(e){return"nodeType"in e}function $n(e){var t,n;return e?Jo(e)?e:Sv(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Nv(e){const{Document:t}=$n(e);return e instanceof t}function Qc(e){return Jo(e)?!1:e instanceof $n(e).HTMLElement}function fT(e){return e instanceof $n(e).SVGElement}function Zo(e){return e?Jo(e)?e.document:Sv(e)?Nv(e)?e:Qc(e)||fT(e)?e.ownerDocument:document:document:document}const zs=th?h.useLayoutEffect:h.useEffect;function nh(e){const t=h.useRef(e);return zs(()=>{t.current=e}),h.useCallback(function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return t.current==null?void 0:t.current(...s)},[])}function ZU(){const e=h.useRef(null),t=h.useCallback((s,i)=>{e.current=setInterval(s,i)},[]),n=h.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function _c(e,t){t===void 0&&(t=[e]);const n=h.useRef(e);return zs(()=>{n.current!==e&&(n.current=e)},t),n}function Xc(e,t){const n=h.useRef();return h.useMemo(()=>{const s=e(n.current);return n.current=s,s},[...t])}function Qd(e){const t=nh(e),n=h.useRef(null),s=h.useCallback(i=>{i!==n.current&&(t==null||t(i,n.current)),n.current=i},[]);return[n,s]}function Xd(e){const t=h.useRef();return h.useEffect(()=>{t.current=e},[e]),t.current}let xm={};function Jc(e,t){return h.useMemo(()=>{if(t)return t;const n=xm[e]==null?0:xm[e]+1;return xm[e]=n,e+"-"+n},[e,t])}function hT(e){return function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),i=1;i<n;i++)s[i-1]=arguments[i];return s.reduce((a,o)=>{const l=Object.entries(o);for(const[c,u]of l){const d=a[c];d!=null&&(a[c]=d+e*u)}return a},{...t})}}const po=hT(1),Sc=hT(-1);function e6(e){return"clientX"in e&&"clientY"in e}function sh(e){if(!e)return!1;const{KeyboardEvent:t}=$n(e.target);return t&&e instanceof t}function t6(e){if(!e)return!1;const{TouchEvent:t}=$n(e.target);return t&&e instanceof t}function Jd(e){if(t6(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return e6(e)?{x:e.clientX,y:e.clientY}:null}const Si=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Si.Translate.toString(e),Si.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:s}=e;return t+" "+n+"ms "+s}}}),F0="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function n6(e){return e.matches(F0)?e:e.querySelector(F0)}const s6={display:"none"};function r6(e){let{id:t,value:n}=e;return $e.createElement("div",{id:t,style:s6},n)}function i6(e){let{id:t,announcement:n,ariaLiveType:s="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return $e.createElement("div",{id:t,style:i,role:"status","aria-live":s,"aria-atomic":!0},n)}function a6(){const[e,t]=h.useState("");return{announce:h.useCallback(s=>{s!=null&&t(s)},[]),announcement:e}}const mT=h.createContext(null);function o6(e){const t=h.useContext(mT);h.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function l6(){const[e]=h.useState(()=>new Set),t=h.useCallback(s=>(e.add(s),()=>e.delete(s)),[e]);return[h.useCallback(s=>{let{type:i,event:a}=s;e.forEach(o=>{var l;return(l=o[i])==null?void 0:l.call(o,a)})},[e]),t]}const c6={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},u6={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function d6(e){let{announcements:t=u6,container:n,hiddenTextDescribedById:s,screenReaderInstructions:i=c6}=e;const{announce:a,announcement:o}=a6(),l=Jc("DndLiveRegion"),[c,u]=h.useState(!1);if(h.useEffect(()=>{u(!0)},[]),o6(h.useMemo(()=>({onDragStart(f){let{active:m}=f;a(t.onDragStart({active:m}))},onDragMove(f){let{active:m,over:x}=f;t.onDragMove&&a(t.onDragMove({active:m,over:x}))},onDragOver(f){let{active:m,over:x}=f;a(t.onDragOver({active:m,over:x}))},onDragEnd(f){let{active:m,over:x}=f;a(t.onDragEnd({active:m,over:x}))},onDragCancel(f){let{active:m,over:x}=f;a(t.onDragCancel({active:m,over:x}))}}),[a,t])),!c)return null;const d=$e.createElement($e.Fragment,null,$e.createElement(r6,{id:s,value:i.draggable}),$e.createElement(i6,{id:l,announcement:o}));return n?vs.createPortal(d,n):d}var Ot;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Ot||(Ot={}));function Zd(){}function U0(e,t){return h.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function f6(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return h.useMemo(()=>[...t].filter(s=>s!=null),[...t])}const Ws=Object.freeze({x:0,y:0});function pT(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function h6(e,t){const n=Jd(e);if(!n)return"0 0";const s={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return s.x+"% "+s.y+"%"}function gT(e,t){let{data:{value:n}}=e,{data:{value:s}}=t;return n-s}function m6(e,t){let{data:{value:n}}=e,{data:{value:s}}=t;return s-n}function B0(e){let{left:t,top:n,height:s,width:i}=e;return[{x:t,y:n},{x:t+i,y:n},{x:t,y:n+s},{x:t+i,y:n+s}]}function xT(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function V0(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const p6=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=e;const i=V0(t,t.left,t.top),a=[];for(const o of s){const{id:l}=o,c=n.get(l);if(c){const u=pT(V0(c),i);a.push({id:l,data:{droppableContainer:o,value:u}})}}return a.sort(gT)},g6=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=e;const i=B0(t),a=[];for(const o of s){const{id:l}=o,c=n.get(l);if(c){const u=B0(c),d=i.reduce((m,x,j)=>m+pT(u[j],x),0),f=Number((d/4).toFixed(4));a.push({id:l,data:{droppableContainer:o,value:f}})}}return a.sort(gT)};function x6(e,t){const n=Math.max(t.top,e.top),s=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),o=i-s,l=a-n;if(s<i&&n<a){const c=t.width*t.height,u=e.width*e.height,d=o*l,f=d/(c+u-d);return Number(f.toFixed(4))}return 0}const v6=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=e;const i=[];for(const a of s){const{id:o}=a,l=n.get(o);if(l){const c=x6(l,t);c>0&&i.push({id:o,data:{droppableContainer:a,value:c}})}}return i.sort(m6)};function y6(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function vT(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Ws}function w6(e){return function(n){for(var s=arguments.length,i=new Array(s>1?s-1:0),a=1;a<s;a++)i[a-1]=arguments[a];return i.reduce((o,l)=>({...o,top:o.top+e*l.y,bottom:o.bottom+e*l.y,left:o.left+e*l.x,right:o.right+e*l.x}),{...n})}}const j6=w6(1);function yT(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function b6(e,t,n){const s=yT(t);if(!s)return e;const{scaleX:i,scaleY:a,x:o,y:l}=s,c=e.left-o-(1-i)*parseFloat(n),u=e.top-l-(1-a)*parseFloat(n.slice(n.indexOf(" ")+1)),d=i?e.width/i:e.width,f=a?e.height/a:e.height;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c}}const _6={ignoreTransform:!1};function el(e,t){t===void 0&&(t=_6);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:d}=$n(e).getComputedStyle(e);u&&(n=b6(n,u,d))}const{top:s,left:i,width:a,height:o,bottom:l,right:c}=n;return{top:s,left:i,width:a,height:o,bottom:l,right:c}}function z0(e){return el(e,{ignoreTransform:!0})}function S6(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function N6(e,t){return t===void 0&&(t=$n(e).getComputedStyle(e)),t.position==="fixed"}function E6(e,t){t===void 0&&(t=$n(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const a=t[i];return typeof a=="string"?n.test(a):!1})}function rh(e,t){const n=[];function s(i){if(t!=null&&n.length>=t||!i)return n;if(Nv(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!Qc(i)||fT(i)||n.includes(i))return n;const a=$n(e).getComputedStyle(i);return i!==e&&E6(i,a)&&n.push(i),N6(i,a)?n:s(i.parentNode)}return e?s(e):n}function wT(e){const[t]=rh(e,1);return t??null}function vm(e){return!th||!e?null:Jo(e)?e:Sv(e)?Nv(e)||e===Zo(e).scrollingElement?window:Qc(e)?e:null:null}function jT(e){return Jo(e)?e.scrollX:e.scrollLeft}function bT(e){return Jo(e)?e.scrollY:e.scrollTop}function dg(e){return{x:jT(e),y:bT(e)}}var qt;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(qt||(qt={}));function _T(e){return!th||!e?!1:e===document.scrollingElement}function ST(e){const t={x:0,y:0},n=_T(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},s={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},i=e.scrollTop<=t.y,a=e.scrollLeft<=t.x,o=e.scrollTop>=s.y,l=e.scrollLeft>=s.x;return{isTop:i,isLeft:a,isBottom:o,isRight:l,maxScroll:s,minScroll:t}}const C6={x:.2,y:.2};function T6(e,t,n,s,i){let{top:a,left:o,right:l,bottom:c}=n;s===void 0&&(s=10),i===void 0&&(i=C6);const{isTop:u,isBottom:d,isLeft:f,isRight:m}=ST(e),x={x:0,y:0},j={x:0,y:0},v={height:t.height*i.y,width:t.width*i.x};return!u&&a<=t.top+v.height?(x.y=qt.Backward,j.y=s*Math.abs((t.top+v.height-a)/v.height)):!d&&c>=t.bottom-v.height&&(x.y=qt.Forward,j.y=s*Math.abs((t.bottom-v.height-c)/v.height)),!m&&l>=t.right-v.width?(x.x=qt.Forward,j.x=s*Math.abs((t.right-v.width-l)/v.width)):!f&&o<=t.left+v.width&&(x.x=qt.Backward,j.x=s*Math.abs((t.left+v.width-o)/v.width)),{direction:x,speed:j}}function k6(e){if(e===document.scrollingElement){const{innerWidth:a,innerHeight:o}=window;return{top:0,left:0,right:a,bottom:o,width:a,height:o}}const{top:t,left:n,right:s,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:s,bottom:i,width:e.clientWidth,height:e.clientHeight}}function NT(e){return e.reduce((t,n)=>po(t,dg(n)),Ws)}function P6(e){return e.reduce((t,n)=>t+jT(n),0)}function R6(e){return e.reduce((t,n)=>t+bT(n),0)}function ET(e,t){if(t===void 0&&(t=el),!e)return;const{top:n,left:s,bottom:i,right:a}=t(e);wT(e)&&(i<=0||a<=0||n>=window.innerHeight||s>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const A6=[["x",["left","right"],P6],["y",["top","bottom"],R6]];class Ev{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const s=rh(n),i=NT(s);this.rect={...t},this.width=t.width,this.height=t.height;for(const[a,o,l]of A6)for(const c of o)Object.defineProperty(this,c,{get:()=>{const u=l(s),d=i[a]-u;return this.rect[c]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Vl{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var s;return(s=this.target)==null?void 0:s.removeEventListener(...n)})},this.target=t}add(t,n,s){var i;(i=this.target)==null||i.addEventListener(t,n,s),this.listeners.push([t,n,s])}}function D6(e){const{EventTarget:t}=$n(e);return e instanceof t?e:Zo(e)}function ym(e,t){const n=Math.abs(e.x),s=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+s**2)>t:"x"in t&&"y"in t?n>t.x&&s>t.y:"x"in t?n>t.x:"y"in t?s>t.y:!1}var ms;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(ms||(ms={}));function W0(e){e.preventDefault()}function $6(e){e.stopPropagation()}var De;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(De||(De={}));const CT={start:[De.Space,De.Enter],cancel:[De.Esc],end:[De.Space,De.Enter,De.Tab]},M6=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case De.Right:return{...n,x:n.x+25};case De.Left:return{...n,x:n.x-25};case De.Down:return{...n,y:n.y+25};case De.Up:return{...n,y:n.y-25}}};class Cv{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Vl(Zo(n)),this.windowListeners=new Vl($n(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ms.Resize,this.handleCancel),this.windowListeners.add(ms.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ms.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,s=t.node.current;s&&ET(s),n(Ws)}handleKeyDown(t){if(sh(t)){const{active:n,context:s,options:i}=this.props,{keyboardCodes:a=CT,coordinateGetter:o=M6,scrollBehavior:l="smooth"}=i,{code:c}=t;if(a.end.includes(c)){this.handleEnd(t);return}if(a.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=s.current,d=u?{x:u.left,y:u.top}:Ws;this.referenceCoordinates||(this.referenceCoordinates=d);const f=o(t,{active:n,context:s.current,currentCoordinates:d});if(f){const m=Sc(f,d),x={x:0,y:0},{scrollableAncestors:j}=s.current;for(const v of j){const y=t.code,{isTop:g,isRight:p,isLeft:w,isBottom:b,maxScroll:S,minScroll:T}=ST(v),N=k6(v),E={x:Math.min(y===De.Right?N.right-N.width/2:N.right,Math.max(y===De.Right?N.left:N.left+N.width/2,f.x)),y:Math.min(y===De.Down?N.bottom-N.height/2:N.bottom,Math.max(y===De.Down?N.top:N.top+N.height/2,f.y))},P=y===De.Right&&!p||y===De.Left&&!w,D=y===De.Down&&!b||y===De.Up&&!g;if(P&&E.x!==f.x){const R=v.scrollLeft+m.x,M=y===De.Right&&R<=S.x||y===De.Left&&R>=T.x;if(M&&!m.y){v.scrollTo({left:R,behavior:l});return}M?x.x=v.scrollLeft-R:x.x=y===De.Right?v.scrollLeft-S.x:v.scrollLeft-T.x,x.x&&v.scrollBy({left:-x.x,behavior:l});break}else if(D&&E.y!==f.y){const R=v.scrollTop+m.y,M=y===De.Down&&R<=S.y||y===De.Up&&R>=T.y;if(M&&!m.x){v.scrollTo({top:R,behavior:l});return}M?x.y=v.scrollTop-R:x.y=y===De.Down?v.scrollTop-S.y:v.scrollTop-T.y,x.y&&v.scrollBy({top:-x.y,behavior:l});break}}this.handleMove(t,po(Sc(f,this.referenceCoordinates),x))}}}handleMove(t,n){const{onMove:s}=this.props;t.preventDefault(),s(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Cv.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:s=CT,onActivation:i}=t,{active:a}=n;const{code:o}=e.nativeEvent;if(s.start.includes(o)){const l=a.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),i==null||i({event:e.nativeEvent}),!0)}return!1}}];function H0(e){return!!(e&&"distance"in e)}function q0(e){return!!(e&&"delay"in e)}class Tv{constructor(t,n,s){var i;s===void 0&&(s=D6(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:a}=t,{target:o}=a;this.props=t,this.events=n,this.document=Zo(o),this.documentListeners=new Vl(this.document),this.listeners=new Vl(s),this.windowListeners=new Vl($n(o)),this.initialCoordinates=(i=Jd(a))!=null?i:Ws,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:s}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(ms.Resize,this.handleCancel),this.windowListeners.add(ms.DragStart,W0),this.windowListeners.add(ms.VisibilityChange,this.handleCancel),this.windowListeners.add(ms.ContextMenu,W0),this.documentListeners.add(ms.Keydown,this.handleKeydown),n){if(s!=null&&s({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(q0(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(H0(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:s,onPending:i}=this.props;i(s,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(ms.Click,$6,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ms.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:s,initialCoordinates:i,props:a}=this,{onMove:o,options:{activationConstraint:l}}=a;if(!i)return;const c=(n=Jd(t))!=null?n:Ws,u=Sc(i,c);if(!s&&l){if(H0(l)){if(l.tolerance!=null&&ym(u,l.tolerance))return this.handleCancel();if(ym(u,l.distance))return this.handleStart()}if(q0(l)&&ym(u,l.tolerance))return this.handleCancel();this.handlePending(l,u);return}t.cancelable&&t.preventDefault(),o(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===De.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const I6={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class kv extends Tv{constructor(t){const{event:n}=t,s=Zo(n.target);super(t,I6,s)}}kv.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;return!n.isPrimary||n.button!==0?!1:(s==null||s({event:n}),!0)}}];const L6={move:{name:"mousemove"},end:{name:"mouseup"}};var fg;(function(e){e[e.RightClick=2]="RightClick"})(fg||(fg={}));class O6 extends Tv{constructor(t){super(t,L6,Zo(t.event.target))}}O6.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;return n.button===fg.RightClick?!1:(s==null||s({event:n}),!0)}}];const wm={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class F6 extends Tv{constructor(t){super(t,wm)}static setup(){return window.addEventListener(wm.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(wm.move.name,t)};function t(){}}}F6.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;const{touches:i}=n;return i.length>1?!1:(s==null||s({event:n}),!0)}}];var zl;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(zl||(zl={}));var ef;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(ef||(ef={}));function U6(e){let{acceleration:t,activator:n=zl.Pointer,canScroll:s,draggingRect:i,enabled:a,interval:o=5,order:l=ef.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:f,threshold:m}=e;const x=V6({delta:f,disabled:!a}),[j,v]=ZU(),y=h.useRef({x:0,y:0}),g=h.useRef({x:0,y:0}),p=h.useMemo(()=>{switch(n){case zl.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case zl.DraggableRect:return i}},[n,i,c]),w=h.useRef(null),b=h.useCallback(()=>{const T=w.current;if(!T)return;const N=y.current.x*g.current.x,E=y.current.y*g.current.y;T.scrollBy(N,E)},[]),S=h.useMemo(()=>l===ef.TreeOrder?[...u].reverse():u,[l,u]);h.useEffect(()=>{if(!a||!u.length||!p){v();return}for(const T of S){if((s==null?void 0:s(T))===!1)continue;const N=u.indexOf(T),E=d[N];if(!E)continue;const{direction:P,speed:D}=T6(T,E,p,t,m);for(const R of["x","y"])x[R][P[R]]||(D[R]=0,P[R]=0);if(D.x>0||D.y>0){v(),w.current=T,j(b,o),y.current=D,g.current=P;return}}y.current={x:0,y:0},g.current={x:0,y:0},v()},[t,b,s,v,a,o,JSON.stringify(p),JSON.stringify(x),j,u,S,d,JSON.stringify(m)])}const B6={x:{[qt.Backward]:!1,[qt.Forward]:!1},y:{[qt.Backward]:!1,[qt.Forward]:!1}};function V6(e){let{delta:t,disabled:n}=e;const s=Xd(t);return Xc(i=>{if(n||!s||!i)return B6;const a={x:Math.sign(t.x-s.x),y:Math.sign(t.y-s.y)};return{x:{[qt.Backward]:i.x[qt.Backward]||a.x===-1,[qt.Forward]:i.x[qt.Forward]||a.x===1},y:{[qt.Backward]:i.y[qt.Backward]||a.y===-1,[qt.Forward]:i.y[qt.Forward]||a.y===1}}},[n,t,s])}function z6(e,t){const n=t!=null?e.get(t):void 0,s=n?n.node.current:null;return Xc(i=>{var a;return t==null?null:(a=s??i)!=null?a:null},[s,t])}function W6(e,t){return h.useMemo(()=>e.reduce((n,s)=>{const{sensor:i}=s,a=i.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,s)}));return[...n,...a]},[]),[e,t])}var Nc;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Nc||(Nc={}));var hg;(function(e){e.Optimized="optimized"})(hg||(hg={}));const K0=new Map;function H6(e,t){let{dragging:n,dependencies:s,config:i}=t;const[a,o]=h.useState(null),{frequency:l,measure:c,strategy:u}=i,d=h.useRef(e),f=y(),m=_c(f),x=h.useCallback(function(g){g===void 0&&(g=[]),!m.current&&o(p=>p===null?g:p.concat(g.filter(w=>!p.includes(w))))},[m]),j=h.useRef(null),v=Xc(g=>{if(f&&!n)return K0;if(!g||g===K0||d.current!==e||a!=null){const p=new Map;for(let w of e){if(!w)continue;if(a&&a.length>0&&!a.includes(w.id)&&w.rect.current){p.set(w.id,w.rect.current);continue}const b=w.node.current,S=b?new Ev(c(b),b):null;w.rect.current=S,S&&p.set(w.id,S)}return p}return g},[e,a,n,f,c]);return h.useEffect(()=>{d.current=e},[e]),h.useEffect(()=>{f||x()},[n,f]),h.useEffect(()=>{a&&a.length>0&&o(null)},[JSON.stringify(a)]),h.useEffect(()=>{f||typeof l!="number"||j.current!==null||(j.current=setTimeout(()=>{x(),j.current=null},l))},[l,f,x,...s]),{droppableRects:v,measureDroppableContainers:x,measuringScheduled:a!=null};function y(){switch(u){case Nc.Always:return!1;case Nc.BeforeDragging:return n;default:return!n}}}function Pv(e,t){return Xc(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function q6(e,t){return Pv(e,t)}function K6(e){let{callback:t,disabled:n}=e;const s=nh(t),i=h.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(s)},[s,n]);return h.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function ih(e){let{callback:t,disabled:n}=e;const s=nh(t),i=h.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(s)},[n]);return h.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function G6(e){return new Ev(el(e),e)}function G0(e,t,n){t===void 0&&(t=G6);const[s,i]=h.useState(null);function a(){i(c=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=c??n)!=null?u:null}const d=t(e);return JSON.stringify(c)===JSON.stringify(d)?c:d})}const o=K6({callback(c){if(e)for(const u of c){const{type:d,target:f}=u;if(d==="childList"&&f instanceof HTMLElement&&f.contains(e)){a();break}}}}),l=ih({callback:a});return zs(()=>{a(),e?(l==null||l.observe(e),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),o==null||o.disconnect())},[e]),s}function Y6(e){const t=Pv(e);return vT(e,t)}const Y0=[];function Q6(e){const t=h.useRef(e),n=Xc(s=>e?s&&s!==Y0&&e&&t.current&&e.parentNode===t.current.parentNode?s:rh(e):Y0,[e]);return h.useEffect(()=>{t.current=e},[e]),n}function X6(e){const[t,n]=h.useState(null),s=h.useRef(e),i=h.useCallback(a=>{const o=vm(a.target);o&&n(l=>l?(l.set(o,dg(o)),new Map(l)):null)},[]);return h.useEffect(()=>{const a=s.current;if(e!==a){o(a);const l=e.map(c=>{const u=vm(c);return u?(u.addEventListener("scroll",i,{passive:!0}),[u,dg(u)]):null}).filter(c=>c!=null);n(l.length?new Map(l):null),s.current=e}return()=>{o(e),o(a)};function o(l){l.forEach(c=>{const u=vm(c);u==null||u.removeEventListener("scroll",i)})}},[i,e]),h.useMemo(()=>e.length?t?Array.from(t.values()).reduce((a,o)=>po(a,o),Ws):NT(e):Ws,[e,t])}function Q0(e,t){t===void 0&&(t=[]);const n=h.useRef(null);return h.useEffect(()=>{n.current=null},t),h.useEffect(()=>{const s=e!==Ws;s&&!n.current&&(n.current=e),!s&&n.current&&(n.current=null)},[e]),n.current?Sc(e,n.current):Ws}function J6(e){h.useEffect(()=>{if(!th)return;const t=e.map(n=>{let{sensor:s}=n;return s.setup==null?void 0:s.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function Z6(e,t){return h.useMemo(()=>e.reduce((n,s)=>{let{eventName:i,handler:a}=s;return n[i]=o=>{a(o,t)},n},{}),[e,t])}function TT(e){return h.useMemo(()=>e?S6(e):null,[e])}const X0=[];function eB(e,t){t===void 0&&(t=el);const[n]=e,s=TT(n?$n(n):null),[i,a]=h.useState(X0);function o(){a(()=>e.length?e.map(c=>_T(c)?s:new Ev(t(c),c)):X0)}const l=ih({callback:o});return zs(()=>{l==null||l.disconnect(),o(),e.forEach(c=>l==null?void 0:l.observe(c))},[e]),i}function kT(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Qc(t)?t:e}function tB(e){let{measure:t}=e;const[n,s]=h.useState(null),i=h.useCallback(u=>{for(const{target:d}of u)if(Qc(d)){s(f=>{const m=t(d);return f?{...f,width:m.width,height:m.height}:m});break}},[t]),a=ih({callback:i}),o=h.useCallback(u=>{const d=kT(u);a==null||a.disconnect(),d&&(a==null||a.observe(d)),s(d?t(d):null)},[t,a]),[l,c]=Qd(o);return h.useMemo(()=>({nodeRef:l,rect:n,setRef:c}),[n,l,c])}const nB=[{sensor:kv,options:{}},{sensor:Cv,options:{}}],sB={current:{}},od={draggable:{measure:z0},droppable:{measure:z0,strategy:Nc.WhileDragging,frequency:hg.Optimized},dragOverlay:{measure:el}};class Wl extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,s;return(n=(s=this.get(t))==null?void 0:s.node.current)!=null?n:void 0}}const rB={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Wl,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Zd},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:od,measureDroppableContainers:Zd,windowRect:null,measuringScheduled:!1},PT={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Zd,draggableNodes:new Map,over:null,measureDroppableContainers:Zd},Zc=h.createContext(PT),RT=h.createContext(rB);function iB(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Wl}}}function aB(e,t){switch(t.type){case Ot.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Ot.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Ot.DragEnd:case Ot.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Ot.RegisterDroppable:{const{element:n}=t,{id:s}=n,i=new Wl(e.droppable.containers);return i.set(s,n),{...e,droppable:{...e.droppable,containers:i}}}case Ot.SetDroppableDisabled:{const{id:n,key:s,disabled:i}=t,a=e.droppable.containers.get(n);if(!a||s!==a.key)return e;const o=new Wl(e.droppable.containers);return o.set(n,{...a,disabled:i}),{...e,droppable:{...e.droppable,containers:o}}}case Ot.UnregisterDroppable:{const{id:n,key:s}=t,i=e.droppable.containers.get(n);if(!i||s!==i.key)return e;const a=new Wl(e.droppable.containers);return a.delete(n),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function oB(e){let{disabled:t}=e;const{active:n,activatorEvent:s,draggableNodes:i}=h.useContext(Zc),a=Xd(s),o=Xd(n==null?void 0:n.id);return h.useEffect(()=>{if(!t&&!s&&a&&o!=null){if(!sh(a)||document.activeElement===a.target)return;const l=i.get(o);if(!l)return;const{activatorNode:c,node:u}=l;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[c.current,u.current]){if(!d)continue;const f=n6(d);if(f){f.focus();break}}})}},[s,t,i,o,a]),null}function AT(e,t){let{transform:n,...s}=t;return e!=null&&e.length?e.reduce((i,a)=>a({transform:i,...s}),n):n}function lB(e){return h.useMemo(()=>({draggable:{...od.draggable,...e==null?void 0:e.draggable},droppable:{...od.droppable,...e==null?void 0:e.droppable},dragOverlay:{...od.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function cB(e){let{activeNode:t,measure:n,initialRect:s,config:i=!0}=e;const a=h.useRef(!1),{x:o,y:l}=typeof i=="boolean"?{x:i,y:i}:i;zs(()=>{if(!o&&!l||!t){a.current=!1;return}if(a.current||!s)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const d=n(u),f=vT(d,s);if(o||(f.x=0),l||(f.y=0),a.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const m=wT(u);m&&m.scrollBy({top:f.y,left:f.x})}},[t,o,l,s,n])}const ah=h.createContext({...Ws,scaleX:1,scaleY:1});var Qr;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Qr||(Qr={}));const uB=h.memo(function(t){var n,s,i,a;let{id:o,accessibility:l,autoScroll:c=!0,children:u,sensors:d=nB,collisionDetection:f=v6,measuring:m,modifiers:x,...j}=t;const v=h.useReducer(aB,void 0,iB),[y,g]=v,[p,w]=l6(),[b,S]=h.useState(Qr.Uninitialized),T=b===Qr.Initialized,{draggable:{active:N,nodes:E,translate:P},droppable:{containers:D}}=y,R=N!=null?E.get(N):null,M=h.useRef({initial:null,translated:null}),$=h.useMemo(()=>{var Bt;return N!=null?{id:N,data:(Bt=R==null?void 0:R.data)!=null?Bt:sB,rect:M}:null},[N,R]),O=h.useRef(null),[K,F]=h.useState(null),[V,A]=h.useState(null),_=_c(j,Object.values(j)),C=Jc("DndDescribedBy",o),k=h.useMemo(()=>D.getEnabled(),[D]),L=lB(m),{droppableRects:I,measureDroppableContainers:H,measuringScheduled:ae}=H6(k,{dragging:T,dependencies:[P.x,P.y],config:L.droppable}),Q=z6(E,N),z=h.useMemo(()=>V?Jd(V):null,[V]),W=mh(),G=q6(Q,L.draggable.measure);cB({activeNode:N!=null?E.get(N):null,config:W.layoutShiftCompensation,initialRect:G,measure:L.draggable.measure});const U=G0(Q,L.draggable.measure,G),se=G0(Q?Q.parentElement:null),ce=h.useRef({activatorEvent:null,active:null,activeNode:Q,collisionRect:null,collisions:null,droppableRects:I,draggableNodes:E,draggingNode:null,draggingNodeRect:null,droppableContainers:D,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ue=D.getNodeFor((n=ce.current.over)==null?void 0:n.id),ge=tB({measure:L.dragOverlay.measure}),fe=(s=ge.nodeRef.current)!=null?s:Q,ye=T?(i=ge.rect)!=null?i:U:null,Se=!!(ge.nodeRef.current&&ge.rect),Ze=Y6(Se?null:U),oe=TT(fe?$n(fe):null),_e=Q6(T?ue??Q:null),et=eB(_e),Ue=AT(x,{transform:{x:P.x-Ze.x,y:P.y-Ze.y,scaleX:1,scaleY:1},activatorEvent:V,active:$,activeNodeRect:U,containerNodeRect:se,draggingNodeRect:ye,over:ce.current.over,overlayNodeRect:ge.rect,scrollableAncestors:_e,scrollableAncestorRects:et,windowRect:oe}),Lr=z?po(z,P):null,Qt=X6(_e),ru=Q0(Qt),rl=Q0(Qt,[U]),qs=po(Ue,ru),Mn=ye?j6(ye,Ue):null,we=$&&Mn?f({active:$,collisionRect:Mn,droppableRects:I,droppableContainers:k,pointerCoordinates:Lr}):null,We=xT(we,"id"),[Xt,Ut]=h.useState(null),Na=Se?Ue:po(Ue,rl),il=y6(Na,(a=Xt==null?void 0:Xt.rect)!=null?a:null,U),Ii=h.useRef(null),xt=h.useCallback((Bt,yn)=>{let{sensor:wn,options:Ss}=yn;if(O.current==null)return;const Jt=E.get(O.current);if(!Jt)return;const jn=Bt.nativeEvent,ss=new wn({active:O.current,activeNode:Jt,event:jn,options:Ss,context:ce,onAbort(Mt){if(!E.get(Mt))return;const{onDragAbort:is}=_.current,Ns={id:Mt};is==null||is(Ns),p({type:"onDragAbort",event:Ns})},onPending(Mt,rs,is,Ns){if(!E.get(Mt))return;const{onDragPending:Oi}=_.current,Ks={id:Mt,constraint:rs,initialCoordinates:is,offset:Ns};Oi==null||Oi(Ks),p({type:"onDragPending",event:Ks})},onStart(Mt){const rs=O.current;if(rs==null)return;const is=E.get(rs);if(!is)return;const{onDragStart:Ns}=_.current,Li={activatorEvent:jn,active:{id:rs,data:is.data,rect:M}};vs.unstable_batchedUpdates(()=>{Ns==null||Ns(Li),S(Qr.Initializing),g({type:Ot.DragStart,initialCoordinates:Mt,active:rs}),p({type:"onDragStart",event:Li}),F(Ii.current),A(jn)})},onMove(Mt){g({type:Ot.DragMove,coordinates:Mt})},onEnd:Or(Ot.DragEnd),onCancel:Or(Ot.DragCancel)});Ii.current=ss;function Or(Mt){return async function(){const{active:is,collisions:Ns,over:Li,scrollAdjustedTranslate:Oi}=ce.current;let Ks=null;if(is&&Oi){const{cancelDrop:Vt}=_.current;Ks={activatorEvent:jn,active:is,collisions:Ns,delta:Oi,over:Li},Mt===Ot.DragEnd&&typeof Vt=="function"&&await Promise.resolve(Vt(Ks))&&(Mt=Ot.DragCancel)}O.current=null,vs.unstable_batchedUpdates(()=>{g({type:Mt}),S(Qr.Uninitialized),Ut(null),F(null),A(null),Ii.current=null;const Vt=Mt===Ot.DragEnd?"onDragEnd":"onDragCancel";if(Ks){const B=_.current[Vt];B==null||B(Ks),p({type:Vt,event:Ks})}})}}},[E]),dh=h.useCallback((Bt,yn)=>(wn,Ss)=>{const Jt=wn.nativeEvent,jn=E.get(Ss);if(O.current!==null||!jn||Jt.dndKit||Jt.defaultPrevented)return;const ss={active:jn};Bt(wn,yn.options,ss)===!0&&(Jt.dndKit={capturedBy:yn.sensor},O.current=Ss,xt(wn,yn))},[E,xt]),al=W6(d,dh);J6(d),zs(()=>{U&&b===Qr.Initializing&&S(Qr.Initialized)},[U,b]),h.useEffect(()=>{const{onDragMove:Bt}=_.current,{active:yn,activatorEvent:wn,collisions:Ss,over:Jt}=ce.current;if(!yn||!wn)return;const jn={active:yn,activatorEvent:wn,collisions:Ss,delta:{x:qs.x,y:qs.y},over:Jt};vs.unstable_batchedUpdates(()=>{Bt==null||Bt(jn),p({type:"onDragMove",event:jn})})},[qs.x,qs.y]),h.useEffect(()=>{const{active:Bt,activatorEvent:yn,collisions:wn,droppableContainers:Ss,scrollAdjustedTranslate:Jt}=ce.current;if(!Bt||O.current==null||!yn||!Jt)return;const{onDragOver:jn}=_.current,ss=Ss.get(We),Or=ss&&ss.rect.current?{id:ss.id,rect:ss.rect.current,data:ss.data,disabled:ss.disabled}:null,Mt={active:Bt,activatorEvent:yn,collisions:wn,delta:{x:Jt.x,y:Jt.y},over:Or};vs.unstable_batchedUpdates(()=>{Ut(Or),jn==null||jn(Mt),p({type:"onDragOver",event:Mt})})},[We]),zs(()=>{ce.current={activatorEvent:V,active:$,activeNode:Q,collisionRect:Mn,collisions:we,droppableRects:I,draggableNodes:E,draggingNode:fe,draggingNodeRect:ye,droppableContainers:D,over:Xt,scrollableAncestors:_e,scrollAdjustedTranslate:qs},M.current={initial:ye,translated:Mn}},[$,Q,we,Mn,E,fe,ye,I,D,Xt,_e,qs]),U6({...W,delta:P,draggingRect:Mn,pointerCoordinates:Lr,scrollableAncestors:_e,scrollableAncestorRects:et});const fh=h.useMemo(()=>({active:$,activeNode:Q,activeNodeRect:U,activatorEvent:V,collisions:we,containerNodeRect:se,dragOverlay:ge,draggableNodes:E,droppableContainers:D,droppableRects:I,over:Xt,measureDroppableContainers:H,scrollableAncestors:_e,scrollableAncestorRects:et,measuringConfiguration:L,measuringScheduled:ae,windowRect:oe}),[$,Q,U,V,we,se,ge,E,D,I,Xt,H,_e,et,L,ae,oe]),hh=h.useMemo(()=>({activatorEvent:V,activators:al,active:$,activeNodeRect:U,ariaDescribedById:{draggable:C},dispatch:g,draggableNodes:E,over:Xt,measureDroppableContainers:H}),[V,al,$,U,g,C,E,Xt,H]);return $e.createElement(mT.Provider,{value:w},$e.createElement(Zc.Provider,{value:hh},$e.createElement(RT.Provider,{value:fh},$e.createElement(ah.Provider,{value:il},u)),$e.createElement(oB,{disabled:(l==null?void 0:l.restoreFocus)===!1})),$e.createElement(d6,{...l,hiddenTextDescribedById:C}));function mh(){const Bt=(K==null?void 0:K.autoScrollEnabled)===!1,yn=typeof c=="object"?c.enabled===!1:c===!1,wn=T&&!Bt&&!yn;return typeof c=="object"?{...c,enabled:wn}:{enabled:wn}}}),dB=h.createContext(null),J0="button",fB="Draggable";function hB(e){let{id:t,data:n,disabled:s=!1,attributes:i}=e;const a=Jc(fB),{activators:o,activatorEvent:l,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:f,over:m}=h.useContext(Zc),{role:x=J0,roleDescription:j="draggable",tabIndex:v=0}=i??{},y=(c==null?void 0:c.id)===t,g=h.useContext(y?ah:dB),[p,w]=Qd(),[b,S]=Qd(),T=Z6(o,t),N=_c(n);zs(()=>(f.set(t,{id:t,key:a,node:p,activatorNode:b,data:N}),()=>{const P=f.get(t);P&&P.key===a&&f.delete(t)}),[f,t]);const E=h.useMemo(()=>({role:x,tabIndex:v,"aria-disabled":s,"aria-pressed":y&&x===J0?!0:void 0,"aria-roledescription":j,"aria-describedby":d.draggable}),[s,x,v,y,j,d.draggable]);return{active:c,activatorEvent:l,activeNodeRect:u,attributes:E,isDragging:y,listeners:s?void 0:T,node:p,over:m,setNodeRef:w,setActivatorNodeRef:S,transform:g}}function DT(){return h.useContext(RT)}const mB="Droppable",pB={timeout:25};function gB(e){let{data:t,disabled:n=!1,id:s,resizeObserverConfig:i}=e;const a=Jc(mB),{active:o,dispatch:l,over:c,measureDroppableContainers:u}=h.useContext(Zc),d=h.useRef({disabled:n}),f=h.useRef(!1),m=h.useRef(null),x=h.useRef(null),{disabled:j,updateMeasurementsFor:v,timeout:y}={...pB,...i},g=_c(v??s),p=h.useCallback(()=>{if(!f.current){f.current=!0;return}x.current!=null&&clearTimeout(x.current),x.current=setTimeout(()=>{u(Array.isArray(g.current)?g.current:[g.current]),x.current=null},y)},[y]),w=ih({callback:p,disabled:j||!o}),b=h.useCallback((E,P)=>{w&&(P&&(w.unobserve(P),f.current=!1),E&&w.observe(E))},[w]),[S,T]=Qd(b),N=_c(t);return h.useEffect(()=>{!w||!S.current||(w.disconnect(),f.current=!1,w.observe(S.current))},[S,w]),h.useEffect(()=>(l({type:Ot.RegisterDroppable,element:{id:s,key:a,disabled:n,node:S,rect:m,data:N}}),()=>l({type:Ot.UnregisterDroppable,key:a,id:s})),[s]),h.useEffect(()=>{n!==d.current.disabled&&(l({type:Ot.SetDroppableDisabled,id:s,key:a,disabled:n}),d.current.disabled=n)},[s,a,n,l]),{active:o,rect:m,isOver:(c==null?void 0:c.id)===s,node:S,over:c,setNodeRef:T}}function xB(e){let{animation:t,children:n}=e;const[s,i]=h.useState(null),[a,o]=h.useState(null),l=Xd(n);return!n&&!s&&l&&i(l),zs(()=>{if(!a)return;const c=s==null?void 0:s.key,u=s==null?void 0:s.props.id;if(c==null||u==null){i(null);return}Promise.resolve(t(u,a)).then(()=>{i(null)})},[t,s,a]),$e.createElement($e.Fragment,null,n,s?h.cloneElement(s,{ref:o}):null)}const vB={x:0,y:0,scaleX:1,scaleY:1};function yB(e){let{children:t}=e;return $e.createElement(Zc.Provider,{value:PT},$e.createElement(ah.Provider,{value:vB},t))}const wB={position:"fixed",touchAction:"none"},jB=e=>sh(e)?"transform 250ms ease":void 0,bB=h.forwardRef((e,t)=>{let{as:n,activatorEvent:s,adjustScale:i,children:a,className:o,rect:l,style:c,transform:u,transition:d=jB}=e;if(!l)return null;const f=i?u:{...u,scaleX:1,scaleY:1},m={...wB,width:l.width,height:l.height,top:l.top,left:l.left,transform:Si.Transform.toString(f),transformOrigin:i&&s?h6(s,l):void 0,transition:typeof d=="function"?d(s):d,...c};return $e.createElement(n,{className:o,style:m,ref:t},a)}),_B=e=>t=>{let{active:n,dragOverlay:s}=t;const i={},{styles:a,className:o}=e;if(a!=null&&a.active)for(const[l,c]of Object.entries(a.active))c!==void 0&&(i[l]=n.node.style.getPropertyValue(l),n.node.style.setProperty(l,c));if(a!=null&&a.dragOverlay)for(const[l,c]of Object.entries(a.dragOverlay))c!==void 0&&s.node.style.setProperty(l,c);return o!=null&&o.active&&n.node.classList.add(o.active),o!=null&&o.dragOverlay&&s.node.classList.add(o.dragOverlay),function(){for(const[c,u]of Object.entries(i))n.node.style.setProperty(c,u);o!=null&&o.active&&n.node.classList.remove(o.active)}},SB=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:Si.Transform.toString(t)},{transform:Si.Transform.toString(n)}]},NB={duration:250,easing:"ease",keyframes:SB,sideEffects:_B({styles:{active:{opacity:"0"}}})};function EB(e){let{config:t,draggableNodes:n,droppableContainers:s,measuringConfiguration:i}=e;return nh((a,o)=>{if(t===null)return;const l=n.get(a);if(!l)return;const c=l.node.current;if(!c)return;const u=kT(o);if(!u)return;const{transform:d}=$n(o).getComputedStyle(o),f=yT(d);if(!f)return;const m=typeof t=="function"?t:CB(t);return ET(c,i.draggable.measure),m({active:{id:a,data:l.data,node:c,rect:i.draggable.measure(c)},draggableNodes:n,dragOverlay:{node:o,rect:i.dragOverlay.measure(u)},droppableContainers:s,measuringConfiguration:i,transform:f})})}function CB(e){const{duration:t,easing:n,sideEffects:s,keyframes:i}={...NB,...e};return a=>{let{active:o,dragOverlay:l,transform:c,...u}=a;if(!t)return;const d={x:l.rect.left-o.rect.left,y:l.rect.top-o.rect.top},f={scaleX:c.scaleX!==1?o.rect.width*c.scaleX/l.rect.width:1,scaleY:c.scaleY!==1?o.rect.height*c.scaleY/l.rect.height:1},m={x:c.x-d.x,y:c.y-d.y,...f},x=i({...u,active:o,dragOverlay:l,transform:{initial:c,final:m}}),[j]=x,v=x[x.length-1];if(JSON.stringify(j)===JSON.stringify(v))return;const y=s==null?void 0:s({active:o,dragOverlay:l,...u}),g=l.node.animate(x,{duration:t,easing:n,fill:"forwards"});return new Promise(p=>{g.onfinish=()=>{y==null||y(),p()}})}}let Z0=0;function TB(e){return h.useMemo(()=>{if(e!=null)return Z0++,Z0},[e])}const kB=$e.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:s,style:i,transition:a,modifiers:o,wrapperElement:l="div",className:c,zIndex:u=999}=e;const{activatorEvent:d,active:f,activeNodeRect:m,containerNodeRect:x,draggableNodes:j,droppableContainers:v,dragOverlay:y,over:g,measuringConfiguration:p,scrollableAncestors:w,scrollableAncestorRects:b,windowRect:S}=DT(),T=h.useContext(ah),N=TB(f==null?void 0:f.id),E=AT(o,{activatorEvent:d,active:f,activeNodeRect:m,containerNodeRect:x,draggingNodeRect:y.rect,over:g,overlayNodeRect:y.rect,scrollableAncestors:w,scrollableAncestorRects:b,transform:T,windowRect:S}),P=Pv(m),D=EB({config:s,draggableNodes:j,droppableContainers:v,measuringConfiguration:p}),R=P?y.setRef:void 0;return $e.createElement(yB,null,$e.createElement(xB,{animation:D},f&&N?$e.createElement(bB,{key:N,id:f.id,ref:R,as:l,activatorEvent:d,adjustScale:t,className:c,transition:a,rect:P,style:{zIndex:u,...i},transform:E},n):null))});function $T(e,t,n){const s=e.slice();return s.splice(n<0?s.length+n:n,0,s.splice(t,1)[0]),s}function PB(e,t){return e.reduce((n,s,i)=>{const a=t.get(s);return a&&(n[i]=a),n},Array(e.length))}function Lu(e){return e!==null&&e>=0}function RB(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function AB(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Rv=e=>{let{rects:t,activeIndex:n,overIndex:s,index:i}=e;const a=$T(t,s,n),o=t[i],l=a[i];return!l||!o?null:{x:l.left-o.left,y:l.top-o.top,scaleX:l.width/o.width,scaleY:l.height/o.height}},MT="Sortable",IT=$e.createContext({activeIndex:-1,containerId:MT,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Rv,disabled:{draggable:!1,droppable:!1}});function DB(e){let{children:t,id:n,items:s,strategy:i=Rv,disabled:a=!1}=e;const{active:o,dragOverlay:l,droppableRects:c,over:u,measureDroppableContainers:d}=DT(),f=Jc(MT,n),m=l.rect!==null,x=h.useMemo(()=>s.map(T=>typeof T=="object"&&"id"in T?T.id:T),[s]),j=o!=null,v=o?x.indexOf(o.id):-1,y=u?x.indexOf(u.id):-1,g=h.useRef(x),p=!RB(x,g.current),w=y!==-1&&v===-1||p,b=AB(a);zs(()=>{p&&j&&d(x)},[p,x,j,d]),h.useEffect(()=>{g.current=x},[x]);const S=h.useMemo(()=>({activeIndex:v,containerId:f,disabled:b,disableTransforms:w,items:x,overIndex:y,useDragOverlay:m,sortedRects:PB(x,c),strategy:i}),[v,f,b.draggable,b.droppable,w,x,y,c,m,i]);return $e.createElement(IT.Provider,{value:S},t)}const $B=e=>{let{id:t,items:n,activeIndex:s,overIndex:i}=e;return $T(n,s,i).indexOf(t)},MB=e=>{let{containerId:t,isSorting:n,wasDragging:s,index:i,items:a,newIndex:o,previousItems:l,previousContainerId:c,transition:u}=e;return!u||!s||l!==a&&i===o?!1:n?!0:o!==i&&t===c},IB={duration:200,easing:"ease"},LT="transform",LB=Si.Transition.toString({property:LT,duration:0,easing:"linear"}),OB={roleDescription:"sortable"};function FB(e){let{disabled:t,index:n,node:s,rect:i}=e;const[a,o]=h.useState(null),l=h.useRef(n);return zs(()=>{if(!t&&n!==l.current&&s.current){const c=i.current;if(c){const u=el(s.current,{ignoreTransform:!0}),d={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(d.x||d.y)&&o(d)}}n!==l.current&&(l.current=n)},[t,n,s,i]),h.useEffect(()=>{a&&o(null)},[a]),a}function UB(e){let{animateLayoutChanges:t=MB,attributes:n,disabled:s,data:i,getNewIndex:a=$B,id:o,strategy:l,resizeObserverConfig:c,transition:u=IB}=e;const{items:d,containerId:f,activeIndex:m,disabled:x,disableTransforms:j,sortedRects:v,overIndex:y,useDragOverlay:g,strategy:p}=h.useContext(IT),w=BB(s,x),b=d.indexOf(o),S=h.useMemo(()=>({sortable:{containerId:f,index:b,items:d},...i}),[f,i,b,d]),T=h.useMemo(()=>d.slice(d.indexOf(o)),[d,o]),{rect:N,node:E,isOver:P,setNodeRef:D}=gB({id:o,data:S,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:T,...c}}),{active:R,activatorEvent:M,activeNodeRect:$,attributes:O,setNodeRef:K,listeners:F,isDragging:V,over:A,setActivatorNodeRef:_,transform:C}=hB({id:o,data:S,attributes:{...OB,...n},disabled:w.draggable}),k=JU(D,K),L=!!R,I=L&&!j&&Lu(m)&&Lu(y),H=!g&&V,ae=H&&I?C:null,z=I?ae??(l??p)({rects:v,activeNodeRect:$,activeIndex:m,overIndex:y,index:b}):null,W=Lu(m)&&Lu(y)?a({id:o,items:d,activeIndex:m,overIndex:y}):b,G=R==null?void 0:R.id,U=h.useRef({activeId:G,items:d,newIndex:W,containerId:f}),se=d!==U.current.items,ce=t({active:R,containerId:f,isDragging:V,isSorting:L,id:o,index:b,items:d,newIndex:U.current.newIndex,previousItems:U.current.items,previousContainerId:U.current.containerId,transition:u,wasDragging:U.current.activeId!=null}),ue=FB({disabled:!ce,index:b,node:E,rect:N});return h.useEffect(()=>{L&&U.current.newIndex!==W&&(U.current.newIndex=W),f!==U.current.containerId&&(U.current.containerId=f),d!==U.current.items&&(U.current.items=d)},[L,W,f,d]),h.useEffect(()=>{if(G===U.current.activeId)return;if(G&&!U.current.activeId){U.current.activeId=G;return}const fe=setTimeout(()=>{U.current.activeId=G},50);return()=>clearTimeout(fe)},[G]),{active:R,activeIndex:m,attributes:O,data:S,rect:N,index:b,newIndex:W,items:d,isOver:P,isSorting:L,isDragging:V,listeners:F,node:E,overIndex:y,over:A,setNodeRef:k,setActivatorNodeRef:_,setDroppableNodeRef:D,setDraggableNodeRef:K,transform:ue??z,transition:ge()};function ge(){if(ue||se&&U.current.newIndex===b)return LB;if(!(H&&!sh(M)||!u)&&(L||ce))return Si.Transition.toString({...u,property:LT})}}function BB(e,t){var n,s;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(s=e==null?void 0:e.droppable)!=null?s:t.droppable}}function tf(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const VB=[De.Down,De.Right,De.Up,De.Left],zB=(e,t)=>{let{context:{active:n,collisionRect:s,droppableRects:i,droppableContainers:a,over:o,scrollableAncestors:l}}=t;if(VB.includes(e.code)){if(e.preventDefault(),!n||!s)return;const c=[];a.getEnabled().forEach(f=>{if(!f||f!=null&&f.disabled)return;const m=i.get(f.id);if(m)switch(e.code){case De.Down:s.top<m.top&&c.push(f);break;case De.Up:s.top>m.top&&c.push(f);break;case De.Left:s.left>m.left&&c.push(f);break;case De.Right:s.left<m.left&&c.push(f);break}});const u=g6({collisionRect:s,droppableRects:i,droppableContainers:c});let d=xT(u,"id");if(d===(o==null?void 0:o.id)&&u.length>1&&(d=u[1].id),d!=null){const f=a.get(n.id),m=a.get(d),x=m?i.get(m.id):null,j=m==null?void 0:m.node.current;if(j&&x&&f&&m){const y=rh(j).some((T,N)=>l[N]!==T),g=OT(f,m),p=WB(f,m),w=y||!g?{x:0,y:0}:{x:p?s.width-x.width:0,y:p?s.height-x.height:0},b={x:x.left,y:x.top};return w.x&&w.y?b:Sc(b,w)}}}};function OT(e,t){return!tf(e)||!tf(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function WB(e,t){return!tf(e)||!tf(t)||!OT(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const ej=({team:e,matchupId:t,teamPosition:n,isWinner:s})=>{const i=`${t}-${n}`,{attributes:a,listeners:o,setNodeRef:l,transform:c,transition:u,isDragging:d}=UB({id:i,data:{type:"team",team:e,matchupId:t,teamPosition:n}}),f={transform:Si.Transform.toString(c),transition:u,opacity:d?.5:1};return r.jsxs("div",{ref:l,style:f,...a,...o,className:`flex items-center gap-2 p-2 rounded cursor-grab hover:cursor-grabbing transition-colors
        ${d?"bg-blue-50 border border-blue-200":"hover:bg-gray-50"}
        ${s?"bg-green-50 border border-green-200":""}
      `,children:[r.jsx(TD,{className:"h-3 w-3 text-gray-400"}),(e==null?void 0:e.team_logo_url)&&r.jsx("img",{src:e.team_logo_url,alt:e.team_name,className:"w-5 h-5 rounded-full"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"text-sm font-medium truncate",children:(e==null?void 0:e.team_name)||`Team ${n==="team1"?"1":"2"}`}),r.jsx("div",{className:"text-xs text-gray-500 truncate",children:e==null?void 0:e.owner_name})]})]})},HB=({matchup:e,teams:t,conferences:n,onToggleOverride:s,onUpdateScores:i})=>{const a=t.find(g=>g.id===e.team1_id),o=t.find(g=>g.id===e.team2_id);n.find(g=>g.id===e.conference_id);const[l,c]=h.useState(!1),[u,d]=h.useState(e.team1_score),[f,m]=h.useState(e.team2_score);h.useEffect(()=>{d(e.team1_score),m(e.team2_score)},[e.team1_score,e.team2_score]);const x=e.winning_team_id===e.team1_id,j=e.winning_team_id===e.team2_id,v=()=>{i(e.id,u,f),c(!1)},y=()=>{d(e.team1_score),m(e.team2_score),c(!1)};return r.jsxs(Pe,{className:`transition-colors ${e.manual_override?"bg-orange-50 border-orange-200":""}`,children:[r.jsx(te,{className:"w-24",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-sm font-medium",children:["#",e.id]}),r.jsxs("div",{className:"flex flex-col gap-1",children:[e.manual_override&&r.jsx(ee,{variant:"outline",className:"text-xs text-orange-600 border-orange-300 px-1 py-0",children:"Override"}),e.is_playoff&&r.jsx(ee,{variant:"default",className:"text-xs bg-purple-600 px-1 py-0",children:"Playoff"})]})]})}),r.jsx(te,{className:"w-48",children:r.jsx(ej,{team:a,matchupId:e.id,teamPosition:"team1",isWinner:x})}),r.jsx(te,{className:"w-32 text-center",children:l?r.jsxs("div",{className:"flex items-center gap-1 justify-center",children:[r.jsx(fn,{type:"number",value:u,onChange:g=>d(parseFloat(g.target.value)||0),className:"w-12 h-6 text-xs text-center px-1",step:"0.1"}),r.jsx("span",{className:"text-xs text-gray-400",children:"-"}),r.jsx(fn,{type:"number",value:f,onChange:g=>m(parseFloat(g.target.value)||0),className:"w-12 h-6 text-xs text-center px-1",step:"0.1"}),r.jsx(J,{size:"sm",onClick:v,className:"h-6 w-6 p-0",children:r.jsx(Dx,{className:"h-3 w-3"})}),r.jsx(J,{size:"sm",variant:"ghost",onClick:y,className:"h-6 w-6 p-0",children:r.jsx(Cf,{className:"h-3 w-3"})})]}):r.jsxs("div",{className:"flex items-center gap-1 justify-center cursor-pointer hover:bg-gray-100 px-2 py-1 rounded",onClick:()=>c(!0),children:[r.jsx("span",{className:`text-sm font-bold ${x?"text-green-600":""}`,children:e.team1_score}),r.jsx("span",{className:"text-xs text-gray-400",children:"-"}),r.jsx("span",{className:`text-sm font-bold ${j?"text-green-600":""}`,children:e.team2_score}),r.jsx($p,{className:"h-3 w-3 text-gray-400 ml-1"})]})}),r.jsx(te,{className:"w-48",children:r.jsx(ej,{team:o,matchupId:e.id,teamPosition:"team2",isWinner:j})}),r.jsx(te,{className:"w-24",children:r.jsx("div",{className:"text-xs text-gray-500 text-center",children:e.matchup_status})}),r.jsx(te,{className:"w-24 text-center",children:r.jsx(J,{variant:"ghost",size:"sm",onClick:()=>s(e.id),className:"h-6 px-2 text-xs",children:r.jsx($p,{className:"h-3 w-3"})})})]})},qB=()=>{const[e,t]=h.useState([]),[n,s]=h.useState([]),[i,a]=h.useState([]),[o,l]=h.useState([]),[c,u]=h.useState(""),[d,f]=h.useState(""),[m,x]=h.useState(!1),[j,v]=h.useState(!1),[y,g]=h.useState(!1),[p,w]=h.useState(null),{toast:b}=An(),S=f6(U0(kv),U0(Cv,{coordinateGetter:zB})),T=async(_,C,k,L)=>{var I,H;try{console.log(`Fetching Sleeper scores for teams ${_} and ${C} for week ${L}`),console.log(`Note: Matchup conference_id ${k} will be ignored - checking each team's actual conference`);const[ae,Q]=await Promise.all([le.getTeamConferenceJunctions({filters:[{column:"team_id",operator:"eq",value:_}]}),le.getTeamConferenceJunctions({filters:[{column:"team_id",operator:"eq",value:C}]})]),z=(I=ae.data)==null?void 0:I[0],W=(H=Q.data)==null?void 0:H[0];if(!z||!W)return console.warn(`Missing junction data - Team ${_}: ${z?"found":"missing"}, Team ${C}: ${W?"found":"missing"}`),{team1Score:0,team2Score:0};console.log(`Team ${_} junction:`,{conference_id:z.conference_id,roster_id:z.roster_id}),console.log(`Team ${C} junction:`,{conference_id:W.conference_id,roster_id:W.roster_id});const G=n.find(ue=>ue.id===z.conference_id),U=n.find(ue=>ue.id===W.conference_id);if(!G||!U)return console.warn(`Missing conference data - Team ${_} conference: ${G?"found":"missing"}, Team ${C} conference: ${U?"found":"missing"}`),{team1Score:0,team2Score:0};console.log(`Team ${_} in conference "${G.conference_name}" (league_id: ${G.league_id})`),console.log(`Team ${C} in conference "${U.conference_name}" (league_id: ${U.league_id})`);let se=0,ce=0;try{console.log(`Fetching Team ${_} score from league ${G.league_id}, week ${L}`);const ge=(await Ye.fetchMatchups(G.league_id,L)).find(fe=>fe.roster_id===z.roster_id);se=(ge==null?void 0:ge.points)||0,console.log(`Team ${_} score from Sleeper: ${se} (roster_id: ${z.roster_id})`)}catch(ue){console.error(`Error fetching Team ${_} score from league ${G.league_id}:`,ue)}try{console.log(`Fetching Team ${C} score from league ${U.league_id}, week ${L}`);const ge=(await Ye.fetchMatchups(U.league_id,L)).find(fe=>fe.roster_id===W.roster_id);ce=(ge==null?void 0:ge.points)||0,console.log(`Team ${C} score from Sleeper: ${ce} (roster_id: ${W.roster_id})`)}catch(ue){console.error(`Error fetching Team ${C} score from league ${U.league_id}:`,ue)}return console.log(` Final scores - Team ${_}: ${se}, Team ${C}: ${ce}`),console.log(" This properly handles interconference matchups by checking each team's actual conference"),{team1Score:se,team2Score:ce}}catch(ae){return console.error("Error fetching Sleeper scores:",ae),{team1Score:0,team2Score:0}}};h.useEffect(()=>{E(),D(),N()},[]),h.useEffect(()=>{c&&P()},[c]),h.useEffect(()=>{c&&d&&n.length>0&&R()},[c,d,n]);const N=async()=>{try{const _=await Ye.getCurrentNFLWeek();console.log(`Setting current week to: ${_}`),f(_.toString())}catch(_){console.error("Error loading current week:",_)}},E=async()=>{try{const _=await le.getSeasons({limit:100,orderBy:{column:"season_year",ascending:!1}});if(_.error)throw new Error(_.error);const k=(_.data||[]).map(I=>({id:I.id,season_year:parseInt(I.season_year),season_name:I.season_name,is_current_season:I.is_current}));t(k);const L=k.find(I=>I.is_current_season);L&&u(L.id.toString())}catch(_){console.error("Error loading seasons:",_),b({title:"Error",description:"Failed to load seasons",variant:"destructive"})}},P=async()=>{try{const{data:_,error:C}=await le.getConferences({filters:[{column:"season_id",operator:"eq",value:parseInt(c)}]});if(C)throw new Error(C);s(_||[])}catch(_){console.error("Error loading conferences:",_),b({title:"Error",description:"Failed to load conferences",variant:"destructive"})}},D=async()=>{try{const _=await le.getTeams({limit:100,orderBy:{column:"team_name",ascending:!0}});if(_.error)throw new Error(_.error);const C=_.data||[],k=await le.getTeamConferenceJunctions({limit:1e3,orderBy:{column:"team_id",ascending:!0}});if(k.error)throw new Error(k.error);const L=k.data||[],I=C.map(H=>{const ae=L.find(Q=>Q.team_id===H.id);return{id:H.id,team_name:H.team_name,owner_name:H.owner_name,team_logo_url:H.team_logourl||"",conference_id:(ae==null?void 0:ae.conference_id)||0}});a(I)}catch(_){console.error("Error loading teams:",_),b({title:"Error",description:"Failed to load teams",variant:"destructive"})}},R=async()=>{x(!0),console.log(`Loading matchups for season ${c}, week ${d}`),console.log("Available conferences:",n.map(_=>({id:_.id,name:_.conference_name})));try{const _=n.map(k=>k.id);console.log("Conference IDs to query:",_);const C=[];for(const k of _){console.log(`Fetching matchups for conference ${k}`);const{data:L,error:I}=await le.getMatchups({filters:[{column:"conference_id",operator:"eq",value:k},{column:"week",operator:"eq",value:parseInt(d)}],orderBy:{column:"id",ascending:!0}});if(I)throw console.error(`Error fetching matchups for conference ${k}:`,I),new Error(I);const H=L||[];console.log(`Found ${H.length} matchups for conference ${k}`);const ae=n.find(z=>z.id===k),Q=H.map(z=>(console.log(`Loaded matchup ${z.id}:`,{teams:`${z.team1_id} vs ${z.team2_id}`,scores:`${z.team1_score} - ${z.team2_score}`,status:z.matchup_status,manual_override:z.manual_override}),console.log(` LOAD DEBUG - Matchup ${z.id}: team1_score=${z.team1_score}, team2_score=${z.team2_score}`),console.log(" LOAD DEBUG - Raw database values:",{team1_score:z.team1_score,team2_score:z.team2_score,team1_score_type:typeof z.team1_score,team2_score_type:typeof z.team2_score}),{...z,conference_name:ae==null?void 0:ae.conference_name}));C.push(...Q)}C.sort((k,L)=>k.conference_id!==L.conference_id?k.conference_id-L.conference_id:k.id-L.id),console.log(`Total matchups loaded: ${C.length}`),console.log("Matchups breakdown by status:",{pending:C.filter(k=>k.matchup_status==="pending").length,complete:C.filter(k=>k.matchup_status==="complete").length,manual_overrides:C.filter(k=>k.manual_override).length}),l(C)}catch(_){console.error("Error loading matchups:",_),b({title:"Error",description:`Failed to load matchups: ${_}`,variant:"destructive"})}finally{x(!1)}},M=_=>{w(_.active.id)},$=async _=>{const{active:C,over:k}=_;if(w(null),!k||C.id===k.id)return;const L=C.data.current,I=k.data.current;if((L==null?void 0:L.type)==="team"&&(I==null?void 0:I.type)==="team"){const H=L.matchupId,ae=L.teamPosition,Q=I.matchupId,z=I.teamPosition;if(H===Q&&ae===z)return;const W=[...o],G=W.find(ue=>ue.id===H),U=W.find(ue=>ue.id===Q);if(!G||!U)return;const se=ae==="team1"?G.team1_id:G.team2_id,ce=z==="team1"?U.team1_id:U.team2_id;ae==="team1"?G.team1_id=ce:G.team2_id=ce,z==="team1"?U.team1_id=se:U.team2_id=se;try{const ue=await T(G.team1_id,G.team2_id,G.conference_id,G.week);console.log(` DRAG DEBUG - Active matchup ${G.id}: Setting scores ${ue.team1Score} vs ${ue.team2Score}`),G.team1_score=ue.team1Score,G.team2_score=ue.team2Score,ue.team1Score>ue.team2Score?G.winning_team_id=G.team1_id:ue.team2Score>ue.team1Score?G.winning_team_id=G.team2_id:G.winning_team_id=null,console.log(` DRAG WINNER - Active matchup ${G.id}: Winner=${G.winning_team_id}`);const ge=await T(U.team1_id,U.team2_id,U.conference_id,U.week);console.log(` DRAG DEBUG - Over matchup ${U.id}: Setting scores ${ge.team1Score} vs ${ge.team2Score}`),U.team1_score=ge.team1Score,U.team2_score=ge.team2Score,ge.team1Score>ge.team2Score?U.winning_team_id=U.team1_id:ge.team2Score>ge.team1Score?U.winning_team_id=U.team2_id:U.winning_team_id=null,console.log(` DRAG WINNER - Over matchup ${U.id}: Winner=${U.winning_team_id}`),console.log(`Fetched Sleeper scores - Active matchup: ${ue.team1Score} vs ${ue.team2Score}, Over matchup: ${ge.team1Score} vs ${ge.team2Score}`)}catch(ue){console.warn("Failed to fetch Sleeper scores, using 0:",ue),G.team1_score=0,G.team2_score=0,G.winning_team_id=null,U.team1_score=0,U.team2_score=0,U.winning_team_id=null}G.winning_team_id=null,G.manual_override=!0,G.matchup_status="pending",U.winning_team_id=null,U.manual_override=!0,U.matchup_status="pending",console.log(`Teams swapped between matchups ${H} and ${Q}`),console.log(`Active matchup now has teams ${G.team1_id} vs ${G.team2_id}`),console.log(`Over matchup now has teams ${U.team1_id} vs ${U.team2_id}`),l(W),g(!0),b({title:"Teams Swapped",description:"Team matchups have been updated with current scores. Remember to save your changes.",duration:3e3})}},O=_=>{var C;console.log(`Toggling manual override for matchup ${_}`),l(k=>k.map(L=>{if(L.id===_){const I=!L.manual_override;return console.log(`Matchup ${_} manual override: ${L.manual_override} -> ${I}`),{...L,manual_override:I,status:I?L.matchup_status:"pending"}}return L})),g(!0),b({title:"Override Toggled",description:`Manual override ${(C=o.find(k=>k.id===_))!=null&&C.manual_override?"removed":"enabled"} for matchup ${_}`,duration:2e3})},K=(_,C,k)=>{console.log(`Updating scores for matchup ${_}: Team 1 = ${C}, Team 2 = ${k}`),l(L=>L.map(I=>{if(I.id===_){let H=null;return C>k?H=I.team1_id:k>C&&(H=I.team2_id),console.log(` WINNER CALC - Matchup ${_}: Team1(${I.team1_id})=${C}, Team2(${I.team2_id})=${k}, Winner=${H}`),{...I,team1_score:C,team2_score:k,winning_team_id:H,manual_override:!0,matchup_status:"complete"}}return I})),g(!0),b({title:"Scores Updated",description:`Matchup ${_} scores updated. Remember to save changes.`,duration:2e3})},F=async()=>{var L;v(!0),console.log("Starting save operation for",o.length,"matchups");let _=0,C=0;const k=[];try{for(const I of o){if(console.log(`Updating matchup ${I.id}:`,{conference_id:I.conference_id,week:I.week,team1_id:I.team1_id,team2_id:I.team2_id,team1_score:I.team1_score,team2_score:I.team2_score,winning_team_id:I.winning_team_id,manual_override:I.manual_override,status:I.manual_override?"complete":I.matchup_status}),console.log(` SCORE DEBUG - Matchup ${I.id}: team1_score=${I.team1_score}, team2_score=${I.team2_score}`),!I.id||I.conference_id<=0||I.week<=0){console.error(`Invalid matchup data for ID ${I.id}:`,{id:I.id,conference_id:I.conference_id,week:I.week}),C++,k.push(I.id);continue}let H=null;I.team1_score>I.team2_score?H=I.team1_id:I.team2_score>I.team1_score&&(H=I.team2_id),console.log(` SAVE WINNER - Matchup ${I.id}: Team1(${I.team1_id})=${I.team1_score}, Team2(${I.team2_id})=${I.team2_score}, Calculated Winner=${H}`);const ae={conference_id:I.conference_id,week:((L=I.week)==null?void 0:L.toString())||"1",team1_id:I.team1_id||0,team2_id:I.team2_id||0,is_playoff:I.is_playoff||!1,team1_score:I.team1_score||0,team2_score:I.team2_score||0,winning_team_id:H,manual_override:I.manual_override||!1,matchup_status:I.manual_override?"complete":I.matchup_status||"pending",notes:I.notes||""};console.log(`Sending update for matchup ${I.id} with data:`,ae),console.log(` UPDATE DEBUG - Raw scores being sent: team1_score=${ae.team1_score}, team2_score=${ae.team2_score}`);const Q=await le.updateMatchup(I.id,ae);if(Q.error){console.error(` Failed to update matchup ${I.id}:`,Q.error),console.error(" Update data was:",ae),console.error(" Matchup object:",I),C++,k.push(I.id);continue}else console.log(` Successfully updated matchup ${I.id}`),console.log(" UPDATE RESULT:",Q.data);I.manual_override&&console.log(`Matchup ${I.id} marked as manual override - skipping override record creation due to schema issues`),console.log(`Successfully updated matchup ${I.id}`),_++}console.log(`Save operation completed: ${_} successes, ${C} failures`),C>0?(console.error("Failed matchup IDs:",k),b({title:"Partial Success",description:`${_} matchups updated successfully, ${C} failed. Check console for details.`,variant:"destructive"})):(g(!1),b({title:"Success",description:`All ${_} matchups updated successfully with overrides`})),console.log("Reloading matchups to verify changes persisted..."),await R()}catch(I){console.error("Critical error during save operation:",I),b({title:"Error",description:`Failed to save matchup changes: ${I}`,variant:"destructive"})}finally{v(!1),console.log("Save operation completed, saving state reset")}},V=()=>{R(),g(!1)},A=Array.from({length:18},(_,C)=>C+1);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Y,{children:[r.jsxs(ne,{children:[r.jsxs(ie,{className:"flex items-center gap-2",children:[r.jsx(Qn,{className:"h-5 w-5"}),"Matchups Management"]}),r.jsx(je,{children:"Compact view for managing weekly matchups, scores, and overrides across all conferences. Drag and drop teams between matchups, edit scores inline, and toggle overrides quickly."})]}),r.jsxs(X,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Season"}),r.jsxs(At,{value:c,onValueChange:u,children:[r.jsx(Et,{children:r.jsx(Dt,{placeholder:"Select season..."})}),r.jsx(Ct,{children:e.map(_=>r.jsxs(Me,{value:_.id.toString(),children:[_.season_name,_.is_current_season&&r.jsx(ee,{variant:"secondary",className:"ml-2",children:"Current"})]},_.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Week"}),r.jsxs(At,{value:d,onValueChange:f,disabled:!c,children:[r.jsx(Et,{children:r.jsx(Dt,{placeholder:"Select week..."})}),r.jsx(Ct,{children:A.map(_=>r.jsxs(Me,{value:_.toString(),children:["Week ",_]},_))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Status"}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),r.jsxs("span",{children:[o.length," Total"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),r.jsxs("span",{children:[o.filter(_=>_.manual_override).length," Override"]})]})]})]}),r.jsx("div",{className:"space-y-2 flex items-end",children:y&&r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(J,{onClick:F,disabled:j,className:"flex items-center gap-2",children:[j?r.jsx(Nt,{className:"h-4 w-4 animate-spin"}):r.jsx(hN,{className:"h-4 w-4"}),"Save"]}),r.jsxs(J,{variant:"outline",onClick:V,className:"flex items-center gap-2",children:[r.jsx(JD,{className:"h-4 w-4"}),"Reset"]})]})})]}),y&&r.jsxs(Ve,{className:"mb-4",children:[r.jsx(g$,{className:"h-4 w-4"}),r.jsx(ze,{children:"You have unsaved changes. Remember to save your modifications."})]})]})]}),m?r.jsx(Y,{children:r.jsx(X,{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Nt,{className:"h-6 w-6 animate-spin"}),r.jsx("span",{children:"Loading matchups..."})]})})}):o.length===0&&d?r.jsx(Y,{children:r.jsx(X,{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Yt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Matchups Found"}),r.jsx("p",{className:"text-gray-600",children:"No matchups found for the selected week. They may need to be created first."})]})})}):o.length>0?r.jsx(Y,{children:r.jsx(X,{className:"p-0",children:r.jsxs(uB,{sensors:S,collisionDetection:p6,onDragStart:M,onDragEnd:$,children:[r.jsx(DB,{items:o.flatMap(_=>[`${_.id}-team1`,`${_.id}-team2`]),strategy:Rv,children:r.jsxs(mn,{children:[r.jsx(pn,{children:r.jsxs(Pe,{children:[r.jsx(re,{className:"w-24",children:"Match"}),r.jsx(re,{className:"w-48",children:"Team 1"}),r.jsx(re,{className:"w-32 text-center",children:"Score"}),r.jsx(re,{className:"w-48",children:"Team 2"}),r.jsx(re,{className:"w-24 text-center",children:"Status"}),r.jsx(re,{className:"w-24 text-center",children:"Actions"})]})}),r.jsx(gn,{children:n.map(_=>{const C=o.filter(k=>k.conference_id===_.id);return C.length===0?null:r.jsxs($e.Fragment,{children:[r.jsx(Pe,{children:r.jsx(te,{colSpan:6,className:"bg-gray-50 font-medium text-sm py-2",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Yt,{className:"h-4 w-4 text-blue-600"}),_.conference_name,r.jsxs(ee,{variant:"secondary",className:"text-xs",children:[C.length," matchups"]})]})})}),C.map(k=>r.jsx(HB,{matchup:k,teams:i,conferences:n,onToggleOverride:O,onUpdateScores:K},k.id))]},_.id)})})]})}),r.jsx(kB,{children:p?r.jsx("div",{className:"bg-white p-2 rounded-lg border-2 border-blue-400 shadow-lg",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-4 h-4 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx(Yt,{className:"h-2 w-2 text-blue-600"})}),r.jsx("span",{className:"text-xs font-medium",children:"Moving team..."})]})}):null})]})})}):r.jsx(Y,{children:r.jsx(X,{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Qn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select Filters"}),r.jsx("p",{className:"text-gray-600",children:"Please select a season and week to manage matchups across all conferences."})]})})})]})};var oh="Switch",[KB,aH]=ns(oh),[GB,YB]=KB(oh),FT=h.forwardRef((e,t)=>{const{__scopeSwitch:n,name:s,checked:i,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[m,x]=h.useState(null),j=Ke(t,w=>x(w)),v=h.useRef(!1),y=m?d||!!m.closest("form"):!0,[g,p]=Pr({prop:i,defaultProp:a??!1,onChange:u,caller:oh});return r.jsxs(GB,{scope:n,checked:g,disabled:l,children:[r.jsx(ve.button,{type:"button",role:"switch","aria-checked":g,"aria-required":o,"data-state":zT(g),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:j,onClick:xe(e.onClick,w=>{p(b=>!b),y&&(v.current=w.isPropagationStopped(),v.current||w.stopPropagation())})}),y&&r.jsx(VT,{control:m,bubbles:!v.current,name:s,value:c,checked:g,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});FT.displayName=oh;var UT="SwitchThumb",BT=h.forwardRef((e,t)=>{const{__scopeSwitch:n,...s}=e,i=YB(UT,n);return r.jsx(ve.span,{"data-state":zT(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t})});BT.displayName=UT;var QB="SwitchBubbleInput",VT=h.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:s=!0,...i},a)=>{const o=h.useRef(null),l=Ke(o,a),c=uv(n),u=Wx(t);return h.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&x){const j=new Event("click",{bubbles:s});x.call(d,n),d.dispatchEvent(j)}},[c,n,s]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:l,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});VT.displayName=QB;function zT(e){return e?"checked":"unchecked"}var WT=FT,XB=BT;const HT=h.forwardRef(({className:e,...t},n)=>r.jsx(WT,{className:pe("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:r.jsx(XB,{className:pe("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));HT.displayName=WT.displayName;class JB{constructor(){us(this,"schedule",{enabled:!1,dayOfWeek:2,hour:9,minute:0,timezone:"America/New_York"});us(this,"syncStatus",{id:"",status:"idle",progress:0,currentStep:"Waiting for next sync",processedMatchups:0,totalMatchups:0,errors:[]});us(this,"syncHistory",[]);us(this,"scheduleTimer",null);us(this,"statusListeners",[]);us(this,"historyListeners",[]);this.loadSettings(),this.scheduleNextSync()}getSchedule(){return{...this.schedule}}updateSchedule(t){this.schedule={...this.schedule,...t},this.saveSettings(),this.scheduleNextSync(),this.notifyStatusListeners()}getStatus(){return{...this.syncStatus}}getHistory(){return[...this.syncHistory]}async runManualSync(){if(this.syncStatus.status==="running")throw new Error("Sync is already running");await this.executeSync(!0)}onStatusChange(t){return this.statusListeners.push(t),()=>{this.statusListeners=this.statusListeners.filter(n=>n!==t)}}onHistoryChange(t){return this.historyListeners.push(t),()=>{this.historyListeners=this.historyListeners.filter(n=>n!==t)}}loadSettings(){try{const t=localStorage.getItem("weeklyAutoSyncSchedule");t&&(this.schedule={...this.schedule,...JSON.parse(t)});const n=localStorage.getItem("weeklyAutoSyncHistory");n&&(this.syncHistory=JSON.parse(n).map(s=>({...s,timestamp:new Date(s.timestamp)})))}catch(t){console.error("Failed to load sync settings:",t)}}saveSettings(){try{localStorage.setItem("weeklyAutoSyncSchedule",JSON.stringify(this.schedule)),localStorage.setItem("weeklyAutoSyncHistory",JSON.stringify(this.syncHistory))}catch(t){console.error("Failed to save sync settings:",t)}}scheduleNextSync(){if(this.scheduleTimer&&(clearTimeout(this.scheduleTimer),this.scheduleTimer=null),!this.schedule.enabled){this.updateSyncStatus({status:"idle",currentStep:"Automatic sync disabled",nextRunTime:void 0});return}const t=this.calculateNextRunTime(),n=new Date,s=t.getTime()-n.getTime();s>0&&(this.scheduleTimer=setTimeout(()=>{this.executeSync(!1)},s),this.updateSyncStatus({status:"scheduled",currentStep:"Scheduled for next run",nextRunTime:t}))}calculateNextRunTime(){const t=new Date,n=new Date(t);n.setHours(this.schedule.hour,this.schedule.minute,0,0);const s=t.getDay();let a=this.schedule.dayOfWeek-s;return(a<0||a===0&&t.getTime()>=n.getTime())&&(a+=7),n.setDate(n.getDate()+a),n}async executeSync(t){var l,c;const n=`sync_${Date.now()}`,s=new Date;this.updateSyncStatus({id:n,status:"running",startTime:s,progress:0,currentStep:"Initializing sync...",processedMatchups:0,totalMatchups:0,errors:[]});const i=[];let a=0,o=0;try{this.updateSyncStatus({currentStep:"Fetching active conferences...",progress:10});const{data:u}=await window.ezsite.apis.tablePage(12820,{PageNo:1,PageSize:100,Filters:[{name:"is_active",op:"Equal",value:!0}]});if(!((l=u==null?void 0:u.List)!=null&&l.length))throw new Error("No active conferences found");const{data:d}=await window.ezsite.apis.tablePage(12818,{PageNo:1,PageSize:1,Filters:[{name:"is_current_season",op:"Equal",value:!0}]});if(!((c=d==null?void 0:d.List)!=null&&c.length))throw new Error("No current season found");const f=d.List[0];this.updateSyncStatus({currentStep:"Fetching pending matchups...",progress:20});const{data:m}=await window.ezsite.apis.tablePage(13329,{PageNo:1,PageSize:1e3,Filters:[{name:"status",op:"Equal",value:"pending"},{name:"week",op:"Equal",value:f.current_week}]}),x=(m==null?void 0:m.List)||[];this.updateSyncStatus({totalMatchups:x.length,progress:30});for(const g of u.List){this.updateSyncStatus({currentStep:`Processing ${g.conference_name}...`,progress:30+a/x.length*40});try{const p=x.filter(w=>w.conference_id===g.id);for(const w of p)await this.processMatchup(w,g,f),a++,this.updateSyncStatus({processedMatchups:a,progress:30+a/x.length*40});await this.updateTeamRecords(g.id,f.id),o++}catch(p){const w=`Error processing ${g.conference_name}: ${p}`;i.push(w),console.error(w)}}this.updateSyncStatus({currentStep:"Finalizing sync...",progress:90});const j=new Date,v=j.getTime()-s.getTime(),y={id:n,timestamp:s,status:i.length>0?a>0?"partial":"failed":"success",duration:v,matchupsProcessed:a,recordsUpdated:o,errors:[...i],details:t?"Manual sync":"Scheduled sync"};this.syncHistory.unshift(y),this.syncHistory=this.syncHistory.slice(0,100),this.saveSettings(),this.notifyHistoryListeners(),this.updateSyncStatus({status:i.length>0?"failed":"completed",endTime:j,progress:100,currentStep:`Sync completed ${i.length>0?"with errors":"successfully"}`,errors:[...i],lastRunTime:s}),t||setTimeout(()=>this.scheduleNextSync(),5e3),i.length===0?oi({title:"Sync Completed",description:`Processed ${a} matchups successfully`}):oi({title:"Sync Completed with Errors",description:`Processed ${a} matchups with ${i.length} errors`,variant:"destructive"})}catch(u){const d=`Sync failed: ${u}`;i.push(d),this.updateSyncStatus({status:"failed",endTime:new Date,progress:0,currentStep:"Sync failed",errors:[...i]}),console.error("Sync execution failed:",u),oi({title:"Sync Failed",description:d,variant:"destructive"}),t||setTimeout(()=>this.scheduleNextSync(),6e4)}}async processMatchup(t,n,s){var i,a,o,l;try{const c=await Ye.getMatchups(n.league_id,t.week);if(!(c!=null&&c.length))throw new Error(`No Sleeper matchups found for week ${t.week}`);if(!c.find(g=>g.matchup_id===parseInt(t.sleeper_matchup_id)))throw new Error(`Sleeper matchup not found for ID ${t.sleeper_matchup_id}`);const{data:d}=await window.ezsite.apis.tablePage(12853,{PageNo:1,PageSize:1,Filters:[{name:"team_id",op:"Equal",value:t.team_1_id},{name:"conference_id",op:"Equal",value:n.id}]}),{data:f}=await window.ezsite.apis.tablePage(12853,{PageNo:1,PageSize:1,Filters:[{name:"team_id",op:"Equal",value:t.team_2_id},{name:"conference_id",op:"Equal",value:n.id}]});if(!((i=d==null?void 0:d.List)!=null&&i.length)||!((a=f==null?void 0:f.List)!=null&&a.length))throw new Error("Could not find team junction records");const m=d.List[0].roster_id,x=f.List[0].roster_id,j=((o=c.find(g=>g.roster_id===parseInt(m)))==null?void 0:o.points)||0,v=((l=c.find(g=>g.roster_id===parseInt(x)))==null?void 0:l.points)||0;let y=null;j>v?y=t.team_1_id:v>j&&(y=t.team_2_id),await window.ezsite.apis.tableUpdate(13329,{id:t.id,team_1_score:j,team_2_score:v,winner_id:y,status:"complete",is_manual_override:!1})}catch(c){throw new Error(`Failed to process matchup ${t.id}: ${c}`)}}async updateTeamRecords(t,n){var s,i,a;try{const{data:o}=await window.ezsite.apis.tablePage(13329,{PageNo:1,PageSize:1e3,Filters:[{name:"conference_id",op:"Equal",value:t},{name:"status",op:"Equal",value:"complete"}]});if(!((s=o==null?void 0:o.List)!=null&&s.length))return;const{data:l}=await window.ezsite.apis.tablePage(12853,{PageNo:1,PageSize:100,Filters:[{name:"conference_id",op:"Equal",value:t}]});if(!((i=l==null?void 0:l.List)!=null&&i.length))return;for(const c of l.List){const u=c.team_id,d=o.List.filter(b=>b.team_1_id===u||b.team_2_id===u);let f=0,m=0,x=0,j=0,v=0;for(const b of d){const S=b.team_1_id===u,T=S?b.team_1_score:b.team_2_score,N=S?b.team_2_score:b.team_1_score;j+=T,v+=N,b.winner_id===u?f++:b.winner_id===null?x++:m++}const y=f+m+x,g=y>0?f/y:0,{data:p}=await window.ezsite.apis.tablePage(13768,{PageNo:1,PageSize:1,Filters:[{name:"team_id",op:"Equal",value:u},{name:"conference_id",op:"Equal",value:t},{name:"season_id",op:"Equal",value:n}]}),w={team_id:u,conference_id:t,season_id:n,wins:f,losses:m,ties:x,points_for:j,points_against:v,win_percentage:g,last_updated:new Date().toISOString()};(a=p==null?void 0:p.List)!=null&&a.length?await window.ezsite.apis.tableUpdate(13768,{id:p.List[0].id,...w}):await window.ezsite.apis.tableCreate(13768,w)}}catch(o){throw new Error(`Failed to update team records: ${o}`)}}updateSyncStatus(t){this.syncStatus={...this.syncStatus,...t},this.notifyStatusListeners()}notifyStatusListeners(){this.statusListeners.forEach(t=>{try{t(this.getStatus())}catch(n){console.error("Error notifying status listener:",n)}})}notifyHistoryListeners(){this.historyListeners.forEach(t=>{try{t(this.getHistory())}catch(n){console.error("Error notifying history listener:",n)}})}}const Wi=new JB,ZB=()=>{const[e,t]=h.useState(Wi.getSchedule()),[n,s]=h.useState(Wi.getStatus()),[i,a]=h.useState(Wi.getHistory()),[o,l]=h.useState(!1),[c,u]=h.useState("overview");h.useEffect(()=>{const g=Wi.onStatusChange(s),p=Wi.onHistoryChange(a);return()=>{g(),p()}},[]);const d=g=>{const p={...e,...g};t(p),Wi.updateSchedule(g),oi({title:"Schedule Updated",description:"Auto-sync schedule has been updated successfully."})},f=async()=>{if(n.status==="running"){oi({title:"Sync Already Running",description:"Please wait for the current sync to complete.",variant:"destructive"});return}l(!0);try{await Wi.runManualSync(),oi({title:"Manual Sync Started",description:"Sync has been initiated manually."})}catch(g){oi({title:"Sync Failed",description:`Failed to start manual sync: ${g}`,variant:"destructive"})}finally{l(!1)}},m=g=>{switch(g){case"completed":case"success":return"bg-green-500";case"running":return"bg-blue-500";case"failed":return"bg-red-500";case"partial":return"bg-yellow-500";case"scheduled":return"bg-purple-500";default:return"bg-gray-500"}},x=g=>{switch(g){case"completed":case"success":return r.jsx(Sl,{className:"w-4 h-4"});case"running":return r.jsx(nt,{className:"w-4 h-4 animate-spin"});case"failed":return r.jsx(pD,{className:"w-4 h-4"});case"partial":return r.jsx(Oe,{className:"w-4 h-4"});case"scheduled":return r.jsx(er,{className:"w-4 h-4"});default:return r.jsx(qD,{className:"w-4 h-4"})}},j=g=>{const p=Math.floor(g/1e3),w=Math.floor(p/60),b=Math.floor(w/60);return b>0?`${b}h ${w%60}m ${p%60}s`:w>0?`${w}m ${p%60}s`:`${p}s`},v=g=>g?new Date(g).toLocaleString():"N/A",y=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Auto-Sync Manager"}),r.jsx("p",{className:"text-muted-foreground",children:"Manage automatic weekly synchronization with Sleeper API"})]}),r.jsxs(J,{onClick:f,disabled:o||n.status==="running",className:"gap-2",children:[o||n.status==="running"?r.jsx(nt,{className:"w-4 h-4 animate-spin"}):r.jsx(GD,{className:"w-4 h-4"}),o||n.status==="running"?"Syncing...":"Run Manual Sync"]})]}),r.jsxs($i,{value:c,onValueChange:u,className:"w-full",children:[r.jsxs(Ir,{className:"grid w-full grid-cols-4",children:[r.jsxs(He,{value:"overview",className:"gap-2",children:[r.jsx(Ao,{className:"w-4 h-4"}),"Overview"]}),r.jsxs(He,{value:"schedule",className:"gap-2",children:[r.jsx(Qn,{className:"w-4 h-4"}),"Schedule"]}),r.jsxs(He,{value:"monitoring",className:"gap-2",children:[r.jsx(lD,{className:"w-4 h-4"}),"Monitoring"]}),r.jsxs(He,{value:"history",className:"gap-2",children:[r.jsx(PD,{className:"w-4 h-4"}),"History"]})]}),r.jsxs(qe,{value:"overview",className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs(Y,{children:[r.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(ie,{className:"text-sm font-medium",children:"Sync Status"}),x(n.status)]}),r.jsxs(X,{children:[r.jsx("div",{className:"text-2xl font-bold capitalize",children:n.status}),r.jsx("p",{className:"text-xs text-muted-foreground",children:n.currentStep})]})]}),r.jsxs(Y,{children:[r.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(ie,{className:"text-sm font-medium",children:"Auto-Sync"}),r.jsx(Ld,{className:"w-4 h-4"})]}),r.jsxs(X,{children:[r.jsx("div",{className:"text-2xl font-bold",children:e.enabled?"Enabled":"Disabled"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:e.enabled?`${y[e.dayOfWeek]} at ${e.hour}:${e.minute.toString().padStart(2,"0")}`:"Manual only"})]})]}),r.jsxs(Y,{children:[r.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(ie,{className:"text-sm font-medium",children:"Last Run"}),r.jsx(h$,{className:"w-4 h-4"})]}),r.jsxs(X,{children:[r.jsx("div",{className:"text-2xl font-bold",children:n.lastRunTime?v(n.lastRunTime).split(" ")[1]:"Never"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:n.lastRunTime?v(n.lastRunTime).split(" ")[0]:"No previous runs"})]})]}),r.jsxs(Y,{children:[r.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(ie,{className:"text-sm font-medium",children:"Next Run"}),r.jsx(er,{className:"w-4 h-4"})]}),r.jsxs(X,{children:[r.jsx("div",{className:"text-2xl font-bold",children:n.nextRunTime?v(n.nextRunTime).split(" ")[1]:"N/A"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:n.nextRunTime?v(n.nextRunTime).split(" ")[0]:"No scheduled runs"})]})]})]}),n.status==="running"&&r.jsxs(Y,{children:[r.jsx(ne,{children:r.jsxs(ie,{className:"flex items-center gap-2",children:[r.jsx(nt,{className:"w-5 h-5 animate-spin"}),"Sync in Progress"]})}),r.jsxs(X,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:n.currentStep}),r.jsxs("span",{children:[n.progress,"%"]})]}),r.jsx(tr,{value:n.progress,className:"h-2"})]}),r.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[r.jsxs("span",{children:["Matchups: ",n.processedMatchups," / ",n.totalMatchups]}),r.jsxs("span",{children:["Started: ",v(n.startTime)]})]})]})]}),n.errors.length>0&&r.jsxs(Ve,{variant:"destructive",children:[r.jsx(Oe,{className:"h-4 w-4"}),r.jsxs(ze,{children:[r.jsx("div",{className:"font-medium",children:"Sync Errors:"}),r.jsx("ul",{className:"mt-1 space-y-1",children:n.errors.map((g,p)=>r.jsxs("li",{className:"text-sm",children:[" ",g]},p))})]})]})]}),r.jsx(qe,{value:"schedule",className:"space-y-4",children:r.jsxs(Y,{children:[r.jsx(ne,{children:r.jsx(ie,{children:"Sync Schedule Configuration"})}),r.jsxs(X,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(It,{htmlFor:"enable-sync",children:"Enable Automatic Sync"}),r.jsx(HT,{id:"enable-sync",checked:e.enabled,onCheckedChange:g=>d({enabled:g})})]}),e.enabled&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(It,{htmlFor:"day-of-week",children:"Day of Week"}),r.jsxs(At,{value:e.dayOfWeek.toString(),onValueChange:g=>d({dayOfWeek:parseInt(g)}),children:[r.jsx(Et,{children:r.jsx(Dt,{placeholder:"Select day"})}),r.jsx(Ct,{children:y.map((g,p)=>r.jsx(Me,{value:p.toString(),children:g},p))})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(It,{htmlFor:"hour",children:"Hour (24-hour format)"}),r.jsx(fn,{id:"hour",type:"number",min:"0",max:"23",value:e.hour,onChange:g=>d({hour:parseInt(g.target.value)||0})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(It,{htmlFor:"minute",children:"Minute"}),r.jsx(fn,{id:"minute",type:"number",min:"0",max:"59",value:e.minute,onChange:g=>d({minute:parseInt(g.target.value)||0})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(It,{htmlFor:"timezone",children:"Timezone"}),r.jsxs(At,{value:e.timezone,onValueChange:g=>d({timezone:g}),children:[r.jsx(Et,{children:r.jsx(Dt,{placeholder:"Select timezone"})}),r.jsxs(Ct,{children:[r.jsx(Me,{value:"America/New_York",children:"Eastern Time"}),r.jsx(Me,{value:"America/Chicago",children:"Central Time"}),r.jsx(Me,{value:"America/Denver",children:"Mountain Time"}),r.jsx(Me,{value:"America/Los_Angeles",children:"Pacific Time"})]})]})]})]}),r.jsxs(Ve,{children:[r.jsx(Oe,{className:"h-4 w-4"}),r.jsxs(ze,{children:[r.jsx("strong",{children:"Note:"})," Automatic sync will only run when the browser is open and active. For production use, consider implementing server-side scheduling."]})]})]})]})}),r.jsx(qe,{value:"monitoring",className:"space-y-4",children:r.jsxs(Y,{children:[r.jsx(ne,{children:r.jsx(ie,{children:"Real-time Monitoring"})}),r.jsx(X,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(It,{children:"Current Status"}),r.jsx(ee,{variant:"outline",className:`${m(n.status)} text-white`,children:n.status})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(It,{children:"Current Step"}),r.jsx("p",{className:"text-sm",children:n.currentStep})]})]}),n.status==="running"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(It,{children:"Progress"}),r.jsx(tr,{value:n.progress,className:"h-2"}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.progress,"% complete"]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(It,{children:"Processed Matchups"}),r.jsx("p",{className:"text-2xl font-bold",children:n.processedMatchups})]}),r.jsxs("div",{children:[r.jsx(It,{children:"Total Matchups"}),r.jsx("p",{className:"text-2xl font-bold",children:n.totalMatchups})]})]})]}),n.startTime&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(It,{children:"Started At"}),r.jsx("p",{className:"text-sm",children:v(n.startTime)})]}),n.endTime&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(It,{children:"Completed At"}),r.jsx("p",{className:"text-sm",children:v(n.endTime)})]})]})})]})}),r.jsx(qe,{value:"history",className:"space-y-4",children:r.jsxs(Y,{children:[r.jsx(ne,{children:r.jsx(ie,{children:"Sync History"})}),r.jsx(X,{children:r.jsx("div",{className:"rounded-md border",children:r.jsxs(mn,{children:[r.jsx(pn,{children:r.jsxs(Pe,{children:[r.jsx(re,{children:"Timestamp"}),r.jsx(re,{children:"Status"}),r.jsx(re,{children:"Duration"}),r.jsx(re,{children:"Matchups"}),r.jsx(re,{children:"Records"}),r.jsx(re,{children:"Errors"}),r.jsx(re,{children:"Details"})]})}),r.jsx(gn,{children:i.length===0?r.jsx(Pe,{children:r.jsx(te,{colSpan:7,className:"text-center text-muted-foreground",children:"No sync history available"})}):i.map(g=>r.jsxs(Pe,{children:[r.jsx(te,{children:v(g.timestamp)}),r.jsx(te,{children:r.jsx(ee,{variant:"outline",className:`${m(g.status)} text-white`,children:g.status})}),r.jsx(te,{children:j(g.duration)}),r.jsx(te,{children:g.matchupsProcessed}),r.jsx(te,{children:g.recordsUpdated}),r.jsx(te,{children:g.errors.length>0?r.jsx(ee,{variant:"destructive",children:g.errors.length}):r.jsx("span",{className:"text-green-600",children:"None"})}),r.jsx(te,{className:"max-w-xs truncate",children:g.details})]},g.id))})]})})})]})})]})]})},eV=()=>{const[e,t]=h.useState(!1),[n,s]=h.useState(""),[i,a]=h.useState(""),[o,l]=h.useState(null),[c,u]=h.useState(!0),{toast:d}=An(),f="gladleague2025";h.useEffect(()=>{const j=sessionStorage.getItem("admin_authenticated"),v=sessionStorage.getItem("admin_login_time");if(j==="true"&&v){const y=new Date(v);(new Date().getTime()-y.getTime())/(1e3*60*60)<8?(t(!0),l(localStorage.getItem("admin_last_login"))):(sessionStorage.removeItem("admin_authenticated"),sessionStorage.removeItem("admin_login_time"))}u(!1)},[]);const m=j=>{if(j.preventDefault(),n===f){const v=new Date;t(!0),a(""),sessionStorage.setItem("admin_authenticated","true"),sessionStorage.setItem("admin_login_time",v.toISOString()),localStorage.setItem("admin_last_login",v.toLocaleString()),l(v.toLocaleString()),d({title:"Admin Access Granted",description:"Welcome to the admin panel"})}else a("Invalid password"),d({title:"Access Denied",description:"Invalid admin password",variant:"destructive"})},x=()=>{t(!1),s(""),sessionStorage.removeItem("admin_authenticated"),sessionStorage.removeItem("admin_login_time"),d({title:"Logged Out",description:"Admin session ended"})};return c?r.jsx("div",{className:"container mx-auto px-4 py-8","data-id":"ao89vvru5",children:r.jsx("div",{className:"flex items-center justify-center min-h-[400px]","data-id":"pml7mynqn",children:r.jsx("div",{className:"animate-spin h-8 w-8 border-b-2 border-blue-600 rounded-full","data-id":"10jeltn5k"})})}):e?r.jsxs("div",{className:"container mx-auto px-4 py-8","data-id":"zucmgzvwq",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8","data-id":"lro5ngqd4",children:[r.jsxs("div",{"data-id":"noo7qh20h",children:[r.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3","data-id":"fmj1jcz8o",children:[r.jsx(Ld,{className:"h-8 w-8 text-blue-600","data-id":"bdjtdbfnt"}),"Admin Panel"]}),r.jsx("p",{className:"text-muted-foreground mt-2","data-id":"amn1082i4",children:"Manage leagues, sync data, and perform administrative tasks"})]}),r.jsxs("div",{className:"flex items-center gap-4","data-id":"nw6oaovvh",children:[o&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground","data-id":"1kqkbfoj2",children:[r.jsx(er,{className:"h-4 w-4","data-id":"u85cv9ybo"}),"Last login: ",o]}),r.jsxs(ee,{variant:"secondary",className:"flex items-center gap-1","data-id":"u49kieuap",children:[r.jsx(Ao,{className:"h-3 w-3","data-id":"fzemdjhv1"}),"Admin Active"]}),r.jsx(J,{variant:"outline",onClick:x,"data-id":"ssqzxi57s",children:"Logout"})]})]}),r.jsxs($i,{defaultValue:"league-manager",className:"space-y-6","data-id":"ojttqdptv",children:[r.jsxs(Ir,{className:"grid w-full grid-cols-4","data-id":"55g8xnp5m",children:[r.jsxs(He,{value:"league-manager",className:"flex items-center gap-2","data-id":"mudt4s949",children:[r.jsx(Ld,{className:"h-4 w-4","data-id":"vq59l6i0o"}),"League Manager"]}),r.jsxs(He,{value:"data-sync",className:"flex items-center gap-2","data-id":"x1ln07h9l",children:[r.jsx(Oa,{className:"h-4 w-4","data-id":"gwzxvoplp"}),"Data Sync"]}),r.jsxs(He,{value:"matchups-management",className:"flex items-center gap-2","data-id":"kq8s7gvio",children:[r.jsx(Qn,{className:"h-4 w-4","data-id":"930hxto7y"}),"Matchups & Overrides"]}),r.jsxs(He,{value:"auto-sync",className:"flex items-center gap-2","data-id":"ufa49dbo7",children:[r.jsx(iD,{className:"h-4 w-4","data-id":"xv3rcuk8d"}),"Auto-Sync"]})]}),r.jsx(qe,{value:"league-manager","data-id":"9y7vx68ag",children:r.jsx(qU,{"data-id":"jqk7s5yut"})}),r.jsx(qe,{value:"data-sync","data-id":"mbmsyjmjw",children:r.jsx(XU,{"data-id":"r02lgxd37"})}),r.jsx(qe,{value:"matchups-management","data-id":"2im6bg2ok",children:r.jsx(qB,{"data-id":"ddqsho0df"})}),r.jsx(qe,{value:"auto-sync","data-id":"cr5xmlzdc",children:r.jsx(ZB,{"data-id":"5st9c4lq3"})})]})]}):r.jsx("div",{className:"container mx-auto px-4 py-8","data-id":"sep77enuq",children:r.jsx("div",{className:"max-w-md mx-auto","data-id":"qkcxfcevx",children:r.jsxs(Y,{"data-id":"7bka3yyd5",children:[r.jsxs(ne,{className:"text-center","data-id":"alhddkb9x",children:[r.jsx("div",{className:"flex justify-center mb-4","data-id":"20czuz7s8",children:r.jsx(mc,{className:"h-12 w-12 text-blue-600","data-id":"uj6wfwcyd"})}),r.jsxs(ie,{className:"flex items-center gap-2 justify-center","data-id":"easa7srw9",children:[r.jsx(ID,{className:"h-5 w-5","data-id":"srgo1x52n"}),"Admin Access Required"]}),r.jsx(je,{"data-id":"dw6h33z8z",children:"Enter the admin password to access the admin panel"})]}),r.jsx(X,{"data-id":"p54cgo0pa",children:r.jsxs("form",{onSubmit:m,className:"space-y-4","data-id":"nu7k5xnra",children:[r.jsxs("div",{className:"space-y-2","data-id":"rtr62f4xb",children:[r.jsx(It,{htmlFor:"password","data-id":"nell7jvlm",children:"Admin Password"}),r.jsx(fn,{id:"password",type:"password",value:n,onChange:j=>s(j.target.value),placeholder:"Enter admin password",className:"w-full","data-id":"hjlpnn2yv"})]}),i&&r.jsx(Ve,{variant:"destructive","data-id":"4zu7gxwp4",children:r.jsx(ze,{"data-id":"js05q0hn6",children:i})}),r.jsx(J,{type:"submit",className:"w-full","data-id":"tthln8jfy",children:"Access Admin Panel"})]})})]})})})},qT=h.createContext({});function tV(e){const t=h.useRef(null);return t.current===null&&(t.current=e()),t.current}const Av=typeof window<"u",nV=Av?h.useLayoutEffect:h.useEffect,Dv=h.createContext(null);function $v(e,t){e.indexOf(t)===-1&&e.push(t)}function Mv(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Dr=(e,t,n)=>n>t?t:n<e?e:n;let Iv=()=>{};const $r={},KT=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function GT(e){return typeof e=="object"&&e!==null}const YT=e=>/^0[^.\s]+$/u.test(e);function Lv(e){let t;return()=>(t===void 0&&(t=e()),t)}const ws=e=>e,sV=(e,t)=>n=>t(e(n)),eu=(...e)=>e.reduce(sV),Ec=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class Ov{constructor(){this.subscriptions=[]}add(t){return $v(this.subscriptions,t),()=>Mv(this.subscriptions,t)}notify(t,n,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,s);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const lr=e=>e*1e3,cr=e=>e/1e3;function QT(e,t){return t?e*(1e3/t):0}const XT=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,rV=1e-7,iV=12;function aV(e,t,n,s,i){let a,o,l=0;do o=t+(n-t)/2,a=XT(o,s,i)-e,a>0?n=o:t=o;while(Math.abs(a)>rV&&++l<iV);return o}function tu(e,t,n,s){if(e===t&&n===s)return ws;const i=a=>aV(a,0,1,e,n);return a=>a===0||a===1?a:XT(i(a),t,s)}const JT=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,ZT=e=>t=>1-e(1-t),ek=tu(.33,1.53,.69,.99),Fv=ZT(ek),tk=JT(Fv),nk=e=>(e*=2)<1?.5*Fv(e):.5*(2-Math.pow(2,-10*(e-1))),Uv=e=>1-Math.sin(Math.acos(e)),sk=ZT(Uv),rk=JT(Uv),oV=tu(.42,0,1,1),lV=tu(0,0,.58,1),ik=tu(.42,0,.58,1),cV=e=>Array.isArray(e)&&typeof e[0]!="number",ak=e=>Array.isArray(e)&&typeof e[0]=="number",uV={linear:ws,easeIn:oV,easeInOut:ik,easeOut:lV,circIn:Uv,circInOut:rk,circOut:sk,backIn:Fv,backInOut:tk,backOut:ek,anticipate:nk},dV=e=>typeof e=="string",tj=e=>{if(ak(e)){Iv(e.length===4);const[t,n,s,i]=e;return tu(t,n,s,i)}else if(dV(e))return uV[e];return e},Ou=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function fV(e,t){let n=new Set,s=new Set,i=!1,a=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(d){o.has(d)&&(u.schedule(d),e()),d(l)}const u={schedule:(d,f=!1,m=!1)=>{const j=m&&i?n:s;return f&&o.add(d),j.has(d)||j.add(d),d},cancel:d=>{s.delete(d),o.delete(d)},process:d=>{if(l=d,i){a=!0;return}i=!0,[n,s]=[s,n],n.forEach(c),n.clear(),i=!1,a&&(a=!1,u.process(d))}};return u}const hV=40;function ok(e,t){let n=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=Ou.reduce((w,b)=>(w[b]=fV(a),w),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:f,preRender:m,render:x,postRender:j}=o,v=()=>{const w=$r.useManualTiming?i.timestamp:performance.now();n=!1,$r.useManualTiming||(i.delta=s?1e3/60:Math.max(Math.min(w-i.timestamp,hV),1)),i.timestamp=w,i.isProcessing=!0,l.process(i),c.process(i),u.process(i),d.process(i),f.process(i),m.process(i),x.process(i),j.process(i),i.isProcessing=!1,n&&t&&(s=!1,e(v))},y=()=>{n=!0,s=!0,i.isProcessing||e(v)};return{schedule:Ou.reduce((w,b)=>{const S=o[b];return w[b]=(T,N=!1,E=!1)=>(n||y(),S.schedule(T,N,E)),w},{}),cancel:w=>{for(let b=0;b<Ou.length;b++)o[Ou[b]].cancel(w)},state:i,steps:o}}const{schedule:ft,cancel:Ni,state:nn,steps:jm}=ok(typeof requestAnimationFrame<"u"?requestAnimationFrame:ws,!0);let ld;function mV(){ld=void 0}const Vn={now:()=>(ld===void 0&&Vn.set(nn.isProcessing||$r.useManualTiming?nn.timestamp:performance.now()),ld),set:e=>{ld=e,queueMicrotask(mV)}},lk=e=>t=>typeof t=="string"&&t.startsWith(e),Bv=lk("--"),pV=lk("var(--"),Vv=e=>pV(e)?gV.test(e.split("/*")[0].trim()):!1,gV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,tl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Cc={...tl,transform:e=>Dr(0,1,e)},Fu={...tl,default:1},Hl=e=>Math.round(e*1e5)/1e5,zv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function xV(e){return e==null}const vV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Wv=(e,t)=>n=>!!(typeof n=="string"&&vV.test(n)&&n.startsWith(e)||t&&!xV(n)&&Object.prototype.hasOwnProperty.call(n,t)),ck=(e,t,n)=>s=>{if(typeof s!="string")return s;const[i,a,o,l]=s.match(zv);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},yV=e=>Dr(0,255,e),bm={...tl,transform:e=>Math.round(yV(e))},ea={test:Wv("rgb","red"),parse:ck("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+bm.transform(e)+", "+bm.transform(t)+", "+bm.transform(n)+", "+Hl(Cc.transform(s))+")"};function wV(e){let t="",n="",s="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,s+=s,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const mg={test:Wv("#"),parse:wV,transform:ea.transform},nu=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),qr=nu("deg"),ur=nu("%"),be=nu("px"),jV=nu("vh"),bV=nu("vw"),nj={...ur,parse:e=>ur.parse(e)/100,transform:e=>ur.transform(e*100)},Za={test:Wv("hsl","hue"),parse:ck("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+ur.transform(Hl(t))+", "+ur.transform(Hl(n))+", "+Hl(Cc.transform(s))+")"},kt={test:e=>ea.test(e)||mg.test(e)||Za.test(e),parse:e=>ea.test(e)?ea.parse(e):Za.test(e)?Za.parse(e):mg.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ea.transform(e):Za.transform(e),getAnimatableNone:e=>{const t=kt.parse(e);return t.alpha=0,kt.transform(t)}},_V=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function SV(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(zv))==null?void 0:t.length)||0)+(((n=e.match(_V))==null?void 0:n.length)||0)>0}const uk="number",dk="color",NV="var",EV="var(",sj="${}",CV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Tc(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},i=[];let a=0;const l=t.replace(CV,c=>(kt.test(c)?(s.color.push(a),i.push(dk),n.push(kt.parse(c))):c.startsWith(EV)?(s.var.push(a),i.push(NV),n.push(c)):(s.number.push(a),i.push(uk),n.push(parseFloat(c))),++a,sj)).split(sj);return{values:n,split:l,indexes:s,types:i}}function fk(e){return Tc(e).values}function hk(e){const{split:t,types:n}=Tc(e),s=t.length;return i=>{let a="";for(let o=0;o<s;o++)if(a+=t[o],i[o]!==void 0){const l=n[o];l===uk?a+=Hl(i[o]):l===dk?a+=kt.transform(i[o]):a+=i[o]}return a}}const TV=e=>typeof e=="number"?0:kt.test(e)?kt.getAnimatableNone(e):e;function kV(e){const t=fk(e);return hk(e)(t.map(TV))}const Ei={test:SV,parse:fk,createTransformer:hk,getAnimatableNone:kV};function _m(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function PV({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let i=0,a=0,o=0;if(!t)i=a=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;i=_m(c,l,e+1/3),a=_m(c,l,e),o=_m(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:s}}function nf(e,t){return n=>n>0?t:e}const mt=(e,t,n)=>e+(t-e)*n,Sm=(e,t,n)=>{const s=e*e,i=n*(t*t-s)+s;return i<0?0:Math.sqrt(i)},RV=[mg,ea,Za],AV=e=>RV.find(t=>t.test(e));function rj(e){const t=AV(e);if(!t)return!1;let n=t.parse(e);return t===Za&&(n=PV(n)),n}const ij=(e,t)=>{const n=rj(e),s=rj(t);if(!n||!s)return nf(e,t);const i={...n};return a=>(i.red=Sm(n.red,s.red,a),i.green=Sm(n.green,s.green,a),i.blue=Sm(n.blue,s.blue,a),i.alpha=mt(n.alpha,s.alpha,a),ea.transform(i))},pg=new Set(["none","hidden"]);function DV(e,t){return pg.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function $V(e,t){return n=>mt(e,t,n)}function Hv(e){return typeof e=="number"?$V:typeof e=="string"?Vv(e)?nf:kt.test(e)?ij:LV:Array.isArray(e)?mk:typeof e=="object"?kt.test(e)?ij:MV:nf}function mk(e,t){const n=[...e],s=n.length,i=e.map((a,o)=>Hv(a)(a,t[o]));return a=>{for(let o=0;o<s;o++)n[o]=i[o](a);return n}}function MV(e,t){const n={...e,...t},s={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(s[i]=Hv(e[i])(e[i],t[i]));return i=>{for(const a in s)n[a]=s[a](i);return n}}function IV(e,t){const n=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const a=t.types[i],o=e.indexes[a][s[a]],l=e.values[o]??0;n[i]=l,s[a]++}return n}const LV=(e,t)=>{const n=Ei.createTransformer(t),s=Tc(e),i=Tc(t);return s.indexes.var.length===i.indexes.var.length&&s.indexes.color.length===i.indexes.color.length&&s.indexes.number.length>=i.indexes.number.length?pg.has(e)&&!i.values.length||pg.has(t)&&!s.values.length?DV(e,t):eu(mk(IV(s,i),i.values),n):nf(e,t)};function pk(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?mt(e,t,n):Hv(e)(e,t)}const OV=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>ft.update(t,n),stop:()=>Ni(t),now:()=>nn.isProcessing?nn.timestamp:Vn.now()}},gk=(e,t,n=10)=>{let s="";const i=Math.max(Math.round(t/n),2);for(let a=0;a<i;a++)s+=Math.round(e(a/(i-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},sf=2e4;function qv(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<sf;)t+=n,s=e.next(t);return t>=sf?1/0:t}function FV(e,t=100,n){const s=n({...e,keyframes:[0,t]}),i=Math.min(qv(s),sf);return{type:"keyframes",ease:a=>s.next(i*a).value/t,duration:cr(i)}}const UV=5;function xk(e,t,n){const s=Math.max(t-UV,0);return QT(n-e(s),t-s)}const wt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Nm=.001;function BV({duration:e=wt.duration,bounce:t=wt.bounce,velocity:n=wt.velocity,mass:s=wt.mass}){let i,a,o=1-t;o=Dr(wt.minDamping,wt.maxDamping,o),e=Dr(wt.minDuration,wt.maxDuration,cr(e)),o<1?(i=u=>{const d=u*o,f=d*e,m=d-n,x=gg(u,o),j=Math.exp(-f);return Nm-m/x*j},a=u=>{const f=u*o*e,m=f*n+n,x=Math.pow(o,2)*Math.pow(u,2)*e,j=Math.exp(-f),v=gg(Math.pow(u,2),o);return(-i(u)+Nm>0?-1:1)*((m-x)*j)/v}):(i=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-Nm+d*f},a=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const l=5/e,c=zV(i,a,l);if(e=lr(e),isNaN(c))return{stiffness:wt.stiffness,damping:wt.damping,duration:e};{const u=Math.pow(c,2)*s;return{stiffness:u,damping:o*2*Math.sqrt(s*u),duration:e}}}const VV=12;function zV(e,t,n){let s=n;for(let i=1;i<VV;i++)s=s-e(s)/t(s);return s}function gg(e,t){return e*Math.sqrt(1-t*t)}const WV=["duration","bounce"],HV=["stiffness","damping","mass"];function aj(e,t){return t.some(n=>e[n]!==void 0)}function qV(e){let t={velocity:wt.velocity,stiffness:wt.stiffness,damping:wt.damping,mass:wt.mass,isResolvedFromDuration:!1,...e};if(!aj(e,HV)&&aj(e,WV))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),i=s*s,a=2*Dr(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:wt.mass,stiffness:i,damping:a}}else{const n=BV(e);t={...t,...n,mass:wt.mass},t.isResolvedFromDuration=!0}return t}function rf(e=wt.visualDuration,t=wt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:i}=n;const a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:u,mass:d,duration:f,velocity:m,isResolvedFromDuration:x}=qV({...n,velocity:-cr(n.velocity||0)}),j=m||0,v=u/(2*Math.sqrt(c*d)),y=o-a,g=cr(Math.sqrt(c/d)),p=Math.abs(y)<5;s||(s=p?wt.restSpeed.granular:wt.restSpeed.default),i||(i=p?wt.restDelta.granular:wt.restDelta.default);let w;if(v<1){const S=gg(g,v);w=T=>{const N=Math.exp(-v*g*T);return o-N*((j+v*g*y)/S*Math.sin(S*T)+y*Math.cos(S*T))}}else if(v===1)w=S=>o-Math.exp(-g*S)*(y+(j+g*y)*S);else{const S=g*Math.sqrt(v*v-1);w=T=>{const N=Math.exp(-v*g*T),E=Math.min(S*T,300);return o-N*((j+v*g*y)*Math.sinh(E)+S*y*Math.cosh(E))/S}}const b={calculatedDuration:x&&f||null,next:S=>{const T=w(S);if(x)l.done=S>=f;else{let N=S===0?j:0;v<1&&(N=S===0?lr(j):xk(w,S,T));const E=Math.abs(N)<=s,P=Math.abs(o-T)<=i;l.done=E&&P}return l.value=l.done?o:T,l},toString:()=>{const S=Math.min(qv(b),sf),T=gk(N=>b.next(S*N).value,S,30);return S+"ms "+T},toTransition:()=>{}};return b}rf.applyToOptions=e=>{const t=FV(e,100,rf);return e.ease=t.ease,e.duration=lr(t.duration),e.type="keyframes",e};function xg({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],m={done:!1,value:f},x=E=>l!==void 0&&E<l||c!==void 0&&E>c,j=E=>l===void 0?c:c===void 0||Math.abs(l-E)<Math.abs(c-E)?l:c;let v=n*t;const y=f+v,g=o===void 0?y:o(y);g!==y&&(v=g-f);const p=E=>-v*Math.exp(-E/s),w=E=>g+p(E),b=E=>{const P=p(E),D=w(E);m.done=Math.abs(P)<=u,m.value=m.done?g:D};let S,T;const N=E=>{x(m.value)&&(S=E,T=rf({keyframes:[m.value,j(m.value)],velocity:xk(w,E,m.value),damping:i,stiffness:a,restDelta:u,restSpeed:d}))};return N(0),{calculatedDuration:null,next:E=>{let P=!1;return!T&&S===void 0&&(P=!0,b(E),N(E)),S!==void 0&&E>=S?T.next(E-S):(!P&&b(E),m)}}}function KV(e,t,n){const s=[],i=n||$r.mix||pk,a=e.length-1;for(let o=0;o<a;o++){let l=i(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||ws:t;l=eu(c,l)}s.push(l)}return s}function GV(e,t,{clamp:n=!0,ease:s,mixer:i}={}){const a=e.length;if(Iv(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=KV(t,s,i),c=l.length,u=d=>{if(o&&d<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const m=Ec(e[f],e[f+1],d);return l[f](m)};return n?d=>u(Dr(e[0],e[a-1],d)):u}function YV(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const i=Ec(0,t,s);e.push(mt(n,1,i))}}function QV(e){const t=[0];return YV(t,e.length-1),t}function XV(e,t){return e.map(n=>n*t)}function JV(e,t){return e.map(()=>t||ik).splice(0,e.length-1)}function ql({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const i=cV(s)?s.map(tj):tj(s),a={done:!1,value:t[0]},o=XV(n&&n.length===t.length?n:QV(t),e),l=GV(o,t,{ease:Array.isArray(i)?i:JV(t,i)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}const ZV=e=>e!==null;function Kv(e,{repeat:t,repeatType:n="loop"},s,i=1){const a=e.filter(ZV),l=i<0||t&&n!=="loop"&&t%2===1?0:a.length-1;return!l||s===void 0?a[l]:s}const ez={decay:xg,inertia:xg,tween:ql,keyframes:ql,spring:rf};function vk(e){typeof e.type=="string"&&(e.type=ez[e.type])}class Gv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const tz=e=>e/100;class Yv extends Gv{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Vn.now()&&this.tick(Vn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(s=this.options).onStop)==null||i.call(s))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;vk(t);const{type:n=ql,repeat:s=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=t;let{keyframes:l}=t;const c=n||ql;c!==ql&&typeof l[0]!="number"&&(this.mixKeyframes=eu(tz,pk(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});a==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=qv(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(s+1)-i,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:i,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return s.next(0);const{delay:u=0,keyframes:d,repeat:f,repeatType:m,repeatDelay:x,type:j,onUpdate:v,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const g=this.currentTime-u*(this.playbackSpeed>=0?1:-1),p=this.playbackSpeed>=0?g<0:g>i;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let w=this.currentTime,b=s;if(f){const E=Math.min(this.currentTime,i)/l;let P=Math.floor(E),D=E%1;!D&&E>=1&&(D=1),D===1&&P--,P=Math.min(P,f+1),!!(P%2)&&(m==="reverse"?(D=1-D,x&&(D-=x/l)):m==="mirror"&&(b=o)),w=Dr(0,1,D)*l}const S=p?{done:!1,value:d[0]}:b.next(w);a&&(S.value=a(S.value));let{done:T}=S;!p&&c!==null&&(T=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return N&&j!==xg&&(S.value=Kv(d,this.options,y,this.speed)),v&&v(S.value),N&&this.finish(),S}then(t,n){return this.finished.then(t,n)}get duration(){return cr(this.calculatedDuration)}get time(){return cr(this.currentTime)}set time(t){var n;t=lr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Vn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=cr(this.currentTime))}play(){var i,a;if(this.isStopped)return;const{driver:t=OV,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(a=(i=this.options).onPlay)==null||a.call(i);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Vn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function nz(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ta=e=>e*180/Math.PI,vg=e=>{const t=ta(Math.atan2(e[1],e[0]));return yg(t)},sz={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:vg,rotateZ:vg,skewX:e=>ta(Math.atan(e[1])),skewY:e=>ta(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},yg=e=>(e=e%360,e<0&&(e+=360),e),oj=vg,lj=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),cj=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),rz={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:lj,scaleY:cj,scale:e=>(lj(e)+cj(e))/2,rotateX:e=>yg(ta(Math.atan2(e[6],e[5]))),rotateY:e=>yg(ta(Math.atan2(-e[2],e[0]))),rotateZ:oj,rotate:oj,skewX:e=>ta(Math.atan(e[4])),skewY:e=>ta(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function wg(e){return e.includes("scale")?1:0}function jg(e,t){if(!e||e==="none")return wg(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,i;if(n)s=rz,i=n;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=sz,i=l}if(!i)return wg(t);const a=s[t],o=i[1].split(",").map(az);return typeof a=="function"?a(o):o[a]}const iz=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return jg(n,t)};function az(e){return parseFloat(e.trim())}const nl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],sl=new Set(nl),uj=e=>e===tl||e===be,oz=new Set(["x","y","z"]),lz=nl.filter(e=>!oz.has(e));function cz(e){const t=[];return lz.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const ua={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>jg(t,"x"),y:(e,{transform:t})=>jg(t,"y")};ua.translateX=ua.x;ua.translateY=ua.y;const da=new Set;let bg=!1,_g=!1,Sg=!1;function yk(){if(_g){const e=Array.from(da).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const i=cz(s);i.length&&(n.set(s,i),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const i=n.get(s);i&&i.forEach(([a,o])=>{var l;(l=s.getValue(a))==null||l.set(o)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}_g=!1,bg=!1,da.forEach(e=>e.complete(Sg)),da.clear()}function wk(){da.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(_g=!0)})}function uz(){Sg=!0,wk(),yk(),Sg=!1}class Qv{constructor(t,n,s,i,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(da.add(this),bg||(bg=!0,ft.read(wk),ft.resolveKeyframes(yk))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:i}=this;if(t[0]===null){const a=i==null?void 0:i.get(),o=t[t.length-1];if(a!==void 0)t[0]=a;else if(s&&n){const l=s.readValue(n,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),i&&a===void 0&&i.set(t[0])}nz(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),da.delete(this)}cancel(){this.state==="scheduled"&&(da.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const dz=e=>e.startsWith("--");function fz(e,t,n){dz(t)?e.style.setProperty(t,n):e.style[t]=n}const hz=Lv(()=>window.ScrollTimeline!==void 0),mz={};function pz(e,t){const n=Lv(e);return()=>mz[t]??n()}const jk=pz(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Cl=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,dj={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Cl([0,.65,.55,1]),circOut:Cl([.55,0,1,.45]),backIn:Cl([.31,.01,.66,-.59]),backOut:Cl([.33,1.53,.69,.99])};function bk(e,t){if(e)return typeof e=="function"?jk()?gk(e,t):"ease-out":ak(e)?Cl(e):Array.isArray(e)?e.map(n=>bk(n,t)||dj.easeOut):dj[e]}function gz(e,t,n,{delay:s=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[t]:n};c&&(d.offset=c);const f=bk(l,i);Array.isArray(f)&&(d.easing=f);const m={delay:s,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return u&&(m.pseudoElement=u),e.animate(d,m)}function _k(e){return typeof e=="function"&&"applyToOptions"in e}function xz({type:e,...t}){return _k(e)&&jk()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class vz extends Gv{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:s,keyframes:i,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=t,Iv(typeof t.type!="string");const u=xz(t);this.animation=gz(n,s,i,u,a),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const d=Kv(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):fz(n,s,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,s;const t=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return cr(Number(t))}get time(){return cr(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=lr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&hz()?(this.animation.timeline=t,ws):n(this)}}const Sk={anticipate:nk,backInOut:tk,circInOut:rk};function yz(e){return e in Sk}function wz(e){typeof e.ease=="string"&&yz(e.ease)&&(e.ease=Sk[e.ease])}const fj=10;class jz extends vz{constructor(t){wz(t),vk(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:i,element:a,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const l=new Yv({...o,autoplay:!1}),c=lr(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-fj).value,l.sample(c).value,fj),l.stop()}}const hj=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ei.test(e)||e==="0")&&!e.startsWith("url("));function bz(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function _z(e,t,n,s){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],o=hj(i,t),l=hj(a,t);return!o||!l?!1:bz(e)||(n==="spring"||_k(n))&&s}const Sz=new Set(["opacity","clipPath","filter","transform"]),Nz=Lv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Ez(e){var d;const{motionValue:t,name:n,repeatDelay:s,repeatType:i,damping:a,type:o}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return Nz()&&n&&Sz.has(n)&&(n!=="transform"||!u)&&!c&&!s&&i!=="mirror"&&a!==0&&o!=="inertia"}const Cz=40;class Tz extends Gv{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",keyframes:l,name:c,motionValue:u,element:d,...f}){var j;super(),this.stop=()=>{var v,y;this._animation&&(this._animation.stop(),(v=this.stopTimeline)==null||v.call(this)),(y=this.keyframeResolver)==null||y.cancel()},this.createdAt=Vn.now();const m={autoplay:t,delay:n,type:s,repeat:i,repeatDelay:a,repeatType:o,name:c,motionValue:u,element:d,...f},x=(d==null?void 0:d.KeyframeResolver)||Qv;this.keyframeResolver=new x(l,(v,y,g)=>this.onKeyframesResolved(v,y,m,!g),c,u,d),(j=this.keyframeResolver)==null||j.scheduleResolve()}onKeyframesResolved(t,n,s,i){this.keyframeResolver=void 0;const{name:a,type:o,velocity:l,delay:c,isHandoff:u,onUpdate:d}=s;this.resolvedAt=Vn.now(),_z(t,a,o,l)||(($r.instantAnimations||!c)&&(d==null||d(Kv(t,s,n))),t[0]=t[t.length-1],s.duration=0,s.repeat=0);const m={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>Cz?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},x=!u&&Ez(m)?new jz({...m,element:m.motionValue.owner.current}):new Yv(m);x.finished.then(()=>this.notifyFinished()).catch(ws),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),uz()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const kz=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Pz(e){const t=kz.exec(e);if(!t)return[,];const[,n,s,i]=t;return[`--${n??s}`,i]}function Nk(e,t,n=1){const[s,i]=Pz(e);if(!s)return;const a=window.getComputedStyle(t).getPropertyValue(s);if(a){const o=a.trim();return KT(o)?parseFloat(o):o}return Vv(i)?Nk(i,t,n+1):i}function Xv(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const Ek=new Set(["width","height","top","left","right","bottom",...nl]),Rz={test:e=>e==="auto",parse:e=>e},Ck=e=>t=>t.test(e),Tk=[tl,be,ur,qr,bV,jV,Rz],mj=e=>Tk.find(Ck(e));function Az(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||YT(e):!0}const Dz=new Set(["brightness","contrast","saturate","opacity"]);function $z(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(zv)||[];if(!s)return e;const i=n.replace(s,"");let a=Dz.has(t)?1:0;return s!==n&&(a*=100),t+"("+a+i+")"}const Mz=/\b([a-z-]*)\(.*?\)/gu,Ng={...Ei,getAnimatableNone:e=>{const t=e.match(Mz);return t?t.map($z).join(" "):e}},pj={...tl,transform:Math.round},Iz={rotate:qr,rotateX:qr,rotateY:qr,rotateZ:qr,scale:Fu,scaleX:Fu,scaleY:Fu,scaleZ:Fu,skew:qr,skewX:qr,skewY:qr,distance:be,translateX:be,translateY:be,translateZ:be,x:be,y:be,z:be,perspective:be,transformPerspective:be,opacity:Cc,originX:nj,originY:nj,originZ:be},Jv={borderWidth:be,borderTopWidth:be,borderRightWidth:be,borderBottomWidth:be,borderLeftWidth:be,borderRadius:be,radius:be,borderTopLeftRadius:be,borderTopRightRadius:be,borderBottomRightRadius:be,borderBottomLeftRadius:be,width:be,maxWidth:be,height:be,maxHeight:be,top:be,right:be,bottom:be,left:be,padding:be,paddingTop:be,paddingRight:be,paddingBottom:be,paddingLeft:be,margin:be,marginTop:be,marginRight:be,marginBottom:be,marginLeft:be,backgroundPositionX:be,backgroundPositionY:be,...Iz,zIndex:pj,fillOpacity:Cc,strokeOpacity:Cc,numOctaves:pj},Lz={...Jv,color:kt,backgroundColor:kt,outlineColor:kt,fill:kt,stroke:kt,borderColor:kt,borderTopColor:kt,borderRightColor:kt,borderBottomColor:kt,borderLeftColor:kt,filter:Ng,WebkitFilter:Ng},kk=e=>Lz[e];function Pk(e,t){let n=kk(e);return n!==Ng&&(n=Ei),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Oz=new Set(["auto","none","0"]);function Fz(e,t,n){let s=0,i;for(;s<e.length&&!i;){const a=e[s];typeof a=="string"&&!Oz.has(a)&&Tc(a).values.length&&(i=e[s]),s++}if(i&&n)for(const a of t)e[a]=Pk(n,i)}class Uz extends Qv{constructor(t,n,s,i,a){super(t,n,s,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),Vv(u))){const d=Nk(u,n.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Ek.has(s)||t.length!==2)return;const[i,a]=t,o=mj(i),l=mj(a);if(o!==l)if(uj(o)&&uj(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else ua[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let i=0;i<t.length;i++)(t[i]===null||Az(t[i]))&&s.push(i);s.length&&Fz(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ua[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(s,i).jump(i,!1)}measureEndState(){var l;const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=s.length-1,o=s[a];s[a]=ua[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function Bz(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const i=(n==null?void 0:n[e])??s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const Rk=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Vz(e){return GT(e)&&"offsetHeight"in e}const gj=30,zz=e=>!isNaN(parseFloat(e));class Wz{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,i=!0)=>{var o,l;const a=Vn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty();i&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Vn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=zz(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Ov);const s=this.events[t].add(n);return t==="change"?()=>{s(),ft.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Vn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>gj)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,gj);return QT(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Oo(e,t){return new Wz(e,t)}const{schedule:Zv}=ok(queueMicrotask,!1),ks={x:!1,y:!1};function Ak(){return ks.x||ks.y}function Hz(e){return e==="x"||e==="y"?ks[e]?null:(ks[e]=!0,()=>{ks[e]=!1}):ks.x||ks.y?null:(ks.x=ks.y=!0,()=>{ks.x=ks.y=!1})}function Dk(e,t){const n=Bz(e),s=new AbortController,i={passive:!0,...t,signal:s.signal};return[n,i,()=>s.abort()]}function xj(e){return!(e.pointerType==="touch"||Ak())}function qz(e,t,n={}){const[s,i,a]=Dk(e,n),o=l=>{if(!xj(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const d=f=>{xj(f)&&(u(f),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,i)};return s.forEach(l=>{l.addEventListener("pointerenter",o,i)}),a}const $k=(e,t)=>t?e===t?!0:$k(e,t.parentElement):!1,ey=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Kz=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Gz(e){return Kz.has(e.tagName)||e.tabIndex!==-1}const cd=new WeakSet;function vj(e){return t=>{t.key==="Enter"&&e(t)}}function Em(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Yz=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=vj(()=>{if(cd.has(n))return;Em(n,"down");const i=vj(()=>{Em(n,"up")}),a=()=>Em(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function yj(e){return ey(e)&&!Ak()}function Qz(e,t,n={}){const[s,i,a]=Dk(e,n),o=l=>{const c=l.currentTarget;if(!yj(l))return;cd.add(c);const u=t(c,l),d=(x,j)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",m),cd.has(c)&&cd.delete(c),yj(x)&&typeof u=="function"&&u(x,{success:j})},f=x=>{d(x,c===window||c===document||n.useGlobalTarget||$k(c,x.target))},m=x=>{d(x,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",m,i)};return s.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),Vz(l)&&(l.addEventListener("focus",u=>Yz(u,i)),!Gz(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),a}function Mk(e){return GT(e)&&"ownerSVGElement"in e}function Xz(e){return Mk(e)&&e.tagName==="svg"}const xn=e=>!!(e&&e.getVelocity),Jz=[...Tk,kt,Ei],Zz=e=>Jz.find(Ck(e)),Ik=h.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function e8(e=!0){const t=h.useContext(Dv);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:i}=t,a=h.useId();h.useEffect(()=>{if(e)return i(a)},[e]);const o=h.useCallback(()=>e&&s&&s(a),[a,s,e]);return!n&&s?[!1,o]:[!0]}const Lk=h.createContext({strict:!1}),wj={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Fo={};for(const e in wj)Fo[e]={isEnabled:t=>wj[e].some(n=>!!t[n])};function t8(e){for(const t in e)Fo[t]={...Fo[t],...e[t]}}const n8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function af(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||n8.has(e)}let Ok=e=>!af(e);function s8(e){typeof e=="function"&&(Ok=t=>t.startsWith("on")?!af(t):e(t))}try{s8(require("@emotion/is-prop-valid").default)}catch{}function r8(e,t,n){const s={};for(const i in e)i==="values"&&typeof e.values=="object"||(Ok(i)||n===!0&&af(i)||!t&&!af(i)||e.draggable&&i.startsWith("onDrag"))&&(s[i]=e[i]);return s}const lh=h.createContext({});function ch(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function kc(e){return typeof e=="string"||Array.isArray(e)}const ty=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ny=["initial",...ty];function uh(e){return ch(e.animate)||ny.some(t=>kc(e[t]))}function Fk(e){return!!(uh(e)||e.variants)}function i8(e,t){if(uh(e)){const{initial:n,animate:s}=e;return{initial:n===!1||kc(n)?n:void 0,animate:kc(s)?s:void 0}}return e.inherit!==!1?t:{}}function a8(e){const{initial:t,animate:n}=i8(e,h.useContext(lh));return h.useMemo(()=>({initial:t,animate:n}),[jj(t),jj(n)])}function jj(e){return Array.isArray(e)?e.join(" "):e}const Pc={};function o8(e){for(const t in e)Pc[t]=e[t],Bv(t)&&(Pc[t].isCSSVariable=!0)}function Uk(e,{layout:t,layoutId:n}){return sl.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Pc[e]||e==="opacity")}const l8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},c8=nl.length;function u8(e,t,n){let s="",i=!0;for(let a=0;a<c8;a++){const o=nl[a],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=Rk(l,Jv[o]);if(!c){i=!1;const d=l8[o]||o;s+=`${d}(${u}) `}n&&(t[o]=u)}}return s=s.trim(),n?s=n(t,i?"":s):i&&(s="none"),s}function sy(e,t,n){const{style:s,vars:i,transformOrigin:a}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(sl.has(c)){o=!0;continue}else if(Bv(c)){i[c]=u;continue}else{const d=Rk(u,Jv[c]);c.startsWith("origin")?(l=!0,a[c]=d):s[c]=d}}if(t.transform||(o||n?s.transform=u8(t,e.transform,n):s.transform&&(s.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=a;s.transformOrigin=`${c} ${u} ${d}`}}const ry=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Bk(e,t,n){for(const s in t)!xn(t[s])&&!Uk(s,n)&&(e[s]=t[s])}function d8({transformTemplate:e},t){return h.useMemo(()=>{const n=ry();return sy(n,t,e),Object.assign({},n.vars,n.style)},[t])}function f8(e,t){const n=e.style||{},s={};return Bk(s,n,e),Object.assign(s,d8(e,t)),s}function h8(e,t){const n={},s=f8(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const m8={offset:"stroke-dashoffset",array:"stroke-dasharray"},p8={offset:"strokeDashoffset",array:"strokeDasharray"};function g8(e,t,n=1,s=0,i=!0){e.pathLength=1;const a=i?m8:p8;e[a.offset]=be.transform(-s);const o=be.transform(t),l=be.transform(n);e[a.array]=`${o} ${l}`}function Vk(e,{attrX:t,attrY:n,attrScale:s,pathLength:i,pathSpacing:a=1,pathOffset:o=0,...l},c,u,d){if(sy(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:m}=e;f.transform&&(m.transform=f.transform,delete f.transform),(m.transform||f.transformOrigin)&&(m.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),m.transform&&(m.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),s!==void 0&&(f.scale=s),i!==void 0&&g8(f,i,a,o,!1)}const zk=()=>({...ry(),attrs:{}}),Wk=e=>typeof e=="string"&&e.toLowerCase()==="svg";function x8(e,t,n,s){const i=h.useMemo(()=>{const a=zk();return Vk(a,t,Wk(s),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};Bk(a,e.style,e),i.style={...a,...i.style}}return i}const v8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function iy(e){return typeof e!="string"||e.includes("-")?!1:!!(v8.indexOf(e)>-1||/[A-Z]/u.test(e))}function y8(e,t,n,{latestValues:s},i,a=!1){const l=(iy(e)?x8:h8)(t,s,i,e),c=r8(t,typeof e=="string",a),u=e!==h.Fragment?{...c,...l,ref:n}:{},{children:d}=t,f=h.useMemo(()=>xn(d)?d.get():d,[d]);return h.createElement(e,{...u,children:f})}function bj(e){const t=[{},{}];return e==null||e.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function ay(e,t,n,s){if(typeof t=="function"){const[i,a]=bj(s);t=t(n!==void 0?n:e.custom,i,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,a]=bj(s);t=t(n!==void 0?n:e.custom,i,a)}return t}function ud(e){return xn(e)?e.get():e}function w8({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,i){return{latestValues:j8(n,s,i,e),renderState:t()}}function j8(e,t,n,s){const i={},a=s(e,{});for(const m in a)i[m]=ud(a[m]);let{initial:o,animate:l}=e;const c=uh(e),u=Fk(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?l:o;if(f&&typeof f!="boolean"&&!ch(f)){const m=Array.isArray(f)?f:[f];for(let x=0;x<m.length;x++){const j=ay(e,m[x]);if(j){const{transitionEnd:v,transition:y,...g}=j;for(const p in g){let w=g[p];if(Array.isArray(w)){const b=d?w.length-1:0;w=w[b]}w!==null&&(i[p]=w)}for(const p in v)i[p]=v[p]}}}return i}const Hk=e=>(t,n)=>{const s=h.useContext(lh),i=h.useContext(Dv),a=()=>w8(e,t,s,i);return n?a():tV(a)};function oy(e,t,n){var a;const{style:s}=e,i={};for(const o in s)(xn(s[o])||t.style&&xn(t.style[o])||Uk(o,e)||((a=n==null?void 0:n.getValue(o))==null?void 0:a.liveStyle)!==void 0)&&(i[o]=s[o]);return i}const b8=Hk({scrapeMotionValuesFromProps:oy,createRenderState:ry});function qk(e,t,n){const s=oy(e,t,n);for(const i in e)if(xn(e[i])||xn(t[i])){const a=nl.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;s[a]=e[i]}return s}const _8=Hk({scrapeMotionValuesFromProps:qk,createRenderState:zk}),S8=Symbol.for("motionComponentSymbol");function eo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function N8(e,t,n){return h.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):eo(n)&&(n.current=s))},[t])}const ly=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),E8="framerAppearId",Kk="data-"+ly(E8),Gk=h.createContext({});function C8(e,t,n,s,i){var v,y;const{visualElement:a}=h.useContext(lh),o=h.useContext(Lk),l=h.useContext(Dv),c=h.useContext(Ik).reducedMotion,u=h.useRef(null);s=s||o.renderer,!u.current&&s&&(u.current=s(e,{visualState:t,parent:a,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,f=h.useContext(Gk);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&T8(u.current,n,i,f);const m=h.useRef(!1);h.useInsertionEffect(()=>{d&&m.current&&d.update(n,l)});const x=n[Kk],j=h.useRef(!!x&&!((v=window.MotionHandoffIsComplete)!=null&&v.call(window,x))&&((y=window.MotionHasOptimisedAnimation)==null?void 0:y.call(window,x)));return nV(()=>{d&&(m.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),j.current&&d.animationState&&d.animationState.animateChanges())}),h.useEffect(()=>{d&&(!j.current&&d.animationState&&d.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)==null||g.call(window,x)}),j.current=!1))}),d}function T8(e,t,n,s){const{layoutId:i,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Yk(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||l&&eo(l),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:s,crossfade:d,layoutScroll:c,layoutRoot:u})}function Yk(e){if(e)return e.options.allowProjection!==!1?e.projection:Yk(e.parent)}function Cm(e,{forwardMotionProps:t=!1}={},n,s){n&&t8(n);const i=iy(e)?_8:b8;function a(l,c){let u;const d={...h.useContext(Ik),...l,layoutId:k8(l)},{isStatic:f}=d,m=a8(l),x=i(l,f);if(!f&&Av){P8();const j=R8(d);u=j.MeasureLayout,m.visualElement=C8(e,x,d,s,j.ProjectionNode)}return r.jsxs(lh.Provider,{value:m,children:[u&&m.visualElement?r.jsx(u,{visualElement:m.visualElement,...d}):null,y8(e,l,N8(x,m.visualElement,c),x,f,t)]})}a.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=h.forwardRef(a);return o[S8]=e,o}function k8({layoutId:e}){const t=h.useContext(qT).id;return t&&e!==void 0?t+"-"+e:e}function P8(e,t){h.useContext(Lk).strict}function R8(e){const{drag:t,layout:n}=Fo;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function A8(e,t){if(typeof Proxy>"u")return Cm;const n=new Map,s=(a,o)=>Cm(a,o,e,t),i=(a,o)=>s(a,o);return new Proxy(i,{get:(a,o)=>o==="create"?s:(n.has(o)||n.set(o,Cm(o,void 0,e,t)),n.get(o))})}function Qk({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function D8({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function $8(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Tm(e){return e===void 0||e===1}function Eg({scale:e,scaleX:t,scaleY:n}){return!Tm(e)||!Tm(t)||!Tm(n)}function Yi(e){return Eg(e)||Xk(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Xk(e){return _j(e.x)||_j(e.y)}function _j(e){return e&&e!=="0%"}function of(e,t,n){const s=e-n,i=t*s;return n+i}function Sj(e,t,n,s,i){return i!==void 0&&(e=of(e,i,s)),of(e,n,s)+t}function Cg(e,t=0,n=1,s,i){e.min=Sj(e.min,t,n,s,i),e.max=Sj(e.max,t,n,s,i)}function Jk(e,{x:t,y:n}){Cg(e.x,t.translate,t.scale,t.originPoint),Cg(e.y,n.translate,n.scale,n.originPoint)}const Nj=.999999999999,Ej=1.0000000000001;function M8(e,t,n,s=!1){const i=n.length;if(!i)return;t.x=t.y=1;let a,o;for(let l=0;l<i;l++){a=n[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&a.options.layoutScroll&&a.scroll&&a!==a.root&&no(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Jk(e,o)),s&&Yi(a.latestValues)&&no(e,a.latestValues))}t.x<Ej&&t.x>Nj&&(t.x=1),t.y<Ej&&t.y>Nj&&(t.y=1)}function to(e,t){e.min=e.min+t,e.max=e.max+t}function Cj(e,t,n,s,i=.5){const a=mt(e.min,e.max,i);Cg(e,t,n,a,s)}function no(e,t){Cj(e.x,t.x,t.scaleX,t.scale,t.originX),Cj(e.y,t.y,t.scaleY,t.scale,t.originY)}function Zk(e,t){return Qk($8(e.getBoundingClientRect(),t))}function I8(e,t,n){const s=Zk(e,n),{scroll:i}=t;return i&&(to(s.x,i.offset.x),to(s.y,i.offset.y)),s}const Tj=()=>({translate:0,scale:1,origin:0,originPoint:0}),so=()=>({x:Tj(),y:Tj()}),kj=()=>({min:0,max:0}),_t=()=>({x:kj(),y:kj()}),Tg={current:null},eP={current:!1};function L8(){if(eP.current=!0,!!Av)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Tg.current=e.matches;e.addEventListener("change",t),t()}else Tg.current=!1}const O8=new WeakMap;function F8(e,t,n){for(const s in t){const i=t[s],a=n[s];if(xn(i))e.addValue(s,i);else if(xn(a))e.addValue(s,Oo(i,{owner:e}));else if(a!==i)if(e.hasValue(s)){const o=e.getValue(s);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(s);e.addValue(s,Oo(o!==void 0?o:i,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const Pj=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class U8{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Qv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Vn.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,ft.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=uh(n),this.isVariantNode=Fk(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in f){const x=f[m];c[m]!==void 0&&xn(x)&&x.set(c[m],!1)}}mount(t){this.current=t,O8.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),eP.current||L8(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Tg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ni(this.notifyUpdate),Ni(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=sl.has(t);s&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&ft.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),a(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Fo){const n=Fo[t];if(!n)continue;const{isEnabled:s,Feature:i}=n;if(!this.features[t]&&i&&s(this.props)&&(this.features[t]=new i(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):_t()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Pj.length;s++){const i=Pj[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=t[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=F8(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=Oo(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(KT(s)||YT(s))?s=parseFloat(s):!Zz(s)&&Ei.test(n)&&(s=Pk(t,n)),this.setBaseTarget(t,xn(s)?s.get():s)),xn(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var a;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const o=ay(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);o&&(s=o[t])}if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!xn(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Ov),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Zv.render(this.render)}}class tP extends U8{constructor(){super(...arguments),this.KeyframeResolver=Uz}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;xn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function nP(e,{style:t,vars:n},s,i){const a=e.style;let o;for(o in t)a[o]=t[o];i==null||i.applyProjectionStyles(a,s);for(o in n)a.setProperty(o,n[o])}function B8(e){return window.getComputedStyle(e)}class V8 extends tP{constructor(){super(...arguments),this.type="html",this.renderInstance=nP}readValueFromInstance(t,n){var s;if(sl.has(n))return(s=this.projection)!=null&&s.isProjecting?wg(n):iz(t,n);{const i=B8(t),a=(Bv(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Zk(t,n)}build(t,n,s){sy(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return oy(t,n,s)}}const sP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function z8(e,t,n,s){nP(e,t,void 0,s);for(const i in t.attrs)e.setAttribute(sP.has(i)?i:ly(i),t.attrs[i])}class W8 extends tP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=_t}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(sl.has(n)){const s=kk(n);return s&&s.default||0}return n=sP.has(n)?n:ly(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return qk(t,n,s)}build(t,n,s){Vk(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,i){z8(t,n,s,i)}mount(t){this.isSVGTag=Wk(t.tagName),super.mount(t)}}const H8=(e,t)=>iy(e)?new W8(t):new V8(t,{allowProjection:e!==h.Fragment});function Rc(e,t,n){const s=e.getProps();return ay(s,t,n!==void 0?n:s.custom,e)}const kg=e=>Array.isArray(e);function q8(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Oo(n))}function K8(e){return kg(e)?e[e.length-1]||0:e}function G8(e,t){const n=Rc(e,t);let{transitionEnd:s={},transition:i={},...a}=n||{};a={...a,...s};for(const o in a){const l=K8(a[o]);q8(e,o,l)}}function Y8(e){return!!(xn(e)&&e.add)}function Pg(e,t){const n=e.getValue("willChange");if(Y8(n))return n.add(t);if(!n&&$r.WillChange){const s=new $r.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function rP(e){return e.props[Kk]}const Q8=e=>e!==null;function X8(e,{repeat:t,repeatType:n="loop"},s){const i=e.filter(Q8),a=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[a]}const J8={type:"spring",stiffness:500,damping:25,restSpeed:10},Z8=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),eW={type:"keyframes",duration:.8},tW={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},nW=(e,{keyframes:t})=>t.length>2?eW:sl.has(e)?e.startsWith("scale")?Z8(t[1]):J8:tW;function sW({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const cy=(e,t,n,s={},i,a)=>o=>{const l=Xv(s,e)||{},c=l.delay||s.delay||0;let{elapsed:u=0}=s;u=u-lr(c);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:m=>{t.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:i};sW(l)||Object.assign(d,nW(e,d)),d.duration&&(d.duration=lr(d.duration)),d.repeatDelay&&(d.repeatDelay=lr(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),($r.instantAnimations||$r.skipAnimations)&&(f=!0,d.duration=0,d.delay=0),d.allowFlatten=!l.type&&!l.ease,f&&!a&&t.get()!==void 0){const m=X8(d.keyframes,l);if(m!==void 0){ft.update(()=>{d.onUpdate(m),d.onComplete()});return}}return l.isSync?new Yv(d):new Tz(d)};function rW({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function iP(e,t,{delay:n=0,transitionOverride:s,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:o,...l}=t;s&&(a=s);const c=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const d in l){const f=e.getValue(d,e.latestValues[d]??null),m=l[d];if(m===void 0||u&&rW(u,d))continue;const x={delay:n,...Xv(a||{},d)},j=f.get();if(j!==void 0&&!f.isAnimating&&!Array.isArray(m)&&m===j&&!x.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const g=rP(e);if(g){const p=window.MotionHandoffAnimation(g,d,ft);p!==null&&(x.startTime=p,v=!0)}}Pg(e,d),f.start(cy(d,f,m,e.shouldReduceMotion&&Ek.has(d)?{type:!1}:x,e,v));const y=f.animation;y&&c.push(y)}return o&&Promise.all(c).then(()=>{ft.update(()=>{o&&G8(e,o)})}),c}function Rg(e,t,n={}){var c;const s=Rc(e,t,n.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const a=s?()=>Promise.all(iP(e,s,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:m}=i;return iW(e,t,u,d,f,m,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[u,d]=l==="beforeChildren"?[a,o]:[o,a];return u().then(()=>d())}else return Promise.all([a(),o(n.delay)])}function iW(e,t,n=0,s=0,i=0,a=1,o){const l=[],c=e.variantChildren.size,u=(c-1)*i,d=typeof s=="function",f=d?m=>s(m,c):a===1?(m=0)=>m*i:(m=0)=>u-m*i;return Array.from(e.variantChildren).sort(aW).forEach((m,x)=>{m.notify("AnimationStart",t),l.push(Rg(m,t,{...o,delay:n+(d?0:s)+f(x)}).then(()=>m.notify("AnimationComplete",t)))}),Promise.all(l)}function aW(e,t){return e.sortNodePosition(t)}function oW(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const i=t.map(a=>Rg(e,a,n));s=Promise.all(i)}else if(typeof t=="string")s=Rg(e,t,n);else{const i=typeof t=="function"?Rc(e,t,n.custom):t;s=Promise.all(iP(e,i,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function aP(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const lW=ny.length;function oP(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?oP(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<lW;n++){const s=ny[n],i=e.props[s];(kc(i)||i===!1)&&(t[s]=i)}return t}const cW=[...ty].reverse(),uW=ty.length;function dW(e){return t=>Promise.all(t.map(({animation:n,options:s})=>oW(e,n,s)))}function fW(e){let t=dW(e),n=Rj(),s=!0;const i=c=>(u,d)=>{var m;const f=Rc(e,d,c==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);if(f){const{transition:x,transitionEnd:j,...v}=f;u={...u,...v,...j}}return u};function a(c){t=c(e)}function o(c){const{props:u}=e,d=oP(e.parent)||{},f=[],m=new Set;let x={},j=1/0;for(let y=0;y<uW;y++){const g=cW[y],p=n[g],w=u[g]!==void 0?u[g]:d[g],b=kc(w),S=g===c?p.isActive:null;S===!1&&(j=y);let T=w===d[g]&&w!==u[g]&&b;if(T&&s&&e.manuallyAnimateOnMount&&(T=!1),p.protectedKeys={...x},!p.isActive&&S===null||!w&&!p.prevProp||ch(w)||typeof w=="boolean")continue;const N=hW(p.prevProp,w);let E=N||g===c&&p.isActive&&!T&&b||y>j&&b,P=!1;const D=Array.isArray(w)?w:[w];let R=D.reduce(i(g),{});S===!1&&(R={});const{prevResolvedValues:M={}}=p,$={...M,...R},O=V=>{E=!0,m.has(V)&&(P=!0,m.delete(V)),p.needsAnimating[V]=!0;const A=e.getValue(V);A&&(A.liveStyle=!1)};for(const V in $){const A=R[V],_=M[V];if(x.hasOwnProperty(V))continue;let C=!1;kg(A)&&kg(_)?C=!aP(A,_):C=A!==_,C?A!=null?O(V):m.add(V):A!==void 0&&m.has(V)?O(V):p.protectedKeys[V]=!0}p.prevProp=w,p.prevResolvedValues=R,p.isActive&&(x={...x,...R}),s&&e.blockInitialAnimation&&(E=!1),E&&(!(T&&N)||P)&&f.push(...D.map(V=>({animation:V,options:{type:g}})))}if(m.size){const y={};if(typeof u.initial!="boolean"){const g=Rc(e,Array.isArray(u.initial)?u.initial[0]:u.initial);g&&g.transition&&(y.transition=g.transition)}m.forEach(g=>{const p=e.getBaseTarget(g),w=e.getValue(g);w&&(w.liveStyle=!0),y[g]=p??null}),f.push({animation:y})}let v=!!f.length;return s&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(v=!1),s=!1,v?t(f):Promise.resolve()}function l(c,u){var f;if(n[c].isActive===u)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(m=>{var x;return(x=m.animationState)==null?void 0:x.setActive(c,u)}),n[c].isActive=u;const d=o(c);for(const m in n)n[m].protectedKeys={};return d}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>n,reset:()=>{n=Rj(),s=!0}}}function hW(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!aP(t,e):!1}function Hi(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Rj(){return{animate:Hi(!0),whileInView:Hi(),whileHover:Hi(),whileTap:Hi(),whileDrag:Hi(),whileFocus:Hi(),exit:Hi()}}class Mi{constructor(t){this.isMounted=!1,this.node=t}update(){}}class mW extends Mi{constructor(t){super(t),t.animationState||(t.animationState=fW(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();ch(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let pW=0;class gW extends Mi{constructor(){super(...arguments),this.id=pW++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const xW={animation:{Feature:mW},exit:{Feature:gW}};function Ac(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function su(e){return{point:{x:e.pageX,y:e.pageY}}}const vW=e=>t=>ey(t)&&e(t,su(t));function Kl(e,t,n,s){return Ac(e,t,vW(n),s)}const lP=1e-4,yW=1-lP,wW=1+lP,cP=.01,jW=0-cP,bW=0+cP;function Tn(e){return e.max-e.min}function _W(e,t,n){return Math.abs(e-t)<=n}function Aj(e,t,n,s=.5){e.origin=s,e.originPoint=mt(t.min,t.max,e.origin),e.scale=Tn(n)/Tn(t),e.translate=mt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=yW&&e.scale<=wW||isNaN(e.scale))&&(e.scale=1),(e.translate>=jW&&e.translate<=bW||isNaN(e.translate))&&(e.translate=0)}function Gl(e,t,n,s){Aj(e.x,t.x,n.x,s?s.originX:void 0),Aj(e.y,t.y,n.y,s?s.originY:void 0)}function Dj(e,t,n){e.min=n.min+t.min,e.max=e.min+Tn(t)}function SW(e,t,n){Dj(e.x,t.x,n.x),Dj(e.y,t.y,n.y)}function $j(e,t,n){e.min=t.min-n.min,e.max=e.min+Tn(t)}function Yl(e,t,n){$j(e.x,t.x,n.x),$j(e.y,t.y,n.y)}function fs(e){return[e("x"),e("y")]}const uP=({current:e})=>e?e.ownerDocument.defaultView:null,Mj=(e,t)=>Math.abs(e-t);function NW(e,t){const n=Mj(e.x,t.x),s=Mj(e.y,t.y);return Math.sqrt(n**2+s**2)}class dP{constructor(t,n,{transformPagePoint:s,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Pm(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,j=NW(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!j)return;const{point:v}=m,{timestamp:y}=nn;this.history.push({...v,timestamp:y});const{onStart:g,onMove:p}=this.handlers;x||(g&&g(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),p&&p(this.lastMoveEvent,m)},this.handlePointerMove=(m,x)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=km(x,this.transformPagePoint),ft.update(this.updatePoint,!0)},this.handlePointerUp=(m,x)=>{this.end();const{onEnd:j,onSessionEnd:v,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Pm(m.type==="pointercancel"?this.lastMoveEventInfo:km(x,this.transformPagePoint),this.history);this.startEvent&&j&&j(m,g),v&&v(m,g)},!ey(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=o,this.contextWindow=i||window;const l=su(t),c=km(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=nn;this.history=[{...u,timestamp:d}];const{onSessionStart:f}=n;f&&f(t,Pm(c,this.history)),this.removeListeners=eu(Kl(this.contextWindow,"pointermove",this.handlePointerMove),Kl(this.contextWindow,"pointerup",this.handlePointerUp),Kl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ni(this.updatePoint)}}function km(e,t){return t?{point:t(e.point)}:e}function Ij(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Pm({point:e},t){return{point:e,delta:Ij(e,fP(t)),offset:Ij(e,EW(t)),velocity:CW(t,.1)}}function EW(e){return e[0]}function fP(e){return e[e.length-1]}function CW(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const i=fP(e);for(;n>=0&&(s=e[n],!(i.timestamp-s.timestamp>lr(t)));)n--;if(!s)return{x:0,y:0};const a=cr(i.timestamp-s.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-s.x)/a,y:(i.y-s.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function TW(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?mt(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?mt(n,e,s.max):Math.min(e,n)),e}function Lj(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function kW(e,{top:t,left:n,bottom:s,right:i}){return{x:Lj(e.x,n,i),y:Lj(e.y,t,s)}}function Oj(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function PW(e,t){return{x:Oj(e.x,t.x),y:Oj(e.y,t.y)}}function RW(e,t){let n=.5;const s=Tn(e),i=Tn(t);return i>s?n=Ec(t.min,t.max-s,e.min):s>i&&(n=Ec(e.min,e.max-i,t.min)),Dr(0,1,n)}function AW(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Ag=.35;function DW(e=Ag){return e===!1?e=0:e===!0&&(e=Ag),{x:Fj(e,"left","right"),y:Fj(e,"top","bottom")}}function Fj(e,t,n){return{min:Uj(e,t),max:Uj(e,n)}}function Uj(e,t){return typeof e=="number"?e:e[t]||0}const $W=new WeakMap;class MW{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=_t(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=f=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(su(f).point)},o=(f,m)=>{const{drag:x,dragPropagation:j,onDragStart:v}=this.getProps();if(x&&!j&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Hz(x),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),fs(g=>{let p=this.getAxisMotionValue(g).get()||0;if(ur.test(p)){const{projection:w}=this.visualElement;if(w&&w.layout){const b=w.layout.layoutBox[g];b&&(p=Tn(b)*(parseFloat(p)/100))}}this.originPoint[g]=p}),v&&ft.postRender(()=>v(f,m)),Pg(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},l=(f,m)=>{this.latestPointerEvent=f,this.latestPanInfo=m;const{dragPropagation:x,dragDirectionLock:j,onDirectionLock:v,onDrag:y}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:g}=m;if(j&&this.currentDirection===null){this.currentDirection=IW(g),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",m.point,g),this.updateAxis("y",m.point,g),this.visualElement.render(),y&&y(f,m)},c=(f,m)=>{this.latestPointerEvent=f,this.latestPanInfo=m,this.stop(f,m),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>fs(f=>{var m;return this.getAnimationState(f)==="paused"&&((m=this.getAxisMotionValue(f).animation)==null?void 0:m.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new dP(t,{onSessionStart:a,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:s,contextWindow:uP(this.visualElement)})}stop(t,n){const s=t||this.latestPointerEvent,i=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!s)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&ft.postRender(()=>l(s,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:i}=this.getProps();if(!s||!Uu(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(o=TW(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var a;const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,i=this.constraints;t&&eo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=kW(s.layoutBox,t):this.constraints=!1,this.elastic=DW(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&fs(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=AW(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!eo(t))return!1;const s=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=I8(s,i.root,this.visualElement.getTransformPagePoint());let o=PW(i.layout.layoutBox,a);if(n){const l=n(D8(o));this.hasMutatedConstraints=!!l,l&&(o=Qk(l))}return o}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=fs(d=>{if(!Uu(d,n,this.currentDirection))return;let f=c&&c[d]||{};o&&(f={min:0,max:0});const m=i?200:1e6,x=i?40:1e7,j={type:"inertia",velocity:s?t[d]:0,bounceStiffness:m,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(d,j)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return Pg(this.visualElement,t),s.start(cy(t,s,0,n,this.visualElement,!1))}stopAnimation(){fs(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){fs(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),i=s[n];return i||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){fs(n=>{const{drag:s}=this.getProps();if(!Uu(n,s,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[n];a.set(t[n]-mt(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!eo(n)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};fs(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();i[o]=RW({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),fs(o=>{if(!Uu(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(mt(c,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;$W.set(this.visualElement,this);const t=this.visualElement.current,n=Kl(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();eo(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),ft.read(s);const o=Ac(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(fs(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),n(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=Ag,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function Uu(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function IW(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class LW extends Mi{constructor(t){super(t),this.removeGroupControls=ws,this.removeListeners=ws,this.controls=new MW(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ws}unmount(){this.removeGroupControls(),this.removeListeners()}}const Bj=e=>(t,n)=>{e&&ft.postRender(()=>e(t,n))};class OW extends Mi{constructor(){super(...arguments),this.removePointerDownListener=ws}onPointerDown(t){this.session=new dP(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:uP(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:Bj(t),onStart:Bj(n),onMove:s,onEnd:(a,o)=>{delete this.session,i&&ft.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=Kl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const dd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Vj(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const yl={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(be.test(e))e=parseFloat(e);else return e;const n=Vj(e,t.target.x),s=Vj(e,t.target.y);return`${n}% ${s}%`}},FW={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,i=Ei.parse(e);if(i.length>5)return s;const a=Ei.createTransformer(e),o=typeof i[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;i[0+o]/=l,i[1+o]/=c;const u=mt(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),a(i)}};let zj=!1;class UW extends h.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:i}=this.props,{projection:a}=t;o8(BW),a&&(n.group&&n.group.add(a),s&&s.register&&i&&s.register(a),zj&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),dd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:i,isPresent:a}=this.props,{projection:o}=s;return o&&(o.isPresent=a,zj=!0,i||t.layoutDependency!==n||n===void 0||t.isPresent!==a?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||ft.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Zv.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function hP(e){const[t,n]=e8(),s=h.useContext(qT);return r.jsx(UW,{...e,layoutGroup:s,switchLayoutGroup:h.useContext(Gk),isPresent:t,safeToRemove:n})}const BW={borderRadius:{...yl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:yl,borderTopRightRadius:yl,borderBottomLeftRadius:yl,borderBottomRightRadius:yl,boxShadow:FW};function VW(e,t,n){const s=xn(e)?e:Oo(e);return s.start(cy("",s,t,n)),s.animation}const zW=(e,t)=>e.depth-t.depth;class WW{constructor(){this.children=[],this.isDirty=!1}add(t){$v(this.children,t),this.isDirty=!0}remove(t){Mv(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(zW),this.isDirty=!1,this.children.forEach(t)}}function HW(e,t){const n=Vn.now(),s=({timestamp:i})=>{const a=i-n;a>=t&&(Ni(s),e(a-t))};return ft.setup(s,!0),()=>Ni(s)}const mP=["TopLeft","TopRight","BottomLeft","BottomRight"],qW=mP.length,Wj=e=>typeof e=="string"?parseFloat(e):e,Hj=e=>typeof e=="number"||be.test(e);function KW(e,t,n,s,i,a){i?(e.opacity=mt(0,n.opacity??1,GW(s)),e.opacityExit=mt(t.opacity??1,0,YW(s))):a&&(e.opacity=mt(t.opacity??1,n.opacity??1,s));for(let o=0;o<qW;o++){const l=`border${mP[o]}Radius`;let c=qj(t,l),u=qj(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Hj(c)===Hj(u)?(e[l]=Math.max(mt(Wj(c),Wj(u),s),0),(ur.test(u)||ur.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=mt(t.rotate||0,n.rotate||0,s))}function qj(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const GW=pP(0,.5,sk),YW=pP(.5,.95,ws);function pP(e,t,n){return s=>s<e?0:s>t?1:n(Ec(e,t,s))}function Kj(e,t){e.min=t.min,e.max=t.max}function ds(e,t){Kj(e.x,t.x),Kj(e.y,t.y)}function Gj(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Yj(e,t,n,s,i){return e-=t,e=of(e,1/n,s),i!==void 0&&(e=of(e,1/i,s)),e}function QW(e,t=0,n=1,s=.5,i,a=e,o=e){if(ur.test(t)&&(t=parseFloat(t),t=mt(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=mt(a.min,a.max,s);e===a&&(l-=t),e.min=Yj(e.min,t,n,l,i),e.max=Yj(e.max,t,n,l,i)}function Qj(e,t,[n,s,i],a,o){QW(e,t[n],t[s],t[i],t.scale,a,o)}const XW=["x","scaleX","originX"],JW=["y","scaleY","originY"];function Xj(e,t,n,s){Qj(e.x,t,XW,n?n.x:void 0,s?s.x:void 0),Qj(e.y,t,JW,n?n.y:void 0,s?s.y:void 0)}function Jj(e){return e.translate===0&&e.scale===1}function gP(e){return Jj(e.x)&&Jj(e.y)}function Zj(e,t){return e.min===t.min&&e.max===t.max}function ZW(e,t){return Zj(e.x,t.x)&&Zj(e.y,t.y)}function eb(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function xP(e,t){return eb(e.x,t.x)&&eb(e.y,t.y)}function tb(e){return Tn(e.x)/Tn(e.y)}function nb(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class e7{constructor(){this.members=[]}add(t){$v(this.members,t),t.scheduleRender()}remove(t){if(Mv(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let s;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){s=a;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function t7(e,t,n){let s="";const i=e.x.translate/t.x,a=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((i||a||o)&&(s=`translate3d(${i}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:m,skewX:x,skewY:j}=n;u&&(s=`perspective(${u}px) ${s}`),d&&(s+=`rotate(${d}deg) `),f&&(s+=`rotateX(${f}deg) `),m&&(s+=`rotateY(${m}deg) `),x&&(s+=`skewX(${x}deg) `),j&&(s+=`skewY(${j}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(s+=`scale(${l}, ${c})`),s||"none"}const Rm=["","X","Y","Z"],n7=1e3;let s7=0;function Am(e,t,n,s){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),s&&(s[e]=0))}function vP(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=rP(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ft,!(i||a))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&vP(s)}function yP({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(o={},l=t==null?void 0:t()){this.id=s7++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(a7),this.nodes.forEach(u7),this.nodes.forEach(d7),this.nodes.forEach(o7)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new WW)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Ov),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=Mk(o)&&!Xz(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let d,f=0;const m=()=>this.root.updateBlockedByResize=!1;ft.read(()=>{f=window.innerWidth}),e(o,()=>{const x=window.innerWidth;x!==f&&(f=x,this.root.updateBlockedByResize=!0,d&&d(),d=HW(m,250),dd.hasAnimatedSinceResize&&(dd.hasAnimatedSinceResize=!1,this.nodes.forEach(ib)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:m,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||u.getDefaultTransition()||g7,{onLayoutAnimationStart:v,onLayoutAnimationComplete:y}=u.getProps(),g=!this.targetLayout||!xP(this.targetLayout,x),p=!f&&m;if(this.options.layoutRoot||this.resumeFrom||p||f&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...Xv(j,"layout"),onPlay:v,onComplete:y};(u.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(d,p)}else f||ib(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ni(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(f7),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&vP(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(sb);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(rb);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(c7),this.nodes.forEach(r7),this.nodes.forEach(i7)):this.nodes.forEach(rb),this.clearAllSnapshots();const l=Vn.now();nn.delta=Dr(0,1e3/60,l-nn.timestamp),nn.timestamp=l,nn.isProcessing=!0,jm.update.process(nn),jm.preRender.process(nn),jm.render.process(nn),nn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Zv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(l7),this.sharedNodes.forEach(h7)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ft.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ft.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Tn(this.snapshot.measuredBox.x)&&!Tn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=_t(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!gP(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&this.instance&&(l||Yi(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),x7(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return _t();const l=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(v7))){const{scroll:d}=this.root;d&&(to(l.x,d.offset.x),to(l.y,d.offset.y))}return l}removeElementScroll(o){var c;const l=_t();if(ds(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:m}=d;d!==this.root&&f&&m.layoutScroll&&(f.wasRoot&&ds(l,o),to(l.x,f.offset.x),to(l.y,f.offset.y))}return l}applyTransform(o,l=!1){const c=_t();ds(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&no(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Yi(d.latestValues)&&no(c,d.latestValues)}return Yi(this.latestValues)&&no(c,this.latestValues),c}removeTransform(o){const l=_t();ds(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Yi(u.latestValues))continue;Eg(u.latestValues)&&u.updateSnapshot();const d=_t(),f=u.measurePageBox();ds(d,f),Xj(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Yi(this.latestValues)&&Xj(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==nn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var m;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=nn.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_t(),this.relativeTargetOrigin=_t(),Yl(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),ds(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=_t(),this.targetWithTransforms=_t()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),SW(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ds(this.target,this.layout.layoutBox),Jk(this.target,this.targetDelta)):ds(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_t(),this.relativeTargetOrigin=_t(),Yl(this.relativeTargetOrigin,this.target,x.target),ds(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Eg(this.parent.latestValues)||Xk(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var j;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(j=this.parent)!=null&&j.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===nn.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;ds(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;M8(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=_t());const{target:x}=o;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Gj(this.prevProjectionDelta.x,this.projectionDelta.x),Gj(this.prevProjectionDelta.y,this.projectionDelta.y)),Gl(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!nb(this.projectionDelta.x,this.prevProjectionDelta.x)||!nb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=so(),this.projectionDelta=so(),this.projectionDeltaWithTransform=so()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=so();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=_t(),x=c?c.source:void 0,j=this.layout?this.layout.source:void 0,v=x!==j,y=this.getStack(),g=!y||y.members.length<=1,p=!!(v&&!g&&this.options.crossfade===!0&&!this.path.some(p7));this.animationProgress=0;let w;this.mixTargetDelta=b=>{const S=b/1e3;ab(f.x,o.x,S),ab(f.y,o.y,S),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Yl(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),m7(this.relativeTarget,this.relativeTargetOrigin,m,S),w&&ZW(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=_t()),ds(w,this.relativeTarget)),v&&(this.animationValues=d,KW(d,u,this.latestValues,S,p,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Ni(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ft.update(()=>{dd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Oo(0)),this.currentAnimation=VW(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(n7),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&wP(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||_t();const f=Tn(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const m=Tn(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+m}ds(l,c),no(l,d),Gl(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new e7),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&Am("z",o,u,this.animationValues);for(let d=0;d<Rm.length;d++)Am(`rotate${Rm[d]}`,o,u,this.animationValues),Am(`skew${Rm[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=ud(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=ud(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Yi(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=t7(this.projectionDeltaWithTransform,this.treeScale,d);c&&(f=c(d,f)),o.transform=f;const{x:m,y:x}=this.projectionDelta;o.transformOrigin=`${m.origin*100}% ${x.origin*100}% 0`,u.animationValues?o.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const j in Pc){if(d[j]===void 0)continue;const{correct:v,applyTo:y,isCSSVariable:g}=Pc[j],p=f==="none"?d[j]:v(d[j],u);if(y){const w=y.length;for(let b=0;b<w;b++)o[y[b]]=p}else g?this.options.visualElement.renderState.vars[j]=p:o[j]=p}this.options.layoutId&&(o.pointerEvents=u===this?ud(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(sb),this.root.sharedNodes.clear()}}}function r7(e){e.updateLayout()}function i7(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:i}=e.layout,{animationType:a}=e.options,o=t.source!==e.layout.source;a==="size"?fs(f=>{const m=o?t.measuredBox[f]:t.layoutBox[f],x=Tn(m);m.min=s[f].min,m.max=m.min+x}):wP(a,t.layoutBox,s)&&fs(f=>{const m=o?t.measuredBox[f]:t.layoutBox[f],x=Tn(s[f]);m.max=m.min+x,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+x)});const l=so();Gl(l,s,t.layoutBox);const c=so();o?Gl(c,e.applyTransform(i,!0),t.measuredBox):Gl(c,s,t.layoutBox);const u=!gP(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:x}=f;if(m&&x){const j=_t();Yl(j,t.layoutBox,m.layoutBox);const v=_t();Yl(v,s,x.layoutBox),xP(j,v)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=j,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function a7(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function o7(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function l7(e){e.clearSnapshot()}function sb(e){e.clearMeasurements()}function rb(e){e.isLayoutDirty=!1}function c7(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function ib(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function u7(e){e.resolveTargetDelta()}function d7(e){e.calcProjection()}function f7(e){e.resetSkewAndRotation()}function h7(e){e.removeLeadSnapshot()}function ab(e,t,n){e.translate=mt(t.translate,0,n),e.scale=mt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function ob(e,t,n,s){e.min=mt(t.min,n.min,s),e.max=mt(t.max,n.max,s)}function m7(e,t,n,s){ob(e.x,t.x,n.x,s),ob(e.y,t.y,n.y,s)}function p7(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const g7={duration:.45,ease:[.4,0,.1,1]},lb=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),cb=lb("applewebkit/")&&!lb("chrome/")?Math.round:ws;function ub(e){e.min=cb(e.min),e.max=cb(e.max)}function x7(e){ub(e.x),ub(e.y)}function wP(e,t,n){return e==="position"||e==="preserve-aspect"&&!_W(tb(t),tb(n),.2)}function v7(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const y7=yP({attachResizeListener:(e,t)=>Ac(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Dm={current:void 0},jP=yP({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Dm.current){const e=new y7({});e.mount(window),e.setOptions({layoutScroll:!0}),Dm.current=e}return Dm.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),w7={pan:{Feature:OW},drag:{Feature:LW,ProjectionNode:jP,MeasureLayout:hP}};function db(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=s[i];a&&ft.postRender(()=>a(t,su(t)))}class j7 extends Mi{mount(){const{current:t}=this.node;t&&(this.unmount=qz(t,(n,s)=>(db(this.node,s,"Start"),i=>db(this.node,i,"End"))))}unmount(){}}class b7 extends Mi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=eu(Ac(this.node.current,"focus",()=>this.onFocus()),Ac(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function fb(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=s[i];a&&ft.postRender(()=>a(t,su(t)))}class _7 extends Mi{mount(){const{current:t}=this.node;t&&(this.unmount=Qz(t,(n,s)=>(fb(this.node,s,"Start"),(i,{success:a})=>fb(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Dg=new WeakMap,$m=new WeakMap,S7=e=>{const t=Dg.get(e.target);t&&t(e)},N7=e=>{e.forEach(S7)};function E7({root:e,...t}){const n=e||document;$m.has(n)||$m.set(n,{});const s=$m.get(n),i=JSON.stringify(t);return s[i]||(s[i]=new IntersectionObserver(N7,{root:e,...t})),s[i]}function C7(e,t,n){const s=E7(t);return Dg.set(e,n),s.observe(e),()=>{Dg.delete(e),s.unobserve(e)}}const T7={some:0,all:1};class k7 extends Mi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:i="some",once:a}=t,o={root:n?n.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:T7[i]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),m=u?d:f;m&&m(c)};return C7(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(P7(t,n))&&this.startObserver()}unmount(){}}function P7({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const R7={inView:{Feature:k7},tap:{Feature:_7},focus:{Feature:b7},hover:{Feature:j7}},A7={layout:{ProjectionNode:jP,MeasureLayout:hP}},D7={...xW,...R7,...w7,...A7},Bu=A8(D7,H8),$7=()=>{const e=Go();return h.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:r.jsxs(Bu.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center space-y-6 p-8",children:[r.jsx(Bu.div,{initial:{scale:.5},animate:{scale:1},transition:{duration:.5,delay:.2},children:r.jsx("h1",{className:"text-8xl font-bold text-primary",children:"404"})}),r.jsxs(Bu.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},className:"space-y-4",children:[r.jsx("h2",{className:"text-2xl font-semibold tracking-tight",children:"Page Not Found"}),r.jsx("p",{className:"text-muted-foreground",children:"Sorry, the page you are looking for does not exist or has been removed."})]}),r.jsx(Bu.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.6},children:r.jsx(J,{asChild:!0,variant:"default",size:"lg",children:r.jsx("a",{href:"/",children:"Back to Home"})})})]})})};class Ls{static convertEzSiteOptions(t){const n={};return t.PageNo&&t.PageSize&&(n.offset=(t.PageNo-1)*t.PageSize,n.limit=t.PageSize),t.OrderByField&&(n.orderBy={column:t.OrderByField,ascending:t.IsAsc!==!1}),t.Filters&&Array.isArray(t.Filters)&&(n.filters=t.Filters.map(s=>({column:s.name,operator:Ls.convertEzSiteOperator(s.op),value:s.value}))),n}static convertEzSiteOperator(t){return{Equal:"eq",NotEqual:"neq",GreaterThan:"gt",GreaterThanOrEqual:"gte",LessThan:"lt",LessThanOrEqual:"lte",Contains:"ilike",In:"in",IsNull:"is",IsNotNull:"not"}[t]||"eq"}static getTableName(t){return{12818:"seasons",12820:"conferences",12852:"teams",12853:"team_conference_junction",13329:"matchups",13768:"team_records",12870:"players",draft_results:"draft_results",transactions:"transactions",playoff_bracket:"playoff_bracket",matchup_admin_override:"matchup_admin_override",team_rosters:"team_rosters"}[t.toString()]||t.toString()}static async tablePage(t,n={}){const s=Ls.getTableName(t),i=Ls.convertEzSiteOptions(n),a=await le.queryTable(s,i);return{data:{List:a.data,TotalCount:a.count||0},error:a.error}}static async tableCreate(t,n){const s=Ls.getTableName(t),i={...n};delete i.ID;const a=await le.createRecord(s,i);return{data:a.data,error:a.error}}static async tableUpdate(t,n){const s=Ls.getTableName(t);if(!n.ID&&!n.id)return{error:"Missing ID for update operation"};const i=n.ID||n.id,a={...n};delete a.ID,delete a.id;const o=await le.updateRecord(s,i,a);return{data:o.data,error:o.error}}static async tableDelete(t,n){const s=Ls.getTableName(t);if(!n.ID&&!n.id)return{error:"Missing ID for delete operation"};const i=n.ID||n.id;return{data:null,error:(await le.deleteRecord(s,i)).error}}}const M7={tablePage:Ls.tablePage,tableCreate:Ls.tableCreate,tableUpdate:Ls.tableUpdate,tableDelete:Ls.tableDelete},I7=new mL,L7=()=>(h.useEffect(()=>{window.ezsite||(window.ezsite={apis:M7});const e=document.createElement("script");return e.src="https://studio.pickaxe.co/api/embed/bundle.js",e.defer=!0,document.head.appendChild(e),()=>{const t=document.querySelector('script[src="https://studio.pickaxe.co/api/embed/bundle.js"]');t&&t.remove()}},[]),r.jsx(gL,{client:I7,children:r.jsx(WI,{children:r.jsx(MF,{children:r.jsxs(pO,{children:[r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx(b5,{}),r.jsx("main",{className:"container mx-auto px-4 py-6",children:r.jsxs(lO,{children:[r.jsx(On,{path:"/",element:r.jsx(C5,{})}),r.jsx(On,{path:"/standings",element:r.jsx(P5,{})}),r.jsx(On,{path:"/matchups",element:r.jsx(F5,{})}),r.jsx(On,{path:"/teams",element:r.jsx(tU,{})}),r.jsx(On,{path:"/teams/:teamId",element:r.jsx(wU,{})}),r.jsx(On,{path:"/players",element:r.jsx(bU,{})}),r.jsx(On,{path:"/players/:playerId",element:r.jsx(PU,{})}),r.jsx(On,{path:"/transactions",element:r.jsx(RU,{})}),r.jsx(On,{path:"/draft",element:r.jsx(AU,{})}),r.jsx(On,{path:"/rules",element:r.jsx(UU,{})}),r.jsx(On,{path:"/conferences",element:r.jsx(VU,{})}),r.jsx(On,{path:"/admin",element:r.jsx(eV,{})}),r.jsx(On,{path:"*",element:r.jsx($7,{})})]})})]}),r.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:r.jsx("div",{id:"deployment-f277b3b5-018e-4ef6-a37c-d2fd421a7ba5"})}),r.jsx(rM,{})]})})})}));$S(document.getElementById("root")).render(r.jsx(L7,{}));
