var W2=Object.defineProperty;var Ny=e=>{throw TypeError(e)};var H2=(e,t,s)=>t in e?W2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var us=(e,t,s)=>H2(e,typeof t!="symbol"?t+"":t,s),Dh=(e,t,s)=>t.has(e)||Ny("Cannot "+s);var te=(e,t,s)=>(Dh(e,t,"read from private field"),s?s.call(e):t.get(e)),at=(e,t,s)=>t.has(e)?Ny("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),ke=(e,t,s,n)=>(Dh(e,t,"write to private field"),n?n.call(e,s):t.set(e,s),s),As=(e,t,s)=>(Dh(e,t,"access private method"),s);var wd=(e,t,s,n)=>({set _(a){ke(e,t,a,s)},get _(){return te(e,t,n)}});function q2(e,t){for(var s=0;s<t.length;s++){const n=t[s];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=s(a);fetch(a.href,i)}})();var On=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function L_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function K2(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var s=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(s,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),s}var I_={exports:{}},Cf={},O_={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gc=Symbol.for("react.element"),G2=Symbol.for("react.portal"),Y2=Symbol.for("react.fragment"),Q2=Symbol.for("react.strict_mode"),J2=Symbol.for("react.profiler"),X2=Symbol.for("react.provider"),Z2=Symbol.for("react.context"),eP=Symbol.for("react.forward_ref"),tP=Symbol.for("react.suspense"),sP=Symbol.for("react.memo"),nP=Symbol.for("react.lazy"),Cy=Symbol.iterator;function rP(e){return e===null||typeof e!="object"?null:(e=Cy&&e[Cy]||e["@@iterator"],typeof e=="function"?e:null)}var F_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B_=Object.assign,U_={};function sl(e,t,s){this.props=e,this.context=t,this.refs=U_,this.updater=s||F_}sl.prototype.isReactComponent={};sl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};sl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function z_(){}z_.prototype=sl.prototype;function Zg(e,t,s){this.props=e,this.context=t,this.refs=U_,this.updater=s||F_}var ex=Zg.prototype=new z_;ex.constructor=Zg;B_(ex,sl.prototype);ex.isPureReactComponent=!0;var Ey=Array.isArray,V_=Object.prototype.hasOwnProperty,tx={current:null},W_={key:!0,ref:!0,__self:!0,__source:!0};function H_(e,t,s){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)V_.call(t,n)&&!W_.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=s;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Gc,type:e,key:i,ref:o,props:a,_owner:tx.current}}function aP(e,t){return{$$typeof:Gc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function sx(e){return typeof e=="object"&&e!==null&&e.$$typeof===Gc}function iP(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var Ty=/\/+/g;function Mh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?iP(""+e.key):t.toString(36)}function eu(e,t,s,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Gc:case G2:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+Mh(o,0):n,Ey(a)?(s="",e!=null&&(s=e.replace(Ty,"$&/")+"/"),eu(a,t,s,"",function(d){return d})):a!=null&&(sx(a)&&(a=aP(a,s+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(Ty,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",Ey(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Mh(i,l);o+=eu(i,t,s,c,a)}else if(c=rP(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Mh(i,l++),o+=eu(i,t,s,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function jd(e,t,s){if(e==null)return e;var n=[],a=0;return eu(e,n,"","",function(i){return t.call(s,i,a++)}),n}function oP(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Qs={current:null},tu={transition:null},lP={ReactCurrentDispatcher:Qs,ReactCurrentBatchConfig:tu,ReactCurrentOwner:tx};function q_(){throw Error("act(...) is not supported in production builds of React.")}Ve.Children={map:jd,forEach:function(e,t,s){jd(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return jd(e,function(){t++}),t},toArray:function(e){return jd(e,function(t){return t})||[]},only:function(e){if(!sx(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ve.Component=sl;Ve.Fragment=Y2;Ve.Profiler=J2;Ve.PureComponent=Zg;Ve.StrictMode=Q2;Ve.Suspense=tP;Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lP;Ve.act=q_;Ve.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=B_({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=tx.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)V_.call(t,c)&&!W_.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=s;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:Gc,type:e.type,key:a,ref:i,props:n,_owner:o}};Ve.createContext=function(e){return e={$$typeof:Z2,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:X2,_context:e},e.Consumer=e};Ve.createElement=H_;Ve.createFactory=function(e){var t=H_.bind(null,e);return t.type=e,t};Ve.createRef=function(){return{current:null}};Ve.forwardRef=function(e){return{$$typeof:eP,render:e}};Ve.isValidElement=sx;Ve.lazy=function(e){return{$$typeof:nP,_payload:{_status:-1,_result:e},_init:oP}};Ve.memo=function(e,t){return{$$typeof:sP,type:e,compare:t===void 0?null:t}};Ve.startTransition=function(e){var t=tu.transition;tu.transition={};try{e()}finally{tu.transition=t}};Ve.unstable_act=q_;Ve.useCallback=function(e,t){return Qs.current.useCallback(e,t)};Ve.useContext=function(e){return Qs.current.useContext(e)};Ve.useDebugValue=function(){};Ve.useDeferredValue=function(e){return Qs.current.useDeferredValue(e)};Ve.useEffect=function(e,t){return Qs.current.useEffect(e,t)};Ve.useId=function(){return Qs.current.useId()};Ve.useImperativeHandle=function(e,t,s){return Qs.current.useImperativeHandle(e,t,s)};Ve.useInsertionEffect=function(e,t){return Qs.current.useInsertionEffect(e,t)};Ve.useLayoutEffect=function(e,t){return Qs.current.useLayoutEffect(e,t)};Ve.useMemo=function(e,t){return Qs.current.useMemo(e,t)};Ve.useReducer=function(e,t,s){return Qs.current.useReducer(e,t,s)};Ve.useRef=function(e){return Qs.current.useRef(e)};Ve.useState=function(e){return Qs.current.useState(e)};Ve.useSyncExternalStore=function(e,t,s){return Qs.current.useSyncExternalStore(e,t,s)};Ve.useTransition=function(){return Qs.current.useTransition()};Ve.version="18.3.1";O_.exports=Ve;var h=O_.exports;const He=L_(h),nx=q2({__proto__:null,default:He},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cP=h,dP=Symbol.for("react.element"),uP=Symbol.for("react.fragment"),fP=Object.prototype.hasOwnProperty,hP=cP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mP={key:!0,ref:!0,__self:!0,__source:!0};function K_(e,t,s){var n,a={},i=null,o=null;s!==void 0&&(i=""+s),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)fP.call(t,n)&&!mP.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:dP,type:e,key:i,ref:o,props:a,_owner:hP.current}}Cf.Fragment=uP;Cf.jsx=K_;Cf.jsxs=K_;I_.exports=Cf;var r=I_.exports,G_={exports:{}},wn={},Y_={exports:{}},Q_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(S,P){var k=S.length;S.push(P);e:for(;0<k;){var C=k-1>>>1,A=S[C];if(0<a(A,P))S[C]=P,S[k]=A,k=C;else break e}}function s(S){return S.length===0?null:S[0]}function n(S){if(S.length===0)return null;var P=S[0],k=S.pop();if(k!==P){S[0]=k;e:for(var C=0,A=S.length,M=A>>>1;C<M;){var D=2*(C+1)-1,Q=S[D],K=D+1,z=S[K];if(0>a(Q,k))K<A&&0>a(z,Q)?(S[C]=z,S[K]=k,C=K):(S[C]=Q,S[D]=k,C=D);else if(K<A&&0>a(z,k))S[C]=z,S[K]=k,C=K;else break e}}return P}function a(S,P){var k=S.sortIndex-P.sortIndex;return k!==0?k:S.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,f=null,m=3,v=!1,j=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(S){for(var P=s(d);P!==null;){if(P.callback===null)n(d);else if(P.startTime<=S)n(d),P.sortIndex=P.expirationTime,t(c,P);else break;P=s(d)}}function _(S){if(g=!1,w(S),!j)if(s(c)!==null)j=!0,B(b);else{var P=s(d);P!==null&&V(_,P.startTime-S)}}function b(S,P){j=!1,g&&(g=!1,x(E),E=-1),v=!0;var k=m;try{for(w(P),f=s(c);f!==null&&(!(f.expirationTime>P)||S&&!F());){var C=f.callback;if(typeof C=="function"){f.callback=null,m=f.priorityLevel;var A=C(f.expirationTime<=P);P=e.unstable_now(),typeof A=="function"?f.callback=A:f===s(c)&&n(c),w(P)}else n(c);f=s(c)}if(f!==null)var M=!0;else{var D=s(d);D!==null&&V(_,D.startTime-P),M=!1}return M}finally{f=null,m=k,v=!1}}var T=!1,N=null,E=-1,R=5,$=-1;function F(){return!(e.unstable_now()-$<R)}function W(){if(N!==null){var S=e.unstable_now();$=S;var P=!0;try{P=N(!0,S)}finally{P?I():(T=!1,N=null)}}else T=!1}var I;if(typeof p=="function")I=function(){p(W)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,H=L.port2;L.port1.onmessage=W,I=function(){H.postMessage(null)}}else I=function(){y(W,0)};function B(S){N=S,T||(T=!0,I())}function V(S,P){E=y(function(){S(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(S){S.callback=null},e.unstable_continueExecution=function(){j||v||(j=!0,B(b))},e.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<S?Math.floor(1e3/S):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return s(c)},e.unstable_next=function(S){switch(m){case 1:case 2:case 3:var P=3;break;default:P=m}var k=m;m=P;try{return S()}finally{m=k}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(S,P){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var k=m;m=S;try{return P()}finally{m=k}},e.unstable_scheduleCallback=function(S,P,k){var C=e.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?C+k:C):k=C,S){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=k+A,S={id:u++,callback:P,priorityLevel:S,startTime:k,expirationTime:A,sortIndex:-1},k>C?(S.sortIndex=k,t(d,S),s(c)===null&&S===s(d)&&(g?(x(E),E=-1):g=!0,V(_,k-C))):(S.sortIndex=A,t(c,S),j||v||(j=!0,B(b))),S},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(S){var P=m;return function(){var k=m;m=P;try{return S.apply(this,arguments)}finally{m=k}}}})(Q_);Y_.exports=Q_;var pP=Y_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gP=h,vn=pP;function le(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var J_=new Set,cc={};function Ii(e,t){Fo(e,t),Fo(e+"Capture",t)}function Fo(e,t){for(cc[e]=t,e=0;e<t.length;e++)J_.add(t[e])}var zr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zm=Object.prototype.hasOwnProperty,xP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ky={},Py={};function vP(e){return Zm.call(Py,e)?!0:Zm.call(ky,e)?!1:xP.test(e)?Py[e]=!0:(ky[e]=!0,!1)}function yP(e,t,s,n){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function wP(e,t,s,n){if(t===null||typeof t>"u"||yP(e,t,s,n))return!0;if(n)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Js(e,t,s,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ts={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ts[e]=new Js(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ts[t]=new Js(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ts[e]=new Js(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ts[e]=new Js(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ts[e]=new Js(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ts[e]=new Js(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ts[e]=new Js(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ts[e]=new Js(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ts[e]=new Js(e,5,!1,e.toLowerCase(),null,!1,!1)});var rx=/[\-:]([a-z])/g;function ax(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(rx,ax);Ts[t]=new Js(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(rx,ax);Ts[t]=new Js(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(rx,ax);Ts[t]=new Js(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ts[e]=new Js(e,1,!1,e.toLowerCase(),null,!1,!1)});Ts.xlinkHref=new Js("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ts[e]=new Js(e,1,!1,e.toLowerCase(),null,!0,!0)});function ix(e,t,s,n){var a=Ts.hasOwnProperty(t)?Ts[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(wP(t,s,a,n)&&(s=null),n||a===null?vP(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):a.mustUseProperty?e[a.propertyName]=s===null?a.type===3?!1:"":s:(t=a.attributeName,n=a.attributeNamespace,s===null?e.removeAttribute(t):(a=a.type,s=a===3||a===4&&s===!0?"":""+s,n?e.setAttributeNS(n,t,s):e.setAttribute(t,s))))}var Zr=gP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_d=Symbol.for("react.element"),so=Symbol.for("react.portal"),no=Symbol.for("react.fragment"),ox=Symbol.for("react.strict_mode"),ep=Symbol.for("react.profiler"),X_=Symbol.for("react.provider"),Z_=Symbol.for("react.context"),lx=Symbol.for("react.forward_ref"),tp=Symbol.for("react.suspense"),sp=Symbol.for("react.suspense_list"),cx=Symbol.for("react.memo"),la=Symbol.for("react.lazy"),eb=Symbol.for("react.offscreen"),Ry=Symbol.iterator;function jl(e){return e===null||typeof e!="object"?null:(e=Ry&&e[Ry]||e["@@iterator"],typeof e=="function"?e:null)}var Vt=Object.assign,Lh;function Dl(e){if(Lh===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);Lh=t&&t[1]||""}return`
`+Lh+e}var Ih=!1;function Oh(e,t){if(!e||Ih)return"";Ih=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Ih=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?Dl(e):""}function jP(e){switch(e.tag){case 5:return Dl(e.type);case 16:return Dl("Lazy");case 13:return Dl("Suspense");case 19:return Dl("SuspenseList");case 0:case 2:case 15:return e=Oh(e.type,!1),e;case 11:return e=Oh(e.type.render,!1),e;case 1:return e=Oh(e.type,!0),e;default:return""}}function np(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case no:return"Fragment";case so:return"Portal";case ep:return"Profiler";case ox:return"StrictMode";case tp:return"Suspense";case sp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Z_:return(e.displayName||"Context")+".Consumer";case X_:return(e._context.displayName||"Context")+".Provider";case lx:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case cx:return t=e.displayName||null,t!==null?t:np(e.type)||"Memo";case la:t=e._payload,e=e._init;try{return np(e(t))}catch{}}return null}function _P(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return np(t);case 8:return t===ox?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ma(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function tb(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function bP(e){var t=tb(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var a=s.get,i=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function bd(e){e._valueTracker||(e._valueTracker=bP(e))}function sb(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),n="";return e&&(n=tb(e)?e.checked?"true":"false":e.value),e=n,e!==s?(t.setValue(e),!0):!1}function Su(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function rp(e,t){var s=t.checked;return Vt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Ay(e,t){var s=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;s=Ma(t.value!=null?t.value:s),e._wrapperState={initialChecked:n,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function nb(e,t){t=t.checked,t!=null&&ix(e,"checked",t,!1)}function ap(e,t){nb(e,t);var s=Ma(t.value),n=t.type;if(s!=null)n==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ip(e,t.type,s):t.hasOwnProperty("defaultValue")&&ip(e,t.type,Ma(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function $y(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function ip(e,t,s){(t!=="number"||Su(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Ml=Array.isArray;function wo(e,t,s,n){if(e=e.options,t){t={};for(var a=0;a<s.length;a++)t["$"+s[a]]=!0;for(s=0;s<e.length;s++)a=t.hasOwnProperty("$"+e[s].value),e[s].selected!==a&&(e[s].selected=a),a&&n&&(e[s].defaultSelected=!0)}else{for(s=""+Ma(s),t=null,a=0;a<e.length;a++){if(e[a].value===s){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function op(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(le(91));return Vt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Dy(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(le(92));if(Ml(s)){if(1<s.length)throw Error(le(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:Ma(s)}}function rb(e,t){var s=Ma(t.value),n=Ma(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),n!=null&&(e.defaultValue=""+n)}function My(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ab(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ab(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Sd,ib=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,s,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Sd=Sd||document.createElement("div"),Sd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Sd.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function dc(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var zl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},SP=["Webkit","ms","Moz","O"];Object.keys(zl).forEach(function(e){SP.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),zl[t]=zl[e]})});function ob(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||zl.hasOwnProperty(e)&&zl[e]?(""+t).trim():t+"px"}function lb(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var n=s.indexOf("--")===0,a=ob(s,t[s],n);s==="float"&&(s="cssFloat"),n?e.setProperty(s,a):e[s]=a}}var NP=Vt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cp(e,t){if(t){if(NP[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(le(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(le(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(le(61))}if(t.style!=null&&typeof t.style!="object")throw Error(le(62))}}function dp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var up=null;function dx(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fp=null,jo=null,_o=null;function Ly(e){if(e=Jc(e)){if(typeof fp!="function")throw Error(le(280));var t=e.stateNode;t&&(t=Rf(t),fp(e.stateNode,e.type,t))}}function cb(e){jo?_o?_o.push(e):_o=[e]:jo=e}function db(){if(jo){var e=jo,t=_o;if(_o=jo=null,Ly(e),t)for(e=0;e<t.length;e++)Ly(t[e])}}function ub(e,t){return e(t)}function fb(){}var Fh=!1;function hb(e,t,s){if(Fh)return e(t,s);Fh=!0;try{return ub(e,t,s)}finally{Fh=!1,(jo!==null||_o!==null)&&(fb(),db())}}function uc(e,t){var s=e.stateNode;if(s===null)return null;var n=Rf(s);if(n===null)return null;s=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(le(231,t,typeof s));return s}var hp=!1;if(zr)try{var _l={};Object.defineProperty(_l,"passive",{get:function(){hp=!0}}),window.addEventListener("test",_l,_l),window.removeEventListener("test",_l,_l)}catch{hp=!1}function CP(e,t,s,n,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(s,d)}catch(u){this.onError(u)}}var Vl=!1,Nu=null,Cu=!1,mp=null,EP={onError:function(e){Vl=!0,Nu=e}};function TP(e,t,s,n,a,i,o,l,c){Vl=!1,Nu=null,CP.apply(EP,arguments)}function kP(e,t,s,n,a,i,o,l,c){if(TP.apply(this,arguments),Vl){if(Vl){var d=Nu;Vl=!1,Nu=null}else throw Error(le(198));Cu||(Cu=!0,mp=d)}}function Oi(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function mb(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Iy(e){if(Oi(e)!==e)throw Error(le(188))}function PP(e){var t=e.alternate;if(!t){if(t=Oi(e),t===null)throw Error(le(188));return t!==e?null:e}for(var s=e,n=t;;){var a=s.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){s=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===s)return Iy(a),e;if(i===n)return Iy(a),t;i=i.sibling}throw Error(le(188))}if(s.return!==n.return)s=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===s){o=!0,s=a,n=i;break}if(l===n){o=!0,n=a,s=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===s){o=!0,s=i,n=a;break}if(l===n){o=!0,n=i,s=a;break}l=l.sibling}if(!o)throw Error(le(189))}}if(s.alternate!==n)throw Error(le(190))}if(s.tag!==3)throw Error(le(188));return s.stateNode.current===s?e:t}function pb(e){return e=PP(e),e!==null?gb(e):null}function gb(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=gb(e);if(t!==null)return t;e=e.sibling}return null}var xb=vn.unstable_scheduleCallback,Oy=vn.unstable_cancelCallback,RP=vn.unstable_shouldYield,AP=vn.unstable_requestPaint,Xt=vn.unstable_now,$P=vn.unstable_getCurrentPriorityLevel,ux=vn.unstable_ImmediatePriority,vb=vn.unstable_UserBlockingPriority,Eu=vn.unstable_NormalPriority,DP=vn.unstable_LowPriority,yb=vn.unstable_IdlePriority,Ef=null,wr=null;function MP(e){if(wr&&typeof wr.onCommitFiberRoot=="function")try{wr.onCommitFiberRoot(Ef,e,void 0,(e.current.flags&128)===128)}catch{}}var Zn=Math.clz32?Math.clz32:OP,LP=Math.log,IP=Math.LN2;function OP(e){return e>>>=0,e===0?32:31-(LP(e)/IP|0)|0}var Nd=64,Cd=4194304;function Ll(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Tu(e,t){var s=e.pendingLanes;if(s===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=s&268435455;if(o!==0){var l=o&~a;l!==0?n=Ll(l):(i&=o,i!==0&&(n=Ll(i)))}else o=s&~a,o!==0?n=Ll(o):i!==0&&(n=Ll(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)s=31-Zn(t),a=1<<s,n|=e[s],t&=~a;return n}function FP(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function BP(e,t){for(var s=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Zn(i),l=1<<o,c=a[o];c===-1?(!(l&s)||l&n)&&(a[o]=FP(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function pp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function wb(){var e=Nd;return Nd<<=1,!(Nd&4194240)&&(Nd=64),e}function Bh(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function Yc(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Zn(t),e[t]=s}function UP(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<s;){var a=31-Zn(s),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,s&=~i}}function fx(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var n=31-Zn(s),a=1<<n;a&t|e[n]&t&&(e[n]|=t),s&=~a}}var mt=0;function jb(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var _b,hx,bb,Sb,Nb,gp=!1,Ed=[],Sa=null,Na=null,Ca=null,fc=new Map,hc=new Map,fa=[],zP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fy(e,t){switch(e){case"focusin":case"focusout":Sa=null;break;case"dragenter":case"dragleave":Na=null;break;case"mouseover":case"mouseout":Ca=null;break;case"pointerover":case"pointerout":fc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":hc.delete(t.pointerId)}}function bl(e,t,s,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:s,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Jc(t),t!==null&&hx(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function VP(e,t,s,n,a){switch(t){case"focusin":return Sa=bl(Sa,e,t,s,n,a),!0;case"dragenter":return Na=bl(Na,e,t,s,n,a),!0;case"mouseover":return Ca=bl(Ca,e,t,s,n,a),!0;case"pointerover":var i=a.pointerId;return fc.set(i,bl(fc.get(i)||null,e,t,s,n,a)),!0;case"gotpointercapture":return i=a.pointerId,hc.set(i,bl(hc.get(i)||null,e,t,s,n,a)),!0}return!1}function Cb(e){var t=di(e.target);if(t!==null){var s=Oi(t);if(s!==null){if(t=s.tag,t===13){if(t=mb(s),t!==null){e.blockedOn=t,Nb(e.priority,function(){bb(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function su(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=xp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var n=new s.constructor(s.type,s);up=n,s.target.dispatchEvent(n),up=null}else return t=Jc(s),t!==null&&hx(t),e.blockedOn=s,!1;t.shift()}return!0}function By(e,t,s){su(e)&&s.delete(t)}function WP(){gp=!1,Sa!==null&&su(Sa)&&(Sa=null),Na!==null&&su(Na)&&(Na=null),Ca!==null&&su(Ca)&&(Ca=null),fc.forEach(By),hc.forEach(By)}function Sl(e,t){e.blockedOn===t&&(e.blockedOn=null,gp||(gp=!0,vn.unstable_scheduleCallback(vn.unstable_NormalPriority,WP)))}function mc(e){function t(a){return Sl(a,e)}if(0<Ed.length){Sl(Ed[0],e);for(var s=1;s<Ed.length;s++){var n=Ed[s];n.blockedOn===e&&(n.blockedOn=null)}}for(Sa!==null&&Sl(Sa,e),Na!==null&&Sl(Na,e),Ca!==null&&Sl(Ca,e),fc.forEach(t),hc.forEach(t),s=0;s<fa.length;s++)n=fa[s],n.blockedOn===e&&(n.blockedOn=null);for(;0<fa.length&&(s=fa[0],s.blockedOn===null);)Cb(s),s.blockedOn===null&&fa.shift()}var bo=Zr.ReactCurrentBatchConfig,ku=!0;function HP(e,t,s,n){var a=mt,i=bo.transition;bo.transition=null;try{mt=1,mx(e,t,s,n)}finally{mt=a,bo.transition=i}}function qP(e,t,s,n){var a=mt,i=bo.transition;bo.transition=null;try{mt=4,mx(e,t,s,n)}finally{mt=a,bo.transition=i}}function mx(e,t,s,n){if(ku){var a=xp(e,t,s,n);if(a===null)Qh(e,t,n,Pu,s),Fy(e,n);else if(VP(a,e,t,s,n))n.stopPropagation();else if(Fy(e,n),t&4&&-1<zP.indexOf(e)){for(;a!==null;){var i=Jc(a);if(i!==null&&_b(i),i=xp(e,t,s,n),i===null&&Qh(e,t,n,Pu,s),i===a)break;a=i}a!==null&&n.stopPropagation()}else Qh(e,t,n,null,s)}}var Pu=null;function xp(e,t,s,n){if(Pu=null,e=dx(n),e=di(e),e!==null)if(t=Oi(e),t===null)e=null;else if(s=t.tag,s===13){if(e=mb(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Pu=e,null}function Eb(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($P()){case ux:return 1;case vb:return 4;case Eu:case DP:return 16;case yb:return 536870912;default:return 16}default:return 16}}var wa=null,px=null,nu=null;function Tb(){if(nu)return nu;var e,t=px,s=t.length,n,a="value"in wa?wa.value:wa.textContent,i=a.length;for(e=0;e<s&&t[e]===a[e];e++);var o=s-e;for(n=1;n<=o&&t[s-n]===a[i-n];n++);return nu=a.slice(e,1<n?1-n:void 0)}function ru(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Td(){return!0}function Uy(){return!1}function jn(e){function t(s,n,a,i,o){this._reactName=s,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(s=e[l],this[l]=s?s(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Td:Uy,this.isPropagationStopped=Uy,this}return Vt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Td)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Td)},persist:function(){},isPersistent:Td}),t}var nl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gx=jn(nl),Qc=Vt({},nl,{view:0,detail:0}),KP=jn(Qc),Uh,zh,Nl,Tf=Vt({},Qc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xx,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Nl&&(Nl&&e.type==="mousemove"?(Uh=e.screenX-Nl.screenX,zh=e.screenY-Nl.screenY):zh=Uh=0,Nl=e),Uh)},movementY:function(e){return"movementY"in e?e.movementY:zh}}),zy=jn(Tf),GP=Vt({},Tf,{dataTransfer:0}),YP=jn(GP),QP=Vt({},Qc,{relatedTarget:0}),Vh=jn(QP),JP=Vt({},nl,{animationName:0,elapsedTime:0,pseudoElement:0}),XP=jn(JP),ZP=Vt({},nl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),eR=jn(ZP),tR=Vt({},nl,{data:0}),Vy=jn(tR),sR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aR(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=rR[e])?!!t[e]:!1}function xx(){return aR}var iR=Vt({},Qc,{key:function(e){if(e.key){var t=sR[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ru(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?nR[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xx,charCode:function(e){return e.type==="keypress"?ru(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ru(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),oR=jn(iR),lR=Vt({},Tf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wy=jn(lR),cR=Vt({},Qc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xx}),dR=jn(cR),uR=Vt({},nl,{propertyName:0,elapsedTime:0,pseudoElement:0}),fR=jn(uR),hR=Vt({},Tf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),mR=jn(hR),pR=[9,13,27,32],vx=zr&&"CompositionEvent"in window,Wl=null;zr&&"documentMode"in document&&(Wl=document.documentMode);var gR=zr&&"TextEvent"in window&&!Wl,kb=zr&&(!vx||Wl&&8<Wl&&11>=Wl),Hy=" ",qy=!1;function Pb(e,t){switch(e){case"keyup":return pR.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rb(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ro=!1;function xR(e,t){switch(e){case"compositionend":return Rb(t);case"keypress":return t.which!==32?null:(qy=!0,Hy);case"textInput":return e=t.data,e===Hy&&qy?null:e;default:return null}}function vR(e,t){if(ro)return e==="compositionend"||!vx&&Pb(e,t)?(e=Tb(),nu=px=wa=null,ro=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kb&&t.locale!=="ko"?null:t.data;default:return null}}var yR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ky(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!yR[e.type]:t==="textarea"}function Ab(e,t,s,n){cb(n),t=Ru(t,"onChange"),0<t.length&&(s=new gx("onChange","change",null,s,n),e.push({event:s,listeners:t}))}var Hl=null,pc=null;function wR(e){Vb(e,0)}function kf(e){var t=oo(e);if(sb(t))return e}function jR(e,t){if(e==="change")return t}var $b=!1;if(zr){var Wh;if(zr){var Hh="oninput"in document;if(!Hh){var Gy=document.createElement("div");Gy.setAttribute("oninput","return;"),Hh=typeof Gy.oninput=="function"}Wh=Hh}else Wh=!1;$b=Wh&&(!document.documentMode||9<document.documentMode)}function Yy(){Hl&&(Hl.detachEvent("onpropertychange",Db),pc=Hl=null)}function Db(e){if(e.propertyName==="value"&&kf(pc)){var t=[];Ab(t,pc,e,dx(e)),hb(wR,t)}}function _R(e,t,s){e==="focusin"?(Yy(),Hl=t,pc=s,Hl.attachEvent("onpropertychange",Db)):e==="focusout"&&Yy()}function bR(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return kf(pc)}function SR(e,t){if(e==="click")return kf(t)}function NR(e,t){if(e==="input"||e==="change")return kf(t)}function CR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tr=typeof Object.is=="function"?Object.is:CR;function gc(e,t){if(tr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),n=Object.keys(t);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var a=s[n];if(!Zm.call(t,a)||!tr(e[a],t[a]))return!1}return!0}function Qy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jy(e,t){var s=Qy(e);e=0;for(var n;s;){if(s.nodeType===3){if(n=e+s.textContent.length,e<=t&&n>=t)return{node:s,offset:t-e};e=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Qy(s)}}function Mb(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Mb(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Lb(){for(var e=window,t=Su();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Su(e.document)}return t}function yx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ER(e){var t=Lb(),s=e.focusedElem,n=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&Mb(s.ownerDocument.documentElement,s)){if(n!==null&&yx(s)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=s.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=Jy(s,i);var o=Jy(s,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var TR=zr&&"documentMode"in document&&11>=document.documentMode,ao=null,vp=null,ql=null,yp=!1;function Xy(e,t,s){var n=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;yp||ao==null||ao!==Su(n)||(n=ao,"selectionStart"in n&&yx(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ql&&gc(ql,n)||(ql=n,n=Ru(vp,"onSelect"),0<n.length&&(t=new gx("onSelect","select",null,t,s),e.push({event:t,listeners:n}),t.target=ao)))}function kd(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var io={animationend:kd("Animation","AnimationEnd"),animationiteration:kd("Animation","AnimationIteration"),animationstart:kd("Animation","AnimationStart"),transitionend:kd("Transition","TransitionEnd")},qh={},Ib={};zr&&(Ib=document.createElement("div").style,"AnimationEvent"in window||(delete io.animationend.animation,delete io.animationiteration.animation,delete io.animationstart.animation),"TransitionEvent"in window||delete io.transitionend.transition);function Pf(e){if(qh[e])return qh[e];if(!io[e])return e;var t=io[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in Ib)return qh[e]=t[s];return e}var Ob=Pf("animationend"),Fb=Pf("animationiteration"),Bb=Pf("animationstart"),Ub=Pf("transitionend"),zb=new Map,Zy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function za(e,t){zb.set(e,t),Ii(t,[e])}for(var Kh=0;Kh<Zy.length;Kh++){var Gh=Zy[Kh],kR=Gh.toLowerCase(),PR=Gh[0].toUpperCase()+Gh.slice(1);za(kR,"on"+PR)}za(Ob,"onAnimationEnd");za(Fb,"onAnimationIteration");za(Bb,"onAnimationStart");za("dblclick","onDoubleClick");za("focusin","onFocus");za("focusout","onBlur");za(Ub,"onTransitionEnd");Fo("onMouseEnter",["mouseout","mouseover"]);Fo("onMouseLeave",["mouseout","mouseover"]);Fo("onPointerEnter",["pointerout","pointerover"]);Fo("onPointerLeave",["pointerout","pointerover"]);Ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ii("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Il));function ew(e,t,s){var n=e.type||"unknown-event";e.currentTarget=s,kP(n,t,void 0,e),e.currentTarget=null}function Vb(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var n=e[s],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;ew(a,l,d),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;ew(a,l,d),i=c}}}if(Cu)throw e=mp,Cu=!1,mp=null,e}function kt(e,t){var s=t[Sp];s===void 0&&(s=t[Sp]=new Set);var n=e+"__bubble";s.has(n)||(Wb(t,e,2,!1),s.add(n))}function Yh(e,t,s){var n=0;t&&(n|=4),Wb(s,e,n,t)}var Pd="_reactListening"+Math.random().toString(36).slice(2);function xc(e){if(!e[Pd]){e[Pd]=!0,J_.forEach(function(s){s!=="selectionchange"&&(RR.has(s)||Yh(s,!1,e),Yh(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Pd]||(t[Pd]=!0,Yh("selectionchange",!1,t))}}function Wb(e,t,s,n){switch(Eb(t)){case 1:var a=HP;break;case 4:a=qP;break;default:a=mx}s=a.bind(null,t,s,e),a=void 0,!hp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,s,{capture:!0,passive:a}):e.addEventListener(t,s,!0):a!==void 0?e.addEventListener(t,s,{passive:a}):e.addEventListener(t,s,!1)}function Qh(e,t,s,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=di(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}hb(function(){var d=i,u=dx(s),f=[];e:{var m=zb.get(e);if(m!==void 0){var v=gx,j=e;switch(e){case"keypress":if(ru(s)===0)break e;case"keydown":case"keyup":v=oR;break;case"focusin":j="focus",v=Vh;break;case"focusout":j="blur",v=Vh;break;case"beforeblur":case"afterblur":v=Vh;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=zy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=YP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=dR;break;case Ob:case Fb:case Bb:v=XP;break;case Ub:v=fR;break;case"scroll":v=KP;break;case"wheel":v=mR;break;case"copy":case"cut":case"paste":v=eR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Wy}var g=(t&4)!==0,y=!g&&e==="scroll",x=g?m!==null?m+"Capture":null:m;g=[];for(var p=d,w;p!==null;){w=p;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,x!==null&&(_=uc(p,x),_!=null&&g.push(vc(p,_,w)))),y)break;p=p.return}0<g.length&&(m=new v(m,j,null,s,u),f.push({event:m,listeners:g}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",m&&s!==up&&(j=s.relatedTarget||s.fromElement)&&(di(j)||j[Vr]))break e;if((v||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,v?(j=s.relatedTarget||s.toElement,v=d,j=j?di(j):null,j!==null&&(y=Oi(j),j!==y||j.tag!==5&&j.tag!==6)&&(j=null)):(v=null,j=d),v!==j)){if(g=zy,_="onMouseLeave",x="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(g=Wy,_="onPointerLeave",x="onPointerEnter",p="pointer"),y=v==null?m:oo(v),w=j==null?m:oo(j),m=new g(_,p+"leave",v,s,u),m.target=y,m.relatedTarget=w,_=null,di(u)===d&&(g=new g(x,p+"enter",j,s,u),g.target=w,g.relatedTarget=y,_=g),y=_,v&&j)t:{for(g=v,x=j,p=0,w=g;w;w=Vi(w))p++;for(w=0,_=x;_;_=Vi(_))w++;for(;0<p-w;)g=Vi(g),p--;for(;0<w-p;)x=Vi(x),w--;for(;p--;){if(g===x||x!==null&&g===x.alternate)break t;g=Vi(g),x=Vi(x)}g=null}else g=null;v!==null&&tw(f,m,v,g,!1),j!==null&&y!==null&&tw(f,y,j,g,!0)}}e:{if(m=d?oo(d):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var b=jR;else if(Ky(m))if($b)b=NR;else{b=bR;var T=_R}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(b=SR);if(b&&(b=b(e,d))){Ab(f,b,s,u);break e}T&&T(e,m,d),e==="focusout"&&(T=m._wrapperState)&&T.controlled&&m.type==="number"&&ip(m,"number",m.value)}switch(T=d?oo(d):window,e){case"focusin":(Ky(T)||T.contentEditable==="true")&&(ao=T,vp=d,ql=null);break;case"focusout":ql=vp=ao=null;break;case"mousedown":yp=!0;break;case"contextmenu":case"mouseup":case"dragend":yp=!1,Xy(f,s,u);break;case"selectionchange":if(TR)break;case"keydown":case"keyup":Xy(f,s,u)}var N;if(vx)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else ro?Pb(e,s)&&(E="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(E="onCompositionStart");E&&(kb&&s.locale!=="ko"&&(ro||E!=="onCompositionStart"?E==="onCompositionEnd"&&ro&&(N=Tb()):(wa=u,px="value"in wa?wa.value:wa.textContent,ro=!0)),T=Ru(d,E),0<T.length&&(E=new Vy(E,e,null,s,u),f.push({event:E,listeners:T}),N?E.data=N:(N=Rb(s),N!==null&&(E.data=N)))),(N=gR?xR(e,s):vR(e,s))&&(d=Ru(d,"onBeforeInput"),0<d.length&&(u=new Vy("onBeforeInput","beforeinput",null,s,u),f.push({event:u,listeners:d}),u.data=N))}Vb(f,t)})}function vc(e,t,s){return{instance:e,listener:t,currentTarget:s}}function Ru(e,t){for(var s=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=uc(e,s),i!=null&&n.unshift(vc(e,i,a)),i=uc(e,t),i!=null&&n.push(vc(e,i,a))),e=e.return}return n}function Vi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function tw(e,t,s,n,a){for(var i=t._reactName,o=[];s!==null&&s!==n;){var l=s,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,a?(c=uc(s,i),c!=null&&o.unshift(vc(s,c,l))):a||(c=uc(s,i),c!=null&&o.push(vc(s,c,l)))),s=s.return}o.length!==0&&e.push({event:t,listeners:o})}var AR=/\r\n?/g,$R=/\u0000|\uFFFD/g;function sw(e){return(typeof e=="string"?e:""+e).replace(AR,`
`).replace($R,"")}function Rd(e,t,s){if(t=sw(t),sw(e)!==t&&s)throw Error(le(425))}function Au(){}var wp=null,jp=null;function _p(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var bp=typeof setTimeout=="function"?setTimeout:void 0,DR=typeof clearTimeout=="function"?clearTimeout:void 0,nw=typeof Promise=="function"?Promise:void 0,MR=typeof queueMicrotask=="function"?queueMicrotask:typeof nw<"u"?function(e){return nw.resolve(null).then(e).catch(LR)}:bp;function LR(e){setTimeout(function(){throw e})}function Jh(e,t){var s=t,n=0;do{var a=s.nextSibling;if(e.removeChild(s),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(n===0){e.removeChild(a),mc(t);return}n--}else s!=="$"&&s!=="$?"&&s!=="$!"||n++;s=a}while(s);mc(t)}function Ea(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function rw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var rl=Math.random().toString(36).slice(2),xr="__reactFiber$"+rl,yc="__reactProps$"+rl,Vr="__reactContainer$"+rl,Sp="__reactEvents$"+rl,IR="__reactListeners$"+rl,OR="__reactHandles$"+rl;function di(e){var t=e[xr];if(t)return t;for(var s=e.parentNode;s;){if(t=s[Vr]||s[xr]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=rw(e);e!==null;){if(s=e[xr])return s;e=rw(e)}return t}e=s,s=e.parentNode}return null}function Jc(e){return e=e[xr]||e[Vr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function oo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(le(33))}function Rf(e){return e[yc]||null}var Np=[],lo=-1;function Va(e){return{current:e}}function Rt(e){0>lo||(e.current=Np[lo],Np[lo]=null,lo--)}function bt(e,t){lo++,Np[lo]=e.current,e.current=t}var La={},Fs=Va(La),ln=Va(!1),Ci=La;function Bo(e,t){var s=e.type.contextTypes;if(!s)return La;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in s)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function cn(e){return e=e.childContextTypes,e!=null}function $u(){Rt(ln),Rt(Fs)}function aw(e,t,s){if(Fs.current!==La)throw Error(le(168));bt(Fs,t),bt(ln,s)}function Hb(e,t,s){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return s;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(le(108,_P(e)||"Unknown",a));return Vt({},s,n)}function Du(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||La,Ci=Fs.current,bt(Fs,e),bt(ln,ln.current),!0}function iw(e,t,s){var n=e.stateNode;if(!n)throw Error(le(169));s?(e=Hb(e,t,Ci),n.__reactInternalMemoizedMergedChildContext=e,Rt(ln),Rt(Fs),bt(Fs,e)):Rt(ln),bt(ln,s)}var Mr=null,Af=!1,Xh=!1;function qb(e){Mr===null?Mr=[e]:Mr.push(e)}function FR(e){Af=!0,qb(e)}function Wa(){if(!Xh&&Mr!==null){Xh=!0;var e=0,t=mt;try{var s=Mr;for(mt=1;e<s.length;e++){var n=s[e];do n=n(!0);while(n!==null)}Mr=null,Af=!1}catch(a){throw Mr!==null&&(Mr=Mr.slice(e+1)),xb(ux,Wa),a}finally{mt=t,Xh=!1}}return null}var co=[],uo=0,Mu=null,Lu=0,Rn=[],An=0,Ei=null,Or=1,Fr="";function ai(e,t){co[uo++]=Lu,co[uo++]=Mu,Mu=e,Lu=t}function Kb(e,t,s){Rn[An++]=Or,Rn[An++]=Fr,Rn[An++]=Ei,Ei=e;var n=Or;e=Fr;var a=32-Zn(n)-1;n&=~(1<<a),s+=1;var i=32-Zn(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Or=1<<32-Zn(t)+a|s<<a|n,Fr=i+e}else Or=1<<i|s<<a|n,Fr=e}function wx(e){e.return!==null&&(ai(e,1),Kb(e,1,0))}function jx(e){for(;e===Mu;)Mu=co[--uo],co[uo]=null,Lu=co[--uo],co[uo]=null;for(;e===Ei;)Ei=Rn[--An],Rn[An]=null,Fr=Rn[--An],Rn[An]=null,Or=Rn[--An],Rn[An]=null}var gn=null,pn=null,It=!1,Jn=null;function Gb(e,t){var s=Dn(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function ow(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,gn=e,pn=Ea(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,gn=e,pn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=Ei!==null?{id:Or,overflow:Fr}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=Dn(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,gn=e,pn=null,!0):!1;default:return!1}}function Cp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ep(e){if(It){var t=pn;if(t){var s=t;if(!ow(e,t)){if(Cp(e))throw Error(le(418));t=Ea(s.nextSibling);var n=gn;t&&ow(e,t)?Gb(n,s):(e.flags=e.flags&-4097|2,It=!1,gn=e)}}else{if(Cp(e))throw Error(le(418));e.flags=e.flags&-4097|2,It=!1,gn=e}}}function lw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;gn=e}function Ad(e){if(e!==gn)return!1;if(!It)return lw(e),It=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!_p(e.type,e.memoizedProps)),t&&(t=pn)){if(Cp(e))throw Yb(),Error(le(418));for(;t;)Gb(e,t),t=Ea(t.nextSibling)}if(lw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(le(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){pn=Ea(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}pn=null}}else pn=gn?Ea(e.stateNode.nextSibling):null;return!0}function Yb(){for(var e=pn;e;)e=Ea(e.nextSibling)}function Uo(){pn=gn=null,It=!1}function _x(e){Jn===null?Jn=[e]:Jn.push(e)}var BR=Zr.ReactCurrentBatchConfig;function Cl(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(le(309));var n=s.stateNode}if(!n)throw Error(le(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(le(284));if(!s._owner)throw Error(le(290,e))}return e}function $d(e,t){throw e=Object.prototype.toString.call(t),Error(le(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function cw(e){var t=e._init;return t(e._payload)}function Qb(e){function t(x,p){if(e){var w=x.deletions;w===null?(x.deletions=[p],x.flags|=16):w.push(p)}}function s(x,p){if(!e)return null;for(;p!==null;)t(x,p),p=p.sibling;return null}function n(x,p){for(x=new Map;p!==null;)p.key!==null?x.set(p.key,p):x.set(p.index,p),p=p.sibling;return x}function a(x,p){return x=Ra(x,p),x.index=0,x.sibling=null,x}function i(x,p,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<p?(x.flags|=2,p):w):(x.flags|=2,p)):(x.flags|=1048576,p)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,p,w,_){return p===null||p.tag!==6?(p=am(w,x.mode,_),p.return=x,p):(p=a(p,w),p.return=x,p)}function c(x,p,w,_){var b=w.type;return b===no?u(x,p,w.props.children,_,w.key):p!==null&&(p.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===la&&cw(b)===p.type)?(_=a(p,w.props),_.ref=Cl(x,p,w),_.return=x,_):(_=uu(w.type,w.key,w.props,null,x.mode,_),_.ref=Cl(x,p,w),_.return=x,_)}function d(x,p,w,_){return p===null||p.tag!==4||p.stateNode.containerInfo!==w.containerInfo||p.stateNode.implementation!==w.implementation?(p=im(w,x.mode,_),p.return=x,p):(p=a(p,w.children||[]),p.return=x,p)}function u(x,p,w,_,b){return p===null||p.tag!==7?(p=_i(w,x.mode,_,b),p.return=x,p):(p=a(p,w),p.return=x,p)}function f(x,p,w){if(typeof p=="string"&&p!==""||typeof p=="number")return p=am(""+p,x.mode,w),p.return=x,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case _d:return w=uu(p.type,p.key,p.props,null,x.mode,w),w.ref=Cl(x,null,p),w.return=x,w;case so:return p=im(p,x.mode,w),p.return=x,p;case la:var _=p._init;return f(x,_(p._payload),w)}if(Ml(p)||jl(p))return p=_i(p,x.mode,w,null),p.return=x,p;$d(x,p)}return null}function m(x,p,w,_){var b=p!==null?p.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return b!==null?null:l(x,p,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case _d:return w.key===b?c(x,p,w,_):null;case so:return w.key===b?d(x,p,w,_):null;case la:return b=w._init,m(x,p,b(w._payload),_)}if(Ml(w)||jl(w))return b!==null?null:u(x,p,w,_,null);$d(x,w)}return null}function v(x,p,w,_,b){if(typeof _=="string"&&_!==""||typeof _=="number")return x=x.get(w)||null,l(p,x,""+_,b);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case _d:return x=x.get(_.key===null?w:_.key)||null,c(p,x,_,b);case so:return x=x.get(_.key===null?w:_.key)||null,d(p,x,_,b);case la:var T=_._init;return v(x,p,w,T(_._payload),b)}if(Ml(_)||jl(_))return x=x.get(w)||null,u(p,x,_,b,null);$d(p,_)}return null}function j(x,p,w,_){for(var b=null,T=null,N=p,E=p=0,R=null;N!==null&&E<w.length;E++){N.index>E?(R=N,N=null):R=N.sibling;var $=m(x,N,w[E],_);if($===null){N===null&&(N=R);break}e&&N&&$.alternate===null&&t(x,N),p=i($,p,E),T===null?b=$:T.sibling=$,T=$,N=R}if(E===w.length)return s(x,N),It&&ai(x,E),b;if(N===null){for(;E<w.length;E++)N=f(x,w[E],_),N!==null&&(p=i(N,p,E),T===null?b=N:T.sibling=N,T=N);return It&&ai(x,E),b}for(N=n(x,N);E<w.length;E++)R=v(N,x,E,w[E],_),R!==null&&(e&&R.alternate!==null&&N.delete(R.key===null?E:R.key),p=i(R,p,E),T===null?b=R:T.sibling=R,T=R);return e&&N.forEach(function(F){return t(x,F)}),It&&ai(x,E),b}function g(x,p,w,_){var b=jl(w);if(typeof b!="function")throw Error(le(150));if(w=b.call(w),w==null)throw Error(le(151));for(var T=b=null,N=p,E=p=0,R=null,$=w.next();N!==null&&!$.done;E++,$=w.next()){N.index>E?(R=N,N=null):R=N.sibling;var F=m(x,N,$.value,_);if(F===null){N===null&&(N=R);break}e&&N&&F.alternate===null&&t(x,N),p=i(F,p,E),T===null?b=F:T.sibling=F,T=F,N=R}if($.done)return s(x,N),It&&ai(x,E),b;if(N===null){for(;!$.done;E++,$=w.next())$=f(x,$.value,_),$!==null&&(p=i($,p,E),T===null?b=$:T.sibling=$,T=$);return It&&ai(x,E),b}for(N=n(x,N);!$.done;E++,$=w.next())$=v(N,x,E,$.value,_),$!==null&&(e&&$.alternate!==null&&N.delete($.key===null?E:$.key),p=i($,p,E),T===null?b=$:T.sibling=$,T=$);return e&&N.forEach(function(W){return t(x,W)}),It&&ai(x,E),b}function y(x,p,w,_){if(typeof w=="object"&&w!==null&&w.type===no&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case _d:e:{for(var b=w.key,T=p;T!==null;){if(T.key===b){if(b=w.type,b===no){if(T.tag===7){s(x,T.sibling),p=a(T,w.props.children),p.return=x,x=p;break e}}else if(T.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===la&&cw(b)===T.type){s(x,T.sibling),p=a(T,w.props),p.ref=Cl(x,T,w),p.return=x,x=p;break e}s(x,T);break}else t(x,T);T=T.sibling}w.type===no?(p=_i(w.props.children,x.mode,_,w.key),p.return=x,x=p):(_=uu(w.type,w.key,w.props,null,x.mode,_),_.ref=Cl(x,p,w),_.return=x,x=_)}return o(x);case so:e:{for(T=w.key;p!==null;){if(p.key===T)if(p.tag===4&&p.stateNode.containerInfo===w.containerInfo&&p.stateNode.implementation===w.implementation){s(x,p.sibling),p=a(p,w.children||[]),p.return=x,x=p;break e}else{s(x,p);break}else t(x,p);p=p.sibling}p=im(w,x.mode,_),p.return=x,x=p}return o(x);case la:return T=w._init,y(x,p,T(w._payload),_)}if(Ml(w))return j(x,p,w,_);if(jl(w))return g(x,p,w,_);$d(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,p!==null&&p.tag===6?(s(x,p.sibling),p=a(p,w),p.return=x,x=p):(s(x,p),p=am(w,x.mode,_),p.return=x,x=p),o(x)):s(x,p)}return y}var zo=Qb(!0),Jb=Qb(!1),Iu=Va(null),Ou=null,fo=null,bx=null;function Sx(){bx=fo=Ou=null}function Nx(e){var t=Iu.current;Rt(Iu),e._currentValue=t}function Tp(e,t,s){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===s)break;e=e.return}}function So(e,t){Ou=e,bx=fo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(an=!0),e.firstContext=null)}function Fn(e){var t=e._currentValue;if(bx!==e)if(e={context:e,memoizedValue:t,next:null},fo===null){if(Ou===null)throw Error(le(308));fo=e,Ou.dependencies={lanes:0,firstContext:e}}else fo=fo.next=e;return t}var ui=null;function Cx(e){ui===null?ui=[e]:ui.push(e)}function Xb(e,t,s,n){var a=t.interleaved;return a===null?(s.next=s,Cx(t)):(s.next=a.next,a.next=s),t.interleaved=s,Wr(e,n)}function Wr(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var ca=!1;function Ex(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zb(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Br(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ta(e,t,s){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,tt&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Wr(e,s)}return a=n.interleaved,a===null?(t.next=t,Cx(n)):(t.next=a.next,a.next=t),n.interleaved=t,Wr(e,s)}function au(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,fx(e,s)}}function dw(e,t){var s=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,s===n)){var a=null,i=null;if(s=s.firstBaseUpdate,s!==null){do{var o={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};i===null?a=i=o:i=i.next=o,s=s.next}while(s!==null);i===null?a=i=t:i=i.next=t}else a=i=t;s={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function Fu(e,t,s,n){var a=e.updateQueue;ca=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,u=d=c=null,l=i;do{var m=l.lane,v=l.eventTime;if((n&m)===m){u!==null&&(u=u.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var j=e,g=l;switch(m=t,v=s,g.tag){case 1:if(j=g.payload,typeof j=="function"){f=j.call(v,f,m);break e}f=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=g.payload,m=typeof j=="function"?j.call(v,f,m):j,m==null)break e;f=Vt({},f,m);break e;case 2:ca=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=a.effects,m===null?a.effects=[l]:m.push(l))}else v={eventTime:v,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=v,c=f):u=u.next=v,o|=m;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;m=l,l=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);if(u===null&&(c=f),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);ki|=o,e.lanes=o,e.memoizedState=f}}function uw(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=s,typeof a!="function")throw Error(le(191,a));a.call(n)}}}var Xc={},jr=Va(Xc),wc=Va(Xc),jc=Va(Xc);function fi(e){if(e===Xc)throw Error(le(174));return e}function Tx(e,t){switch(bt(jc,t),bt(wc,e),bt(jr,Xc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:lp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=lp(t,e)}Rt(jr),bt(jr,t)}function Vo(){Rt(jr),Rt(wc),Rt(jc)}function eS(e){fi(jc.current);var t=fi(jr.current),s=lp(t,e.type);t!==s&&(bt(wc,e),bt(jr,s))}function kx(e){wc.current===e&&(Rt(jr),Rt(wc))}var Ft=Va(0);function Bu(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Zh=[];function Px(){for(var e=0;e<Zh.length;e++)Zh[e]._workInProgressVersionPrimary=null;Zh.length=0}var iu=Zr.ReactCurrentDispatcher,em=Zr.ReactCurrentBatchConfig,Ti=0,zt=null,is=null,hs=null,Uu=!1,Kl=!1,_c=0,UR=0;function $s(){throw Error(le(321))}function Rx(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!tr(e[s],t[s]))return!1;return!0}function Ax(e,t,s,n,a,i){if(Ti=i,zt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,iu.current=e===null||e.memoizedState===null?HR:qR,e=s(n,a),Kl){i=0;do{if(Kl=!1,_c=0,25<=i)throw Error(le(301));i+=1,hs=is=null,t.updateQueue=null,iu.current=KR,e=s(n,a)}while(Kl)}if(iu.current=zu,t=is!==null&&is.next!==null,Ti=0,hs=is=zt=null,Uu=!1,t)throw Error(le(300));return e}function $x(){var e=_c!==0;return _c=0,e}function fr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hs===null?zt.memoizedState=hs=e:hs=hs.next=e,hs}function Bn(){if(is===null){var e=zt.alternate;e=e!==null?e.memoizedState:null}else e=is.next;var t=hs===null?zt.memoizedState:hs.next;if(t!==null)hs=t,is=e;else{if(e===null)throw Error(le(310));is=e,e={memoizedState:is.memoizedState,baseState:is.baseState,baseQueue:is.baseQueue,queue:is.queue,next:null},hs===null?zt.memoizedState=hs=e:hs=hs.next=e}return hs}function bc(e,t){return typeof t=="function"?t(e):t}function tm(e){var t=Bn(),s=t.queue;if(s===null)throw Error(le(311));s.lastRenderedReducer=e;var n=is,a=n.baseQueue,i=s.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,s.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((Ti&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var f={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,zt.lanes|=u,ki|=u}d=d.next}while(d!==null&&d!==i);c===null?o=n:c.next=l,tr(n,t.memoizedState)||(an=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,s.lastRenderedState=n}if(e=s.interleaved,e!==null){a=e;do i=a.lane,zt.lanes|=i,ki|=i,a=a.next;while(a!==e)}else a===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function sm(e){var t=Bn(),s=t.queue;if(s===null)throw Error(le(311));s.lastRenderedReducer=e;var n=s.dispatch,a=s.pending,i=t.memoizedState;if(a!==null){s.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);tr(i,t.memoizedState)||(an=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),s.lastRenderedState=i}return[i,n]}function tS(){}function sS(e,t){var s=zt,n=Bn(),a=t(),i=!tr(n.memoizedState,a);if(i&&(n.memoizedState=a,an=!0),n=n.queue,Dx(aS.bind(null,s,n,e),[e]),n.getSnapshot!==t||i||hs!==null&&hs.memoizedState.tag&1){if(s.flags|=2048,Sc(9,rS.bind(null,s,n,a,t),void 0,null),ps===null)throw Error(le(349));Ti&30||nS(s,t,a)}return a}function nS(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=zt.updateQueue,t===null?(t={lastEffect:null,stores:null},zt.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function rS(e,t,s,n){t.value=s,t.getSnapshot=n,iS(t)&&oS(e)}function aS(e,t,s){return s(function(){iS(t)&&oS(e)})}function iS(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!tr(e,s)}catch{return!0}}function oS(e){var t=Wr(e,1);t!==null&&er(t,e,1,-1)}function fw(e){var t=fr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bc,lastRenderedState:e},t.queue=e,e=e.dispatch=WR.bind(null,zt,e),[t.memoizedState,e]}function Sc(e,t,s,n){return e={tag:e,create:t,destroy:s,deps:n,next:null},t=zt.updateQueue,t===null?(t={lastEffect:null,stores:null},zt.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(n=s.next,s.next=e,e.next=n,t.lastEffect=e)),e}function lS(){return Bn().memoizedState}function ou(e,t,s,n){var a=fr();zt.flags|=e,a.memoizedState=Sc(1|t,s,void 0,n===void 0?null:n)}function $f(e,t,s,n){var a=Bn();n=n===void 0?null:n;var i=void 0;if(is!==null){var o=is.memoizedState;if(i=o.destroy,n!==null&&Rx(n,o.deps)){a.memoizedState=Sc(t,s,i,n);return}}zt.flags|=e,a.memoizedState=Sc(1|t,s,i,n)}function hw(e,t){return ou(8390656,8,e,t)}function Dx(e,t){return $f(2048,8,e,t)}function cS(e,t){return $f(4,2,e,t)}function dS(e,t){return $f(4,4,e,t)}function uS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fS(e,t,s){return s=s!=null?s.concat([e]):null,$f(4,4,uS.bind(null,t,e),s)}function Mx(){}function hS(e,t){var s=Bn();t=t===void 0?null:t;var n=s.memoizedState;return n!==null&&t!==null&&Rx(t,n[1])?n[0]:(s.memoizedState=[e,t],e)}function mS(e,t){var s=Bn();t=t===void 0?null:t;var n=s.memoizedState;return n!==null&&t!==null&&Rx(t,n[1])?n[0]:(e=e(),s.memoizedState=[e,t],e)}function pS(e,t,s){return Ti&21?(tr(s,t)||(s=wb(),zt.lanes|=s,ki|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,an=!0),e.memoizedState=s)}function zR(e,t){var s=mt;mt=s!==0&&4>s?s:4,e(!0);var n=em.transition;em.transition={};try{e(!1),t()}finally{mt=s,em.transition=n}}function gS(){return Bn().memoizedState}function VR(e,t,s){var n=Pa(e);if(s={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null},xS(e))vS(t,s);else if(s=Xb(e,t,s,n),s!==null){var a=Ys();er(s,e,n,a),yS(s,t,n)}}function WR(e,t,s){var n=Pa(e),a={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null};if(xS(e))vS(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,s);if(a.hasEagerState=!0,a.eagerState=l,tr(l,o)){var c=t.interleaved;c===null?(a.next=a,Cx(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}s=Xb(e,t,a,n),s!==null&&(a=Ys(),er(s,e,n,a),yS(s,t,n))}}function xS(e){var t=e.alternate;return e===zt||t!==null&&t===zt}function vS(e,t){Kl=Uu=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function yS(e,t,s){if(s&4194240){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,fx(e,s)}}var zu={readContext:Fn,useCallback:$s,useContext:$s,useEffect:$s,useImperativeHandle:$s,useInsertionEffect:$s,useLayoutEffect:$s,useMemo:$s,useReducer:$s,useRef:$s,useState:$s,useDebugValue:$s,useDeferredValue:$s,useTransition:$s,useMutableSource:$s,useSyncExternalStore:$s,useId:$s,unstable_isNewReconciler:!1},HR={readContext:Fn,useCallback:function(e,t){return fr().memoizedState=[e,t===void 0?null:t],e},useContext:Fn,useEffect:hw,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,ou(4194308,4,uS.bind(null,t,e),s)},useLayoutEffect:function(e,t){return ou(4194308,4,e,t)},useInsertionEffect:function(e,t){return ou(4,2,e,t)},useMemo:function(e,t){var s=fr();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var n=fr();return t=s!==void 0?s(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=VR.bind(null,zt,e),[n.memoizedState,e]},useRef:function(e){var t=fr();return e={current:e},t.memoizedState=e},useState:fw,useDebugValue:Mx,useDeferredValue:function(e){return fr().memoizedState=e},useTransition:function(){var e=fw(!1),t=e[0];return e=zR.bind(null,e[1]),fr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var n=zt,a=fr();if(It){if(s===void 0)throw Error(le(407));s=s()}else{if(s=t(),ps===null)throw Error(le(349));Ti&30||nS(n,t,s)}a.memoizedState=s;var i={value:s,getSnapshot:t};return a.queue=i,hw(aS.bind(null,n,i,e),[e]),n.flags|=2048,Sc(9,rS.bind(null,n,i,s,t),void 0,null),s},useId:function(){var e=fr(),t=ps.identifierPrefix;if(It){var s=Fr,n=Or;s=(n&~(1<<32-Zn(n)-1)).toString(32)+s,t=":"+t+"R"+s,s=_c++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=UR++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},qR={readContext:Fn,useCallback:hS,useContext:Fn,useEffect:Dx,useImperativeHandle:fS,useInsertionEffect:cS,useLayoutEffect:dS,useMemo:mS,useReducer:tm,useRef:lS,useState:function(){return tm(bc)},useDebugValue:Mx,useDeferredValue:function(e){var t=Bn();return pS(t,is.memoizedState,e)},useTransition:function(){var e=tm(bc)[0],t=Bn().memoizedState;return[e,t]},useMutableSource:tS,useSyncExternalStore:sS,useId:gS,unstable_isNewReconciler:!1},KR={readContext:Fn,useCallback:hS,useContext:Fn,useEffect:Dx,useImperativeHandle:fS,useInsertionEffect:cS,useLayoutEffect:dS,useMemo:mS,useReducer:sm,useRef:lS,useState:function(){return sm(bc)},useDebugValue:Mx,useDeferredValue:function(e){var t=Bn();return is===null?t.memoizedState=e:pS(t,is.memoizedState,e)},useTransition:function(){var e=sm(bc)[0],t=Bn().memoizedState;return[e,t]},useMutableSource:tS,useSyncExternalStore:sS,useId:gS,unstable_isNewReconciler:!1};function Hn(e,t){if(e&&e.defaultProps){t=Vt({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function kp(e,t,s,n){t=e.memoizedState,s=s(n,t),s=s==null?t:Vt({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Df={isMounted:function(e){return(e=e._reactInternals)?Oi(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var n=Ys(),a=Pa(e),i=Br(n,a);i.payload=t,s!=null&&(i.callback=s),t=Ta(e,i,a),t!==null&&(er(t,e,a,n),au(t,e,a))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var n=Ys(),a=Pa(e),i=Br(n,a);i.tag=1,i.payload=t,s!=null&&(i.callback=s),t=Ta(e,i,a),t!==null&&(er(t,e,a,n),au(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=Ys(),n=Pa(e),a=Br(s,n);a.tag=2,t!=null&&(a.callback=t),t=Ta(e,a,n),t!==null&&(er(t,e,n,s),au(t,e,n))}};function mw(e,t,s,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!gc(s,n)||!gc(a,i):!0}function wS(e,t,s){var n=!1,a=La,i=t.contextType;return typeof i=="object"&&i!==null?i=Fn(i):(a=cn(t)?Ci:Fs.current,n=t.contextTypes,i=(n=n!=null)?Bo(e,a):La),t=new t(s,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Df,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function pw(e,t,s,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,n),t.state!==e&&Df.enqueueReplaceState(t,t.state,null)}function Pp(e,t,s,n){var a=e.stateNode;a.props=s,a.state=e.memoizedState,a.refs={},Ex(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Fn(i):(i=cn(t)?Ci:Fs.current,a.context=Bo(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(kp(e,t,i,s),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Df.enqueueReplaceState(a,a.state,null),Fu(e,s,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Wo(e,t){try{var s="",n=t;do s+=jP(n),n=n.return;while(n);var a=s}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function nm(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function Rp(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var GR=typeof WeakMap=="function"?WeakMap:Map;function jS(e,t,s){s=Br(-1,s),s.tag=3,s.payload={element:null};var n=t.value;return s.callback=function(){Wu||(Wu=!0,Up=n),Rp(e,t)},s}function _S(e,t,s){s=Br(-1,s),s.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;s.payload=function(){return n(a)},s.callback=function(){Rp(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(s.callback=function(){Rp(e,t),typeof n!="function"&&(ka===null?ka=new Set([this]):ka.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),s}function gw(e,t,s){var n=e.pingCache;if(n===null){n=e.pingCache=new GR;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(s)||(a.add(s),e=lA.bind(null,e,t,s),t.then(e,e))}function xw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function vw(e,t,s,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=Br(-1,1),t.tag=2,Ta(s,t,1))),s.lanes|=1),e)}var YR=Zr.ReactCurrentOwner,an=!1;function Hs(e,t,s,n){t.child=e===null?Jb(t,null,s,n):zo(t,e.child,s,n)}function yw(e,t,s,n,a){s=s.render;var i=t.ref;return So(t,a),n=Ax(e,t,s,n,i,a),s=$x(),e!==null&&!an?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hr(e,t,a)):(It&&s&&wx(t),t.flags|=1,Hs(e,t,n,a),t.child)}function ww(e,t,s,n,a){if(e===null){var i=s.type;return typeof i=="function"&&!Vx(i)&&i.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=i,bS(e,t,i,n,a)):(e=uu(s.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(s=s.compare,s=s!==null?s:gc,s(o,n)&&e.ref===t.ref)return Hr(e,t,a)}return t.flags|=1,e=Ra(i,n),e.ref=t.ref,e.return=t,t.child=e}function bS(e,t,s,n,a){if(e!==null){var i=e.memoizedProps;if(gc(i,n)&&e.ref===t.ref)if(an=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(an=!0);else return t.lanes=e.lanes,Hr(e,t,a)}return Ap(e,t,s,n,a)}function SS(e,t,s){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},bt(mo,hn),hn|=s;else{if(!(s&1073741824))return e=i!==null?i.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,bt(mo,hn),hn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:s,bt(mo,hn),hn|=n}else i!==null?(n=i.baseLanes|s,t.memoizedState=null):n=s,bt(mo,hn),hn|=n;return Hs(e,t,a,s),t.child}function NS(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function Ap(e,t,s,n,a){var i=cn(s)?Ci:Fs.current;return i=Bo(t,i),So(t,a),s=Ax(e,t,s,n,i,a),n=$x(),e!==null&&!an?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hr(e,t,a)):(It&&n&&wx(t),t.flags|=1,Hs(e,t,s,a),t.child)}function jw(e,t,s,n,a){if(cn(s)){var i=!0;Du(t)}else i=!1;if(So(t,a),t.stateNode===null)lu(e,t),wS(t,s,n),Pp(t,s,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=s.contextType;typeof d=="object"&&d!==null?d=Fn(d):(d=cn(s)?Ci:Fs.current,d=Bo(t,d));var u=s.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&pw(t,o,n,d),ca=!1;var m=t.memoizedState;o.state=m,Fu(t,n,o,a),c=t.memoizedState,l!==n||m!==c||ln.current||ca?(typeof u=="function"&&(kp(t,s,u,n),c=t.memoizedState),(l=ca||mw(t,s,l,n,m,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Zb(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Hn(t.type,l),o.props=d,f=t.pendingProps,m=o.context,c=s.contextType,typeof c=="object"&&c!==null?c=Fn(c):(c=cn(s)?Ci:Fs.current,c=Bo(t,c));var v=s.getDerivedStateFromProps;(u=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==c)&&pw(t,o,n,c),ca=!1,m=t.memoizedState,o.state=m,Fu(t,n,o,a);var j=t.memoizedState;l!==f||m!==j||ln.current||ca?(typeof v=="function"&&(kp(t,s,v,n),j=t.memoizedState),(d=ca||mw(t,s,d,n,m,j,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,j,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,j,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=j),o.props=n,o.state=j,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return $p(e,t,s,n,i,a)}function $p(e,t,s,n,a,i){NS(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&iw(t,s,!1),Hr(e,t,i);n=t.stateNode,YR.current=t;var l=o&&typeof s.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=zo(t,e.child,null,i),t.child=zo(t,null,l,i)):Hs(e,t,l,i),t.memoizedState=n.state,a&&iw(t,s,!0),t.child}function CS(e){var t=e.stateNode;t.pendingContext?aw(e,t.pendingContext,t.pendingContext!==t.context):t.context&&aw(e,t.context,!1),Tx(e,t.containerInfo)}function _w(e,t,s,n,a){return Uo(),_x(a),t.flags|=256,Hs(e,t,s,n),t.child}var Dp={dehydrated:null,treeContext:null,retryLane:0};function Mp(e){return{baseLanes:e,cachePool:null,transitions:null}}function ES(e,t,s){var n=t.pendingProps,a=Ft.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),bt(Ft,a&1),e===null)return Ep(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=If(o,n,0,null),e=_i(e,n,s,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Mp(s),t.memoizedState=Dp,e):Lx(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return QR(e,t,o,n,l,a,s);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Ra(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Ra(l,i):(i=_i(i,o,s,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Mp(s):{baseLanes:o.baseLanes|s,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~s,t.memoizedState=Dp,n}return i=e.child,e=i.sibling,n=Ra(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=s),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n}function Lx(e,t){return t=If({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Dd(e,t,s,n){return n!==null&&_x(n),zo(t,e.child,null,s),e=Lx(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function QR(e,t,s,n,a,i,o){if(s)return t.flags&256?(t.flags&=-257,n=nm(Error(le(422))),Dd(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=If({mode:"visible",children:n.children},a,0,null),i=_i(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&zo(t,e.child,null,o),t.child.memoizedState=Mp(o),t.memoizedState=Dp,i);if(!(t.mode&1))return Dd(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(le(419)),n=nm(i,n,void 0),Dd(e,t,o,n)}if(l=(o&e.childLanes)!==0,an||l){if(n=ps,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Wr(e,a),er(n,e,a,-1))}return zx(),n=nm(Error(le(421))),Dd(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=cA.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,pn=Ea(a.nextSibling),gn=t,It=!0,Jn=null,e!==null&&(Rn[An++]=Or,Rn[An++]=Fr,Rn[An++]=Ei,Or=e.id,Fr=e.overflow,Ei=t),t=Lx(t,n.children),t.flags|=4096,t)}function bw(e,t,s){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Tp(e.return,t,s)}function rm(e,t,s,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=s,i.tailMode=a)}function TS(e,t,s){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(Hs(e,t,n.children,s),n=Ft.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&bw(e,s,t);else if(e.tag===19)bw(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(bt(Ft,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(s=t.child,a=null;s!==null;)e=s.alternate,e!==null&&Bu(e)===null&&(a=s),s=s.sibling;s=a,s===null?(a=t.child,t.child=null):(a=s.sibling,s.sibling=null),rm(t,!1,a,s,i);break;case"backwards":for(s=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Bu(e)===null){t.child=a;break}e=a.sibling,a.sibling=s,s=a,a=e}rm(t,!0,s,null,i);break;case"together":rm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function lu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hr(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),ki|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(le(153));if(t.child!==null){for(e=t.child,s=Ra(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=Ra(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function JR(e,t,s){switch(t.tag){case 3:CS(t),Uo();break;case 5:eS(t);break;case 1:cn(t.type)&&Du(t);break;case 4:Tx(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;bt(Iu,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(bt(Ft,Ft.current&1),t.flags|=128,null):s&t.child.childLanes?ES(e,t,s):(bt(Ft,Ft.current&1),e=Hr(e,t,s),e!==null?e.sibling:null);bt(Ft,Ft.current&1);break;case 19:if(n=(s&t.childLanes)!==0,e.flags&128){if(n)return TS(e,t,s);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),bt(Ft,Ft.current),n)break;return null;case 22:case 23:return t.lanes=0,SS(e,t,s)}return Hr(e,t,s)}var kS,Lp,PS,RS;kS=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Lp=function(){};PS=function(e,t,s,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,fi(jr.current);var i=null;switch(s){case"input":a=rp(e,a),n=rp(e,n),i=[];break;case"select":a=Vt({},a,{value:void 0}),n=Vt({},n,{value:void 0}),i=[];break;case"textarea":a=op(e,a),n=op(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Au)}cp(s,n);var o;s=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(s||(s={}),s[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(cc.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(l=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(s||(s={}),s[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(s||(s={}),s[o]=c[o])}else s||(i||(i=[]),i.push(d,s)),s=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(cc.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&kt("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}s&&(i=i||[]).push("style",s);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};RS=function(e,t,s,n){s!==n&&(t.flags|=4)};function El(e,t){if(!It)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ds(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,n=0;if(t)for(var a=e.child;a!==null;)s|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)s|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=s,t}function XR(e,t,s){var n=t.pendingProps;switch(jx(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ds(t),null;case 1:return cn(t.type)&&$u(),Ds(t),null;case 3:return n=t.stateNode,Vo(),Rt(ln),Rt(Fs),Px(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ad(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Jn!==null&&(Wp(Jn),Jn=null))),Lp(e,t),Ds(t),null;case 5:kx(t);var a=fi(jc.current);if(s=t.type,e!==null&&t.stateNode!=null)PS(e,t,s,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(le(166));return Ds(t),null}if(e=fi(jr.current),Ad(t)){n=t.stateNode,s=t.type;var i=t.memoizedProps;switch(n[xr]=t,n[yc]=i,e=(t.mode&1)!==0,s){case"dialog":kt("cancel",n),kt("close",n);break;case"iframe":case"object":case"embed":kt("load",n);break;case"video":case"audio":for(a=0;a<Il.length;a++)kt(Il[a],n);break;case"source":kt("error",n);break;case"img":case"image":case"link":kt("error",n),kt("load",n);break;case"details":kt("toggle",n);break;case"input":Ay(n,i),kt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},kt("invalid",n);break;case"textarea":Dy(n,i),kt("invalid",n)}cp(s,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Rd(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Rd(n.textContent,l,e),a=["children",""+l]):cc.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&kt("scroll",n)}switch(s){case"input":bd(n),$y(n,i,!0);break;case"textarea":bd(n),My(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Au)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ab(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(s,{is:n.is}):(e=o.createElement(s),s==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,s),e[xr]=t,e[yc]=n,kS(e,t,!1,!1),t.stateNode=e;e:{switch(o=dp(s,n),s){case"dialog":kt("cancel",e),kt("close",e),a=n;break;case"iframe":case"object":case"embed":kt("load",e),a=n;break;case"video":case"audio":for(a=0;a<Il.length;a++)kt(Il[a],e);a=n;break;case"source":kt("error",e),a=n;break;case"img":case"image":case"link":kt("error",e),kt("load",e),a=n;break;case"details":kt("toggle",e),a=n;break;case"input":Ay(e,n),a=rp(e,n),kt("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Vt({},n,{value:void 0}),kt("invalid",e);break;case"textarea":Dy(e,n),a=op(e,n),kt("invalid",e);break;default:a=n}cp(s,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?lb(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ib(e,c)):i==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&dc(e,c):typeof c=="number"&&dc(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(cc.hasOwnProperty(i)?c!=null&&i==="onScroll"&&kt("scroll",e):c!=null&&ix(e,i,c,o))}switch(s){case"input":bd(e),$y(e,n,!1);break;case"textarea":bd(e),My(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ma(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?wo(e,!!n.multiple,i,!1):n.defaultValue!=null&&wo(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Au)}switch(s){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ds(t),null;case 6:if(e&&t.stateNode!=null)RS(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(le(166));if(s=fi(jc.current),fi(jr.current),Ad(t)){if(n=t.stateNode,s=t.memoizedProps,n[xr]=t,(i=n.nodeValue!==s)&&(e=gn,e!==null))switch(e.tag){case 3:Rd(n.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Rd(n.nodeValue,s,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(s.nodeType===9?s:s.ownerDocument).createTextNode(n),n[xr]=t,t.stateNode=n}return Ds(t),null;case 13:if(Rt(Ft),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(It&&pn!==null&&t.mode&1&&!(t.flags&128))Yb(),Uo(),t.flags|=98560,i=!1;else if(i=Ad(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(le(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(le(317));i[xr]=t}else Uo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ds(t),i=!1}else Jn!==null&&(Wp(Jn),Jn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ft.current&1?ls===0&&(ls=3):zx())),t.updateQueue!==null&&(t.flags|=4),Ds(t),null);case 4:return Vo(),Lp(e,t),e===null&&xc(t.stateNode.containerInfo),Ds(t),null;case 10:return Nx(t.type._context),Ds(t),null;case 17:return cn(t.type)&&$u(),Ds(t),null;case 19:if(Rt(Ft),i=t.memoizedState,i===null)return Ds(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)El(i,!1);else{if(ls!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Bu(e),o!==null){for(t.flags|=128,El(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=s,s=t.child;s!==null;)i=s,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return bt(Ft,Ft.current&1|2),t.child}e=e.sibling}i.tail!==null&&Xt()>Ho&&(t.flags|=128,n=!0,El(i,!1),t.lanes=4194304)}else{if(!n)if(e=Bu(o),e!==null){if(t.flags|=128,n=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),El(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!It)return Ds(t),null}else 2*Xt()-i.renderingStartTime>Ho&&s!==1073741824&&(t.flags|=128,n=!0,El(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(s=i.last,s!==null?s.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Xt(),t.sibling=null,s=Ft.current,bt(Ft,n?s&1|2:s&1),t):(Ds(t),null);case 22:case 23:return Ux(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?hn&1073741824&&(Ds(t),t.subtreeFlags&6&&(t.flags|=8192)):Ds(t),null;case 24:return null;case 25:return null}throw Error(le(156,t.tag))}function ZR(e,t){switch(jx(t),t.tag){case 1:return cn(t.type)&&$u(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Vo(),Rt(ln),Rt(Fs),Px(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return kx(t),null;case 13:if(Rt(Ft),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(le(340));Uo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Rt(Ft),null;case 4:return Vo(),null;case 10:return Nx(t.type._context),null;case 22:case 23:return Ux(),null;case 24:return null;default:return null}}var Md=!1,Is=!1,eA=typeof WeakSet=="function"?WeakSet:Set,me=null;function ho(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(n){Kt(e,t,n)}else s.current=null}function Ip(e,t,s){try{s()}catch(n){Kt(e,t,n)}}var Sw=!1;function tA(e,t){if(wp=ku,e=Lb(),yx(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var n=s.getSelection&&s.getSelection();if(n&&n.rangeCount!==0){s=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{s.nodeType,i.nodeType}catch{s=null;break e}var o=0,l=-1,c=-1,d=0,u=0,f=e,m=null;t:for(;;){for(var v;f!==s||a!==0&&f.nodeType!==3||(l=o+a),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(v=f.firstChild)!==null;)m=f,f=v;for(;;){if(f===e)break t;if(m===s&&++d===a&&(l=o),m===i&&++u===n&&(c=o),(v=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=v}s=l===-1||c===-1?null:{start:l,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(jp={focusedElem:e,selectionRange:s},ku=!1,me=t;me!==null;)if(t=me,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,me=e;else for(;me!==null;){t=me;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var g=j.memoizedProps,y=j.memoizedState,x=t.stateNode,p=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:Hn(t.type,g),y);x.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(le(163))}}catch(_){Kt(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,me=e;break}me=t.return}return j=Sw,Sw=!1,j}function Gl(e,t,s){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Ip(t,s,i)}a=a.next}while(a!==n)}}function Mf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var n=s.create;s.destroy=n()}s=s.next}while(s!==t)}}function Op(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function AS(e){var t=e.alternate;t!==null&&(e.alternate=null,AS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[xr],delete t[yc],delete t[Sp],delete t[IR],delete t[OR])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function $S(e){return e.tag===5||e.tag===3||e.tag===4}function Nw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$S(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fp(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=Au));else if(n!==4&&(e=e.child,e!==null))for(Fp(e,t,s),e=e.sibling;e!==null;)Fp(e,t,s),e=e.sibling}function Bp(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Bp(e,t,s),e=e.sibling;e!==null;)Bp(e,t,s),e=e.sibling}var _s=null,Yn=!1;function ea(e,t,s){for(s=s.child;s!==null;)DS(e,t,s),s=s.sibling}function DS(e,t,s){if(wr&&typeof wr.onCommitFiberUnmount=="function")try{wr.onCommitFiberUnmount(Ef,s)}catch{}switch(s.tag){case 5:Is||ho(s,t);case 6:var n=_s,a=Yn;_s=null,ea(e,t,s),_s=n,Yn=a,_s!==null&&(Yn?(e=_s,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):_s.removeChild(s.stateNode));break;case 18:_s!==null&&(Yn?(e=_s,s=s.stateNode,e.nodeType===8?Jh(e.parentNode,s):e.nodeType===1&&Jh(e,s),mc(e)):Jh(_s,s.stateNode));break;case 4:n=_s,a=Yn,_s=s.stateNode.containerInfo,Yn=!0,ea(e,t,s),_s=n,Yn=a;break;case 0:case 11:case 14:case 15:if(!Is&&(n=s.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ip(s,t,o),a=a.next}while(a!==n)}ea(e,t,s);break;case 1:if(!Is&&(ho(s,t),n=s.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=s.memoizedProps,n.state=s.memoizedState,n.componentWillUnmount()}catch(l){Kt(s,t,l)}ea(e,t,s);break;case 21:ea(e,t,s);break;case 22:s.mode&1?(Is=(n=Is)||s.memoizedState!==null,ea(e,t,s),Is=n):ea(e,t,s);break;default:ea(e,t,s)}}function Cw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new eA),t.forEach(function(n){var a=dA.bind(null,e,n);s.has(n)||(s.add(n),n.then(a,a))})}}function Un(e,t){var s=t.deletions;if(s!==null)for(var n=0;n<s.length;n++){var a=s[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:_s=l.stateNode,Yn=!1;break e;case 3:_s=l.stateNode.containerInfo,Yn=!0;break e;case 4:_s=l.stateNode.containerInfo,Yn=!0;break e}l=l.return}if(_s===null)throw Error(le(160));DS(i,o,a),_s=null,Yn=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){Kt(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)MS(t,e),t=t.sibling}function MS(e,t){var s=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Un(t,e),ur(e),n&4){try{Gl(3,e,e.return),Mf(3,e)}catch(g){Kt(e,e.return,g)}try{Gl(5,e,e.return)}catch(g){Kt(e,e.return,g)}}break;case 1:Un(t,e),ur(e),n&512&&s!==null&&ho(s,s.return);break;case 5:if(Un(t,e),ur(e),n&512&&s!==null&&ho(s,s.return),e.flags&32){var a=e.stateNode;try{dc(a,"")}catch(g){Kt(e,e.return,g)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=s!==null?s.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&nb(a,i),dp(l,o);var d=dp(l,i);for(o=0;o<c.length;o+=2){var u=c[o],f=c[o+1];u==="style"?lb(a,f):u==="dangerouslySetInnerHTML"?ib(a,f):u==="children"?dc(a,f):ix(a,u,f,d)}switch(l){case"input":ap(a,i);break;case"textarea":rb(a,i);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?wo(a,!!i.multiple,v,!1):m!==!!i.multiple&&(i.defaultValue!=null?wo(a,!!i.multiple,i.defaultValue,!0):wo(a,!!i.multiple,i.multiple?[]:"",!1))}a[yc]=i}catch(g){Kt(e,e.return,g)}}break;case 6:if(Un(t,e),ur(e),n&4){if(e.stateNode===null)throw Error(le(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(g){Kt(e,e.return,g)}}break;case 3:if(Un(t,e),ur(e),n&4&&s!==null&&s.memoizedState.isDehydrated)try{mc(t.containerInfo)}catch(g){Kt(e,e.return,g)}break;case 4:Un(t,e),ur(e);break;case 13:Un(t,e),ur(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Fx=Xt())),n&4&&Cw(e);break;case 22:if(u=s!==null&&s.memoizedState!==null,e.mode&1?(Is=(d=Is)||u,Un(t,e),Is=d):Un(t,e),ur(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(me=e,u=e.child;u!==null;){for(f=me=u;me!==null;){switch(m=me,v=m.child,m.tag){case 0:case 11:case 14:case 15:Gl(4,m,m.return);break;case 1:ho(m,m.return);var j=m.stateNode;if(typeof j.componentWillUnmount=="function"){n=m,s=m.return;try{t=n,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(g){Kt(n,s,g)}}break;case 5:ho(m,m.return);break;case 22:if(m.memoizedState!==null){Tw(f);continue}}v!==null?(v.return=m,me=v):Tw(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{a=f.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=ob("display",o))}catch(g){Kt(e,e.return,g)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(g){Kt(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Un(t,e),ur(e),n&4&&Cw(e);break;case 21:break;default:Un(t,e),ur(e)}}function ur(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if($S(s)){var n=s;break e}s=s.return}throw Error(le(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(dc(a,""),n.flags&=-33);var i=Nw(e);Bp(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Nw(e);Fp(e,l,o);break;default:throw Error(le(161))}}catch(c){Kt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function sA(e,t,s){me=e,LS(e)}function LS(e,t,s){for(var n=(e.mode&1)!==0;me!==null;){var a=me,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Md;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Is;l=Md;var d=Is;if(Md=o,(Is=c)&&!d)for(me=a;me!==null;)o=me,c=o.child,o.tag===22&&o.memoizedState!==null?kw(a):c!==null?(c.return=o,me=c):kw(a);for(;i!==null;)me=i,LS(i),i=i.sibling;me=a,Md=l,Is=d}Ew(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,me=i):Ew(e)}}function Ew(e){for(;me!==null;){var t=me;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Is||Mf(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Is)if(s===null)n.componentDidMount();else{var a=t.elementType===t.type?s.memoizedProps:Hn(t.type,s.memoizedProps);n.componentDidUpdate(a,s.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&uw(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}uw(t,o,s)}break;case 5:var l=t.stateNode;if(s===null&&t.flags&4){s=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&mc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(le(163))}Is||t.flags&512&&Op(t)}catch(m){Kt(t,t.return,m)}}if(t===e){me=null;break}if(s=t.sibling,s!==null){s.return=t.return,me=s;break}me=t.return}}function Tw(e){for(;me!==null;){var t=me;if(t===e){me=null;break}var s=t.sibling;if(s!==null){s.return=t.return,me=s;break}me=t.return}}function kw(e){for(;me!==null;){var t=me;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{Mf(4,t)}catch(c){Kt(t,s,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Kt(t,a,c)}}var i=t.return;try{Op(t)}catch(c){Kt(t,i,c)}break;case 5:var o=t.return;try{Op(t)}catch(c){Kt(t,o,c)}}}catch(c){Kt(t,t.return,c)}if(t===e){me=null;break}var l=t.sibling;if(l!==null){l.return=t.return,me=l;break}me=t.return}}var nA=Math.ceil,Vu=Zr.ReactCurrentDispatcher,Ix=Zr.ReactCurrentOwner,Ln=Zr.ReactCurrentBatchConfig,tt=0,ps=null,rs=null,Es=0,hn=0,mo=Va(0),ls=0,Nc=null,ki=0,Lf=0,Ox=0,Yl=null,sn=null,Fx=0,Ho=1/0,$r=null,Wu=!1,Up=null,ka=null,Ld=!1,ja=null,Hu=0,Ql=0,zp=null,cu=-1,du=0;function Ys(){return tt&6?Xt():cu!==-1?cu:cu=Xt()}function Pa(e){return e.mode&1?tt&2&&Es!==0?Es&-Es:BR.transition!==null?(du===0&&(du=wb()),du):(e=mt,e!==0||(e=window.event,e=e===void 0?16:Eb(e.type)),e):1}function er(e,t,s,n){if(50<Ql)throw Ql=0,zp=null,Error(le(185));Yc(e,s,n),(!(tt&2)||e!==ps)&&(e===ps&&(!(tt&2)&&(Lf|=s),ls===4&&ha(e,Es)),dn(e,n),s===1&&tt===0&&!(t.mode&1)&&(Ho=Xt()+500,Af&&Wa()))}function dn(e,t){var s=e.callbackNode;BP(e,t);var n=Tu(e,e===ps?Es:0);if(n===0)s!==null&&Oy(s),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(s!=null&&Oy(s),t===1)e.tag===0?FR(Pw.bind(null,e)):qb(Pw.bind(null,e)),MR(function(){!(tt&6)&&Wa()}),s=null;else{switch(jb(n)){case 1:s=ux;break;case 4:s=vb;break;case 16:s=Eu;break;case 536870912:s=yb;break;default:s=Eu}s=WS(s,IS.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function IS(e,t){if(cu=-1,du=0,tt&6)throw Error(le(327));var s=e.callbackNode;if(No()&&e.callbackNode!==s)return null;var n=Tu(e,e===ps?Es:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=qu(e,n);else{t=n;var a=tt;tt|=2;var i=FS();(ps!==e||Es!==t)&&($r=null,Ho=Xt()+500,ji(e,t));do try{iA();break}catch(l){OS(e,l)}while(!0);Sx(),Vu.current=i,tt=a,rs!==null?t=0:(ps=null,Es=0,t=ls)}if(t!==0){if(t===2&&(a=pp(e),a!==0&&(n=a,t=Vp(e,a))),t===1)throw s=Nc,ji(e,0),ha(e,n),dn(e,Xt()),s;if(t===6)ha(e,n);else{if(a=e.current.alternate,!(n&30)&&!rA(a)&&(t=qu(e,n),t===2&&(i=pp(e),i!==0&&(n=i,t=Vp(e,i))),t===1))throw s=Nc,ji(e,0),ha(e,n),dn(e,Xt()),s;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(le(345));case 2:ii(e,sn,$r);break;case 3:if(ha(e,n),(n&130023424)===n&&(t=Fx+500-Xt(),10<t)){if(Tu(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Ys(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=bp(ii.bind(null,e,sn,$r),t);break}ii(e,sn,$r);break;case 4:if(ha(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-Zn(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=Xt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*nA(n/1960))-n,10<n){e.timeoutHandle=bp(ii.bind(null,e,sn,$r),n);break}ii(e,sn,$r);break;case 5:ii(e,sn,$r);break;default:throw Error(le(329))}}}return dn(e,Xt()),e.callbackNode===s?IS.bind(null,e):null}function Vp(e,t){var s=Yl;return e.current.memoizedState.isDehydrated&&(ji(e,t).flags|=256),e=qu(e,t),e!==2&&(t=sn,sn=s,t!==null&&Wp(t)),e}function Wp(e){sn===null?sn=e:sn.push.apply(sn,e)}function rA(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var n=0;n<s.length;n++){var a=s[n],i=a.getSnapshot;a=a.value;try{if(!tr(i(),a))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ha(e,t){for(t&=~Ox,t&=~Lf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-Zn(t),n=1<<s;e[s]=-1,t&=~n}}function Pw(e){if(tt&6)throw Error(le(327));No();var t=Tu(e,0);if(!(t&1))return dn(e,Xt()),null;var s=qu(e,t);if(e.tag!==0&&s===2){var n=pp(e);n!==0&&(t=n,s=Vp(e,n))}if(s===1)throw s=Nc,ji(e,0),ha(e,t),dn(e,Xt()),s;if(s===6)throw Error(le(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ii(e,sn,$r),dn(e,Xt()),null}function Bx(e,t){var s=tt;tt|=1;try{return e(t)}finally{tt=s,tt===0&&(Ho=Xt()+500,Af&&Wa())}}function Pi(e){ja!==null&&ja.tag===0&&!(tt&6)&&No();var t=tt;tt|=1;var s=Ln.transition,n=mt;try{if(Ln.transition=null,mt=1,e)return e()}finally{mt=n,Ln.transition=s,tt=t,!(tt&6)&&Wa()}}function Ux(){hn=mo.current,Rt(mo)}function ji(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,DR(s)),rs!==null)for(s=rs.return;s!==null;){var n=s;switch(jx(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&$u();break;case 3:Vo(),Rt(ln),Rt(Fs),Px();break;case 5:kx(n);break;case 4:Vo();break;case 13:Rt(Ft);break;case 19:Rt(Ft);break;case 10:Nx(n.type._context);break;case 22:case 23:Ux()}s=s.return}if(ps=e,rs=e=Ra(e.current,null),Es=hn=t,ls=0,Nc=null,Ox=Lf=ki=0,sn=Yl=null,ui!==null){for(t=0;t<ui.length;t++)if(s=ui[t],n=s.interleaved,n!==null){s.interleaved=null;var a=n.next,i=s.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}s.pending=n}ui=null}return e}function OS(e,t){do{var s=rs;try{if(Sx(),iu.current=zu,Uu){for(var n=zt.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Uu=!1}if(Ti=0,hs=is=zt=null,Kl=!1,_c=0,Ix.current=null,s===null||s.return===null){ls=1,Nc=t,rs=null;break}e:{var i=e,o=s.return,l=s,c=t;if(t=Es,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var v=xw(o);if(v!==null){v.flags&=-257,vw(v,o,l,i,t),v.mode&1&&gw(i,d,t),t=v,c=d;var j=t.updateQueue;if(j===null){var g=new Set;g.add(c),t.updateQueue=g}else j.add(c);break e}else{if(!(t&1)){gw(i,d,t),zx();break e}c=Error(le(426))}}else if(It&&l.mode&1){var y=xw(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),vw(y,o,l,i,t),_x(Wo(c,l));break e}}i=c=Wo(c,l),ls!==4&&(ls=2),Yl===null?Yl=[i]:Yl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=jS(i,c,t);dw(i,x);break e;case 1:l=c;var p=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ka===null||!ka.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=_S(i,l,t);dw(i,_);break e}}i=i.return}while(i!==null)}US(s)}catch(b){t=b,rs===s&&s!==null&&(rs=s=s.return);continue}break}while(!0)}function FS(){var e=Vu.current;return Vu.current=zu,e===null?zu:e}function zx(){(ls===0||ls===3||ls===2)&&(ls=4),ps===null||!(ki&268435455)&&!(Lf&268435455)||ha(ps,Es)}function qu(e,t){var s=tt;tt|=2;var n=FS();(ps!==e||Es!==t)&&($r=null,ji(e,t));do try{aA();break}catch(a){OS(e,a)}while(!0);if(Sx(),tt=s,Vu.current=n,rs!==null)throw Error(le(261));return ps=null,Es=0,ls}function aA(){for(;rs!==null;)BS(rs)}function iA(){for(;rs!==null&&!RP();)BS(rs)}function BS(e){var t=VS(e.alternate,e,hn);e.memoizedProps=e.pendingProps,t===null?US(e):rs=t,Ix.current=null}function US(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=ZR(s,t),s!==null){s.flags&=32767,rs=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ls=6,rs=null;return}}else if(s=XR(s,t,hn),s!==null){rs=s;return}if(t=t.sibling,t!==null){rs=t;return}rs=t=e}while(t!==null);ls===0&&(ls=5)}function ii(e,t,s){var n=mt,a=Ln.transition;try{Ln.transition=null,mt=1,oA(e,t,s,n)}finally{Ln.transition=a,mt=n}return null}function oA(e,t,s,n){do No();while(ja!==null);if(tt&6)throw Error(le(327));s=e.finishedWork;var a=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(le(177));e.callbackNode=null,e.callbackPriority=0;var i=s.lanes|s.childLanes;if(UP(e,i),e===ps&&(rs=ps=null,Es=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Ld||(Ld=!0,WS(Eu,function(){return No(),null})),i=(s.flags&15990)!==0,s.subtreeFlags&15990||i){i=Ln.transition,Ln.transition=null;var o=mt;mt=1;var l=tt;tt|=4,Ix.current=null,tA(e,s),MS(s,e),ER(jp),ku=!!wp,jp=wp=null,e.current=s,sA(s),AP(),tt=l,mt=o,Ln.transition=i}else e.current=s;if(Ld&&(Ld=!1,ja=e,Hu=a),i=e.pendingLanes,i===0&&(ka=null),MP(s.stateNode),dn(e,Xt()),t!==null)for(n=e.onRecoverableError,s=0;s<t.length;s++)a=t[s],n(a.value,{componentStack:a.stack,digest:a.digest});if(Wu)throw Wu=!1,e=Up,Up=null,e;return Hu&1&&e.tag!==0&&No(),i=e.pendingLanes,i&1?e===zp?Ql++:(Ql=0,zp=e):Ql=0,Wa(),null}function No(){if(ja!==null){var e=jb(Hu),t=Ln.transition,s=mt;try{if(Ln.transition=null,mt=16>e?16:e,ja===null)var n=!1;else{if(e=ja,ja=null,Hu=0,tt&6)throw Error(le(331));var a=tt;for(tt|=4,me=e.current;me!==null;){var i=me,o=i.child;if(me.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(me=d;me!==null;){var u=me;switch(u.tag){case 0:case 11:case 15:Gl(8,u,i)}var f=u.child;if(f!==null)f.return=u,me=f;else for(;me!==null;){u=me;var m=u.sibling,v=u.return;if(AS(u),u===d){me=null;break}if(m!==null){m.return=v,me=m;break}me=v}}}var j=i.alternate;if(j!==null){var g=j.child;if(g!==null){j.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}me=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,me=o;else e:for(;me!==null;){if(i=me,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Gl(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,me=x;break e}me=i.return}}var p=e.current;for(me=p;me!==null;){o=me;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,me=w;else e:for(o=p;me!==null;){if(l=me,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Mf(9,l)}}catch(b){Kt(l,l.return,b)}if(l===o){me=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,me=_;break e}me=l.return}}if(tt=a,Wa(),wr&&typeof wr.onPostCommitFiberRoot=="function")try{wr.onPostCommitFiberRoot(Ef,e)}catch{}n=!0}return n}finally{mt=s,Ln.transition=t}}return!1}function Rw(e,t,s){t=Wo(s,t),t=jS(e,t,1),e=Ta(e,t,1),t=Ys(),e!==null&&(Yc(e,1,t),dn(e,t))}function Kt(e,t,s){if(e.tag===3)Rw(e,e,s);else for(;t!==null;){if(t.tag===3){Rw(t,e,s);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ka===null||!ka.has(n))){e=Wo(s,e),e=_S(t,e,1),t=Ta(t,e,1),e=Ys(),t!==null&&(Yc(t,1,e),dn(t,e));break}}t=t.return}}function lA(e,t,s){var n=e.pingCache;n!==null&&n.delete(t),t=Ys(),e.pingedLanes|=e.suspendedLanes&s,ps===e&&(Es&s)===s&&(ls===4||ls===3&&(Es&130023424)===Es&&500>Xt()-Fx?ji(e,0):Ox|=s),dn(e,t)}function zS(e,t){t===0&&(e.mode&1?(t=Cd,Cd<<=1,!(Cd&130023424)&&(Cd=4194304)):t=1);var s=Ys();e=Wr(e,t),e!==null&&(Yc(e,t,s),dn(e,s))}function cA(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),zS(e,s)}function dA(e,t){var s=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(s=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(le(314))}n!==null&&n.delete(t),zS(e,s)}var VS;VS=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||ln.current)an=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return an=!1,JR(e,t,s);an=!!(e.flags&131072)}else an=!1,It&&t.flags&1048576&&Kb(t,Lu,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;lu(e,t),e=t.pendingProps;var a=Bo(t,Fs.current);So(t,s),a=Ax(null,t,n,e,a,s);var i=$x();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,cn(n)?(i=!0,Du(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Ex(t),a.updater=Df,t.stateNode=a,a._reactInternals=t,Pp(t,n,e,s),t=$p(null,t,n,!0,i,s)):(t.tag=0,It&&i&&wx(t),Hs(null,t,a,s),t=t.child),t;case 16:n=t.elementType;e:{switch(lu(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=fA(n),e=Hn(n,e),a){case 0:t=Ap(null,t,n,e,s);break e;case 1:t=jw(null,t,n,e,s);break e;case 11:t=yw(null,t,n,e,s);break e;case 14:t=ww(null,t,n,Hn(n.type,e),s);break e}throw Error(le(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Hn(n,a),Ap(e,t,n,a,s);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Hn(n,a),jw(e,t,n,a,s);case 3:e:{if(CS(t),e===null)throw Error(le(387));n=t.pendingProps,i=t.memoizedState,a=i.element,Zb(e,t),Fu(t,n,null,s);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Wo(Error(le(423)),t),t=_w(e,t,n,s,a);break e}else if(n!==a){a=Wo(Error(le(424)),t),t=_w(e,t,n,s,a);break e}else for(pn=Ea(t.stateNode.containerInfo.firstChild),gn=t,It=!0,Jn=null,s=Jb(t,null,n,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Uo(),n===a){t=Hr(e,t,s);break e}Hs(e,t,n,s)}t=t.child}return t;case 5:return eS(t),e===null&&Ep(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,_p(n,a)?o=null:i!==null&&_p(n,i)&&(t.flags|=32),NS(e,t),Hs(e,t,o,s),t.child;case 6:return e===null&&Ep(t),null;case 13:return ES(e,t,s);case 4:return Tx(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=zo(t,null,n,s):Hs(e,t,n,s),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Hn(n,a),yw(e,t,n,a,s);case 7:return Hs(e,t,t.pendingProps,s),t.child;case 8:return Hs(e,t,t.pendingProps.children,s),t.child;case 12:return Hs(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,bt(Iu,n._currentValue),n._currentValue=o,i!==null)if(tr(i.value,o)){if(i.children===a.children&&!ln.current){t=Hr(e,t,s);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Br(-1,s&-s),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=s,c=i.alternate,c!==null&&(c.lanes|=s),Tp(i.return,s,t),l.lanes|=s;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(le(341));o.lanes|=s,l=o.alternate,l!==null&&(l.lanes|=s),Tp(o,s,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Hs(e,t,a.children,s),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,So(t,s),a=Fn(a),n=n(a),t.flags|=1,Hs(e,t,n,s),t.child;case 14:return n=t.type,a=Hn(n,t.pendingProps),a=Hn(n.type,a),ww(e,t,n,a,s);case 15:return bS(e,t,t.type,t.pendingProps,s);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Hn(n,a),lu(e,t),t.tag=1,cn(n)?(e=!0,Du(t)):e=!1,So(t,s),wS(t,n,a),Pp(t,n,a,s),$p(null,t,n,!0,e,s);case 19:return TS(e,t,s);case 22:return SS(e,t,s)}throw Error(le(156,t.tag))};function WS(e,t){return xb(e,t)}function uA(e,t,s,n){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(e,t,s,n){return new uA(e,t,s,n)}function Vx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fA(e){if(typeof e=="function")return Vx(e)?1:0;if(e!=null){if(e=e.$$typeof,e===lx)return 11;if(e===cx)return 14}return 2}function Ra(e,t){var s=e.alternate;return s===null?(s=Dn(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function uu(e,t,s,n,a,i){var o=2;if(n=e,typeof e=="function")Vx(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case no:return _i(s.children,a,i,t);case ox:o=8,a|=8;break;case ep:return e=Dn(12,s,t,a|2),e.elementType=ep,e.lanes=i,e;case tp:return e=Dn(13,s,t,a),e.elementType=tp,e.lanes=i,e;case sp:return e=Dn(19,s,t,a),e.elementType=sp,e.lanes=i,e;case eb:return If(s,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case X_:o=10;break e;case Z_:o=9;break e;case lx:o=11;break e;case cx:o=14;break e;case la:o=16,n=null;break e}throw Error(le(130,e==null?e:typeof e,""))}return t=Dn(o,s,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function _i(e,t,s,n){return e=Dn(7,e,n,t),e.lanes=s,e}function If(e,t,s,n){return e=Dn(22,e,n,t),e.elementType=eb,e.lanes=s,e.stateNode={isHidden:!1},e}function am(e,t,s){return e=Dn(6,e,null,t),e.lanes=s,e}function im(e,t,s){return t=Dn(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function hA(e,t,s,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bh(0),this.expirationTimes=Bh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bh(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Wx(e,t,s,n,a,i,o,l,c){return e=new hA(e,t,s,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Dn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ex(i),e}function mA(e,t,s){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:so,key:n==null?null:""+n,children:e,containerInfo:t,implementation:s}}function HS(e){if(!e)return La;e=e._reactInternals;e:{if(Oi(e)!==e||e.tag!==1)throw Error(le(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(cn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(le(171))}if(e.tag===1){var s=e.type;if(cn(s))return Hb(e,s,t)}return t}function qS(e,t,s,n,a,i,o,l,c){return e=Wx(s,n,!0,e,a,i,o,l,c),e.context=HS(null),s=e.current,n=Ys(),a=Pa(s),i=Br(n,a),i.callback=t??null,Ta(s,i,a),e.current.lanes=a,Yc(e,a,n),dn(e,n),e}function Of(e,t,s,n){var a=t.current,i=Ys(),o=Pa(a);return s=HS(s),t.context===null?t.context=s:t.pendingContext=s,t=Br(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ta(a,t,o),e!==null&&(er(e,a,o,i),au(e,a,o)),o}function Ku(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Aw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function Hx(e,t){Aw(e,t),(e=e.alternate)&&Aw(e,t)}function pA(){return null}var KS=typeof reportError=="function"?reportError:function(e){console.error(e)};function qx(e){this._internalRoot=e}Ff.prototype.render=qx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(le(409));Of(e,t,null,null)};Ff.prototype.unmount=qx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Pi(function(){Of(null,e,null,null)}),t[Vr]=null}};function Ff(e){this._internalRoot=e}Ff.prototype.unstable_scheduleHydration=function(e){if(e){var t=Sb();e={blockedOn:null,target:e,priority:t};for(var s=0;s<fa.length&&t!==0&&t<fa[s].priority;s++);fa.splice(s,0,e),s===0&&Cb(e)}};function Kx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Bf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function $w(){}function gA(e,t,s,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var d=Ku(o);i.call(d)}}var o=qS(t,n,e,0,null,!1,!1,"",$w);return e._reactRootContainer=o,e[Vr]=o.current,xc(e.nodeType===8?e.parentNode:e),Pi(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var d=Ku(c);l.call(d)}}var c=Wx(e,0,!1,null,null,!1,!1,"",$w);return e._reactRootContainer=c,e[Vr]=c.current,xc(e.nodeType===8?e.parentNode:e),Pi(function(){Of(t,c,s,n)}),c}function Uf(e,t,s,n,a){var i=s._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=Ku(o);l.call(c)}}Of(t,o,e,a)}else o=gA(s,t,e,a,n);return Ku(o)}_b=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=Ll(t.pendingLanes);s!==0&&(fx(t,s|1),dn(t,Xt()),!(tt&6)&&(Ho=Xt()+500,Wa()))}break;case 13:Pi(function(){var n=Wr(e,1);if(n!==null){var a=Ys();er(n,e,1,a)}}),Hx(e,1)}};hx=function(e){if(e.tag===13){var t=Wr(e,134217728);if(t!==null){var s=Ys();er(t,e,134217728,s)}Hx(e,134217728)}};bb=function(e){if(e.tag===13){var t=Pa(e),s=Wr(e,t);if(s!==null){var n=Ys();er(s,e,t,n)}Hx(e,t)}};Sb=function(){return mt};Nb=function(e,t){var s=mt;try{return mt=e,t()}finally{mt=s}};fp=function(e,t,s){switch(t){case"input":if(ap(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var n=s[t];if(n!==e&&n.form===e.form){var a=Rf(n);if(!a)throw Error(le(90));sb(n),ap(n,a)}}}break;case"textarea":rb(e,s);break;case"select":t=s.value,t!=null&&wo(e,!!s.multiple,t,!1)}};ub=Bx;fb=Pi;var xA={usingClientEntryPoint:!1,Events:[Jc,oo,Rf,cb,db,Bx]},Tl={findFiberByHostInstance:di,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vA={bundleType:Tl.bundleType,version:Tl.version,rendererPackageName:Tl.rendererPackageName,rendererConfig:Tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=pb(e),e===null?null:e.stateNode},findFiberByHostInstance:Tl.findFiberByHostInstance||pA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Id=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Id.isDisabled&&Id.supportsFiber)try{Ef=Id.inject(vA),wr=Id}catch{}}wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xA;wn.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kx(t))throw Error(le(200));return mA(e,t,null,s)};wn.createRoot=function(e,t){if(!Kx(e))throw Error(le(299));var s=!1,n="",a=KS;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Wx(e,1,!1,null,null,s,!1,n,a),e[Vr]=t.current,xc(e.nodeType===8?e.parentNode:e),new qx(t)};wn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(le(188)):(e=Object.keys(e).join(","),Error(le(268,e)));return e=pb(t),e=e===null?null:e.stateNode,e};wn.flushSync=function(e){return Pi(e)};wn.hydrate=function(e,t,s){if(!Bf(t))throw Error(le(200));return Uf(null,e,t,!0,s)};wn.hydrateRoot=function(e,t,s){if(!Kx(e))throw Error(le(405));var n=s!=null&&s.hydratedSources||null,a=!1,i="",o=KS;if(s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(i=s.identifierPrefix),s.onRecoverableError!==void 0&&(o=s.onRecoverableError)),t=qS(t,null,e,1,s??null,a,!1,i,o),e[Vr]=t.current,xc(e),n)for(e=0;e<n.length;e++)s=n[e],a=s._getVersion,a=a(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,a]:t.mutableSourceEagerHydrationData.push(s,a);return new Ff(t)};wn.render=function(e,t,s){if(!Bf(t))throw Error(le(200));return Uf(null,e,t,!1,s)};wn.unmountComponentAtNode=function(e){if(!Bf(e))throw Error(le(40));return e._reactRootContainer?(Pi(function(){Uf(null,null,e,!1,function(){e._reactRootContainer=null,e[Vr]=null})}),!0):!1};wn.unstable_batchedUpdates=Bx;wn.unstable_renderSubtreeIntoContainer=function(e,t,s,n){if(!Bf(s))throw Error(le(200));if(e==null||e._reactInternals===void 0)throw Error(le(38));return Uf(e,t,s,!1,n)};wn.version="18.3.1-next-f1338f8080-20240426";function GS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(GS)}catch(e){console.error(e)}}GS(),G_.exports=wn;var Mn=G_.exports;const yA=L_(Mn);var YS,Dw=Mn;YS=Dw.createRoot,Dw.hydrateRoot;const wA=1,jA=1e6;let om=0;function _A(){return om=(om+1)%Number.MAX_SAFE_INTEGER,om.toString()}const lm=new Map,Mw=e=>{if(lm.has(e))return;const t=setTimeout(()=>{lm.delete(e),Jl({type:"REMOVE_TOAST",toastId:e})},jA);lm.set(e,t)},bA=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,wA)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=t;return s?Mw(s):e.toasts.forEach(n=>{Mw(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===s||s===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==t.toastId)}}},fu=[];let hu={toasts:[]};function Jl(e){hu=bA(hu,e),fu.forEach(t=>{t(hu)})}function _a({...e}){const t=_A(),s=a=>Jl({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>Jl({type:"DISMISS_TOAST",toastId:t});return Jl({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:s}}function gs(){const[e,t]=h.useState(hu);return h.useEffect(()=>(fu.push(t),()=>{const s=fu.indexOf(t);s>-1&&fu.splice(s,1)}),[e]),{...e,toast:_a,dismiss:s=>Jl({type:"DISMISS_TOAST",toastId:s})}}function _e(e,t,{checkForDefaultPrevented:s=!0}={}){return function(a){if(e==null||e(a),s===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function Lw(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function QS(...e){return t=>{let s=!1;const n=e.map(a=>{const i=Lw(a,t);return!s&&typeof i=="function"&&(s=!0),i});if(s)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():Lw(e[a],null)}}}}function ot(...e){return h.useCallback(QS(...e),e)}function SA(e,t){const s=h.createContext(t),n=i=>{const{children:o,...l}=i,c=h.useMemo(()=>l,Object.values(l));return r.jsx(s.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(i){const o=h.useContext(s);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function _n(e,t=[]){let s=[];function n(i,o){const l=h.createContext(o),c=s.length;s=[...s,o];const d=f=>{var x;const{scope:m,children:v,...j}=f,g=((x=m==null?void 0:m[e])==null?void 0:x[c])||l,y=h.useMemo(()=>j,Object.values(j));return r.jsx(g.Provider,{value:y,children:v})};d.displayName=i+"Provider";function u(f,m){var g;const v=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,j=h.useContext(v);if(j)return j;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=s.map(o=>h.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,NA(a,...t)]}function NA(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return s.scopeName=t.scopeName,s}function qo(e){const t=EA(e),s=h.forwardRef((n,a)=>{const{children:i,...o}=n,l=h.Children.toArray(i),c=l.find(kA);if(c){const d=c.props.children,u=l.map(f=>f===c?h.Children.count(d)>1?h.Children.only(null):h.isValidElement(d)?d.props.children:null:f);return r.jsx(t,{...o,ref:a,children:h.isValidElement(d)?h.cloneElement(d,void 0,u):null})}return r.jsx(t,{...o,ref:a,children:i})});return s.displayName=`${e}.Slot`,s}var CA=qo("Slot");function EA(e){const t=h.forwardRef((s,n)=>{const{children:a,...i}=s;if(h.isValidElement(a)){const o=RA(a),l=PA(i,a.props);return a.type!==h.Fragment&&(l.ref=n?QS(n,o):o),h.cloneElement(a,l)}return h.Children.count(a)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var JS=Symbol("radix.slottable");function TA(e){const t=({children:s})=>r.jsx(r.Fragment,{children:s});return t.displayName=`${e}.Slottable`,t.__radixId=JS,t}function kA(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===JS}function PA(e,t){const s={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?s[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(s[n]=a):n==="style"?s[n]={...a,...i}:n==="className"&&(s[n]=[a,i].filter(Boolean).join(" "))}return{...e,...s}}function RA(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function Gx(e){const t=e+"CollectionProvider",[s,n]=_n(t),[a,i]=s(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:y,children:x}=g,p=He.useRef(null),w=He.useRef(new Map).current;return r.jsx(a,{scope:y,itemMap:w,collectionRef:p,children:x})};o.displayName=t;const l=e+"CollectionSlot",c=qo(l),d=He.forwardRef((g,y)=>{const{scope:x,children:p}=g,w=i(l,x),_=ot(y,w.collectionRef);return r.jsx(c,{ref:_,children:p})});d.displayName=l;const u=e+"CollectionItemSlot",f="data-radix-collection-item",m=qo(u),v=He.forwardRef((g,y)=>{const{scope:x,children:p,...w}=g,_=He.useRef(null),b=ot(y,_),T=i(u,x);return He.useEffect(()=>(T.itemMap.set(_,{ref:_,...w}),()=>void T.itemMap.delete(_))),r.jsx(m,{[f]:"",ref:b,children:p})});v.displayName=u;function j(g){const y=i(e+"CollectionConsumer",g);return He.useCallback(()=>{const p=y.collectionRef.current;if(!p)return[];const w=Array.from(p.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((T,N)=>w.indexOf(T.ref.current)-w.indexOf(N.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:d,ItemSlot:v},j,n]}var AA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],be=AA.reduce((e,t)=>{const s=qo(`Primitive.${t}`),n=h.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function XS(e,t){e&&Mn.flushSync(()=>e.dispatchEvent(t))}function yn(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...s)=>{var n;return(n=t.current)==null?void 0:n.call(t,...s)},[])}function $A(e,t=globalThis==null?void 0:globalThis.document){const s=yn(e);h.useEffect(()=>{const n=a=>{a.key==="Escape"&&s(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[s,t])}var DA="DismissableLayer",Hp="dismissableLayer.update",MA="dismissableLayer.pointerDownOutside",LA="dismissableLayer.focusOutside",Iw,ZS=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Zc=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=h.useContext(ZS),[u,f]=h.useState(null),m=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=h.useState({}),j=ot(t,N=>f(N)),g=Array.from(d.layers),[y]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),x=g.indexOf(y),p=u?g.indexOf(u):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,_=p>=x,b=OA(N=>{const E=N.target,R=[...d.branches].some($=>$.contains(E));!_||R||(a==null||a(N),o==null||o(N),N.defaultPrevented||l==null||l())},m),T=FA(N=>{const E=N.target;[...d.branches].some($=>$.contains(E))||(i==null||i(N),o==null||o(N),N.defaultPrevented||l==null||l())},m);return $A(N=>{p===d.layers.size-1&&(n==null||n(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},m),h.useEffect(()=>{if(u)return s&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Iw=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),Ow(),()=>{s&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Iw)}},[u,m,s,d]),h.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),Ow())},[u,d]),h.useEffect(()=>{const N=()=>v({});return document.addEventListener(Hp,N),()=>document.removeEventListener(Hp,N)},[]),r.jsx(be.div,{...c,ref:j,style:{pointerEvents:w?_?"auto":"none":void 0,...e.style},onFocusCapture:_e(e.onFocusCapture,T.onFocusCapture),onBlurCapture:_e(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:_e(e.onPointerDownCapture,b.onPointerDownCapture)})});Zc.displayName=DA;var IA="DismissableLayerBranch",eN=h.forwardRef((e,t)=>{const s=h.useContext(ZS),n=h.useRef(null),a=ot(t,n);return h.useEffect(()=>{const i=n.current;if(i)return s.branches.add(i),()=>{s.branches.delete(i)}},[s.branches]),r.jsx(be.div,{...e,ref:a})});eN.displayName=IA;function OA(e,t=globalThis==null?void 0:globalThis.document){const s=yn(e),n=h.useRef(!1),a=h.useRef(()=>{});return h.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){tN(MA,s,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,s]),{onPointerDownCapture:()=>n.current=!0}}function FA(e,t=globalThis==null?void 0:globalThis.document){const s=yn(e),n=h.useRef(!1);return h.useEffect(()=>{const a=i=>{i.target&&!n.current&&tN(LA,s,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,s]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Ow(){const e=new CustomEvent(Hp);document.dispatchEvent(e)}function tN(e,t,s,{discrete:n}){const a=s.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});t&&a.addEventListener(e,t,{once:!0}),n?XS(a,i):a.dispatchEvent(i)}var BA=Zc,UA=eN,es=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},zA="Portal",ed=h.forwardRef((e,t)=>{var l;const{container:s,...n}=e,[a,i]=h.useState(!1);es(()=>i(!0),[]);const o=s||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?yA.createPortal(r.jsx(be.div,{...n,ref:t}),o):null});ed.displayName=zA;function VA(e,t){return h.useReducer((s,n)=>t[s][n]??s,e)}var Er=e=>{const{present:t,children:s}=e,n=WA(t),a=typeof s=="function"?s({present:n.isPresent}):h.Children.only(s),i=ot(n.ref,HA(a));return typeof s=="function"||n.isPresent?h.cloneElement(a,{ref:i}):null};Er.displayName="Presence";function WA(e){const[t,s]=h.useState(),n=h.useRef(null),a=h.useRef(e),i=h.useRef("none"),o=e?"mounted":"unmounted",[l,c]=VA(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const d=Od(n.current);i.current=l==="mounted"?d:"none"},[l]),es(()=>{const d=n.current,u=a.current;if(u!==e){const m=i.current,v=Od(d);e?c("MOUNT"):v==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&m!==v?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),es(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,f=v=>{const g=Od(n.current).includes(v.animationName);if(v.target===t&&g&&(c("ANIMATION_END"),!a.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},m=v=>{v.target===t&&(i.current=Od(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(d=>{n.current=d?getComputedStyle(d):null,s(d)},[])}}function Od(e){return(e==null?void 0:e.animationName)||"none"}function HA(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var qA=nx[" useInsertionEffect ".trim().toString()]||es;function qr({prop:e,defaultProp:t,onChange:s=()=>{},caller:n}){const[a,i,o]=KA({defaultProp:t,onChange:s}),l=e!==void 0,c=l?e:a;{const u=h.useRef(e!==void 0);h.useEffect(()=>{const f=u.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,n])}const d=h.useCallback(u=>{var f;if(l){const m=GA(u)?u(e):u;m!==e&&((f=o.current)==null||f.call(o,m))}else i(u)},[l,e,i,o]);return[c,d]}function KA({defaultProp:e,onChange:t}){const[s,n]=h.useState(e),a=h.useRef(s),i=h.useRef(t);return qA(()=>{i.current=t},[t]),h.useEffect(()=>{var o;a.current!==s&&((o=i.current)==null||o.call(i,s),a.current=s)},[s,a]),[s,n,i]}function GA(e){return typeof e=="function"}var sN=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),YA="VisuallyHidden",zf=h.forwardRef((e,t)=>r.jsx(be.span,{...e,ref:t,style:{...sN,...e.style}}));zf.displayName=YA;var QA=zf,Yx="ToastProvider",[Qx,JA,XA]=Gx("Toast"),[nN,hH]=_n("Toast",[XA]),[ZA,Vf]=nN(Yx),rN=e=>{const{__scopeToast:t,label:s="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=h.useState(null),[d,u]=h.useState(0),f=h.useRef(!1),m=h.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${Yx}\`. Expected non-empty \`string\`.`),r.jsx(Qx.Provider,{scope:t,children:r.jsx(ZA,{scope:t,label:s,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:h.useCallback(()=>u(v=>v+1),[]),onToastRemove:h.useCallback(()=>u(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};rN.displayName=Yx;var aN="ToastViewport",e$=["F8"],qp="toast.viewportPause",Kp="toast.viewportResume",iN=h.forwardRef((e,t)=>{const{__scopeToast:s,hotkey:n=e$,label:a="Notifications ({hotkey})",...i}=e,o=Vf(aN,s),l=JA(s),c=h.useRef(null),d=h.useRef(null),u=h.useRef(null),f=h.useRef(null),m=ot(t,f,o.onViewportChange),v=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=o.toastCount>0;h.useEffect(()=>{const y=x=>{var w;n.length!==0&&n.every(_=>x[_]||x.code===_)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[n]),h.useEffect(()=>{const y=c.current,x=f.current;if(j&&y&&x){const p=()=>{if(!o.isClosePausedRef.current){const T=new CustomEvent(qp);x.dispatchEvent(T),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const T=new CustomEvent(Kp);x.dispatchEvent(T),o.isClosePausedRef.current=!1}},_=T=>{!y.contains(T.relatedTarget)&&w()},b=()=>{y.contains(document.activeElement)||w()};return y.addEventListener("focusin",p),y.addEventListener("focusout",_),y.addEventListener("pointermove",p),y.addEventListener("pointerleave",b),window.addEventListener("blur",p),window.addEventListener("focus",w),()=>{y.removeEventListener("focusin",p),y.removeEventListener("focusout",_),y.removeEventListener("pointermove",p),y.removeEventListener("pointerleave",b),window.removeEventListener("blur",p),window.removeEventListener("focus",w)}}},[j,o.isClosePausedRef]);const g=h.useCallback(({tabbingDirection:y})=>{const p=l().map(w=>{const _=w.ref.current,b=[_,...h$(_)];return y==="forwards"?b:b.reverse()});return(y==="forwards"?p.reverse():p).flat()},[l]);return h.useEffect(()=>{const y=f.current;if(y){const x=p=>{var b,T,N;const w=p.altKey||p.ctrlKey||p.metaKey;if(p.key==="Tab"&&!w){const E=document.activeElement,R=p.shiftKey;if(p.target===y&&R){(b=d.current)==null||b.focus();return}const W=g({tabbingDirection:R?"backwards":"forwards"}),I=W.findIndex(L=>L===E);cm(W.slice(I+1))?p.preventDefault():R?(T=d.current)==null||T.focus():(N=u.current)==null||N.focus()}};return y.addEventListener("keydown",x),()=>y.removeEventListener("keydown",x)}},[l,g]),r.jsxs(UA,{ref:c,role:"region","aria-label":a.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:j?void 0:"none"},children:[j&&r.jsx(Gp,{ref:d,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"forwards"});cm(y)}}),r.jsx(Qx.Slot,{scope:s,children:r.jsx(be.ol,{tabIndex:-1,...i,ref:m})}),j&&r.jsx(Gp,{ref:u,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"backwards"});cm(y)}})]})});iN.displayName=aN;var oN="ToastFocusProxy",Gp=h.forwardRef((e,t)=>{const{__scopeToast:s,onFocusFromOutsideViewport:n,...a}=e,i=Vf(oN,s);return r.jsx(zf,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&n()}})});Gp.displayName=oN;var td="Toast",t$="toast.swipeStart",s$="toast.swipeMove",n$="toast.swipeCancel",r$="toast.swipeEnd",lN=h.forwardRef((e,t)=>{const{forceMount:s,open:n,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=qr({prop:n,defaultProp:a??!0,onChange:i,caller:td});return r.jsx(Er,{present:s||l,children:r.jsx(o$,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:yn(e.onPause),onResume:yn(e.onResume),onSwipeStart:_e(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:_e(e.onSwipeMove,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:_e(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:_e(e.onSwipeEnd,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});lN.displayName=td;var[a$,i$]=nN(td,{onClose(){}}),o$=h.forwardRef((e,t)=>{const{__scopeToast:s,type:n="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:v,...j}=e,g=Vf(td,s),[y,x]=h.useState(null),p=ot(t,L=>x(L)),w=h.useRef(null),_=h.useRef(null),b=a||g.duration,T=h.useRef(0),N=h.useRef(b),E=h.useRef(0),{onToastAdd:R,onToastRemove:$}=g,F=yn(()=>{var H;(y==null?void 0:y.contains(document.activeElement))&&((H=g.viewport)==null||H.focus()),o()}),W=h.useCallback(L=>{!L||L===1/0||(window.clearTimeout(E.current),T.current=new Date().getTime(),E.current=window.setTimeout(F,L))},[F]);h.useEffect(()=>{const L=g.viewport;if(L){const H=()=>{W(N.current),d==null||d()},B=()=>{const V=new Date().getTime()-T.current;N.current=N.current-V,window.clearTimeout(E.current),c==null||c()};return L.addEventListener(qp,B),L.addEventListener(Kp,H),()=>{L.removeEventListener(qp,B),L.removeEventListener(Kp,H)}}},[g.viewport,b,c,d,W]),h.useEffect(()=>{i&&!g.isClosePausedRef.current&&W(b)},[i,b,g.isClosePausedRef,W]),h.useEffect(()=>(R(),()=>$()),[R,$]);const I=h.useMemo(()=>y?pN(y):null,[y]);return g.viewport?r.jsxs(r.Fragment,{children:[I&&r.jsx(l$,{__scopeToast:s,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:I}),r.jsx(a$,{scope:s,onClose:F,children:Mn.createPortal(r.jsx(Qx.ItemSlot,{scope:s,children:r.jsx(BA,{asChild:!0,onEscapeKeyDown:_e(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||F(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(be.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...j,ref:p,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:_e(e.onKeyDown,L=>{L.key==="Escape"&&(l==null||l(L.nativeEvent),L.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:_e(e.onPointerDown,L=>{L.button===0&&(w.current={x:L.clientX,y:L.clientY})}),onPointerMove:_e(e.onPointerMove,L=>{if(!w.current)return;const H=L.clientX-w.current.x,B=L.clientY-w.current.y,V=!!_.current,S=["left","right"].includes(g.swipeDirection),P=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,k=S?P(0,H):0,C=S?0:P(0,B),A=L.pointerType==="touch"?10:2,M={x:k,y:C},D={originalEvent:L,delta:M};V?(_.current=M,Fd(s$,f,D,{discrete:!1})):Fw(M,g.swipeDirection,A)?(_.current=M,Fd(t$,u,D,{discrete:!1}),L.target.setPointerCapture(L.pointerId)):(Math.abs(H)>A||Math.abs(B)>A)&&(w.current=null)}),onPointerUp:_e(e.onPointerUp,L=>{const H=_.current,B=L.target;if(B.hasPointerCapture(L.pointerId)&&B.releasePointerCapture(L.pointerId),_.current=null,w.current=null,H){const V=L.currentTarget,S={originalEvent:L,delta:H};Fw(H,g.swipeDirection,g.swipeThreshold)?Fd(r$,v,S,{discrete:!0}):Fd(n$,m,S,{discrete:!0}),V.addEventListener("click",P=>P.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),l$=e=>{const{__scopeToast:t,children:s,...n}=e,a=Vf(td,t),[i,o]=h.useState(!1),[l,c]=h.useState(!1);return u$(()=>o(!0)),h.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:r.jsx(ed,{asChild:!0,children:r.jsx(zf,{...n,children:i&&r.jsxs(r.Fragment,{children:[a.label," ",s]})})})},c$="ToastTitle",cN=h.forwardRef((e,t)=>{const{__scopeToast:s,...n}=e;return r.jsx(be.div,{...n,ref:t})});cN.displayName=c$;var d$="ToastDescription",dN=h.forwardRef((e,t)=>{const{__scopeToast:s,...n}=e;return r.jsx(be.div,{...n,ref:t})});dN.displayName=d$;var uN="ToastAction",fN=h.forwardRef((e,t)=>{const{altText:s,...n}=e;return s.trim()?r.jsx(mN,{altText:s,asChild:!0,children:r.jsx(Jx,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${uN}\`. Expected non-empty \`string\`.`),null)});fN.displayName=uN;var hN="ToastClose",Jx=h.forwardRef((e,t)=>{const{__scopeToast:s,...n}=e,a=i$(hN,s);return r.jsx(mN,{asChild:!0,children:r.jsx(be.button,{type:"button",...n,ref:t,onClick:_e(e.onClick,a.onClose)})})});Jx.displayName=hN;var mN=h.forwardRef((e,t)=>{const{__scopeToast:s,altText:n,...a}=e;return r.jsx(be.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function pN(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),f$(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...pN(n))}}),t}function Fd(e,t,s,{discrete:n}){const a=s.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:s});t&&a.addEventListener(e,t,{once:!0}),n?XS(a,i):a.dispatchEvent(i)}var Fw=(e,t,s=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>s:!i&&a>s};function u$(e=()=>{}){const t=yn(e);es(()=>{let s=0,n=0;return s=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(n)}},[t])}function f$(e){return e.nodeType===e.ELEMENT_NODE}function h$(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function cm(e){const t=document.activeElement;return e.some(s=>s===t?!0:(s.focus(),document.activeElement!==t))}var m$=rN,gN=iN,xN=lN,vN=cN,yN=dN,wN=fN,jN=Jx;function _N(e){var t,s,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(s=_N(e[t]))&&(n&&(n+=" "),n+=s)}else for(s in e)e[s]&&(n&&(n+=" "),n+=s);return n}function bN(){for(var e,t,s=0,n="",a=arguments.length;s<a;s++)(e=arguments[s])&&(t=_N(e))&&(n&&(n+=" "),n+=t);return n}const Bw=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Uw=bN,al=(e,t)=>s=>{var n;if((t==null?void 0:t.variants)==null)return Uw(e,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(d=>{const u=s==null?void 0:s[d],f=i==null?void 0:i[d];if(u===null)return null;const m=Bw(u)||Bw(f);return a[d][m]}),l=s&&Object.entries(s).reduce((d,u)=>{let[f,m]=u;return m===void 0||(d[f]=m),d},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,u)=>{let{class:f,className:m,...v}=u;return Object.entries(v).every(j=>{let[g,y]=j;return Array.isArray(y)?y.includes({...i,...l}[g]):{...i,...l}[g]===y})?[...d,f,m]:d},[]);return Uw(e,o,c,s==null?void 0:s.class,s==null?void 0:s.className)};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p$=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),g$=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,s,n)=>n?n.toUpperCase():s.toLowerCase()),zw=e=>{const t=g$(e);return t.charAt(0).toUpperCase()+t.slice(1)},SN=(...e)=>e.filter((t,s,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===s).join(" ").trim(),x$=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var v$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y$=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>h.createElement("svg",{ref:c,...v$,width:t,height:t,stroke:e,strokeWidth:n?Number(s)*24/Number(t):s,className:SN("lucide",a),...!i&&!x$(l)&&{"aria-hidden":"true"},...l},[...o.map(([d,u])=>h.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=(e,t)=>{const s=h.forwardRef(({className:n,...a},i)=>h.createElement(y$,{ref:i,iconNode:t,className:SN(`lucide-${p$(zw(e))}`,`lucide-${e}`,n),...a}));return s.displayName=zw(e),s};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w$=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Ri=pe("activity",w$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j$=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],_$=pe("arrow-left-right",j$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b$=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Aa=pe("arrow-left",b$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S$=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],dm=pe("arrow-right",S$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N$=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],Xa=pe("arrow-up-down",N$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C$=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],E$=pe("bot",C$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T$=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],un=pe("calendar",T$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k$=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Yp=pe("chart-column",k$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P$=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],il=pe("check",P$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R$=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Wf=pe("chevron-down",R$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A$=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Xx=pe("chevron-up",A$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],et=pe("circle-alert",$$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D$=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ol=pe("circle-check-big",D$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],L$=pe("circle-x",M$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],$n=pe("clock",I$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O$=[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]],F$=pe("cog",O$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B$=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Zi=pe("database",B$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U$=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Qp=pe("dollar-sign",U$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z$=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],NN=pe("download",z$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V$=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],sd=pe("external-link",V$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W$=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Xl=pe("eye-off",W$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H$=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],CN=pe("eye",H$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q$=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Cc=pe("file-text",q$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K$=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],EN=pe("funnel",K$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G$=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],TN=pe("grip-vertical",G$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y$=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Q$=pe("history",Y$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J$=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],X$=pe("house",J$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Za=pe("info",Z$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],tD=pe("link",eD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Bt=pe("loader-circle",sD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],rD=pe("lock",nD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],Jp=pe("maximize-2",aD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],oD=pe("menu",iD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],cD=pe("message-square",lD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],Xp=pe("minimize-2",dD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["path",{d:"M5 12h14",key:"1ays0h"}]],fD=pe("minus",uD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],mD=pe("moon",hD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],gD=pe("pause",pD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],vD=pe("play",xD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Gu=pe("plus",yD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],it=pe("refresh-cw",wD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],kN=pe("rotate-ccw",jD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Hf=pe("save",_D);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Zx=pe("search",bD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],um=pe("server",SD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Yu=pe("settings",ND);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ec=pe("shield",CD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Ai=pe("square-pen",ED);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Qu=pe("star",TD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],PD=pe("sun",kD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],Tc=pe("swords",RD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],mu=pe("target",AD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]],DD=pe("test-tube",$D);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],LD=pe("timer",MD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],OD=pe("trending-down",ID);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Ia=pe("trending-up",FD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],nd=pe("triangle-alert",BD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],xt=pe("trophy",UD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],Co=pe("user-check",zD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],WD=pe("user",VD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Zt=pe("users",HD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Fi=pe("x",qD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],PN=pe("zap",KD),ev="-",GD=e=>{const t=QD(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(ev);return l[0]===""&&l.length!==1&&l.shift(),RN(l,t)||YD(o)},getConflictingClassGroupIds:(o,l)=>{const c=s[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},RN=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const s=e[0],n=t.nextPart.get(s),a=n?RN(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(ev);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},Vw=/^\[(.+)\]$/,YD=e=>{if(Vw.test(e)){const t=Vw.exec(e)[1],s=t==null?void 0:t.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},QD=e=>{const{theme:t,prefix:s}=e,n={nextPart:new Map,validators:[]};return XD(Object.entries(e.classGroups),s).forEach(([i,o])=>{Zp(o,n,i,t)}),n},Zp=(e,t,s,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:Ww(t,a);i.classGroupId=s;return}if(typeof a=="function"){if(JD(a)){Zp(a(n),t,s,n);return}t.validators.push({validator:a,classGroupId:s});return}Object.entries(a).forEach(([i,o])=>{Zp(o,Ww(t,i),s,n)})})},Ww=(e,t)=>{let s=e;return t.split(ev).forEach(n=>{s.nextPart.has(n)||s.nextPart.set(n,{nextPart:new Map,validators:[]}),s=s.nextPart.get(n)}),s},JD=e=>e.isThemeGetter,XD=(e,t)=>t?e.map(([s,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[s,a]}):e,ZD=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,n=new Map;const a=(i,o)=>{s.set(i,o),t++,t>e&&(t=0,n=s,s=new Map)};return{get(i){let o=s.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){s.has(i)?s.set(i,o):a(i,o)}}},AN="!",eM=e=>{const{separator:t,experimentalParseClassName:s}=e,n=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let d=0,u=0,f;for(let y=0;y<l.length;y++){let x=l[y];if(d===0){if(x===a&&(n||l.slice(y,y+i)===t)){c.push(l.slice(u,y)),u=y+i;continue}if(x==="/"){f=y;continue}}x==="["?d++:x==="]"&&d--}const m=c.length===0?l:l.substring(u),v=m.startsWith(AN),j=v?m.substring(1):m,g=f&&f>u?f-u:void 0;return{modifiers:c,hasImportantModifier:v,baseClassName:j,maybePostfixModifierPosition:g}};return s?l=>s({className:l,parseClassName:o}):o},tM=e=>{if(e.length<=1)return e;const t=[];let s=[];return e.forEach(n=>{n[0]==="["?(t.push(...s.sort(),n),s=[]):s.push(n)}),t.push(...s.sort()),t},sM=e=>({cache:ZD(e.cacheSize),parseClassName:eM(e),...GD(e)}),nM=/\s+/,rM=(e,t)=>{const{parseClassName:s,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(nM);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:v}=s(d);let j=!!v,g=n(j?m.substring(0,v):m);if(!g){if(!j){l=d+(l.length>0?" "+l:l);continue}if(g=n(m),!g){l=d+(l.length>0?" "+l:l);continue}j=!1}const y=tM(u).join(":"),x=f?y+AN:y,p=x+g;if(i.includes(p))continue;i.push(p);const w=a(g,j);for(let _=0;_<w.length;++_){const b=w[_];i.push(x+b)}l=d+(l.length>0?" "+l:l)}return l};function aM(){let e=0,t,s,n="";for(;e<arguments.length;)(t=arguments[e++])&&(s=$N(t))&&(n&&(n+=" "),n+=s);return n}const $N=e=>{if(typeof e=="string")return e;let t,s="";for(let n=0;n<e.length;n++)e[n]&&(t=$N(e[n]))&&(s&&(s+=" "),s+=t);return s};function iM(e,...t){let s,n,a,i=o;function o(c){const d=t.reduce((u,f)=>f(u),e());return s=sM(d),n=s.cache.get,a=s.cache.set,i=l,l(c)}function l(c){const d=n(c);if(d)return d;const u=rM(c,s);return a(c,u),u}return function(){return i(aM.apply(null,arguments))}}const Tt=e=>{const t=s=>s[e]||[];return t.isThemeGetter=!0,t},DN=/^\[(?:([a-z-]+):)?(.+)\]$/i,oM=/^\d+\/\d+$/,lM=new Set(["px","full","screen"]),cM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,dM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,uM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,fM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,hM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Pr=e=>Eo(e)||lM.has(e)||oM.test(e),ta=e=>ol(e,"length",jM),Eo=e=>!!e&&!Number.isNaN(Number(e)),fm=e=>ol(e,"number",Eo),kl=e=>!!e&&Number.isInteger(Number(e)),mM=e=>e.endsWith("%")&&Eo(e.slice(0,-1)),$e=e=>DN.test(e),sa=e=>cM.test(e),pM=new Set(["length","size","percentage"]),gM=e=>ol(e,pM,MN),xM=e=>ol(e,"position",MN),vM=new Set(["image","url"]),yM=e=>ol(e,vM,bM),wM=e=>ol(e,"",_M),Pl=()=>!0,ol=(e,t,s)=>{const n=DN.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):s(n[2]):!1},jM=e=>dM.test(e)&&!uM.test(e),MN=()=>!1,_M=e=>fM.test(e),bM=e=>hM.test(e),SM=()=>{const e=Tt("colors"),t=Tt("spacing"),s=Tt("blur"),n=Tt("brightness"),a=Tt("borderColor"),i=Tt("borderRadius"),o=Tt("borderSpacing"),l=Tt("borderWidth"),c=Tt("contrast"),d=Tt("grayscale"),u=Tt("hueRotate"),f=Tt("invert"),m=Tt("gap"),v=Tt("gradientColorStops"),j=Tt("gradientColorStopPositions"),g=Tt("inset"),y=Tt("margin"),x=Tt("opacity"),p=Tt("padding"),w=Tt("saturate"),_=Tt("scale"),b=Tt("sepia"),T=Tt("skew"),N=Tt("space"),E=Tt("translate"),R=()=>["auto","contain","none"],$=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",$e,t],W=()=>[$e,t],I=()=>["",Pr,ta],L=()=>["auto",Eo,$e],H=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],B=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],S=()=>["start","end","center","between","around","evenly","stretch"],P=()=>["","0",$e],k=()=>["auto","avoid","all","avoid-page","page","left","right","column"],C=()=>[Eo,$e];return{cacheSize:500,separator:":",theme:{colors:[Pl],spacing:[Pr,ta],blur:["none","",sa,$e],brightness:C(),borderColor:[e],borderRadius:["none","","full",sa,$e],borderSpacing:W(),borderWidth:I(),contrast:C(),grayscale:P(),hueRotate:C(),invert:P(),gap:W(),gradientColorStops:[e],gradientColorStopPositions:[mM,ta],inset:F(),margin:F(),opacity:C(),padding:W(),saturate:C(),scale:C(),sepia:P(),skew:C(),space:W(),translate:W()},classGroups:{aspect:[{aspect:["auto","square","video",$e]}],container:["container"],columns:[{columns:[sa]}],"break-after":[{"break-after":k()}],"break-before":[{"break-before":k()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...H(),$e]}],overflow:[{overflow:$()}],"overflow-x":[{"overflow-x":$()}],"overflow-y":[{"overflow-y":$()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",kl,$e]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",$e]}],grow:[{grow:P()}],shrink:[{shrink:P()}],order:[{order:["first","last","none",kl,$e]}],"grid-cols":[{"grid-cols":[Pl]}],"col-start-end":[{col:["auto",{span:["full",kl,$e]},$e]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[Pl]}],"row-start-end":[{row:["auto",{span:[kl,$e]},$e]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",$e]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",$e]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...S()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...S(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...S(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",$e,t]}],"min-w":[{"min-w":[$e,t,"min","max","fit"]}],"max-w":[{"max-w":[$e,t,"none","full","min","max","fit","prose",{screen:[sa]},sa]}],h:[{h:[$e,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[$e,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[$e,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[$e,t,"auto","min","max","fit"]}],"font-size":[{text:["base",sa,ta]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",fm]}],"font-family":[{font:[Pl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",$e]}],"line-clamp":[{"line-clamp":["none",Eo,fm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Pr,$e]}],"list-image":[{"list-image":["none",$e]}],"list-style-type":[{list:["none","disc","decimal",$e]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Pr,ta]}],"underline-offset":[{"underline-offset":["auto",Pr,$e]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:W()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",$e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...H(),xM]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",gM]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},yM]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[j]}],"gradient-via-pos":[{via:[j]}],"gradient-to-pos":[{to:[j]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...B(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:B()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...B()]}],"outline-offset":[{"outline-offset":[Pr,$e]}],"outline-w":[{outline:[Pr,ta]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Pr,ta]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",sa,wM]}],"shadow-color":[{shadow:[Pl]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...V(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",sa,$e]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[b]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[b]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",$e]}],duration:[{duration:C()}],ease:[{ease:["linear","in","out","in-out",$e]}],delay:[{delay:C()}],animate:[{animate:["none","spin","ping","pulse","bounce",$e]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[kl,$e]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",$e]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",$e]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":W()}],"scroll-mx":[{"scroll-mx":W()}],"scroll-my":[{"scroll-my":W()}],"scroll-ms":[{"scroll-ms":W()}],"scroll-me":[{"scroll-me":W()}],"scroll-mt":[{"scroll-mt":W()}],"scroll-mr":[{"scroll-mr":W()}],"scroll-mb":[{"scroll-mb":W()}],"scroll-ml":[{"scroll-ml":W()}],"scroll-p":[{"scroll-p":W()}],"scroll-px":[{"scroll-px":W()}],"scroll-py":[{"scroll-py":W()}],"scroll-ps":[{"scroll-ps":W()}],"scroll-pe":[{"scroll-pe":W()}],"scroll-pt":[{"scroll-pt":W()}],"scroll-pr":[{"scroll-pr":W()}],"scroll-pb":[{"scroll-pb":W()}],"scroll-pl":[{"scroll-pl":W()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",$e]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Pr,ta,fm]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},NM=iM(SM);function we(...e){return NM(bN(e))}const CM=m$,LN=h.forwardRef(({className:e,...t},s)=>r.jsx(gN,{ref:s,className:we("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));LN.displayName=gN.displayName;const EM=al("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),IN=h.forwardRef(({className:e,variant:t,...s},n)=>r.jsx(xN,{ref:n,className:we(EM({variant:t}),e),...s}));IN.displayName=xN.displayName;const TM=h.forwardRef(({className:e,...t},s)=>r.jsx(wN,{ref:s,className:we("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));TM.displayName=wN.displayName;const ON=h.forwardRef(({className:e,...t},s)=>r.jsx(jN,{ref:s,className:we("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:r.jsx(Fi,{className:"h-4 w-4"})}));ON.displayName=jN.displayName;const FN=h.forwardRef(({className:e,...t},s)=>r.jsx(vN,{ref:s,className:we("text-sm font-semibold [&+div]:text-xs",e),...t}));FN.displayName=vN.displayName;const BN=h.forwardRef(({className:e,...t},s)=>r.jsx(yN,{ref:s,className:we("text-sm opacity-90",e),...t}));BN.displayName=yN.displayName;function kM(){const{toasts:e}=gs();return r.jsxs(CM,{children:[e.map(function({id:t,title:s,description:n,action:a,...i}){return r.jsxs(IN,{...i,children:[r.jsxs("div",{className:"grid gap-1",children:[s&&r.jsx(FN,{children:s}),n&&r.jsx(BN,{children:n})]}),a,r.jsx(ON,{})]},t)}),r.jsx(LN,{})]})}var PM=nx[" useId ".trim().toString()]||(()=>{}),RM=0;function Ur(e){const[t,s]=h.useState(PM());return es(()=>{s(n=>n??String(RM++))},[e]),t?`radix-${t}`:""}const AM=["top","right","bottom","left"],Oa=Math.min,mn=Math.max,Ju=Math.round,Bd=Math.floor,_r=e=>({x:e,y:e}),$M={left:"right",right:"left",bottom:"top",top:"bottom"},DM={start:"end",end:"start"};function eg(e,t,s){return mn(e,Oa(t,s))}function Kr(e,t){return typeof e=="function"?e(t):e}function Gr(e){return e.split("-")[0]}function ll(e){return e.split("-")[1]}function tv(e){return e==="x"?"y":"x"}function sv(e){return e==="y"?"height":"width"}const MM=new Set(["top","bottom"]);function yr(e){return MM.has(Gr(e))?"y":"x"}function nv(e){return tv(yr(e))}function LM(e,t,s){s===void 0&&(s=!1);const n=ll(e),a=nv(e),i=sv(a);let o=a==="x"?n===(s?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Xu(o)),[o,Xu(o)]}function IM(e){const t=Xu(e);return[tg(e),t,tg(t)]}function tg(e){return e.replace(/start|end/g,t=>DM[t])}const Hw=["left","right"],qw=["right","left"],OM=["top","bottom"],FM=["bottom","top"];function BM(e,t,s){switch(e){case"top":case"bottom":return s?t?qw:Hw:t?Hw:qw;case"left":case"right":return t?OM:FM;default:return[]}}function UM(e,t,s,n){const a=ll(e);let i=BM(Gr(e),s==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(tg)))),i}function Xu(e){return e.replace(/left|right|bottom|top/g,t=>$M[t])}function zM(e){return{top:0,right:0,bottom:0,left:0,...e}}function UN(e){return typeof e!="number"?zM(e):{top:e,right:e,bottom:e,left:e}}function Zu(e){const{x:t,y:s,width:n,height:a}=e;return{width:n,height:a,top:s,left:t,right:t+n,bottom:s+a,x:t,y:s}}function Kw(e,t,s){let{reference:n,floating:a}=e;const i=yr(t),o=nv(t),l=sv(o),c=Gr(t),d=i==="y",u=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,m=n[l]/2-a[l]/2;let v;switch(c){case"top":v={x:u,y:n.y-a.height};break;case"bottom":v={x:u,y:n.y+n.height};break;case"right":v={x:n.x+n.width,y:f};break;case"left":v={x:n.x-a.width,y:f};break;default:v={x:n.x,y:n.y}}switch(ll(t)){case"start":v[o]-=m*(s&&d?-1:1);break;case"end":v[o]+=m*(s&&d?-1:1);break}return v}const VM=async(e,t,s)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=s,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:f}=Kw(d,n,c),m=n,v={},j=0;for(let g=0;g<l.length;g++){const{name:y,fn:x}=l[g],{x:p,y:w,data:_,reset:b}=await x({x:u,y:f,initialPlacement:n,placement:m,strategy:a,middlewareData:v,rects:d,platform:o,elements:{reference:e,floating:t}});u=p??u,f=w??f,v={...v,[y]:{...v[y],..._}},b&&j<=50&&(j++,typeof b=="object"&&(b.placement&&(m=b.placement),b.rects&&(d=b.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):b.rects),{x:u,y:f}=Kw(d,m,c)),g=-1)}return{x:u,y:f,placement:m,strategy:a,middlewareData:v}};async function kc(e,t){var s;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:m=!1,padding:v=0}=Kr(t,e),j=UN(v),y=l[m?f==="floating"?"reference":"floating":f],x=Zu(await i.getClippingRect({element:(s=await(i.isElement==null?void 0:i.isElement(y)))==null||s?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),p=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),_=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},b=Zu(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:p,offsetParent:w,strategy:c}):p);return{top:(x.top-b.top+j.top)/_.y,bottom:(b.bottom-x.bottom+j.bottom)/_.y,left:(x.left-b.left+j.left)/_.x,right:(b.right-x.right+j.right)/_.x}}const WM=e=>({name:"arrow",options:e,async fn(t){const{x:s,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=Kr(e,t)||{};if(d==null)return{};const f=UN(u),m={x:s,y:n},v=nv(a),j=sv(v),g=await o.getDimensions(d),y=v==="y",x=y?"top":"left",p=y?"bottom":"right",w=y?"clientHeight":"clientWidth",_=i.reference[j]+i.reference[v]-m[v]-i.floating[j],b=m[v]-i.reference[v],T=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let N=T?T[w]:0;(!N||!await(o.isElement==null?void 0:o.isElement(T)))&&(N=l.floating[w]||i.floating[j]);const E=_/2-b/2,R=N/2-g[j]/2-1,$=Oa(f[x],R),F=Oa(f[p],R),W=$,I=N-g[j]-F,L=N/2-g[j]/2+E,H=eg(W,L,I),B=!c.arrow&&ll(a)!=null&&L!==H&&i.reference[j]/2-(L<W?$:F)-g[j]/2<0,V=B?L<W?L-W:L-I:0;return{[v]:m[v]+V,data:{[v]:H,centerOffset:L-H-V,...B&&{alignmentOffset:V}},reset:B}}}),HM=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var s,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:g=!0,...y}=Kr(e,t);if((s=i.arrow)!=null&&s.alignmentOffset)return{};const x=Gr(a),p=yr(l),w=Gr(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(d.floating)),b=m||(w||!g?[Xu(l)]:IM(l)),T=j!=="none";!m&&T&&b.push(...UM(l,g,j,_));const N=[l,...b],E=await kc(t,y),R=[];let $=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&R.push(E[x]),f){const L=LM(a,o,_);R.push(E[L[0]],E[L[1]])}if($=[...$,{placement:a,overflows:R}],!R.every(L=>L<=0)){var F,W;const L=(((F=i.flip)==null?void 0:F.index)||0)+1,H=N[L];if(H&&(!(f==="alignment"?p!==yr(H):!1)||$.every(S=>S.overflows[0]>0&&yr(S.placement)===p)))return{data:{index:L,overflows:$},reset:{placement:H}};let B=(W=$.filter(V=>V.overflows[0]<=0).sort((V,S)=>V.overflows[1]-S.overflows[1])[0])==null?void 0:W.placement;if(!B)switch(v){case"bestFit":{var I;const V=(I=$.filter(S=>{if(T){const P=yr(S.placement);return P===p||P==="y"}return!0}).map(S=>[S.placement,S.overflows.filter(P=>P>0).reduce((P,k)=>P+k,0)]).sort((S,P)=>S[1]-P[1])[0])==null?void 0:I[0];V&&(B=V);break}case"initialPlacement":B=l;break}if(a!==B)return{reset:{placement:B}}}return{}}}};function Gw(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Yw(e){return AM.some(t=>e[t]>=0)}const qM=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:s}=t,{strategy:n="referenceHidden",...a}=Kr(e,t);switch(n){case"referenceHidden":{const i=await kc(t,{...a,elementContext:"reference"}),o=Gw(i,s.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Yw(o)}}}case"escaped":{const i=await kc(t,{...a,altBoundary:!0}),o=Gw(i,s.floating);return{data:{escapedOffsets:o,escaped:Yw(o)}}}default:return{}}}}},zN=new Set(["left","top"]);async function KM(e,t){const{placement:s,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=Gr(s),l=ll(s),c=yr(s)==="y",d=zN.has(o)?-1:1,u=i&&c?-1:1,f=Kr(t,e);let{mainAxis:m,crossAxis:v,alignmentAxis:j}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof j=="number"&&(v=l==="end"?j*-1:j),c?{x:v*u,y:m*d}:{x:m*d,y:v*u}}const GM=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var s,n;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await KM(t,e);return o===((s=l.offset)==null?void 0:s.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},YM=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:s,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:y=>{let{x,y:p}=y;return{x,y:p}}},...c}=Kr(e,t),d={x:s,y:n},u=await kc(t,c),f=yr(Gr(a)),m=tv(f);let v=d[m],j=d[f];if(i){const y=m==="y"?"top":"left",x=m==="y"?"bottom":"right",p=v+u[y],w=v-u[x];v=eg(p,v,w)}if(o){const y=f==="y"?"top":"left",x=f==="y"?"bottom":"right",p=j+u[y],w=j-u[x];j=eg(p,j,w)}const g=l.fn({...t,[m]:v,[f]:j});return{...g,data:{x:g.x-s,y:g.y-n,enabled:{[m]:i,[f]:o}}}}}},QM=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:s,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Kr(e,t),u={x:s,y:n},f=yr(a),m=tv(f);let v=u[m],j=u[f];const g=Kr(l,t),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const w=m==="y"?"height":"width",_=i.reference[m]-i.floating[w]+y.mainAxis,b=i.reference[m]+i.reference[w]-y.mainAxis;v<_?v=_:v>b&&(v=b)}if(d){var x,p;const w=m==="y"?"width":"height",_=zN.has(Gr(a)),b=i.reference[f]-i.floating[w]+(_&&((x=o.offset)==null?void 0:x[f])||0)+(_?0:y.crossAxis),T=i.reference[f]+i.reference[w]+(_?0:((p=o.offset)==null?void 0:p[f])||0)-(_?y.crossAxis:0);j<b?j=b:j>T&&(j=T)}return{[m]:v,[f]:j}}}},JM=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var s,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=Kr(e,t),u=await kc(t,d),f=Gr(a),m=ll(a),v=yr(a)==="y",{width:j,height:g}=i.floating;let y,x;f==="top"||f==="bottom"?(y=f,x=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(x=f,y=m==="end"?"top":"bottom");const p=g-u.top-u.bottom,w=j-u.left-u.right,_=Oa(g-u[y],p),b=Oa(j-u[x],w),T=!t.middlewareData.shift;let N=_,E=b;if((s=t.middlewareData.shift)!=null&&s.enabled.x&&(E=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(N=p),T&&!m){const $=mn(u.left,0),F=mn(u.right,0),W=mn(u.top,0),I=mn(u.bottom,0);v?E=j-2*($!==0||F!==0?$+F:mn(u.left,u.right)):N=g-2*(W!==0||I!==0?W+I:mn(u.top,u.bottom))}await c({...t,availableWidth:E,availableHeight:N});const R=await o.getDimensions(l.floating);return j!==R.width||g!==R.height?{reset:{rects:!0}}:{}}}};function qf(){return typeof window<"u"}function cl(e){return VN(e)?(e.nodeName||"").toLowerCase():"#document"}function xn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Tr(e){var t;return(t=(VN(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function VN(e){return qf()?e instanceof Node||e instanceof xn(e).Node:!1}function sr(e){return qf()?e instanceof Element||e instanceof xn(e).Element:!1}function Cr(e){return qf()?e instanceof HTMLElement||e instanceof xn(e).HTMLElement:!1}function Qw(e){return!qf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof xn(e).ShadowRoot}const XM=new Set(["inline","contents"]);function rd(e){const{overflow:t,overflowX:s,overflowY:n,display:a}=nr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+s)&&!XM.has(a)}const ZM=new Set(["table","td","th"]);function eL(e){return ZM.has(cl(e))}const tL=[":popover-open",":modal"];function Kf(e){return tL.some(t=>{try{return e.matches(t)}catch{return!1}})}const sL=["transform","translate","scale","rotate","perspective"],nL=["transform","translate","scale","rotate","perspective","filter"],rL=["paint","layout","strict","content"];function rv(e){const t=av(),s=sr(e)?nr(e):e;return sL.some(n=>s[n]?s[n]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!t&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!t&&(s.filter?s.filter!=="none":!1)||nL.some(n=>(s.willChange||"").includes(n))||rL.some(n=>(s.contain||"").includes(n))}function aL(e){let t=Fa(e);for(;Cr(t)&&!Ko(t);){if(rv(t))return t;if(Kf(t))return null;t=Fa(t)}return null}function av(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const iL=new Set(["html","body","#document"]);function Ko(e){return iL.has(cl(e))}function nr(e){return xn(e).getComputedStyle(e)}function Gf(e){return sr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Fa(e){if(cl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Qw(e)&&e.host||Tr(e);return Qw(t)?t.host:t}function WN(e){const t=Fa(e);return Ko(t)?e.ownerDocument?e.ownerDocument.body:e.body:Cr(t)&&rd(t)?t:WN(t)}function Pc(e,t,s){var n;t===void 0&&(t=[]),s===void 0&&(s=!0);const a=WN(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=xn(a);if(i){const l=sg(o);return t.concat(o,o.visualViewport||[],rd(a)?a:[],l&&s?Pc(l):[])}return t.concat(a,Pc(a,[],s))}function sg(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function HN(e){const t=nr(e);let s=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Cr(e),i=a?e.offsetWidth:s,o=a?e.offsetHeight:n,l=Ju(s)!==i||Ju(n)!==o;return l&&(s=i,n=o),{width:s,height:n,$:l}}function iv(e){return sr(e)?e:e.contextElement}function To(e){const t=iv(e);if(!Cr(t))return _r(1);const s=t.getBoundingClientRect(),{width:n,height:a,$:i}=HN(t);let o=(i?Ju(s.width):s.width)/n,l=(i?Ju(s.height):s.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const oL=_r(0);function qN(e){const t=xn(e);return!av()||!t.visualViewport?oL:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function lL(e,t,s){return t===void 0&&(t=!1),!s||t&&s!==xn(e)?!1:t}function $i(e,t,s,n){t===void 0&&(t=!1),s===void 0&&(s=!1);const a=e.getBoundingClientRect(),i=iv(e);let o=_r(1);t&&(n?sr(n)&&(o=To(n)):o=To(e));const l=lL(i,s,n)?qN(i):_r(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,u=a.width/o.x,f=a.height/o.y;if(i){const m=xn(i),v=n&&sr(n)?xn(n):n;let j=m,g=sg(j);for(;g&&n&&v!==j;){const y=To(g),x=g.getBoundingClientRect(),p=nr(g),w=x.left+(g.clientLeft+parseFloat(p.paddingLeft))*y.x,_=x.top+(g.clientTop+parseFloat(p.paddingTop))*y.y;c*=y.x,d*=y.y,u*=y.x,f*=y.y,c+=w,d+=_,j=xn(g),g=sg(j)}}return Zu({width:u,height:f,x:c,y:d})}function ov(e,t){const s=Gf(e).scrollLeft;return t?t.left+s:$i(Tr(e)).left+s}function KN(e,t,s){s===void 0&&(s=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(s?0:ov(e,n)),i=n.top+t.scrollTop;return{x:a,y:i}}function cL(e){let{elements:t,rect:s,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=Tr(n),l=t?Kf(t.floating):!1;if(n===o||l&&i)return s;let c={scrollLeft:0,scrollTop:0},d=_r(1);const u=_r(0),f=Cr(n);if((f||!f&&!i)&&((cl(n)!=="body"||rd(o))&&(c=Gf(n)),Cr(n))){const v=$i(n);d=To(n),u.x=v.x+n.clientLeft,u.y=v.y+n.clientTop}const m=o&&!f&&!i?KN(o,c,!0):_r(0);return{width:s.width*d.x,height:s.height*d.y,x:s.x*d.x-c.scrollLeft*d.x+u.x+m.x,y:s.y*d.y-c.scrollTop*d.y+u.y+m.y}}function dL(e){return Array.from(e.getClientRects())}function uL(e){const t=Tr(e),s=Gf(e),n=e.ownerDocument.body,a=mn(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=mn(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-s.scrollLeft+ov(e);const l=-s.scrollTop;return nr(n).direction==="rtl"&&(o+=mn(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}function fL(e,t){const s=xn(e),n=Tr(e),a=s.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=av();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}const hL=new Set(["absolute","fixed"]);function mL(e,t){const s=$i(e,!0,t==="fixed"),n=s.top+e.clientTop,a=s.left+e.clientLeft,i=Cr(e)?To(e):_r(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,d=n*i.y;return{width:o,height:l,x:c,y:d}}function Jw(e,t,s){let n;if(t==="viewport")n=fL(e,s);else if(t==="document")n=uL(Tr(e));else if(sr(t))n=mL(t,s);else{const a=qN(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Zu(n)}function GN(e,t){const s=Fa(e);return s===t||!sr(s)||Ko(s)?!1:nr(s).position==="fixed"||GN(s,t)}function pL(e,t){const s=t.get(e);if(s)return s;let n=Pc(e,[],!1).filter(l=>sr(l)&&cl(l)!=="body"),a=null;const i=nr(e).position==="fixed";let o=i?Fa(e):e;for(;sr(o)&&!Ko(o);){const l=nr(o),c=rv(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&hL.has(a.position)||rd(o)&&!c&&GN(e,o))?n=n.filter(u=>u!==o):a=l,o=Fa(o)}return t.set(e,n),n}function gL(e){let{element:t,boundary:s,rootBoundary:n,strategy:a}=e;const o=[...s==="clippingAncestors"?Kf(t)?[]:pL(t,this._c):[].concat(s),n],l=o[0],c=o.reduce((d,u)=>{const f=Jw(t,u,a);return d.top=mn(f.top,d.top),d.right=Oa(f.right,d.right),d.bottom=Oa(f.bottom,d.bottom),d.left=mn(f.left,d.left),d},Jw(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function xL(e){const{width:t,height:s}=HN(e);return{width:t,height:s}}function vL(e,t,s){const n=Cr(t),a=Tr(t),i=s==="fixed",o=$i(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=_r(0);function d(){c.x=ov(a)}if(n||!n&&!i)if((cl(t)!=="body"||rd(a))&&(l=Gf(t)),n){const v=$i(t,!0,i,t);c.x=v.x+t.clientLeft,c.y=v.y+t.clientTop}else a&&d();i&&!n&&a&&d();const u=a&&!n&&!i?KN(a,l):_r(0),f=o.left+l.scrollLeft-c.x-u.x,m=o.top+l.scrollTop-c.y-u.y;return{x:f,y:m,width:o.width,height:o.height}}function hm(e){return nr(e).position==="static"}function Xw(e,t){if(!Cr(e)||nr(e).position==="fixed")return null;if(t)return t(e);let s=e.offsetParent;return Tr(e)===s&&(s=s.ownerDocument.body),s}function YN(e,t){const s=xn(e);if(Kf(e))return s;if(!Cr(e)){let a=Fa(e);for(;a&&!Ko(a);){if(sr(a)&&!hm(a))return a;a=Fa(a)}return s}let n=Xw(e,t);for(;n&&eL(n)&&hm(n);)n=Xw(n,t);return n&&Ko(n)&&hm(n)&&!rv(n)?s:n||aL(e)||s}const yL=async function(e){const t=this.getOffsetParent||YN,s=this.getDimensions,n=await s(e.floating);return{reference:vL(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function wL(e){return nr(e).direction==="rtl"}const jL={convertOffsetParentRelativeRectToViewportRelativeRect:cL,getDocumentElement:Tr,getClippingRect:gL,getOffsetParent:YN,getElementRects:yL,getClientRects:dL,getDimensions:xL,getScale:To,isElement:sr,isRTL:wL};function QN(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function _L(e,t){let s=null,n;const a=Tr(e);function i(){var l;clearTimeout(n),(l=s)==null||l.disconnect(),s=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=e.getBoundingClientRect(),{left:u,top:f,width:m,height:v}=d;if(l||t(),!m||!v)return;const j=Bd(f),g=Bd(a.clientWidth-(u+m)),y=Bd(a.clientHeight-(f+v)),x=Bd(u),w={rootMargin:-j+"px "+-g+"px "+-y+"px "+-x+"px",threshold:mn(0,Oa(1,c))||1};let _=!0;function b(T){const N=T[0].intersectionRatio;if(N!==c){if(!_)return o();N?o(!1,N):n=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!QN(d,e.getBoundingClientRect())&&o(),_=!1}try{s=new IntersectionObserver(b,{...w,root:a.ownerDocument})}catch{s=new IntersectionObserver(b,w)}s.observe(e)}return o(!0),i}function bL(e,t,s,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=iv(e),u=a||i?[...d?Pc(d):[],...Pc(t)]:[];u.forEach(x=>{a&&x.addEventListener("scroll",s,{passive:!0}),i&&x.addEventListener("resize",s)});const f=d&&l?_L(d,s):null;let m=-1,v=null;o&&(v=new ResizeObserver(x=>{let[p]=x;p&&p.target===d&&v&&(v.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var w;(w=v)==null||w.observe(t)})),s()}),d&&!c&&v.observe(d),v.observe(t));let j,g=c?$i(e):null;c&&y();function y(){const x=$i(e);g&&!QN(g,x)&&s(),g=x,j=requestAnimationFrame(y)}return s(),()=>{var x;u.forEach(p=>{a&&p.removeEventListener("scroll",s),i&&p.removeEventListener("resize",s)}),f==null||f(),(x=v)==null||x.disconnect(),v=null,c&&cancelAnimationFrame(j)}}const SL=GM,NL=YM,CL=HM,EL=JM,TL=qM,Zw=WM,kL=QM,PL=(e,t,s)=>{const n=new Map,a={platform:jL,...s},i={...a.platform,_c:n};return VM(e,t,{...a,platform:i})};var RL=typeof document<"u",AL=function(){},pu=RL?h.useLayoutEffect:AL;function ef(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let s,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(s=e.length,s!==t.length)return!1;for(n=s;n--!==0;)if(!ef(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),s=a.length,s!==Object.keys(t).length)return!1;for(n=s;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=s;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!ef(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function JN(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function e0(e,t){const s=JN(e);return Math.round(t*s)/s}function mm(e){const t=h.useRef(e);return pu(()=>{t.current=e}),t}function $L(e){e===void 0&&(e={});const{placement:t="bottom",strategy:s="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,f]=h.useState({x:0,y:0,strategy:s,placement:t,middlewareData:{},isPositioned:!1}),[m,v]=h.useState(n);ef(m,n)||v(n);const[j,g]=h.useState(null),[y,x]=h.useState(null),p=h.useCallback(S=>{S!==T.current&&(T.current=S,g(S))},[]),w=h.useCallback(S=>{S!==N.current&&(N.current=S,x(S))},[]),_=i||j,b=o||y,T=h.useRef(null),N=h.useRef(null),E=h.useRef(u),R=c!=null,$=mm(c),F=mm(a),W=mm(d),I=h.useCallback(()=>{if(!T.current||!N.current)return;const S={placement:t,strategy:s,middleware:m};F.current&&(S.platform=F.current),PL(T.current,N.current,S).then(P=>{const k={...P,isPositioned:W.current!==!1};L.current&&!ef(E.current,k)&&(E.current=k,Mn.flushSync(()=>{f(k)}))})},[m,t,s,F,W]);pu(()=>{d===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(S=>({...S,isPositioned:!1})))},[d]);const L=h.useRef(!1);pu(()=>(L.current=!0,()=>{L.current=!1}),[]),pu(()=>{if(_&&(T.current=_),b&&(N.current=b),_&&b){if($.current)return $.current(_,b,I);I()}},[_,b,I,$,R]);const H=h.useMemo(()=>({reference:T,floating:N,setReference:p,setFloating:w}),[p,w]),B=h.useMemo(()=>({reference:_,floating:b}),[_,b]),V=h.useMemo(()=>{const S={position:s,left:0,top:0};if(!B.floating)return S;const P=e0(B.floating,u.x),k=e0(B.floating,u.y);return l?{...S,transform:"translate("+P+"px, "+k+"px)",...JN(B.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:P,top:k}},[s,l,B.floating,u.x,u.y]);return h.useMemo(()=>({...u,update:I,refs:H,elements:B,floatingStyles:V}),[u,I,H,B,V])}const DL=e=>{function t(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:e,fn(s){const{element:n,padding:a}=typeof e=="function"?e(s):e;return n&&t(n)?n.current!=null?Zw({element:n.current,padding:a}).fn(s):{}:n?Zw({element:n,padding:a}).fn(s):{}}}},ML=(e,t)=>({...SL(e),options:[e,t]}),LL=(e,t)=>({...NL(e),options:[e,t]}),IL=(e,t)=>({...kL(e),options:[e,t]}),OL=(e,t)=>({...CL(e),options:[e,t]}),FL=(e,t)=>({...EL(e),options:[e,t]}),BL=(e,t)=>({...TL(e),options:[e,t]}),UL=(e,t)=>({...DL(e),options:[e,t]});var zL="Arrow",XN=h.forwardRef((e,t)=>{const{children:s,width:n=10,height:a=5,...i}=e;return r.jsx(be.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?s:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});XN.displayName=zL;var VL=XN;function lv(e){const[t,s]=h.useState(void 0);return es(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;s({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else s(void 0)},[e]),t}var cv="Popper",[ZN,Yf]=_n(cv),[WL,e1]=ZN(cv),t1=e=>{const{__scopePopper:t,children:s}=e,[n,a]=h.useState(null);return r.jsx(WL,{scope:t,anchor:n,onAnchorChange:a,children:s})};t1.displayName=cv;var s1="PopperAnchor",n1=h.forwardRef((e,t)=>{const{__scopePopper:s,virtualRef:n,...a}=e,i=e1(s1,s),o=h.useRef(null),l=ot(t,o);return h.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:r.jsx(be.div,{...a,ref:l})});n1.displayName=s1;var dv="PopperContent",[HL,qL]=ZN(dv),r1=h.forwardRef((e,t)=>{var z,O,ae,X,ee,ce;const{__scopePopper:s,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:v="optimized",onPlaced:j,...g}=e,y=e1(dv,s),[x,p]=h.useState(null),w=ot(t,ve=>p(ve)),[_,b]=h.useState(null),T=lv(_),N=(T==null?void 0:T.width)??0,E=(T==null?void 0:T.height)??0,R=n+(i!=="center"?"-"+i:""),$=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},F=Array.isArray(d)?d:[d],W=F.length>0,I={padding:$,boundary:F.filter(GL),altBoundary:W},{refs:L,floatingStyles:H,placement:B,isPositioned:V,middlewareData:S}=$L({strategy:"fixed",placement:R,whileElementsMounted:(...ve)=>bL(...ve,{animationFrame:v==="always"}),elements:{reference:y.anchor},middleware:[ML({mainAxis:a+E,alignmentAxis:o}),c&&LL({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?IL():void 0,...I}),c&&OL({...I}),FL({...I,apply:({elements:ve,rects:ge,availableWidth:ye,availableHeight:st})=>{const{width:yt,height:se}=ge.reference,Z=ve.floating.style;Z.setProperty("--radix-popper-available-width",`${ye}px`),Z.setProperty("--radix-popper-available-height",`${st}px`),Z.setProperty("--radix-popper-anchor-width",`${yt}px`),Z.setProperty("--radix-popper-anchor-height",`${se}px`)}}),_&&UL({element:_,padding:l}),YL({arrowWidth:N,arrowHeight:E}),m&&BL({strategy:"referenceHidden",...I})]}),[P,k]=o1(B),C=yn(j);es(()=>{V&&(C==null||C())},[V,C]);const A=(z=S.arrow)==null?void 0:z.x,M=(O=S.arrow)==null?void 0:O.y,D=((ae=S.arrow)==null?void 0:ae.centerOffset)!==0,[Q,K]=h.useState();return es(()=>{x&&K(window.getComputedStyle(x).zIndex)},[x]),r.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:V?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Q,"--radix-popper-transform-origin":[(X=S.transformOrigin)==null?void 0:X.x,(ee=S.transformOrigin)==null?void 0:ee.y].join(" "),...((ce=S.hide)==null?void 0:ce.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(HL,{scope:s,placedSide:P,onArrowChange:b,arrowX:A,arrowY:M,shouldHideArrow:D,children:r.jsx(be.div,{"data-side":P,"data-align":k,...g,ref:w,style:{...g.style,animation:V?void 0:"none"}})})})});r1.displayName=dv;var a1="PopperArrow",KL={top:"bottom",right:"left",bottom:"top",left:"right"},i1=h.forwardRef(function(t,s){const{__scopePopper:n,...a}=t,i=qL(a1,n),o=KL[i.placedSide];return r.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:r.jsx(VL,{...a,ref:s,style:{...a.style,display:"block"}})})});i1.displayName=a1;function GL(e){return e!==null}var YL=e=>({name:"transformOrigin",options:e,fn(t){var y,x,p;const{placement:s,rects:n,middlewareData:a}=t,o=((y=a.arrow)==null?void 0:y.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=o1(s),f={start:"0%",center:"50%",end:"100%"}[u],m=(((x=a.arrow)==null?void 0:x.x)??0)+l/2,v=(((p=a.arrow)==null?void 0:p.y)??0)+c/2;let j="",g="";return d==="bottom"?(j=o?f:`${m}px`,g=`${-c}px`):d==="top"?(j=o?f:`${m}px`,g=`${n.floating.height+c}px`):d==="right"?(j=`${-c}px`,g=o?f:`${v}px`):d==="left"&&(j=`${n.floating.width+c}px`,g=o?f:`${v}px`),{data:{x:j,y:g}}}});function o1(e){const[t,s="center"]=e.split("-");return[t,s]}var QL=t1,l1=n1,c1=r1,d1=i1,[Qf,mH]=_n("Tooltip",[Yf]),uv=Yf(),u1="TooltipProvider",JL=700,t0="tooltip.open",[XL,f1]=Qf(u1),h1=e=>{const{__scopeTooltip:t,delayDuration:s=JL,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=e,o=h.useRef(!0),l=h.useRef(!1),c=h.useRef(0);return h.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),r.jsx(XL,{scope:t,isOpenDelayedRef:o,delayDuration:s,onOpen:h.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:h.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:h.useCallback(d=>{l.current=d},[]),disableHoverableContent:a,children:i})};h1.displayName=u1;var m1="Tooltip",[pH,ad]=Qf(m1),ng="TooltipTrigger",ZL=h.forwardRef((e,t)=>{const{__scopeTooltip:s,...n}=e,a=ad(ng,s),i=f1(ng,s),o=uv(s),l=h.useRef(null),c=ot(t,l,a.onTriggerChange),d=h.useRef(!1),u=h.useRef(!1),f=h.useCallback(()=>d.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),r.jsx(l1,{asChild:!0,...o,children:r.jsx(be.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:_e(e.onPointerMove,m=>{m.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),u.current=!0)}),onPointerLeave:_e(e.onPointerLeave,()=>{a.onTriggerLeave(),u.current=!1}),onPointerDown:_e(e.onPointerDown,()=>{a.open&&a.onClose(),d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:_e(e.onFocus,()=>{d.current||a.onOpen()}),onBlur:_e(e.onBlur,a.onClose),onClick:_e(e.onClick,a.onClose)})})});ZL.displayName=ng;var fv="TooltipPortal",[eI,tI]=Qf(fv,{forceMount:void 0}),p1=e=>{const{__scopeTooltip:t,forceMount:s,children:n,container:a}=e,i=ad(fv,t);return r.jsx(eI,{scope:t,forceMount:s,children:r.jsx(Er,{present:s||i.open,children:r.jsx(ed,{asChild:!0,container:a,children:n})})})};p1.displayName=fv;var Go="TooltipContent",g1=h.forwardRef((e,t)=>{const s=tI(Go,e.__scopeTooltip),{forceMount:n=s.forceMount,side:a="top",...i}=e,o=ad(Go,e.__scopeTooltip);return r.jsx(Er,{present:n||o.open,children:o.disableHoverableContent?r.jsx(x1,{side:a,...i,ref:t}):r.jsx(sI,{side:a,...i,ref:t})})}),sI=h.forwardRef((e,t)=>{const s=ad(Go,e.__scopeTooltip),n=f1(Go,e.__scopeTooltip),a=h.useRef(null),i=ot(t,a),[o,l]=h.useState(null),{trigger:c,onClose:d}=s,u=a.current,{onPointerInTransitChange:f}=n,m=h.useCallback(()=>{l(null),f(!1)},[f]),v=h.useCallback((j,g)=>{const y=j.currentTarget,x={x:j.clientX,y:j.clientY},p=oI(x,y.getBoundingClientRect()),w=lI(x,p),_=cI(g.getBoundingClientRect()),b=uI([...w,..._]);l(b),f(!0)},[f]);return h.useEffect(()=>()=>m(),[m]),h.useEffect(()=>{if(c&&u){const j=y=>v(y,u),g=y=>v(y,c);return c.addEventListener("pointerleave",j),u.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",j),u.removeEventListener("pointerleave",g)}}},[c,u,v,m]),h.useEffect(()=>{if(o){const j=g=>{const y=g.target,x={x:g.clientX,y:g.clientY},p=(c==null?void 0:c.contains(y))||(u==null?void 0:u.contains(y)),w=!dI(x,o);p?m():w&&(m(),d())};return document.addEventListener("pointermove",j),()=>document.removeEventListener("pointermove",j)}},[c,u,o,d,m]),r.jsx(x1,{...e,ref:i})}),[nI,rI]=Qf(m1,{isInside:!1}),aI=TA("TooltipContent"),x1=h.forwardRef((e,t)=>{const{__scopeTooltip:s,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=ad(Go,s),d=uv(s),{onClose:u}=c;return h.useEffect(()=>(document.addEventListener(t0,u),()=>document.removeEventListener(t0,u)),[u]),h.useEffect(()=>{if(c.trigger){const f=m=>{const v=m.target;v!=null&&v.contains(c.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,u]),r.jsx(Zc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:r.jsxs(c1,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[r.jsx(aI,{children:n}),r.jsx(nI,{scope:s,isInside:!0,children:r.jsx(QA,{id:c.contentId,role:"tooltip",children:a||n})})]})})});g1.displayName=Go;var v1="TooltipArrow",iI=h.forwardRef((e,t)=>{const{__scopeTooltip:s,...n}=e,a=uv(s);return rI(v1,s).isInside?null:r.jsx(d1,{...a,...n,ref:t})});iI.displayName=v1;function oI(e,t){const s=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(s,n,a,i)){case i:return"left";case a:return"right";case s:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function lI(e,t,s=5){const n=[];switch(t){case"top":n.push({x:e.x-s,y:e.y+s},{x:e.x+s,y:e.y+s});break;case"bottom":n.push({x:e.x-s,y:e.y-s},{x:e.x+s,y:e.y-s});break;case"left":n.push({x:e.x+s,y:e.y-s},{x:e.x+s,y:e.y+s});break;case"right":n.push({x:e.x-s,y:e.y-s},{x:e.x-s,y:e.y+s});break}return n}function cI(e){const{top:t,right:s,bottom:n,left:a}=e;return[{x:a,y:t},{x:s,y:t},{x:s,y:n},{x:a,y:n}]}function dI(e,t){const{x:s,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],d=l.x,u=l.y,f=c.x,m=c.y;u>n!=m>n&&s<(f-d)*(n-u)/(m-u)+d&&(a=!a)}return a}function uI(e){const t=e.slice();return t.sort((s,n)=>s.x<n.x?-1:s.x>n.x?1:s.y<n.y?-1:s.y>n.y?1:0),fI(t)}function fI(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const s=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;s.length>=2;){const i=s[s.length-1],o=s[s.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))s.pop();else break}s.push(a)}return s.pop(),t.length===1&&s.length===1&&t[0].x===s[0].x&&t[0].y===s[0].y?t:t.concat(s)}var hI=h1,mI=p1,y1=g1;const pI=hI,gI=h.forwardRef(({className:e,sideOffset:t=4,...s},n)=>r.jsx(mI,{children:r.jsx(y1,{ref:n,sideOffset:t,className:we("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...s})}));gI.displayName=y1.displayName;var Jf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Xf=typeof window>"u"||"Deno"in globalThis;function qn(){}function xI(e,t){return typeof e=="function"?e(t):e}function vI(e){return typeof e=="number"&&e>=0&&e!==1/0}function yI(e,t){return Math.max(e+(t||0)-Date.now(),0)}function rg(e,t){return typeof e=="function"?e(t):e}function wI(e,t){return typeof e=="function"?e(t):e}function s0(e,t){const{type:s="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==hv(o,t.options))return!1}else if(!Ac(t.queryKey,o))return!1}if(s!=="all"){const c=t.isActive();if(s==="active"&&!c||s==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function n0(e,t){const{exact:s,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(s){if(Rc(t.options.mutationKey)!==Rc(i))return!1}else if(!Ac(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function hv(e,t){return((t==null?void 0:t.queryKeyHashFn)||Rc)(e)}function Rc(e){return JSON.stringify(e,(t,s)=>ag(s)?Object.keys(s).sort().reduce((n,a)=>(n[a]=s[a],n),{}):s)}function Ac(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(s=>Ac(e[s],t[s])):!1}function w1(e,t){if(e===t)return e;const s=r0(e)&&r0(t);if(s||ag(e)&&ag(t)){const n=s?e:Object.keys(e),a=n.length,i=s?t:Object.keys(t),o=i.length,l=s?[]:{},c=new Set(n);let d=0;for(let u=0;u<o;u++){const f=s?u:i[u];(!s&&c.has(f)||s)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,d++):(l[f]=w1(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&d++)}return a===o&&d===a?e:l}return t}function r0(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function ag(e){if(!a0(e))return!1;const t=e.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!a0(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function a0(e){return Object.prototype.toString.call(e)==="[object Object]"}function jI(e){return new Promise(t=>{setTimeout(t,e)})}function _I(e,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,t):s.structuralSharing!==!1?w1(e,t):t}function bI(e,t,s=0){const n=[...e,t];return s&&n.length>s?n.slice(1):n}function SI(e,t,s=0){const n=[t,...e];return s&&n.length>s?n.slice(0,-1):n}var mv=Symbol();function j1(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===mv?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var pi,pa,Ro,T_,NI=(T_=class extends Jf{constructor(){super();at(this,pi);at(this,pa);at(this,Ro);ke(this,Ro,t=>{if(!Xf&&window.addEventListener){const s=()=>t();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){te(this,pa)||this.setEventListener(te(this,Ro))}onUnsubscribe(){var t;this.hasListeners()||((t=te(this,pa))==null||t.call(this),ke(this,pa,void 0))}setEventListener(t){var s;ke(this,Ro,t),(s=te(this,pa))==null||s.call(this),ke(this,pa,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){te(this,pi)!==t&&(ke(this,pi,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(s=>{s(t)})}isFocused(){var t;return typeof te(this,pi)=="boolean"?te(this,pi):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},pi=new WeakMap,pa=new WeakMap,Ro=new WeakMap,T_),_1=new NI,Ao,ga,$o,k_,CI=(k_=class extends Jf{constructor(){super();at(this,Ao,!0);at(this,ga);at(this,$o);ke(this,$o,t=>{if(!Xf&&window.addEventListener){const s=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",n)}}})}onSubscribe(){te(this,ga)||this.setEventListener(te(this,$o))}onUnsubscribe(){var t;this.hasListeners()||((t=te(this,ga))==null||t.call(this),ke(this,ga,void 0))}setEventListener(t){var s;ke(this,$o,t),(s=te(this,ga))==null||s.call(this),ke(this,ga,t(this.setOnline.bind(this)))}setOnline(t){te(this,Ao)!==t&&(ke(this,Ao,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return te(this,Ao)}},Ao=new WeakMap,ga=new WeakMap,$o=new WeakMap,k_),tf=new CI;function EI(){let e,t;const s=new Promise((a,i)=>{e=a,t=i});s.status="pending",s.catch(()=>{});function n(a){Object.assign(s,a),delete s.resolve,delete s.reject}return s.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},s.reject=a=>{n({status:"rejected",reason:a}),t(a)},s}function TI(e){return Math.min(1e3*2**e,3e4)}function b1(e){return(e??"online")==="online"?tf.isOnline():!0}var S1=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function pm(e){return e instanceof S1}function N1(e){let t=!1,s=0,n=!1,a;const i=EI(),o=g=>{var y;n||(m(new S1(g)),(y=e.abort)==null||y.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>_1.isFocused()&&(e.networkMode==="always"||tf.isOnline())&&e.canRun(),u=()=>b1(e.networkMode)&&e.canRun(),f=g=>{var y;n||(n=!0,(y=e.onSuccess)==null||y.call(e,g),a==null||a(),i.resolve(g))},m=g=>{var y;n||(n=!0,(y=e.onError)==null||y.call(e,g),a==null||a(),i.reject(g))},v=()=>new Promise(g=>{var y;a=x=>{(n||d())&&g(x)},(y=e.onPause)==null||y.call(e)}).then(()=>{var g;a=void 0,n||(g=e.onContinue)==null||g.call(e)}),j=()=>{if(n)return;let g;const y=s===0?e.initialPromise:void 0;try{g=y??e.fn()}catch(x){g=Promise.reject(x)}Promise.resolve(g).then(f).catch(x=>{var T;if(n)return;const p=e.retry??(Xf?0:3),w=e.retryDelay??TI,_=typeof w=="function"?w(s,x):w,b=p===!0||typeof p=="number"&&s<p||typeof p=="function"&&p(s,x);if(t||!b){m(x);return}s++,(T=e.onFail)==null||T.call(e,s,x),jI(_).then(()=>d()?void 0:v()).then(()=>{t?m(x):j()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?j():v().then(j),i)}}var kI=e=>setTimeout(e,0);function PI(){let e=[],t=0,s=l=>{l()},n=l=>{l()},a=kI;const i=l=>{t?e.push(l):a(()=>{s(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{s(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{s=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var qs=PI(),gi,P_,C1=(P_=class{constructor(){at(this,gi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),vI(this.gcTime)&&ke(this,gi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Xf?1/0:5*60*1e3))}clearGcTimeout(){te(this,gi)&&(clearTimeout(te(this,gi)),ke(this,gi,void 0))}},gi=new WeakMap,P_),Do,xi,kn,vi,Ls,qc,yi,Kn,Rr,R_,RI=(R_=class extends C1{constructor(t){super();at(this,Kn);at(this,Do);at(this,xi);at(this,kn);at(this,vi);at(this,Ls);at(this,qc);at(this,yi);ke(this,yi,!1),ke(this,qc,t.defaultOptions),this.setOptions(t.options),this.observers=[],ke(this,vi,t.client),ke(this,kn,te(this,vi).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ke(this,Do,$I(this.options)),this.state=t.state??te(this,Do),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=te(this,Ls))==null?void 0:t.promise}setOptions(t){this.options={...te(this,qc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&te(this,kn).remove(this)}setData(t,s){const n=_I(this.state.data,t,this.options);return As(this,Kn,Rr).call(this,{data:n,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),n}setState(t,s){As(this,Kn,Rr).call(this,{type:"setState",state:t,setStateOptions:s})}cancel(t){var n,a;const s=(n=te(this,Ls))==null?void 0:n.promise;return(a=te(this,Ls))==null||a.cancel(t),s?s.then(qn).catch(qn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(te(this,Do))}isActive(){return this.observers.some(t=>wI(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===mv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>rg(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!yI(this.state.dataUpdatedAt,t)}onFocus(){var s;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(s=te(this,Ls))==null||s.continue()}onOnline(){var s;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(s=te(this,Ls))==null||s.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),te(this,kn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(s=>s!==t),this.observers.length||(te(this,Ls)&&(te(this,yi)?te(this,Ls).cancel({revert:!0}):te(this,Ls).cancelRetry()),this.scheduleGc()),te(this,kn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||As(this,Kn,Rr).call(this,{type:"invalidate"})}fetch(t,s){var d,u,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(te(this,Ls))return te(this,Ls).continueRetry(),te(this,Ls).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(v=>v.options.queryFn);m&&this.setOptions(m.options)}const n=new AbortController,a=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(ke(this,yi,!0),n.signal)})},i=()=>{const m=j1(this.options,s),j=(()=>{const g={client:te(this,vi),queryKey:this.queryKey,meta:this.meta};return a(g),g})();return ke(this,yi,!1),this.options.persister?this.options.persister(m,j,this):m(j)},l=(()=>{const m={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:te(this,vi),state:this.state,fetchFn:i};return a(m),m})();(d=this.options.behavior)==null||d.onFetch(l,this),ke(this,xi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=l.fetchOptions)==null?void 0:u.meta))&&As(this,Kn,Rr).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=m=>{var v,j,g,y;pm(m)&&m.silent||As(this,Kn,Rr).call(this,{type:"error",error:m}),pm(m)||((j=(v=te(this,kn).config).onError)==null||j.call(v,m,this),(y=(g=te(this,kn).config).onSettled)==null||y.call(g,this.state.data,m,this)),this.scheduleGc()};return ke(this,Ls,N1({initialPromise:s==null?void 0:s.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:m=>{var v,j,g,y;if(m===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(x){c(x);return}(j=(v=te(this,kn).config).onSuccess)==null||j.call(v,m,this),(y=(g=te(this,kn).config).onSettled)==null||y.call(g,m,this.state.error,this),this.scheduleGc()},onError:c,onFail:(m,v)=>{As(this,Kn,Rr).call(this,{type:"failed",failureCount:m,error:v})},onPause:()=>{As(this,Kn,Rr).call(this,{type:"pause"})},onContinue:()=>{As(this,Kn,Rr).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),te(this,Ls).start()}},Do=new WeakMap,xi=new WeakMap,kn=new WeakMap,vi=new WeakMap,Ls=new WeakMap,qc=new WeakMap,yi=new WeakMap,Kn=new WeakSet,Rr=function(t){const s=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...AI(n.data,this.options),fetchMeta:t.meta??null};case"success":return ke(this,xi,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return pm(a)&&a.revert&&te(this,xi)?{...te(this,xi),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=s(this.state),qs.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),te(this,kn).notify({query:this,type:"updated",action:t})})},R_);function AI(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:b1(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function $I(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,s=t!==void 0,n=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var hr,A_,DI=(A_=class extends Jf{constructor(t={}){super();at(this,hr);this.config=t,ke(this,hr,new Map)}build(t,s,n){const a=s.queryKey,i=s.queryHash??hv(a,s);let o=this.get(i);return o||(o=new RI({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(s),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){te(this,hr).has(t.queryHash)||(te(this,hr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const s=te(this,hr).get(t.queryHash);s&&(t.destroy(),s===t&&te(this,hr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){qs.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return te(this,hr).get(t)}getAll(){return[...te(this,hr).values()]}find(t){const s={exact:!0,...t};return this.getAll().find(n=>s0(s,n))}findAll(t={}){const s=this.getAll();return Object.keys(t).length>0?s.filter(n=>s0(t,n)):s}notify(t){qs.batch(()=>{this.listeners.forEach(s=>{s(t)})})}onFocus(){qs.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){qs.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},hr=new WeakMap,A_),mr,Ws,wi,pr,ra,$_,MI=($_=class extends C1{constructor(t){super();at(this,pr);at(this,mr);at(this,Ws);at(this,wi);this.mutationId=t.mutationId,ke(this,Ws,t.mutationCache),ke(this,mr,[]),this.state=t.state||LI(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){te(this,mr).includes(t)||(te(this,mr).push(t),this.clearGcTimeout(),te(this,Ws).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ke(this,mr,te(this,mr).filter(s=>s!==t)),this.scheduleGc(),te(this,Ws).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){te(this,mr).length||(this.state.status==="pending"?this.scheduleGc():te(this,Ws).remove(this))}continue(){var t;return((t=te(this,wi))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,l,c,d,u,f,m,v,j,g,y,x,p,w,_,b,T,N,E;const s=()=>{As(this,pr,ra).call(this,{type:"continue"})};ke(this,wi,N1({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(R,$)=>{As(this,pr,ra).call(this,{type:"failed",failureCount:R,error:$})},onPause:()=>{As(this,pr,ra).call(this,{type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>te(this,Ws).canRun(this)}));const n=this.state.status==="pending",a=!te(this,wi).canStart();try{if(n)s();else{As(this,pr,ra).call(this,{type:"pending",variables:t,isPaused:a}),await((o=(i=te(this,Ws).config).onMutate)==null?void 0:o.call(i,t,this));const $=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));$!==this.state.context&&As(this,pr,ra).call(this,{type:"pending",context:$,variables:t,isPaused:a})}const R=await te(this,wi).start();return await((u=(d=te(this,Ws).config).onSuccess)==null?void 0:u.call(d,R,t,this.state.context,this)),await((m=(f=this.options).onSuccess)==null?void 0:m.call(f,R,t,this.state.context)),await((j=(v=te(this,Ws).config).onSettled)==null?void 0:j.call(v,R,null,this.state.variables,this.state.context,this)),await((y=(g=this.options).onSettled)==null?void 0:y.call(g,R,null,t,this.state.context)),As(this,pr,ra).call(this,{type:"success",data:R}),R}catch(R){try{throw await((p=(x=te(this,Ws).config).onError)==null?void 0:p.call(x,R,t,this.state.context,this)),await((_=(w=this.options).onError)==null?void 0:_.call(w,R,t,this.state.context)),await((T=(b=te(this,Ws).config).onSettled)==null?void 0:T.call(b,void 0,R,this.state.variables,this.state.context,this)),await((E=(N=this.options).onSettled)==null?void 0:E.call(N,void 0,R,t,this.state.context)),R}finally{As(this,pr,ra).call(this,{type:"error",error:R})}}finally{te(this,Ws).runNext(this)}}},mr=new WeakMap,Ws=new WeakMap,wi=new WeakMap,pr=new WeakSet,ra=function(t){const s=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=s(this.state),qs.batch(()=>{te(this,mr).forEach(n=>{n.onMutationUpdate(t)}),te(this,Ws).notify({mutation:this,type:"updated",action:t})})},$_);function LI(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ir,Gn,Kc,D_,II=(D_=class extends Jf{constructor(t={}){super();at(this,Ir);at(this,Gn);at(this,Kc);this.config=t,ke(this,Ir,new Set),ke(this,Gn,new Map),ke(this,Kc,0)}build(t,s,n){const a=new MI({mutationCache:this,mutationId:++wd(this,Kc)._,options:t.defaultMutationOptions(s),state:n});return this.add(a),a}add(t){te(this,Ir).add(t);const s=Ud(t);if(typeof s=="string"){const n=te(this,Gn).get(s);n?n.push(t):te(this,Gn).set(s,[t])}this.notify({type:"added",mutation:t})}remove(t){if(te(this,Ir).delete(t)){const s=Ud(t);if(typeof s=="string"){const n=te(this,Gn).get(s);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&te(this,Gn).delete(s)}}this.notify({type:"removed",mutation:t})}canRun(t){const s=Ud(t);if(typeof s=="string"){const n=te(this,Gn).get(s),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const s=Ud(t);if(typeof s=="string"){const a=(n=te(this,Gn).get(s))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){qs.batch(()=>{te(this,Ir).forEach(t=>{this.notify({type:"removed",mutation:t})}),te(this,Ir).clear(),te(this,Gn).clear()})}getAll(){return Array.from(te(this,Ir))}find(t){const s={exact:!0,...t};return this.getAll().find(n=>n0(s,n))}findAll(t={}){return this.getAll().filter(s=>n0(t,s))}notify(t){qs.batch(()=>{this.listeners.forEach(s=>{s(t)})})}resumePausedMutations(){const t=this.getAll().filter(s=>s.state.isPaused);return qs.batch(()=>Promise.all(t.map(s=>s.continue().catch(qn))))}},Ir=new WeakMap,Gn=new WeakMap,Kc=new WeakMap,D_);function Ud(e){var t;return(t=e.options.scope)==null?void 0:t.id}function i0(e){return{onFetch:(t,s)=>{var u,f,m,v,j;const n=t.options,a=(m=(f=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,i=((v=t.state.data)==null?void 0:v.pages)||[],o=((j=t.state.data)==null?void 0:j.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let g=!1;const y=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},x=j1(t.options,t.fetchOptions),p=async(w,_,b)=>{if(g)return Promise.reject();if(_==null&&w.pages.length)return Promise.resolve(w);const N=(()=>{const F={client:t.client,queryKey:t.queryKey,pageParam:_,direction:b?"backward":"forward",meta:t.options.meta};return y(F),F})(),E=await x(N),{maxPages:R}=t.options,$=b?SI:bI;return{pages:$(w.pages,E,R),pageParams:$(w.pageParams,_,R)}};if(a&&i.length){const w=a==="backward",_=w?OI:o0,b={pages:i,pageParams:o},T=_(n,b);l=await p(b,T,w)}else{const w=e??i.length;do{const _=c===0?o[0]??n.initialPageParam:o0(n,l);if(c>0&&_==null)break;l=await p(l,_),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var g,y;return(y=(g=t.options).persister)==null?void 0:y.call(g,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s)}:t.fetchFn=d}}}function o0(e,{pages:t,pageParams:s}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,s[n],s):void 0}function OI(e,{pages:t,pageParams:s}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,s[0],s):void 0}var Ht,xa,va,Mo,Lo,ya,Io,Oo,M_,FI=(M_=class{constructor(e={}){at(this,Ht);at(this,xa);at(this,va);at(this,Mo);at(this,Lo);at(this,ya);at(this,Io);at(this,Oo);ke(this,Ht,e.queryCache||new DI),ke(this,xa,e.mutationCache||new II),ke(this,va,e.defaultOptions||{}),ke(this,Mo,new Map),ke(this,Lo,new Map),ke(this,ya,0)}mount(){wd(this,ya)._++,te(this,ya)===1&&(ke(this,Io,_1.subscribe(async e=>{e&&(await this.resumePausedMutations(),te(this,Ht).onFocus())})),ke(this,Oo,tf.subscribe(async e=>{e&&(await this.resumePausedMutations(),te(this,Ht).onOnline())})))}unmount(){var e,t;wd(this,ya)._--,te(this,ya)===0&&((e=te(this,Io))==null||e.call(this),ke(this,Io,void 0),(t=te(this,Oo))==null||t.call(this),ke(this,Oo,void 0))}isFetching(e){return te(this,Ht).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return te(this,xa).findAll({...e,status:"pending"}).length}getQueryData(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=te(this,Ht).get(t.queryHash))==null?void 0:s.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),s=te(this,Ht).build(this,t),n=s.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime(rg(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return te(this,Ht).findAll(e).map(({queryKey:t,state:s})=>{const n=s.data;return[t,n]})}setQueryData(e,t,s){const n=this.defaultQueryOptions({queryKey:e}),a=te(this,Ht).get(n.queryHash),i=a==null?void 0:a.state.data,o=xI(t,i);if(o!==void 0)return te(this,Ht).build(this,n).setData(o,{...s,manual:!0})}setQueriesData(e,t,s){return qs.batch(()=>te(this,Ht).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,s)]))}getQueryState(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=te(this,Ht).get(t.queryHash))==null?void 0:s.state}removeQueries(e){const t=te(this,Ht);qs.batch(()=>{t.findAll(e).forEach(s=>{t.remove(s)})})}resetQueries(e,t){const s=te(this,Ht);return qs.batch(()=>(s.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const s={revert:!0,...t},n=qs.batch(()=>te(this,Ht).findAll(e).map(a=>a.cancel(s)));return Promise.all(n).then(qn).catch(qn)}invalidateQueries(e,t={}){return qs.batch(()=>(te(this,Ht).findAll(e).forEach(s=>{s.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const s={...t,cancelRefetch:t.cancelRefetch??!0},n=qs.batch(()=>te(this,Ht).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,s);return s.throwOnError||(i=i.catch(qn)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(qn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const s=te(this,Ht).build(this,t);return s.isStaleByTime(rg(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(qn).catch(qn)}fetchInfiniteQuery(e){return e.behavior=i0(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(qn).catch(qn)}ensureInfiniteQueryData(e){return e.behavior=i0(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return tf.isOnline()?te(this,xa).resumePausedMutations():Promise.resolve()}getQueryCache(){return te(this,Ht)}getMutationCache(){return te(this,xa)}getDefaultOptions(){return te(this,va)}setDefaultOptions(e){ke(this,va,e)}setQueryDefaults(e,t){te(this,Mo).set(Rc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...te(this,Mo).values()],s={};return t.forEach(n=>{Ac(e,n.queryKey)&&Object.assign(s,n.defaultOptions)}),s}setMutationDefaults(e,t){te(this,Lo).set(Rc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...te(this,Lo).values()],s={};return t.forEach(n=>{Ac(e,n.mutationKey)&&Object.assign(s,n.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={...te(this,va).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=hv(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===mv&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...te(this,va).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){te(this,Ht).clear(),te(this,xa).clear()}},Ht=new WeakMap,xa=new WeakMap,va=new WeakMap,Mo=new WeakMap,Lo=new WeakMap,ya=new WeakMap,Io=new WeakMap,Oo=new WeakMap,M_),BI=h.createContext(void 0),UI=({client:e,children:t})=>(h.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(BI.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $c(){return $c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},$c.apply(this,arguments)}var ba;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ba||(ba={}));const l0="popstate";function zI(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return ig("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function s(n,a){return typeof a=="string"?a:sf(a)}return WI(t,s,null,e)}function as(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function E1(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function VI(){return Math.random().toString(36).substr(2,8)}function c0(e,t){return{usr:e.state,key:e.key,idx:t}}function ig(e,t,s,n){return s===void 0&&(s=null),$c({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?dl(t):t,{state:s,key:t&&t.key||n||VI()})}function sf(e){let{pathname:t="/",search:s="",hash:n=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function dl(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function WI(e,t,s,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=ba.Pop,c=null,d=u();d==null&&(d=0,o.replaceState($c({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function f(){l=ba.Pop;let y=u(),x=y==null?null:y-d;d=y,c&&c({action:l,location:g.location,delta:x})}function m(y,x){l=ba.Push;let p=ig(g.location,y,x);d=u()+1;let w=c0(p,d),_=g.createHref(p);try{o.pushState(w,"",_)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;a.location.assign(_)}i&&c&&c({action:l,location:g.location,delta:1})}function v(y,x){l=ba.Replace;let p=ig(g.location,y,x);d=u();let w=c0(p,d),_=g.createHref(p);o.replaceState(w,"",_),i&&c&&c({action:l,location:g.location,delta:0})}function j(y){let x=a.location.origin!=="null"?a.location.origin:a.location.href,p=typeof y=="string"?y:sf(y);return p=p.replace(/ $/,"%20"),as(x,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,x)}let g={get action(){return l},get location(){return e(a,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(l0,f),c=y,()=>{a.removeEventListener(l0,f),c=null}},createHref(y){return t(a,y)},createURL:j,encodeLocation(y){let x=j(y);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:v,go(y){return o.go(y)}};return g}var d0;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(d0||(d0={}));function HI(e,t,s){return s===void 0&&(s="/"),qI(e,t,s)}function qI(e,t,s,n){let a=typeof t=="string"?dl(t):t,i=pv(a.pathname||"/",s);if(i==null)return null;let o=T1(e);KI(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=a4(i);l=s4(o[c],d)}return l}function T1(e,t,s,n){t===void 0&&(t=[]),s===void 0&&(s=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(as(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=$a([n,c.relativePath]),u=s.concat(c);i.children&&i.children.length>0&&(as(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),T1(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:e4(d,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of k1(i.path))a(i,o,c)}),t}function k1(e){let t=e.split("/");if(t.length===0)return[];let[s,...n]=t,a=s.endsWith("?"),i=s.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=k1(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function KI(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:t4(t.routesMeta.map(n=>n.childrenIndex),s.routesMeta.map(n=>n.childrenIndex)))}const GI=/^:[\w-]+$/,YI=3,QI=2,JI=1,XI=10,ZI=-2,u0=e=>e==="*";function e4(e,t){let s=e.split("/"),n=s.length;return s.some(u0)&&(n+=ZI),t&&(n+=QI),s.filter(a=>!u0(a)).reduce((a,i)=>a+(GI.test(i)?YI:i===""?JI:XI),n)}function t4(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function s4(e,t,s){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",f=n4({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),m=c.route;if(!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:$a([i,f.pathname]),pathnameBase:c4($a([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=$a([i,f.pathnameBase]))}return o}function n4(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,n]=r4(e.path,e.caseSensitive,e.end),a=t.match(s);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((d,u,f)=>{let{paramName:m,isOptional:v}=u;if(m==="*"){let g=l[f]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const j=l[f];return v&&!j?d[m]=void 0:d[m]=(j||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function r4(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),E1(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function a4(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return E1(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function pv(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,n=e.charAt(s);return n&&n!=="/"?null:e.slice(s)||"/"}function i4(e,t){t===void 0&&(t="/");let{pathname:s,search:n="",hash:a=""}=typeof e=="string"?dl(e):e;return{pathname:s?s.startsWith("/")?s:o4(s,t):t,search:d4(n),hash:u4(a)}}function o4(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?s.length>1&&s.pop():a!=="."&&s.push(a)}),s.length>1?s.join("/"):"/"}function gm(e,t,s,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function l4(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function P1(e,t){let s=l4(e);return t?s.map((n,a)=>a===s.length-1?n.pathname:n.pathnameBase):s.map(n=>n.pathnameBase)}function R1(e,t,s,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=dl(e):(a=$c({},e),as(!a.pathname||!a.pathname.includes("?"),gm("?","pathname","search",a)),as(!a.pathname||!a.pathname.includes("#"),gm("#","pathname","hash",a)),as(!a.search||!a.search.includes("#"),gm("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=s;else{let f=t.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;a.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=i4(a,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const $a=e=>e.join("/").replace(/\/\/+/g,"/"),c4=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),d4=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,u4=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function f4(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const A1=["post","put","patch","delete"];new Set(A1);const h4=["get",...A1];new Set(h4);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dc(){return Dc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Dc.apply(this,arguments)}const gv=h.createContext(null),m4=h.createContext(null),Bi=h.createContext(null),Zf=h.createContext(null),Ha=h.createContext({outlet:null,matches:[],isDataRoute:!1}),$1=h.createContext(null);function p4(e,t){let{relative:s}=t===void 0?{}:t;id()||as(!1);let{basename:n,navigator:a}=h.useContext(Bi),{hash:i,pathname:o,search:l}=M1(e,{relative:s}),c=o;return n!=="/"&&(c=o==="/"?n:$a([n,o])),a.createHref({pathname:c,search:l,hash:i})}function id(){return h.useContext(Zf)!=null}function ul(){return id()||as(!1),h.useContext(Zf).location}function D1(e){h.useContext(Bi).static||h.useLayoutEffect(e)}function xv(){let{isDataRoute:e}=h.useContext(Ha);return e?T4():g4()}function g4(){id()||as(!1);let e=h.useContext(gv),{basename:t,future:s,navigator:n}=h.useContext(Bi),{matches:a}=h.useContext(Ha),{pathname:i}=ul(),o=JSON.stringify(P1(a,s.v7_relativeSplatPath)),l=h.useRef(!1);return D1(()=>{l.current=!0}),h.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let f=R1(d,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:$a([t,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[t,n,o,i,e])}function vv(){let{matches:e}=h.useContext(Ha),t=e[e.length-1];return t?t.params:{}}function M1(e,t){let{relative:s}=t===void 0?{}:t,{future:n}=h.useContext(Bi),{matches:a}=h.useContext(Ha),{pathname:i}=ul(),o=JSON.stringify(P1(a,n.v7_relativeSplatPath));return h.useMemo(()=>R1(e,JSON.parse(o),i,s==="path"),[e,o,i,s])}function x4(e,t){return v4(e,t)}function v4(e,t,s,n){id()||as(!1);let{navigator:a}=h.useContext(Bi),{matches:i}=h.useContext(Ha),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=ul(),u;if(t){var f;let y=typeof t=="string"?dl(t):t;c==="/"||(f=y.pathname)!=null&&f.startsWith(c)||as(!1),u=y}else u=d;let m=u.pathname||"/",v=m;if(c!=="/"){let y=c.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(y.length).join("/")}let j=HI(e,{pathname:v}),g=b4(j&&j.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:$a([c,a.encodeLocation?a.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:$a([c,a.encodeLocation?a.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,s,n);return t&&g?h.createElement(Zf.Provider,{value:{location:Dc({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:ba.Pop}},g):g}function y4(){let e=E4(),t=f4(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),s?h.createElement("pre",{style:a},s):null,null)}const w4=h.createElement(y4,null);class j4 extends h.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?h.createElement(Ha.Provider,{value:this.props.routeContext},h.createElement($1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _4(e){let{routeContext:t,match:s,children:n}=e,a=h.useContext(gv);return a&&a.static&&a.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=s.route.id),h.createElement(Ha.Provider,{value:t},n)}function b4(e,t,s,n){var a;if(t===void 0&&(t=[]),s===void 0&&(s=null),n===void 0&&(n=null),e==null){var i;if(!s)return null;if(s.errors)e=s.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let o=e,l=(a=s)==null?void 0:a.errors;if(l!=null){let u=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);u>=0||as(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(s&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let f=o[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=u),f.route.id){let{loaderData:m,errors:v}=s,j=f.route.loader&&m[f.route.id]===void 0&&(!v||v[f.route.id]===void 0);if(f.route.lazy||j){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,f,m)=>{let v,j=!1,g=null,y=null;s&&(v=l&&f.route.id?l[f.route.id]:void 0,g=f.route.errorElement||w4,c&&(d<0&&m===0?(k4("route-fallback"),j=!0,y=null):d===m&&(j=!0,y=f.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,m+1)),p=()=>{let w;return v?w=g:j?w=y:f.route.Component?w=h.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=u,h.createElement(_4,{match:f,routeContext:{outlet:u,matches:x,isDataRoute:s!=null},children:w})};return s&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?h.createElement(j4,{location:s.location,revalidation:s.revalidation,component:g,error:v,children:p(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):p()},null)}var L1=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(L1||{}),I1=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(I1||{});function S4(e){let t=h.useContext(gv);return t||as(!1),t}function N4(e){let t=h.useContext(m4);return t||as(!1),t}function C4(e){let t=h.useContext(Ha);return t||as(!1),t}function O1(e){let t=C4(),s=t.matches[t.matches.length-1];return s.route.id||as(!1),s.route.id}function E4(){var e;let t=h.useContext($1),s=N4(),n=O1();return t!==void 0?t:(e=s.errors)==null?void 0:e[n]}function T4(){let{router:e}=S4(L1.UseNavigateStable),t=O1(I1.UseNavigateStable),s=h.useRef(!1);return D1(()=>{s.current=!0}),h.useCallback(function(a,i){i===void 0&&(i={}),s.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Dc({fromRouteId:t},i)))},[e,t])}const f0={};function k4(e,t,s){f0[e]||(f0[e]=!0)}function P4(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Vs(e){as(!1)}function R4(e){let{basename:t="/",children:s=null,location:n,navigationType:a=ba.Pop,navigator:i,static:o=!1,future:l}=e;id()&&as(!1);let c=t.replace(/^\/*/,"/"),d=h.useMemo(()=>({basename:c,navigator:i,static:o,future:Dc({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=dl(n));let{pathname:u="/",search:f="",hash:m="",state:v=null,key:j="default"}=n,g=h.useMemo(()=>{let y=pv(u,c);return y==null?null:{location:{pathname:y,search:f,hash:m,state:v,key:j},navigationType:a}},[c,u,f,m,v,j,a]);return g==null?null:h.createElement(Bi.Provider,{value:d},h.createElement(Zf.Provider,{children:s,value:g}))}function A4(e){let{children:t,location:s}=e;return x4(og(t),s)}new Promise(()=>{});function og(e,t){t===void 0&&(t=[]);let s=[];return h.Children.forEach(e,(n,a)=>{if(!h.isValidElement(n))return;let i=[...t,a];if(n.type===h.Fragment){s.push.apply(s,og(n.props.children,i));return}n.type!==Vs&&as(!1),!n.props.index||!n.props.children||as(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=og(n.props.children,i)),s.push(o)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lg(){return lg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},lg.apply(this,arguments)}function $4(e,t){if(e==null)return{};var s={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(s[a]=e[a]);return s}function D4(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function M4(e,t){return e.button===0&&(!t||t==="_self")&&!D4(e)}const L4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],I4="6";try{window.__reactRouterVersion=I4}catch{}const O4="startTransition",h0=nx[O4];function F4(e){let{basename:t,children:s,future:n,window:a}=e,i=h.useRef();i.current==null&&(i.current=zI({window:a,v5Compat:!0}));let o=i.current,[l,c]=h.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},u=h.useCallback(f=>{d&&h0?h0(()=>c(f)):c(f)},[c,d]);return h.useLayoutEffect(()=>o.listen(u),[o,u]),h.useEffect(()=>P4(n),[n]),h.createElement(R4,{basename:t,children:s,location:l.location,navigationType:l.action,navigator:o,future:n})}const B4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",U4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ns=h.forwardRef(function(t,s){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:f}=t,m=$4(t,L4),{basename:v}=h.useContext(Bi),j,g=!1;if(typeof d=="string"&&U4.test(d)&&(j=d,B4))try{let w=new URL(window.location.href),_=d.startsWith("//")?new URL(w.protocol+d):new URL(d),b=pv(_.pathname,v);_.origin===w.origin&&b!=null?d=b+_.search+_.hash:g=!0}catch{}let y=p4(d,{relative:a}),x=z4(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:f});function p(w){n&&n(w),w.defaultPrevented||x(w)}return h.createElement("a",lg({},m,{href:j||y,onClick:g||i?n:p,ref:s,target:c}))});var m0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(m0||(m0={}));var p0;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(p0||(p0={}));function z4(e,t){let{target:s,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=xv(),d=ul(),u=M1(e,{relative:o});return h.useCallback(f=>{if(M4(f,s)){f.preventDefault();let m=n!==void 0?n:sf(d)===sf(u);c(e,{replace:m,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,n,a,s,e,i,o,l])}const V4="modulepreload",W4=function(e){return"/"+e},g0={},Yr=function(t,s,n){let a=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(s.map(c=>{if(c=W4(c),c in g0)return;g0[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":V4,d||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),d)return new Promise((m,v)=>{f.addEventListener("load",m),f.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},H4=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>Yr(async()=>{const{default:n}=await Promise.resolve().then(()=>fl);return{default:n}},void 0).then(({default:n})=>n(...s)):t=fetch,(...s)=>t(...s)};class yv extends Error{constructor(t,s="FunctionsError",n){super(t),this.name=s,this.context=n}}class q4 extends yv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class x0 extends yv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class v0 extends yv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var cg;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(cg||(cg={}));var K4=function(e,t,s,n){function a(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class G4{constructor(t,{headers:s={},customFetch:n,region:a=cg.Any}={}){this.url=t,this.headers=s,this.region=a,this.fetch=H4(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,s={}){var n;return K4(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:o}=s;let l={},{region:c}=s;c||(c=this.region);const d=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let u;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const f=yield this.fetch(d.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:u}).catch(g=>{throw new q4(g)}),m=f.headers.get("x-relay-error");if(m&&m==="true")throw new x0(f);if(!f.ok)throw new v0(f);let v=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),j;return v==="application/json"?j=yield f.json():v==="application/octet-stream"?j=yield f.blob():v==="text/event-stream"?j=f:v==="multipart/form-data"?j=yield f.formData():j=yield f.text(),{data:j,error:null,response:f}}catch(a){return{data:null,error:a,response:a instanceof v0||a instanceof x0?a.context:void 0}}})}}var nn={},wv={},eh={},od={},th={},sh={},Y4=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Yo=Y4();const Q4=Yo.fetch,F1=Yo.fetch.bind(Yo),B1=Yo.Headers,J4=Yo.Request,X4=Yo.Response,fl=Object.freeze(Object.defineProperty({__proto__:null,Headers:B1,Request:J4,Response:X4,default:F1,fetch:Q4},Symbol.toStringTag,{value:"Module"})),Z4=K2(fl);var nh={};Object.defineProperty(nh,"__esModule",{value:!0});let eO=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};nh.default=eO;var U1=On&&On.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sh,"__esModule",{value:!0});const tO=U1(Z4),sO=U1(nh);let nO=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=tO.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,s){return this.headers=Object.assign({},this.headers),this.headers[t]=s,this}then(t,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let d=null,u=null,f=null,m=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const x=await i.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=x:u=JSON.parse(x))}const g=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),y=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");g&&y&&y.length>1&&(f=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(d={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,f=null,m=406,v="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const g=await i.text();try{d=JSON.parse(g),Array.isArray(d)&&i.status===404&&(u=[],d=null,m=200,v="OK")}catch{i.status===404&&g===""?(m=204,v="No Content"):d={message:g}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,m=200,v="OK"),d&&this.shouldThrowOnError)throw new sO.default(d)}return{error:d,data:u,count:f,status:m,statusText:v}});return this.shouldThrowOnError||(a=a.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,s)}returns(){return this}overrideTypes(){return this}};sh.default=nO;var rO=On&&On.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(th,"__esModule",{value:!0});const aO=rO(sh);let iO=class extends aO.default{select(t){let s=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:s=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${s?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:s,referencedTable:n=s}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,s,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${s-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:s=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,s?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};th.default=iO;var oO=On&&On.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(od,"__esModule",{value:!0});const lO=oO(th);let cO=class extends lO.default{eq(t,s){return this.url.searchParams.append(t,`eq.${s}`),this}neq(t,s){return this.url.searchParams.append(t,`neq.${s}`),this}gt(t,s){return this.url.searchParams.append(t,`gt.${s}`),this}gte(t,s){return this.url.searchParams.append(t,`gte.${s}`),this}lt(t,s){return this.url.searchParams.append(t,`lt.${s}`),this}lte(t,s){return this.url.searchParams.append(t,`lte.${s}`),this}like(t,s){return this.url.searchParams.append(t,`like.${s}`),this}likeAllOf(t,s){return this.url.searchParams.append(t,`like(all).{${s.join(",")}}`),this}likeAnyOf(t,s){return this.url.searchParams.append(t,`like(any).{${s.join(",")}}`),this}ilike(t,s){return this.url.searchParams.append(t,`ilike.${s}`),this}ilikeAllOf(t,s){return this.url.searchParams.append(t,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(t,s){return this.url.searchParams.append(t,`ilike(any).{${s.join(",")}}`),this}is(t,s){return this.url.searchParams.append(t,`is.${s}`),this}in(t,s){const n=Array.from(new Set(s)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,s){return typeof s=="string"?this.url.searchParams.append(t,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(t,`cs.{${s.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(s)}`),this}containedBy(t,s){return typeof s=="string"?this.url.searchParams.append(t,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(t,`cd.{${s.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(s)}`),this}rangeGt(t,s){return this.url.searchParams.append(t,`sr.${s}`),this}rangeGte(t,s){return this.url.searchParams.append(t,`nxl.${s}`),this}rangeLt(t,s){return this.url.searchParams.append(t,`sl.${s}`),this}rangeLte(t,s){return this.url.searchParams.append(t,`nxr.${s}`),this}rangeAdjacent(t,s){return this.url.searchParams.append(t,`adj.${s}`),this}overlaps(t,s){return typeof s=="string"?this.url.searchParams.append(t,`ov.${s}`):this.url.searchParams.append(t,`ov.{${s.join(",")}}`),this}textSearch(t,s,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${s}`),this}match(t){return Object.entries(t).forEach(([s,n])=>{this.url.searchParams.append(s,`eq.${n}`)}),this}not(t,s,n){return this.url.searchParams.append(t,`not.${s}.${n}`),this}or(t,{foreignTable:s,referencedTable:n=s}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,s,n){return this.url.searchParams.append(t,`${s}.${n}`),this}};od.default=cO;var dO=On&&On.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(eh,"__esModule",{value:!0});const Rl=dO(od);let uO=class{constructor(t,{headers:s={},schema:n,fetch:a}){this.url=t,this.headers=s,this.schema=n,this.fetch=a}select(t,{head:s=!1,count:n}={}){const a=s?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Rl.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:s,defaultToNull:n=!0}={}){const a="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),s&&i.push(`count=${s}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Rl.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:s,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new Rl.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:s}={}){const n="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),this.headers.Prefer=a.join(","),new Rl.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const s="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Rl.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};eh.default=uO;var rh={},ah={};Object.defineProperty(ah,"__esModule",{value:!0});ah.version=void 0;ah.version="0.0.0-automated";Object.defineProperty(rh,"__esModule",{value:!0});rh.DEFAULT_HEADERS=void 0;const fO=ah;rh.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${fO.version}`};var z1=On&&On.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wv,"__esModule",{value:!0});const hO=z1(eh),mO=z1(od),pO=rh;let gO=class V1{constructor(t,{headers:s={},schema:n,fetch:a}={}){this.url=t,this.headers=Object.assign(Object.assign({},pO.DEFAULT_HEADERS),s),this.schemaName=n,this.fetch=a}from(t){const s=new URL(`${this.url}/${t}`);return new hO.default(s,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new V1(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,s={},{head:n=!1,get:a=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;n||a?(o=n?"HEAD":"GET",Object.entries(s).filter(([u,f])=>f!==void 0).map(([u,f])=>[u,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([u,f])=>{l.searchParams.append(u,f)})):(o="POST",c=s);const d=Object.assign({},this.headers);return i&&(d.Prefer=`count=${i}`),new mO.default({method:o,url:l,headers:d,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};wv.default=gO;var hl=On&&On.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nn,"__esModule",{value:!0});nn.PostgrestError=nn.PostgrestBuilder=nn.PostgrestTransformBuilder=nn.PostgrestFilterBuilder=nn.PostgrestQueryBuilder=nn.PostgrestClient=void 0;const W1=hl(wv);nn.PostgrestClient=W1.default;const H1=hl(eh);nn.PostgrestQueryBuilder=H1.default;const q1=hl(od);nn.PostgrestFilterBuilder=q1.default;const K1=hl(th);nn.PostgrestTransformBuilder=K1.default;const G1=hl(sh);nn.PostgrestBuilder=G1.default;const Y1=hl(nh);nn.PostgrestError=Y1.default;var xO=nn.default={PostgrestClient:W1.default,PostgrestQueryBuilder:H1.default,PostgrestFilterBuilder:q1.default,PostgrestTransformBuilder:K1.default,PostgrestBuilder:G1.default,PostgrestError:Y1.default};const{PostgrestClient:vO,PostgrestQueryBuilder:jH,PostgrestFilterBuilder:_H,PostgrestTransformBuilder:bH,PostgrestBuilder:SH,PostgrestError:NH}=xO;function yO(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const wO=yO(),jO="2.11.15",_O=`realtime-js/${jO}`,bO="1.0.0",Q1=1e4,SO=1e3;var Zl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Zl||(Zl={}));var Ms;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ms||(Ms={}));var Qn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Qn||(Qn={}));var dg;(function(e){e.websocket="websocket"})(dg||(dg={}));var ci;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ci||(ci={}));class NO{constructor(){this.HEADER_LENGTH=1}decode(t,s){return t.constructor===ArrayBuffer?s(this._binaryDecode(t)):s(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const s=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,s,n)}_decodeBroadcast(t,s,n){const a=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+a));o=o+a;const c=n.decode(t.slice(o,o+i));o=o+i;const d=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class J1{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var _t;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(_t||(_t={}));const y0=(e,t,s={})=>{var n;const a=(n=s.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=CO(o,e,t,a),i),{})},CO=(e,t,s,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=s[e];return i&&!n.includes(i)?X1(i,o):ug(o)},X1=(e,t)=>{if(e.charAt(0)==="_"){const s=e.slice(1,e.length);return PO(t,s)}switch(e){case _t.bool:return EO(t);case _t.float4:case _t.float8:case _t.int2:case _t.int4:case _t.int8:case _t.numeric:case _t.oid:return TO(t);case _t.json:case _t.jsonb:return kO(t);case _t.timestamp:return RO(t);case _t.abstime:case _t.date:case _t.daterange:case _t.int4range:case _t.int8range:case _t.money:case _t.reltime:case _t.text:case _t.time:case _t.timestamptz:case _t.timetz:case _t.tsrange:case _t.tstzrange:return ug(t);default:return ug(t)}},ug=e=>e,EO=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},TO=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},kO=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},PO=(e,t)=>{if(typeof e!="string")return e;const s=e.length-1,n=e[s];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>X1(t,l))}return e},RO=e=>typeof e=="string"?e.replace(" ","T"):e,Z1=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class xm{constructor(t,s,n={},a=Q1){this.channel=t,this.event=s,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var n;return this._hasReceived(t)&&s((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var w0;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(w0||(w0={}));class ec{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ec.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=ec.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=ec.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,n,a){const i=this.cloneDeep(t),o=this.transformState(s),l={},c={};return this.map(i,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const f=i[d];if(f){const m=u.map(y=>y.presence_ref),v=f.map(y=>y.presence_ref),j=u.filter(y=>v.indexOf(y.presence_ref)<0),g=f.filter(y=>m.indexOf(y.presence_ref)<0);j.length>0&&(l[d]=j),g.length>0&&(c[d]=g)}else l[d]=u}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,s,n,a){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var d;const u=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),u.length>0){const f=t[l].map(v=>v.presence_ref),m=u.filter(v=>f.indexOf(v.presence_ref)<0);t[l].unshift(...m)}n(l,u,c)}),this.map(o,(l,c)=>{let d=t[l];if(!d)return;const u=c.map(f=>f.presence_ref);d=d.filter(f=>u.indexOf(f.presence_ref)<0),t[l]=d,a(l,d,c),d.length===0&&delete t[l]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(n=>s(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,n)=>{const a=t[n];return"metas"in a?s[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[n]=a,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var j0;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(j0||(j0={}));var _0;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(_0||(_0={}));var Dr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Dr||(Dr={}));class jv{constructor(t,s={config:{}},n){this.topic=t,this.params=s,this.socket=n,this.bindings={},this.state=Ms.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new xm(this,Qn.join,this.params,this.timeout),this.rejoinTimer=new J1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ms.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ms.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Ms.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ms.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qn.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new ec(this),this.broadcastEndpointURL=Z1(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,s=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Ms.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(u=>t==null?void 0:t(Dr.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(Dr.CLOSED));const c={},d={broadcast:i,presence:o,postgres_changes:(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&a!==void 0?a:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:u})=>{var f;if(this.socket.setAuth(),u===void 0){t==null||t(Dr.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,v=(f=m==null?void 0:m.length)!==null&&f!==void 0?f:0,j=[];for(let g=0;g<v;g++){const y=m[g],{filter:{event:x,schema:p,table:w,filter:_}}=y,b=u&&u[g];if(b&&b.event===x&&b.schema===p&&b.table===w&&b.filter===_)j.push(Object.assign(Object.assign({},y),{id:b.id}));else{this.unsubscribe(),this.state=Ms.errored,t==null||t(Dr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,t&&t(Dr.SUBSCRIBED);return}}).receive("error",u=>{this.state=Ms.errored,t==null||t(Dr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Dr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,n){return this._on(t,s,n)}async send(t,s={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=s.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const d=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ms.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new xm(this,Qn.leave,{},t),n.receive("ok",()=>{s(),a("ok")}).receive("timeout",()=>{s(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,s,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:a.signal}));return clearTimeout(i),o}_push(t,s,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new xm(this,t,s,n);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,s,n){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=Qn;if(n&&[l,c,d,u].indexOf(o)>=0&&n!==this._joinRef())return;let m=this._onMessage(o,s,n);if(s&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(v=>{var j,g,y;return((j=v.filter)===null||j===void 0?void 0:j.event)==="*"||((y=(g=v.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(v=>v.callback(m,n)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var j,g,y,x,p,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const _=v.id,b=(j=v.filter)===null||j===void 0?void 0:j.event;return _&&((g=s.ids)===null||g===void 0?void 0:g.includes(_))&&(b==="*"||(b==null?void 0:b.toLocaleLowerCase())===((y=s.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const _=(p=(x=v==null?void 0:v.filter)===null||x===void 0?void 0:x.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return _==="*"||_===((w=s==null?void 0:s.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof m=="object"&&"ids"in m){const j=m.data,{schema:g,table:y,commit_timestamp:x,type:p,errors:w}=j;m=Object.assign(Object.assign({},{schema:g,table:y,commit_timestamp:x,eventType:p,new:{},old:{},errors:w}),this._getPayloadRecords(j))}v.callback(m,n)})}_isClosed(){return this.state===Ms.closed}_isJoined(){return this.state===Ms.joined}_isJoining(){return this.state===Ms.joining}_isLeaving(){return this.state===Ms.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,n){const a=t.toLocaleLowerCase(),i={type:a,filter:s,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,s){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&jv.isEqual(a.filter,s))}),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const n in t)if(t[n]!==s[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Qn.close,{},t)}_onError(t){this._on(Qn.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ms.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=y0(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=y0(t.columns,t.old_record)),s}}const b0=()=>{},AO=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class $O{constructor(t,s){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Q1,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=b0,this.ref=0,this.logger=b0,this.conn=null,this.sendBuffer=[],this.serializer=new NO,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>Yr(async()=>{const{default:c}=await Promise.resolve().then(()=>fl);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${dg.websocket}`,this.httpEndpoint=Z1(t),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),(s!=null&&s.logLevel||s!=null&&s.log_level)&&(this.logLevel=s.logLevel||s.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const a=(n=s==null?void 0:s.params)===null||n===void 0?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(i,o)=>o(JSON.stringify(i)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new J1(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=wO),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:bO}))}disconnect(t,s){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,s,n){this.logger(t,s,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Zl.connecting:return ci.Connecting;case Zl.open:return ci.Open;case Zl.closing:return ci.Closing;default:return ci.Closed}}isConnected(){return this.connectionState()===ci.Open}channel(t,s={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new jv(`realtime:${t}`,s,this);return this.channels.push(i),i}}push(t){const{topic:s,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${s} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let s=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(n=>{const a={access_token:s,version:_O};s&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(Qn.access_token,{access_token:s})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(SO,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,s=>{let{topic:n,event:a,payload:i,ref:o}=s;n==="phoenix"&&a==="phx_reply"&&this.heartbeatCallback(s.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${a} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(a,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(s))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Qn.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(s);return`${t}${n}${a}`}_workerObjectUrl(t){let s;if(t)s=t;else{const n=new Blob([AO],{type:"application/javascript"});s=URL.createObjectURL(n)}return s}}class _v extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function fs(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class DO extends _v{constructor(t,s){super(t),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class fg extends _v{constructor(t,s){super(t),this.name="StorageUnknownError",this.originalError=s}}var MO=function(e,t,s,n){function a(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const eC=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>Yr(async()=>{const{default:n}=await Promise.resolve().then(()=>fl);return{default:n}},void 0).then(({default:n})=>n(...s)):t=fetch,(...s)=>t(...s)},LO=()=>MO(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Yr(()=>Promise.resolve().then(()=>fl),void 0)).Response:Response}),hg=e=>{if(Array.isArray(e))return e.map(s=>hg(s));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([s,n])=>{const a=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=hg(n)}),t};var Ui=function(e,t,s,n){function a(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const vm=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),IO=(e,t,s)=>Ui(void 0,void 0,void 0,function*(){const n=yield LO();e instanceof n&&!(s!=null&&s.noResolveJson)?e.json().then(a=>{t(new DO(vm(a),e.status||500))}).catch(a=>{t(new fg(vm(a),a))}):t(new fg(vm(e),e))}),OO=(e,t,s,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),s))};function ld(e,t,s,n,a,i){return Ui(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(s,OO(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>IO(c,l,n))})})}function nf(e,t,s,n){return Ui(this,void 0,void 0,function*(){return ld(e,"GET",t,s,n)})}function da(e,t,s,n,a){return Ui(this,void 0,void 0,function*(){return ld(e,"POST",t,n,a,s)})}function FO(e,t,s,n,a){return Ui(this,void 0,void 0,function*(){return ld(e,"PUT",t,n,a,s)})}function BO(e,t,s,n){return Ui(this,void 0,void 0,function*(){return ld(e,"HEAD",t,Object.assign(Object.assign({},s),{noResolveJson:!0}),n)})}function tC(e,t,s,n,a){return Ui(this,void 0,void 0,function*(){return ld(e,"DELETE",t,n,a,s)})}var tn=function(e,t,s,n){function a(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const UO={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},S0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class zO{constructor(t,s={},n,a){this.url=t,this.headers=s,this.bucketId=n,this.fetch=eC(a)}uploadOrUpdate(t,s,n,a){return tn(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},S0),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const d=this._removeEmptyFolders(s),u=this._getFinalPath(d),f=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),m=yield f.json();return f.ok?{data:{path:d,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(i){if(fs(i))return{data:null,error:i};throw i}})}upload(t,s,n){return tn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,s,n)})}uploadToSignedUrl(t,s,n,a){return tn(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",s);try{let c;const d=Object.assign({upsert:S0.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:u}),m=yield f.json();return f.ok?{data:{path:i,fullPath:m.Key},error:null}:{data:null,error:m}}catch(c){if(fs(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,s){return tn(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);s!=null&&s.upsert&&(a["x-upsert"]="true");const i=yield da(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new _v("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(fs(n))return{data:null,error:n};throw n}})}update(t,s,n){return tn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,s,n)})}move(t,s,n){return tn(this,void 0,void 0,function*(){try{return{data:yield da(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(fs(a))return{data:null,error:a};throw a}})}copy(t,s,n){return tn(this,void 0,void 0,function*(){try{return{data:{path:(yield da(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(fs(a))return{data:null,error:a};throw a}})}createSignedUrl(t,s,n){return tn(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield da(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:s},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(fs(a))return{data:null,error:a};throw a}})}createSignedUrls(t,s,n){return tn(this,void 0,void 0,function*(){try{const a=yield da(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(fs(a))return{data:null,error:a};throw a}})}download(t,s){return tn(this,void 0,void 0,function*(){const a=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield nf(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(fs(l))return{data:null,error:l};throw l}})}info(t){return tn(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{const n=yield nf(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:hg(n),error:null}}catch(n){if(fs(n))return{data:null,error:n};throw n}})}exists(t){return tn(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{return yield BO(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(fs(n)&&n instanceof fg){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,s){const n=this._getFinalPath(t),a=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&a.push(i);const l=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});c!==""&&a.push(c);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${d}`)}}}remove(t){return tn(this,void 0,void 0,function*(){try{return{data:yield tC(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(s){if(fs(s))return{data:null,error:s};throw s}})}list(t,s,n){return tn(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},UO),s),{prefix:t||""});return{data:yield da(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(fs(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const s=[];return t.width&&s.push(`width=${t.width}`),t.height&&s.push(`height=${t.height}`),t.resize&&s.push(`resize=${t.resize}`),t.format&&s.push(`format=${t.format}`),t.quality&&s.push(`quality=${t.quality}`),s.join("&")}}const VO="2.7.1",WO={"X-Client-Info":`storage-js/${VO}`};var Wi=function(e,t,s,n){function a(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class HO{constructor(t,s={},n){this.url=t,this.headers=Object.assign(Object.assign({},WO),s),this.fetch=eC(n)}listBuckets(){return Wi(this,void 0,void 0,function*(){try{return{data:yield nf(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(fs(t))return{data:null,error:t};throw t}})}getBucket(t){return Wi(this,void 0,void 0,function*(){try{return{data:yield nf(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(s){if(fs(s))return{data:null,error:s};throw s}})}createBucket(t,s={public:!1}){return Wi(this,void 0,void 0,function*(){try{return{data:yield da(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(fs(n))return{data:null,error:n};throw n}})}updateBucket(t,s){return Wi(this,void 0,void 0,function*(){try{return{data:yield FO(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(fs(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Wi(this,void 0,void 0,function*(){try{return{data:yield da(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(fs(s))return{data:null,error:s};throw s}})}deleteBucket(t){return Wi(this,void 0,void 0,function*(){try{return{data:yield tC(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(s){if(fs(s))return{data:null,error:s};throw s}})}}class qO extends HO{constructor(t,s={},n){super(t,s,n)}from(t){return new zO(this.url,this.headers,t,this.fetch)}}const KO="2.51.0";let Fl="";typeof Deno<"u"?Fl="deno":typeof document<"u"?Fl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Fl="react-native":Fl="node";const GO={"X-Client-Info":`supabase-js-${Fl}/${KO}`},YO={headers:GO},QO={schema:"public"},JO={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},XO={};var ZO=function(e,t,s,n){function a(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const eF=e=>{let t;return e?t=e:typeof fetch>"u"?t=F1:t=fetch,(...s)=>t(...s)},tF=()=>typeof Headers>"u"?B1:Headers,sF=(e,t,s)=>{const n=eF(s),a=tF();return(i,o)=>ZO(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let d=new a(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:d}))})};var nF=function(e,t,s,n){function a(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};function rF(e){return e.endsWith("/")?e:e+"/"}function aF(e,t){var s,n;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:d,realtime:u,global:f}=t,m={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},u),o),global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(s=f==null?void 0:f.headers)!==null&&s!==void 0?s:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>nF(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}const sC="2.71.0",eo=30*1e3,mg=3,ym=mg*eo,iF="http://localhost:9999",oF="supabase.auth.token",lF={"X-Client-Info":`gotrue-js/${sC}`},pg="X-Supabase-Api-Version",nC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},cF=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,dF=10*60*1e3;class bv extends Error{constructor(t,s,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=n}}function Pe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class uF extends bv{constructor(t,s,n){super(t,s,n),this.name="AuthApiError",this.status=s,this.code=n}}function fF(e){return Pe(e)&&e.name==="AuthApiError"}class rC extends bv{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class qa extends bv{constructor(t,s,n,a){super(t,n,a),this.name=s,this.status=n}}class aa extends qa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function hF(e){return Pe(e)&&e.name==="AuthSessionMissingError"}class zd extends qa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Vd extends qa{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Wd extends qa{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function mF(e){return Pe(e)&&e.name==="AuthImplicitGrantRedirectError"}class N0 extends qa{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class gg extends qa{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function wm(e){return Pe(e)&&e.name==="AuthRetryableFetchError"}class C0 extends qa{constructor(t,s,n){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=n}}class xg extends qa{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const rf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),E0=` 	
\r=`.split(""),pF=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<E0.length;t+=1)e[E0[t].charCodeAt(0)]=-2;for(let t=0;t<rf.length;t+=1)e[rf[t].charCodeAt(0)]=t;return e})();function T0(e,t,s){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;s(rf[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;s(rf[n]),t.queuedBits-=6}}function aC(e,t,s){const n=pF[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function k0(e){const t=[],s=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{vF(o,n,s)};for(let o=0;o<e.length;o+=1)aC(e.charCodeAt(o),a,i);return t.join("")}function gF(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function xF(e,t){for(let s=0;s<e.length;s+=1){let n=e.charCodeAt(s);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(s+1)-56320&65535|a)+65536,s+=1}gF(n,t)}}function vF(e,t,s){if(t.utf8seq===0){if(e<=127){s(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&s(t.codepoint)}}function yF(e){const t=[],s={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)aC(e.charCodeAt(a),s,n);return new Uint8Array(t)}function wF(e){const t=[];return xF(e,s=>t.push(s)),new Uint8Array(t)}function jF(e){const t=[],s={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>T0(a,s,n)),T0(null,s,n),t.join("")}function _F(e){return Math.round(Date.now()/1e3)+e}function bF(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const zn=()=>typeof window<"u"&&typeof document<"u",ei={tested:!1,writable:!1},iC=()=>{if(!zn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ei.tested)return ei.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ei.tested=!0,ei.writable=!0}catch{ei.tested=!0,ei.writable=!1}return ei.writable};function SF(e){const t={},s=new URL(e);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return s.searchParams.forEach((n,a)=>{t[a]=n}),t}const oC=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>Yr(async()=>{const{default:n}=await Promise.resolve().then(()=>fl);return{default:n}},void 0).then(({default:n})=>n(...s)):t=fetch,(...s)=>t(...s)},NF=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",to=async(e,t,s)=>{await e.setItem(t,JSON.stringify(s))},ti=async(e,t)=>{const s=await e.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},na=async(e,t)=>{await e.removeItem(t)};class ih{constructor(){this.promise=new ih.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}ih.promiseConstructor=Promise;function jm(e){const t=e.split(".");if(t.length!==3)throw new xg("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!cF.test(t[n]))throw new xg("JWT not in base64url format");return{header:JSON.parse(k0(t[0])),payload:JSON.parse(k0(t[1])),signature:yF(t[2]),raw:{header:t[0],payload:t[1]}}}async function CF(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function EF(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function TF(e){return("0"+e.toString(16)).substr(-2)}function kF(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=s.length;let a="";for(let i=0;i<56;i++)a+=s.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,TF).join("")}async function PF(e){const s=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",s),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function RF(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const s=await PF(e);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Hi(e,t,s=!1){const n=kF();let a=n;s&&(a+="/PASSWORD_RECOVERY"),await to(e,`${t}-code-verifier`,a);const i=await RF(n);return[i,n===i?"plain":"s256"]}const AF=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function $F(e){const t=e.headers.get(pg);if(!t||!t.match(AF))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function DF(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function MF(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const LF=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function qi(e){if(!LF.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function _m(){const e={};return new Proxy(e,{get:(t,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const n=s.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}var IF=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(s[n[a]]=e[n[a]]);return s};const oi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),OF=[502,503,504];async function P0(e){var t;if(!NF(e))throw new gg(oi(e),0);if(OF.includes(e.status))throw new gg(oi(e),e.status);let s;try{s=await e.json()}catch(i){throw new rC(oi(i),i)}let n;const a=$F(e);if(a&&a.getTime()>=nC["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?n=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(n=s.error_code),n){if(n==="weak_password")throw new C0(oi(s),e.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new aa}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new C0(oi(s),e.status,s.weak_password.reasons);throw new uF(oi(s),e.status||500,n)}const FF=(e,t,s,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),s))};async function Be(e,t,s,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[pg]||(i[pg]=nC["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await BF(e,t,s+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function BF(e,t,s,n,a,i){const o=FF(t,n,a,i);let l;try{l=await e(s,Object.assign({},o))}catch(c){throw console.error(c),new gg(oi(c),0)}if(l.ok||await P0(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await P0(c)}}function Ar(e){var t;let s=null;WF(e)&&(s=Object.assign({},e),e.expires_at||(s.expires_at=_F(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:s,user:n},error:null}}function R0(e){const t=Ar(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((s,n)=>s&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ma(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function UF(e){return{data:e,error:null}}function zF(e){const{action_link:t,email_otp:s,hashed_token:n,redirect_to:a,verification_type:i}=e,o=IF(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:s,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function VF(e){return e}function WF(e){return e.access_token&&e.refresh_token&&e.expires_in}const bm=["global","local","others"];var HF=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(s[n[a]]=e[n[a]]);return s};class qF{constructor({url:t="",headers:s={},fetch:n}){this.url=t,this.headers=s,this.fetch=oC(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,s=bm[0]){if(bm.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${bm.join(", ")}`);try{return await Be(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,s={}){try{return await Be(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:ma})}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:s}=t,n=HF(t,["options"]),a=Object.assign(Object.assign({},n),s);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Be(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:zF,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(Pe(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await Be(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ma})}catch(s){if(Pe(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,n,a,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await Be(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:VF});if(u.error)throw u.error;const f=await u.json(),m=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(j=>{const g=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(j.split(";")[1].split("=")[1]);d[`${y}Page`]=g}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},f),d),error:null}}catch(d){if(Pe(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){qi(t);try{return await Be(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ma})}catch(s){if(Pe(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){qi(t);try{return await Be(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:ma})}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,s=!1){qi(t);try{return await Be(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:ma})}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){qi(t.userId);try{const{data:s,error:n}=await Be(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:s,error:n}}catch(s){if(Pe(s))return{data:null,error:s};throw s}}async _deleteFactor(t){qi(t.userId),qi(t.id);try{return{data:await Be(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(Pe(s))return{data:null,error:s};throw s}}}function A0(e={}){return{getItem:t=>e[t]||null,setItem:(t,s)=>{e[t]=s},removeItem:t=>{delete e[t]}}}function KF(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ki={debug:!!(globalThis&&iC()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class lC extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class GF extends lC{}async function YF(e,t,s){Ki.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Ki.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Ki.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await s()}finally{Ki.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Ki.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new GF(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ki.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}KF();const QF={url:iF,storageKey:oF,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:lF,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function $0(e,t,s){return await s()}const Gi={};class Mc{constructor(t){var s,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Mc.nextInstanceID,Mc.nextInstanceID+=1,this.instanceID>0&&zn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},QF),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new qF({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=oC(a.fetch),this.lock=a.lock||$0,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:zn()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=YF:this.lock=$0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:iC()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=A0(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=A0(this.memoryStorage)),zn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,s;return(s=(t=Gi[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(t){Gi[this.storageKey]=Object.assign(Object.assign({},Gi[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,s;return(s=(t=Gi[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Gi[this.storageKey]=Object.assign(Object.assign({},Gi[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${sC}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const s=SF(window.location.href);let n="none";if(this._isImplicitGrantCallback(s)?n="implicit":await this._isPKCECallback(s)&&(n="pkce"),zn()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(s,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),mF(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return Pe(s)?{error:s}:{error:new rC("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,n,a;try{const i=await Be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Ar}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(Pe(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var s,n,a;try{let i;if("email"in t){const{email:u,password:f,options:m}=t;let v=null,j=null;this.flowType==="pkce"&&([v,j]=await Hi(this.storage,this.storageKey)),i=await Be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:u,password:f,data:(s=m==null?void 0:m.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:v,code_challenge_method:j},xform:Ar})}else if("phone"in t){const{phone:u,password:f,options:m}=t;i=await Be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(a=m==null?void 0:m.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Ar})}else throw new Vd("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(Pe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let s;if("email"in t){const{email:i,password:o,options:l}=t;s=await Be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:R0})}else if("phone"in t){const{phone:i,password:o,options:l}=t;s=await Be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:R0})}else throw new Vd("You must provide either an email or phone number and a password");const{data:n,error:a}=s;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new zd}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(s){if(Pe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(t){var s,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:s}=t;if(s==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(t){var s,n,a,i,o,l,c,d,u,f,m,v;let j,g;if("message"in t)j=t.message,g=t.signature;else{const{chain:y,wallet:x,statement:p,options:w}=t;let _;if(zn())if(typeof x=="object")_=x;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))_=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=x}const b=new URL((s=w==null?void 0:w.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in _&&_.signIn){const T=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:b.host,uri:b.href}),p?{statement:p}:null));let N;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")N=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)N=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)j=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),g=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${b.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${b.href}`,`Issued At: ${(a=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((d=w==null?void 0:w.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(u=w==null?void 0:w.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const T=await _.signMessage(new TextEncoder().encode(j),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=T}}try{const{data:y,error:x}=await Be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:jF(g)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Ar});if(x)throw x;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new zd}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:x})}catch(y){if(Pe(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const s=await ti(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(s??"").split("/");try{const{data:i,error:o}=await Be(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ar});if(await na(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new zd}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(Pe(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:s,provider:n,token:a,access_token:i,nonce:o}=t,l=await Be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Ar}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new zd}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(s){if(Pe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(t){var s,n,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await Hi(this.storage,this.storageKey));const{error:f}=await Be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:u}=await Be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new Vd("You must provide either an email or phone number.")}catch(l){if(Pe(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var s,n;try{let a,i;"options"in t&&(a=(s=t.options)===null||s===void 0?void 0:s.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Be(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Ar});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(Pe(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var s,n,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Hi(this.storage,this.storageKey)),await Be(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:UF})}catch(i){if(Pe(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:n}=t;if(n)throw n;if(!s)throw new aa;const{error:a}=await Be(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(Pe(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await Be(this.fetch,"POST",s,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await Be(this.fetch,"POST",s,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Vd("You must provide either an email or phone number and a type")}catch(s){if(Pe(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await s()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=s();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await ti(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<ym:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await ti(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=_m()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,d,u)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:t},error:null}}const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ma}):await this._useSession(async s=>{var n,a,i;const{data:o,error:l}=s;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new aa}:await Be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:ma})})}catch(s){if(Pe(s))return hF(s)&&(await this._removeSession(),await na(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new aa;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Hi(this.storage,this.storageKey));const{data:d,error:u}=await Be(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:ma});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new aa;const s=Date.now()/1e3;let n=s,a=!0,i=null;const{payload:o}=jm(t.access_token);if(o.exp&&(n=o.exp,a=n<=s),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-s,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(Pe(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var n;if(!t){const{data:o,error:l}=s;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new aa;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(Pe(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(t,s){try{if(!zn())throw new Wd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Wd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new N0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Wd("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new N0("No code detected.");const{data:p,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=t;if(!i||!l||!o||!d)throw new Wd("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(l);let m=u+f;c&&(m=parseInt(c));const v=m-u;v*1e3<=eo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${f}s`);const j=m-f;u-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,m,u):u-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,m,u);const{data:g,error:y}=await this._getUser(i);if(y)throw y;const x={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:m,refresh_token:o,token_type:d,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(n){if(Pe(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await ti(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var n;const{data:a,error:i}=s;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(fF(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await na(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const s=bF(),n={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async s=>{var n,a;try{const{data:{session:i},error:o}=s;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,s={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Hi(this.storage,this.storageKey,!0));try{return await Be(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(Pe(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:s,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(s){if(Pe(s))return{data:null,error:s};throw s}}async linkIdentity(t){var s;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,d,u;const{data:f,error:m}=i;if(m)throw m;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Be(this.fetch,"GET",v,{headers:this.headers,jwt:(u=(d=f.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return zn()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Pe(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async s=>{var n,a;const{data:i,error:o}=s;if(o)throw o;return await Be(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(s){if(Pe(s))return{data:null,error:s};throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const n=Date.now();return await EF(async a=>(a>0&&await CF(200*Math.pow(2,a-1)),this._debug(s,"refreshing attempt",a),await Be(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ar})),(a,i)=>{const o=200*Math.pow(2,a);return i&&wm(i)&&Date.now()+o-n<eo})}catch(n){if(this._debug(s,"error",n),Pe(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",n),zn()&&!s.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,s;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await ti(this.storage,this.storageKey);if(a&&this.userStorage){let o=await ti(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await to(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:_m()}else if(a&&!a.user&&!a.user){const o=await ti(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await na(this.storage,this.storageKey+"-user"),await to(this.storage,this.storageKey,a)):a.user=_m()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((s=a.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<ym;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${ym}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),wm(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var s,n;if(!t)throw new aa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new ih;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new aa;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),Pe(i)){const o={session:null,error:i};return wm(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,s,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",s,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,s)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const s=Object.assign({},t),n=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&s.user&&await to(this.userStorage,this.storageKey+"-user",{user:s.user});const a=Object.assign({},s);delete a.user;const i=structuredClone(a);await to(this.storage,this.storageKey,i)}else{const a=structuredClone(s);await to(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await na(this.storage,this.storageKey),await na(this.storage,this.storageKey+"-code-verifier"),await na(this.storage,this.storageKey+"-user"),this.userStorage&&await na(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&zn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),eo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:n}}=s;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/eo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${eo}ms, refresh threshold is ${mg} ticks`),a<=mg&&await this._callRefreshToken(n.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof lC)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!zn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,n){const a=[`provider=${encodeURIComponent(s)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Hi(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var n;const{data:a,error:i}=s;return i?{data:null,error:i}:await Be(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(Pe(s))return{data:null,error:s};throw s}}async _enroll(t){try{return await this._useSession(async s=>{var n,a;const{data:i,error:o}=s;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:d}=await Be(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(s){if(Pe(s))return{data:null,error:s};throw s}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:a,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:l}=await Be(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(s){if(Pe(s))return{data:null,error:s};throw s}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:a,error:i}=s;return i?{data:null,error:i}:await Be(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(Pe(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(t){const{data:s,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){const{data:{user:t},error:s}=await this.getUser();if(s)return{data:null,error:s};const n=(t==null?void 0:t.factors)||[],a=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var s,n;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=jm(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(s=a.user.factors)===null||s===void 0?void 0:s.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,s={keys:[]}){let n=s.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+dF>a)return n;const{data:i,error:o}=await Be(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,s={}){try{let n=t;if(!n){const{data:v,error:j}=await this.getSession();if(j||!v.session)return{data:null,error:j};n=v.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=jm(n);s!=null&&s.allowExpired||DF(i.exp);const d=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!d){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:i,header:a,signature:o},error:null}}const u=MF(a.alg),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,o,wF(`${l}.${c}`)))throw new xg("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}}}Mc.nextInstanceID=0;const JF=Mc;class XF extends JF{constructor(t){super(t)}}var ZF=function(e,t,s,n){function a(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class e3{constructor(t,s,n){var a,i,o;if(this.supabaseUrl=t,this.supabaseKey=s,!t)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const l=rF(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:QO,realtime:XO,auth:Object.assign(Object.assign({},JO),{storageKey:d}),global:YO},f=aF(n??{},u);this.storageKey=(a=f.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(m,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=sF(s,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new vO(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new G4(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new qO(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,s={},n={}){return this.rest.rpc(t,s,n)}channel(t,s={config:{}}){return this.realtime.channel(t,s)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,s;return ZF(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(s=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:s,detectSessionInUrl:n,storage:a,storageKey:i,flowType:o,lock:l,debug:c},d,u){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new XF({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:i,autoRefreshToken:t,persistSession:s,detectSessionInUrl:n,storage:a,flowType:o,lock:l,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new $O(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,n)=>{this._handleTokenChanged(s,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,s,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const t3=(e,t,s)=>new e3(e,t,s),s3="https://pmtssnzfepkcqpziknbz.supabase.co",n3="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBtdHNzbnpmZXBrY3FwemlrbmJ6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIwMzQ5MDQsImV4cCI6MjA2NzYxMDkwNH0.KNIFrGxC-XaJFzN0m69NX85bMQR2XgCj0JDxfbPcHS0",Ks=t3(s3,n3),Fe={SEASONS:"seasons",CONFERENCES:"conferences",TEAMS:"teams",TEAM_CONFERENCE_JUNCTION:"team_conference_junction",MATCHUPS:"matchups",TEAM_RECORDS:"team_records",PLAYERS:"players",DRAFT_RESULTS:"draft_results",MATCHUP_ADMIN_OVERRIDE:"matchup_admin_override",PLAYOFF_BRACKETS:"playoff_brackets",PLAYOFF_FORMATS:"playoff_formats",TEAM_ROSTERS:"team_rosters",TRANSACTIONS:"transactions"};class Y{static async queryTable(t,s={}){try{let n=Ks.from(t).select("*",{count:"exact"});s.filters&&s.filters.forEach(l=>{n=this.applyFilter(n,l)}),s.orderBy&&(n=n.order(s.orderBy.column,{ascending:s.orderBy.ascending})),s.limit&&(n=n.limit(s.limit)),s.offset&&(n=n.range(s.offset,s.offset+(s.limit||100)-1));const{data:a,error:i,count:o}=await n;return i?(console.error(`Error querying ${t}:`,i),{data:[],error:i}):{data:a||[],count:o||0}}catch(n){return console.error(`Error in queryTable for ${t}:`,n),{data:[],error:n}}}static async createRecord(t,s){try{const{data:n,error:a}=await Ks.from(t).insert(s).select().single();return a?(console.error(`Error creating record in ${t}:`,a),{data:null,error:a}):{data:n,error:null}}catch(n){return console.error(`Error in createRecord for ${t}:`,n),{data:null,error:n}}}static async updateRecord(t,s,n){try{const{data:a,error:i}=await Ks.from(t).update(n).eq("id",s).select().single();return i?(console.error(`Error updating record in ${t}:`,i),{data:null,error:i}):{data:a,error:null}}catch(a){return console.error(`Error in updateRecord for ${t}:`,a),{data:null,error:a}}}static async deleteRecord(t,s){try{const{error:n}=await Ks.from(t).delete().eq("id",s);return n?(console.error(`Error deleting record from ${t}:`,n),{error:n}):{error:null}}catch(n){return console.error(`Error in deleteRecord for ${t}:`,n),{error:n}}}static applyFilter(t,s){const{column:n,operator:a,value:i}=s;switch(a){case"eq":return t.eq(n,i);case"neq":return t.neq(n,i);case"gt":return t.gt(n,i);case"gte":return t.gte(n,i);case"lt":return t.lt(n,i);case"lte":return t.lte(n,i);case"like":return t.like(n,i);case"ilike":return t.ilike(n,i);case"in":return t.in(n,i);case"is":return t.is(n,i);case"not":return t.not(n,i);default:return t}}static async getSeasons(t){return this.queryTable(Fe.SEASONS,t)}static async createSeason(t){return this.createRecord(Fe.SEASONS,t)}static async updateSeason(t,s){return this.updateRecord(Fe.SEASONS,t,s)}static async updateSeasonScoringSettings(t){try{const{data:s}=await this.getConferences({filters:[{column:"season_id",operator:"eq",value:t}]});if(!s||s.length===0)return{success:!1,error:"No conferences found for this season"};const n=s[0],i=await(await Yr(async()=>{const{SleeperApiService:l}=await Promise.resolve().then(()=>Sg);return{SleeperApiService:l}},void 0)).SleeperApiService.fetchLeague(n.league_id);if(!i.scoring_settings)return{success:!1,error:"No scoring settings found in league data"};const{error:o}=await this.updateSeason(t,{scoring_settings:i.scoring_settings});return o?{success:!1,error:o}:{success:!0}}catch(s){return console.error("Error updating season scoring settings:",s),{success:!1,error:s}}}static async updateSeasonRosterPositions(t){try{const{data:s}=await this.getConferences({filters:[{column:"season_id",operator:"eq",value:t}]});if(!s||s.length===0)return{success:!1,error:"No conferences found for this season"};const n=s[0],i=await(await Yr(async()=>{const{SleeperApiService:l}=await Promise.resolve().then(()=>Sg);return{SleeperApiService:l}},void 0)).SleeperApiService.fetchLeague(n.league_id);if(!i.roster_positions)return{success:!1,error:"No roster positions found in league data"};const{error:o}=await this.updateSeason(t,{roster_positions:i.roster_positions});return o?{success:!1,error:o}:{success:!0}}catch(s){return console.error("Error updating season roster positions:",s),{success:!1,error:s}}}static async getConferences(t){return this.queryTable(Fe.CONFERENCES,t)}static async createConference(t){return this.createRecord(Fe.CONFERENCES,t)}static async updateConference(t,s){return this.updateRecord(Fe.CONFERENCES,t,s)}static async getTeams(t){return this.queryTable(Fe.TEAMS,t)}static async createTeam(t){return this.createRecord(Fe.TEAMS,t)}static async updateTeam(t,s){return this.updateRecord(Fe.TEAMS,t,s)}static async getTeamConferenceJunctions(t){return this.queryTable(Fe.TEAM_CONFERENCE_JUNCTION,t)}static async createTeamConferenceJunction(t){return this.createRecord(Fe.TEAM_CONFERENCE_JUNCTION,t)}static async getMatchups(t){return this.queryTable(Fe.MATCHUPS,t)}static async createMatchup(t){return this.createRecord(Fe.MATCHUPS,t)}static async updateMatchup(t,s){return this.updateRecord(Fe.MATCHUPS,t,s)}static async getTeamRecords(t){return this.queryTable(Fe.TEAM_RECORDS,t)}static async createTeamRecord(t){return this.createRecord(Fe.TEAM_RECORDS,t)}static async updateTeamRecord(t,s){return this.updateRecord(Fe.TEAM_RECORDS,t,s)}static async deleteTeamRecord(t){return this.deleteRecord(Fe.TEAM_RECORDS,t)}static async getPlayers(t){try{let s=Ks.from(Fe.PLAYERS).select("*",{count:"exact"});t!=null&&t.filters&&t.filters.forEach(o=>{s=this.applyFilter(s,o)}),t!=null&&t.orderBy&&(s=s.order(t.orderBy.column,{ascending:t.orderBy.ascending})),s=s.range(0,14999);const{data:n,error:a,count:i}=await s;return a?(console.error(`Error querying ${Fe.PLAYERS}:`,a),{data:[],error:a}):{data:n||[],count:i||0}}catch(s){return console.error("Error in getPlayers:",s),{data:[],error:s}}}static async createPlayer(t){return this.createRecord(Fe.PLAYERS,t)}static async updatePlayer(t,s){return this.updateRecord(Fe.PLAYERS,t,s)}static async getAllPlayersForMapping(t){try{const s=[];let a=0,i=!0;for(;i;){let o=Ks.from(Fe.PLAYERS).select("*");t&&t.forEach(d=>{o=this.applyFilter(o,d)}),o=o.order("sleeper_id",{ascending:!0}),o=o.range(a,a+1e3-1);const{data:l,error:c}=await o;if(c)throw console.error("Error in getAllPlayersForMapping:",c),c;l&&l.length>0?(s.push(...l),l.length<1e3?i=!1:a+=1e3):i=!1}return s}catch(s){throw console.error("Error in getAllPlayersForMapping:",s),s}}static async getPlayersAsSleeperFormat(){try{const t=await this.getPlayers();if(!t.data)throw new Error("Failed to fetch players from database");const s={};return t.data.forEach(n=>{var a;if(n.sleeper_id){const i=n.player_name.split(" "),o=i[0]||"",l=i.slice(1).join(" ")||"";s[n.sleeper_id]={player_id:n.sleeper_id,first_name:o,last_name:l,position:n.position||"",team:n.nfl_team||"",jersey_number:n.number||0,status:n.playing_status||"",injury_status:n.injury_status||"",age:n.age||0,height:((a=n.height)==null?void 0:a.toString())||"",weight:n.weight||0,years_exp:0,college:n.college||""}}}),s}catch(t){throw console.error("Error fetching players from database:",t),t}}static async getDraftResults(t){return this.queryTable(Fe.DRAFT_RESULTS,t)}static async createDraftResult(t){return this.createRecord(Fe.DRAFT_RESULTS,t)}static async getMatchupAdminOverrides(t){return this.queryTable(Fe.MATCHUP_ADMIN_OVERRIDE,t)}static async createMatchupAdminOverride(t){return this.createRecord(Fe.MATCHUP_ADMIN_OVERRIDE,t)}static async updateMatchupAdminOverride(t,s){return this.updateRecord(Fe.MATCHUP_ADMIN_OVERRIDE,t,s)}static async deleteMatchupAdminOverride(t){return this.deleteRecord(Fe.MATCHUP_ADMIN_OVERRIDE,t)}static async getTransactions(t){return this.queryTable(Fe.TRANSACTIONS,t)}static async createTransaction(t){return this.createRecord(Fe.TRANSACTIONS,t)}static async getPlayoffBrackets(t){return this.queryTable(Fe.PLAYOFF_BRACKETS,t)}static async createPlayoffBracket(t){return this.createRecord(Fe.PLAYOFF_BRACKETS,t)}static async updatePlayoffBracket(t,s){return this.updateRecord(Fe.PLAYOFF_BRACKETS,t,s)}static async getPlayoffFormats(t){return this.queryTable(Fe.PLAYOFF_FORMATS,t)}static async createPlayoffFormat(t){return this.createRecord(Fe.PLAYOFF_FORMATS,t)}static async updatePlayoffFormat(t,s){return this.updateRecord(Fe.PLAYOFF_FORMATS,t,s)}}const r3=Object.freeze(Object.defineProperty({__proto__:null,DatabaseService:Y},Symbol.toStringTag,{value:"Module"})),cC=h.createContext(void 0),a3=({children:e})=>{const[t,s]=h.useState(2025),[n,a]=h.useState(null),[i,o]=h.useState("light"),[l,c]=h.useState([]),[d,u]=h.useState(!0),[f,m]=h.useState(null),v=async()=>{try{u(!0),m(null);const x=await Y.getSeasons({orderBy:{column:"season_year",ascending:!1}});if(x.error)throw new Error(x.error);const p=x.data||[],w=await Y.getConferences();if(w.error)throw new Error(w.error);const _=w.data||[],b=p.map(N=>{const E=_.filter(R=>R.season_id===N.id).map(R=>({id:R.conference_name.toLowerCase().replace(/[^a-z0-9]/g,""),name:R.conference_name,leagueId:R.league_id,status:R.status,seasonId:R.season_id,dbConferenceId:R.id}));return{year:parseInt(N.season_year),conferences:E,seasonId:N.id,isCurrent:N.is_current}});c(b);const T=b.find(N=>N.isCurrent);T&&t!==T.year&&s(T.year)}catch(x){console.error("Failed to load season data:",x),m(x instanceof Error?x.message:"Failed to load season data"),c([{year:2024,conferences:[{id:"mars",name:"The Legions of Mars",leagueId:"1072580179844857856"},{id:"jupiter",name:"The Guardians of Jupiter",leagueId:"1072593839715667968"},{id:"vulcan",name:"Vulcan's Oathsworn",leagueId:"1072593416955015168"}]},{year:2025,conferences:[{id:"mars",name:"The Legions of Mars",leagueId:"1204854057169072128"},{id:"jupiter",name:"The Guardians of Jupiter",leagueId:"1204857692007440384"},{id:"vulcan",name:"Vulcan's Oathsworn",leagueId:"1204857608989577216"}]}])}finally{u(!1)}};h.useEffect(()=>{v()},[]);const j=()=>{o(x=>x==="light"?"dark":"light")},g=l.find(x=>x.year===t)||l.find(x=>x.isCurrent)||l[0]||{year:t,conferences:[]},y={selectedSeason:t,selectedConference:n,theme:i,setSelectedSeason:s,setSelectedConference:a,toggleTheme:j,seasonConfigs:l,currentSeasonConfig:g,loading:d,error:f,refreshSeasonData:v};return r.jsx(cC.Provider,{value:y,children:r.jsx("div",{className:i,children:e})})},Bs=()=>{const e=h.useContext(cC);if(!e)throw new Error("useApp must be used within an AppProvider");return e},i3=al("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),J=h.forwardRef(({className:e,variant:t,size:s,asChild:n=!1,...a},i)=>{const o=n?CA:"button";return r.jsx(o,{className:we(i3({variant:t,size:s,className:e})),ref:i,...a})});J.displayName="Button";var Sm="focusScope.autoFocusOnMount",Nm="focusScope.autoFocusOnUnmount",D0={bubbles:!1,cancelable:!0},o3="FocusScope",Sv=h.forwardRef((e,t)=>{const{loop:s=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=h.useState(null),d=yn(a),u=yn(i),f=h.useRef(null),m=ot(t,g=>c(g)),v=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(n){let g=function(w){if(v.paused||!l)return;const _=w.target;l.contains(_)?f.current=_:ia(f.current,{select:!0})},y=function(w){if(v.paused||!l)return;const _=w.relatedTarget;_!==null&&(l.contains(_)||ia(f.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const b of w)b.removedNodes.length>0&&ia(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",y);const p=new MutationObserver(x);return l&&p.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",y),p.disconnect()}}},[n,l,v.paused]),h.useEffect(()=>{if(l){L0.add(v);const g=document.activeElement;if(!l.contains(g)){const x=new CustomEvent(Sm,D0);l.addEventListener(Sm,d),l.dispatchEvent(x),x.defaultPrevented||(l3(h3(dC(l)),{select:!0}),document.activeElement===g&&ia(l))}return()=>{l.removeEventListener(Sm,d),setTimeout(()=>{const x=new CustomEvent(Nm,D0);l.addEventListener(Nm,u),l.dispatchEvent(x),x.defaultPrevented||ia(g??document.body,{select:!0}),l.removeEventListener(Nm,u),L0.remove(v)},0)}}},[l,d,u,v]);const j=h.useCallback(g=>{if(!s&&!n||v.paused)return;const y=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,x=document.activeElement;if(y&&x){const p=g.currentTarget,[w,_]=c3(p);w&&_?!g.shiftKey&&x===_?(g.preventDefault(),s&&ia(w,{select:!0})):g.shiftKey&&x===w&&(g.preventDefault(),s&&ia(_,{select:!0})):x===p&&g.preventDefault()}},[s,n,v.paused]);return r.jsx(be.div,{tabIndex:-1,...o,ref:m,onKeyDown:j})});Sv.displayName=o3;function l3(e,{select:t=!1}={}){const s=document.activeElement;for(const n of e)if(ia(n,{select:t}),document.activeElement!==s)return}function c3(e){const t=dC(e),s=M0(t,e),n=M0(t.reverse(),e);return[s,n]}function dC(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function M0(e,t){for(const s of e)if(!d3(s,{upTo:t}))return s}function d3(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function u3(e){return e instanceof HTMLInputElement&&"select"in e}function ia(e,{select:t=!1}={}){if(e&&e.focus){const s=document.activeElement;e.focus({preventScroll:!0}),e!==s&&u3(e)&&t&&e.select()}}var L0=f3();function f3(){let e=[];return{add(t){const s=e[0];t!==s&&(s==null||s.pause()),e=I0(e,t),e.unshift(t)},remove(t){var s;e=I0(e,t),(s=e[0])==null||s.resume()}}}function I0(e,t){const s=[...e],n=s.indexOf(t);return n!==-1&&s.splice(n,1),s}function h3(e){return e.filter(t=>t.tagName!=="A")}var Cm=0;function uC(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??O0()),document.body.insertAdjacentElement("beforeend",e[1]??O0()),Cm++,()=>{Cm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Cm--}},[])}function O0(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var vr=function(){return vr=Object.assign||function(t){for(var s,n=1,a=arguments.length;n<a;n++){s=arguments[n];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i])}return t},vr.apply(this,arguments)};function fC(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(s[n[a]]=e[n[a]]);return s}function m3(e,t,s){if(s||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var gu="right-scroll-bar-position",xu="width-before-scroll-bar",p3="with-scroll-bars-hidden",g3="--removed-body-scroll-bar-size";function Em(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function x3(e,t){var s=h.useState(function(){return{value:e,callback:t,facade:{get current(){return s.value},set current(n){var a=s.value;a!==n&&(s.value=n,s.callback(n,a))}}}})[0];return s.callback=t,s.facade}var v3=typeof window<"u"?h.useLayoutEffect:h.useEffect,F0=new WeakMap;function y3(e,t){var s=x3(null,function(n){return e.forEach(function(a){return Em(a,n)})});return v3(function(){var n=F0.get(s);if(n){var a=new Set(n),i=new Set(e),o=s.current;a.forEach(function(l){i.has(l)||Em(l,null)}),i.forEach(function(l){a.has(l)||Em(l,o)})}F0.set(s,e)},[e]),s}function w3(e){return e}function j3(e,t){t===void 0&&(t=w3);var s=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:e},useMedium:function(i){var o=t(i,n);return s.push(o),function(){s=s.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;s.length;){var o=s;s=[],o.forEach(i)}s={push:function(l){return i(l)},filter:function(){return s}}},assignMedium:function(i){n=!0;var o=[];if(s.length){var l=s;s=[],l.forEach(i),o=s}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),s={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),s}}}};return a}function _3(e){e===void 0&&(e={});var t=j3(null);return t.options=vr({async:!0,ssr:!1},e),t}var hC=function(e){var t=e.sideCar,s=fC(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return h.createElement(n,vr({},s))};hC.isSideCarExport=!0;function b3(e,t){return e.useMedium(t),hC}var mC=_3(),Tm=function(){},oh=h.forwardRef(function(e,t){var s=h.useRef(null),n=h.useState({onScrollCapture:Tm,onWheelCapture:Tm,onTouchMoveCapture:Tm}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,f=e.shards,m=e.sideCar,v=e.noRelative,j=e.noIsolation,g=e.inert,y=e.allowPinchZoom,x=e.as,p=x===void 0?"div":x,w=e.gapMode,_=fC(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=m,T=y3([s,t]),N=vr(vr({},_),a);return h.createElement(h.Fragment,null,u&&h.createElement(b,{sideCar:mC,removeScrollBar:d,shards:f,noRelative:v,noIsolation:j,inert:g,setCallbacks:i,allowPinchZoom:!!y,lockRef:s,gapMode:w}),o?h.cloneElement(h.Children.only(l),vr(vr({},N),{ref:T})):h.createElement(p,vr({},N,{className:c,ref:T}),l))});oh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};oh.classNames={fullWidth:xu,zeroRight:gu};var S3=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function N3(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=S3();return t&&e.setAttribute("nonce",t),e}function C3(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function E3(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var T3=function(){var e=0,t=null;return{add:function(s){e==0&&(t=N3())&&(C3(t,s),E3(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},k3=function(){var e=T3();return function(t,s){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&s])}},pC=function(){var e=k3(),t=function(s){var n=s.styles,a=s.dynamic;return e(n,a),null};return t},P3={left:0,top:0,right:0,gap:0},km=function(e){return parseInt(e||"",10)||0},R3=function(e){var t=window.getComputedStyle(document.body),s=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[km(s),km(n),km(a)]},A3=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return P3;var t=R3(e),s=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-s+t[2]-t[0])}},$3=pC(),ko="data-scroll-locked",D3=function(e,t,s,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return s===void 0&&(s="margin"),`
  .`.concat(p3,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(ko,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),s==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),s==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(gu,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(xu,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(gu," .").concat(gu,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(xu," .").concat(xu,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(ko,`] {
    `).concat(g3,": ").concat(l,`px;
  }
`)},B0=function(){var e=parseInt(document.body.getAttribute(ko)||"0",10);return isFinite(e)?e:0},M3=function(){h.useEffect(function(){return document.body.setAttribute(ko,(B0()+1).toString()),function(){var e=B0()-1;e<=0?document.body.removeAttribute(ko):document.body.setAttribute(ko,e.toString())}},[])},L3=function(e){var t=e.noRelative,s=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;M3();var i=h.useMemo(function(){return A3(a)},[a]);return h.createElement($3,{styles:D3(i,!t,a,s?"":"!important")})},vg=!1;if(typeof window<"u")try{var Hd=Object.defineProperty({},"passive",{get:function(){return vg=!0,!0}});window.addEventListener("test",Hd,Hd),window.removeEventListener("test",Hd,Hd)}catch{vg=!1}var Yi=vg?{passive:!1}:!1,I3=function(e){return e.tagName==="TEXTAREA"},gC=function(e,t){if(!(e instanceof Element))return!1;var s=window.getComputedStyle(e);return s[t]!=="hidden"&&!(s.overflowY===s.overflowX&&!I3(e)&&s[t]==="visible")},O3=function(e){return gC(e,"overflowY")},F3=function(e){return gC(e,"overflowX")},U0=function(e,t){var s=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=xC(e,n);if(a){var i=vC(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==s.body);return!1},B3=function(e){var t=e.scrollTop,s=e.scrollHeight,n=e.clientHeight;return[t,s,n]},U3=function(e){var t=e.scrollLeft,s=e.scrollWidth,n=e.clientWidth;return[t,s,n]},xC=function(e,t){return e==="v"?O3(t):F3(t)},vC=function(e,t){return e==="v"?B3(t):U3(t)},z3=function(e,t){return e==="h"&&t==="rtl"?-1:1},V3=function(e,t,s,n,a){var i=z3(e,window.getComputedStyle(t).direction),o=i*n,l=s.target,c=t.contains(l),d=!1,u=o>0,f=0,m=0;do{if(!l)break;var v=vC(e,l),j=v[0],g=v[1],y=v[2],x=g-y-i*j;(j||x)&&xC(e,l)&&(f+=x,m+=j);var p=l.parentNode;l=p&&p.nodeType===Node.DOCUMENT_FRAGMENT_NODE?p.host:p}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&Math.abs(f)<1||!u&&Math.abs(m)<1)&&(d=!0),d},qd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},z0=function(e){return[e.deltaX,e.deltaY]},V0=function(e){return e&&"current"in e?e.current:e},W3=function(e,t){return e[0]===t[0]&&e[1]===t[1]},H3=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},q3=0,Qi=[];function K3(e){var t=h.useRef([]),s=h.useRef([0,0]),n=h.useRef(),a=h.useState(q3++)[0],i=h.useState(pC)[0],o=h.useRef(e);h.useEffect(function(){o.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var g=m3([e.lockRef.current],(e.shards||[]).map(V0),!0).filter(Boolean);return g.forEach(function(y){return y.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=h.useCallback(function(g,y){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var x=qd(g),p=s.current,w="deltaX"in g?g.deltaX:p[0]-x[0],_="deltaY"in g?g.deltaY:p[1]-x[1],b,T=g.target,N=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in g&&N==="h"&&T.type==="range")return!1;var E=U0(N,T);if(!E)return!0;if(E?b=N:(b=N==="v"?"h":"v",E=U0(N,T)),!E)return!1;if(!n.current&&"changedTouches"in g&&(w||_)&&(n.current=b),!b)return!0;var R=n.current||b;return V3(R,y,g,R==="h"?w:_)},[]),c=h.useCallback(function(g){var y=g;if(!(!Qi.length||Qi[Qi.length-1]!==i)){var x="deltaY"in y?z0(y):qd(y),p=t.current.filter(function(b){return b.name===y.type&&(b.target===y.target||y.target===b.shadowParent)&&W3(b.delta,x)})[0];if(p&&p.should){y.cancelable&&y.preventDefault();return}if(!p){var w=(o.current.shards||[]).map(V0).filter(Boolean).filter(function(b){return b.contains(y.target)}),_=w.length>0?l(y,w[0]):!o.current.noIsolation;_&&y.cancelable&&y.preventDefault()}}},[]),d=h.useCallback(function(g,y,x,p){var w={name:g,delta:y,target:x,should:p,shadowParent:G3(x)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(_){return _!==w})},1)},[]),u=h.useCallback(function(g){s.current=qd(g),n.current=void 0},[]),f=h.useCallback(function(g){d(g.type,z0(g),g.target,l(g,e.lockRef.current))},[]),m=h.useCallback(function(g){d(g.type,qd(g),g.target,l(g,e.lockRef.current))},[]);h.useEffect(function(){return Qi.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Yi),document.addEventListener("touchmove",c,Yi),document.addEventListener("touchstart",u,Yi),function(){Qi=Qi.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,Yi),document.removeEventListener("touchmove",c,Yi),document.removeEventListener("touchstart",u,Yi)}},[]);var v=e.removeScrollBar,j=e.inert;return h.createElement(h.Fragment,null,j?h.createElement(i,{styles:H3(a)}):null,v?h.createElement(L3,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function G3(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Y3=b3(mC,K3);var Nv=h.forwardRef(function(e,t){return h.createElement(oh,vr({},e,{ref:t,sideCar:Y3}))});Nv.classNames=oh.classNames;var Q3=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ji=new WeakMap,Kd=new WeakMap,Gd={},Pm=0,yC=function(e){return e&&(e.host||yC(e.parentNode))},J3=function(e,t){return t.map(function(s){if(e.contains(s))return s;var n=yC(s);return n&&e.contains(n)?n:(console.error("aria-hidden",s,"in not contained inside",e,". Doing nothing"),null)}).filter(function(s){return!!s})},X3=function(e,t,s,n){var a=J3(t,Array.isArray(e)?e:[e]);Gd[s]||(Gd[s]=new WeakMap);var i=Gd[s],o=[],l=new Set,c=new Set(a),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};a.forEach(d);var u=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))u(m);else try{var v=m.getAttribute(n),j=v!==null&&v!=="false",g=(Ji.get(m)||0)+1,y=(i.get(m)||0)+1;Ji.set(m,g),i.set(m,y),o.push(m),g===1&&j&&Kd.set(m,!0),y===1&&m.setAttribute(s,"true"),j||m.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",m,x)}})};return u(t),l.clear(),Pm++,function(){o.forEach(function(f){var m=Ji.get(f)-1,v=i.get(f)-1;Ji.set(f,m),i.set(f,v),m||(Kd.has(f)||f.removeAttribute(n),Kd.delete(f)),v||f.removeAttribute(s)}),Pm--,Pm||(Ji=new WeakMap,Ji=new WeakMap,Kd=new WeakMap,Gd={})}},wC=function(e,t,s){s===void 0&&(s="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=Q3(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),X3(n,a,s,"aria-hidden")):function(){return null}},lh="Dialog",[jC,CH]=_n(lh),[Z3,ir]=jC(lh),_C=e=>{const{__scopeDialog:t,children:s,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=h.useRef(null),c=h.useRef(null),[d,u]=qr({prop:n,defaultProp:a??!1,onChange:i,caller:lh});return r.jsx(Z3,{scope:t,triggerRef:l,contentRef:c,contentId:Ur(),titleId:Ur(),descriptionId:Ur(),open:d,onOpenChange:u,onOpenToggle:h.useCallback(()=>u(f=>!f),[u]),modal:o,children:s})};_C.displayName=lh;var bC="DialogTrigger",SC=h.forwardRef((e,t)=>{const{__scopeDialog:s,...n}=e,a=ir(bC,s),i=ot(t,a.triggerRef);return r.jsx(be.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Tv(a.open),...n,ref:i,onClick:_e(e.onClick,a.onOpenToggle)})});SC.displayName=bC;var Cv="DialogPortal",[e5,NC]=jC(Cv,{forceMount:void 0}),CC=e=>{const{__scopeDialog:t,forceMount:s,children:n,container:a}=e,i=ir(Cv,t);return r.jsx(e5,{scope:t,forceMount:s,children:h.Children.map(n,o=>r.jsx(Er,{present:s||i.open,children:r.jsx(ed,{asChild:!0,container:a,children:o})}))})};CC.displayName=Cv;var af="DialogOverlay",EC=h.forwardRef((e,t)=>{const s=NC(af,e.__scopeDialog),{forceMount:n=s.forceMount,...a}=e,i=ir(af,e.__scopeDialog);return i.modal?r.jsx(Er,{present:n||i.open,children:r.jsx(s5,{...a,ref:t})}):null});EC.displayName=af;var t5=qo("DialogOverlay.RemoveScroll"),s5=h.forwardRef((e,t)=>{const{__scopeDialog:s,...n}=e,a=ir(af,s);return r.jsx(Nv,{as:t5,allowPinchZoom:!0,shards:[a.contentRef],children:r.jsx(be.div,{"data-state":Tv(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Di="DialogContent",TC=h.forwardRef((e,t)=>{const s=NC(Di,e.__scopeDialog),{forceMount:n=s.forceMount,...a}=e,i=ir(Di,e.__scopeDialog);return r.jsx(Er,{present:n||i.open,children:i.modal?r.jsx(n5,{...a,ref:t}):r.jsx(r5,{...a,ref:t})})});TC.displayName=Di;var n5=h.forwardRef((e,t)=>{const s=ir(Di,e.__scopeDialog),n=h.useRef(null),a=ot(t,s.contentRef,n);return h.useEffect(()=>{const i=n.current;if(i)return wC(i)},[]),r.jsx(kC,{...e,ref:a,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:_e(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=s.triggerRef.current)==null||o.focus()}),onPointerDownOutside:_e(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:_e(e.onFocusOutside,i=>i.preventDefault())})}),r5=h.forwardRef((e,t)=>{const s=ir(Di,e.__scopeDialog),n=h.useRef(!1),a=h.useRef(!1);return r.jsx(kC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=s.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=s.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),kC=h.forwardRef((e,t)=>{const{__scopeDialog:s,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=ir(Di,s),c=h.useRef(null),d=ot(t,c);return uC(),r.jsxs(r.Fragment,{children:[r.jsx(Sv,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:r.jsx(Zc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Tv(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(a5,{titleId:l.titleId}),r.jsx(o5,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Ev="DialogTitle",PC=h.forwardRef((e,t)=>{const{__scopeDialog:s,...n}=e,a=ir(Ev,s);return r.jsx(be.h2,{id:a.titleId,...n,ref:t})});PC.displayName=Ev;var RC="DialogDescription",AC=h.forwardRef((e,t)=>{const{__scopeDialog:s,...n}=e,a=ir(RC,s);return r.jsx(be.p,{id:a.descriptionId,...n,ref:t})});AC.displayName=RC;var $C="DialogClose",DC=h.forwardRef((e,t)=>{const{__scopeDialog:s,...n}=e,a=ir($C,s);return r.jsx(be.button,{type:"button",...n,ref:t,onClick:_e(e.onClick,()=>a.onOpenChange(!1))})});DC.displayName=$C;function Tv(e){return e?"open":"closed"}var MC="DialogTitleWarning",[EH,LC]=SA(MC,{contentName:Di,titleName:Ev,docsSlug:"dialog"}),a5=({titleId:e})=>{const t=LC(MC),s=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(s))},[s,e]),null},i5="DialogDescriptionWarning",o5=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${LC(i5).contentName}}.`;return h.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},IC=_C,OC=SC,FC=CC,ch=EC,dh=TC,uh=PC,fh=AC,BC=DC;const l5=IC,c5=OC,d5=FC,UC=h.forwardRef(({className:e,...t},s)=>r.jsx(ch,{className:we("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:s}));UC.displayName=ch.displayName;const u5=al("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),zC=h.forwardRef(({side:e="right",className:t,children:s,...n},a)=>r.jsxs(d5,{children:[r.jsx(UC,{}),r.jsxs(dh,{ref:a,className:we(u5({side:e}),t),...n,children:[r.jsxs(BC,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[r.jsx(Fi,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]}),s]})]}));zC.displayName=dh.displayName;const f5=h.forwardRef(({className:e,...t},s)=>r.jsx(uh,{ref:s,className:we("text-lg font-semibold text-foreground",e),...t}));f5.displayName=uh.displayName;const h5=h.forwardRef(({className:e,...t},s)=>r.jsx(fh,{ref:s,className:we("text-sm text-muted-foreground",e),...t}));h5.displayName=fh.displayName;function W0(e,[t,s]){return Math.min(s,Math.max(t,e))}var m5=h.createContext(void 0);function kv(e){const t=h.useContext(m5);return e||t||"ltr"}function Pv(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var p5=[" ","Enter","ArrowUp","ArrowDown"],g5=[" ","Enter"],Mi="Select",[hh,mh,x5]=Gx(Mi),[ml,TH]=_n(Mi,[x5,Yf]),ph=Yf(),[v5,Ka]=ml(Mi),[y5,w5]=ml(Mi),VC=e=>{const{__scopeSelect:t,children:s,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:f,disabled:m,required:v,form:j}=e,g=ph(t),[y,x]=h.useState(null),[p,w]=h.useState(null),[_,b]=h.useState(!1),T=kv(d),[N,E]=qr({prop:n,defaultProp:a??!1,onChange:i,caller:Mi}),[R,$]=qr({prop:o,defaultProp:l,onChange:c,caller:Mi}),F=h.useRef(null),W=y?j||!!y.closest("form"):!0,[I,L]=h.useState(new Set),H=Array.from(I).map(B=>B.props.value).join(";");return r.jsx(QL,{...g,children:r.jsxs(v5,{required:v,scope:t,trigger:y,onTriggerChange:x,valueNode:p,onValueNodeChange:w,valueNodeHasChildren:_,onValueNodeHasChildrenChange:b,contentId:Ur(),value:R,onValueChange:$,open:N,onOpenChange:E,dir:T,triggerPointerDownPosRef:F,disabled:m,children:[r.jsx(hh.Provider,{scope:t,children:r.jsx(y5,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(B=>{L(V=>new Set(V).add(B))},[]),onNativeOptionRemove:h.useCallback(B=>{L(V=>{const S=new Set(V);return S.delete(B),S})},[]),children:s})}),W?r.jsxs(hE,{"aria-hidden":!0,required:v,tabIndex:-1,name:u,autoComplete:f,value:R,onChange:B=>$(B.target.value),disabled:m,form:j,children:[R===void 0?r.jsx("option",{value:""}):null,Array.from(I)]},H):null]})})};VC.displayName=Mi;var WC="SelectTrigger",HC=h.forwardRef((e,t)=>{const{__scopeSelect:s,disabled:n=!1,...a}=e,i=ph(s),o=Ka(WC,s),l=o.disabled||n,c=ot(t,o.onTriggerChange),d=mh(s),u=h.useRef("touch"),[f,m,v]=pE(g=>{const y=d().filter(w=>!w.disabled),x=y.find(w=>w.value===o.value),p=gE(y,g,x);p!==void 0&&o.onValueChange(p.value)}),j=g=>{l||(o.onOpenChange(!0),v()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return r.jsx(l1,{asChild:!0,...i,children:r.jsx(be.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":mE(o.value)?"":void 0,...a,ref:c,onClick:_e(a.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&j(g)}),onPointerDown:_e(a.onPointerDown,g=>{u.current=g.pointerType;const y=g.target;y.hasPointerCapture(g.pointerId)&&y.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(j(g),g.preventDefault())}),onKeyDown:_e(a.onKeyDown,g=>{const y=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&m(g.key),!(y&&g.key===" ")&&p5.includes(g.key)&&(j(),g.preventDefault())})})})});HC.displayName=WC;var qC="SelectValue",KC=h.forwardRef((e,t)=>{const{__scopeSelect:s,className:n,style:a,children:i,placeholder:o="",...l}=e,c=Ka(qC,s),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,f=ot(t,c.onValueNodeChange);return es(()=>{d(u)},[d,u]),r.jsx(be.span,{...l,ref:f,style:{pointerEvents:"none"},children:mE(c.value)?r.jsx(r.Fragment,{children:o}):i})});KC.displayName=qC;var j5="SelectIcon",GC=h.forwardRef((e,t)=>{const{__scopeSelect:s,children:n,...a}=e;return r.jsx(be.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});GC.displayName=j5;var _5="SelectPortal",YC=e=>r.jsx(ed,{asChild:!0,...e});YC.displayName=_5;var Li="SelectContent",QC=h.forwardRef((e,t)=>{const s=Ka(Li,e.__scopeSelect),[n,a]=h.useState();if(es(()=>{a(new DocumentFragment)},[]),!s.open){const i=n;return i?Mn.createPortal(r.jsx(JC,{scope:e.__scopeSelect,children:r.jsx(hh.Slot,{scope:e.__scopeSelect,children:r.jsx("div",{children:e.children})})}),i):null}return r.jsx(XC,{...e,ref:t})});QC.displayName=Li;var Vn=10,[JC,Ga]=ml(Li),b5="SelectContentImpl",S5=qo("SelectContent.RemoveScroll"),XC=h.forwardRef((e,t)=>{const{__scopeSelect:s,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:m,collisionPadding:v,sticky:j,hideWhenDetached:g,avoidCollisions:y,...x}=e,p=Ka(Li,s),[w,_]=h.useState(null),[b,T]=h.useState(null),N=ot(t,z=>_(z)),[E,R]=h.useState(null),[$,F]=h.useState(null),W=mh(s),[I,L]=h.useState(!1),H=h.useRef(!1);h.useEffect(()=>{if(w)return wC(w)},[w]),uC();const B=h.useCallback(z=>{const[O,...ae]=W().map(ce=>ce.ref.current),[X]=ae.slice(-1),ee=document.activeElement;for(const ce of z)if(ce===ee||(ce==null||ce.scrollIntoView({block:"nearest"}),ce===O&&b&&(b.scrollTop=0),ce===X&&b&&(b.scrollTop=b.scrollHeight),ce==null||ce.focus(),document.activeElement!==ee))return},[W,b]),V=h.useCallback(()=>B([E,w]),[B,E,w]);h.useEffect(()=>{I&&V()},[I,V]);const{onOpenChange:S,triggerPointerDownPosRef:P}=p;h.useEffect(()=>{if(w){let z={x:0,y:0};const O=X=>{var ee,ce;z={x:Math.abs(Math.round(X.pageX)-(((ee=P.current)==null?void 0:ee.x)??0)),y:Math.abs(Math.round(X.pageY)-(((ce=P.current)==null?void 0:ce.y)??0))}},ae=X=>{z.x<=10&&z.y<=10?X.preventDefault():w.contains(X.target)||S(!1),document.removeEventListener("pointermove",O),P.current=null};return P.current!==null&&(document.addEventListener("pointermove",O),document.addEventListener("pointerup",ae,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",O),document.removeEventListener("pointerup",ae,{capture:!0})}}},[w,S,P]),h.useEffect(()=>{const z=()=>S(!1);return window.addEventListener("blur",z),window.addEventListener("resize",z),()=>{window.removeEventListener("blur",z),window.removeEventListener("resize",z)}},[S]);const[k,C]=pE(z=>{const O=W().filter(ee=>!ee.disabled),ae=O.find(ee=>ee.ref.current===document.activeElement),X=gE(O,z,ae);X&&setTimeout(()=>X.ref.current.focus())}),A=h.useCallback((z,O,ae)=>{const X=!H.current&&!ae;(p.value!==void 0&&p.value===O||X)&&(R(z),X&&(H.current=!0))},[p.value]),M=h.useCallback(()=>w==null?void 0:w.focus(),[w]),D=h.useCallback((z,O,ae)=>{const X=!H.current&&!ae;(p.value!==void 0&&p.value===O||X)&&F(z)},[p.value]),Q=n==="popper"?yg:ZC,K=Q===yg?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:m,collisionPadding:v,sticky:j,hideWhenDetached:g,avoidCollisions:y}:{};return r.jsx(JC,{scope:s,content:w,viewport:b,onViewportChange:T,itemRefCallback:A,selectedItem:E,onItemLeave:M,itemTextRefCallback:D,focusSelectedItem:V,selectedItemText:$,position:n,isPositioned:I,searchRef:k,children:r.jsx(Nv,{as:S5,allowPinchZoom:!0,children:r.jsx(Sv,{asChild:!0,trapped:p.open,onMountAutoFocus:z=>{z.preventDefault()},onUnmountAutoFocus:_e(a,z=>{var O;(O=p.trigger)==null||O.focus({preventScroll:!0}),z.preventDefault()}),children:r.jsx(Zc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:z=>z.preventDefault(),onDismiss:()=>p.onOpenChange(!1),children:r.jsx(Q,{role:"listbox",id:p.contentId,"data-state":p.open?"open":"closed",dir:p.dir,onContextMenu:z=>z.preventDefault(),...x,...K,onPlaced:()=>L(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:_e(x.onKeyDown,z=>{const O=z.ctrlKey||z.altKey||z.metaKey;if(z.key==="Tab"&&z.preventDefault(),!O&&z.key.length===1&&C(z.key),["ArrowUp","ArrowDown","Home","End"].includes(z.key)){let X=W().filter(ee=>!ee.disabled).map(ee=>ee.ref.current);if(["ArrowUp","End"].includes(z.key)&&(X=X.slice().reverse()),["ArrowUp","ArrowDown"].includes(z.key)){const ee=z.target,ce=X.indexOf(ee);X=X.slice(ce+1)}setTimeout(()=>B(X)),z.preventDefault()}})})})})})})});XC.displayName=b5;var N5="SelectItemAlignedPosition",ZC=h.forwardRef((e,t)=>{const{__scopeSelect:s,onPlaced:n,...a}=e,i=Ka(Li,s),o=Ga(Li,s),[l,c]=h.useState(null),[d,u]=h.useState(null),f=ot(t,N=>u(N)),m=mh(s),v=h.useRef(!1),j=h.useRef(!0),{viewport:g,selectedItem:y,selectedItemText:x,focusSelectedItem:p}=o,w=h.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&g&&y&&x){const N=i.trigger.getBoundingClientRect(),E=d.getBoundingClientRect(),R=i.valueNode.getBoundingClientRect(),$=x.getBoundingClientRect();if(i.dir!=="rtl"){const ee=$.left-E.left,ce=R.left-ee,ve=N.left-ce,ge=N.width+ve,ye=Math.max(ge,E.width),st=window.innerWidth-Vn,yt=W0(ce,[Vn,Math.max(Vn,st-ye)]);l.style.minWidth=ge+"px",l.style.left=yt+"px"}else{const ee=E.right-$.right,ce=window.innerWidth-R.right-ee,ve=window.innerWidth-N.right-ce,ge=N.width+ve,ye=Math.max(ge,E.width),st=window.innerWidth-Vn,yt=W0(ce,[Vn,Math.max(Vn,st-ye)]);l.style.minWidth=ge+"px",l.style.right=yt+"px"}const F=m(),W=window.innerHeight-Vn*2,I=g.scrollHeight,L=window.getComputedStyle(d),H=parseInt(L.borderTopWidth,10),B=parseInt(L.paddingTop,10),V=parseInt(L.borderBottomWidth,10),S=parseInt(L.paddingBottom,10),P=H+B+I+S+V,k=Math.min(y.offsetHeight*5,P),C=window.getComputedStyle(g),A=parseInt(C.paddingTop,10),M=parseInt(C.paddingBottom,10),D=N.top+N.height/2-Vn,Q=W-D,K=y.offsetHeight/2,z=y.offsetTop+K,O=H+B+z,ae=P-O;if(O<=D){const ee=F.length>0&&y===F[F.length-1].ref.current;l.style.bottom="0px";const ce=d.clientHeight-g.offsetTop-g.offsetHeight,ve=Math.max(Q,K+(ee?M:0)+ce+V),ge=O+ve;l.style.height=ge+"px"}else{const ee=F.length>0&&y===F[0].ref.current;l.style.top="0px";const ve=Math.max(D,H+g.offsetTop+(ee?A:0)+K)+ae;l.style.height=ve+"px",g.scrollTop=O-D+g.offsetTop}l.style.margin=`${Vn}px 0`,l.style.minHeight=k+"px",l.style.maxHeight=W+"px",n==null||n(),requestAnimationFrame(()=>v.current=!0)}},[m,i.trigger,i.valueNode,l,d,g,y,x,i.dir,n]);es(()=>w(),[w]);const[_,b]=h.useState();es(()=>{d&&b(window.getComputedStyle(d).zIndex)},[d]);const T=h.useCallback(N=>{N&&j.current===!0&&(w(),p==null||p(),j.current=!1)},[w,p]);return r.jsx(E5,{scope:s,contentWrapper:l,shouldExpandOnScrollRef:v,onScrollButtonChange:T,children:r.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:r.jsx(be.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});ZC.displayName=N5;var C5="SelectPopperPosition",yg=h.forwardRef((e,t)=>{const{__scopeSelect:s,align:n="start",collisionPadding:a=Vn,...i}=e,o=ph(s);return r.jsx(c1,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});yg.displayName=C5;var[E5,Rv]=ml(Li,{}),wg="SelectViewport",eE=h.forwardRef((e,t)=>{const{__scopeSelect:s,nonce:n,...a}=e,i=Ga(wg,s),o=Rv(wg,s),l=ot(t,i.onViewportChange),c=h.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),r.jsx(hh.Slot,{scope:s,children:r.jsx(be.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:_e(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&f){const v=Math.abs(c.current-u.scrollTop);if(v>0){const j=window.innerHeight-Vn*2,g=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),x=Math.max(g,y);if(x<j){const p=x+v,w=Math.min(j,p),_=p-w;f.style.height=w+"px",f.style.bottom==="0px"&&(u.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});eE.displayName=wg;var tE="SelectGroup",[T5,k5]=ml(tE),P5=h.forwardRef((e,t)=>{const{__scopeSelect:s,...n}=e,a=Ur();return r.jsx(T5,{scope:s,id:a,children:r.jsx(be.div,{role:"group","aria-labelledby":a,...n,ref:t})})});P5.displayName=tE;var sE="SelectLabel",nE=h.forwardRef((e,t)=>{const{__scopeSelect:s,...n}=e,a=k5(sE,s);return r.jsx(be.div,{id:a.id,...n,ref:t})});nE.displayName=sE;var of="SelectItem",[R5,rE]=ml(of),aE=h.forwardRef((e,t)=>{const{__scopeSelect:s,value:n,disabled:a=!1,textValue:i,...o}=e,l=Ka(of,s),c=Ga(of,s),d=l.value===n,[u,f]=h.useState(i??""),[m,v]=h.useState(!1),j=ot(t,p=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,p,n,a)}),g=Ur(),y=h.useRef("touch"),x=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(R5,{scope:s,value:n,disabled:a,textId:g,isSelected:d,onItemTextChange:h.useCallback(p=>{f(w=>w||((p==null?void 0:p.textContent)??"").trim())},[]),children:r.jsx(hh.ItemSlot,{scope:s,value:n,disabled:a,textValue:u,children:r.jsx(be.div,{role:"option","aria-labelledby":g,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:j,onFocus:_e(o.onFocus,()=>v(!0)),onBlur:_e(o.onBlur,()=>v(!1)),onClick:_e(o.onClick,()=>{y.current!=="mouse"&&x()}),onPointerUp:_e(o.onPointerUp,()=>{y.current==="mouse"&&x()}),onPointerDown:_e(o.onPointerDown,p=>{y.current=p.pointerType}),onPointerMove:_e(o.onPointerMove,p=>{var w;y.current=p.pointerType,a?(w=c.onItemLeave)==null||w.call(c):y.current==="mouse"&&p.currentTarget.focus({preventScroll:!0})}),onPointerLeave:_e(o.onPointerLeave,p=>{var w;p.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:_e(o.onKeyDown,p=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&p.key===" "||(g5.includes(p.key)&&x(),p.key===" "&&p.preventDefault())})})})})});aE.displayName=of;var Bl="SelectItemText",iE=h.forwardRef((e,t)=>{const{__scopeSelect:s,className:n,style:a,...i}=e,o=Ka(Bl,s),l=Ga(Bl,s),c=rE(Bl,s),d=w5(Bl,s),[u,f]=h.useState(null),m=ot(t,x=>f(x),c.onItemTextChange,x=>{var p;return(p=l.itemTextRefCallback)==null?void 0:p.call(l,x,c.value,c.disabled)}),v=u==null?void 0:u.textContent,j=h.useMemo(()=>r.jsx("option",{value:c.value,disabled:c.disabled,children:v},c.value),[c.disabled,c.value,v]),{onNativeOptionAdd:g,onNativeOptionRemove:y}=d;return es(()=>(g(j),()=>y(j)),[g,y,j]),r.jsxs(r.Fragment,{children:[r.jsx(be.span,{id:c.textId,...i,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Mn.createPortal(i.children,o.valueNode):null]})});iE.displayName=Bl;var oE="SelectItemIndicator",lE=h.forwardRef((e,t)=>{const{__scopeSelect:s,...n}=e;return rE(oE,s).isSelected?r.jsx(be.span,{"aria-hidden":!0,...n,ref:t}):null});lE.displayName=oE;var jg="SelectScrollUpButton",cE=h.forwardRef((e,t)=>{const s=Ga(jg,e.__scopeSelect),n=Rv(jg,e.__scopeSelect),[a,i]=h.useState(!1),o=ot(t,n.onScrollButtonChange);return es(()=>{if(s.viewport&&s.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=s.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),a?r.jsx(uE,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=s;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});cE.displayName=jg;var _g="SelectScrollDownButton",dE=h.forwardRef((e,t)=>{const s=Ga(_g,e.__scopeSelect),n=Rv(_g,e.__scopeSelect),[a,i]=h.useState(!1),o=ot(t,n.onScrollButtonChange);return es(()=>{if(s.viewport&&s.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=s.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),a?r.jsx(uE,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=s;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});dE.displayName=_g;var uE=h.forwardRef((e,t)=>{const{__scopeSelect:s,onAutoScroll:n,...a}=e,i=Ga("SelectScrollButton",s),o=h.useRef(null),l=mh(s),c=h.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return h.useEffect(()=>()=>c(),[c]),es(()=>{var u;const d=l().find(f=>f.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),r.jsx(be.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:_e(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:_e(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:_e(a.onPointerLeave,()=>{c()})})}),A5="SelectSeparator",fE=h.forwardRef((e,t)=>{const{__scopeSelect:s,...n}=e;return r.jsx(be.div,{"aria-hidden":!0,...n,ref:t})});fE.displayName=A5;var bg="SelectArrow",$5=h.forwardRef((e,t)=>{const{__scopeSelect:s,...n}=e,a=ph(s),i=Ka(bg,s),o=Ga(bg,s);return i.open&&o.position==="popper"?r.jsx(d1,{...a,...n,ref:t}):null});$5.displayName=bg;var D5="SelectBubbleInput",hE=h.forwardRef(({__scopeSelect:e,value:t,...s},n)=>{const a=h.useRef(null),i=ot(n,a),o=Pv(t);return h.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&u){const f=new Event("change",{bubbles:!0});u.call(l,t),l.dispatchEvent(f)}},[o,t]),r.jsx(be.select,{...s,style:{...sN,...s.style},ref:i,defaultValue:t})});hE.displayName=D5;function mE(e){return e===""||e===void 0}function pE(e){const t=yn(e),s=h.useRef(""),n=h.useRef(0),a=h.useCallback(o=>{const l=s.current+o;t(l),function c(d){s.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=h.useCallback(()=>{s.current="",window.clearTimeout(n.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(n.current),[]),[s,a,i]}function gE(e,t,s){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=s?e.indexOf(s):-1;let o=M5(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==s));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==s?c:void 0}function M5(e,t){return e.map((s,n)=>e[(t+n)%e.length])}var L5=VC,xE=HC,I5=KC,O5=GC,F5=YC,vE=QC,B5=eE,yE=nE,wE=aE,U5=iE,z5=lE,jE=cE,_E=dE,bE=fE;const At=L5,$t=I5,St=h.forwardRef(({className:e,children:t,...s},n)=>r.jsxs(xE,{ref:n,className:we("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[t,r.jsx(O5,{asChild:!0,children:r.jsx(Wf,{className:"h-4 w-4 opacity-50"})})]}));St.displayName=xE.displayName;const SE=h.forwardRef(({className:e,...t},s)=>r.jsx(jE,{ref:s,className:we("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(Xx,{className:"h-4 w-4"})}));SE.displayName=jE.displayName;const NE=h.forwardRef(({className:e,...t},s)=>r.jsx(_E,{ref:s,className:we("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(Wf,{className:"h-4 w-4"})}));NE.displayName=_E.displayName;const Nt=h.forwardRef(({className:e,children:t,position:s="popper",...n},a)=>r.jsx(F5,{children:r.jsxs(vE,{ref:a,className:we("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...n,children:[r.jsx(SE,{}),r.jsx(B5,{className:we("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),r.jsx(NE,{})]})}));Nt.displayName=vE.displayName;const V5=h.forwardRef(({className:e,...t},s)=>r.jsx(yE,{ref:s,className:we("px-2 py-1.5 text-sm font-semibold",e),...t}));V5.displayName=yE.displayName;const Le=h.forwardRef(({className:e,children:t,...s},n)=>r.jsxs(wE,{ref:n,className:we("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[r.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(z5,{children:r.jsx(il,{className:"h-4 w-4"})})}),r.jsx(U5,{children:t})]}));Le.displayName=wE.displayName;const W5=h.forwardRef(({className:e,...t},s)=>r.jsx(bE,{ref:s,className:we("-mx-1 my-1 h-px bg-muted",e),...t}));W5.displayName=bE.displayName;const H5=al("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ne({className:e,variant:t,...s}){return r.jsx("div",{className:we(H5({variant:t}),e),...s})}const q5=()=>{var j;const[e,t]=h.useState(!1),s=ul(),{selectedSeason:n,selectedConference:a,theme:i,setSelectedSeason:o,setSelectedConference:l,toggleTheme:c,seasonConfigs:d,currentSeasonConfig:u}=Bs(),f=[{path:"/",label:"Home",icon:X$},{path:"/standings",label:"Standings",icon:xt},{path:"/matchups",label:"Matchups",icon:Tc},{path:"/teams",label:"Teams",icon:Zt},{path:"/players",label:"Players",icon:Co},{path:"/draft",label:"Draft Results",icon:Ec},{path:"/rules",label:"League Rules",icon:Cc},{path:"/admin",label:"Admin",icon:F$}],m=g=>g==="/"?s.pathname==="/":s.pathname.startsWith(g),v=({isMobile:g=!1})=>r.jsx(r.Fragment,{children:f.map(y=>{const x=y.icon,p=m(y.path);return r.jsxs(ns,{to:y.path,onClick:()=>g&&t(!1),className:`flex items-center space-x-2 px-3 py-2 rounded-md ${y.path==="/admin"?"text-xs opacity-75":"text-sm"} font-medium transition-colors ${p?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-accent"}`,children:[r.jsx(x,{className:y.path==="/admin"?"h-3 w-3":"h-4 w-4"}),r.jsx("span",{className:y.path==="/admin"?"text-xs":"",children:y.label})]},y.path)})});return r.jsxs("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:[r.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[r.jsx("div",{className:"flex items-center space-x-4",children:r.jsxs(ns,{to:"/",className:"flex items-center space-x-2",children:[r.jsx("img",{src:"/gladiator-logo.png",alt:"Gladiator League Logo",className:"h-8 w-8"}),r.jsx("div",{className:"hidden sm:block",children:r.jsx("h1",{className:"text-xl font-bold",children:"Gladiator League"})})]})}),r.jsx("nav",{className:"hidden lg:flex items-center space-x-1",children:r.jsx(v,{})}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(At,{value:n.toString(),onValueChange:g=>o(parseInt(g)),children:[r.jsx(St,{className:"w-20",children:r.jsx($t,{})}),r.jsx(Nt,{children:d.map(g=>r.jsx(Le,{value:g.year.toString(),children:g.year},g.year))})]}),r.jsxs(At,{value:a||"all",onValueChange:g=>l(g==="all"?null:g),children:[r.jsx(St,{className:"w-40",children:r.jsx($t,{})}),r.jsxs(Nt,{children:[r.jsx(Le,{value:"all",children:"All Conferences"}),u.conferences.map(g=>r.jsx(Le,{value:g.id,children:g.name},g.id))]})]}),r.jsx(J,{variant:"ghost",size:"icon",onClick:c,children:i==="light"?r.jsx(mD,{className:"h-4 w-4"}):r.jsx(PD,{className:"h-4 w-4"})}),r.jsxs(l5,{open:e,onOpenChange:t,children:[r.jsx(c5,{asChild:!0,className:"lg:hidden",children:r.jsx(J,{variant:"ghost",size:"icon",children:r.jsx(oD,{className:"h-4 w-4"})})}),r.jsx(zC,{side:"right",className:"w-64",children:r.jsxs("div",{className:"flex flex-col space-y-4 mt-8",children:[r.jsxs("div",{className:"flex items-center space-x-2 pb-4 border-b",children:[r.jsx(Ec,{className:"h-6 w-6 text-primary"}),r.jsxs("div",{children:[r.jsx("h2",{className:"font-semibold",children:"Gladiator League"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Fantasy Football"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Navigation"}),r.jsx(v,{isMobile:!0})]}),r.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium mb-2",children:"Season"}),r.jsxs(At,{value:n.toString(),onValueChange:g=>o(parseInt(g)),children:[r.jsx(St,{children:r.jsx($t,{})}),r.jsx(Nt,{children:d.map(g=>r.jsx(Le,{value:g.year.toString(),children:g.year},g.year))})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium mb-2",children:"Conference"}),r.jsxs(At,{value:a||"all",onValueChange:g=>l(g==="all"?null:g),children:[r.jsx(St,{children:r.jsx($t,{})}),r.jsxs(Nt,{children:[r.jsx(Le,{value:"all",children:"All Conferences"}),u.conferences.map(g=>r.jsx(Le,{value:g.id,children:g.name},g.id))]})]})]})]})]})})]})]})]}),(a||n!==2025)&&r.jsx("div",{className:"border-t bg-accent/50",children:r.jsx("div",{className:"container py-2",children:r.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Active filters:"}),n!==2025&&r.jsxs(ne,{variant:"secondary",children:[n," Season"]}),a&&r.jsx(ne,{variant:"secondary",children:(j=u.conferences.find(g=>g.id===a))==null?void 0:j.name})]})})})]})},q=h.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:we("rounded-xl border bg-card text-card-foreground shadow",e),...t}));q.displayName="Card";const ie=h.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:we("flex flex-col space-y-1.5 p-6",e),...t}));ie.displayName="CardHeader";const de=h.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:we("font-semibold leading-none tracking-tight",e),...t}));de.displayName="CardTitle";const Se=h.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:we("text-sm text-muted-foreground",e),...t}));Se.displayName="CardDescription";const G=h.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:we("p-6 pt-0",e),...t}));G.displayName="CardContent";const K5=h.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:we("flex items-center p-6 pt-0",e),...t}));K5.displayName="CardFooter";const G5=al("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Ye=h.forwardRef(({className:e,variant:t,...s},n)=>r.jsx("div",{ref:n,role:"alert",className:we(G5({variant:t}),e),...s}));Ye.displayName="Alert";const Lr=h.forwardRef(({className:e,...t},s)=>r.jsx("h5",{ref:s,className:we("mb-1 font-medium leading-none tracking-tight",e),...t}));Lr.displayName="AlertTitle";const Qe=h.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:we("text-sm [&_p]:leading-relaxed",e),...t}));Qe.displayName="AlertDescription";var Y5="Separator",H0="horizontal",Q5=["horizontal","vertical"],CE=h.forwardRef((e,t)=>{const{decorative:s,orientation:n=H0,...a}=e,i=J5(n)?n:H0,l=s?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return r.jsx(be.div,{"data-orientation":i,...l,...a,ref:t})});CE.displayName=Y5;function J5(e){return Q5.includes(e)}var EE=CE;const gh=h.forwardRef(({className:e,orientation:t="horizontal",decorative:s=!0,...n},a)=>r.jsx(EE,{ref:a,decorative:s,orientation:t,className:we("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));gh.displayName=EE.displayName;class lf{static async getStandingsData(t,s){try{console.log(`StandingsService: Fetching standings for season ${t}, conference ${s||"all"}`);const n=[{column:"season_id",operator:"eq",value:t}];s&&n.push({column:"conference_id",operator:"eq",value:s});const a=await Y.getTeamRecords({filters:n});if(a.error)throw new Error(`Failed to fetch team records: ${a.error}`);const i=a.data||[];if(console.log(`StandingsService: Found ${i.length} team records`),i.length===0)return console.log("StandingsService: No team records found, returning empty array"),[];const o=[...new Set(i.map(y=>y.team_id))],l=[...new Set(i.map(y=>y.conference_id))],[c,d]=await Promise.all([Y.getTeams({filters:[{column:"id",operator:"in",value:o}]}),Y.getConferences({filters:[{column:"id",operator:"in",value:l}]})]);if(c.error)throw new Error(`Failed to fetch teams: ${c.error}`);if(d.error)throw new Error(`Failed to fetch conferences: ${d.error}`);const u=c.data||[],f=d.data||[],m=new Map;u.forEach(y=>m.set(y.id,y));const v=new Map;f.forEach(y=>v.set(y.id,y));const j=i.map(y=>{const x=m.get(y.team_id),p=v.get(y.conference_id),w=y.wins||0,_=y.losses||0,b=0,T=w+_+b,N=T>0?w/T:0;return{team_id:y.team_id,team_name:(x==null?void 0:x.team_name)||`Team ${y.team_id}`,owner_name:(x==null?void 0:x.owner_name)||"Unknown Owner",conference_name:(p==null?void 0:p.conference_name)||"Unknown Conference",team_logourl:(x==null?void 0:x.team_logourl)||"",wins:w,losses:_,ties:b,points_for:y.points_for||0,points_against:y.points_against||0,point_diff:y.point_diff||(y.points_for||0)-(y.points_against||0),win_percentage:N,conference_rank:0,overall_rank:0,playoff_eligible:!1,is_conference_champion:!1}});j.sort((y,x)=>x.win_percentage!==y.win_percentage?x.win_percentage-y.win_percentage:x.points_for-y.points_for),j.forEach((y,x)=>{y.overall_rank=x+1});const g=new Map;return j.forEach(y=>{g.has(y.conference_name)||g.set(y.conference_name,[]),g.get(y.conference_name).push(y)}),g.forEach((y,x)=>{y.sort((p,w)=>w.win_percentage!==p.win_percentage?w.win_percentage-p.win_percentage:w.points_for-p.points_for),y.forEach((p,w)=>{p.conference_rank=w+1,p.playoff_eligible=w<2,p.is_conference_champion=w===0})}),console.log(`StandingsService: Returning ${j.length} standings records`),j}catch(n){throw console.error("StandingsService: Error fetching standings data:",n),n}}static async getConferenceStandings(t,s){return this.getStandingsData(t,s)}static async getLeagueStandings(t){return this.getStandingsData(t)}static formatRecord(t,s,n=0){return n>0?`${t}-${s}-${n}`:`${t}-${s}`}static formatPoints(t){return t.toFixed(1)}}const X5=e=>{const{seasonYear:t,conferenceId:s,limit:n,autoRefresh:a=!1,refreshInterval:i=3e4}=e,[o,l]=h.useState([]),[c,d]=h.useState(!0),[u,f]=h.useState(null),m=async()=>{if(!t){d(!1);return}try{d(!0),f(null);let v=await lf.getStandingsData(t,s);n&&n>0&&(v=v.slice(0,n)),l(v)}catch(v){const j=v instanceof Error?v.message:"An error occurred while fetching standings";f(j),console.error("Error fetching standings:",v)}finally{d(!1)}};return h.useEffect(()=>{t?m():d(!1)},[t,s,n]),h.useEffect(()=>{if(a&&i>0&&t){const v=setInterval(m,i);return()=>clearInterval(v)}},[a,i,t,s,n]),{standings:o,loading:c,error:u,refetch:m}},Z5=["QB","RB","RB","WR","WR","WR","TE","FLEX","SUPER_FLEX","K","DEF"];class Oe{static async fetchLeagueRosters(t){try{console.log(`Fetching rosters for league: ${t}`),typeof window<"u"&&(window.__apiCallCount=(window.__apiCallCount||0)+1);const s=await fetch(`${this.baseUrl}/league/${t}/rosters`);if(!s.ok)throw new Error(`Failed to fetch rosters: ${s.status} ${s.statusText}`);const n=await s.json();return console.log(`Fetched ${n.length} rosters for league ${t}`),n}catch(s){throw console.error("Error fetching league rosters:",s),s}}static async fetchAllPlayers(){try{console.log("Fetching all NFL players data...");const t=await fetch(`${this.baseUrl}/players/nfl`);if(!t.ok)throw new Error(`Failed to fetch players: ${t.status} ${t.statusText}`);const s=await t.json();return console.log(`Fetched ${Object.keys(s).length} players from Sleeper API`),s}catch(t){throw console.error("Error fetching players:",t),t}}static organizeRoster(t,s){const n=(t.starters||[]).map((i,o)=>{const l=s[i],c=Z5[o]||"BENCH";return{playerId:i,position:(l==null?void 0:l.position)||"UNK",slotPosition:c}}),a=(t.players||[]).filter(i=>!(t.starters||[]).includes(i)&&!(t.reserve||[]).includes(i));return{starters:n,bench:a,ir:t.reserve||[]}}static async getTeamRosterData(t,s){try{const[n,a]=await Promise.all([this.fetchLeagueRosters(t),(async()=>{const{DatabaseService:l}=await Yr(async()=>{const{DatabaseService:u}=await Promise.resolve().then(()=>r3);return{DatabaseService:u}},void 0),c=await l.getAllPlayersForMapping([{column:"playing_status",operator:"eq",value:"Active"},{column:"position",operator:"in",value:["QB","RB","WR","TE","K","DEF"]}]),d={};return c.forEach(u=>{var f;if(u.sleeper_id){const m=u.player_name.split(" "),v=m[0]||"",j=m.slice(1).join(" ")||"";d[u.sleeper_id]={player_id:u.sleeper_id,first_name:v,last_name:j,position:u.position||"",team:u.nfl_team||"",jersey_number:u.number||0,status:u.playing_status||"",injury_status:u.injury_status||"",age:u.age||0,height:((f=u.height)==null?void 0:f.toString())||"",weight:u.weight||0,years_exp:0,college:u.college||""}}}),d})()]),i=n.find(l=>l.roster_id===s);if(!i)throw new Error(`Roster with ID ${s} not found in league ${t}`);const o=this.organizeRoster(i,a);return{roster:i,organizedRoster:o,allPlayers:a}}catch(n){throw console.error("Error getting team roster data:",n),n}}static getPlayerName(t){return t&&`${t.first_name||""} ${t.last_name||""}`.trim()||"Unknown Player"}static calculatePointsPerGame(t,s){return s===0?0:t/s}static formatPoints(t,s=0){return t+s/100}static async fetchMatchups(t,s){try{console.log(` Fetching matchups for league: ${t}, week: ${s}`),typeof window<"u"&&(window.__apiCallCount=(window.__apiCallCount||0)+1);const n=await fetch(`${this.baseUrl}/league/${t}/matchups/${s}`);if(!n.ok)throw new Error(`Failed to fetch matchups: ${n.status} ${n.statusText}`);const a=await n.json();if(console.log(` Fetched ${a.length} matchups for league ${t}, week ${s}`),a.length>0){const i={totalMatchups:a.length,matchupsWithPoints:a.filter(o=>o.points>0).length,matchupsWithZeroPoints:a.filter(o=>o.points===0).length,matchupsWithNullPoints:a.filter(o=>o.points===null||o.points===void 0).length,pointsRange:{min:Math.min(...a.map(o=>o.points||0)),max:Math.max(...a.map(o=>o.points||0)),average:a.reduce((o,l)=>o+(l.points||0),0)/a.length},playersPointsAvailability:{withPlayersPoints:a.filter(o=>o.players_points&&Object.keys(o.players_points).length>0).length,withStartersPoints:a.filter(o=>o.starters_points&&o.starters_points.length>0).length},sampleMatchup:{rosterId:a[0].roster_id,points:a[0].points,playersPointsKeys:Object.keys(a[0].players_points||{}).length,startersPointsLength:(a[0].starters_points||[]).length,matchupId:a[0].matchup_id}};console.log(` Points analysis for league ${t}, week ${s}:`,i),i.matchupsWithPoints===0&&(console.warn(` No matchups with points > 0 found for league ${t}, week ${s}`),console.warn(" This could indicate: week hasn't started, games in progress, or API delay")),i.playersPointsAvailability.withPlayersPoints===0&&console.warn(` No player-level points data available for league ${t}, week ${s}`)}else console.warn(` No matchup data returned for league ${t}, week ${s}`);return a}catch(n){throw console.error(` Error fetching matchups for league ${t}, week ${s}:`,n),n}}static async fetchLeague(t){try{console.log(`Fetching league info: ${t}`);const s=await fetch(`${this.baseUrl}/league/${t}`);if(!s.ok)throw new Error(`Failed to fetch league: ${s.status} ${s.statusText}`);const n=await s.json();return console.log(`Fetched league info for ${t}`),n}catch(s){throw console.error("Error fetching league:",s),s}}static async fetchLeagueUsers(t){try{console.log(`Fetching users for league: ${t}`),typeof window<"u"&&(window.__apiCallCount=(window.__apiCallCount||0)+1);const s=await fetch(`${this.baseUrl}/league/${t}/users`);if(!s.ok)throw new Error(`Failed to fetch users: ${s.status} ${s.statusText}`);const n=await s.json();return console.log(`Fetched ${n.length} users for league ${t}`),n}catch(s){throw console.error("Error fetching league users:",s),s}}static organizeMatchups(t,s,n){const a=new Map;return t.forEach(i=>{a.has(i.matchup_id)||a.set(i.matchup_id,[]),a.get(i.matchup_id).push(i)}),Array.from(a.entries()).filter(([i,o])=>o.length===2).map(([i,o])=>({matchup_id:i,teams:o.map(l=>{const c=s.find(u=>u.roster_id===l.roster_id),d=c?n.find(u=>u.user_id===c.owner_id):null;return{roster_id:l.roster_id,points:l.points,owner:d,roster:c}})}))}static async getCurrentNFLWeek(){try{console.log("Fetching current NFL week from Sleeper API...");const t=await fetch(`${this.baseUrl}/state/nfl`);if(!t.ok)throw new Error(`Failed to fetch NFL state: ${t.status} ${t.statusText}`);const s=await t.json();return console.log("NFL State from Sleeper:",s),console.log(`Current NFL week: ${s.week}`),s.week||1}catch(t){return console.error("Error fetching current NFL week:",t),console.warn("Falling back to default week 1"),1}}static async getNFLState(){try{console.log("Fetching NFL state from Sleeper API...");const t=await fetch(`${this.baseUrl}/state/nfl`);if(!t.ok)throw new Error(`Failed to fetch NFL state: ${t.status} ${t.statusText}`);const s=await t.json();return console.log("NFL State from Sleeper:",s),s}catch(t){throw console.error("Error fetching NFL state:",t),t}}}us(Oe,"baseUrl","https://api.sleeper.app/v1");const Sg=Object.freeze(Object.defineProperty({__proto__:null,SleeperApiService:Oe,default:Oe},Symbol.toStringTag,{value:"Module"})),e6=e=>{switch(e){case"The Legion of Mars":case"The Legions of Mars":return{primary:"#800020",secondary:"#CD7F32",accent:"#FF7F7F",bgClass:"bg-[#800020]",textClass:"text-white",borderClass:"border-[#CD7F32]"};case"Vulcan's Oathsworn":return{primary:"#708090",secondary:"#CD7F32",accent:"#CF1020",bgClass:"bg-[#708090]",textClass:"text-white",borderClass:"border-[#CD7F32]"};case"The Guardians of Jupiter":return{primary:"#483D8B",secondary:"#9370DB",accent:"#DAA520",bgClass:"bg-[#483D8B]",textClass:"text-white",borderClass:"border-[#DAA520]"};default:return{primary:"#6B7280",secondary:"#9CA3AF",accent:"#3B82F6",bgClass:"bg-gray-500",textClass:"text-white",borderClass:"border-gray-300"}}},TE=e=>{const t=e6(e);return`${t.bgClass} ${t.textClass} ${t.borderClass} border-2 font-semibold`},bi=({conferenceName:e,variant:t="secondary",size:s="md",className:n=""})=>{const a={sm:"text-xs px-1.5 py-0.5",md:"text-xs px-2 py-1",lg:"text-sm px-2.5 py-1.5"},i=TE(e);return r.jsx(ne,{variant:t,className:`${a[s]} ${i} ${n}`,children:e})},t6=()=>{var V,S;const[e,t]=h.useState(1),[s,n]=h.useState([]),[a,i]=h.useState([]),[o,l]=h.useState(!0),[c,d]=h.useState(!0),[u,f]=h.useState(null),[m,v]=h.useState(null),{selectedSeason:j,selectedConference:g,currentSeasonConfig:y,seasonConfigs:x,loading:p,error:w,refreshSeasonData:_}=Bs();y==null||y.year;const{standings:b,loading:T,error:N,refetch:E}=X5({seasonYear:y!=null&&y.seasonId?typeof y.seasonId=="string"?parseInt(y.seasonId):y.seasonId:void 0,conferenceId:g==="all"||g===null||(V=y==null?void 0:y.conferences.find(P=>P.id===g))==null?void 0:V.dbConferenceId,limit:12,autoRefresh:!0,refreshInterval:6e4});h.useEffect(()=>{(async()=>{try{const k=await Oe.getCurrentNFLWeek();t(k===0?1:k)}catch(k){console.error("Error loading current week:",k),t(1)}})()},[]);const R=async(P,k)=>{const C=[];for(const A of P){if(!A.dbConferenceId)continue;const M=await Y.getMatchups({filters:[{column:"conference_id",operator:"eq",value:A.dbConferenceId},{column:"week",operator:"eq",value:k}]});if(M.error||!M.data)continue;const D=await Y.getTeams({});if(D.error||!D.data)continue;const Q=new Map;D.data.forEach(K=>{Q.set(K.id,K.team_name)});for(const K of M.data){const z=Q.get(K.team1_id)||"Unknown Team",O=Q.get(K.team2_id)||"Unknown Team";C.push({matchup_id:K.id,conference:{conference_name:A.name,league_id:A.leagueId},teams:[{team:{team_name:z},points:K.team1_score||0},{team:{team_name:O},points:K.team2_score||0}],status:K.team1_score&&K.team2_score?"completed":"upcoming"})}}return C},$=async()=>{if(!(!y||e===0)){l(!0),f(null);try{const P=g==="all"||g===null?y.conferences:y.conferences.filter(C=>C.id===g),k=await R(P,e);n(k)}catch(P){console.error("Error loading matchups:",P),f(P instanceof Error?P.message:"Failed to load matchups")}finally{l(!1)}}};h.useEffect(()=>{$()},[e,g,y]);const F=async()=>{if(y){d(!0),v(null);try{const P=g==="all"||g===null?y.conferences:y.conferences.filter(z=>z.id===g),k=P.filter(z=>z.dbConferenceId).map(z=>z.dbConferenceId);if(k.length===0){i([]);return}const C=await Y.getTransactions({filters:[{column:"conference_id",operator:"in",value:k}],orderBy:{column:"created_at",ascending:!1},limit:10});if(C.error||!C.data)throw new Error(C.error||"Failed to fetch transactions");const A=await Y.getTeams({}),M=await Y.getTeamConferenceJunctions({filters:[{column:"conference_id",operator:"in",value:k}]}),D=await Y.getAllPlayersForMapping([{column:"playing_status",operator:"eq",value:"Active"},{column:"position",operator:"in",value:["QB","RB","WR","TE"]}]),Q=new Map;D.forEach(z=>{z.sleeper_id&&Q.set(String(z.sleeper_id),z.player_name)});const K=await Promise.all(C.data.map(async z=>{let O={};try{O=typeof z.data=="string"?JSON.parse(z.data):z.data||{}}catch(Z){console.warn("Failed to parse transaction data:",Z)}const ae=P.find(Z=>Z.dbConferenceId===z.conference_id),X=Z=>{var Ee;const he=(Ee=M.data)==null?void 0:Ee.find(Re=>Re.roster_id.toString()===Z.toString()&&Re.conference_id===z.conference_id);if(he&&A.data){const Re=A.data.find(wt=>wt.id===he.team_id);return(Re==null?void 0:Re.team_name)||"Unknown Team"}return"Unknown Team"};let ee="Unknown Team";O.roster_ids&&O.roster_ids.length>0&&(ee=X(O.roster_ids[0]));const ce=[],ve=[],ge=Z=>{const he=String(Z);return Q.get(he)||`Player ${he}`};if(O.adds)for(const[Z,he]of Object.entries(O.adds)){const Ee=ge(Z),Re=X(he),wt=O.settings&&O.settings.waiver_bid&&O.settings.waiver_bid[Z];ce.push({name:Ee,team:Re,bidAmount:wt||null})}if(O.drops)for(const[Z,he]of Object.entries(O.drops)){const Ee=ge(Z),Re=X(he);ve.push({name:Ee,team:Re})}let ye="";const st=O.type||z.type,yt=new Set;switch(O.roster_ids&&O.roster_ids.forEach(Z=>{const he=X(Z);he!=="Unknown Team"&&yt.add(he)}),st){case"trade":if(ce.length>0||ve.length>0){const Z=[];ce.forEach(he=>Z.push(`${he.name} to ${he.team}`)),ve.forEach(he=>Z.push(`${he.name} from ${he.team}`)),yt.size>1?ye=`Trade between ${Array.from(yt).join(" and ")}: ${Z.join(", ")}`:ye=`${ee} trade: ${Z.join(", ")}`}else O.draft_picks&&O.draft_picks.length>0?ye=`Trade involving ${O.draft_picks.map(he=>`${he.season} Round ${he.round} pick`).join(", ")}`:ye=`Trade between ${Array.from(yt).join(" and ")}`;break;case"waiver":ce.length>0&&ve.length>0?ye=`${ee} claimed ${ce.map(Z=>Z.name).join(", ")} from waivers, dropped ${ve.map(Z=>Z.name).join(", ")}`:ce.length>0?ye=`${ee} claimed ${ce.map(Z=>Z.name).join(", ")} from waivers`:ve.length>0?ye=`${ee} dropped ${ve.map(Z=>Z.name).join(", ")} to waivers`:ye=`${ee} made a waiver claim`;break;case"free_agent":ce.length>0&&ve.length>0?ye=`${ee} added ${ce.map(Z=>Z.name).join(", ")}, dropped ${ve.map(Z=>Z.name).join(", ")}`:ce.length>0?ye=`${ee} added ${ce.map(Z=>Z.name).join(", ")} from free agency`:ve.length>0?ye=`${ee} dropped ${ve.map(Z=>Z.name).join(", ")}`:ye=`${ee} made a free agent transaction`;break;default:ye=`${ee} completed a ${st||"transaction"}`}const se=O.type==="trade"?"trade":O.type==="waiver"?"waiver":O.type==="free_agent"?"free_agent":"commissioner";return{id:z.id.toString(),type:se,date:new Date(z.created_at||new Date),details:ye,teams:[ee],players:{added:ce.map(Z=>({id:"",name:Z.name,team:Z.team,bidAmount:Z.bidAmount})),dropped:ve.map(Z=>({id:"",name:Z.name,team:Z.team}))},week:O.leg||0,status:"completed",rosterIds:O.roster_ids||[],draftPicks:O.draft_picks||[],waiverBudget:O.waiver_budget||[]}}));i(K)}catch(P){console.error("Error loading transactions:",P),v(P instanceof Error?P.message:"Failed to load transactions")}finally{d(!1)}}};if(h.useEffect(()=>{F()},[g,y]),p)return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Bt,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Loading Gladiator League"}),r.jsx("p",{className:"text-muted-foreground",children:"Connecting to Supabase database..."})]})});if(w)return r.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:r.jsxs(q,{className:"w-full max-w-md",children:[r.jsx(ie,{children:r.jsxs(de,{className:"flex items-center gap-2 text-destructive",children:[r.jsx(et,{className:"h-5 w-5"}),"Connection Error"]})}),r.jsxs(G,{className:"space-y-4",children:[r.jsx(Ye,{children:r.jsx(Qe,{children:w})}),r.jsxs(J,{onClick:_,className:"w-full",children:[r.jsx(it,{className:"h-4 w-4 mr-2"}),"Retry Connection"]})]})]})});if(!x||x.length===0)return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Bt,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Loading Season Configuration"}),r.jsx("p",{className:"text-muted-foreground",children:"Setting up league data..."})]})});if(!y||!y.conferences||y.conferences.length===0)return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Bt,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Loading Conferences"}),r.jsx("p",{className:"text-muted-foreground",children:"Setting up conference data..."})]})});const W=P=>{switch(P){case"live":return r.jsx(ne,{className:"bg-green-500 hover:bg-green-600 text-xs",children:"Live"});case"completed":return r.jsx(ne,{variant:"secondary",className:"text-xs",children:"Final"});case"upcoming":return r.jsx(ne,{variant:"outline",className:"text-xs",children:"Upcoming"});default:return r.jsx(ne,{variant:"secondary",className:"text-xs",children:P})}},I=P=>{switch(P){case"trade":return"";case"waiver":return"";case"free_agent":return"";case"commissioner":return"";default:return""}},L=()=>T?r.jsxs("div",{className:"flex items-center justify-center p-8",children:[r.jsx(Bt,{className:"h-6 w-6 animate-spin text-primary"}),r.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:"Loading standings..."})]}):N?r.jsxs("div",{className:"text-center p-8",children:[r.jsxs("p",{className:"text-sm text-red-600 mb-4",children:["Error loading standings: ",N]}),r.jsx(J,{variant:"outline",size:"sm",onClick:E,children:"Try Again"})]}):!b||b.length===0?r.jsx("div",{className:"text-center p-8",children:r.jsx("p",{className:"text-sm text-muted-foreground",children:"No standings data available"})}):r.jsx("div",{className:"space-y-3",children:b.map(P=>r.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-accent/50",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("div",{className:"flex items-center justify-center space-x-1 w-8",children:[P.overall_rank===1&&r.jsx(Qu,{className:"h-4 w-4 text-yellow-500"}),r.jsxs("span",{className:"font-semibold",children:["#",P.overall_rank]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:P.team_name}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[P.owner_name,"  ",P.conference_name]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"font-semibold",children:lf.formatRecord(P.wins,P.losses,P.ties)}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[lf.formatPoints(P.points_for)," pts"]})]})]},P.team_id))}),H=()=>o?r.jsxs("div",{className:"flex items-center justify-center p-8",children:[r.jsx(Bt,{className:"h-6 w-6 animate-spin text-primary"}),r.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:"Loading matchups..."})]}):u?r.jsxs("div",{className:"text-center p-8",children:[r.jsxs("p",{className:"text-sm text-red-600 mb-4",children:["Error loading matchups: ",u]}),r.jsx(J,{variant:"outline",size:"sm",onClick:$,children:"Try Again"})]}):!s||s.length===0?r.jsx("div",{className:"text-center p-8",children:r.jsxs("p",{className:"text-sm text-muted-foreground",children:["No matchups found for week ",e]})}):r.jsx("div",{className:"space-y-2",children:s.map(P=>{var M,D;const k=P.teams[0],C=P.teams[1],A=P.status==="completed"?(k==null?void 0:k.points)>((C==null?void 0:C.points)||0)?k:C:null;return r.jsxs("div",{className:"p-2 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx(bi,{conferenceName:P.conference.conference_name,variant:"outline",size:"sm"}),W(P.status)]}),r.jsxs("div",{className:"grid grid-cols-5 gap-2 items-center text-sm",children:[r.jsx("div",{className:"text-right",children:r.jsx("p",{className:"font-medium truncate text-xs",children:((M=k==null?void 0:k.team)==null?void 0:M.team_name)||"Team 1"})}),r.jsx("div",{className:"text-right",children:r.jsx("p",{className:`text-sm font-bold ${A===k?"text-green-600":""}`,children:P.status==="upcoming"?"--":k==null?void 0:k.points.toFixed(1)})}),r.jsx("div",{className:"text-center text-muted-foreground font-semibold text-xs",children:"VS"}),r.jsx("div",{className:"text-left",children:r.jsx("p",{className:`text-sm font-bold ${A===C?"text-green-600":""}`,children:P.status==="upcoming"?"--":C==null?void 0:C.points.toFixed(1)})}),r.jsx("div",{className:"text-left",children:r.jsx("p",{className:"font-medium truncate text-xs",children:((D=C==null?void 0:C.team)==null?void 0:D.team_name)||"Team 2"})})]})]},P.matchup_id)})}),B=()=>c?r.jsxs("div",{className:"flex items-center justify-center p-8",children:[r.jsx(Bt,{className:"h-6 w-6 animate-spin text-primary"}),r.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:"Loading transactions..."})]}):m?r.jsxs("div",{className:"text-center p-8",children:[r.jsxs("p",{className:"text-sm text-red-600 mb-4",children:["Error loading transactions: ",m]}),r.jsx(J,{variant:"outline",size:"sm",onClick:F,children:"Try Again"})]}):!a||a.length===0?r.jsx("div",{className:"text-center p-8",children:r.jsx("p",{className:"text-sm text-muted-foreground",children:"No recent transactions found"})}):r.jsx("div",{className:"space-y-3",children:a.map(P=>r.jsxs("div",{className:"p-3 rounded-lg border bg-card hover:bg-accent/50 transition-colors",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"text-base",children:I(P.type)}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ne,{variant:"outline",className:"text-xs",children:P.type.replace("_"," ").toUpperCase()}),r.jsxs("span",{className:"text-xs text-muted-foreground",children:["Week ",P.week]})]})]}),r.jsx("span",{className:"text-xs text-muted-foreground",children:P.date.toLocaleDateString()})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"flex items-center space-x-2",children:r.jsx("span",{className:"text-sm font-medium",children:P.teams[0]})}),(P.players.added.length>0||P.players.dropped.length>0)&&r.jsxs("div",{className:"space-y-2",children:[P.players.added.length>0&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[r.jsxs(ne,{variant:"secondary",className:"text-xs bg-green-100 text-green-800",children:["+",P.players.added.length]}),r.jsx("span",{className:"text-xs font-medium text-green-700",children:"Added"})]}),r.jsx("div",{className:"ml-1 space-y-1",children:P.players.added.map((k,C)=>r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"font-medium",children:k.name}),r.jsxs("div",{className:"flex items-center space-x-1",children:[k.bidAmount&&r.jsxs(ne,{variant:"secondary",className:"text-xs bg-blue-100 text-blue-800",children:["$",k.bidAmount]}),r.jsx(ne,{variant:"outline",className:"text-xs",children:k.team})]})]},C))})]}),P.players.dropped.length>0&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[r.jsxs(ne,{variant:"secondary",className:"text-xs bg-red-100 text-red-800",children:["-",P.players.dropped.length]}),r.jsx("span",{className:"text-xs font-medium text-red-700",children:"Dropped"})]}),r.jsx("div",{className:"ml-1 space-y-1",children:P.players.dropped.map((k,C)=>r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"font-medium",children:k.name}),r.jsx(ne,{variant:"outline",className:"text-xs",children:k.team})]},C))})]})]})]})]},P.id))});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"relative overflow-hidden rounded-lg bg-gradient-to-br from-primary/10 via-primary/5 to-background border",children:[r.jsx("div",{className:"absolute inset-0 bg-grid-white/10 [mask-image:linear-gradient(0deg,white,rgba(255,255,255,0.6))]"}),r.jsx("div",{className:"relative px-6 py-12 sm:px-12",children:r.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("img",{src:"/gladiator-logo.png",alt:"Gladiator League Logo",className:"h-12 w-12"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"Gladiator League"}),r.jsx("p",{className:"text-lg text-muted-foreground",children:"Fantasy Football Championship"})]})]}),r.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl",children:"Welcome to the ultimate fantasy football experience. Track your teams across three competitive conferences in real-time."}),r.jsxs("div",{className:"flex items-center space-x-2 mt-4",children:[r.jsxs(ne,{variant:"outline",children:[j," Season"]}),r.jsxs(ne,{variant:"outline",children:["Week ",e]}),g!=="all"&&y&&r.jsx(ne,{variant:"secondary",children:(S=y.conferences.find(P=>P.id===g))==null?void 0:S.name})]})]})})]}),r.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[r.jsxs("div",{className:"lg:w-2/3 flex flex-col gap-6",children:[r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Tc,{className:"h-5 w-5 text-primary"}),r.jsxs(de,{children:["Week ",e]})]}),r.jsx(ns,{to:"/matchups",children:r.jsx(J,{variant:"ghost",size:"sm",children:r.jsx(dm,{className:"h-4 w-4"})})})]}),r.jsx(Se,{children:"Current matchups"})]}),r.jsx(G,{children:H()})]}),r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ri,{className:"h-5 w-5 text-primary"}),r.jsx(de,{children:"Recent Transactions"})]}),r.jsx(ns,{to:"/transactions",children:r.jsxs(J,{variant:"ghost",size:"sm",children:["View All ",r.jsx(dm,{className:"ml-1 h-4 w-4"})]})})]}),r.jsx(Se,{children:"Latest roster moves across all conferences"})]}),r.jsx(G,{children:B()})]})]}),r.jsxs("div",{className:"lg:w-1/3 flex flex-col gap-6",children:[r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(xt,{className:"h-5 w-5 text-primary"}),r.jsx(de,{children:"League Standings"})]}),r.jsx(ns,{to:"/standings",children:r.jsxs(J,{variant:"ghost",size:"sm",children:["View All ",r.jsx(dm,{className:"ml-1 h-4 w-4"})]})})]}),r.jsx(Se,{children:"Top 12 teams across all conferences"})]}),r.jsx(G,{children:L()})]}),r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsxs(de,{className:"flex items-center space-x-2",children:[r.jsx(Zt,{className:"h-5 w-5 text-primary"}),r.jsx("span",{children:"Quick Actions"})]}),r.jsx(Se,{children:"Navigate to key sections of the league"})]}),r.jsxs(G,{children:[r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsx(ns,{to:"/standings",children:r.jsxs(J,{variant:"outline",className:"w-full h-16 flex flex-col space-y-1",children:[r.jsx(xt,{className:"h-5 w-5"}),r.jsx("span",{className:"text-xs",children:"Standings"})]})}),r.jsx(ns,{to:"/matchups",children:r.jsxs(J,{variant:"outline",className:"w-full h-16 flex flex-col space-y-1",children:[r.jsx(Tc,{className:"h-5 w-5"}),r.jsx("span",{className:"text-xs",children:"Matchups"})]})}),r.jsx(ns,{to:"/teams",children:r.jsxs(J,{variant:"outline",className:"w-full h-16 flex flex-col space-y-1",children:[r.jsx(Zt,{className:"h-5 w-5"}),r.jsx("span",{className:"text-xs",children:"Teams"})]})}),r.jsx(ns,{to:"/players",children:r.jsxs(J,{variant:"outline",className:"w-full h-16 flex flex-col space-y-1",children:[r.jsx(Ri,{className:"h-5 w-5"}),r.jsx("span",{className:"text-xs",children:"Players"})]})}),r.jsx(ns,{to:"/draft",children:r.jsxs(J,{variant:"outline",className:"w-full h-16 flex flex-col space-y-1",children:[r.jsx(Ec,{className:"h-5 w-5"}),r.jsx("span",{className:"text-xs",children:"Draft Results"})]})}),r.jsx(ns,{to:"/rules",children:r.jsxs(J,{variant:"outline",className:"w-full h-16 flex flex-col space-y-1",children:[r.jsx(un,{className:"h-5 w-5"}),r.jsx("span",{className:"text-xs",children:"League Rules"})]})})]}),(y==null?void 0:y.conferences)&&y.conferences.length>0&&r.jsxs("div",{className:"mt-4",children:[r.jsx(gh,{className:"my-3"}),r.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[r.jsx(tD,{className:"h-5 w-5 text-primary"}),r.jsx("h3",{className:"text-sm font-semibold",children:"League Pages"})]}),r.jsx("div",{className:"flex flex-col space-y-2",children:y.conferences.map(P=>r.jsx("a",{href:`https://sleeper.com/leagues/${P.leagueId}/league`,target:"_blank",rel:"noopener noreferrer",children:r.jsx(J,{variant:"outline",className:"w-full justify-start",children:P.name})},P.leagueId))})]})]})]})]})]}),r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsx(de,{children:"League Information"}),r.jsx(Se,{children:"Current season details and conference structure"})]}),r.jsx(G,{children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:y==null?void 0:y.conferences.map(P=>r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsx("h4",{className:"font-semibold mb-2",children:P.name}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"12 teams  14-week season"}),r.jsx(ne,{variant:"outline",className:"text-xs",children:P.status})]},P.id))})})]})]})},Ss=h.forwardRef(({className:e,...t},s)=>r.jsx("div",{className:"relative w-full overflow-auto",children:r.jsx("table",{ref:s,className:we("w-full caption-bottom text-sm",e),...t})}));Ss.displayName="Table";const Ns=h.forwardRef(({className:e,...t},s)=>r.jsx("thead",{ref:s,className:we("[&_tr]:border-b",e),...t}));Ns.displayName="TableHeader";const Cs=h.forwardRef(({className:e,...t},s)=>r.jsx("tbody",{ref:s,className:we("[&_tr:last-child]:border-0",e),...t}));Cs.displayName="TableBody";const s6=h.forwardRef(({className:e,...t},s)=>r.jsx("tfoot",{ref:s,className:we("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));s6.displayName="TableFooter";const Me=h.forwardRef(({className:e,...t},s)=>r.jsx("tr",{ref:s,className:we("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Me.displayName="TableRow";const ue=h.forwardRef(({className:e,...t},s)=>r.jsx("th",{ref:s,className:we("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));ue.displayName="TableHead";const oe=h.forwardRef(({className:e,...t},s)=>r.jsx("td",{ref:s,className:we("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));oe.displayName="TableCell";const n6=h.forwardRef(({className:e,...t},s)=>r.jsx("caption",{ref:s,className:we("mt-4 text-sm text-muted-foreground",e),...t}));n6.displayName="TableCaption";const r6=()=>{var b,T;const{selectedSeason:e,selectedConference:t,currentSeasonConfig:s,loading:n}=Bs(),[a,i]=h.useState(null),[o,l]=h.useState([]),[c,d]=h.useState(!0),[u,f]=h.useState(null),[m,v]=h.useState(!1),{toast:j}=gs(),g=async()=>{try{d(!0),f(null),console.log(`Fetching standings data for season ${e} and conference ${t||"all"}...`);const N=s;if(!N)throw new Error(`No season configuration found for year ${e}`);const E=N.seasonId,R=typeof E=="string"?parseInt(E):E;console.log(`Using season ID ${R} for year ${e}`);let $;if(t){const W=N.conferences.find(I=>I.id===t);if(W){const I=await Y.getConferences({filters:[{column:"season_id",operator:"eq",value:R},{column:"conference_name",operator:"eq",value:W.name}]});if(I.error)throw new Error(`Conferences fetch error: ${I.error}`);const L=I.data||[];L.length>0&&($=typeof L[0].id=="string"?parseInt(L[0].id):L[0].id)}}const F=await lf.getStandingsData(R,$);console.log("Standings data from service:",F),l(F)}catch(N){console.error("Error fetching standings:",N),f(N instanceof Error?N.message:"Failed to fetch standings data"),j({title:"Error",description:"Failed to fetch standings data. Please try again.",variant:"destructive"})}finally{d(!1)}},y=async()=>{try{v(!0);const N=s;if(!N)throw new Error(`No season configuration found for year ${e}`);const E=N.seasonId,R=typeof E=="string"?parseInt(E):E;let $;if(t){const F=N.conferences.find(W=>W.id===t);if(F){const W=await Y.getConferences({filters:[{column:"season_id",operator:"eq",value:R},{column:"conference_name",operator:"eq",value:F.name}]});if(W.error)throw new Error(`Conferences fetch error: ${W.error}`);const I=W.data||[];I.length>0&&($=typeof I[0].id=="string"?parseInt(I[0].id):I[0].id)}}console.log("Team records refresh triggered for season:",R,"conference:",$),await g(),j({title:"Success",description:"Standings refreshed successfully"})}catch(N){console.error("Error refreshing standings:",N),j({title:"Error",description:"Failed to refresh standings data",variant:"destructive"})}finally{v(!1)}};h.useEffect(()=>{!n&&s&&g()},[e,t,n,s]);const x=N=>{let E="desc";a&&a.key===N&&a.direction==="desc"&&(E="asc"),i({key:N,direction:E})},p=He.useMemo(()=>{let N=[...o];return a!==null?N.sort((E,R)=>{const $=E[a.key],F=R[a.key];return $<F?a.direction==="asc"?-1:1:$>F?a.direction==="asc"?1:-1:0}):N.sort((E,R)=>E.wins!==R.wins?R.wins-E.wins:R.points_for-E.points_for),N},[o,a]),w=(N,E)=>{const R=N+E;if(R===0)return"outline";const $=N/R;return $>=.7?"default":$>=.5?"secondary":"destructive"},_=(N,E)=>E?r.jsxs(ne,{variant:"default",className:"bg-yellow-500 text-white",children:[r.jsx(xt,{className:"w-3 h-3 mr-1"}),"Champion"]}):N?r.jsx(ne,{variant:"default",className:"bg-green-500",children:"Playoff"}):null;return n||c?r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Bt,{className:"h-6 w-6 animate-spin"}),r.jsxs("span",{children:["Loading ",n?"season data":"standings","..."]})]})}):u?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(xt,{className:"h-6 w-6 text-primary"}),r.jsx("h1",{className:"text-3xl font-bold",children:"League Standings"})]}),r.jsxs("p",{className:"text-muted-foreground",children:[e," Season  ",t?(b=s.conferences.find(N=>N.id===t))==null?void 0:b.name:"All Conferences"]})]}),r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsx(de,{children:"Error Loading Standings"}),r.jsx(Se,{children:"Unable to fetch standings data"})]}),r.jsx(G,{children:r.jsxs("div",{className:"text-center space-y-4",children:[r.jsx("p",{className:"text-muted-foreground",children:u}),r.jsx(J,{onClick:g,children:"Try Again"})]})})]})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(xt,{className:"h-6 w-6 text-primary"}),r.jsx("h1",{className:"text-3xl font-bold",children:"League Standings"})]}),r.jsxs(J,{variant:"outline",onClick:y,disabled:m,className:"flex items-center gap-2",children:[r.jsx(it,{className:`h-4 w-4 ${m?"animate-spin":""}`}),m?"Refreshing...":"Refresh"]})]}),r.jsxs("p",{className:"text-muted-foreground",children:[e," Season  ",t?(T=s.conferences.find(N=>N.id===t))==null?void 0:T.name:"All Conferences"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(q,{children:r.jsxs(ie,{className:"pb-2",children:[r.jsx(Se,{children:"Total Teams"}),r.jsx(de,{className:"text-2xl",children:o.length})]})}),r.jsx(q,{children:r.jsxs(ie,{className:"pb-2",children:[r.jsx(Se,{children:"Highest Scoring Team"}),r.jsx(de,{className:"text-xl",children:o.length>0&&o.reduce((N,E)=>N.points_for>E.points_for?N:E).team_name})]})}),r.jsx(q,{children:r.jsxs(ie,{className:"pb-2",children:[r.jsx(Se,{children:"Playoff Teams"}),r.jsx(de,{className:"text-2xl",children:o.filter(N=>N.playoff_eligible).length})]})})]}),r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsx(de,{children:"Team Standings"}),r.jsxs(Se,{children:["Click column headers to sort. Current standings for the ",e," season."]})]}),r.jsx(G,{children:r.jsx("div",{className:"rounded-md border",children:r.jsxs(Ss,{children:[r.jsx(Ns,{children:r.jsxs(Me,{children:[r.jsx(ue,{className:"w-12 text-center",children:r.jsxs(J,{variant:"ghost",size:"sm",onClick:()=>x("overall_rank"),children:["Rank ",r.jsx(Xa,{className:"ml-1 h-3 w-3"})]})}),r.jsx(ue,{children:r.jsxs(J,{variant:"ghost",size:"sm",onClick:()=>x("team_name"),children:["Team ",r.jsx(Xa,{className:"ml-1 h-3 w-3"})]})}),r.jsx(ue,{className:"hidden lg:table-cell text-center",children:"Conference"}),r.jsx(ue,{className:"text-center",children:r.jsxs(J,{variant:"ghost",size:"sm",onClick:()=>x("wins"),children:["Record ",r.jsx(Xa,{className:"ml-1 h-3 w-3"})]})}),r.jsx(ue,{className:"text-center hidden md:table-cell",children:r.jsxs(J,{variant:"ghost",size:"sm",onClick:()=>x("win_percentage"),children:["Win% ",r.jsx(Xa,{className:"ml-1 h-3 w-3"})]})}),r.jsx(ue,{className:"text-center",children:r.jsxs(J,{variant:"ghost",size:"sm",onClick:()=>x("points_for"),children:["PF ",r.jsx(Xa,{className:"ml-1 h-3 w-3"})]})}),r.jsx(ue,{className:"text-center hidden sm:table-cell",children:r.jsxs(J,{variant:"ghost",size:"sm",onClick:()=>x("points_against"),children:["PA ",r.jsx(Xa,{className:"ml-1 h-3 w-3"})]})}),r.jsx(ue,{className:"text-center hidden sm:table-cell",children:r.jsxs(J,{variant:"ghost",size:"sm",onClick:()=>x("point_diff"),children:["Diff ",r.jsx(Xa,{className:"ml-1 h-3 w-3"})]})}),r.jsx(ue,{className:"hidden lg:table-cell",children:"Status"})]})}),r.jsx(Cs,{children:p.map((N,E)=>r.jsxs(Me,{className:"hover:bg-muted/50",children:[r.jsx(oe,{className:"font-medium text-center",children:r.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[N.overall_rank===1&&r.jsx(xt,{className:"h-4 w-4 text-yellow-500"}),r.jsx("span",{children:N.overall_rank})]})}),r.jsx(oe,{children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("img",{src:N.team_logourl?`https://sleepercdn.com/avatars/thumbs/${N.team_logourl}`:"/placeholder-team-logo.png",alt:`${N.team_name} logo`,className:"w-10 h-10 rounded-full object-cover",onError:R=>{const $=R.target;$.src="/placeholder-team-logo.png"}})}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("div",{className:"font-medium text-sm",children:N.team_name}),r.jsx("div",{className:"text-xs text-muted-foreground",children:N.owner_name})]})]})}),r.jsx(oe,{className:"hidden lg:table-cell text-center",children:r.jsx(bi,{conferenceName:N.conference_name,variant:"outline",size:"sm"})}),r.jsx(oe,{className:"text-center",children:r.jsxs(ne,{variant:w(N.wins,N.losses),children:[N.wins,"-",N.losses,N.ties>0&&`-${N.ties}`]})}),r.jsxs(oe,{className:"text-center font-mono hidden md:table-cell",children:[(N.win_percentage*100).toFixed(1),"%"]}),r.jsx(oe,{className:"text-center font-mono",children:N.points_for.toFixed(1)}),r.jsx(oe,{className:"text-center font-mono hidden sm:table-cell",children:N.points_against.toFixed(1)}),r.jsx(oe,{className:"text-center font-mono hidden sm:table-cell",children:r.jsxs("span",{className:N.point_diff>=0?"text-green-600":"text-red-600",children:[N.point_diff>=0?"+":"",N.point_diff.toFixed(1)]})}),r.jsx(oe,{className:"hidden lg:table-cell",children:r.jsx("div",{className:"flex items-center space-x-1",children:_(N.playoff_eligible,N.is_conference_champion)})})]},N.team_id))})]})})})]})]})};var xh="Collapsible",[a6,kH]=_n(xh),[i6,Av]=a6(xh),kE=h.forwardRef((e,t)=>{const{__scopeCollapsible:s,open:n,defaultOpen:a,disabled:i,onOpenChange:o,...l}=e,[c,d]=qr({prop:n,defaultProp:a??!1,onChange:o,caller:xh});return r.jsx(i6,{scope:s,disabled:i,contentId:Ur(),open:c,onOpenToggle:h.useCallback(()=>d(u=>!u),[d]),children:r.jsx(be.div,{"data-state":Dv(c),"data-disabled":i?"":void 0,...l,ref:t})})});kE.displayName=xh;var PE="CollapsibleTrigger",RE=h.forwardRef((e,t)=>{const{__scopeCollapsible:s,...n}=e,a=Av(PE,s);return r.jsx(be.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":Dv(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:t,onClick:_e(e.onClick,a.onOpenToggle)})});RE.displayName=PE;var $v="CollapsibleContent",AE=h.forwardRef((e,t)=>{const{forceMount:s,...n}=e,a=Av($v,e.__scopeCollapsible);return r.jsx(Er,{present:s||a.open,children:({present:i})=>r.jsx(o6,{...n,ref:t,present:i})})});AE.displayName=$v;var o6=h.forwardRef((e,t)=>{const{__scopeCollapsible:s,present:n,children:a,...i}=e,o=Av($v,s),[l,c]=h.useState(n),d=h.useRef(null),u=ot(t,d),f=h.useRef(0),m=f.current,v=h.useRef(0),j=v.current,g=o.open||l,y=h.useRef(g),x=h.useRef(void 0);return h.useEffect(()=>{const p=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(p)},[]),es(()=>{const p=d.current;if(p){x.current=x.current||{transitionDuration:p.style.transitionDuration,animationName:p.style.animationName},p.style.transitionDuration="0s",p.style.animationName="none";const w=p.getBoundingClientRect();f.current=w.height,v.current=w.width,y.current||(p.style.transitionDuration=x.current.transitionDuration,p.style.animationName=x.current.animationName),c(n)}},[o.open,n]),r.jsx(be.div,{"data-state":Dv(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!g,...i,ref:u,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":j?`${j}px`:void 0,...e.style},children:g&&a})});function Dv(e){return e?"open":"closed"}var l6=kE;const cf=l6,df=RE,uf=AE;class rn{static async getPlayers(){const t=Date.now();if(this.playerCache&&t-this.playerCache.timestamp<this.playerCache.ttl){if(console.log(` Using cached player data (${Object.keys(this.playerCache.data).length} players)`),typeof window<"u"){const n=window.__cacheStats||{hits:0,total:0};n.total+=1,n.hits+=1,window.__cacheStats=n,window.__cacheHitRate=n.hits/n.total}return this.playerCache.data}console.log(" Refreshing player cache...");const s=performance.now();if(typeof window<"u"){const n=window.__cacheStats||{hits:0,total:0};n.total+=1,window.__cacheStats=n,window.__cacheHitRate=n.total>0?n.hits/n.total:0}try{const n=await Y.getAllPlayersForMapping([{column:"playing_status",operator:"eq",value:"Active"},{column:"position",operator:"in",value:["QB","RB","WR","TE","K","DEF"]}]),a={};return n.forEach(i=>{var o;if(i.sleeper_id){const l=i.player_name.split(" "),c=l[0]||"",d=l.slice(1).join(" ")||"";a[i.sleeper_id]={player_id:i.sleeper_id,first_name:c,last_name:d,position:i.position||"",team:i.nfl_team||"",jersey_number:i.number||0,status:i.playing_status||"",injury_status:i.injury_status||"",age:i.age||0,height:((o=i.height)==null?void 0:o.toString())||"",weight:i.weight||0,years_exp:0,college:i.college||""}}}),this.playerCache={data:a,timestamp:t,ttl:this.PLAYER_CACHE_TTL},console.log(` Player cache refreshed with ${Object.keys(a).length} players in ${(performance.now()-s).toFixed(2)}ms`),a}catch(n){return console.error("Error fetching players:",n),{}}}static getCachedConferenceData(t,s){const n=`${t}_${s}`,a=this.conferenceCache.get(n);if(a&&Date.now()-a.timestamp<a.ttl){if(console.log(` Using cached Sleeper data for league ${t}, week ${s}`),typeof window<"u"){const i=window.__cacheStats||{hits:0,total:0};i.total+=1,i.hits+=1,window.__cacheStats=i,window.__cacheHitRate=i.hits/i.total}return a.data}return null}static setCachedConferenceData(t,s,n){const a=`${t}_${s}`;this.conferenceCache.set(a,{data:n,timestamp:Date.now(),ttl:this.CONFERENCE_CACHE_TTL})}static getCachedMatchupDetails(t,s){const n=`details_${t}_${s}`,a=this.matchupDetailsCache.get(n);return a&&Date.now()-a.timestamp<a.ttl?(console.log(` Using cached details for matchup ${t}`),a.data):null}static setCachedMatchupDetails(t,s,n){const a=`details_${t}_${s}`;this.matchupDetailsCache.set(a,{data:n,timestamp:Date.now(),ttl:this.DETAILS_CACHE_TTL})}static clearAll(){console.log(" Clearing all caches"),this.playerCache=null,this.conferenceCache.clear(),this.matchupDetailsCache.clear()}static cleanupExpired(){const t=Date.now();this.playerCache&&t-this.playerCache.timestamp>=this.playerCache.ttl&&(this.playerCache=null);for(const[s,n]of this.conferenceCache.entries())t-n.timestamp>=n.ttl&&this.conferenceCache.delete(s);for(const[s,n]of this.matchupDetailsCache.entries())t-n.timestamp>=n.ttl&&this.matchupDetailsCache.delete(s)}static getStats(){const t=Date.now();return{players:{cached:!!this.playerCache,count:this.playerCache?Object.keys(this.playerCache.data).length:0,age:this.playerCache?t-this.playerCache.timestamp:0,ttl:this.PLAYER_CACHE_TTL},conferences:{count:this.conferenceCache.size,entries:Array.from(this.conferenceCache.keys())},details:{count:this.matchupDetailsCache.size,entries:Array.from(this.matchupDetailsCache.keys())}}}}us(rn,"playerCache",null),us(rn,"conferenceCache",new Map),us(rn,"matchupDetailsCache",new Map),us(rn,"PLAYER_CACHE_TTL",10*60*1e3),us(rn,"CONFERENCE_CACHE_TTL",5*60*1e3),us(rn,"DETAILS_CACHE_TTL",2*60*1e3);setInterval(()=>{rn.cleanupExpired()},5*60*1e3);class ff{static async getHybridMatchups(t,s,n){try{console.log(" Getting optimized hybrid matchups:",{seasonId:t,week:s,conferenceId:n});const a=performance.now(),[i,o,l,c]=await Promise.all([s>=13?this.getPlayoffBrackets(t,s,n):this.getDatabaseMatchups(t,s,n),this.getConferences(t),this.getTeams(),this.getTeamConferenceJunctions()]);let d=[];if(s>=13?(console.log(` Week ${s} is playoffs - using playoff_brackets table`),d=this.convertPlayoffBracketsToMatchups(i,o)):(console.log(` Week ${s} is regular season - using matchups table`),d=i),console.log(` Found ${d.length} database matchups in ${(performance.now()-a).toFixed(2)}ms`),d.length===0)return console.warn("No database matchups found for the specified criteria"),[];const u=o,f=l,m=c;console.log(` Loaded ${u.length} conferences, ${f.length} teams`);const v=[];for(const j of d)try{console.log(` Processing matchup: Team ${j.team1_id} vs Team ${j.team2_id}`);const g=u.find(H=>H.id===j.conference_id);if(!g){console.warn(`Conference ${j.conference_id} not found for matchup ${j.id}`);continue}const y=f.find(H=>H.id===j.team1_id),x=j.team2_id?f.find(H=>H.id===j.team2_id):null;if(!y){console.warn(`Team1 not found: team1_id=${j.team1_id}`);continue}if(!j.is_bye&&!x){console.warn(`Team2 not found for non-bye matchup: team2_id=${j.team2_id}`);continue}if(j.is_bye||!x){console.log(` Processing bye week for team ${y.id}`);let H=m.find(M=>M.team_id===y.id&&M.conference_id===g.id);if(H||(H=m.find(M=>M.team_id===y.id)),!H){console.warn(`Roster mapping not found for bye team ${y.id}`);continue}const B=u.find(M=>M.id===H.conference_id);if(!B){console.warn(`Conference not found for bye team ${y.id}`);continue}const V=await Oe.fetchMatchups(B.league_id,parseInt(j.week)),S=await Oe.fetchLeagueRosters(B.league_id),P=await Oe.fetchLeagueUsers(B.league_id),k=V.find(M=>M.roster_id===H.roster_id);if(!k){console.warn(`Sleeper matchup not found for bye team roster ID ${H.roster_id}`);continue}const C=await this.buildByeMatchupTeam(y,k,S,P,H.roster_id),A={matchup_id:k.matchup_id||0,conference:g,teams:C,status:"completed",rawData:{dbMatchup:j,team1SleeperMatchup:k,team2SleeperMatchup:null,isOverride:j.manual_override||!1,isBye:!0,playoffBracket:s>=13?playoffBrackets.find(M=>M.id===j.id):void 0}};v.push(A),console.log(` Successfully processed bye matchup ${j.id}`);continue}let p=m.find(H=>H.team_id===y.id&&H.conference_id===g.id),w=m.find(H=>H.team_id===x.id&&H.conference_id===g.id);if(p||(console.log(` Team ${y.id} not in conference ${g.id}, searching home conference`),p=m.find(H=>H.team_id===y.id),p&&console.log(` Found team ${y.id} in conference ${p.conference_id}`)),w||(console.log(` Team ${x.id} not in conference ${g.id}, searching home conference`),w=m.find(H=>H.team_id===x.id),w&&console.log(` Found team ${x.id} in conference ${w.conference_id}`)),!p||!w){console.warn(`Roster mappings not found for teams ${y.id}, ${x.id} (searched all conferences)`);continue}const _=j.is_playoff||parseInt(j.week)>=13,b=_||p.conference_id!==w.conference_id;let T,N,E,R,$,F;if(b){console.log(_?` Processing playoff matchup (treated as interconference): Team ${y.id} (conf ${p.conference_id}) vs Team ${x.id} (conf ${w.conference_id})`:` Processing interconference matchup: Team ${y.id} (conf ${p.conference_id}) vs Team ${x.id} (conf ${w.conference_id})`);const H=u.find(M=>M.id===p.conference_id),B=u.find(M=>M.id===w.conference_id);if(!H||!B){console.warn("Conference details not found for interconference matchup");continue}const[V,S]=await Promise.all([Oe.fetchMatchups(H.league_id,parseInt(j.week)),Oe.fetchMatchups(B.league_id,parseInt(j.week))]),[P,k]=await Promise.all([Oe.fetchLeagueRosters(H.league_id),Oe.fetchLeagueRosters(B.league_id)]),[C,A]=await Promise.all([Oe.fetchLeagueUsers(H.league_id),Oe.fetchLeagueUsers(B.league_id)]);T=V.find(M=>M.roster_id===p.roster_id),N=S.find(M=>M.roster_id===w.roster_id),E=P,R=k,$=C,F=A}else{console.log(` Processing same-conference regular season matchup: Team ${y.id} vs Team ${x.id} (conf ${p.conference_id})`);const H=await Oe.fetchMatchups(g.league_id,parseInt(j.week)),B=await Oe.fetchLeagueRosters(g.league_id),V=await Oe.fetchLeagueUsers(g.league_id);T=H.find(S=>S.roster_id===p.roster_id),N=H.find(S=>S.roster_id===w.roster_id),E=B,R=B,$=V,F=V}if(!T||!N){console.warn(`Sleeper matchups not found for roster IDs ${p.roster_id}, ${w.roster_id}`);continue}if(!b&&!_&&T.matchup_id!==N.matchup_id){console.warn(`Teams are not matched against each other in Sleeper: ${T.matchup_id} vs ${N.matchup_id}`);continue}const W=await this.buildMatchupTeamsFromDatabaseInterconference(y,x,T,N,E,R,$,F,p.roster_id,w.roster_id),I=this.determineMatchupStatusFromSleeper(T,N),L={matchup_id:T.matchup_id||0,conference:g,teams:W,status:I,rawData:{dbMatchup:j,team1SleeperMatchup:T,team2SleeperMatchup:N,isOverride:j.manual_override||!1,playoffBracket:s>=13?playoffBrackets.find(H=>H.id===j.id):void 0}};v.push(L),console.log(` Successfully processed matchup ${j.id}`)}catch(g){console.error(`Error processing matchup ${j.id}:`,g)}return console.log(` Processed ${v.length} hybrid matchups from ${d.length} database records`),v}catch(a){return console.error("Error in getHybridMatchups:",a),[]}}static async getMinimalMatchups(t,s,n){try{console.log(" Loading minimal matchups (optimized)...");const a=performance.now(),[i,o,l,c]=await Promise.all([s>=13?this.getPlayoffBrackets(t,s,n):this.getDatabaseMatchups(t,s,n),this.getConferences(t),this.getTeams(),this.getTeamConferenceJunctions()]);let d=[];s>=13?d=this.convertPlayoffBracketsToMatchups(i,o):d=i,console.log(` Batch data loaded in ${(performance.now()-a).toFixed(2)}ms`);const u=[];for(const f of d){const m=o.find(_=>_.id===f.conference_id);if(!m)continue;const v=l.find(_=>_.id===f.team1_id),j=f.team2_id?l.find(_=>_.id===f.team2_id):null;if(!v)continue;const g=c.find(_=>_.team_id===v.id),y=j?c.find(_=>_.team_id===j.id):null,x=g?o.find(_=>_.id===g.conference_id):null,p=y?o.find(_=>_.id===y.conference_id):null,w={id:f.id,matchup_id:0,conference:{id:m.id,name:m.conference_name},teams:[{id:v.id,name:v.team_name,owner:v.owner_name,points:f.team1_score||0,roster_id:(g==null?void 0:g.roster_id)||0,conference:x?{id:x.id,name:x.conference_name}:void 0}],status:this.determineMatchupStatusFromDb(f),week:parseInt(f.week),is_playoff:f.is_playoff||!1,is_bye:f.is_bye||!1,manual_override:f.manual_override||!1};j&&y&&!f.is_bye&&w.teams.push({id:j.id,name:j.team_name,owner:j.owner_name,points:f.team2_score||0,roster_id:y.roster_id,conference:p?{id:p.id,name:p.conference_name}:void 0}),s>=13&&"playoff_round_name"in f&&(w.playoff_round_name=f.playoff_round_name),u.push(w)}return console.log(` Minimal matchups loaded in ${(performance.now()-a).toFixed(2)}ms`),u}catch(a){return console.error("Error loading minimal matchups:",a),[]}}static async getMatchupDetails(t,s,n){var a,i,o,l,c,d;try{console.log(` Loading details for matchup ${t}...`);const u=performance.now(),f=rn.getCachedMatchupDetails(t,n);if(f)return f;const v=(a=(n>=13?await Y.getPlayoffBrackets({filters:[{column:"id",operator:"eq",value:t}]}):await Y.getMatchups({filters:[{column:"id",operator:"eq",value:t}]})).data)==null?void 0:a[0];if(!v)return null;const[j,g,y]=await Promise.all([Y.getConferences({filters:[{column:"season_id",operator:"eq",value:s}]}),Y.getTeams({limit:500}),Y.getTeamConferenceJunctions({limit:1e3})]),x=(i=j.data)==null?void 0:i.find(R=>R.id===v.conference_id);if(!x)return null;let p,w,_;const b=rn.getCachedConferenceData(x.league_id,n);b?{matchups:p,rosters:w,users:_}=b:([p,w,_]=await Promise.all([Oe.fetchMatchups(x.league_id,n),Oe.fetchLeagueRosters(x.league_id),Oe.fetchLeagueUsers(x.league_id)]),rn.setCachedConferenceData(x.league_id,n,{matchups:p,rosters:w,users:_}));const T={players_points:{},starters:{},bench_players:{},rosters:{},users:{}},N=(o=g.data)==null?void 0:o.find(R=>R.id===v.team1_id),E=v.team2_id?(l=g.data)==null?void 0:l.find(R=>R.id===v.team2_id):null;if(N){const R=(c=y.data)==null?void 0:c.find($=>$.team_id===N.id);if(R){const $=p.find(I=>I.roster_id===R.roster_id),F=w.find(I=>I.roster_id===R.roster_id),W=_.find(I=>I.user_id===(F==null?void 0:F.owner_id));$&&F&&(T.players_points[N.id.toString()]=$.players_points||{},T.starters[N.id.toString()]=$.starters||[],T.bench_players[N.id.toString()]=(F.players||[]).filter(I=>{var L;return!((L=$.starters)!=null&&L.includes(I))}),T.rosters[N.id.toString()]=F,W&&(T.users[N.id.toString()]=W))}}if(E){const R=(d=y.data)==null?void 0:d.find($=>$.team_id===E.id);if(R){const $=p.find(I=>I.roster_id===R.roster_id),F=w.find(I=>I.roster_id===R.roster_id),W=_.find(I=>I.user_id===(F==null?void 0:F.owner_id));$&&F&&(T.players_points[E.id.toString()]=$.players_points||{},T.starters[E.id.toString()]=$.starters||[],T.bench_players[E.id.toString()]=(F.players||[]).filter(I=>{var L;return!((L=$.starters)!=null&&L.includes(I))}),T.rosters[E.id.toString()]=F,W&&(T.users[E.id.toString()]=W))}}return rn.setCachedMatchupDetails(t,n,T),console.log(` Matchup details loaded in ${(performance.now()-u).toFixed(2)}ms`),T}catch(u){return console.error(`Error loading matchup details for ${t}:`,u),null}}static determineMatchupStatusFromDb(t){return t.matchup_status==="completed"||t.winning_team_id?"completed":t.team1_score>0||t.team2_score>0?"live":"upcoming"}static async getConferences(t){try{return(await Y.getConferences({filters:[{column:"season_id",operator:"eq",value:t}],limit:50})).data||[]}catch(s){return console.error("Error in getConferences:",s),[]}}static async getTeams(){try{return(await Y.getTeams({limit:500})).data||[]}catch(t){return console.error("Error in getTeams:",t),[]}}static async getTeamConferenceJunctions(){try{return(await Y.getTeamConferenceJunctions({limit:1e3})).data||[]}catch(t){return console.error("Error in getTeamConferenceJunctions:",t),[]}}static async getPlayoffBrackets(t,s,n){try{console.log(` Getting playoff brackets for season ${t}, week ${s}, conference: ${n||"all"}`);const a=[{column:"season_id",operator:"eq",value:t},{column:"week",operator:"eq",value:s}];let o=(await Y.getPlayoffBrackets({filters:a,limit:100})).data||[];if(n&&o.length>0){const c=(await this.getTeamConferenceJunctions()).filter(d=>d.conference_id===n).map(d=>d.team_id);o=o.filter(d=>c.includes(d.team1_id)||c.includes(d.team2_id))}return console.log(` Found ${o.length} playoff brackets`),o}catch(a){return console.error("Error in getPlayoffBrackets:",a),[]}}static convertPlayoffBracketsToMatchups(t,s){return t.map(n=>{const a=s[0];return{id:n.id,conference_id:(a==null?void 0:a.id)||1,week:n.week.toString(),team1_id:n.team1_id,team2_id:n.team2_id,is_playoff:!0,manual_override:!1,matchup_status:n.winning_team_id?"completed":"upcoming",notes:n.playoff_round_name||null,matchup_type:"playoff",team1_score:n.team1_score||null,team2_score:n.team2_score||null,winning_team_id:n.winning_team_id||null,is_bye:n.is_bye||!1}})}static async getDatabaseMatchups(t,s,n){var a,i;try{if(n){console.log(` Filtering matchups for specific conference: ${n}`);const u=[{column:"week",operator:"eq",value:s.toString()},{column:"conference_id",operator:"eq",value:n}],f=await Y.getMatchups({filters:u,limit:100});return console.log(` Found ${((a=f.data)==null?void 0:a.length)||0} matchups for conference ${n}`),f.data||[]}const l=(await this.getConferences(t)).map(u=>u.id);if(l.length===0)return console.warn("No conferences found for season:",t),[];const c=[{column:"week",operator:"eq",value:s.toString()},{column:"conference_id",operator:"in",value:l}],d=await Y.getMatchups({filters:c,limit:100});return console.log(` Found ${((i=d.data)==null?void 0:i.length)||0} matchups for season ${t}, week ${s}`),d.data||[]}catch(o){return console.error("Error in getDatabaseMatchups:",o),[]}}static async getMatchupOverrides(t,s,n){var a;try{console.log("Fetching matchup overrides:",{seasonId:t,week:s,conferenceId:n});const i=[{column:"season_id",operator:"eq",value:t},{column:"week",operator:"eq",value:s},{column:"is_active",operator:"eq",value:!0}];n&&i.push({column:"conference_id",operator:"eq",value:n});const o=await Y.getMatchupAdminOverrides({filters:i,limit:100});return console.log("Matchup overrides found:",((a=o.data)==null?void 0:a.length)||0),o.data||[]}catch(i){return console.error("Error in getMatchupOverrides:",i),[]}}static async getOrganizedMatchups(t,s,n){try{console.log("Getting organized matchups:",{seasonId:t,week:s,conferenceId:n});let a=[];if(s>=13){console.log(` Week ${s} is playoffs - using playoff_brackets table`);const c=await this.getPlayoffBrackets(t,s,n),d=await this.getConferences(t);a=this.convertPlayoffBracketsToMatchups(c,d)}else console.log(` Week ${s} is regular season - using matchups table`),a=await this.getDatabaseMatchups(t,s,n);const i=await this.getConferences(t),o=await this.getTeams(),l=await this.getMatchupOverrides(t,s,n);return console.log("Found data:",{matchups:a.length,conferences:i.length,teams:o.length,overrides:l.length}),this.getHybridMatchups(t,s,n)}catch(a){return console.error("Error in getOrganizedMatchups:",a),[]}}static async buildMatchupTeamsSimple(t,s,n,a,i){try{const o=[],l=s.find(f=>f.roster_id===t.roster_id);if(!l)return console.warn(`No roster found for roster_id: ${t.roster_id}`),[];const c=n.find(f=>f.user_id===l.owner_id),d=a.find(f=>f.owner_id===l.owner_id),u={roster_id:t.roster_id,points:t.points||0,projected_points:t.projected_points||0,owner:c||null,roster:l||null,team:d||null,players_points:t.players_points||{},starters_points:t.starters_points||[],matchup_starters:t.starters||[]};return o.push(u),o}catch(o){return console.error("Error building simple matchup teams:",o),[]}}static determineMatchupStatusSimple(t){return t.points&&t.points>0?"completed":"upcoming"}static async buildMatchupTeamsFromDatabase(t,s,n,a,i,o,l,c){try{const d=[],u=i.find(y=>y.roster_id===l),f=o.find(y=>y.user_id===(u==null?void 0:u.owner_id)),m={roster_id:l,points:n.points||0,projected_points:n.projected_points||0,owner:f||null,roster:u||null,team:t,players_points:n.players_points||{},starters_points:n.starters_points||[],matchup_starters:n.starters||[]},v=i.find(y=>y.roster_id===c),j=o.find(y=>y.user_id===(v==null?void 0:v.owner_id)),g={roster_id:c,points:a.points||0,projected_points:a.projected_points||0,owner:j||null,roster:v||null,team:s,players_points:a.players_points||{},starters_points:a.starters_points||[],matchup_starters:a.starters||[]};return d.push(m,g),d}catch(d){return console.error("Error building matchup teams from database:",d),[]}}static async buildMatchupTeamsFromDatabaseInterconference(t,s,n,a,i,o,l,c,d,u){try{const f=[],m=i.find(p=>p.roster_id===d),v=l.find(p=>p.user_id===(m==null?void 0:m.owner_id)),j={roster_id:d,points:n.points||0,projected_points:n.projected_points||0,owner:v||null,roster:m||null,team:t,players_points:n.players_points||{},starters_points:n.starters_points||[],matchup_starters:n.starters||[]},g=o.find(p=>p.roster_id===u),y=c.find(p=>p.user_id===(g==null?void 0:g.owner_id)),x={roster_id:u,points:a.points||0,projected_points:a.projected_points||0,owner:y||null,roster:g||null,team:s,players_points:a.players_points||{},starters_points:a.starters_points||[],matchup_starters:a.starters||[]};return f.push(j,x),f}catch(f){return console.error("Error building interconference matchup teams from database:",f),[]}}static async buildByeMatchupTeam(t,s,n,a,i){try{const o=n.find(d=>d.roster_id===i),l=a.find(d=>d.user_id===(o==null?void 0:o.owner_id));return[{roster_id:i,points:s.points||0,projected_points:s.projected_points||0,owner:l||null,roster:o||null,team:t,players_points:s.players_points||{},starters_points:s.starters_points||[],matchup_starters:s.starters||[]}]}catch(o){return console.error("Error building bye matchup team:",o),[]}}static determineMatchupStatusFromSleeper(t,s){const n=t.points&&t.points>0,a=s&&s.points&&s.points>0;return n&&a?"completed":n||a?"live":"upcoming"}static async getDetailedMatchup(t,s){var n;try{console.log(` Loading detailed matchup ${t} for season ${s}...`);const i=(n=(await Y.getMatchups({filters:[{column:"id",operator:"eq",value:t}]})).data)==null?void 0:n[0];if(!i)return null;const[o,l,c]=await Promise.all([this.getConferences(s),this.getTeams(),this.getTeamConferenceJunctions()]),d=o.find(b=>b.id===i.conference_id);if(!d)return null;const u=l.find(b=>b.id===i.team1_id),f=i.team2_id?l.find(b=>b.id===i.team2_id):null;if(!u)return null;const m=c.find(b=>b.team_id===u.id),v=f?c.find(b=>b.team_id===f.id):null;if(!m||f&&!v)return null;const[j,g,y]=await Promise.all([Oe.fetchMatchups(d.league_id,parseInt(i.week)),Oe.fetchLeagueRosters(d.league_id),Oe.fetchLeagueUsers(d.league_id)]),x={id:i.id,week:parseInt(i.week),status:this.determineMatchupStatusFromDb(i),isPlayoff:i.is_playoff||!1,playoffRound:i.notes,conference:{id:d.id,name:d.conference_name},teams:[],isBye:i.is_bye||!1,scoreDifferential:Math.abs((i.team1_score||0)-(i.team2_score||0)),gameTimeRemaining:void 0},p=j.find(b=>b.roster_id===m.roster_id),w=g.find(b=>b.roster_id===m.roster_id),_=y.find(b=>b.user_id===(w==null?void 0:w.owner_id));if(p&&w&&x.teams.push({id:u.id,name:u.team_name,owner:u.owner_name,avatar:u.team_logourl,record:{wins:0,losses:0},points:i.team1_score||0,projectedPoints:p.projected_points||0,rosterId:m.roster_id,starters:p.starters||[],bench:(w.players||[]).filter(b=>{var T;return!((T=p.starters)!=null&&T.includes(b))}),playersPoints:p.players_points||{},playersProjected:{}}),f&&v&&!i.is_bye){const b=j.find(E=>E.roster_id===v.roster_id),T=g.find(E=>E.roster_id===v.roster_id),N=y.find(E=>E.user_id===(T==null?void 0:T.owner_id));b&&T&&x.teams.push({id:f.id,name:f.team_name,owner:f.owner_name,avatar:f.team_logourl,record:{wins:0,losses:0},points:i.team2_score||0,projectedPoints:b.projected_points||0,rosterId:v.roster_id,starters:b.starters||[],bench:(T.players||[]).filter(E=>{var R;return!((R=b.starters)!=null&&R.includes(E))}),playersPoints:b.players_points||{},playersProjected:{}})}return x}catch(a){return console.error(`Error loading detailed matchup ${t}:`,a),null}}static async getHeadToHeadHistory(t,s,n){try{console.log(` Loading head-to-head history for teams ${t} vs ${s}...`);const o=((await Y.getMatchups({filters:[{column:"season_id",operator:"eq",value:n}],limit:100})).data||[]).filter(f=>f.team1_id===t&&f.team2_id===s||f.team1_id===s&&f.team2_id===t),l=await this.getTeams(),c=l.find(f=>f.id===t),d=l.find(f=>f.id===s);return o.map(f=>{const m=f.team1_id===t,v=m?f.team1_score||0:f.team2_score||0,j=m?f.team2_score||0:f.team1_score||0;let g="Tie";return v>j?g=(c==null?void 0:c.team_name)||"Team 1":j>v&&(g=(d==null?void 0:d.team_name)||"Team 2"),{week:parseInt(f.week),season:"2024",team1Score:v,team2Score:j,winner:g,date:new Date(f.created_at||Date.now())}}).sort((f,m)=>m.week-f.week)}catch(a){return console.error("Error loading head-to-head history:",a),[]}}}const c6=()=>{window.__apiCallCount=0,window.__cacheStats={hits:0,total:0},window.__cacheHitRate=0},$E=He.memo(({matchup:e,isExpanded:t,onToggleExpand:s,detailedData:n,allPlayers:a,loading:i,onViewDetails:o})=>{const[l,c]=e.teams,d=e.status==="completed"?l.points>((c==null?void 0:c.points)||0)?l:c:null,u=g=>{switch(g){case"live":return r.jsx(ne,{className:"bg-green-500 hover:bg-green-600",children:"Live"});case"completed":return r.jsx(ne,{variant:"secondary",children:"Final"});case"upcoming":return r.jsx(ne,{variant:"outline",children:"Upcoming"});default:return r.jsx(ne,{variant:"secondary",children:g})}},f=g=>({QB:"QB",RB:"RB",WR:"WR",TE:"TE",FLEX:"W/R/T",SUPER_FLEX:"Q/W/R/T",K:"K",DEF:"DEF"})[g]||g,m=g=>{const y=a[g];return y?{name:`${y.first_name||""} ${y.last_name||""}`.trim()||"Unknown",position:y.position||"N/A",team:y.team||"N/A"}:{name:"Unknown Player",position:"N/A",team:"N/A"}},v=(g,y)=>{if(!n)return r.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading roster..."});const x=n.starters[g]||[],p=n.players_points[g]||{},w=n.bench_players[g]||[];return r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("h5",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide mb-2",children:"Starters"}),r.jsx("div",{className:"space-y-1",children:x.map((_,b)=>{const T=m(_),N=p[_]||0,E=["QB","RB","RB","WR","WR","WR","TE","FLEX","SUPER_FLEX"][b]||"FLEX";return r.jsxs("div",{className:"flex justify-between items-center py-1 px-2 bg-gray-50 rounded text-xs",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ne,{variant:"outline",className:"text-xs px-1 py-0",children:f(E)}),r.jsx("span",{className:"font-medium",children:T.name}),r.jsxs("span",{className:"text-muted-foreground",children:["(",T.position," - ",T.team,")"]})]}),r.jsx("span",{className:"font-bold",children:N.toFixed(1)})]},`${_}-${b}`)})})]}),w.length>0&&r.jsxs("div",{children:[r.jsx("h5",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide mb-2",children:"Bench"}),r.jsx("div",{className:"space-y-1",children:w.map(_=>{const b=m(_),T=p[_]||0;return r.jsxs("div",{className:"flex justify-between items-center py-1 px-2 bg-gray-25 rounded text-xs",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"font-medium",children:b.name}),r.jsxs("span",{className:"text-muted-foreground",children:["(",b.position," - ",b.team,")"]})]}),r.jsx("span",{className:"text-muted-foreground",children:T.toFixed(1)})]},_)})})]})]})},j=e.manual_override&&e.week>=1&&e.week<=12;return r.jsxs(q,{className:"hover:shadow-md transition-shadow",children:[r.jsx(ie,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[e.playoff_round_name&&r.jsx(de,{className:"text-base",children:e.playoff_round_name}),j?r.jsx(ne,{variant:"outline",className:"text-xs bg-orange-100 text-orange-800 border-orange-300",children:"Interconference"}):r.jsx(bi,{conferenceName:e.conference.name,size:"sm"})]}),u(e.status)]})}),r.jsxs(G,{className:"pt-0 space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-5 gap-2 items-center",children:[r.jsx("div",{className:"text-right",children:r.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[j&&l.conference&&r.jsx(bi,{conferenceName:l.conference.name,size:"sm"}),r.jsx("div",{className:"font-medium text-sm",children:l.name})]})}),r.jsx("div",{className:"text-right",children:r.jsx("div",{className:`text-lg font-bold ${(d==null?void 0:d.id)===l.id?"text-green-600":""}`,children:e.status==="upcoming"?"--":l.points.toFixed(1)})}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"VS"}),e.status==="completed"&&d&&r.jsx(xt,{className:"h-4 w-4 mx-auto mt-1 text-yellow-500"})]}),r.jsx("div",{className:"text-left",children:r.jsx("div",{className:`text-lg font-bold ${(d==null?void 0:d.id)===(c==null?void 0:c.id)?"text-green-600":""}`,children:e.is_bye||!c?"BYE":e.status==="upcoming"?"--":c.points.toFixed(1)})}),r.jsx("div",{className:"text-left",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"font-medium text-sm",children:e.is_bye||!c?"BYE":c.name}),j&&c&&c.conference&&r.jsx(bi,{conferenceName:c.conference.name,size:"sm"})]})})]}),!e.is_bye&&r.jsxs(cf,{open:t,children:[r.jsx(uf,{className:"space-y-4",children:r.jsx("div",{className:"border-t pt-4",children:i?r.jsxs("div",{className:"text-center py-4",children:[r.jsx(it,{className:"h-6 w-6 animate-spin mx-auto mb-2 text-primary"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading roster details..."})]}):r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("h4",{className:"font-semibold text-sm mb-3 flex items-center",children:[r.jsx(Zt,{className:"h-4 w-4 mr-2"}),l.name," Lineup"]}),v(l.id.toString(),l.name)]}),c&&r.jsxs("div",{children:[r.jsxs("h4",{className:"font-semibold text-sm mb-3 flex items-center",children:[r.jsx(Zt,{className:"h-4 w-4 mr-2"}),c.name," Lineup"]}),v(c.id.toString(),c.name)]})]})})}),r.jsxs("div",{className:"flex gap-2 mt-3",children:[r.jsx(df,{asChild:!0,children:r.jsx(J,{variant:"outline",className:"flex-1",onClick:()=>s(e.id),children:t?r.jsxs(r.Fragment,{children:["Hide Details",r.jsx(Xx,{className:"h-4 w-4 ml-2"})]}):r.jsxs(r.Fragment,{children:["Quick View",r.jsx(Wf,{className:"h-4 w-4 ml-2"})]})})}),r.jsx(J,{variant:"default",className:"flex-1",onClick:()=>o(e.id),children:"Full Details"})]})]})]})]})});$E.displayName="MatchupCard";const d6=()=>{var k;const e=xv(),t=h.useRef(0);t.current+=1,t.current%10===0&&console.warn(` MatchupsPage render count: ${t.current}`);const{selectedSeason:s,selectedConference:n,currentSeasonConfig:a,seasonConfigs:i}=Bs(),{toast:o}=gs(),[l,c]=h.useState(1),[d,u]=h.useState(1),[f,m]=h.useState(new Set),[v,j]=h.useState([]),[g,y]=h.useState(new Map),[x,p]=h.useState(new Set),[w,_]=h.useState({}),[b,T]=h.useState(!0),[N,E]=h.useState(!1),[R,$]=h.useState([]),F=h.useRef(!1),W=h.useRef(new Map),I=h.useMemo(()=>i.find(C=>C.year===s),[i,s]),L=h.useCallback(async()=>{try{console.log(" Loading player data...");const C=performance.now(),A=await rn.getPlayers();console.log(` Player data loaded in ${(performance.now()-C).toFixed(2)}ms`),_(A)}catch(C){console.error("Error loading player data:",C),_({})}},[]),H=h.useCallback(async()=>{if(!s||!I||N||F.current){console.log(" Skipping matchup fetch - missing data or already refreshing"),T(!1);return}F.current=!0,E(!0),$([]);try{console.log(` Fetching optimized matchups for season ${s}, week ${l}`);const C=performance.now(),A=typeof I.seasonId=="string"?parseInt(I.seasonId):I.seasonId||s;let M;if(n){const Q=I.conferences.find(K=>K.id===n);M=Q==null?void 0:Q.dbConferenceId,console.log(` Conference filter: ${n} -> DB conferenceId: ${M}`)}const D=await ff.getMinimalMatchups(A,l,M);console.log(` Loaded ${D.length} minimal matchups in ${(performance.now()-C).toFixed(2)}ms`),j(D),y(new Map),W.current=new Map,m(new Set)}catch(C){console.error("Error fetching matchups:",C);const A=C instanceof Error?C.message:"Unknown error";$([A]),o({title:"Error Loading Matchups",description:`Failed to load matchup data: ${A}`,variant:"destructive"}),j([])}finally{F.current=!1,E(!1),T(!1)}},[l,n,s,I,o]),B=h.useCallback(async C=>{if(!(!s||!I)){p(A=>new Set(A).add(C));try{console.log(` Loading details for matchup ${C}...`);const A=performance.now(),M=typeof I.seasonId=="string"?parseInt(I.seasonId):I.seasonId||s,D=await ff.getMatchupDetails(C,M,l);D&&(y(Q=>{const K=new Map(Q).set(C,D);return W.current=K,K}),console.log(` Matchup ${C} details loaded in ${(performance.now()-A).toFixed(2)}ms`))}catch(A){console.error(`Error loading details for matchup ${C}:`,A)}finally{p(A=>{const M=new Set(A);return M.delete(C),M})}}},[s,I,l]),V=h.useCallback(async()=>{try{console.log(" Loading current NFL week...");const C=await Oe.getCurrentNFLWeek();console.log(` Current NFL week: ${C}`),u(C),c(C)}catch(C){console.error("Error getting current week:",C),u(1),c(1)}},[]),S=h.useCallback(C=>{f.has(C)?m(M=>{const D=new Set(M);return D.delete(C),D}):(m(M=>{const D=new Set(M);return D.add(C),D}),W.current.has(C)||B(C))},[f,B]);h.useEffect(()=>{c6(),V(),L()},[]),h.useEffect(()=>{s&&I?(T(!0),H()):T(!1)},[l,n,s,I,H]);const P=h.useMemo(()=>[...v].sort((C,A)=>C.conference.name.localeCompare(A.conference.name)),[v]);return b?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Tc,{className:"h-6 w-6 text-primary"}),r.jsx("h1",{className:"text-3xl font-bold",children:"Matchups"})]}),r.jsx(q,{children:r.jsxs(G,{className:"py-8 text-center",children:[r.jsx(it,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-primary"}),r.jsx("p",{children:"Loading matchup data..."})]})})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Tc,{className:"h-6 w-6 text-primary"}),r.jsx("h1",{className:"text-3xl font-bold",children:"Matchups"})]}),r.jsxs("p",{className:"text-muted-foreground",children:[s," Season  Week ",l,"  ",n?((k=I==null?void 0:I.conferences.find(C=>C.id===n))==null?void 0:k.name)||"Selected Conference":"All Conferences"]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs(At,{value:l.toString(),onValueChange:C=>c(parseInt(C)),children:[r.jsx(St,{className:"w-32",children:r.jsx($t,{})}),r.jsx(Nt,{children:Array.from({length:18},(C,A)=>A+1).map(C=>r.jsx(Le,{value:C.toString(),children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("span",{children:["Week ",C]}),C===d&&r.jsx(ne,{variant:"outline",className:"text-xs",children:"Current"})]})},C))})]}),l===d&&r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[r.jsx($n,{className:"h-4 w-4"}),r.jsx("span",{children:"Current week"})]})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs(J,{variant:"outline",size:"sm",onClick:()=>{rn.clearAll(),H()},disabled:N,children:[r.jsx(it,{className:`h-4 w-4 ${N?"animate-spin":""}`}),"Refresh"]}),r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[r.jsx(Zt,{className:"h-4 w-4"}),r.jsxs("span",{children:[v.length," matchups"]})]})]})]}),R.length>0&&r.jsxs(q,{className:"border-l-4 border-l-red-500",children:[r.jsx(ie,{className:"pb-2",children:r.jsxs(de,{className:"text-sm flex items-center space-x-2",children:[r.jsx(et,{className:"h-4 w-4 text-red-500"}),r.jsxs("span",{children:["API Errors (",R.length,")"]})]})}),r.jsx(G,{children:r.jsx("div",{className:"space-y-1",children:R.map((C,A)=>r.jsx("div",{className:"text-sm text-red-600 bg-red-50 p-2 rounded",children:C},A))})})]}),r.jsxs("div",{className:"grid gap-3",children:[P.map(C=>r.jsx($E,{matchup:C,isExpanded:f.has(C.id),onToggleExpand:S,detailedData:g.get(C.id),allPlayers:w,loading:x.has(C.id),onViewDetails:A=>e(`/matchups/${A}`)},C.id)),v.length===0&&r.jsx(q,{children:r.jsxs(G,{className:"py-8 text-center",children:[r.jsx(et,{className:"h-8 w-8 mx-auto mb-4 text-muted-foreground"}),r.jsx("p",{className:"text-muted-foreground",children:"No matchups found for the selected filters."})]})})]})]})};var Rm="rovingFocusGroup.onEntryFocus",u6={bubbles:!1,cancelable:!0},cd="RovingFocusGroup",[Ng,DE,f6]=Gx(cd),[h6,ME]=_n(cd,[f6]),[m6,p6]=h6(cd),LE=h.forwardRef((e,t)=>r.jsx(Ng.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(Ng.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(g6,{...e,ref:t})})}));LE.displayName=cd;var g6=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...f}=e,m=h.useRef(null),v=ot(t,m),j=kv(i),[g,y]=qr({prop:o,defaultProp:l??null,onChange:c,caller:cd}),[x,p]=h.useState(!1),w=yn(d),_=DE(s),b=h.useRef(!1),[T,N]=h.useState(0);return h.useEffect(()=>{const E=m.current;if(E)return E.addEventListener(Rm,w),()=>E.removeEventListener(Rm,w)},[w]),r.jsx(m6,{scope:s,orientation:n,dir:j,loop:a,currentTabStopId:g,onItemFocus:h.useCallback(E=>y(E),[y]),onItemShiftTab:h.useCallback(()=>p(!0),[]),onFocusableItemAdd:h.useCallback(()=>N(E=>E+1),[]),onFocusableItemRemove:h.useCallback(()=>N(E=>E-1),[]),children:r.jsx(be.div,{tabIndex:x||T===0?-1:0,"data-orientation":n,...f,ref:v,style:{outline:"none",...e.style},onMouseDown:_e(e.onMouseDown,()=>{b.current=!0}),onFocus:_e(e.onFocus,E=>{const R=!b.current;if(E.target===E.currentTarget&&R&&!x){const $=new CustomEvent(Rm,u6);if(E.currentTarget.dispatchEvent($),!$.defaultPrevented){const F=_().filter(B=>B.focusable),W=F.find(B=>B.active),I=F.find(B=>B.id===g),H=[W,I,...F].filter(Boolean).map(B=>B.ref.current);FE(H,u)}}b.current=!1}),onBlur:_e(e.onBlur,()=>p(!1))})})}),IE="RovingFocusGroupItem",OE=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=Ur(),d=i||c,u=p6(IE,s),f=u.currentTabStopId===d,m=DE(s),{onFocusableItemAdd:v,onFocusableItemRemove:j,currentTabStopId:g}=u;return h.useEffect(()=>{if(n)return v(),()=>j()},[n,v,j]),r.jsx(Ng.ItemSlot,{scope:s,id:d,focusable:n,active:a,children:r.jsx(be.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...l,ref:t,onMouseDown:_e(e.onMouseDown,y=>{n?u.onItemFocus(d):y.preventDefault()}),onFocus:_e(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:_e(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const x=y6(y,u.orientation,u.dir);if(x!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let w=m().filter(_=>_.focusable).map(_=>_.ref.current);if(x==="last")w.reverse();else if(x==="prev"||x==="next"){x==="prev"&&w.reverse();const _=w.indexOf(y.currentTarget);w=u.loop?w6(w,_+1):w.slice(_+1)}setTimeout(()=>FE(w))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:g!=null}):o})})});OE.displayName=IE;var x6={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function v6(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function y6(e,t,s){const n=v6(e.key,s);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return x6[n]}function FE(e,t=!1){const s=document.activeElement;for(const n of e)if(n===s||(n.focus({preventScroll:t}),document.activeElement!==s))return}function w6(e,t){return e.map((s,n)=>e[(t+n)%e.length])}var j6=LE,_6=OE,vh="Tabs",[b6,PH]=_n(vh,[ME]),BE=ME(),[S6,Mv]=b6(vh),UE=h.forwardRef((e,t)=>{const{__scopeTabs:s,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=kv(l),[f,m]=qr({prop:n,onChange:a,defaultProp:i??"",caller:vh});return r.jsx(S6,{scope:s,baseId:Ur(),value:f,onValueChange:m,orientation:o,dir:u,activationMode:c,children:r.jsx(be.div,{dir:u,"data-orientation":o,...d,ref:t})})});UE.displayName=vh;var zE="TabsList",VE=h.forwardRef((e,t)=>{const{__scopeTabs:s,loop:n=!0,...a}=e,i=Mv(zE,s),o=BE(s);return r.jsx(j6,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:r.jsx(be.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});VE.displayName=zE;var WE="TabsTrigger",HE=h.forwardRef((e,t)=>{const{__scopeTabs:s,value:n,disabled:a=!1,...i}=e,o=Mv(WE,s),l=BE(s),c=GE(o.baseId,n),d=YE(o.baseId,n),u=n===o.value;return r.jsx(_6,{asChild:!0,...l,focusable:!a,active:u,children:r.jsx(be.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:_e(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:_e(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:_e(e.onFocus,()=>{const f=o.activationMode!=="manual";!u&&!a&&f&&o.onValueChange(n)})})})});HE.displayName=WE;var qE="TabsContent",KE=h.forwardRef((e,t)=>{const{__scopeTabs:s,value:n,forceMount:a,children:i,...o}=e,l=Mv(qE,s),c=GE(l.baseId,n),d=YE(l.baseId,n),u=n===l.value,f=h.useRef(u);return h.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),r.jsx(Er,{present:a||u,children:({present:m})=>r.jsx(be.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&i})})});KE.displayName=qE;function GE(e,t){return`${e}-trigger-${t}`}function YE(e,t){return`${e}-content-${t}`}var N6=UE,QE=VE,JE=HE,XE=KE;const kr=N6,or=h.forwardRef(({className:e,...t},s)=>r.jsx(QE,{ref:s,className:we("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));or.displayName=QE.displayName;const Ue=h.forwardRef(({className:e,...t},s)=>r.jsx(JE,{ref:s,className:we("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));Ue.displayName=JE.displayName;const ze=h.forwardRef(({className:e,...t},s)=>r.jsx(XE,{ref:s,className:we("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));ze.displayName=XE.displayName;var ZE={exports:{}},eT={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qo=h;function C6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var E6=typeof Object.is=="function"?Object.is:C6,T6=Qo.useState,k6=Qo.useEffect,P6=Qo.useLayoutEffect,R6=Qo.useDebugValue;function A6(e,t){var s=t(),n=T6({inst:{value:s,getSnapshot:t}}),a=n[0].inst,i=n[1];return P6(function(){a.value=s,a.getSnapshot=t,Am(a)&&i({inst:a})},[e,s,t]),k6(function(){return Am(a)&&i({inst:a}),e(function(){Am(a)&&i({inst:a})})},[e]),R6(s),s}function Am(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!E6(e,s)}catch{return!0}}function $6(e,t){return t()}var D6=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?$6:A6;eT.useSyncExternalStore=Qo.useSyncExternalStore!==void 0?Qo.useSyncExternalStore:D6;ZE.exports=eT;var M6=ZE.exports;function L6(){return M6.useSyncExternalStore(I6,()=>!0,()=>!1)}function I6(){return()=>{}}var Lv="Avatar",[O6,RH]=_n(Lv),[F6,tT]=O6(Lv),sT=h.forwardRef((e,t)=>{const{__scopeAvatar:s,...n}=e,[a,i]=h.useState("idle");return r.jsx(F6,{scope:s,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:r.jsx(be.span,{...n,ref:t})})});sT.displayName=Lv;var nT="AvatarImage",rT=h.forwardRef((e,t)=>{const{__scopeAvatar:s,src:n,onLoadingStatusChange:a=()=>{},...i}=e,o=tT(nT,s),l=B6(n,i),c=yn(d=>{a(d),o.onImageLoadingStatusChange(d)});return es(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?r.jsx(be.img,{...i,ref:t,src:n}):null});rT.displayName=nT;var aT="AvatarFallback",iT=h.forwardRef((e,t)=>{const{__scopeAvatar:s,delayMs:n,...a}=e,i=tT(aT,s),[o,l]=h.useState(n===void 0);return h.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?r.jsx(be.span,{...a,ref:t}):null});iT.displayName=aT;function q0(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function B6(e,{referrerPolicy:t,crossOrigin:s}){const n=L6(),a=h.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[o,l]=h.useState(()=>q0(i,e));return es(()=>{l(q0(i,e))},[i,e]),es(()=>{const c=f=>()=>{l(f)};if(!i)return;const d=c("loaded"),u=c("error");return i.addEventListener("load",d),i.addEventListener("error",u),t&&(i.referrerPolicy=t),typeof s=="string"&&(i.crossOrigin=s),()=>{i.removeEventListener("load",d),i.removeEventListener("error",u)}},[i,s,t]),o}var oT=sT,lT=rT,cT=iT;const Jo=h.forwardRef(({className:e,...t},s)=>r.jsx(oT,{ref:s,className:we("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Jo.displayName=oT.displayName;const Xo=h.forwardRef(({className:e,...t},s)=>r.jsx(lT,{ref:s,className:we("aspect-square h-full w-full",e),...t}));Xo.displayName=lT.displayName;const Zo=h.forwardRef(({className:e,...t},s)=>r.jsx(cT,{ref:s,className:we("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Zo.displayName=cT.displayName;const U6=({team1:e,team2:t,status:s,week:n,winningTeam:a,gameTimeRemaining:i,startTime:o,isBye:l})=>{const c=()=>{switch(s){case"live":return r.jsx(ne,{className:"bg-green-500 hover:bg-green-600",children:"Live"});case"completed":return r.jsx(ne,{variant:"secondary",children:"Final"});case"upcoming":return r.jsx(ne,{variant:"outline",children:"Upcoming"});default:return r.jsx(ne,{variant:"secondary",children:s})}};return r.jsxs(q,{className:"mb-4",children:[r.jsxs(ie,{className:"pb-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[c(),i&&r.jsxs(ne,{variant:"outline",className:"text-xs",children:[r.jsx($n,{className:"h-3 w-3 mr-1"}),i]})]}),o&&r.jsxs("div",{className:"text-xs text-muted-foreground text-center",children:[o.toLocaleDateString()," at ",o.toLocaleTimeString()]})]}),r.jsxs(G,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs(Jo,{className:"h-10 w-10",children:[r.jsx(Xo,{src:e.avatar}),r.jsx(Zo,{children:e.name.charAt(0)})]}),r.jsxs("div",{children:[r.jsx("div",{className:`font-bold ${(a==null?void 0:a.id)===e.id?"text-green-600":""}`,children:e.name}),r.jsxs("div",{className:"text-xs text-muted-foreground",children:[e.owner,"  ",e.record.wins,"-",e.record.losses]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:`text-xl font-bold ${(a==null?void 0:a.id)===e.id?"text-green-600":""}`,children:e.points.toFixed(1)}),r.jsxs("div",{className:"text-xs text-muted-foreground",children:["Proj: ",e.projectedPoints.toFixed(1)]})]})]}),r.jsxs("div",{className:"text-center py-2",children:[r.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"VS"}),s==="completed"&&a&&r.jsx(xt,{className:"h-5 w-5 mx-auto mt-1 text-yellow-500"})]}),l||!t?r.jsx("div",{className:"flex items-center justify-center p-3 bg-gray-100 rounded-lg",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-xl font-bold text-muted-foreground",children:"BYE"}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Bye Week"})]})}):r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs(Jo,{className:"h-10 w-10",children:[r.jsx(Xo,{src:t.avatar}),r.jsx(Zo,{children:t.name.charAt(0)})]}),r.jsxs("div",{children:[r.jsx("div",{className:`font-bold ${(a==null?void 0:a.id)===t.id?"text-green-600":""}`,children:t.name}),r.jsxs("div",{className:"text-xs text-muted-foreground",children:[t.owner,"  ",t.record.wins,"-",t.record.losses]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:`text-xl font-bold ${(a==null?void 0:a.id)===t.id?"text-green-600":""}`,children:t.points.toFixed(1)}),r.jsxs("div",{className:"text-xs text-muted-foreground",children:["Proj: ",t.projectedPoints.toFixed(1)]})]})]})]})]})},z6=({playerId:e,name:t,position:s,team:n,points:a,projected:i,status:o,positionSlot:l,isStarter:c,gameTimeRemaining:d,expandable:u=!1,onClick:f})=>{const m=a-i,v=m>0,j=m<-2,g=()=>{switch(o){case"playing":return"bg-green-100 text-green-800 border-green-300";case"played":return"bg-gray-100 text-gray-800 border-gray-300";case"bye":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"injured":return"bg-red-100 text-red-800 border-red-300";case"not_started":return"bg-blue-100 text-blue-800 border-blue-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},y=()=>v?r.jsx(Ia,{className:"h-4 w-4 text-green-500"}):j?r.jsx(OD,{className:"h-4 w-4 text-red-500"}):o==="injured"?r.jsx(nd,{className:"h-4 w-4 text-red-500"}):null,x=`
    ${u?"cursor-pointer hover:shadow-md transition-shadow":""}
    ${c?"border-l-4 border-l-blue-500":"border-l-4 border-l-gray-300"}
    ${v?"bg-green-50":j?"bg-red-50":"bg-white"}
  `;return r.jsx(q,{className:x,onClick:u?f:void 0,children:r.jsxs(G,{className:"p-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[r.jsx(ne,{variant:"outline",className:"text-xs shrink-0",children:l}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("div",{className:"font-medium text-sm truncate",children:t}),r.jsxs("div",{className:"text-xs text-muted-foreground",children:[s," - ",n,d&&r.jsxs("span",{className:"ml-2",children:[" ",d]})]})]}),r.jsx("div",{className:"shrink-0",children:y()})]}),r.jsxs("div",{className:"text-right shrink-0 ml-3",children:[r.jsx("div",{className:`font-bold text-sm ${v?"text-green-600":j?"text-red-600":""}`,children:a.toFixed(1)}),r.jsx("div",{className:"text-xs text-muted-foreground",children:i.toFixed(1)}),m!==0&&r.jsxs("div",{className:`text-xs ${m>0?"text-green-600":"text-red-600"}`,children:[m>0?"+":"",m.toFixed(1)]})]})]}),r.jsx("div",{className:"mt-2",children:r.jsx(ne,{variant:"outline",className:`text-xs ${g()}`,children:o.replace("_"," ").toUpperCase()})})]})})},V6=({title:e,data:t,team1Name:s,team2Name:n,height:a=200})=>{if(t.length===0)return r.jsxs(q,{children:[r.jsx(ie,{children:r.jsx(de,{className:"text-lg",children:e})}),r.jsx(G,{children:r.jsx("div",{className:"flex items-center justify-center h-48 text-muted-foreground",children:"No data available"})})]});const i=Math.max(...t.flatMap(u=>[u.team1,u.team2])),o=Math.min(...t.flatMap(u=>[u.team1,u.team2])),l=i-o,c=u=>(i-u)/l*(a-40)+20,d=u=>u/(t.length-1)*300+50;return r.jsxs(q,{children:[r.jsx(ie,{children:r.jsx(de,{className:"text-lg",children:e})}),r.jsx(G,{children:r.jsxs("div",{className:"relative",style:{height:a+60},children:[r.jsxs("svg",{width:"400",height:a+40,className:"overflow-visible",children:[[0,.25,.5,.75,1].map((u,f)=>{const m=20+u*(a-40),v=i-u*l;return r.jsxs("g",{children:[r.jsx("line",{x1:"50",y1:m,x2:"350",y2:m,stroke:"#e5e7eb",strokeWidth:"1"}),r.jsx("text",{x:"45",y:m+4,textAnchor:"end",className:"text-xs fill-gray-500",children:v.toFixed(0)})]},f)}),r.jsx("polyline",{fill:"none",stroke:"#3b82f6",strokeWidth:"2",points:t.map((u,f)=>`${d(f)},${c(u.team1)}`).join(" ")}),r.jsx("polyline",{fill:"none",stroke:"#ef4444",strokeWidth:"2",points:t.map((u,f)=>`${d(f)},${c(u.team2)}`).join(" ")}),t.map((u,f)=>r.jsxs("g",{children:[r.jsx("circle",{cx:d(f),cy:c(u.team1),r:"4",fill:"#3b82f6"}),r.jsx("circle",{cx:d(f),cy:c(u.team2),r:"4",fill:"#ef4444"}),r.jsxs("text",{x:d(f),y:a+35,textAnchor:"middle",className:"text-xs fill-gray-500",children:["W",u.week]})]},f))]}),r.jsxs("div",{className:"flex justify-center space-x-6 mt-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-4 h-0.5 bg-blue-500"}),r.jsx("span",{className:"text-sm text-gray-600",children:s})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-4 h-0.5 bg-red-500"}),r.jsx("span",{className:"text-sm text-gray-600",children:n})]})]})]})})]})},K0=({title:e,data:t,maxValue:s,height:n=200})=>{const a=s||Math.max(...t.map(i=>i.value));return r.jsxs(q,{children:[r.jsx(ie,{children:r.jsx(de,{className:"text-lg",children:e})}),r.jsx(G,{children:r.jsx("div",{className:"space-y-3",style:{height:n},children:t.map((i,o)=>r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-16 text-sm text-right shrink-0",children:i.label}),r.jsx("div",{className:"flex-1 relative",children:r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-6",children:r.jsx("div",{className:`h-6 rounded-full flex items-center justify-end pr-2 text-white text-xs font-medium ${i.color||"bg-blue-500"}`,style:{width:`${i.value/a*100}%`},children:i.value.toFixed(1)})})})]},o))})})]})},W6=()=>{const{matchupId:e}=vv(),t=xv(),{selectedSeason:s,seasonConfigs:n}=Bs(),{toast:a}=gs(),[i,o]=h.useState(null),[l,c]=h.useState({}),[d,u]=h.useState([]),[f,m]=h.useState(!0),[v,j]=h.useState(!1),[g,y]=h.useState("live-scoring"),[x,p]=h.useState(new Date),w=h.useMemo(()=>n.find(R=>R.year===s),[n,s]),_=async()=>{if(!(!e||!s||!w))try{m(!0);const R=await rn.getPlayers();c(R);const $=typeof w.seasonId=="string"?parseInt(w.seasonId):w.seasonId||s,F=await ff.getDetailedMatchup(parseInt(e),$);if(F&&(o(F),F.teams[1])){const W=await ff.getHeadToHeadHistory(F.teams[0].id,F.teams[1].id,$);u(W)}p(new Date)}catch(R){console.error("Error loading matchup data:",R),a({title:"Error Loading Matchup",description:"Failed to load matchup details",variant:"destructive"})}finally{m(!1)}},b=async()=>{j(!0),await _(),j(!1)};if(h.useEffect(()=>{_()},[e,s,w]),h.useEffect(()=>{if((i==null?void 0:i.status)==="live"){const R=setInterval(b,3e4);return()=>clearInterval(R)}},[i==null?void 0:i.status]),f)return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center space-x-4",children:r.jsxs(J,{variant:"ghost",onClick:()=>t("/matchups"),children:[r.jsx(Aa,{className:"h-4 w-4 mr-2"}),"Back to Matchups"]})}),r.jsx(q,{children:r.jsxs(G,{className:"py-8 text-center",children:[r.jsx(it,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-primary"}),r.jsx("p",{children:"Loading matchup details..."})]})})]});if(!i)return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center space-x-4",children:r.jsxs(J,{variant:"ghost",onClick:()=>t("/matchups"),children:[r.jsx(Aa,{className:"h-4 w-4 mr-2"}),"Back to Matchups"]})}),r.jsx(q,{children:r.jsxs(G,{className:"py-8 text-center",children:[r.jsx(nd,{className:"h-8 w-8 mx-auto mb-4 text-muted-foreground"}),r.jsx("p",{children:"Matchup not found"})]})})]});const[T,N]=i.teams,E=i.status==="completed"&&N?T.points>N.points?T:N:null;return r.jsxs("div",{className:"space-y-4 md:space-y-6",children:[r.jsxs("div",{className:"flex flex-col space-y-4 md:flex-row md:items-center md:justify-between md:space-y-0",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs(J,{variant:"ghost",onClick:()=>t("/matchups"),className:"shrink-0",children:[r.jsx(Aa,{className:"h-4 w-4 mr-2"}),r.jsx("span",{className:"hidden sm:inline",children:"Back to Matchups"}),r.jsx("span",{className:"sm:hidden",children:"Back"})]}),r.jsxs("div",{className:"min-w-0",children:[r.jsxs("h1",{className:"text-xl md:text-2xl font-bold truncate",children:["Week ",i.week," Matchup",i.playoffRound&&` - ${i.playoffRound}`]}),r.jsxs("p",{className:"text-sm text-muted-foreground truncate",children:[i.conference.name,"  ",s," Season"]})]})]}),r.jsxs("div",{className:"flex items-center justify-between md:justify-end space-x-2",children:[r.jsxs("div",{className:"text-xs text-muted-foreground md:order-2",children:["Updated: ",x.toLocaleTimeString()]}),r.jsxs(J,{variant:"outline",size:"sm",onClick:b,disabled:v,className:"md:order-1",children:[r.jsx(it,{className:`h-4 w-4 ${v?"animate-spin":""}`}),r.jsx("span",{className:"hidden sm:inline ml-2",children:"Refresh"})]})]})]}),r.jsx("div",{className:"md:hidden",children:r.jsx(U6,{team1:T,team2:N,status:i.status,week:i.week,winningTeam:E,gameTimeRemaining:i.gameTimeRemaining,startTime:i.startTime,isBye:i.isBye})}),r.jsx("div",{className:"hidden md:block",children:r.jsx(H6,{matchup:i,winningTeam:E})}),r.jsxs(cf,{defaultOpen:!1,className:"md:block",children:[r.jsx(df,{asChild:!0,className:"md:hidden",children:r.jsxs(J,{variant:"outline",className:"w-full",children:[r.jsx(Yp,{className:"h-4 w-4 mr-2"}),"Quick Stats"]})}),r.jsx(uf,{className:"md:block",children:r.jsx("div",{className:"mt-2 md:mt-0",children:r.jsx(q6,{matchup:i})})})]}),r.jsxs(kr,{value:g,onValueChange:y,className:"space-y-4",children:[r.jsxs(or,{className:"grid w-full grid-cols-3 h-auto",children:[r.jsxs(Ue,{value:"live-scoring",className:"text-xs sm:text-sm",children:[r.jsx(Ri,{className:"h-4 w-4 mr-1 sm:mr-2"}),r.jsx("span",{className:"hidden sm:inline",children:"Live Scoring"}),r.jsx("span",{className:"sm:hidden",children:"Live"})]}),r.jsxs(Ue,{value:"team-analysis",className:"text-xs sm:text-sm",children:[r.jsx(Yp,{className:"h-4 w-4 mr-1 sm:mr-2"}),r.jsx("span",{className:"hidden sm:inline",children:"Team Analysis"}),r.jsx("span",{className:"sm:hidden",children:"Analysis"})]}),r.jsxs(Ue,{value:"head-to-head",className:"text-xs sm:text-sm",children:[r.jsx(xt,{className:"h-4 w-4 mr-1 sm:mr-2"}),r.jsx("span",{className:"hidden sm:inline",children:"Head-to-Head"}),r.jsx("span",{className:"sm:hidden",children:"H2H"})]})]}),r.jsx(ze,{value:"live-scoring",className:"space-y-4",children:r.jsx(K6,{matchup:i,allPlayers:l})}),r.jsx(ze,{value:"team-analysis",className:"space-y-4",children:r.jsx(G6,{matchup:i})}),r.jsx(ze,{value:"head-to-head",className:"space-y-4",children:r.jsx(Y6,{matchup:i,historicalMatchups:d})})]}),r.jsx("div",{className:"lg:hidden",children:r.jsxs(cf,{children:[r.jsx(df,{asChild:!0,children:r.jsxs(J,{variant:"outline",className:"w-full",children:[r.jsx(PN,{className:"h-4 w-4 mr-2"}),"Matchup Insights"]})}),r.jsx(uf,{children:r.jsx("div",{className:"mt-2",children:r.jsx(Y0,{matchup:i})})})]})}),r.jsx("div",{className:"hidden lg:block",children:r.jsx(Y0,{matchup:i})})]})},H6=({matchup:e,winningTeam:t})=>{const[s,n]=e.teams,a=()=>{switch(e.status){case"live":return r.jsx(ne,{className:"bg-green-500 hover:bg-green-600",children:"Live"});case"completed":return r.jsx(ne,{variant:"secondary",children:"Final"});case"upcoming":return r.jsx(ne,{variant:"outline",children:"Upcoming"});default:return r.jsx(ne,{variant:"secondary",children:e.status})}};return r.jsxs(q,{children:[r.jsx(ie,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[a(),e.gameTimeRemaining&&r.jsxs(ne,{variant:"outline",className:"text-xs",children:[r.jsx($n,{className:"h-3 w-3 mr-1"}),e.gameTimeRemaining]})]}),e.startTime&&r.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.startTime.toLocaleDateString()," at ",e.startTime.toLocaleTimeString()]})]})}),r.jsx(G,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 items-center",children:[r.jsx("div",{className:"md:col-span-2 text-center md:text-right",children:r.jsx(G0,{team:s,isWinner:(t==null?void 0:t.id)===s.id})}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2",children:"VS"}),e.status==="completed"&&t&&r.jsx(xt,{className:"h-6 w-6 mx-auto text-yellow-500"}),e.scoreDifferential>0&&r.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[e.scoreDifferential.toFixed(1)," pt difference"]})]}),r.jsx("div",{className:"md:col-span-2 text-center md:text-left",children:e.isBye||!n?r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-muted-foreground",children:"BYE"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Bye Week"})]}):r.jsx(G0,{team:n,isWinner:(t==null?void 0:t.id)===n.id})})]})})]})},G0=({team:e,isWinner:t})=>r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-center md:justify-start space-x-3",children:[r.jsxs(Jo,{className:"h-12 w-12",children:[r.jsx(Xo,{src:e.avatar}),r.jsx(Zo,{children:e.name.charAt(0)})]}),r.jsxs("div",{children:[r.jsx("div",{className:`text-lg font-bold ${t?"text-green-600":""}`,children:e.name}),r.jsx("div",{className:"text-sm text-muted-foreground",children:e.owner}),r.jsxs("div",{className:"text-xs text-muted-foreground",children:[e.record.wins,"-",e.record.losses]})]})]}),r.jsxs("div",{className:"text-center md:text-left",children:[r.jsx("div",{className:`text-3xl font-bold ${t?"text-green-600":""}`,children:e.points.toFixed(1)}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:["Proj: ",e.projectedPoints.toFixed(1)]})]})]}),q6=({matchup:e})=>{const[t,s]=e.teams,n=o=>o.starters.filter(l=>!0).length,a=o=>o.bench.reduce((l,c)=>l+(o.playersPoints[c]||0),0),i=[{label:"Projected vs Actual",value:s?`${t.points.toFixed(1)}/${t.projectedPoints.toFixed(1)} vs ${s.points.toFixed(1)}/${s.projectedPoints.toFixed(1)}`:`${t.points.toFixed(1)} / ${t.projectedPoints.toFixed(1)}`,mobileValue:s?`${t.points.toFixed(1)}/${t.projectedPoints.toFixed(1)}
vs
${s.points.toFixed(1)}/${s.projectedPoints.toFixed(1)}`:`${t.points.toFixed(1)} / ${t.projectedPoints.toFixed(1)}`},{label:"Players Playing",value:s?`${n(t)} vs ${n(s)}`:`${n(t)}`,mobileValue:s?`${n(t)} vs ${n(s)}`:`${n(t)}`},{label:"Bench Points",value:s?`${a(t).toFixed(1)} vs ${a(s).toFixed(1)}`:`${a(t).toFixed(1)}`,mobileValue:s?`${a(t).toFixed(1)} vs ${a(s).toFixed(1)}`:`${a(t).toFixed(1)}`},{label:"Season Record",value:s?`${t.record.wins}-${t.record.losses} vs ${s.record.wins}-${s.record.losses}`:`${t.record.wins}-${t.record.losses}`,mobileValue:s?`${t.record.wins}-${t.record.losses} vs ${s.record.wins}-${s.record.losses}`:`${t.record.wins}-${t.record.losses}`}];return r.jsx(q,{children:r.jsxs(G,{className:"py-4",children:[r.jsx("div",{className:"grid grid-cols-2 gap-3 md:hidden",children:i.map((o,l)=>r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:o.label}),r.jsx("div",{className:"text-sm font-semibold whitespace-pre-line",children:o.mobileValue})]},l))}),r.jsx("div",{className:"hidden md:grid md:grid-cols-4 gap-4 text-center",children:i.map((o,l)=>r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:o.label}),r.jsx("div",{className:"text-lg font-semibold",children:o.value})]},l))})]})})},K6=({matchup:e,allPlayers:t})=>{const[s,n]=e.teams,a=l=>{const c=t[l],d=s.playersPoints[l]||0,u=(n==null?void 0:n.playersPoints[l])||0,f=d||u,m=s.playersProjected[l]||0,v=(n==null?void 0:n.playersProjected[l])||0,j=m||v;return{playerId:l,name:c?`${c.first_name||""} ${c.last_name||""}`.trim():"Unknown",position:(c==null?void 0:c.position)||"N/A",team:(c==null?void 0:c.team)||"N/A",points:f,projected:j,status:"played",isOutperforming:f>j,variance:f-j}},i=(l,c,d=!0)=>{const u=a(l);return r.jsx(z6,{playerId:l,name:u.name,position:u.position,team:u.team,points:u.points,projected:u.projected,status:u.status,positionSlot:c,isStarter:d,gameTimeRemaining:u.gameTimeRemaining,expandable:!1},l)},o=(l,c)=>{const d=["QB","RB","RB","WR","WR","WR","TE","FLEX","K","DEF"];return r.jsxs(q,{children:[r.jsx(ie,{className:"pb-3",children:r.jsxs(de,{className:"text-lg flex items-center",children:[r.jsx(Zt,{className:"h-5 w-5 mr-2"}),c]})}),r.jsxs(G,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"text-sm font-medium text-muted-foreground uppercase tracking-wide",children:"Starting Lineup"}),r.jsx("div",{className:"space-y-2",children:l.starters.map((u,f)=>i(u,d[f]||"FLEX",!0))})]}),r.jsxs(cf,{defaultOpen:!1,children:[r.jsx(df,{asChild:!0,children:r.jsxs(J,{variant:"outline",size:"sm",className:"w-full md:hidden",children:[r.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Show Bench (",l.bench.length,")"]})}),r.jsx(uf,{className:"md:block",children:r.jsxs("div",{className:"space-y-2 mt-2 md:mt-0",children:[r.jsx("h4",{className:"text-sm font-medium text-muted-foreground uppercase tracking-wide hidden md:block",children:"Bench"}),r.jsx("div",{className:"space-y-2",children:l.bench.map(u=>i(u,"BENCH",!1))})]})})]})]})]})};return r.jsxs("div",{className:"space-y-4 lg:grid lg:grid-cols-2 lg:gap-6 lg:space-y-0",children:[o(s,s.name),n&&o(n,n.name)]})},G6=({matchup:e})=>{const[t,s]=e.teams,n=[{week:1,team1:125.4,team2:118.2},{week:2,team1:142.1,team2:135.8},{week:3,team1:98.7,team2:156.3},{week:4,team1:167.2,team2:142.9},{week:5,team1:134.5,team2:128.1}],a=[{position:"QB",team1:85,team2:78},{position:"RB",team1:72,team2:88},{position:"WR",team1:91,team2:82},{position:"TE",team1:65,team2:71},{position:"K",team1:88,team2:85},{position:"DEF",team1:76,team2:69}];return r.jsxs("div",{className:"space-y-4 md:space-y-6",children:[r.jsx(V6,{title:"Weekly Performance Comparison",data:n,team1Name:t.name,team2Name:(s==null?void 0:s.name)||"BYE",height:200}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsx(K0,{title:`${t.name} Position Performance`,data:a.map(i=>({label:i.position,value:i.team1,color:"bg-blue-500"})),maxValue:100,height:180}),s&&r.jsx(K0,{title:`${s.name} Position Performance`,data:a.map(i=>({label:i.position,value:i.team2,color:"bg-red-500"})),maxValue:100,height:180})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs(q,{children:[r.jsx(ie,{children:r.jsxs(de,{className:"text-lg",children:[t.name," Metrics"]})}),r.jsxs(G,{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Average Score"}),r.jsx("span",{className:"font-medium",children:"132.4"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Floor"}),r.jsx("span",{className:"font-medium",children:"98.7"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Ceiling"}),r.jsx("span",{className:"font-medium",children:"167.2"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Consistency"}),r.jsx("span",{className:"font-medium",children:"High"})]})]})]}),s&&r.jsxs(q,{children:[r.jsx(ie,{children:r.jsxs(de,{className:"text-lg",children:[s.name," Metrics"]})}),r.jsxs(G,{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Average Score"}),r.jsx("span",{className:"font-medium",children:"128.3"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Floor"}),r.jsx("span",{className:"font-medium",children:"118.2"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Ceiling"}),r.jsx("span",{className:"font-medium",children:"156.3"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Consistency"}),r.jsx("span",{className:"font-medium",children:"Medium"})]})]})]})]})]})},Y6=({matchup:e,historicalMatchups:t})=>{const[s,n]=e.teams,a=h.useMemo(()=>n?t.reduce((o,l)=>(l.team1Score>l.team2Score?o.team1Wins++:l.team2Score>l.team1Score?o.team2Wins++:o.ties++,o),{team1Wins:0,team2Wins:0,ties:0}):{team1Wins:0,team2Wins:0,ties:0},[t,n]),i=h.useMemo(()=>{if(t.length===0)return{team1Avg:0,team2Avg:0};const o=t.reduce((l,c)=>({team1Total:l.team1Total+c.team1Score,team2Total:l.team2Total+c.team2Score}),{team1Total:0,team2Total:0});return{team1Avg:o.team1Total/t.length,team2Avg:o.team2Total/t.length}},[t]);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs(q,{children:[r.jsx(ie,{children:r.jsxs(de,{className:"flex items-center",children:[r.jsx(xt,{className:"h-5 w-5 mr-2"}),"All-Time Head-to-Head Record"]})}),r.jsx(G,{children:n?r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:a.team1Wins}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.name," Wins"]})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-muted-foreground",children:a.ties}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Ties"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-red-600",children:a.team2Wins}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[n.name," Wins"]})]})]}):r.jsx("div",{className:"text-center text-muted-foreground",children:"No head-to-head history available for bye week"})})]}),t.length>0&&r.jsxs(q,{children:[r.jsx(ie,{children:r.jsxs(de,{className:"flex items-center",children:[r.jsx(un,{className:"h-5 w-5 mr-2"}),"Previous Matchups"]})}),r.jsx(G,{children:r.jsx("div",{className:"space-y-2",children:t.slice(0,10).map((o,l)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs(ne,{variant:"outline",children:["Week ",o.week]}),r.jsx("span",{className:"text-sm text-muted-foreground",children:o.season})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"font-medium",children:[o.team1Score.toFixed(1)," - ",o.team2Score.toFixed(1)]}),r.jsxs("div",{className:"text-xs text-muted-foreground",children:["Winner: ",o.winner]})]}),o.team1Score>o.team2Score?r.jsx(Qu,{className:"h-4 w-4 text-blue-500"}):r.jsx(Qu,{className:"h-4 w-4 text-red-500"})]})]},l))})})]}),r.jsxs(q,{children:[r.jsx(ie,{children:r.jsxs(de,{className:"flex items-center",children:[r.jsx(Ia,{className:"h-5 w-5 mr-2"}),"Matchup Trends"]})}),r.jsx(G,{children:r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"font-medium",children:"Average Scoring in Matchups"}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.name,": ",i.team1Avg.toFixed(1)," pts/game"]}),n&&r.jsxs("div",{className:"text-sm text-muted-foreground",children:[n.name,": ",i.team2Avg.toFixed(1)," pts/game"]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"font-medium",children:"Notable Performances"}),t.length>0?r.jsxs("div",{className:"text-sm text-muted-foreground",children:["Highest scoring: ",Math.max(...t.map(o=>Math.max(o.team1Score,o.team2Score))).toFixed(1)," pts"]}):r.jsx("div",{className:"text-sm text-muted-foreground",children:"No historical data available"})]})]})})]})]})},Y0=({matchup:e})=>{const[t,s]=e.teams;return r.jsxs(q,{children:[r.jsx(ie,{children:r.jsxs(de,{className:"flex items-center",children:[r.jsx(PN,{className:"h-5 w-5 mr-2"}),"Matchup Insights"]})}),r.jsxs(G,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-2",children:"Key Advantages"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"p-2 bg-blue-50 rounded",children:[r.jsx("strong",{children:t.name})," has stronger QB play this week"]}),s&&r.jsxs("div",{className:"p-2 bg-red-50 rounded",children:[r.jsx("strong",{children:s.name})," has better RB depth"]})]})]}),r.jsxs("div",{children:[r.jsxs("h4",{className:"font-medium mb-2 flex items-center",children:[r.jsx(nd,{className:"h-4 w-4 mr-1"}),"Weather Alerts"]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"No weather concerns for this week"})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-2",children:"Injury Updates"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"All players healthy and active"})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-2",children:"Waiver Wire"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Consider picking up handcuff RBs"})]}),r.jsx(gh,{}),r.jsxs("div",{children:[r.jsxs("h4",{className:"font-medium mb-2 flex items-center",children:[r.jsx(cD,{className:"h-4 w-4 mr-1"}),"Trash Talk"]}),r.jsx(J,{variant:"outline",size:"sm",className:"w-full",children:"Add Comment"})]})]})]})},Jt=h.forwardRef(({className:e,type:t,...s},n)=>r.jsx("input",{type:t,className:we("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...s}));Jt.displayName="Input";const Q6=()=>{var x;const{selectedSeason:e,selectedConference:t,currentSeasonConfig:s}=Bs(),{toast:n}=gs(),[a,i]=h.useState(""),[o,l]=h.useState([]),[c,d]=h.useState(!0),[u,f]=h.useState(null),m=async()=>{d(!0),f(null);try{console.log("Fetching teams data for season:",e);const p=await Y.getSeasons({filters:[{column:"season_year",operator:"eq",value:e.toString()}]});if(p.error||!p.data||p.data.length===0)throw new Error("Season not found");const w=p.data[0].id;let _=s.conferences.filter(L=>L.dbConferenceId);if(t&&(_=_.filter(L=>L.id===t)),_.length===0){console.log("No conferences found for selected season"),l([]);return}const b=_.map(L=>L.dbConferenceId),T=await Y.getTeams({});if(T.error||!T.data)throw new Error("Failed to fetch teams");const N=await Y.getTeamConferenceJunctions({filters:[{column:"conference_id",operator:"in",value:b}]});if(N.error||!N.data)throw new Error("Failed to fetch team conference mappings");const E=N.data.map(L=>L.team_id),R=T.data.filter(L=>E.includes(L.id)),$=await Y.getTeamRecords({filters:[{column:"season_id",operator:"eq",value:w},{column:"conference_id",operator:"in",value:b}]});if($.error||!$.data)throw new Error("Failed to fetch team records");const F=await Y.getConferences({filters:[{column:"id",operator:"in",value:b}]}),W=new Map;F.data&&F.data.forEach(L=>{W.set(L.id,L.conference_name)});const I=[];for(const L of R){const H=$.data.find(B=>B.team_id===L.id);if(H){const B=N.data.find(k=>k.team_id===L.id),V=B?W.get(B.conference_id):"Unknown",S=v(H.wins,H.losses),P=L.team_logourl?`https://sleepercdn.com/avatars/thumbs/${L.team_logourl}`:null;I.push({id:L.id.toString(),teamName:L.team_name,ownerName:L.owner_name,coOwnerName:L.co_owner_name||void 0,ownerAvatar:P,conference:V,record:{wins:H.wins,losses:H.losses,ties:0},pointsFor:H.points_for,pointsAgainst:H.points_against,rank:0,streak:S})}}I.sort((L,H)=>L.record.wins!==H.record.wins?H.record.wins-L.record.wins:H.pointsFor-L.pointsFor),I.forEach((L,H)=>{L.rank=H+1}),console.log("Final combined teams data:",I),l(I)}catch(p){console.error("Error fetching teams data:",p),f(p instanceof Error?p.message:"Failed to load teams data"),n({title:"Error Loading Teams",description:"Failed to load team data. Please try again.",variant:"destructive"})}finally{d(!1)}},v=(p,w)=>p>w?`W${Math.min(p-w,5)}`:w>p?`L${Math.min(w-p,5)}`:"T1";h.useEffect(()=>{m()},[e,t]);const j=o.filter(p=>a===""||p.teamName.toLowerCase().includes(a.toLowerCase())||p.ownerName.toLowerCase().includes(a.toLowerCase())||p.coOwnerName&&p.coOwnerName.toLowerCase().includes(a.toLowerCase())),g=(p,w)=>{const _=p/(p+w);return _>=.7?"default":_>=.5?"secondary":"destructive"},y=p=>p.startsWith("W")?"text-green-600":p.startsWith("L")?"text-red-600":"text-muted-foreground";return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Zt,{className:"h-6 w-6 text-primary"}),r.jsx("h1",{className:"text-3xl font-bold",children:"Teams"})]}),r.jsxs("p",{className:"text-muted-foreground",children:[e," Season  ",t?(x=s.conferences.find(p=>p.id===t))==null?void 0:x.name:"All Conferences","  ",j.length," teams"]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("div",{className:"relative flex-1 max-w-md",children:[r.jsx(Zx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(Jt,{placeholder:"Search teams or owners...",value:a,onChange:p=>i(p.target.value),className:"pl-10"})]}),r.jsx(J,{variant:"outline",onClick:()=>i(""),children:"Clear"}),r.jsxs(J,{variant:"outline",onClick:m,disabled:c,children:[r.jsx(it,{className:`h-4 w-4 mr-2 ${c?"animate-spin":""}`}),"Refresh"]})]}),c&&r.jsx(q,{children:r.jsxs(G,{className:"py-12 text-center",children:[r.jsx(it,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4 animate-spin"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Loading Teams"}),r.jsx("p",{className:"text-muted-foreground",children:"Fetching team data from database..."})]})}),u&&!c&&r.jsx(q,{children:r.jsxs(G,{className:"py-12 text-center",children:[r.jsx(et,{className:"h-12 w-12 mx-auto text-destructive mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Error Loading Teams"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:u}),r.jsxs(J,{onClick:m,children:[r.jsx(it,{className:"h-4 w-4 mr-2"}),"Try Again"]})]})}),!c&&!u&&r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.map(p=>r.jsxs(q,{className:"hover:shadow-lg transition-shadow",children:[r.jsx(ie,{className:"pb-2",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs(Jo,{className:"h-10 w-10",children:[r.jsx(Xo,{src:p.ownerAvatar||void 0}),r.jsx(Zo,{className:"bg-primary/10",children:p.ownerName.split(" ").map(w=>w[0]).join("").toUpperCase()})]}),r.jsxs("div",{children:[r.jsx(de,{className:"text-base leading-tight",children:p.teamName}),r.jsxs(Se,{className:"text-sm",children:[p.ownerName,p.coOwnerName&&` & ${p.coOwnerName}`]})]})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[p.rank<=3&&r.jsx(xt,{className:"h-4 w-4 text-yellow-500"}),r.jsxs("span",{className:"text-sm font-semibold",children:["#",p.rank]})]})]})}),r.jsxs(G,{className:"space-y-3",children:[r.jsx(bi,{conferenceName:p.conference,size:"sm"}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-muted-foreground",children:"Record"}),r.jsxs(ne,{variant:g(p.record.wins,p.record.losses),children:[p.record.wins,"-",p.record.losses,p.record.ties>0&&`-${p.record.ties}`]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-muted-foreground",children:"Streak"}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Ia,{className:`h-3 w-3 ${y(p.streak)}`}),r.jsx("span",{className:`text-sm font-semibold ${y(p.streak)}`,children:p.streak})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-muted-foreground",children:"Points For"}),r.jsx("p",{className:"font-semibold",children:p.pointsFor.toFixed(1)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-muted-foreground",children:"Points Against"}),r.jsx("p",{className:"font-semibold",children:p.pointsAgainst.toFixed(1)})]})]}),r.jsx(ns,{to:`/teams/${p.id}`,className:"w-full",children:r.jsxs(J,{variant:"outline",className:"w-full text-sm py-1.5",children:[r.jsx(sd,{className:"mr-2 h-3 w-3"}),"View Team Details"]})})]})]},p.id))}),!c&&!u&&j.length===0&&r.jsx(q,{children:r.jsxs(G,{className:"py-12 text-center",children:[r.jsx(Zt,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No teams found"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:"No teams match your current search criteria."}),r.jsx(J,{variant:"outline",onClick:()=>i(""),children:"Clear Search"})]})}),!c&&!u&&j.length>0&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(q,{children:r.jsxs(ie,{className:"pb-2",children:[r.jsx(Se,{children:"Average Points For"}),r.jsx(de,{className:"text-2xl",children:(j.reduce((p,w)=>p+w.pointsFor,0)/j.length).toFixed(1)})]})}),r.jsx(q,{children:r.jsxs(ie,{className:"pb-2",children:[r.jsx(Se,{children:"Highest Scoring Team"}),r.jsx(de,{className:"text-lg",children:j.reduce((p,w)=>p.pointsFor>w.pointsFor?p:w).teamName})]})})]})]})},dT=({transaction:e})=>{const t=()=>{switch(e.type){case"trade":return r.jsx(_$,{className:"h-4 w-4"});case"free_agent":return r.jsx(Gu,{className:"h-4 w-4"});case"waiver":return r.jsx(Ia,{className:"h-4 w-4"});default:return r.jsx(Cc,{className:"h-4 w-4"})}},s=()=>{switch(e.type){case"trade":return"bg-blue-100 text-blue-800";case"free_agent":return"bg-green-100 text-green-800";case"waiver":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},n=()=>{switch(e.status){case"complete":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},a=o=>new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}).format(o),i=o=>{switch(o){case"free_agent":return"Free Agent";case"waiver":return"Waiver";case"trade":return"Trade";default:return o.charAt(0).toUpperCase()+o.slice(1)}};return r.jsxs(q,{className:"mb-4 hover:shadow-md transition-shadow",children:[r.jsx(ie,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:`p-2 rounded-full ${s()}`,children:t()}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ne,{className:s(),children:i(e.type)}),r.jsxs(ne,{variant:"outline",children:["Week ",e.week]}),r.jsx(ne,{className:n(),children:e.status})]}),r.jsxs("div",{className:"flex items-center space-x-1 mt-1 text-sm text-muted-foreground",children:[r.jsx(un,{className:"h-3 w-3"}),r.jsx("span",{children:a(e.date)})]})]})]}),e.waiverBid&&r.jsxs("div",{className:"flex items-center space-x-1 text-sm text-muted-foreground",children:[r.jsx(Qp,{className:"h-3 w-3"}),r.jsxs("span",{children:["$",e.waiverBid]})]})]})}),r.jsx(G,{className:"pt-0",children:r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{children:r.jsx("p",{className:"text-sm font-medium text-foreground",children:e.details})}),e.teams.length>0&&r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Teams:"}),r.jsx("div",{className:"flex flex-wrap gap-1",children:e.teams.map((o,l)=>r.jsx(ne,{variant:"secondary",className:"text-xs",children:o},l))})]}),(e.players.added.length>0||e.players.dropped.length>0)&&r.jsxs("div",{className:"space-y-2",children:[e.players.added.length>0&&r.jsxs("div",{children:[r.jsxs("p",{className:"text-xs text-muted-foreground mb-1 flex items-center",children:[r.jsx(Gu,{className:"h-3 w-3 mr-1 text-green-600"}),"Added:"]}),r.jsx("div",{className:"space-y-1",children:e.players.added.map((o,l)=>r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"font-medium",children:o.name}),r.jsxs(ne,{variant:"outline",className:"text-xs",children:["to ",o.team]})]},l))})]}),e.players.dropped.length>0&&r.jsxs("div",{children:[r.jsxs("p",{className:"text-xs text-muted-foreground mb-1 flex items-center",children:[r.jsx(fD,{className:"h-3 w-3 mr-1 text-red-600"}),"Dropped:"]}),r.jsx("div",{className:"space-y-1",children:e.players.dropped.map((o,l)=>r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"font-medium",children:o.name}),r.jsxs(ne,{variant:"outline",className:"text-xs",children:["from ",o.team]})]},l))})]})]}),e.draftPicks.length>0&&r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Draft Picks:"}),r.jsx("div",{className:"space-y-1",children:e.draftPicks.map((o,l)=>r.jsxs("div",{className:"text-sm",children:[r.jsxs("span",{className:"font-medium",children:[o.season," Round ",o.round]}),r.jsxs("span",{className:"text-muted-foreground ml-2",children:["(Roster ",o.previous_owner_id,"  Roster ",o.owner_id,")"]})]},l))})]}),e.waiverBudget.length>0&&r.jsxs("div",{children:[r.jsxs("p",{className:"text-xs text-muted-foreground mb-1 flex items-center",children:[r.jsx(Qp,{className:"h-3 w-3 mr-1"}),"FAAB Transfers:"]}),r.jsx("div",{className:"space-y-1",children:e.waiverBudget.map((o,l)=>r.jsxs("div",{className:"text-sm",children:[r.jsxs("span",{className:"font-medium",children:["$",o.amount]}),r.jsxs("span",{className:"text-muted-foreground ml-2",children:["(Roster ",o.sender,"  Roster ",o.receiver,")"]})]},l))})]}),e.notes&&r.jsxs(r.Fragment,{children:[r.jsx(gh,{}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Notes:"}),r.jsx("p",{className:"text-sm italic text-muted-foreground",children:e.notes})]})]})]})})]})},J6=()=>{const{teamId:e}=vv(),{selectedSeason:t,currentSeasonConfig:s}=Bs(),[n,a]=h.useState("roster"),[i,o]=h.useState(null),[l,c]=h.useState([]),[d,u]=h.useState(!1),[f,m]=h.useState([]),[v,j]=h.useState(!1),[g,y]=h.useState(null),[x,p]=h.useState(null),[w,_]=h.useState(0),[b,T]=h.useState(null),[N,E]=h.useState(!0),[R,$]=h.useState(null),{toast:F}=gs();h.useEffect(()=>{e&&s&&W(parseInt(e))},[e,s]),h.useEffect(()=>{n==="transactions"&&i&&l.length===0&&I()},[n,i]),h.useEffect(()=>{n==="schedule"&&i&&f.length===0&&L()},[n,i,t]),h.useEffect(()=>{(n==="schedule"||n==="performance")&&i&&!g&&H()},[n,i,t]),h.useEffect(()=>{n==="performance"&&i&&!x&&B()},[n,i,t]),h.useEffect(()=>{n==="performance"&&i&&w===0&&V()},[n,i,t]),h.useEffect(()=>{i&&!b&&S()},[i,t]),h.useEffect(()=>{f.length>0&&m([]),g&&y(null)},[t]),h.useEffect(()=>{p(null),_(0),T(null)},[t]);const W=async se=>{try{E(!0),$(null),console.log(`Fetching data for team ID: ${se}`);const Z=await Y.getTeams({filters:[{column:"id",operator:"eq",value:se}]});if(Z.error||!Z.data||Z.data.length===0)throw new Error("Team not found");const he=Z.data[0];console.log("Team data:",he);const Ee=await Y.getTeamConferenceJunctions({filters:[{column:"team_id",operator:"eq",value:se}]});if(Ee.error||!Ee.data||Ee.data.length===0)throw new Error("Team conference mapping not found");const Re=Ee.data[0],wt=Re.roster_id;console.log("Junction data:",Re,"Roster ID:",wt),console.log("All junctions for this team:",Ee.data);const nt=await Y.getConferences({filters:[{column:"id",operator:"eq",value:Re.conference_id}]});if(nt.error||!nt.data||nt.data.length===0)throw new Error("Conference not found");const ut=nt.data[0];console.log("Conference data:",ut),console.log(`Fetching Sleeper data for league ${ut.league_id}, roster ${wt}`);const qe=await Oe.getTeamRosterData(ut.league_id,wt);o({...qe,teamData:he,conferenceData:ut}),console.log("Successfully loaded team roster data")}catch(Z){console.error("Error fetching team data:",Z);const he=Z instanceof Error?Z.message:"Failed to load team data";$(he),F({title:"Error",description:he,variant:"destructive"})}finally{E(!1)}},I=async()=>{if(i)try{u(!0),console.log(`Fetching transactions for team ${i.teamData.team_name} across all conferences`);const se=await Y.getTeamConferenceJunctions({filters:[{column:"team_id",operator:"eq",value:i.teamData.id}]});if(se.error||!se.data||se.data.length===0)throw new Error("Team conference mappings not found");const Z=se.data.map(Ce=>Ce.conference_id);console.log(`Team participates in conferences: ${Z.join(", ")}`);const he=await Y.getTransactions({filters:[{column:"conference_id",operator:"in",value:Z}],orderBy:{column:"created_at",ascending:!1}});if(he.error||!he.data)throw new Error(he.error||"Failed to fetch transactions");const Ee=await Y.getTeams({}),Re=await Y.getTeamConferenceJunctions({filters:[{column:"conference_id",operator:"in",value:Z}]}),wt=await Y.getAllPlayersForMapping(),nt=new Map;wt.forEach(Ce=>{Ce.sleeper_id&&nt.set(String(Ce.sleeper_id),Ce.player_name)});const qe=(await Promise.all(he.data.map(async Ce=>{var Ke,ct,rt;let je={};try{je=typeof Ce.data=="string"?JSON.parse(Ce.data):Ce.data||{}}catch(fe){console.warn("Failed to parse transaction data:",fe)}const Gt=i.teamData.id,pt=Ce.conference_id,Dt=je.roster_ids||[],xs=(Ke=se.data)==null?void 0:Ke.find(fe=>fe.team_id===Gt&&fe.conference_id===pt);if(!xs||!Dt.includes(xs.roster_id))return null;const jt=fe=>{var ft;const Te=(ft=Re.data)==null?void 0:ft.find(Ie=>Ie.roster_id.toString()===fe.toString()&&Ie.conference_id===Ce.conference_id);if(Te&&Ee.data){const Ie=Ee.data.find(Ps=>Ps.id===Te.team_id);return(Ie==null?void 0:Ie.team_name)||"Unknown Team"}return"Unknown Team"},We=[],Ae=[],lt=fe=>{const Te=String(fe);return nt.get(Te)||`Player ${Te}`};if(je.adds)for(const[fe,Te]of Object.entries(je.adds)){const ft=lt(fe),Ie=jt(Te);We.push({name:ft,team:Ie})}if(je.drops)for(const[fe,Te]of Object.entries(je.drops)){const ft=lt(fe),Ie=jt(Te);Ae.push({name:ft,team:Ie})}let Mt="";const Zs=je.type||Ce.type,ks=new Set;je.roster_ids&&je.roster_ids.forEach(fe=>{const Te=jt(fe);Te!=="Unknown Team"&&ks.add(Te)});const ts=i.teamData.team_name,re=((rt=(ct=(await Y.getConferences({filters:[{column:"id",operator:"eq",value:Ce.conference_id}]})).data)==null?void 0:ct[0])==null?void 0:rt.conference_name)||"Unknown Conference";switch(Zs){case"trade":if(We.length>0||Ae.length>0){const fe=[];We.forEach(Te=>fe.push(`${Te.name} to ${Te.team}`)),Ae.forEach(Te=>fe.push(`${Te.name} from ${Te.team}`)),ks.size>1?Mt=`[${re}] Trade between ${Array.from(ks).join(" and ")}: ${fe.join(", ")}`:Mt=`[${re}] ${ts} trade: ${fe.join(", ")}`}else if(je.draft_picks&&je.draft_picks.length>0){const fe=je.draft_picks.map(Te=>`${Te.season} Round ${Te.round} pick`);Mt=`[${re}] Trade involving ${fe.join(", ")}`}else Mt=`[${re}] Trade between ${Array.from(ks).join(" and ")}`;break;case"waiver":We.length>0&&Ae.length>0?Mt=`[${re}] ${ts} claimed ${We.map(fe=>fe.name).join(", ")} from waivers, dropped ${Ae.map(fe=>fe.name).join(", ")}`:We.length>0?Mt=`[${re}] ${ts} claimed ${We.map(fe=>fe.name).join(", ")} from waivers`:Ae.length>0?Mt=`[${re}] ${ts} dropped ${Ae.map(fe=>fe.name).join(", ")} to waivers`:Mt=`[${re}] ${ts} made a waiver claim`;break;case"free_agent":We.length>0&&Ae.length>0?Mt=`[${re}] ${ts} added ${We.map(fe=>fe.name).join(", ")}, dropped ${Ae.map(fe=>fe.name).join(", ")}`:We.length>0?Mt=`[${re}] ${ts} added ${We.map(fe=>fe.name).join(", ")} from free agency`:Ae.length>0?Mt=`[${re}] ${ts} dropped ${Ae.map(fe=>fe.name).join(", ")}`:Mt=`[${re}] ${ts} made a free agent transaction`;break;default:Mt=`[${re}] ${ts} completed a ${Zs||"transaction"}`}const Je=je.type==="trade"?"trade":je.type==="waiver"?"waiver":je.type==="free_agent"?"free_agent":"commissioner";return{id:Ce.id.toString(),type:Je,date:new Date(Ce.created_at||new Date),details:Mt,teams:[ts],players:{added:We.map(fe=>({id:"",name:fe.name,team:fe.team})),dropped:Ae.map(fe=>({id:"",name:fe.name,team:fe.team}))},week:je.leg||0,status:"completed",rosterIds:je.roster_ids||[],draftPicks:je.draft_picks||[],waiverBudget:je.waiver_budget||[]}}))).filter(Ce=>Ce!==null);c(qe),console.log(`Loaded ${qe.length} transactions for this team across all conferences`),F({title:"Transactions Loaded",description:`Found ${qe.length} transactions for this team across all seasons`})}catch(se){console.error("Error fetching transactions:",se);const Z=se instanceof Error?se.message:"Failed to load transactions";F({title:"Error Loading Transactions",description:Z,variant:"destructive"})}finally{u(!1)}},L=async()=>{var se,Z,he;if(!(!i||!s))try{j(!0),console.log(`Fetching schedule for team ${i.teamData.team_name} for season ${t}`);const Ee=s.conferences.filter(re=>re.dbConferenceId);if(Ee.length===0){console.log("No conferences found for selected season"),m([]);return}const Re=await Y.getTeamConferenceJunctions({filters:[{column:"team_id",operator:"eq",value:i.teamData.id}]});if(Re.error||!Re.data)throw new Error("Failed to get team conference mappings");const wt=Ee.map(re=>re.dbConferenceId),nt=Re.data.find(re=>wt.includes(re.conference_id));if(!nt){console.log(`Team not found in any conference for season ${t}`),m([]);return}const ut=await Y.getTeams({}),qe=new Map;ut.data&&ut.data.forEach(re=>{qe.set(re.id,re.team_name)});const Ce=await Y.getSeasons({filters:[{column:"season_year",operator:"eq",value:t}]});if(Ce.error||!Ce.data||Ce.data.length===0)throw new Error("Season not found");const je=Ce.data[0].id,pt=((se=(await Y.getConferences({filters:[{column:"season_id",operator:"eq",value:je}]})).data)==null?void 0:se.map(re=>re.id))||[],Dt=await Y.getMatchups({filters:[{column:"conference_id",operator:"eq",value:nt.conference_id},{column:"week",operator:"lte",value:12}],orderBy:{column:"week",ascending:!0}}),xs=new Set;(Z=Dt.data)==null||Z.forEach(re=>{re.manual_override&&xs.add(re.week)});let jt=[];xs.size>0&&(console.log(`Found manual override weeks: ${Array.from(xs).join(", ")}`),jt=(await Y.getMatchups({filters:[{column:"conference_id",operator:"in",value:pt},{column:"week",operator:"in",value:Array.from(xs)}],orderBy:{column:"week",ascending:!0}})).data||[],console.log(`Found ${jt.length} cross-conference matchups for manual override weeks`));const We=await Y.getMatchupAdminOverrides({filters:[{column:"conference_id",operator:"eq",value:nt.conference_id},{column:"is_active",operator:"eq",value:!0}]}),Ae=[];(Dt.data||[]).filter(re=>!re.manual_override).forEach(re=>{var Te;const Je=(Te=We.data)==null?void 0:Te.find(ft=>ft.conference_id===re.conference_id&&ft.week===parseInt(re.week)&&ft.is_active);let Ke,ct,rt=!1,fe=null;if(Je?(Ke=Je.override_team1_id,ct=Je.override_team2_id,rt=!0,fe=Je.override_reason,console.log(`Week ${re.week}: Using admin override - teams ${Ke} vs ${ct}`)):(Ke=re.team1_id,ct=re.team2_id),Ke===i.teamData.id||ct===i.teamData.id){const ft=Ke===i.teamData.id,Ie=ft?ct:Ke,Ps=qe.get(Ie)||"Unknown Team";let vs="TBD",ys=null,fn=null;re.team1_score!==null&&re.team2_score!==null&&(ft?(ys=re.team1_score,fn=re.team2_score):(ys=re.team2_score,fn=re.team1_score),ys>fn?vs="W":ys<fn?vs="L":vs="T"),Ae.push({week:re.week,opponent:Ps,isHome:ft,result:vs,teamScore:ys,opponentScore:fn,isPlayoff:!1,isOverridden:rt,overrideReason:fe,matchupStatus:re.matchup_status||"scheduled",playoffRoundName:null})}}),jt.forEach(re=>{const Je=re.team1_id,Ke=re.team2_id;if(Je===i.teamData.id||Ke===i.teamData.id){console.log(`Week ${re.week}: Found cross-conference manual override matchup - teams ${Je} vs ${Ke}`);const ct=Je===i.teamData.id,rt=ct?Ke:Je,fe=qe.get(rt)||"Unknown Team";let Te="TBD",ft=null,Ie=null;re.team1_score!==null&&re.team2_score!==null&&(ct?(ft=re.team1_score,Ie=re.team2_score):(ft=re.team2_score,Ie=re.team1_score),ft>Ie?Te="W":ft<Ie?Te="L":Te="T"),Ae.push({week:re.week,opponent:fe,isHome:ct,result:Te,teamScore:ft,opponentScore:Ie,isPlayoff:!1,isOverridden:!0,overrideReason:"Interconference",matchupStatus:re.matchup_status||"scheduled",playoffRoundName:null})}});const Zs=((he=(await Y.getPlayoffBrackets({filters:[{column:"season_id",operator:"eq",value:je}],orderBy:{column:"week",ascending:!0}})).data)==null?void 0:he.filter(re=>re.team1_id===i.teamData.id||re.team2_id===i.teamData.id))||[],ks=re=>{switch(re){case 13:return"Conference Championship";case 14:return"Wildcard";case 15:return"Quarterfinals";case 16:return"Semifinals";case 17:return"Colosseum Championship";default:return`Playoff Week ${re}`}},ts=Zs.map(re=>{let Je="Unknown Team",Ke=!0;if(re.is_bye&&re.week===14)Je="BYE",Ke=re.team1_id===i.teamData.id;else{Ke=re.team1_id===i.teamData.id;const Te=Ke?re.team2_id:re.team1_id;Je=qe.get(Te)||"Unknown Team"}let ct="TBD",rt=null,fe=null;return re.is_bye&&re.week===14?(ct="W",rt=null,fe=null):re.team1_score!==null&&re.team2_score!==null&&(Ke?(rt=re.team1_score,fe=re.team2_score):(rt=re.team2_score,fe=re.team1_score),rt>fe?ct="W":rt<fe?ct="L":ct="T"),{week:re.week.toString(),opponent:Je,isHome:Ke,result:ct,teamScore:rt,opponentScore:fe,isPlayoff:!0,isOverridden:!1,overrideReason:null,matchupStatus:re.winning_team_id?"completed":"scheduled",playoffRoundName:ks(re.week)}});Ae.sort((re,Je)=>parseInt(re.week)-parseInt(Je.week));const lr=[...Ae,...ts];m(lr),console.log(`Loaded ${lr.length} matchups for ${t} season (${Ae.length} regular season, ${ts.length} playoff)`),F({title:"Schedule Loaded",description:`Found ${lr.length} matchups for ${t} season`})}catch(Ee){console.error("Error fetching schedule:",Ee);const Re=Ee instanceof Error?Ee.message:"Failed to load schedule";F({title:"Error Loading Schedule",description:Re,variant:"destructive"})}finally{j(!1)}},H=async()=>{if(!(!i||!s))try{console.log(`Fetching team record for team ${i.teamData.team_name} for season ${t}`);const se=await Y.getSeasons({filters:[{column:"season_year",operator:"eq",value:t}]});if(se.error||!se.data||se.data.length===0)throw new Error("Season not found");const Z=se.data[0].id,he=s.conferences.filter(je=>je.dbConferenceId);if(he.length===0){console.log("No conferences found for selected season");return}const Ee=await Y.getTeamConferenceJunctions({filters:[{column:"team_id",operator:"eq",value:i.teamData.id}]});if(Ee.error||!Ee.data)throw new Error("Failed to get team conference mappings");const Re=he.map(je=>je.dbConferenceId),wt=Ee.data.find(je=>Re.includes(je.conference_id));if(!wt){console.log(`Team not found in any conference for season ${t}`);return}const nt=await Y.getTeamRecords({filters:[{column:"team_id",operator:"eq",value:i.teamData.id},{column:"conference_id",operator:"eq",value:wt.conference_id},{column:"season_id",operator:"eq",value:Z}]});if(nt.error||!nt.data||nt.data.length===0){console.log("No team record found for this season");return}const ut=nt.data[0],qe=await Y.getTeamRecords({filters:[{column:"conference_id",operator:"eq",value:wt.conference_id},{column:"season_id",operator:"eq",value:Z}]});if(qe.data){const Gt=qe.data.sort((pt,Dt)=>Dt.wins!==pt.wins?Dt.wins-pt.wins:Dt.points_for-pt.points_for).findIndex(pt=>pt.team_id===i.teamData.id)+1;ut.rank=Gt}const Ce=await Y.getTeamRecords({filters:[{column:"season_id",operator:"eq",value:Z}]});if(Ce.data){const Gt=Ce.data.slice().sort((We,Ae)=>Ae.points_for-We.points_for).findIndex(We=>We.team_id===i.teamData.id)+1;ut.leagueRankPointsFor=Gt;const Dt=Ce.data.slice().sort((We,Ae)=>We.points_against-Ae.points_against).findIndex(We=>We.team_id===i.teamData.id)+1;ut.leagueRankPointsAgainst=Dt;const jt=Ce.data.slice().sort((We,Ae)=>Ae.point_diff-We.point_diff).findIndex(We=>We.team_id===i.teamData.id)+1;ut.leagueRankPointDiff=jt,console.log(`League rankings - Points For: #${Gt}, Points Against: #${Dt}, Point Diff: #${jt}`)}y(ut),console.log("Loaded team record:",ut)}catch(se){console.error("Error fetching team record:",se)}},B=async()=>{if(!(!i||!s))try{console.log(`Fetching season waiver data for team ${i.teamData.team_name} for season ${t}`);const se=s.conferences.filter(je=>je.dbConferenceId);if(se.length===0){console.log("No conferences found for selected season");return}const Z=await Y.getTeamConferenceJunctions({filters:[{column:"team_id",operator:"eq",value:i.teamData.id}]});if(Z.error||!Z.data)throw new Error("Failed to get team conference mappings");const he=se.map(je=>je.dbConferenceId),Ee=Z.data.find(je=>he.includes(je.conference_id));if(!Ee){console.log(`Team not found in any conference for season ${t}`);return}const Re=await Y.getConferences({filters:[{column:"id",operator:"eq",value:Ee.conference_id}]});if(Re.error||!Re.data||Re.data.length===0)throw new Error("Conference not found");const nt=Re.data[0].league_id,ut=Ee.roster_id;console.log(`Fetching Sleeper roster data for league ${nt}, roster ${ut}`);const qe=await Oe.getTeamRosterData(nt,ut),Ce=100-qe.roster.settings.waiver_budget_used;p({position:qe.roster.settings.waiver_position,budget:Ce}),console.log(`Loaded season waiver data: position ${qe.roster.settings.waiver_position}, budget remaining $${Ce}`)}catch(se){console.error("Error fetching season waiver data:",se)}},V=async()=>{if(!(!i||!s))try{console.log(`Fetching season transaction count for team ${i.teamData.team_name} for season ${t}`);const se=await Y.getSeasons({filters:[{column:"season_year",operator:"eq",value:t}]});if(se.error||!se.data||se.data.length===0)throw new Error("Season not found");const Z=se.data[0].id,he=s.conferences.filter(qe=>qe.dbConferenceId);if(he.length===0){console.log("No conferences found for selected season");return}const Ee=await Y.getTeamConferenceJunctions({filters:[{column:"team_id",operator:"eq",value:i.teamData.id}]});if(Ee.error||!Ee.data)throw new Error("Failed to get team conference mappings");const Re=he.map(qe=>qe.dbConferenceId),wt=Ee.data.find(qe=>Re.includes(qe.conference_id));if(!wt){console.log(`Team not found in any conference for season ${t}`),_(0);return}const nt=await Y.getTransactions({filters:[{column:"season_id",operator:"eq",value:Z},{column:"conference_id",operator:"eq",value:wt.conference_id}]});if(nt.error||!nt.data)throw new Error("Failed to fetch transactions");let ut=0;for(const qe of nt.data){let Ce={};try{Ce=typeof qe.data=="string"?JSON.parse(qe.data):qe.data||{}}catch(Gt){console.warn("Failed to parse transaction data:",Gt);continue}(Ce.roster_ids||[]).includes(wt.roster_id)&&ut++}_(ut),console.log(`Loaded season transaction count: ${ut} for season ${t}`)}catch(se){console.error("Error fetching season transaction count:",se),_(0)}},S=async()=>{var se;if(!(!i||!s))try{console.log(`Fetching header stats for team ${i.teamData.team_name} for season ${t}`);const Z=await Y.getSeasons({filters:[{column:"season_year",operator:"eq",value:t.toString()}]});if(Z.error||!Z.data||Z.data.length===0)throw new Error("Season not found");const he=Z.data[0].id,Ee=s.conferences.filter(jt=>jt.dbConferenceId);if(Ee.length===0){console.log("No conferences found for selected season");return}const Re=await Y.getTeamConferenceJunctions({filters:[{column:"team_id",operator:"eq",value:i.teamData.id}]});if(Re.error||!Re.data)throw new Error("Failed to get team conference mappings");const wt=Ee.map(jt=>jt.dbConferenceId),nt=Re.data.find(jt=>wt.includes(jt.conference_id));if(!nt){console.log(`Team not found in any conference for season ${t}`),T({wins:0,losses:0,pointsFor:0,gamesPlayed:0});return}const ut=await Y.getTeamRecords({filters:[{column:"team_id",operator:"eq",value:i.teamData.id},{column:"conference_id",operator:"eq",value:nt.conference_id},{column:"season_id",operator:"eq",value:he}]});let qe=0,Ce=0,je=0;if(ut.data&&ut.data.length>0){const jt=ut.data[0];qe=jt.wins,Ce=jt.losses,je=jt.points_for,console.log(`Found team record: ${qe}-${Ce}, Points For: ${je}`)}else console.log("No team record found, using default values");const Gt=await Y.getMatchups({filters:[{column:"conference_id",operator:"eq",value:nt.conference_id},{column:"week",operator:"lte",value:12}]});let pt=0;if(Gt.data){pt=Gt.data.filter(Ae=>{const lt=Ae.team1_id===i.teamData.id||Ae.team2_id===i.teamData.id,Mt=Ae.team1_score!==null&&Ae.team2_score!==null;return lt&&Mt}).length;const We=new Set;if(Gt.data.forEach(Ae=>{Ae.manual_override&&We.add(Ae.week)}),We.size>0){const lt=((se=(await Y.getConferences({filters:[{column:"season_id",operator:"eq",value:he}]})).data)==null?void 0:se.map(Zs=>Zs.id))||[],Mt=await Y.getMatchups({filters:[{column:"conference_id",operator:"in",value:lt},{column:"week",operator:"in",value:Array.from(We)},{column:"week",operator:"lte",value:12}]});if(Mt.data){const Zs=Mt.data.filter(ks=>{const ts=ks.team1_id===i.teamData.id||ks.team2_id===i.teamData.id,lr=ks.team1_score!==null&&ks.team2_score!==null,re=ks.conference_id!==nt.conference_id;return ts&&lr&&re});pt+=Zs.length}}console.log(`Games played from completed matchups: ${pt}`)}const Dt=new Date().getFullYear();!(t===Dt)&&pt===0&&(pt=12,console.log("Past season detected, setting games played to 12")),T({wins:qe,losses:Ce,pointsFor:je,gamesPlayed:pt}),console.log(`Loaded header stats: ${qe}-${Ce}, Points For: ${je}, Games Played: ${pt}`)}catch(Z){console.error("Error fetching header stats:",Z),T({wins:0,losses:0,pointsFor:0,gamesPlayed:0})}},P=se=>{switch(se){case"QB":return"bg-red-100 text-red-800";case"RB":return"bg-green-100 text-green-800";case"WR":return"bg-blue-100 text-blue-800";case"TE":return"bg-yellow-100 text-yellow-800";case"K":return"bg-purple-100 text-purple-800";case"DEF":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},k=se=>{switch(se){case"FLEX":return"bg-orange-100 text-orange-800";case"SUPER_FLEX":return"bg-pink-100 text-pink-800";default:return"bg-slate-100 text-slate-800"}},C=se=>{if(!se||se==="Active")return null;const Z={IR:"destructive",Out:"destructive",Doubtful:"destructive",Questionable:"secondary",Probable:"outline"};return r.jsx(ne,{variant:Z[se]||"outline",className:"text-xs",children:se})};if(N)return r.jsx("div",{className:"flex items-center justify-center min-h-64",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Bt,{className:"h-6 w-6 animate-spin"}),r.jsx("span",{children:"Loading team data..."})]})});if(R||!i)return r.jsxs("div",{className:"space-y-6",children:[r.jsx(ns,{to:"/teams",children:r.jsxs(J,{variant:"ghost",className:"mb-4",children:[r.jsx(Aa,{className:"mr-2 h-4 w-4"}),"Back to Teams"]})}),r.jsx(q,{children:r.jsx(G,{className:"flex items-center justify-center min-h-64",children:r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx(et,{className:"h-12 w-12 text-destructive mx-auto"}),r.jsx("h3",{className:"text-lg font-semibold",children:"Error Loading Team"}),r.jsx("p",{className:"text-muted-foreground",children:R||"Team data not available"}),r.jsx(J,{onClick:()=>e&&W(parseInt(e)),children:"Try Again"})]})})})]});const{roster:A,organizedRoster:M,allPlayers:D,teamData:Q,conferenceData:K}=i,z=(g==null?void 0:g.points_for)??Oe.formatPoints(A.settings.fpts,A.settings.fpts_decimal),O=(g==null?void 0:g.points_against)??Oe.formatPoints(A.settings.fpts_against,A.settings.fpts_against_decimal),ae=g?g.wins+g.losses+(g.ties||0):A.settings.wins+A.settings.losses+A.settings.ties,X=Oe.calculatePointsPerGame(z,ae),ee=ae>0?((g==null?void 0:g.wins)??A.settings.wins)/ae*100:0,ce=(b==null?void 0:b.wins)??A.settings.wins,ve=(b==null?void 0:b.losses)??A.settings.losses,ge=(b==null?void 0:b.pointsFor)??Oe.formatPoints(A.settings.fpts,A.settings.fpts_decimal),ye=(b==null?void 0:b.gamesPlayed)??A.settings.wins+A.settings.losses+A.settings.ties,st=ye>0?ge/ye:0,yt=ye>0?ce/ye*100:0;return r.jsxs("div",{className:"space-y-6",children:[r.jsx(ns,{to:"/teams",children:r.jsxs(J,{variant:"ghost",className:"mb-4",children:[r.jsx(Aa,{className:"mr-2 h-4 w-4"}),"Back to Teams"]})}),r.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between space-y-4 md:space-y-0",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs(Jo,{className:"h-16 w-16",children:[r.jsx(Xo,{src:Q.team_logo_url||void 0}),r.jsx(Zo,{className:"bg-primary/10 text-lg",style:{backgroundColor:Q.team_primary_color+"20"},children:Q.team_name.split(" ").map(se=>se[0]).join("").toUpperCase()})]}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:Q.team_name}),r.jsxs("p",{className:"text-muted-foreground",children:["Owned by ",Q.owner_name]}),Q.co_owner_name&&r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Co-owner: ",Q.co_owner_name]}),r.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[r.jsx(bi,{conferenceName:K.conference_name,variant:"secondary"}),r.jsxs(ne,{variant:"secondary",children:["Roster #",A.roster_id]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:b?`${ce}-${ve}`:`${A.settings.wins}-${A.settings.losses}`}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Record"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:b?ge.toFixed(1):z.toFixed(1)}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Points For"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:b?st.toFixed(1):X.toFixed(1)}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg/Game"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[b?yt.toFixed(1):ee.toFixed(1),"%"]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Win %"})]})]})]}),r.jsxs(kr,{value:n,onValueChange:a,className:"w-full",children:[r.jsxs(or,{className:"grid w-full grid-cols-4",children:[r.jsx(Ue,{value:"roster",children:"Roster"}),r.jsx(Ue,{value:"performance",children:"Performance"}),r.jsx(Ue,{value:"transactions",children:"Transactions"}),r.jsx(Ue,{value:"schedule",children:"Schedule"})]}),r.jsxs(ze,{value:"roster",className:"space-y-4",children:[r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsxs(de,{className:"flex items-center space-x-2",children:[r.jsx(Qu,{className:"h-5 w-5"}),r.jsx("span",{children:"Starting Lineup"})]}),r.jsx(Se,{children:"Current starting players for this roster"})]}),r.jsx(G,{children:r.jsx("div",{className:"rounded-md border",children:r.jsxs(Ss,{children:[r.jsx(Ns,{children:r.jsxs(Me,{children:[r.jsx(ue,{children:"Position"}),r.jsx(ue,{children:"Player"}),r.jsx(ue,{children:"NFL Team"}),r.jsx(ue,{children:"Status"})]})}),r.jsx(Cs,{children:M.starters.map((se,Z)=>{const he=D[se.playerId];return r.jsxs(Me,{children:[r.jsx(oe,{children:r.jsx(ne,{className:k(se.slotPosition),children:se.slotPosition})}),r.jsx(oe,{children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"font-medium",children:he?Oe.getPlayerName(he):"Unknown Player"}),he&&r.jsx(ne,{className:P(he.position),children:he.position})]})}),r.jsx(oe,{children:(he==null?void 0:he.team)||"N/A"}),r.jsx(oe,{children:C(he==null?void 0:he.injury_status)})]},`starter-${Z}`)})})]})})})]}),r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsxs(de,{className:"flex items-center space-x-2",children:[r.jsx(Zt,{className:"h-5 w-5"}),r.jsxs("span",{children:["Bench (",M.bench.length,")"]})]}),r.jsx(Se,{children:"Players available as substitutes"})]}),r.jsx(G,{children:r.jsx("div",{className:"rounded-md border",children:r.jsxs(Ss,{children:[r.jsx(Ns,{children:r.jsxs(Me,{children:[r.jsx(ue,{children:"Player"}),r.jsx(ue,{children:"Position"}),r.jsx(ue,{children:"NFL Team"}),r.jsx(ue,{children:"Status"})]})}),r.jsxs(Cs,{children:[M.bench.map(se=>{const Z=D[se];return r.jsxs(Me,{children:[r.jsx(oe,{className:"font-medium",children:Z?Oe.getPlayerName(Z):"Unknown Player"}),r.jsx(oe,{children:Z&&r.jsx(ne,{className:P(Z.position),children:Z.position})}),r.jsx(oe,{children:(Z==null?void 0:Z.team)||"N/A"}),r.jsx(oe,{children:C(Z==null?void 0:Z.injury_status)})]},`bench-${se}`)}),M.bench.length===0&&r.jsx(Me,{children:r.jsx(oe,{colSpan:4,className:"text-center text-muted-foreground py-4",children:"No bench players"})})]})]})})})]}),M.ir.length>0&&r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsxs(de,{className:"flex items-center space-x-2",children:[r.jsx(et,{className:"h-5 w-5"}),r.jsxs("span",{children:["Injured Reserve (",M.ir.length,")"]})]}),r.jsx(Se,{children:"Players on injured reserve"})]}),r.jsx(G,{children:r.jsx("div",{className:"rounded-md border",children:r.jsxs(Ss,{children:[r.jsx(Ns,{children:r.jsxs(Me,{children:[r.jsx(ue,{children:"Player"}),r.jsx(ue,{children:"Position"}),r.jsx(ue,{children:"NFL Team"}),r.jsx(ue,{children:"Status"})]})}),r.jsx(Cs,{children:M.ir.map(se=>{const Z=D[se];return r.jsxs(Me,{children:[r.jsx(oe,{className:"font-medium",children:Z?Oe.getPlayerName(Z):"Unknown Player"}),r.jsx(oe,{children:Z&&r.jsx(ne,{className:P(Z.position),children:Z.position})}),r.jsx(oe,{children:(Z==null?void 0:Z.team)||"N/A"}),r.jsx(oe,{children:r.jsx(ne,{variant:"destructive",className:"text-xs",children:"IR"})})]},`ir-${se}`)})})]})})})]})]}),r.jsx(ze,{value:"performance",className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsxs(de,{className:"flex items-center space-x-2",children:[r.jsx(xt,{className:"h-5 w-5"}),r.jsxs("span",{children:[t," Season Stats"]})]}),r.jsx(Se,{children:g?"Official season statistics from team records":"Statistics from current roster data"})]}),r.jsx(G,{className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Points For"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("p",{className:"text-2xl font-bold",children:z.toFixed(1)}),(g==null?void 0:g.leagueRankPointsFor)&&r.jsxs(ne,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700",children:["#",g.leagueRankPointsFor]})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Points Against"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("p",{className:"text-2xl font-bold",children:O.toFixed(1)}),(g==null?void 0:g.leagueRankPointsAgainst)&&r.jsxs(ne,{variant:"outline",className:"text-xs bg-green-50 text-green-700",children:["#",g.leagueRankPointsAgainst]})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Point Differential"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("p",{className:`text-2xl font-bold ${z-O>0?"text-green-600":"text-red-600"}`,children:[z-O>0?"+":"",(z-O).toFixed(1)]}),(g==null?void 0:g.leagueRankPointDiff)&&r.jsxs(ne,{variant:"outline",className:"text-xs bg-purple-50 text-purple-700",children:["#",g.leagueRankPointDiff]})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Win Percentage"}),r.jsxs("p",{className:"text-2xl font-bold",children:[ee.toFixed(1),"%"]})]}),g&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Conference Rank"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:g.rank?`#${g.rank}`:"-"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Streak"}),r.jsx("p",{className:"text-2xl font-bold",children:g.streak||"-"})]})]})]})})]}),r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsxs(de,{className:"flex items-center space-x-2",children:[r.jsx(Ia,{className:"h-5 w-5"}),r.jsx("span",{children:"Team Management"})]}),r.jsxs(Se,{children:["Waiver and transaction data for ",t," season"]})]}),r.jsx(G,{className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Waiver Position"}),r.jsx("p",{className:"text-2xl font-bold",children:x?x.position:A.settings.waiver_position})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Waiver Budget"}),r.jsxs("p",{className:"text-2xl font-bold",children:["$",x?x.budget:100-A.settings.waiver_budget_used]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Moves"}),r.jsx("p",{className:"text-2xl font-bold",children:w})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Games Played"}),r.jsx("p",{className:"text-2xl font-bold",children:ae})]})]})})]})]})}),r.jsxs(ze,{value:"transactions",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Transaction History"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"All trades, waivers, and roster moves for this team across all seasons"})]}),r.jsx(J,{onClick:I,disabled:d,variant:"outline",size:"sm",children:d?r.jsxs(r.Fragment,{children:[r.jsx(Bt,{className:"h-4 w-4 mr-2 animate-spin"}),"Loading..."]}):r.jsxs(r.Fragment,{children:[r.jsx(it,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]}),d&&l.length===0?r.jsx(q,{children:r.jsx(G,{className:"flex items-center justify-center min-h-32",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Bt,{className:"h-6 w-6 animate-spin"}),r.jsx("span",{children:"Loading transactions..."})]})})}):l.length===0?r.jsx(q,{children:r.jsx(G,{className:"flex items-center justify-center min-h-32",children:r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx(un,{className:"h-12 w-12 text-muted-foreground mx-auto"}),r.jsx("h3",{className:"text-lg font-semibold",children:"No Transactions Found"}),r.jsx("p",{className:"text-muted-foreground",children:"This team hasn't made any trades, waiver claims, or free agent pickups this season."}),r.jsx("div",{className:"mt-4",children:r.jsxs(ne,{variant:"secondary",children:["Total moves: ",A.settings.total_moves," (all seasons)"]})})]})})}):r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",l.length," transaction",l.length!==1?"s":""]}),r.jsxs(ne,{variant:"secondary",children:["Total moves: ",A.settings.total_moves," (all seasons)"]})]}),r.jsx("div",{className:"space-y-3",children:l.map(se=>r.jsx(dT,{transaction:se},se.id))})]})]}),r.jsxs(ze,{value:"schedule",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Season Schedule"}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Complete schedule and results for ",t," season"]})]}),r.jsx(J,{onClick:L,disabled:v,variant:"outline",size:"sm",children:v?r.jsxs(r.Fragment,{children:[r.jsx(Bt,{className:"h-4 w-4 mr-2 animate-spin"}),"Loading..."]}):r.jsxs(r.Fragment,{children:[r.jsx(it,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]}),v&&f.length===0?r.jsx(q,{children:r.jsx(G,{className:"flex items-center justify-center min-h-32",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Bt,{className:"h-6 w-6 animate-spin"}),r.jsx("span",{children:"Loading schedule..."})]})})}):f.length===0?r.jsx(q,{children:r.jsx(G,{className:"flex items-center justify-center min-h-32",children:r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx(un,{className:"h-12 w-12 text-muted-foreground mx-auto"}),r.jsx("h3",{className:"text-lg font-semibold",children:"No Schedule Found"}),r.jsxs("p",{className:"text-muted-foreground",children:["No matchups found for this team in the ",t," season."]})]})})}):r.jsxs("div",{className:"space-y-4",children:[r.jsxs(q,{children:[r.jsx(ie,{children:r.jsxs(de,{className:"flex items-center space-x-2",children:[r.jsx(un,{className:"h-5 w-5"}),r.jsxs("span",{children:[t," Season Schedule"]})]})}),r.jsx(G,{children:r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 text-center",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:(g==null?void 0:g.wins)??f.filter(se=>se.result==="W").length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Wins"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:(g==null?void 0:g.losses)??f.filter(se=>se.result==="L").length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Losses"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:(g==null?void 0:g.ties)??f.filter(se=>se.result==="T").length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Ties"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:f.filter(se=>se.result==="TBD").length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Remaining"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:g!=null&&g.rank?`#${g.rank}`:"-"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Rank"})]})]})})]}),r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsx(de,{children:"Matchup Results"}),r.jsx(Se,{children:"Week-by-week schedule and results"})]}),r.jsx(G,{children:r.jsx("div",{className:"rounded-md border",children:r.jsxs(Ss,{children:[r.jsx(Ns,{children:r.jsxs(Me,{children:[r.jsx(ue,{className:"w-16",children:"Week"}),r.jsx(ue,{children:"Opponent"}),r.jsx(ue,{className:"w-16",children:"@/vs"}),r.jsx(ue,{className:"w-20",children:"Result"}),r.jsx(ue,{className:"w-24",children:"Score"}),r.jsx(ue,{className:"w-16",children:"Status"})]})}),r.jsx(Cs,{children:f.map((se,Z)=>r.jsxs(Me,{children:[r.jsx(oe,{className:"font-medium",children:r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{children:se.week}),se.isPlayoff&&se.playoffRoundName&&r.jsx(ne,{variant:"secondary",className:"text-xs mt-1 w-fit bg-purple-100 text-purple-800",children:se.playoffRoundName})]})}),r.jsx(oe,{children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{children:se.opponent}),se.isOverridden&&r.jsx(ne,{variant:"outline",className:`text-xs ${se.overrideReason==="Interconference"?"bg-orange-100 text-orange-800 border-orange-300":"bg-blue-100 text-blue-800 border-blue-300"}`,title:se.overrideReason||"Matchup Override",children:se.overrideReason==="Interconference"?"Interconference":"Override"})]})}),r.jsx(oe,{className:"text-center",children:se.isHome?"vs":"@"}),r.jsx(oe,{children:r.jsx(ne,{variant:se.result==="W"?"default":se.result==="L"?"destructive":se.result==="T"?"secondary":"outline",className:"w-8 justify-center",children:se.result})}),r.jsx(oe,{children:se.teamScore!==null&&se.opponentScore!==null?r.jsxs("div",{className:"text-sm",children:[r.jsx("span",{className:se.result==="W"?"font-bold":"",children:se.teamScore}),r.jsx("span",{className:"text-muted-foreground mx-1",children:"-"}),r.jsx("span",{className:se.result==="L"?"font-bold":"",children:se.opponentScore})]}):r.jsx("span",{className:"text-muted-foreground",children:"-"})}),r.jsx(oe,{children:r.jsx(ne,{variant:"outline",className:"text-xs",children:se.matchupStatus})})]},`matchup-${Z}`))})]})})})]})]})]})]})]})};async function X6(e={},t=1,s=25){try{const{data:{session:n},error:a}=await Ks.auth.getSession();if(a)throw console.error("Session error:",a),new Error(`Authentication error: ${a.message}`);console.log("Fetching players directly from database...");let i=Ks.from("players_with_roster_status").select(`
        id,
        player_name,
        position,
        nfl_team,
        sleeper_id,
        injury_status,
        total_points,
        avg_points,
        is_rostered,
        rostered_by_teams,
        playing_status
      `,{count:"exact"});e.search&&(i=i.or(`player_name.ilike.%${e.search}%,nfl_team.ilike.%${e.search}%`)),e.position&&e.position!=="all"&&(i=i.eq("position",e.position)),e.is_rostered!==""&&(i=i.eq("is_rostered",e.is_rostered));const o=(t-1)*s,l=o+s-1;i=i.range(o,l).order("total_points",{ascending:!1});const{data:c,error:d,count:u}=await i;if(d)throw console.error("Database query error:",d),new Error(`Database error: ${d.message}`);return console.log(` Fetched ${(c==null?void 0:c.length)||0} players (total: ${u})`),{data:c||[],count:u||0}}catch(n){throw console.error("fetchPlayersFromApi error:",n),n}}const Z6=()=>{const{selectedSeason:e,selectedConference:t,currentSeasonConfig:s}=Bs(),{toast:n}=gs(),[a,i]=h.useState([]),[o,l]=h.useState(0),[c,d]=h.useState(1),u=50,[f,m]=h.useState(!0),[v,j]=h.useState(null),[g,y]=h.useState(""),[x,p]=h.useState("all"),[w,_]=h.useState("all"),[b,T]=h.useState(new Map),[N,E]=h.useState("all-players"),R=["QB","RB","WR","TE"];h.useEffect(()=>{(async()=>{try{const{data:L,error:H}=await Ks.from("teams").select("id, team_name");if(H){console.error("Error loading teams:",H);return}const B=new Map;(L||[]).forEach(V=>{B.set(V.id,V.team_name)}),T(B)}catch(L){console.error("Error setting up team lookup:",L)}})()},[]),h.useEffect(()=>{(async()=>{m(!0),j(null);try{const L={search:g,position:x,is_rostered:w==="rostered"?!0:w==="free_agent"?!1:""},{data:H,count:B}=await X6(L,c,u);i(H||[]),l(B||0),n({title:"Players Loaded",description:`Found ${B||0} players for ${e} season`})}catch(L){const H=L instanceof Error?L.message:"Failed to fetch players";j(H),n({title:"Error",description:H,variant:"destructive"})}finally{m(!1)}})()},[g,x,w,c,e,t]);const $=I=>{switch(I){case"QB":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"RB":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"WR":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"TE":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},F=(I,L)=>{if(L){const H={IR:"destructive",O:"destructive",D:"destructive",Q:"secondary",P:"outline"};return r.jsx(ne,{variant:H[L]||"outline",className:"text-xs",children:L})}return I?r.jsx(ne,{variant:"default",className:"text-xs",children:"Rostered"}):r.jsx(ne,{variant:"outline",className:"text-xs",children:"FA"})},W=I=>!I||I.length===0?null:r.jsx("div",{className:"flex flex-col gap-1",children:I.map(L=>{const H=b.get(L)||`Team ${L}`;return r.jsx(ns,{to:`/teams/${L}`,children:r.jsx(ne,{variant:"outline",className:"text-xs hover:bg-primary hover:text-primary-foreground cursor-pointer transition-colors",children:H})},L)})});return f&&a.length===0?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Bt,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Loading Players"}),r.jsx("p",{className:"text-muted-foreground",children:"Fetching player data..."})]})}):v&&a.length===0?r.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:r.jsxs(q,{className:"w-full max-w-md",children:[r.jsx(ie,{children:r.jsx(de,{className:"flex items-center gap-2 text-destructive",children:"Error Loading Players"})}),r.jsxs(G,{className:"space-y-4",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:v}),r.jsx(J,{onClick:()=>window.location.reload(),className:"w-full",children:"Retry"})]})]})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Co,{className:"h-6 w-6 text-primary"}),r.jsx("h1",{className:"text-3xl font-bold",children:"Players"})]}),r.jsxs("p",{className:"text-muted-foreground",children:[e," Season  ",o," players"]})]}),r.jsxs(kr,{value:N,onValueChange:E,className:"w-full",children:[r.jsxs(or,{className:"grid w-full grid-cols-2",children:[r.jsxs(Ue,{value:"all-players",className:"flex items-center gap-2",children:[r.jsx(Co,{className:"h-4 w-4"}),"All Players"]}),r.jsxs(Ue,{value:"trending",className:"flex items-center gap-2",children:[r.jsx(Ia,{className:"h-4 w-4"}),"Trending Players"]})]}),r.jsxs(ze,{value:"all-players",className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Zx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(Jt,{placeholder:"Search players...",value:g,onChange:I=>{y(I.target.value),d(1)},className:"pl-10"})]}),r.jsxs(At,{value:x,onValueChange:I=>{p(I),d(1)},children:[r.jsx(St,{children:r.jsx($t,{placeholder:"All Positions"})}),r.jsxs(Nt,{children:[r.jsx(Le,{value:"all",children:"All Positions"}),R.map(I=>r.jsx(Le,{value:I,children:I},I))]})]}),r.jsxs(At,{value:w,onValueChange:I=>{_(I),d(1)},children:[r.jsx(St,{children:r.jsx($t,{placeholder:"All Status"})}),r.jsxs(Nt,{children:[r.jsx(Le,{value:"all",children:"All Status"}),r.jsx(Le,{value:"rostered",children:"Rostered"}),r.jsx(Le,{value:"free_agent",children:"Free Agent"})]})]})]}),r.jsx(q,{children:r.jsxs(G,{className:"pt-6",children:[r.jsx("div",{className:"rounded-md border",children:r.jsxs(Ss,{children:[r.jsx(Ns,{children:r.jsxs(Me,{children:[r.jsx(ue,{children:"Player"}),r.jsx(ue,{children:"Pos"}),r.jsx(ue,{className:"hidden sm:table-cell",children:"NFL Team"}),r.jsx(ue,{className:"text-right",children:"Points"}),r.jsx(ue,{className:"text-right hidden md:table-cell",children:"Avg"}),r.jsx(ue,{children:"Status"}),r.jsx(ue,{className:"hidden lg:table-cell",children:"Rostered By"}),r.jsx(ue,{className:"w-10"})]})}),r.jsx(Cs,{children:f?r.jsx(Me,{children:r.jsx(oe,{colSpan:8,className:"text-center py-8",children:r.jsx(Bt,{className:"h-6 w-6 animate-spin mx-auto"})})}):a.length===0?r.jsx(Me,{children:r.jsx(oe,{colSpan:8,className:"text-center py-8",children:"No players found."})}):a.map(I=>r.jsxs(Me,{children:[r.jsx(oe,{children:r.jsx("div",{className:"font-medium",children:I.player_name})}),r.jsx(oe,{children:r.jsx(ne,{className:$(I.position),children:I.position})}),r.jsx(oe,{className:"hidden sm:table-cell",children:I.nfl_team||"FA"}),r.jsx(oe,{className:"text-right font-mono",children:I.total_points.toFixed(1)}),r.jsx(oe,{className:"text-right font-mono hidden md:table-cell",children:I.avg_points.toFixed(1)}),r.jsx(oe,{children:F(I.is_rostered,I.injury_status)}),r.jsx(oe,{className:"hidden lg:table-cell",children:W(I.rostered_by_teams)}),r.jsx(oe,{children:r.jsx(ns,{to:`/players/${I.sleeper_id}`,children:r.jsx(J,{variant:"ghost",size:"sm",children:r.jsx(sd,{className:"h-4 w-4"})})})})]},I.id))})]})}),r.jsxs("div",{className:"flex items-center justify-between space-x-2 py-4",children:[r.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",Math.min((c-1)*u+1,o)," to ",Math.min(c*u,o)," of ",o," players"]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(J,{variant:"outline",size:"sm",onClick:()=>d(I=>Math.max(1,I-1)),disabled:c===1,children:"Previous"}),r.jsxs("span",{className:"text-sm",children:["Page ",c," of ",Math.ceil(o/u)]}),r.jsx(J,{variant:"outline",size:"sm",onClick:()=>d(I=>I+1),disabled:c*u>=o,children:"Next"})]})]})]})})]}),r.jsx(ze,{value:"trending",className:"space-y-6",children:r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsxs(de,{className:"flex items-center gap-2",children:[r.jsx(Ia,{className:"h-5 w-5"}),"Trending Players (Last 24 Hours)"]}),r.jsx(Se,{children:"Most added players across all Sleeper leagues in the past 24 hours"})]}),r.jsx(G,{className:"flex justify-center",children:r.jsx("iframe",{src:"https://sleeper.app/embed/players/nfl/trending/add?lookback_hours=24&limit=25",width:"350",height:"500",allowTransparency:!0,frameBorder:"0",className:"rounded-lg border",title:"Trending Players"})})]})})]})]})};var Iv="Progress",Ov=100,[eB,AH]=_n(Iv),[tB,sB]=eB(Iv),uT=h.forwardRef((e,t)=>{const{__scopeProgress:s,value:n=null,max:a,getValueLabel:i=nB,...o}=e;(a||a===0)&&!Q0(a)&&console.error(rB(`${a}`,"Progress"));const l=Q0(a)?a:Ov;n!==null&&!J0(n,l)&&console.error(aB(`${n}`,"Progress"));const c=J0(n,l)?n:null,d=hf(c)?i(c,l):void 0;return r.jsx(tB,{scope:s,value:c,max:l,children:r.jsx(be.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":hf(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":mT(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});uT.displayName=Iv;var fT="ProgressIndicator",hT=h.forwardRef((e,t)=>{const{__scopeProgress:s,...n}=e,a=sB(fT,s);return r.jsx(be.div,{"data-state":mT(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});hT.displayName=fT;function nB(e,t){return`${Math.round(e/t*100)}%`}function mT(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function hf(e){return typeof e=="number"}function Q0(e){return hf(e)&&!isNaN(e)&&e>0}function J0(e,t){return hf(e)&&!isNaN(e)&&e<=t&&e>=0}function rB(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Ov}\`.`}function aB(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Ov} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var pT=uT,iB=hT;const gr=h.forwardRef(({className:e,value:t,...s},n)=>r.jsx(pT,{ref:n,className:we("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",e),...s,children:r.jsx(iB,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));gr.displayName=pT.displayName;const oB=()=>{const{playerId:e}=vv(),{selectedSeason:t,selectedConference:s,currentSeasonConfig:n}=Bs(),{toast:a}=gs(),[i,o]=h.useState("overview"),[l,c]=h.useState(null),[d,u]=h.useState(!0),[f,m]=h.useState(null),v=async()=>{if(!(!e||!n))try{u(!0),m(null),console.log("Fetching player detail for ID:",e);const x=await Y.getPlayers({filters:[{column:"sleeper_id",operator:"eq",value:e},{column:"playing_status",operator:"eq",value:"Active"},{column:"position",operator:"in",value:["QB","RB","WR","TE"]}]});if(x.error||!x.data||x.data.length===0)throw new Error("Player not found or not active");const p=x.data[0];console.log("Found player:",p);let w=n.conferences;s&&s!=="all"&&(w=n.conferences.filter(B=>B.id===s));const _=w.filter(B=>B.dbConferenceId).map(B=>B.dbConferenceId);if(_.length===0)throw new Error("No valid conference IDs found");const b=await Y.getTeamConferenceJunctions({filters:[{column:"conference_id",operator:"in",value:_}]});if(b.error||!b.data)throw new Error("Failed to fetch team mappings");const T=[...new Set(b.data.map(B=>B.team_id))],N=await Y.getTeams({filters:[{column:"id",operator:"in",value:T}]});if(N.error||!N.data)throw new Error("Failed to fetch teams");const E=await Promise.all(w.map(async B=>{try{if(!B.leagueId)return console.warn(`No league ID for conference ${B.name}`),{conference:B,rosters:[]};const V=await Oe.fetchLeagueRosters(B.leagueId);return{conference:B,rosters:V}}catch(V){return console.warn(`Failed to fetch rosters for conference ${B.name}:`,V),{conference:B,rosters:[]}}})),R=[];E.forEach(({conference:B,rosters:V})=>{V.forEach(S=>{var P,k;if(S.players&&S.players.includes(e)){const C=(P=b.data)==null?void 0:P.find(A=>A.conference_id===B.dbConferenceId&&A.roster_id===S.roster_id);if(C){const A=(k=N.data)==null?void 0:k.find(M=>M.id===C.team_id);A&&R.push({conference_id:B.dbConferenceId,conference_name:B.name,team_id:A.id,team_name:A.team_name,owner_name:A.owner_name,roster_id:S.roster_id,league_id:B.leagueId})}}})});const $=[],F=j(),W=[...new Set(R.map(B=>B.league_id))];for(const B of W){const V=R.find(S=>S.league_id===B);if(V)for(let S=1;S<=Math.min(F,17);S++)try{const k=(await Oe.fetchMatchups(B,S)).find(C=>C.players&&C.players.includes(e));if(k&&k.players_points){const C=k.players_points[e]||0;$.push({week:S,points:C,league_id:B,conference_name:V.conference_name})}}catch(P){console.warn(`Failed to fetch matchup data for league ${B}, week ${S}:`,P)}}const I={totalPoints:$.reduce((B,V)=>B+V.points,0),gamesPlayed:$.length,bestGame:$.length>0?Math.max(...$.map(B=>B.points)):0,worstGame:$.length>0?Math.min(...$.map(B=>B.points)):0,avgPoints:0,consistency:0,weeklyPerformance:$};if(I.avgPoints=I.gamesPlayed>0?I.totalPoints/I.gamesPlayed:0,I.gamesPlayed>1){const B=I.avgPoints,V=$.reduce((k,C)=>k+Math.pow(C.points-B,2),0)/I.gamesPlayed,S=Math.sqrt(V),P=B>0?S/B:0;I.consistency=Math.max(0,100-P*100)}let L;R.length===0?L="free_agent":R.length===1?L="rostered":L="multi_rostered";const H={id:p.id,sleeper_id:p.sleeper_id,player_name:p.player_name,position:p.position,nfl_team:p.nfl_team||"FA",number:p.number||0,age:p.age||0,height:p.height||0,weight:p.weight||0,college:p.college||"Unknown",playing_status:p.playing_status||"Active",injury_status:p.injury_status,depth_chart:p.depth_chart||1,rostered_by:R,availability_status:L,season_stats:I};c(H),console.log("Loaded player detail:",H),a({title:"Player Loaded",description:`Found ${H.player_name} with ${I.gamesPlayed} games of data`})}catch(x){console.error("Error fetching player data:",x);const p=x instanceof Error?x.message:"Failed to fetch player data";m(p),a({title:"Error Loading Player",description:p,variant:"destructive"})}finally{u(!1)}};h.useEffect(()=>{e&&n&&v()},[e,t,s,n]);const j=()=>{const x=new Date,p=new Date(x.getFullYear(),8,1),w=Math.floor((x.getTime()-p.getTime())/(7*24*60*60*1e3));return Math.min(Math.max(w+1,1),17)},g=x=>{switch(x){case"QB":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"RB":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"WR":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"TE":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},y=x=>{if(!x||x==="Healthy")return null;const p={IR:"destructive",Out:"destructive",Doubtful:"destructive",Questionable:"secondary",Probable:"secondary",Q:"secondary",D:"destructive",O:"destructive"};return r.jsx(ne,{variant:p[x]||"outline",children:x})};return d?r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Bt,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Loading player data..."})]})}):f?r.jsxs("div",{className:"space-y-6",children:[r.jsx(ns,{to:"/players",children:r.jsxs(J,{variant:"ghost",className:"mb-4",children:[r.jsx(Aa,{className:"mr-2 h-4 w-4"}),"Back to Players"]})}),r.jsxs(Ye,{variant:"destructive",children:[r.jsx(et,{className:"h-4 w-4"}),r.jsx(Qe,{children:f})]}),r.jsx("div",{className:"text-center",children:r.jsxs(J,{onClick:v,variant:"outline",children:[r.jsx(it,{className:"mr-2 h-4 w-4"}),"Try Again"]})})]}):l?r.jsxs("div",{className:"space-y-6",children:[r.jsx(ns,{to:"/players",children:r.jsxs(J,{variant:"ghost",className:"mb-4",children:[r.jsx(Aa,{className:"mr-2 h-4 w-4"}),"Back to Players"]})}),r.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between space-y-4 md:space-y-0",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"h-16 w-16 bg-primary/10 rounded-full flex items-center justify-center",children:r.jsx(WD,{className:"h-8 w-8 text-primary"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:l.player_name}),r.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[r.jsx(ne,{className:g(l.position),children:l.position}),r.jsxs(ne,{variant:"outline",children:[l.nfl_team," #",l.number]}),y(l.injury_status)]}),r.jsxs("p",{className:"text-muted-foreground mt-1",children:[l.age," years old  ",l.height,'"", ',l.weight," lbs  ",l.college]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:l.season_stats.totalPoints.toFixed(1)}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Points"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:l.season_stats.avgPoints.toFixed(1)}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg/Game"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:l.season_stats.bestGame.toFixed(1)}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Best Game"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"text-2xl font-bold",children:[l.season_stats.consistency.toFixed(0),"%"]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Consistency"})]})]})]}),l.rostered_by.length>0&&r.jsx(q,{children:r.jsx(G,{className:"pt-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Currently rostered by:"}),l.rostered_by.map((x,p)=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("p",{className:"font-semibold",children:x.team_name}),r.jsx("span",{className:"text-muted-foreground",children:""}),r.jsx("p",{className:"text-muted-foreground",children:x.owner_name})]}),l.rostered_by.length>1&&r.jsx("p",{className:"text-sm text-blue-600",children:x.conference_name})]}),r.jsx(ns,{to:`/teams/${x.team_id}`,children:r.jsx(J,{variant:"outline",size:"sm",children:"View Team"})})]},p))]})})}),r.jsxs(kr,{value:i,onValueChange:o,className:"w-full",children:[r.jsxs(or,{className:"grid w-full grid-cols-3",children:[r.jsx(Ue,{value:"overview",children:"Overview"}),r.jsx(Ue,{value:"performance",children:"Performance"}),r.jsx(Ue,{value:"details",children:"Details"})]}),r.jsx(ze,{value:"overview",className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs(q,{children:[r.jsx(ie,{children:r.jsxs(de,{className:"flex items-center space-x-2",children:[r.jsx(xt,{className:"h-5 w-5"}),r.jsx("span",{children:"Season Summary"})]})}),r.jsxs(G,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Fantasy Points"}),r.jsx("p",{className:"text-2xl font-bold",children:l.season_stats.totalPoints.toFixed(1)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Games Played"}),r.jsx("p",{className:"text-2xl font-bold",children:l.season_stats.gamesPlayed})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Best Game"}),r.jsx("p",{className:"text-2xl font-bold",children:l.season_stats.bestGame.toFixed(1)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Consistency"}),r.jsxs("p",{className:"text-2xl font-bold",children:[l.season_stats.consistency.toFixed(0),"%"]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:"Availability Status"}),r.jsx("span",{className:"capitalize",children:l.availability_status.replace("_"," ")})]}),r.jsx(gr,{value:l.availability_status==="multi_rostered"?100:l.availability_status==="rostered"?75:25,className:"h-2"})]})]})]}),r.jsxs(q,{children:[r.jsx(ie,{children:r.jsx(de,{children:"Player Info"})}),r.jsx(G,{className:"space-y-3",children:r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"Position"}),r.jsx("p",{className:"font-medium",children:l.position})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"NFL Team"}),r.jsx("p",{className:"font-medium",children:l.nfl_team})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"Number"}),r.jsxs("p",{className:"font-medium",children:["#",l.number]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"Depth Chart"}),r.jsx("p",{className:"font-medium",children:l.depth_chart})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"Height"}),r.jsxs("p",{className:"font-medium",children:[l.height,'""']})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"Weight"}),r.jsxs("p",{className:"font-medium",children:[l.weight," lbs"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"College"}),r.jsx("p",{className:"font-medium",children:l.college})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"Age"}),r.jsx("p",{className:"font-medium",children:l.age})]})]})})]})]})}),r.jsx(ze,{value:"performance",className:"space-y-4",children:r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsxs(de,{className:"flex items-center space-x-2",children:[r.jsx(Ia,{className:"h-5 w-5"}),r.jsx("span",{children:"Weekly Performance"})]}),r.jsx(Se,{children:"Fantasy points by week across all leagues"})]}),r.jsx(G,{children:l.season_stats.weeklyPerformance.length>0?r.jsx("div",{className:"rounded-md border",children:r.jsxs(Ss,{children:[r.jsx(Ns,{children:r.jsxs(Me,{children:[r.jsx(ue,{children:"Week"}),r.jsx(ue,{children:"Conference"}),r.jsx(ue,{className:"text-right",children:"Points"})]})}),r.jsx(Cs,{children:l.season_stats.weeklyPerformance.sort((x,p)=>p.week-x.week).slice(0,10).map((x,p)=>r.jsxs(Me,{children:[r.jsxs(oe,{className:"font-medium",children:["Week ",x.week]}),r.jsx(oe,{children:x.conference_name}),r.jsx(oe,{className:"text-right font-mono",children:x.points.toFixed(1)})]},p))})]})}):r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-muted-foreground",children:"No performance data available"})})})]})}),r.jsxs(ze,{value:"details",className:"space-y-4",children:[r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsx(de,{children:"Roster Information"}),r.jsx(Se,{children:"Current roster status across all conferences"})]}),r.jsx(G,{children:l.rostered_by.length>0?r.jsx("div",{className:"space-y-4",children:l.rostered_by.map((x,p)=>r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"font-semibold",children:x.team_name}),r.jsx(ne,{variant:"secondary",className:TE(x.conference_name),children:x.conference_name})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"Owner"}),r.jsx("p",{className:"font-medium",children:x.owner_name})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"Roster ID"}),r.jsx("p",{className:"font-medium",children:x.roster_id})]})]})]},p))}):r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-muted-foreground",children:"Player is currently a free agent"})})})]}),l.injury_status&&r.jsxs(q,{children:[r.jsx(ie,{children:r.jsxs(de,{className:"flex items-center space-x-2",children:[r.jsx(et,{className:"h-5 w-5 text-yellow-600"}),r.jsx("span",{children:"Injury Status"})]})}),r.jsx(G,{children:r.jsxs("div",{className:"flex items-start space-x-3 p-4 border rounded-lg bg-yellow-50 dark:bg-yellow-900/20",children:[r.jsx(et,{className:"h-5 w-5 text-yellow-600 mt-0.5"}),r.jsxs("div",{children:[r.jsxs("h4",{className:"font-semibold text-yellow-800 dark:text-yellow-200",children:["Status: ",l.injury_status]}),r.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"Player is currently listed with an injury designation. Monitor status updates."})]})]})})]})]})]})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsx(ns,{to:"/players",children:r.jsxs(J,{variant:"ghost",className:"mb-4",children:[r.jsx(Aa,{className:"mr-2 h-4 w-4"}),"Back to Players"]})}),r.jsxs(Ye,{children:[r.jsx(et,{className:"h-4 w-4"}),r.jsx(Qe,{children:"Player not found or not available in the current season configuration."})]})]})},lB=()=>{var b,T,N;const{toast:e}=gs(),{selectedConference:t,currentSeasonConfig:s,loading:n,error:a}=Bs(),[i,o]=h.useState([]),[l,c]=h.useState([]),[d,u]=h.useState(!0),[f,m]=h.useState(null),[v,j]=h.useState({team:"all",player:"",type:"all",conference:"all"}),g=async()=>{if(!s){u(!1);return}try{u(!0),m(null);const E=t==="all"||t===null?s.conferences:s.conferences.filter(B=>B.id===t),R=E.filter(B=>B.dbConferenceId).map(B=>B.dbConferenceId);if(R.length===0){o([]),c([]);return}const $=await Y.getTransactions({filters:[{column:"conference_id",operator:"in",value:R}],orderBy:{column:"created_at",ascending:!1}});if($.error||!$.data)throw new Error($.error||"Failed to fetch transactions");const F=await Y.getTeams({}),W=await Y.getTeamConferenceJunctions({filters:[{column:"conference_id",operator:"in",value:R}]}),I=await Y.getAllPlayersForMapping([{column:"playing_status",operator:"eq",value:"Active"},{column:"position",operator:"in",value:["QB","RB","WR","TE"]}]),L=new Map;I.forEach(B=>{B.sleeper_id&&L.set(String(B.sleeper_id),B.player_name)});const H=await Promise.all($.data.map(async B=>{let V={};try{V=typeof B.data=="string"?JSON.parse(B.data):B.data||{}}catch(O){console.warn("Failed to parse transaction data:",O)}const S=E.find(O=>O.dbConferenceId===B.conference_id),P=O=>{var X;const ae=(X=W.data)==null?void 0:X.find(ee=>ee.roster_id.toString()===O.toString()&&ee.conference_id===B.conference_id);if(ae&&F.data){const ee=F.data.find(ce=>ce.id===ae.team_id);return(ee==null?void 0:ee.team_name)||"Unknown Team"}return"Unknown Team"};let k="Unknown Team";V.roster_ids&&V.roster_ids.length>0&&(k=P(V.roster_ids[0]));const C=[],A=[],M=O=>{const ae=String(O);return L.get(ae)||`Player ${ae}`};if(V.adds)for(const[O,ae]of Object.entries(V.adds)){const X=M(O),ee=P(ae);C.push({name:X,team:ee})}if(V.drops)for(const[O,ae]of Object.entries(V.drops)){const X=M(O),ee=P(ae);A.push({name:X,team:ee})}let D="";const Q=V.type||B.type,K=new Set;switch(V.roster_ids&&V.roster_ids.forEach(O=>{const ae=P(O);ae!=="Unknown Team"&&K.add(ae)}),Q){case"trade":if(C.length>0||A.length>0){const O=[];C.forEach(ae=>O.push(`${ae.name} to ${ae.team}`)),A.forEach(ae=>O.push(`${ae.name} from ${ae.team}`)),K.size>1?D=`Trade between ${Array.from(K).join(" and ")}: ${O.join(", ")}`:D=`${k} trade: ${O.join(", ")}`}else V.draft_picks&&V.draft_picks.length>0?D=`Trade involving ${V.draft_picks.map(ae=>`${ae.season} Round ${ae.round} pick`).join(", ")}`:D=`Trade between ${Array.from(K).join(" and ")}`;break;case"waiver":C.length>0&&A.length>0?D=`${k} claimed ${C.map(O=>O.name).join(", ")} from waivers, dropped ${A.map(O=>O.name).join(", ")}`:C.length>0?D=`${k} claimed ${C.map(O=>O.name).join(", ")} from waivers`:A.length>0?D=`${k} dropped ${A.map(O=>O.name).join(", ")} to waivers`:D=`${k} made a waiver claim`;break;case"free_agent":C.length>0&&A.length>0?D=`${k} added ${C.map(O=>O.name).join(", ")}, dropped ${A.map(O=>O.name).join(", ")}`:C.length>0?D=`${k} added ${C.map(O=>O.name).join(", ")} from free agency`:A.length>0?D=`${k} dropped ${A.map(O=>O.name).join(", ")}`:D=`${k} made a free agent transaction`;break;default:D=`${k} completed a ${Q||"transaction"}`}const z=V.type==="trade"?"trade":V.type==="waiver"?"waiver":V.type==="free_agent"?"free_agent":"commissioner";return{id:B.id.toString(),type:z,date:new Date(B.created_at||new Date),details:D,teams:[k],players:{added:C.map(O=>({id:"",name:O.name,team:O.team})),dropped:A.map(O=>({id:"",name:O.name,team:O.team}))},week:V.leg||0,status:"completed",rosterIds:V.roster_ids||[],draftPicks:V.draft_picks||[],waiverBudget:V.waiver_budget||[],conference:(S==null?void 0:S.name)||"Unknown Conference",conferenceId:B.conference_id.toString()}}));o(H),c(H)}catch(E){console.error("Error fetching transactions:",E),m("Failed to load transactions. Please try again."),e({title:"Error",description:"Failed to load transactions. Please try again.",variant:"destructive"})}finally{u(!1)}},y=()=>{let E=[...i];v.team&&v.team!=="all"&&(E=E.filter(R=>R.teams.some($=>$.toLowerCase().includes(v.team.toLowerCase())))),v.player&&(E=E.filter(R=>{const $=R.players.added||[],F=R.players.dropped||[];return[...$,...F].some(W=>W.name.toLowerCase().includes(v.player.toLowerCase()))})),v.type&&v.type!=="all"&&(E=E.filter(R=>R.type===v.type)),v.conference&&v.conference!=="all"&&(E=E.filter(R=>R.conferenceId===v.conference)),c(E)},x=()=>{j({team:"all",player:"",type:"all",conference:"all"})},p=(E,R)=>{j($=>({...$,[E]:R}))};h.useEffect(()=>{g()},[s,t]),h.useEffect(()=>{y()},[v,i]);const w=()=>{const E=new Set(i.map(R=>R.type));return Array.from(E).filter(R=>R&&R.trim()!=="")},_=()=>{const E=new Set;return i.forEach(R=>{R.teams.forEach($=>{$&&$.trim()!==""&&E.add($)})}),Array.from(E).sort()};return n?r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Transactions"}),r.jsx("p",{className:"text-muted-foreground",children:"All roster moves and trades across conferences"})]})}),r.jsx("div",{className:"grid gap-4",children:[...Array(5)].map((E,R)=>r.jsx(q,{className:"animate-pulse",children:r.jsxs(G,{className:"p-6",children:[r.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),r.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]})},R))})]}):a?r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Transactions"}),r.jsx("p",{className:"text-muted-foreground",children:"All roster moves and trades across conferences"})]})}),r.jsx(Ye,{variant:"destructive",children:r.jsxs(Qe,{children:["App Error: ",a]})})]}):s?d?r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Transactions"}),r.jsx("p",{className:"text-muted-foreground",children:"All roster moves and trades across conferences"})]})}),r.jsx("div",{className:"grid gap-4",children:[...Array(5)].map((E,R)=>r.jsx(q,{className:"animate-pulse",children:r.jsxs(G,{className:"p-6",children:[r.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),r.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]})},R))})]}):f?r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Transactions"}),r.jsx("p",{className:"text-muted-foreground",children:"All roster moves and trades across conferences"})]})}),r.jsx(Ye,{variant:"destructive",children:r.jsx(Qe,{children:f})}),r.jsxs(J,{onClick:g,className:"w-full",children:[r.jsx(it,{className:"mr-2 h-4 w-4"}),"Try Again"]})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Transactions"}),r.jsx("p",{className:"text-muted-foreground",children:"All roster moves and trades across conferences"})]}),r.jsxs(J,{onClick:g,variant:"outline",size:"sm",children:[r.jsx(it,{className:"mr-2 h-4 w-4"}),"Refresh"]})]}),r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsxs(de,{className:"flex items-center space-x-2",children:[r.jsx(EN,{className:"h-5 w-5"}),r.jsx("span",{children:"Filters"})]}),r.jsx(Se,{children:"Filter transactions by team, player, type, or conference"})]}),r.jsxs(G,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Team"}),r.jsxs(At,{value:v.team,onValueChange:E=>p("team",E),children:[r.jsx(St,{children:r.jsx($t,{placeholder:"All teams"})}),r.jsxs(Nt,{children:[r.jsx(Le,{value:"all",children:"All teams"}),_().filter(E=>E&&E.trim()!=="").map(E=>r.jsx(Le,{value:E,children:E},E))]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Player"}),r.jsxs("div",{className:"relative",children:[r.jsx(Zx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(Jt,{placeholder:"Search players...",value:v.player,onChange:E=>p("player",E.target.value),className:"pl-10"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Type"}),r.jsxs(At,{value:v.type,onValueChange:E=>p("type",E),children:[r.jsx(St,{children:r.jsx($t,{placeholder:"All types"})}),r.jsxs(Nt,{children:[r.jsx(Le,{value:"all",children:"All types"}),w().filter(E=>E&&E.trim()!=="").map(E=>r.jsx(Le,{value:E,children:E==="trade"?"Trade":E==="free_agent"?"Free Agent":E==="waiver"?"Waiver":E==="commissioner"?"Commissioner":E},E))]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Conference"}),r.jsxs(At,{value:v.conference,onValueChange:E=>p("conference",E),children:[r.jsx(St,{children:r.jsx($t,{placeholder:"All conferences"})}),r.jsxs(Nt,{children:[r.jsx(Le,{value:"all",children:"All conferences"}),(b=s==null?void 0:s.conferences)==null?void 0:b.filter(E=>{var $;const R=(($=E.dbConferenceId)==null?void 0:$.toString())||E.id;return R&&R.trim()!==""}).map(E=>{var $;const R=(($=E.dbConferenceId)==null?void 0:$.toString())||E.id;return r.jsx(Le,{value:R,children:E.name},R)})]})]})]})]}),r.jsxs("div",{className:"flex items-center justify-between mt-4",children:[r.jsx("div",{className:"flex items-center space-x-2",children:(v.team!=="all"||v.player!==""||v.type!=="all"||v.conference!=="all")&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Active filters:"}),v.team!=="all"&&r.jsxs(ne,{variant:"secondary",children:["Team: ",v.team]}),v.player!==""&&r.jsxs(ne,{variant:"secondary",children:["Player: ",v.player]}),v.type!=="all"&&r.jsxs(ne,{variant:"secondary",children:["Type: ",v.type]}),v.conference!=="all"&&r.jsxs(ne,{variant:"secondary",children:["Conference: ",(N=(T=s==null?void 0:s.conferences)==null?void 0:T.filter(E=>{var $;const R=(($=E.dbConferenceId)==null?void 0:$.toString())||E.id;return R&&R.trim()!==""}).find(E=>{var R;return((R=E.dbConferenceId)==null?void 0:R.toString())===v.conference}))==null?void 0:N.name]})]})}),(v.team!=="all"||v.player!==""||v.type!=="all"||v.conference!=="all")&&r.jsx(J,{variant:"outline",size:"sm",onClick:x,children:"Reset Filters"})]})]})]}),r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ri,{className:"h-5 w-5 text-primary"}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:["Showing ",l.length," of ",i.length," transactions"]})]})}),r.jsx("div",{className:"space-y-4",children:l.length>0?l.map((E,R)=>r.jsx(dT,{transaction:E},R)):r.jsx(q,{children:r.jsxs(G,{className:"p-12 text-center",children:[r.jsx(Ri,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No transactions found"}),r.jsx("p",{className:"text-muted-foreground",children:v.team!=="all"||v.player!==""||v.type!=="all"||v.conference!=="all"?"No transactions match your current filters. Try adjusting your search criteria.":"No transactions available at this time."}),(v.team!=="all"||v.player!==""||v.type!=="all"||v.conference!=="all")&&r.jsx(J,{variant:"outline",onClick:x,className:"mt-4",children:"Clear Filters"})]})})})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Transactions"}),r.jsx("p",{className:"text-muted-foreground",children:"All roster moves and trades across conferences"})]})}),r.jsx("div",{className:"grid gap-4",children:[...Array(5)].map((E,R)=>r.jsx(q,{className:"animate-pulse",children:r.jsxs(G,{className:"p-6",children:[r.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),r.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]})},R))})]})},cB=()=>{var V;const{selectedSeason:e,selectedConference:t}=Bs(),{toast:s}=gs(),[n,a]=h.useState(1),[i,o]=h.useState("board"),[l,c]=h.useState(!0),[d,u]=h.useState([]),[f,m]=h.useState([]),[v,j]=h.useState([]),[g,y]=h.useState({}),[x,p]=h.useState([]),[w,_]=h.useState(!1),[b,T]=h.useState(new Set);h.useEffect(()=>{N()},[]),h.useEffect(()=>{e&&v.length>0&&f.length>0&&x.length>0&&Object.keys(g).length>0&&E()},[e,t,v,f,x,g]);const N=async()=>{c(!0);try{const S=await Y.getSeasons({orderBy:{column:"season_year",ascending:!1},limit:50});if(S.error)throw S.error;j(S.data||[]);const P=await Y.getConferences({orderBy:{column:"conference_name",ascending:!0},limit:50});if(P.error)throw P.error;m(P.data||[]);const k=await Y.getTeams({orderBy:{column:"team_name",ascending:!0},limit:100});if(k.error)throw k.error;p(k.data||[]);try{const C=await Y.getAllPlayersForMapping(),A={};C.forEach(M=>{M.sleeper_id&&(A[M.sleeper_id]=M)}),y(A),console.log(` Loaded ${Object.keys(A).length} players from database (${C.length} total players)`)}catch(C){console.warn("Could not load players data from database:",C),y({})}}catch(S){console.error("Error loading initial data:",S),s({title:"Error",description:`Failed to load initial data: ${S}`,variant:"destructive"})}finally{c(!1)}},E=async()=>{var S;if(!e){console.log(" No selectedSeason, skipping draft data load");return}if(v.length===0){console.log(" Seasons not loaded yet, skipping draft data load");return}if(f.length===0){console.log(" Conferences not loaded yet, skipping draft data load");return}if(x.length===0){console.log(" Teams not loaded yet, skipping draft data load");return}if(Object.keys(g).length===0){console.log(" Players not loaded yet, skipping draft data load");return}_(!0);try{if(console.log(` Loading draft data for season ${e}, conference: ${t||"all"}`),console.log(` Available data: seasons=${v.length}, conferences=${f.length}, teams=${x.length}, players=${Object.keys(g).length}`),!v.find(D=>D.season_year===e.toString())){console.warn(` Season ${e} not found in database`),console.log("Available seasons:",v.map(D=>D.season_year)),u([]);return}const k=[{column:"draft_year",operator:"eq",value:e.toString()}];console.log(" Draft query filters:",k);const C=await Y.getDraftResults({filters:k,orderBy:{column:"pick_number",ascending:!0},limit:1e3});if(C.error)throw C.error;console.log(` Loaded ${((S=C.data)==null?void 0:S.length)||0} draft picks`);const A=C.data||[],M=A.map(D=>{const Q=f.find(O=>O.league_id===D.league_id),K=g[D.sleeper_id],z=x.find(O=>O.owner_id===D.owner_id);return A.indexOf(D)<3&&console.log(` Processing pick ${D.pick_number}:`,{sleeper_id:D.sleeper_id,player_found:!!K,player_name:K==null?void 0:K.player_name,conference_found:!!Q,team_found:!!z}),{...D,conference_name:(Q==null?void 0:Q.conference_name)||"Unknown Conference",player_name:(K==null?void 0:K.player_name)||"Unknown Player",position:(K==null?void 0:K.position)||"UNK",nfl_team:(K==null?void 0:K.nfl_team)||"UNK",owner_name:(z==null?void 0:z.owner_name)||"Unknown Owner",team_name:(z==null?void 0:z.team_name)||"Unknown Team",conference_id:Q==null?void 0:Q.id,team_id:z==null?void 0:z.id,player_id:D.sleeper_id}});console.log(` Processed ${M.length} draft picks`),console.log("First few picks:",M.slice(0,3)),u(M)}catch(P){console.error("Error loading draft data:",P),s({title:"Error",description:`Failed to load draft data: ${P}`,variant:"destructive"}),u([])}finally{_(!1)}},R=S=>{const P=new Set(b);P.has(S)?P.delete(S):P.add(S),T(P)},$=()=>{if(!t){const A=v.find(D=>D.season_year===e.toString());if(!A)return console.log(" Season not found for getConferencesToShow"),[];const M=f.filter(D=>D.season_id===A.id);return console.log(` Showing ${M.length} conferences for season ${e}`),M}const P={thelegionsofmars:"The Legions of Mars",theguardiansofjupiter:"The Guardians of Jupiter",vulcansoathsworn:"Vulcan's Oathsworn"}[t];if(!P)return console.log(` Unknown conference ID: ${t}`),[];const k=v.find(A=>A.season_year===e.toString());if(!k)return console.log(" Season not found for specific conference"),[];const C=f.find(A=>A.season_id===k.id&&A.conference_name===P);return console.log(` Selected conference: ${P}, found: ${C?"yes":"no"}`),C?[C]:[]},F=S=>{switch(S){case"QB":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"RB":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"WR":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"TE":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"K":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200";case"DEF":return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},W=S=>{let k=d.filter(C=>C.conference_id===S.id).filter(C=>parseInt(C.round)===n);return k.sort((C,A)=>parseInt(C.draft_slot)-parseInt(A.draft_slot)),r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsxs(de,{className:"flex items-center space-x-2",children:[r.jsx(Ec,{className:"h-5 w-5"}),r.jsx("span",{children:S.conference_name})]}),r.jsxs(Se,{children:["Round ",n,"  ",k.length," picks"]})]}),r.jsx(G,{children:r.jsx("div",{className:"rounded-md border",children:r.jsxs(Ss,{children:[r.jsx(Ns,{children:r.jsxs(Me,{children:[r.jsx(ue,{className:"w-16",children:"Pick"}),r.jsx(ue,{className:"w-16",children:"Overall"}),r.jsx(ue,{children:"Player"}),r.jsx(ue,{children:"Position"}),r.jsx(ue,{className:"hidden sm:table-cell",children:"NFL Team"}),r.jsx(ue,{children:"Drafted By"})]})}),r.jsx(Cs,{children:k.length>0?k.map(C=>r.jsxs(Me,{children:[r.jsx(oe,{className:"font-medium",children:C.draft_slot}),r.jsx(oe,{className:"font-medium",children:C.pick_number}),r.jsx(oe,{className:"font-semibold",children:C.player_name}),r.jsx(oe,{children:r.jsx(ne,{className:F(C.position),children:C.position})}),r.jsx(oe,{className:"hidden sm:table-cell",children:C.nfl_team}),r.jsx(oe,{children:r.jsxs("div",{className:"text-sm",children:[r.jsx("div",{className:"font-medium",children:C.team_name}),r.jsx("div",{className:"text-muted-foreground",children:C.owner_name})]})})]},`${S.id}-${C.pick_number}`)):r.jsx(Me,{children:r.jsxs(oe,{colSpan:6,className:"text-center text-muted-foreground py-8",children:["No picks found for round ",n]})})})]})})})]},S.id)},I=()=>{const S=$();return r.jsx("div",{className:"space-y-6",children:S.map(P=>{const k=d.filter(M=>M.conference_id===P.id),C=new Map;k.forEach(M=>{const D=M.team_id;C.has(D)||C.set(D,{team_id:M.team_id,owner_name:M.owner_name,team_name:M.team_name,picks:[]}),C.get(D).picks.push(M)}),C.forEach(M=>{M.picks.sort((D,Q)=>{const K=parseInt(D.round),z=parseInt(Q.round);return K!==z?K-z:parseInt(D.draft_slot)-parseInt(Q.draft_slot)})});const A=Array.from(C.values());return r.jsxs(q,{children:[r.jsx(ie,{children:r.jsxs(de,{className:"flex items-center space-x-2",children:[r.jsx(Zt,{className:"h-5 w-5"}),r.jsxs("span",{children:[P.conference_name," - Team Draft Summary"]})]})}),r.jsxs(G,{children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:A.map(M=>{const D=b.has(M.team_id),Q=D?M.picks:M.picks.slice(0,8);return r.jsxs(q,{children:[r.jsxs(ie,{className:"pb-2",children:[r.jsx(de,{className:"text-lg",children:M.team_name}),r.jsxs(Se,{children:[M.owner_name,"  ",M.picks.length," picks"]})]}),r.jsx(G,{children:r.jsxs("div",{className:"space-y-2",children:[Q.map(K=>r.jsxs("div",{className:"flex items-center justify-between p-2 rounded-md bg-accent/50",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(ne,{variant:"outline",className:"text-xs",children:["R",K.round]}),r.jsx("span",{className:"font-medium text-sm",children:K.player_name}),r.jsx(ne,{className:`${F(K.position)} text-xs`,children:K.position})]}),r.jsxs("span",{className:"text-xs text-muted-foreground",children:["#",K.pick_number]})]},K.pick_number)),M.picks.length>8&&r.jsx("div",{className:"flex justify-center pt-2",children:r.jsx(J,{variant:"ghost",size:"sm",onClick:()=>R(M.team_id),className:"text-xs",children:D?r.jsxs(r.Fragment,{children:[r.jsx(Xx,{className:"h-3 w-3 mr-1"}),"Show Less"]}):r.jsxs(r.Fragment,{children:[r.jsx(Wf,{className:"h-3 w-3 mr-1"}),"Show All ",M.picks.length," Picks"]})})})]})})]},M.team_id)})}),A.length===0&&r.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[r.jsx(et,{className:"h-8 w-8 mx-auto mb-2"}),r.jsx("p",{children:"No draft picks found for this conference"}),r.jsx("p",{className:"text-sm",children:"Try syncing draft data from the Admin panel"})]})]})]},P.id)})})};if(l)return r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsx("div",{className:"animate-spin h-8 w-8 border-b-2 border-blue-600 rounded-full"})});console.log(" Render debug:",{selectedSeason:e,selectedConference:t,draftPicksCount:d.length,seasonsCount:v.length,conferencesCount:f.length,teamsCount:x.length});const L=$();console.log(" Conferences to show:",L.length);const H=L.reduce((S,P)=>{const k=new Set(d.filter(C=>C.conference_id===P.id).map(C=>C.team_id));return S+k.size},0),B=Math.max(...d.map(S=>parseInt(S.round)),1);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(mu,{className:"h-6 w-6 text-primary"}),r.jsx("h1",{className:"text-3xl font-bold",children:"Draft Results"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("p",{className:"text-muted-foreground",children:[e," Season  ",t?((V=L[0])==null?void 0:V.conference_name)||"Conference":"All Conferences"]}),r.jsxs(J,{variant:"outline",size:"sm",onClick:E,disabled:w,children:[w?r.jsx(it,{className:"h-4 w-4 mr-2 animate-spin"}):r.jsx(it,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(q,{children:r.jsxs(ie,{className:"pb-2",children:[r.jsx(Se,{children:"Total Conferences"}),r.jsx(de,{className:"text-2xl",children:L.length})]})}),r.jsx(q,{children:r.jsxs(ie,{className:"pb-2",children:[r.jsx(Se,{children:"Total Teams"}),r.jsx(de,{className:"text-2xl",children:H})]})}),r.jsx(q,{children:r.jsxs(ie,{className:"pb-2",children:[r.jsx(Se,{children:"Total Picks"}),r.jsx(de,{className:"text-2xl",children:d.length})]})}),r.jsx(q,{children:r.jsxs(ie,{className:"pb-2",children:[r.jsx(Se,{children:"Max Rounds"}),r.jsx(de,{className:"text-2xl",children:B})]})})]}),d.length===0?r.jsx(q,{children:r.jsxs(G,{className:"flex flex-col items-center justify-center py-12",children:[r.jsx(et,{className:"h-12 w-12 text-muted-foreground mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Draft Results Found"}),r.jsxs("p",{className:"text-muted-foreground text-center mb-4",children:["No draft picks found for the ",e," season",t?` in ${t}`:"","."]}),r.jsxs("div",{className:"text-sm text-muted-foreground text-center space-y-2",children:[r.jsx("p",{children:"Try:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[r.jsx("li",{children:"Selecting a different season from the dropdown above"}),r.jsx("li",{children:'Choosing "All Conferences" if you have a conference selected'}),r.jsx("li",{children:"Syncing draft data from Admin  Data Sync  Draft Sync"})]})]})]})}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:r.jsx("div",{className:"flex items-center space-x-4",children:r.jsxs(At,{value:n.toString(),onValueChange:S=>a(parseInt(S)),children:[r.jsx(St,{className:"w-32",children:r.jsx($t,{})}),r.jsx(Nt,{children:Array.from({length:B},(S,P)=>r.jsxs(Le,{value:(P+1).toString(),children:["Round ",P+1]},P+1))})]})})}),r.jsxs(kr,{value:i,onValueChange:S=>o(S),className:"w-full",children:[r.jsxs(or,{children:[r.jsx(Ue,{value:"board",children:"Draft Board"}),r.jsx(Ue,{value:"team",children:"Team View"})]}),r.jsx(ze,{value:"board",className:"space-y-6",children:L.map(S=>W(S))}),r.jsx(ze,{value:"team",className:"space-y-6",children:I()})]}),r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsxs(de,{className:"flex items-center space-x-2",children:[r.jsx(xt,{className:"h-5 w-5"}),r.jsx("span",{children:"Draft Analysis"})]}),r.jsx(Se,{children:"Draft insights and position trends"})]}),r.jsx(G,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold text-green-600",children:d.filter(S=>S.position==="RB").length}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Running Backs Drafted"})]}),r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold",children:d.filter(S=>S.position==="QB").length}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Quarterbacks Drafted"})]}),r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold",children:d.filter(S=>S.position==="WR").length}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Wide Receivers Drafted"})]})]})})]})]})]})},dB={pass_yd:{category:"passing",key:"passingYards",description:"passing yards",per:25},pass_td:{category:"passing",key:"passingTDs",description:"passing touchdown",per:1},pass_int:{category:"passing",key:"interceptions",description:"interception",per:1},pass_2pt:{category:"passing",key:"passing2pt",description:"2-point conversion",per:1},rush_yd:{category:"rushing",key:"rushingYards",description:"rushing yards",per:10},rush_td:{category:"rushing",key:"rushingTDs",description:"rushing touchdown",per:1},rush_2pt:{category:"rushing",key:"rushing2pt",description:"2-point conversion",per:1},rec_yd:{category:"receiving",key:"receivingYards",description:"receiving yards",per:10},rec:{category:"receiving",key:"receptions",description:"reception (PPR)",per:1},rec_td:{category:"receiving",key:"receivingTDs",description:"receiving touchdown",per:1},rec_2pt:{category:"receiving",key:"receiving2pt",description:"2-point conversion",per:1}},uB=()=>{const{selectedSeason:e}=Bs(),[t,s]=h.useState(null),[n,a]=h.useState(!0),[i,o]=h.useState(null),l=d=>{const u={passing:{},rushing:{},receiving:{}};return Object.entries(d).forEach(([f,m])=>{const v=dB[f];v&&(u[v.category][v.key]={points:m,per:v.per,description:`${m>0?"+":""}${m} point${Math.abs(m)!==1?"s":""} per ${v.description}`})}),u},c=async()=>{if(!e){o("No season selected"),a(!1);return}try{a(!0),o(null);const{data:d}=await Y.getSeasons({filters:[{column:"season_year",operator:"eq",value:e}]});if(!d||d.length===0){o("Season not found"),a(!1);return}const u=d[0];if(u.scoring_settings){const f=l(u.scoring_settings);s(f)}else{if(console.log("Scoring settings not found, fetching from Sleeper API..."),!(await Y.updateSeasonScoringSettings(u.id)).success){o("Failed to fetch scoring settings from Sleeper API"),a(!1);return}const{data:m}=await Y.getSeasons({filters:[{column:"season_year",operator:"eq",value:e}]});if(m&&m.length>0&&m[0].scoring_settings){const v=l(m[0].scoring_settings);s(v)}else o("Failed to update scoring settings")}}catch(d){console.error("Error fetching scoring settings:",d),o("Failed to load scoring settings")}finally{a(!1)}};return h.useEffect(()=>{c()},[e]),{scoringSettings:t,loading:n,error:i,refetch:c}},$m={positions:{QB:1,RB:2,WR:2,TE:1,FLEX:1,SUPER_FLEX:1,DEF:1,BENCH:6},totalRosterSize:15,startingLineupSize:9,benchSize:6},fB=()=>{const{selectedSeason:e}=Bs(),[t,s]=h.useState(null),[n,a]=h.useState(!0),[i,o]=h.useState(null),l=d=>{const u={};d.forEach(j=>{u[j]=(u[j]||0)+1});const f=d.length,m=15,v=m-f;return v>0&&(u.BENCH=v),{positions:u,totalRosterSize:m,startingLineupSize:f,benchSize:v}},c=async()=>{if(!e){o("No season selected"),a(!1);return}try{a(!0),o(null);const{data:d}=await Y.getSeasons({filters:[{column:"season_year",operator:"eq",value:e}]});if(!d||d.length===0){o("Season not found"),a(!1);return}const u=d[0];if(u.roster_positions){const f=l(u.roster_positions);s(f)}else{if(console.log("Roster positions not found, fetching from Sleeper API..."),!(await Y.updateSeasonRosterPositions(u.id)).success){console.warn("Failed to fetch roster positions from Sleeper API, using defaults"),s($m),a(!1);return}const{data:m}=await Y.getSeasons({filters:[{column:"season_year",operator:"eq",value:e}]});if(m&&m.length>0&&m[0].roster_positions){const v=l(m[0].roster_positions);s(v)}else s($m)}}catch(d){console.error("Error fetching roster settings:",d),o("Failed to load roster settings"),s($m)}finally{a(!1)}};return h.useEffect(()=>{c()},[e]),{rosterSettings:t,loading:n,error:i,refetch:c}},Dm={id:0,season_id:0,playoff_teams:10,week_14_byes:6,reseed:!0,playoff_start_week:14,championship_week:17,is_active:!0},hB=()=>{const{selectedSeason:e}=Bs(),[t,s]=h.useState(null),[n,a]=h.useState(!0),[i,o]=h.useState(null),l=async()=>{if(!e){o("No season selected"),a(!1);return}try{a(!0),o(null);const{data:c}=await Y.getSeasons({filters:[{column:"season_year",operator:"eq",value:e}]});if(!c||c.length===0){o("Season not found"),s(Dm),a(!1);return}const d=c[0],{data:u}=await Y.getPlayoffFormats({filters:[{column:"season_id",operator:"eq",value:d.id},{column:"is_active",operator:"eq",value:!0}]});u&&u.length>0?s(u[0]):(console.warn("No playoff format found for season, using defaults"),s(Dm))}catch(c){console.error("Error fetching playoff format:",c),o("Failed to load playoff format"),s(Dm)}finally{a(!1)}};return h.useEffect(()=>{l()},[e]),{playoffFormat:t,loading:n,error:i,refetch:l}};class vu{static async initializeBucket(){try{const{data:t}=await Ks.storage.listBuckets();if(!(t==null?void 0:t.some(n=>n.name===this.BUCKET_NAME))){const{error:n}=await Ks.storage.createBucket(this.BUCKET_NAME,{public:!0,allowedMimeTypes:this.ALLOWED_FILE_TYPES,fileSizeLimit:this.MAX_FILE_SIZE});if(n)throw console.error("Error creating charter bucket:",n),n}}catch(t){throw console.error("Error initializing charter bucket:",t),t}}static async uploadCharter(t,s,n){try{const a=this.validateFile(s);if(!a.valid)return{success:!1,error:a.error};await this.initializeBucket();const i=s.name.split(".").pop(),l=`charters/${`charter-season-${t}-${Date.now()}.${i}`}`,{data:c,error:d}=await Ks.storage.from(this.BUCKET_NAME).upload(l,s,{cacheControl:"3600",upsert:!0});if(d)return console.error("Error uploading charter:",d),{success:!1,error:"Failed to upload file"};const{data:u}=Ks.storage.from(this.BUCKET_NAME).getPublicUrl(l);if(!u.publicUrl)return{success:!1,error:"Failed to get file URL"};const{error:f}=await Y.updateSeason(t,{charter_file_url:u.publicUrl,charter_file_name:s.name,charter_uploaded_at:new Date().toISOString(),charter_uploaded_by:n});return f?(console.error("Error updating season with charter info:",f),await this.deleteCharterFile(l),{success:!1,error:"Failed to save charter information"}):{success:!0,fileUrl:u.publicUrl,fileName:s.name}}catch(a){return console.error("Error in uploadCharter:",a),{success:!1,error:"Unexpected error during upload"}}}static async getCharterInfo(t){try{const{data:s}=await Y.getSeasons({filters:[{column:"id",operator:"eq",value:t}]});if(!s||s.length===0)return null;const n=s[0];return!n.charter_file_url||!n.charter_file_name?null:{fileUrl:n.charter_file_url,fileName:n.charter_file_name,uploadedAt:n.charter_uploaded_at||"",uploadedBy:n.charter_uploaded_by||""}}catch(s){return console.error("Error getting charter info:",s),null}}static async deleteCharter(t){try{const s=await this.getCharterInfo(t);if(!s)return{success:!1,error:"No charter found for this season"};const a=new URL(s.fileUrl).pathname.split("/").slice(-2).join("/"),{error:i}=await Ks.storage.from(this.BUCKET_NAME).remove([a]);i&&console.error("Error deleting charter file:",i);const{error:o}=await Y.updateSeason(t,{charter_file_url:null,charter_file_name:null,charter_uploaded_at:null,charter_uploaded_by:null});return o?(console.error("Error updating season after charter deletion:",o),{success:!1,error:"Failed to update season record"}):{success:!0}}catch(s){return console.error("Error in deleteCharter:",s),{success:!1,error:"Unexpected error during deletion"}}}static validateFile(t){return t.size>this.MAX_FILE_SIZE?{valid:!1,error:"File size must be less than 10MB"}:this.ALLOWED_FILE_TYPES.includes(t.type)?{valid:!0}:{valid:!1,error:"File must be PDF, Word document, or text file"}}static async deleteCharterFile(t){try{await Ks.storage.from(this.BUCKET_NAME).remove([t])}catch(s){console.error("Error deleting charter file:",s)}}static getFileIcon(t){var n;switch((n=t.split(".").pop())==null?void 0:n.toLowerCase()){case"pdf":return"";case"doc":case"docx":return"";case"txt":return"";default:return""}}}us(vu,"BUCKET_NAME","league-documents"),us(vu,"ALLOWED_FILE_TYPES",["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain"]),us(vu,"MAX_FILE_SIZE",10*1024*1024);const mB=()=>{const{selectedSeason:e}=Bs(),[t,s]=h.useState(null),[n,a]=h.useState(!0),[i,o]=h.useState(null),l=async()=>{if(!e){o("No season selected"),a(!1);return}try{a(!0),o(null);const{data:c}=await Y.getSeasons({filters:[{column:"season_year",operator:"eq",value:e}]});if(!c||c.length===0){o("Season not found"),a(!1);return}const d=c[0],u=await vu.getCharterInfo(d.id);s(u)}catch(c){console.error("Error fetching charter info:",c),o("Failed to load charter information"),s(null)}finally{a(!1)}};return h.useEffect(()=>{l()},[e]),{charterInfo:t,loading:n,error:i,refetch:l,hasCharter:!!t}},pB=({fileUrl:e,fileName:t,className:s=""})=>{const[n,a]=h.useState(!1),[i,o]=h.useState(!0),[l,c]=h.useState(null),[d,u]=h.useState("iframe"),[f,m]=h.useState(!0),v=()=>{const p=navigator.mimeTypes&&navigator.mimeTypes["application/pdf"],w=/Chrome/.test(navigator.userAgent),_=/Firefox/.test(navigator.userAgent),b=/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent);return p||w||_||b},j=()=>{m(!1),c(null)},g=()=>{m(!1),c("Failed to load PDF in iframe. Trying alternative method..."),d==="iframe"?u("embed"):d==="embed"&&u("object")},y=()=>{c(null),m(!0),u("iframe")},x=()=>{const p={width:"100%",height:"100%",title:t,onLoad:j,onError:g},w=`${e}#toolbar=1&navpanes=1&scrollbar=1&view=FitH`;switch(d){case"iframe":return r.jsx("iframe",{src:w,className:"border-0 w-full h-full",...p});case"embed":return r.jsx("embed",{src:w,type:"application/pdf",className:"w-full h-full",...p});case"object":return r.jsx("object",{data:w,type:"application/pdf",className:"w-full h-full",...p,children:r.jsxs("p",{children:["Your browser doesn't support PDF viewing.",r.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"text-primary underline ml-1",children:"Click here to download the PDF"})]})});default:return null}};return i?r.jsxs("div",{className:`space-y-4 ${s}`,children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ne,{variant:"secondary",children:"PDF Viewer"}),!v()&&r.jsx(ne,{variant:"destructive",children:"Limited Browser Support"})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(J,{variant:"outline",size:"sm",onClick:y,disabled:f,children:[r.jsx(it,{className:`h-4 w-4 mr-1 ${f?"animate-spin":""}`}),"Reload"]}),r.jsxs(J,{variant:"outline",size:"sm",onClick:()=>o(!1),children:[r.jsx(Xl,{className:"h-4 w-4 mr-1"}),"Hide"]}),r.jsxs(J,{variant:"outline",size:"sm",onClick:()=>a(!n),children:[n?r.jsx(Xp,{className:"h-4 w-4 mr-1"}):r.jsx(Jp,{className:"h-4 w-4 mr-1"}),n?"Minimize":"Expand"]}),r.jsxs(J,{variant:"outline",size:"sm",onClick:()=>window.open(e,"_blank"),children:[r.jsx(sd,{className:"h-4 w-4 mr-1"}),"New Tab"]}),r.jsxs(J,{variant:"outline",size:"sm",onClick:()=>{const p=document.createElement("a");p.href=e,p.download=t,document.body.appendChild(p),p.click(),document.body.removeChild(p)},children:[r.jsx(NN,{className:"h-4 w-4 mr-1"}),"Download"]})]})]}),r.jsxs("div",{className:`border rounded-lg overflow-hidden bg-gray-100 dark:bg-gray-800 relative ${n?"fixed inset-4 z-50 bg-white dark:bg-gray-900":"h-96 md:h-[600px]"}`,children:[f&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white dark:bg-gray-900 z-10",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading PDF..."})]})}),l?r.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white dark:bg-gray-900 z-10",children:r.jsxs(Ye,{variant:"destructive",className:"max-w-md",children:[r.jsx(et,{className:"h-4 w-4"}),r.jsxs(Qe,{children:[l,r.jsxs("div",{className:"mt-2 space-x-2",children:[r.jsx(J,{size:"sm",variant:"outline",onClick:y,children:"Try Again"}),r.jsx(J,{size:"sm",variant:"outline",onClick:()=>window.open(e,"_blank"),children:"Open in New Tab"})]})]})]})}):x()]}),!v()&&r.jsxs(Ye,{children:[r.jsx(et,{className:"h-4 w-4"}),r.jsx(Qe,{children:"Your browser may have limited PDF viewing support. For the best experience, try opening the PDF in a new tab or downloading it."})]}),r.jsxs(Ye,{children:[r.jsx(et,{className:"h-4 w-4"}),r.jsxs(Qe,{children:[r.jsx("strong",{children:"Tips:"}),` Use the expand button for full-screen viewing. If the PDF doesn't load properly, try the "New Tab" or "Download" options.`]})]})]}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Xl,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"PDF viewer hidden"}),r.jsxs(J,{variant:"outline",onClick:()=>o(!0),className:"mt-2",children:[r.jsx(CN,{className:"h-4 w-4 mr-2"}),"Show PDF"]})]})},gB=({fileUrl:e,fileName:t,uploadedAt:s})=>{const[n,a]=h.useState(!1),[i,o]=h.useState(!0),[l,c]=h.useState(null),d=y=>{var x;return((x=y.split(".").pop())==null?void 0:x.toLowerCase())||""},u=y=>{switch(d(y)){case"pdf":return"PDF Document";case"doc":case"docx":return"Word Document";case"txt":return"Text Document";default:return"Document"}},f=()=>{const y=d(t);if(!i)return r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Xl,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Document viewer hidden"}),r.jsxs(J,{variant:"outline",onClick:()=>o(!0),className:"mt-2",children:[r.jsx(CN,{className:"h-4 w-4 mr-2"}),"Show Document"]})]});switch(y){case"pdf":return m();case"doc":case"docx":return v();case"txt":return j();default:return g()}},m=()=>r.jsx(pB,{fileUrl:e,fileName:t}),v=()=>r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(ne,{variant:"secondary",children:"Document Viewer"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(J,{variant:"outline",size:"sm",onClick:()=>o(!1),children:[r.jsx(Xl,{className:"h-4 w-4 mr-1"}),"Hide"]}),r.jsxs(J,{variant:"outline",size:"sm",onClick:()=>a(!n),children:[n?r.jsx(Xp,{className:"h-4 w-4 mr-1"}):r.jsx(Jp,{className:"h-4 w-4 mr-1"}),n?"Minimize":"Expand"]})]})]}),r.jsx("div",{className:`border rounded-lg overflow-hidden ${n?"h-screen":"h-96"}`,children:r.jsx("iframe",{src:`https://docs.google.com/viewer?url=${encodeURIComponent(e)}&embedded=true`,width:"100%",height:"100%",title:t,className:"border-0",onError:()=>c("Failed to load document. Please try downloading the file.")})}),r.jsxs(Ye,{children:[r.jsx(et,{className:"h-4 w-4"}),r.jsx(Qe,{children:"Word documents are displayed using Google Docs Viewer. For best experience, consider uploading as PDF."})]})]}),j=()=>{const[y,x]=h.useState(""),[p,w]=h.useState(!0);return He.useEffect(()=>{fetch(e).then(_=>_.text()).then(_=>{x(_),w(!1)}).catch(_=>{console.error("Error loading text file:",_),c("Failed to load text file content."),w(!1)})},[e]),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(ne,{variant:"secondary",children:"Text Viewer"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(J,{variant:"outline",size:"sm",onClick:()=>o(!1),children:[r.jsx(Xl,{className:"h-4 w-4 mr-1"}),"Hide"]}),r.jsxs(J,{variant:"outline",size:"sm",onClick:()=>a(!n),children:[n?r.jsx(Xp,{className:"h-4 w-4 mr-1"}):r.jsx(Jp,{className:"h-4 w-4 mr-1"}),n?"Minimize":"Expand"]})]})]}),r.jsx("div",{className:`border rounded-lg p-4 bg-gray-50 dark:bg-gray-900 overflow-auto ${n?"h-screen":"h-96"}`,children:p?r.jsx("div",{className:"flex items-center justify-center h-full",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):r.jsx("pre",{className:"whitespace-pre-wrap text-sm font-mono",children:y})})]})},g=()=>r.jsxs(Ye,{children:[r.jsx(et,{className:"h-4 w-4"}),r.jsx(Lr,{children:"Preview Not Available"}),r.jsx(Qe,{children:"This file type cannot be previewed in the browser. Please download the file to view its contents."})]});return r.jsxs(q,{children:[r.jsx(ie,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Cc,{className:"h-6 w-6 text-primary"}),r.jsxs("div",{children:[r.jsx(de,{className:"text-lg",children:t}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[u(t),"  Last updated: ",new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(J,{variant:"outline",size:"sm",onClick:()=>window.open(e,"_blank"),children:[r.jsx(sd,{className:"h-4 w-4 mr-1"}),"Open in New Tab"]}),r.jsxs(J,{variant:"outline",size:"sm",onClick:()=>{const y=document.createElement("a");y.href=e,y.download=t,document.body.appendChild(y),y.click(),document.body.removeChild(y)},children:[r.jsx(NN,{className:"h-4 w-4 mr-1"}),"Download"]})]})]})}),r.jsx(G,{children:l?r.jsxs(Ye,{variant:"destructive",children:[r.jsx(et,{className:"h-4 w-4"}),r.jsx(Lr,{children:"Viewer Error"}),r.jsx(Qe,{children:l})]}):f()})]})},si={scoring:{passing:{passingYards:{points:1,per:25,description:"1 point per 25 passing yards"},passingTDs:{points:4,per:1,description:"4 points per passing touchdown"},interceptions:{points:-2,per:1,description:"-2 points per interception"},passing2pt:{points:2,per:1,description:"2 points per 2-point conversion"}},rushing:{rushingYards:{points:1,per:10,description:"1 point per 10 rushing yards"},rushingTDs:{points:6,per:1,description:"6 points per rushing touchdown"},rushing2pt:{points:2,per:1,description:"2 points per 2-point conversion"}},receiving:{receivingYards:{points:1,per:10,description:"1 point per 10 receiving yards"},receptions:{points:.5,per:1,description:"0.5 points per reception (PPR)"},receivingTDs:{points:6,per:1,description:"6 points per receiving touchdown"},receiving2pt:{points:2,per:1,description:"2 points per 2-point conversion"}}},roster:{positions:{QB:1,RB:2,WR:2,TE:1,FLEX:1,K:1,DEF:1,BENCH:6},waiverSystem:"FAAB",waiverBudget:100,waiverClearTime:"Wednesday 3:00 AM ET"}},xB=()=>{var w,_,b,T,N,E;const{selectedSeason:e,selectedConference:t,currentSeasonConfig:s}=Bs(),{scoringSettings:n,loading:a,error:i}=uB(),{rosterSettings:o,loading:l,error:c}=fB(),{playoffFormat:d,loading:u,error:f}=hB(),{charterInfo:m,loading:v,error:j,hasCharter:g}=mB(),[y,x]=h.useState("scoring"),p=(R,$)=>!$||Object.keys($).length===0?r.jsxs(q,{children:[r.jsx(ie,{children:r.jsx(de,{className:"capitalize",children:R})}),r.jsx(G,{children:r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:["No ",R," scoring rules configured"]})})]}):r.jsxs(q,{children:[r.jsx(ie,{children:r.jsx(de,{className:"capitalize",children:R})}),r.jsx(G,{children:r.jsx("div",{className:"rounded-md border",children:r.jsxs(Ss,{children:[r.jsx(Ns,{children:r.jsxs(Me,{children:[r.jsx(ue,{children:"Statistic"}),r.jsx(ue,{className:"text-right",children:"Points"}),r.jsx(ue,{className:"hidden md:table-cell",children:"Description"})]})}),r.jsx(Cs,{children:Object.entries($).map(([F,W])=>r.jsxs(Me,{children:[r.jsx(oe,{className:"font-medium",children:F.replace(/([A-Z])/g," $1").replace(/^./,I=>I.toUpperCase())}),r.jsx(oe,{className:"text-right font-mono",children:r.jsxs(ne,{variant:W.points>0?"default":"destructive",children:[W.points>0?"+":"",W.points]})}),r.jsx(oe,{className:"hidden md:table-cell text-sm text-muted-foreground",children:W.description})]},F))})]})})})]});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Cc,{className:"h-6 w-6 text-primary"}),r.jsx("h1",{className:"text-3xl font-bold",children:"League Rules"})]}),r.jsxs("p",{className:"text-muted-foreground",children:[e," Season  Official rules and regulations for the Gladiator League"]})]}),r.jsxs(Ye,{children:[r.jsx(Za,{className:"h-4 w-4"}),r.jsx(Lr,{children:"League Information"}),r.jsx(Qe,{children:"These rules apply to all three conferences within the Gladiator League. Conference-specific variations are noted where applicable."})]}),r.jsxs(kr,{value:y,onValueChange:x,className:"w-full",children:[r.jsxs(or,{className:"grid w-full grid-cols-5",children:[r.jsx(Ue,{value:"scoring",children:"Scoring"}),r.jsx(Ue,{value:"roster",children:"Roster"}),r.jsx(Ue,{value:"schedule",children:"Schedule"}),r.jsx(Ue,{value:"payouts",children:"Payouts"}),r.jsx(Ue,{value:"charter",children:"Charter"})]}),r.jsxs(ze,{value:"scoring",className:"space-y-6",children:[a?r.jsx(q,{children:r.jsx(G,{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Bt,{className:"h-6 w-6 animate-spin"}),r.jsx("span",{children:"Loading scoring settings..."})]})})}):i?r.jsxs(Ye,{variant:"destructive",children:[r.jsx(Za,{className:"h-4 w-4"}),r.jsx(Lr,{children:"Error Loading Scoring Settings"}),r.jsxs(Qe,{children:[i,". Using default scoring rules as fallback."]})]}):null,r.jsx("div",{className:"grid gap-6",children:n?r.jsxs(r.Fragment,{children:[p("passing",n.passing),p("rushing",n.rushing),p("receiving",n.receiving)]}):r.jsxs(r.Fragment,{children:[p("passing",si.scoring.passing),p("rushing",si.scoring.rushing),p("receiving",si.scoring.receiving)]})}),r.jsxs(q,{children:[r.jsx(ie,{children:r.jsxs(de,{className:"flex items-center space-x-2",children:[r.jsx(Yu,{className:"h-5 w-5"}),r.jsx("span",{children:"Scoring Summary"})]})}),r.jsx(G,{children:n?r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold",children:n.receiving.receptions?`${n.receiving.receptions.points} PPR`:"Standard"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:n.receiving.receptions?`${n.receiving.receptions.points} Points per Reception`:"No PPR Scoring"})]}),r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsxs("p",{className:"text-2xl font-bold",children:[((w=n.passing.passingTDs)==null?void 0:w.points)||0,"/",((_=n.rushing.rushingTDs)==null?void 0:_.points)||((b=n.receiving.receivingTDs)==null?void 0:b.points)||0]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Pass TD / Rush-Rec TD"})]}),r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsxs("p",{className:"text-2xl font-bold",children:[((T=n.passing.passingYards)==null?void 0:T.per)||25,"/",((N=n.rushing.rushingYards)==null?void 0:N.per)||((E=n.receiving.receivingYards)==null?void 0:E.per)||10]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Pass Yards / Rush-Rec Yards"})]})]}):r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold",children:"PPR"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"0.5 Points per Reception"})]}),r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold",children:"4/6"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Pass TD / Rush-Rec TD"})]}),r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold",children:"25/10"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Pass Yards / Rush-Rec Yards"})]})]})})]})]}),r.jsxs(ze,{value:"roster",className:"space-y-6",children:[l?r.jsx(q,{children:r.jsx(G,{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Bt,{className:"h-6 w-6 animate-spin"}),r.jsx("span",{children:"Loading roster settings..."})]})})}):c?r.jsxs(Ye,{variant:"destructive",children:[r.jsx(Za,{className:"h-4 w-4"}),r.jsx(Lr,{children:"Error Loading Roster Settings"}),r.jsxs(Qe,{children:[c,". Using default roster configuration as fallback."]})]}):null,r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsxs(de,{className:"flex items-center space-x-2",children:[r.jsx(Zt,{className:"h-5 w-5"}),r.jsx("span",{children:"Starting Lineup"})]}),r.jsx(Se,{children:"Required positions for weekly lineup"})]}),r.jsx(G,{children:r.jsx("div",{className:"space-y-3",children:Object.entries((o==null?void 0:o.positions)||si.roster.positions).filter(([R])=>R!=="BENCH").map(([R,$])=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ne,{variant:"outline",children:R}),r.jsx("span",{className:"text-sm text-muted-foreground",children:R==="FLEX"?"RB/WR/TE":R==="SUPER_FLEX"?"QB/RB/WR/TE":R==="DEF"?"Team Defense":R})]}),r.jsx("span",{className:"font-semibold",children:$})]},R))})})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(q,{children:[r.jsxs(ie,{className:"pb-3",children:[r.jsx(de,{className:"text-lg",children:"Roster Management"}),r.jsx(Se,{className:"text-sm",children:"Roster size and configuration"})]}),r.jsx(G,{children:r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Roster Size"}),r.jsx("p",{className:"text-xl font-bold",children:"21"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Starting Lineup"}),r.jsx("p",{className:"text-xl font-bold",children:"9"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Bench"}),r.jsx("p",{className:"text-xl font-bold",children:"12"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"IR"}),r.jsx("p",{className:"text-xl font-bold",children:"2"})]})]})})]}),r.jsxs(q,{children:[r.jsxs(ie,{className:"pb-3",children:[r.jsx(de,{className:"text-lg",children:"Waiver & Trade Rules"}),r.jsx(Se,{className:"text-sm",children:"League transaction settings"})]}),r.jsxs(G,{children:[r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Waiver System"}),r.jsx("p",{className:"font-semibold",children:si.roster.waiverSystem})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"FAAB Budget"}),r.jsxs("p",{className:"font-semibold",children:["$",si.roster.waiverBudget]})]})]}),r.jsxs("div",{className:"pt-3 mt-3 border-t",children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Waiver Clear Time"}),r.jsx("p",{className:"text-sm font-medium",children:si.roster.waiverClearTime})]})]})]})]})]})]}),r.jsxs(ze,{value:"schedule",className:"space-y-6",children:[u?r.jsx(q,{children:r.jsx(G,{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Bt,{className:"h-6 w-6 animate-spin"}),r.jsx("span",{children:"Loading schedule information..."})]})})}):f?r.jsxs(Ye,{variant:"destructive",children:[r.jsx(Za,{className:"h-4 w-4"}),r.jsx(Lr,{children:"Error Loading Schedule Information"}),r.jsxs(Qe,{children:[f,". Using default schedule information as fallback."]})]}):null,r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsxs(de,{className:"flex items-center space-x-2",children:[r.jsx(un,{className:"h-5 w-5"}),r.jsx("span",{children:"Season Structure"})]}),r.jsx(Se,{children:"Regular season and playoff format"})]}),r.jsx(G,{className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Regular Season"}),r.jsx("p",{className:"text-2xl font-bold",children:"12 weeks"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Playoffs"}),r.jsx("p",{className:"text-2xl font-bold",children:"5 weeks"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Playoff Teams"}),r.jsxs("p",{className:"text-2xl font-bold",children:[(d==null?void 0:d.playoff_teams)||10,"/36"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"First Round Byes"}),r.jsx("p",{className:"text-2xl font-bold",children:(d==null?void 0:d.week_14_byes)||6})]})]})})]}),r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsx(de,{children:"Important Dates"}),r.jsxs(Se,{children:[e," season timeline"]})]}),r.jsxs(G,{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsx("span",{className:"font-medium",children:"Regular Season"}),r.jsx("span",{className:"text-sm",children:"Weeks 1-12"})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsx("span",{className:"font-medium",children:"Conference Championships"}),r.jsx("span",{className:"text-sm",children:"Week 13"})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsx("span",{className:"font-medium",children:"Playoffs Begin"}),r.jsxs("span",{className:"text-sm",children:["Week ",(d==null?void 0:d.playoff_start_week)||14]})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsx("span",{className:"font-medium",children:"Coliseum Championship"}),r.jsxs("span",{className:"text-sm",children:["Week ",(d==null?void 0:d.championship_week)||17]})]})]})]})]}),r.jsxs(q,{children:[r.jsx(ie,{children:r.jsx(de,{children:"Playoff Format"})}),r.jsx(G,{children:r.jsxs("div",{className:"prose prose-sm max-w-none",children:[r.jsxs("p",{className:"mb-4",children:["The playoffs consist of ",(d==null?void 0:d.playoff_teams)||10," teams total across all conferences, with the following structure:"]}),r.jsxs("ul",{className:"space-y-3",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Week 13: Conference Championships"})," - Top 2 teams from each conference compete to become Conference Champion"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Playoff Seeding:"}),r.jsxs("ul",{className:"ml-4 mt-2 space-y-1",children:[r.jsx("li",{children:" Top 3 seeds go to Conference Champions"}),r.jsx("li",{children:" Seeds 4-6 go to losing teams of Conference Championship"}),r.jsxs("li",{children:[" Seeds 7-",(d==null?void 0:d.playoff_teams)||10," go to next highest ranked teams, across all Conferences"]})]})]}),r.jsxs("li",{children:[r.jsxs("strong",{children:["Week ",(d==null?void 0:d.playoff_start_week)||14,": Wildcard Round"]})," - Top ",(d==null?void 0:d.week_14_byes)||6," teams get byes. Remaining teams are matched up based on seeding."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Week 15: Quarterfinals Round"})," - Teams are reseeded, includes winners of Wildcard round matchups and teams on bye"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Week 16: Semifinals Round"})," - Teams are reseeded, includes winners of Quarterfinals"]}),r.jsxs("li",{children:[r.jsxs("strong",{children:["Week ",(d==null?void 0:d.championship_week)||17,": Coliseum Championship"]})," - Winners of Semifinals compete to become the Coliseum Champion"]})]}),r.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:d!=null&&d.reseed?"Teams are reseeded after each round based on original seeding.":"Teams maintain their bracket position throughout the playoffs."})]})})]})]}),r.jsx(ze,{value:"payouts",className:"space-y-6",children:r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsxs(de,{className:"flex items-center space-x-2",children:[r.jsx(Qp,{className:"h-5 w-5"}),r.jsx("span",{children:"Prize Structure"})]}),r.jsx(Se,{children:"Annual dues: $100 per team  Total prize pool: $3,600"})]}),r.jsx(G,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-semibold",children:"Coliseum Championship Payouts"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-yellow-50 dark:bg-yellow-900/20",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(xt,{className:"h-5 w-5 text-yellow-600"}),r.jsx("span",{className:"font-medium",children:"Coliseum Champion"})]}),r.jsx("span",{className:"font-bold text-lg",children:"$1,200"})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsx("span",{className:"font-medium",children:"Runner-up"}),r.jsx("span",{className:"font-bold",children:"$800"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-semibold",children:"Regular Season Awards"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsx("span",{className:"font-medium",children:"Conference Champions"}),r.jsx("span",{className:"font-bold",children:"$500 each"})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsx("span",{className:"font-medium",children:"Single Week High Score"}),r.jsx("span",{className:"font-bold",children:"$100"})]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx("p",{children:"Conference champions are determined by regular season record within each conference."}),r.jsx("p",{className:"mt-2",children:"Single week high score award goes to the team with the most points in a single week during the regular season."})]})]})]})]})})]})}),r.jsxs(ze,{value:"charter",className:"space-y-6",children:[v?r.jsx(q,{children:r.jsx(G,{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Bt,{className:"h-6 w-6 animate-spin"}),r.jsx("span",{children:"Loading charter information..."})]})})}):j?r.jsxs(Ye,{variant:"destructive",children:[r.jsx(Za,{className:"h-4 w-4"}),r.jsx(Lr,{children:"Error Loading Charter"}),r.jsxs(Qe,{children:[j,". Please contact an administrator if this issue persists."]})]}):null,r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsx(de,{children:"League Charter"}),r.jsxs(Se,{children:["Official constitution and bylaws of the Gladiator League - ",e," Season"]})]}),r.jsx(G,{children:g&&m?r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Ye,{children:[r.jsx(Za,{className:"h-4 w-4"}),r.jsx(Lr,{children:"Official League Document"}),r.jsx(Qe,{children:"This charter contains the complete rules, policies, and procedures for the Gladiator League. All league members are expected to be familiar with its contents."})]}),r.jsx(gB,{fileUrl:m.fileUrl,fileName:m.fileName,uploadedAt:m.uploadedAt})]}):r.jsxs("div",{className:"text-center py-12 border-2 border-dashed rounded-lg",children:[r.jsx(Cc,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Charter Available"}),r.jsxs("p",{className:"text-muted-foreground mb-4",children:["The league charter document for the ",e," season has not been uploaded yet."]}),r.jsxs(Ye,{className:"max-w-md mx-auto",children:[r.jsx(Za,{className:"h-4 w-4"}),r.jsx(Qe,{children:"League administrators can upload the charter document through the admin panel."})]})]})})]}),r.jsxs(q,{children:[r.jsx(ie,{children:r.jsx(de,{children:"League History"})}),r.jsx(G,{children:r.jsxs("div",{className:"prose prose-sm max-w-none",children:[r.jsx("p",{children:"The Gladiator League was founded in 2024 as a premier fantasy football competition consisting of three competitive conferences: Legions of Mars, Guardians of Jupiter, and Vulcan's Oathsworn."}),r.jsx("p",{className:"mt-4",children:"Each conference operates as an independent league while following unified rules and participating in inter-conference competition during special events."}),r.jsx("p",{className:"mt-4",children:"The league charter serves as the official constitution, outlining all rules, procedures, and policies that govern league operations and member conduct."})]})})]})]})]})]})},vB=()=>{const{toast:e}=gs(),[t,s]=h.useState(!1),[n,a]=h.useState([]),i={2024:["1072580179844857856","1072593839715667968","1072593416955015168"],2025:["1204854057169072128","1204857692007440384","1204857608989577216"]},o={2024:1,2025:2},l=async d=>{try{console.log(`Fetching data for league ID: ${d}`);const u=await fetch(`https://api.sleeper.app/v1/league/${d}`);if(!u.ok)throw new Error(`HTTP error! status: ${u.status}`);const f=await u.json();return console.log(`Data received for league ${d}:`,f),{name:f.name||"",league_id:f.league_id||d,season:f.season||"",draft_id:f.draft_id||"",status:f.status||"",avatar:f.avatar||""}}catch(u){return console.error(`Error fetching data for league ${d}:`,u),null}},c=async()=>{s(!0);const d=[];try{const u=[...i[2024],...i[2025]];for(const m of u){const v=await l(m);v&&d.push(v)}console.log("All fetched data:",d),a(d);const f=d.map(m=>{const v=o[m.season]||0,j=m.avatar?`https://sleepercdn.com/avatars/thumbs/${m.avatar}`:"";return{conference_name:m.name,league_id:m.league_id,season_id:v,draft_id:m.draft_id,status:m.status,league_logo_url:j}});console.log("Conference records to insert:",f);for(const m of f)try{const{error:v}=await window.ezsite.apis.tableCreate("12820",m);if(v)throw console.error("Error inserting conference record:",v),new Error(v)}catch(v){console.error("Failed to insert conference record:",v),e({title:"Error",description:`Failed to insert conference: ${m.conference_name}`,variant:"destructive"})}e({title:"Success",description:`Successfully loaded ${f.length} conferences from Sleeper API`})}catch(u){console.error("Error loading conferences data:",u),e({title:"Error",description:"Failed to load conferences data from Sleeper API",variant:"destructive"})}finally{s(!1)}};return r.jsxs("div",{className:"p-4 space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Conferences Data Loader"}),r.jsx("button",{onClick:c,disabled:t,className:"px-4 py-2 bg-blue-600 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-blue-700 transition-colors",children:t?"Loading...":"Load Conferences Data"})]}),r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsx("p",{children:"This will fetch data from Sleeper API for the following league IDs:"}),r.jsxs("div",{className:"mt-2 space-y-1",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"2024 Season:"})," ",i[2024].join(", ")]}),r.jsxs("div",{children:[r.jsx("strong",{children:"2025 Season:"})," ",i[2025].join(", ")]})]})]}),n.length>0&&r.jsxs("div",{className:"mt-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Loaded Data Preview:"}),r.jsx("div",{className:"space-y-2",children:n.map((d,u)=>r.jsxs("div",{className:"p-3 border rounded-lg bg-gray-50",children:[r.jsx("div",{className:"font-medium",children:d.name}),r.jsxs("div",{className:"text-sm text-gray-600",children:["League ID: ",d.league_id," | Season: ",d.season," | Status: ",d.status]})]},u))})]})]})},yB=()=>{const{toast:e}=gs(),[t,s]=h.useState([]),[n,a]=h.useState([]),[i,o]=h.useState(!0),[l,c]=h.useState(!1),d=async()=>{try{const{data:j,error:g}=await window.ezsite.apis.tablePage("12818",{PageNo:1,PageSize:10,OrderByField:"season_year",IsAsc:!0,Filters:[]});if(g)throw new Error(g);a(j.List||[])}catch(j){console.error("Error fetching seasons:",j),e({title:"Error",description:"Failed to load seasons data",variant:"destructive"})}},u=async()=>{try{const{data:j,error:g}=await window.ezsite.apis.tablePage("12820",{PageNo:1,PageSize:50,OrderByField:"conference_name",IsAsc:!0,Filters:[]});if(g)throw new Error(g);s(j.List||[])}catch(j){console.error("Error fetching conferences:",j),e({title:"Error",description:"Failed to load conferences data",variant:"destructive"})}};h.useEffect(()=>{(async()=>{o(!0),await Promise.all([d(),u()]),o(!1)})()},[]);const f=j=>{const g=n.find(y=>y.id===j);return g?g.season_name:`Season ${j}`},m=j=>{switch(j.toLowerCase()){case"in_season":return"bg-green-500";case"complete":return"bg-blue-500";case"drafting":return"bg-orange-500";case"pre_draft":return"bg-yellow-500";default:return"bg-gray-500"}},v=j=>j.replace(/_/g," ").replace(/\b\w/g,g=>g.toUpperCase());return i?r.jsx("div",{className:"container mx-auto px-4 py-8",children:r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"text-lg",children:"Loading conferences..."})})}):r.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-6",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[r.jsx(xt,{className:"h-8 w-8 text-yellow-600"}),"Conferences"]}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Fantasy football conferences and leagues"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(J,{variant:"outline",onClick:()=>c(!l),children:[l?"Hide":"Show"," Data Loader"]}),r.jsx(J,{onClick:()=>{u(),e({title:"Refreshed",description:"Conferences data has been refreshed"})},children:"Refresh Data"})]})]}),l&&r.jsx(q,{children:r.jsx(G,{className:"p-0",children:r.jsx(vB,{})})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(q,{children:r.jsx(G,{className:"p-6",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Zt,{className:"h-8 w-8 text-blue-600"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:t.length}),r.jsx("div",{className:"text-sm text-gray-600",children:"Total Conferences"})]})]})})}),r.jsx(q,{children:r.jsx(G,{className:"p-6",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(un,{className:"h-8 w-8 text-green-600"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:t.filter(j=>j.status==="in_season").length}),r.jsx("div",{className:"text-sm text-gray-600",children:"Active Seasons"})]})]})})}),r.jsx(q,{children:r.jsx(G,{className:"p-6",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(xt,{className:"h-8 w-8 text-yellow-600"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:n.length}),r.jsx("div",{className:"text-sm text-gray-600",children:"Total Seasons"})]})]})})})]}),r.jsxs(q,{children:[r.jsx(ie,{children:r.jsx(de,{children:"Conference Details"})}),r.jsx(G,{children:t.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("p",{className:"text-gray-500 mb-4",children:"No conferences found."}),r.jsx(J,{onClick:()=>c(!0),variant:"outline",children:"Load Conferences Data"})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(Ss,{children:[r.jsx(Ns,{children:r.jsxs(Me,{children:[r.jsx(ue,{children:"Logo"}),r.jsx(ue,{children:"Conference Name"}),r.jsx(ue,{children:"Season"}),r.jsx(ue,{children:"Status"}),r.jsx(ue,{children:"League ID"}),r.jsx(ue,{children:"Draft ID"}),r.jsx(ue,{children:"Actions"})]})}),r.jsx(Cs,{children:t.map(j=>r.jsxs(Me,{children:[r.jsx(oe,{children:j.league_logo_url?r.jsx("img",{src:j.league_logo_url,alt:`${j.conference_name} logo`,className:"w-10 h-10 rounded-full object-cover",onError:g=>{g.target.src="/placeholder.svg"}}):r.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center",children:r.jsx(xt,{className:"h-5 w-5 text-gray-400"})})}),r.jsx(oe,{className:"font-medium",children:j.conference_name}),r.jsx(oe,{children:r.jsx(ne,{variant:"secondary",children:f(j.season_id)})}),r.jsx(oe,{children:r.jsx(ne,{className:`text-white ${m(j.status)}`,children:v(j.status)})}),r.jsx(oe,{className:"font-mono text-sm",children:j.league_id}),r.jsx(oe,{className:"font-mono text-sm",children:j.draft_id||"N/A"}),r.jsx(oe,{children:r.jsx(J,{variant:"ghost",size:"sm",onClick:()=>{window.open(`https://sleeper.app/leagues/${j.league_id}`,"_blank")},children:r.jsx(sd,{className:"h-4 w-4"})})})]},j.id))})]})})})]})]})};var wB="Label",gT=h.forwardRef((e,t)=>r.jsx(be.label,{...e,ref:t,onMouseDown:s=>{var a;s.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));gT.displayName=wB;var xT=gT;const jB=al("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Pt=h.forwardRef(({className:e,...t},s)=>r.jsx(xT,{ref:s,className:we(jB(),e),...t}));Pt.displayName=xT.displayName;const X0=IC,Z0=OC,_B=FC,vT=h.forwardRef(({className:e,...t},s)=>r.jsx(ch,{ref:s,className:we("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));vT.displayName=ch.displayName;const Cg=h.forwardRef(({className:e,children:t,...s},n)=>r.jsxs(_B,{children:[r.jsx(vT,{}),r.jsxs(dh,{ref:n,className:we("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[t,r.jsxs(BC,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(Fi,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Cg.displayName=dh.displayName;const Eg=({className:e,...t})=>r.jsx("div",{className:we("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Eg.displayName="DialogHeader";const Tg=h.forwardRef(({className:e,...t},s)=>r.jsx(uh,{ref:s,className:we("text-lg font-semibold leading-none tracking-tight",e),...t}));Tg.displayName=uh.displayName;const kg=h.forwardRef(({className:e,...t},s)=>r.jsx(fh,{ref:s,className:we("text-sm text-muted-foreground",e),...t}));kg.displayName=fh.displayName;const bB=()=>{const[e,t]=h.useState([]),[s,n]=h.useState([]),[a,i]=h.useState(null),[o,l]=h.useState(null),[c,d]=h.useState(!1),[u,f]=h.useState(!1),[m,v]=h.useState(!0),[j,g]=h.useState(!1),[y,x]=h.useState(null),{toast:p}=gs(),[w,_]=h.useState(""),[b,T]=h.useState(""),[N,E]=h.useState(""),[R,$]=h.useState("");h.useEffect(()=>{F()},[]),h.useEffect(()=>{a&&W()},[a]);const F=async()=>{try{const S=await Y.getSeasons({orderBy:{column:"season_year",ascending:!1}});if(S.error)throw S.error;const P=S.data||[];t(P);const k=P.find(C=>C.is_current);k?i(k.id):P.length>0&&i(P[0].id)}catch(S){console.error("Error loading seasons:",S),p({title:"Error",description:`Failed to load seasons: ${S}`,variant:"destructive"})}finally{v(!1)}},W=async()=>{if(a)try{const S=await Y.getConferences({filters:[{column:"season_id",operator:"eq",value:a}],orderBy:{column:"conference_name",ascending:!0}});if(S.error)throw S.error;n(S.data||[])}catch(S){console.error("Error loading conferences:",S),p({title:"Error",description:`Failed to load conferences: ${S}`,variant:"destructive"})}},I=async S=>{if(S.preventDefault(),!(!w||!b))try{g(!0);const P=await Y.createSeason({season_year:w,season_name:b,is_current:!1});if(P.error)throw P.error;p({title:"Season Added",description:`${b} has been created successfully`}),_(""),T(""),d(!1),F()}catch(P){console.error("Error adding season:",P),p({title:"Error",description:`Failed to add season: ${P}`,variant:"destructive"})}finally{g(!1)}},L=async S=>{if(S.preventDefault(),!(!N||!R||!a))try{g(!0);const P=await Y.createConference({conference_name:N,league_id:R,season_id:a,status:"draft"});if(P.error)throw P.error;p({title:"League Added",description:`${N} has been created successfully`}),E(""),$(""),f(!1),W()}catch(P){console.error("Error adding league:",P),p({title:"Error",description:`Failed to add league: ${P}`,variant:"destructive"})}finally{g(!1)}},H=async S=>{try{g(!0);const P=await Y.updateConference(S.id,{conference_name:S.conference_name,league_id:S.league_id,season_id:S.season_id,draft_id:S.draft_id||void 0,status:S.status,league_logo_url:S.league_logo_url||void 0});if(P.error)throw P.error;p({title:"Conference Updated",description:"Conference details have been saved successfully"}),l(null),W()}catch(P){console.error("Error saving conference:",P),p({title:"Error",description:`Failed to save conference: ${P}`,variant:"destructive"})}finally{g(!1)}},B=async S=>{if(S)try{x(S);const P=await fetch(`https://api.sleeper.app/v1/league/${S}`);if(P.ok){const k=await P.json();p({title:"Connection Successful",description:`League "${k.name}" found on Sleeper API`})}else throw new Error(`API returned ${P.status}`)}catch(P){console.error("Error testing connection:",P),p({title:"Connection Failed",description:`Unable to connect to Sleeper API for league ID: ${S}`,variant:"destructive"})}finally{x(null)}},V=e.find(S=>S.id===a);return m?r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsx("div",{className:"animate-spin h-8 w-8 border-b-2 border-blue-600 rounded-full"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsx(de,{children:"Season Management"}),r.jsx(Se,{children:"Select and manage fantasy football seasons"})]}),r.jsx(G,{children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx(Pt,{htmlFor:"season-select",children:"Select Season"}),r.jsxs(At,{value:(a==null?void 0:a.toString())||"",onValueChange:S=>i(parseInt(S)),children:[r.jsx(St,{children:r.jsx($t,{placeholder:"Select a season"})}),r.jsx(Nt,{children:e.map(S=>r.jsx(Le,{value:S.id.toString(),children:r.jsxs("div",{className:"flex items-center gap-2",children:[S.season_name,S.is_current&&r.jsx(ne,{variant:"secondary",className:"text-xs",children:"Current"})]})},S.id))})]})]}),r.jsxs(X0,{open:c,onOpenChange:d,children:[r.jsx(Z0,{asChild:!0,children:r.jsx(J,{variant:"outline",size:"icon",children:r.jsx(Gu,{className:"h-4 w-4"})})}),r.jsxs(Cg,{children:[r.jsxs(Eg,{children:[r.jsx(Tg,{children:"Add New Season"}),r.jsx(kg,{children:"Create a new fantasy football season"})]}),r.jsxs("form",{onSubmit:I,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Pt,{htmlFor:"season-year",children:"Season Year"}),r.jsx(Jt,{id:"season-year",type:"number",value:w,onChange:S=>_(S.target.value),placeholder:"2025",min:"2020",max:"2030"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Pt,{htmlFor:"season-name",children:"Season Name"}),r.jsx(Jt,{id:"season-name",value:b,onChange:S=>T(S.target.value),placeholder:"2025 Season"})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(J,{type:"button",variant:"outline",onClick:()=>d(!1),children:"Cancel"}),r.jsx(J,{type:"submit",disabled:j,children:j?"Adding...":"Add Season"})]})]})]})]})]})})]}),V&&r.jsxs(q,{children:[r.jsx(ie,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(de,{children:["Conferences - ",V.season_name]}),r.jsxs(Se,{children:["Manage league IDs and conference settings for ",V.season_name]})]}),r.jsxs(X0,{open:u,onOpenChange:f,children:[r.jsx(Z0,{asChild:!0,children:r.jsxs(J,{children:[r.jsx(Gu,{className:"h-4 w-4 mr-2"}),"Add New League"]})}),r.jsxs(Cg,{children:[r.jsxs(Eg,{children:[r.jsx(Tg,{children:"Add New League"}),r.jsxs(kg,{children:["Add a new conference/league to ",V.season_name]})]}),r.jsxs("form",{onSubmit:L,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Pt,{htmlFor:"league-name",children:"League Name"}),r.jsx(Jt,{id:"league-name",value:N,onChange:S=>E(S.target.value),placeholder:"Conference Name"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Pt,{htmlFor:"league-id",children:"Sleeper League ID"}),r.jsx(Jt,{id:"league-id",value:R,onChange:S=>$(S.target.value),placeholder:"123456789012345678"})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(J,{type:"button",variant:"outline",onClick:()=>f(!1),children:"Cancel"}),r.jsx(J,{type:"submit",disabled:j,children:j?"Adding...":"Add League"})]})]})]})]})]})}),r.jsx(G,{children:s.length===0?r.jsx(Ye,{children:r.jsxs(Qe,{children:["No conferences found for ",V.season_name,". Add a new league to get started."]})}):r.jsxs(Ss,{children:[r.jsx(Ns,{children:r.jsxs(Me,{children:[r.jsx(ue,{children:"Conference Name"}),r.jsx(ue,{children:"League ID"}),r.jsx(ue,{children:"Draft ID"}),r.jsx(ue,{children:"Status"}),r.jsx(ue,{children:"Actions"})]})}),r.jsx(Cs,{children:s.map(S=>r.jsxs(Me,{children:[r.jsx(oe,{children:(o==null?void 0:o.id)===S.id?r.jsx(Jt,{value:o.conference_name,onChange:P=>l({...o,conference_name:P.target.value})}):r.jsx("span",{className:"font-medium",children:S.conference_name})}),r.jsx(oe,{children:(o==null?void 0:o.id)===S.id?r.jsx(Jt,{value:o.league_id,onChange:P=>l({...o,league_id:P.target.value})}):r.jsx("code",{className:"text-sm bg-muted px-2 py-1 rounded",children:S.league_id})}),r.jsx(oe,{children:(o==null?void 0:o.id)===S.id?r.jsx(Jt,{value:o.draft_id||"",onChange:P=>l({...o,draft_id:P.target.value})}):r.jsx("code",{className:"text-sm bg-muted px-2 py-1 rounded",children:S.draft_id||"Not set"})}),r.jsx(oe,{children:r.jsx(ne,{variant:S.status==="in_season"?"default":S.status==="complete"?"secondary":"outline",children:S.status})}),r.jsx(oe,{children:r.jsx("div",{className:"flex items-center gap-2",children:(o==null?void 0:o.id)===S.id?r.jsxs(r.Fragment,{children:[r.jsx(J,{size:"sm",onClick:()=>H(o),disabled:j,children:r.jsx(Hf,{className:"h-4 w-4"})}),r.jsx(J,{size:"sm",variant:"outline",onClick:()=>l(null),children:"Cancel"})]}):r.jsxs(r.Fragment,{children:[r.jsx(J,{size:"sm",variant:"outline",onClick:()=>l(S),children:r.jsx(Ai,{className:"h-4 w-4"})}),r.jsx(J,{size:"sm",variant:"outline",onClick:()=>B(S.league_id),disabled:y===S.league_id,children:y===S.league_id?r.jsx("div",{className:"animate-spin h-4 w-4 border-b-2 border-blue-600 rounded-full"}):r.jsx(DD,{className:"h-4 w-4"})})]})})})]},S.id))})]})})]})]})};var yh="Checkbox",[SB,$H]=_n(yh),[NB,Fv]=SB(yh);function CB(e){const{__scopeCheckbox:t,checked:s,children:n,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:d,value:u="on",internal_do_not_use_render:f}=e,[m,v]=qr({prop:s,defaultProp:a??!1,onChange:c,caller:yh}),[j,g]=h.useState(null),[y,x]=h.useState(null),p=h.useRef(!1),w=j?!!o||!!j.closest("form"):!0,_={checked:m,disabled:i,setChecked:v,control:j,setControl:g,name:l,form:o,value:u,hasConsumerStoppedPropagationRef:p,required:d,defaultChecked:Da(a)?!1:a,isFormControl:w,bubbleInput:y,setBubbleInput:x};return r.jsx(NB,{scope:t,..._,children:EB(f)?f(_):n})}var yT="CheckboxTrigger",wT=h.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:s,...n},a)=>{const{control:i,value:o,disabled:l,checked:c,required:d,setControl:u,setChecked:f,hasConsumerStoppedPropagationRef:m,isFormControl:v,bubbleInput:j}=Fv(yT,e),g=ot(a,u),y=h.useRef(c);return h.useEffect(()=>{const x=i==null?void 0:i.form;if(x){const p=()=>f(y.current);return x.addEventListener("reset",p),()=>x.removeEventListener("reset",p)}},[i,f]),r.jsx(be.button,{type:"button",role:"checkbox","aria-checked":Da(c)?"mixed":c,"aria-required":d,"data-state":NT(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:g,onKeyDown:_e(t,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:_e(s,x=>{f(p=>Da(p)?!0:!p),j&&v&&(m.current=x.isPropagationStopped(),m.current||x.stopPropagation())})})});wT.displayName=yT;var Bv=h.forwardRef((e,t)=>{const{__scopeCheckbox:s,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:d,form:u,...f}=e;return r.jsx(CB,{__scopeCheckbox:s,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:d,name:n,form:u,value:c,internal_do_not_use_render:({isFormControl:m})=>r.jsxs(r.Fragment,{children:[r.jsx(wT,{...f,ref:t,__scopeCheckbox:s}),m&&r.jsx(ST,{__scopeCheckbox:s})]})})});Bv.displayName=yh;var jT="CheckboxIndicator",_T=h.forwardRef((e,t)=>{const{__scopeCheckbox:s,forceMount:n,...a}=e,i=Fv(jT,s);return r.jsx(Er,{present:n||Da(i.checked)||i.checked===!0,children:r.jsx(be.span,{"data-state":NT(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});_T.displayName=jT;var bT="CheckboxBubbleInput",ST=h.forwardRef(({__scopeCheckbox:e,...t},s)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:d,value:u,form:f,bubbleInput:m,setBubbleInput:v}=Fv(bT,e),j=ot(s,v),g=Pv(i),y=lv(n);h.useEffect(()=>{const p=m;if(!p)return;const w=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(w,"checked").set,T=!a.current;if(g!==i&&b){const N=new Event("click",{bubbles:T});p.indeterminate=Da(i),b.call(p,Da(i)?!1:i),p.dispatchEvent(N)}},[m,g,i,a]);const x=h.useRef(Da(i)?!1:i);return r.jsx(be.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??x.current,required:l,disabled:c,name:d,value:u,form:f,...t,tabIndex:-1,ref:j,style:{...t.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});ST.displayName=bT;function EB(e){return typeof e=="function"}function Da(e){return e==="indeterminate"}function NT(e){return Da(e)?"indeterminate":e?"checked":"unchecked"}const Uv=h.forwardRef(({className:e,...t},s)=>r.jsx(Bv,{ref:s,className:we("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:r.jsx(_T,{className:we("flex items-center justify-center text-current"),children:r.jsx(il,{className:"h-4 w-4"})})}));Uv.displayName=Bv.displayName;class CT{static async fetchLeagueDrafts(t){try{console.log(`Fetching drafts for league: ${t}`);const s=await fetch(`${this.baseUrl}/league/${t}/drafts`);if(!s.ok)throw new Error(`Failed to fetch drafts: ${s.status} ${s.statusText}`);const n=await s.json();return console.log(`Fetched ${n.length} drafts for league ${t}`),n}catch(s){throw console.error("Error fetching league drafts:",s),s}}static async fetchDraftPicks(t){try{console.log(`Fetching picks for draft: ${t}`);const s=await fetch(`${this.baseUrl}/draft/${t}/picks`);if(!s.ok)throw new Error(`Failed to fetch draft picks: ${s.status} ${s.statusText}`);const n=await s.json();return console.log(`Fetched ${n.length} picks for draft ${t}`),n}catch(s){throw console.error("Error fetching draft picks:",s),s}}static async getTeamIdFromOwnerMatcher(t,s){var n,a;try{const{data:i,error:o}=await window.ezsite.apis.tablePage(12853,{PageNo:1,PageSize:1,Filters:[{name:"roster_id",op:"Equal",value:t},{name:"conference_id",op:"Equal",value:s},{name:"is_active",op:"Equal",value:!0}]});if(!o&&((n=i==null?void 0:i.List)==null?void 0:n.length)>0){const d=i.List[0].team_id;return console.log(`Found team ID ${d} for roster_id ${t} in conference ${s}`),d}const{data:l,error:c}=await window.ezsite.apis.tablePage(12852,{PageNo:1,PageSize:1,Filters:[{name:"owner_id",op:"Equal",value:t}]});return c?(console.error(`Error finding team for owner_id ${t}:`,c),null):((a=l==null?void 0:l.List)==null?void 0:a.length)>0?(console.log(`Found team ID ${l.List[0].id} for owner_id ${t} (legacy mapping)`),l.List[0].id):(console.warn(`No team found for Sleeper roster_id/owner_id ${t} in conference ${s}`),null)}catch(i){return console.error("Error in getTeamIdFromOwnerMatcher:",i),null}}static async processDraftPicksForDatabase(t,s,n){var a,i;try{console.log(`Processing ${n.length} draft picks for conference ${t}, season ${s}`);const o=[];for(const l of n){const c=await this.getTeamIdFromOwnerMatcher(l.picked_by,t);if(!c){console.warn(`Skipping pick ${l.pick_no} - no team found for roster_id ${l.picked_by}`);continue}o.push({season_id:s,conference_id:t,round:l.round,draft_slot:l.draft_slot,pick_number:l.pick_no,team_id:c,player_id:l.player_id,player_name:l.metadata?`${l.metadata.first_name||""} ${l.metadata.last_name||""}`.trim():"Unknown Player",position:((a=l.metadata)==null?void 0:a.position)||"UNK",nfl_team:((i=l.metadata)==null?void 0:i.team)||"UNK",draft_id:l.draft_id})}return console.log(`Processed ${o.length} draft picks (${n.length-o.length} skipped due to missing team mapping)`),o}catch(o){throw console.error("Error processing draft picks:",o),o}}static async fetchAndStoreDraftResults(){try{console.log(" Starting draft results sync for all conferences...");const{data:t,error:s}=await window.ezsite.apis.tablePage(12820,{PageNo:1,PageSize:50,OrderByField:"id",IsAsc:!0});if(s)throw new Error(`Failed to fetch conferences: ${s}`);const n=(t==null?void 0:t.List)||[];console.log(`Found ${n.length} conferences`);const{data:a,error:i}=await window.ezsite.apis.tablePage(12818,{PageNo:1,PageSize:50,OrderByField:"season_year",IsAsc:!1});if(i)throw new Error(`Failed to fetch seasons: ${i}`);const o=(a==null?void 0:a.List)||[];console.log(`Found ${o.length} seasons`);let l=0;const c=[];for(const d of n)try{console.log(`
 Processing conference: ${d.conference_name} (League ID: ${d.league_id})`);const u=o.find(m=>m.id===d.season_id);if(!u){console.warn(` Season not found for conference ${d.conference_name}`);continue}const f=await this.fetchLeagueDrafts(d.league_id);if(f.length===0){console.warn(` No drafts found for league ${d.league_id}`);continue}for(const m of f){console.log(` Processing draft: ${m.draft_id} for season ${u.season_year}`);const v=await this.fetchDraftPicks(m.draft_id);if(v.length===0){console.warn(` No picks found for draft ${m.draft_id}`);continue}const j=await this.processDraftPicksForDatabase(d.id,u.id,v);console.log(` Clearing existing draft results for conference ${d.id}, season ${u.id}`);const{data:g,error:y}=await window.ezsite.apis.tablePage(27845,{PageNo:1,PageSize:1e3,Filters:[{name:"conference_id",op:"Equal",value:d.id},{name:"season_id",op:"Equal",value:u.id}]});if(!y&&(g!=null&&g.List))for(const x of g.List)await window.ezsite.apis.tableDelete(27845,{ID:x.id});console.log(` Inserting ${j.length} draft picks into database...`);for(const x of j){const{error:p}=await window.ezsite.apis.tableCreate(27845,{season_id:x.season_id,conference_id:x.conference_id,round:x.round,draft_slot:x.draft_slot,pick_number:x.pick_number,team_id:x.team_id,player_id:x.player_id});p?console.error(` Error inserting pick ${x.pick_number}:`,p):l++}c.push({conference:d.conference_name,season:u.season_year,draftId:m.draft_id,picksProcessed:j.length})}}catch(u){console.error(` Error processing conference ${d.conference_name}:`,u),c.push({conference:d.conference_name,error:u.message})}return console.log(`
 Draft sync completed! Total picks processed: ${l}`),{success:!0,message:`Successfully processed ${l} draft picks across ${c.length} conference/season combinations`,data:c}}catch(t){return console.error(" Error in draft sync:",t),{success:!1,message:`Draft sync failed: ${t.message}`}}}}us(CT,"baseUrl","https://api.sleeper.app/v1");const TB=()=>{const[e,t]=h.useState([]),[s,n]=h.useState([]),[a,i]=h.useState([]),[o,l]=h.useState(null),[c,d]=h.useState(!1),[u,f]=h.useState(!1),[m,v]=h.useState(!1),[j,g]=h.useState(!1),[y,x]=h.useState(!1),[p,w]=h.useState(!1),[_,b]=h.useState(0),[T,N]=h.useState(0),[E,R]=h.useState(0),[$,F]=h.useState(0),[W,I]=h.useState(0),[L,H]=h.useState(0),[B,V]=h.useState([]),[S,P]=h.useState([]),[k,C]=h.useState(null),[A,M]=h.useState(null),[D,Q]=h.useState(null),[K,z]=h.useState(null),[O,ae]=h.useState(null),[X,ee]=h.useState(null),[ce,ve]=h.useState(null),[ge,ye]=h.useState(null),[st,yt]=h.useState(null),[se,Z]=h.useState(null),[he,Ee]=h.useState(!0),[Re,wt]=h.useState("all"),[nt,ut]=h.useState("all"),[qe,Ce]=h.useState("all"),[je,Gt]=h.useState("all"),[pt,Dt]=h.useState(1),[xs,jt]=h.useState(17),[We,Ae]=h.useState([]),{toast:lt}=gs();h.useEffect(()=>{Mt(),ks(),ts(),lr(),re(),Je(),Ke(),ct()},[]),h.useEffect(()=>{o&&Zs()},[o]);const Mt=async()=>{try{const U=await Y.getSeasons(),xe=Array.isArray(U)?U:(U==null?void 0:U.data)||[];t(xe);const gt=xe.find(Xe=>Xe.is_current_season);gt?l(gt.id):xe.length>0&&l(xe[0].id)}catch(U){console.error("Error loading seasons:",U),lt({title:"Error",description:`Failed to load seasons: ${U}`,variant:"destructive"})}finally{Ee(!1)}},Zs=async()=>{if(o)try{const U=await Y.getConferences(),xe=Array.isArray(U)?U:(U==null?void 0:U.data)||[];n(xe)}catch(U){console.error("Error loading conferences:",U),lt({title:"Error",description:`Failed to load conferences: ${U}`,variant:"destructive"})}},ks=()=>{const U=localStorage.getItem("last_data_sync");U&&ae(new Date(U).toLocaleString())},ts=()=>{const U=localStorage.getItem("last_teams_sync");U&&ee(new Date(U).toLocaleString())},lr=()=>{const U=localStorage.getItem("last_players_sync");U&&ve(new Date(U).toLocaleString())},re=()=>{const U=localStorage.getItem("last_matchups_sync");U&&ye(new Date(U).toLocaleString())},Je=()=>{const U=localStorage.getItem("last_draft_sync");U&&yt(new Date(U).toLocaleString())},Ke=()=>{const U=localStorage.getItem("last_rosters_sync");U&&Z(new Date(U).toLocaleString())},ct=async()=>{try{const U=await Y.getTeams(),xe=Array.isArray(U)?U:(U==null?void 0:U.data)||[];i(xe)}catch(U){console.error("Error loading teams:",U)}},rt=()=>{switch(je){case"range":const U=[];for(let xe=pt;xe<=xs;xe++)U.push(xe);return U;case"specific":return[...We];case"all":default:return Array.from({length:17},(xe,gt)=>gt+1)}},fe=U=>{Ae(xe=>xe.includes(U)?xe.filter(gt=>gt!==U):[...xe,U].sort((gt,Xe)=>gt-Xe))},Te=()=>{Ae(Array.from({length:17},(U,xe)=>xe+1))},ft=()=>{Ae([])};He.useEffect(()=>{pt>xs&&jt(pt)},[pt,xs]);const Ie=async()=>{var xe,gt;if(!o||s.length===0){lt({title:"No Data to Sync",description:"Please select a season with conferences to sync rosters",variant:"destructive"});return}const U=rt();if(U.length===0){lt({title:"No Weeks Selected",description:"Please select at least one week to sync",variant:"destructive"});return}w(!0),H(0),z(null);try{console.log("Starting team rosters sync from Sleeper API..."),console.log(`Syncing weeks: ${U.join(", ")}`),H(5);let Xe=0,vt=0,Wt=0,Ct=0,Yt=0;const Ze=s.length*U.length;let ht=0;for(const dt of s)try{console.log(`Processing rosters for league ${dt.league_id}...`);for(const De of U){try{console.log(`Fetching roster data for league ${dt.league_id}, week ${De}...`);const Lt=await fetch(`https://api.sleeper.app/v1/league/${dt.league_id}/matchups/${De}`);if(!Lt.ok){if(Lt.status===404){console.log(`No matchups found for league ${dt.league_id}, week ${De} (404 - may not exist yet)`);continue}throw new Error(`API returned ${Lt.status}: ${Lt.statusText}`)}const Rs=await Lt.json();if(console.log(`Received ${Rs.length} roster entries for league ${dt.league_id}, week ${De}`),!Array.isArray(Rs)||Rs.length===0){console.log(`No matchup data available for league ${dt.league_id}, week ${De}`);continue}for(const js of Rs){if(!js.roster_id||!js.players||!Array.isArray(js.players)){console.warn("Skipping entry with missing roster_id or players array:",js);continue}const Us=await Ps(js.roster_id,dt.id);if(!Us){console.warn(`Could not find team ID for roster_id ${js.roster_id} in conference ${dt.id}`);continue}for(const bn of js.players)if(bn)try{const{data:en,error:ds}=await window.ezsite.apis.tablePage(12870,{PageNo:1,PageSize:1,Filters:[{name:"sleeper_player_id",op:"Equal",value:bn}]});if(ds){console.error(`Error searching for player ${bn}:`,ds);continue}if(((xe=en==null?void 0:en.List)==null?void 0:xe.length)>0){const Sn=en.List[0].id,{data:dr,error:Nn}=await window.ezsite.apis.tablePage(27886,{PageNo:1,PageSize:1,Filters:[{name:"team_id",op:"Equal",value:Us},{name:"player_id",op:"Equal",value:Sn},{name:"season_id",op:"Equal",value:o},{name:"week",op:"Equal",value:De}]});if(Nn){console.error("Error searching for existing roster record:",Nn);continue}const yd={team_id:Us,player_id:Sn,season_id:o,week:De};if(((gt=dr==null?void 0:dr.List)==null?void 0:gt.length)>0){const Cn=dr.List[0],$h={...yd,ID:Cn.id},{error:zs}=await Xi("tableUpdate");zs?console.error("Error updating roster record:",zs):(Wt++,Xe++)}else{const{error:Cn}=await Al("tableCreate");Cn?console.error("Error creating roster record:",Cn):(vt++,Xe++)}}else console.warn(`Player with sleeper_player_id ${bn} not found in database`)}catch(en){console.error(`Error processing player ${bn}:`,en)}}Yt++,await new Promise(js=>setTimeout(js,100))}catch(Lt){console.error(`Error processing week ${De} for league ${dt.league_id}:`,Lt)}ht++;const ws=5+ht/Ze*90;H(ws)}Ct++,console.log(` Completed processing rosters for league ${dt.league_id}`),await new Promise(De=>setTimeout(De,200))}catch(De){console.error(`Error processing league ${dt.league_id}:`,De)}z({success:!0,players_processed:Xe,rosters_created:vt,rosters_updated:Wt,leagues_processed:Ct,weeks_processed:Yt}),console.log(` Successfully synced rosters: ${vt} created, ${Wt} updated, ${Xe} total player assignments`);const Et=new Date().toISOString();localStorage.setItem("last_rosters_sync",Et),Z(new Date(Et).toLocaleString()),lt({title:"Team Rosters Sync Complete",description:`${vt} rosters created, ${Wt} updated across ${Ct} leagues`,variant:"default"})}catch(Xe){console.error(" Error syncing rosters:",Xe),z({success:!1,error:Xe.toString(),players_processed:0,rosters_created:0,rosters_updated:0,leagues_processed:0,weeks_processed:0}),lt({title:"Team Rosters Sync Failed",description:`Failed to sync rosters: ${Xe}`,variant:"destructive"})}finally{w(!1),H(100)}},Ps=async(U,xe)=>{var gt;try{const{data:Xe,error:vt}=await window.ezsite.apis.tablePage(12853,{PageNo:1,PageSize:1,Filters:[{name:"roster_id",op:"Equal",value:U},{name:"conference_id",op:"Equal",value:xe},{name:"is_active",op:"Equal",value:!0}]});return vt?(console.error(`Error finding team for roster_id ${U}:`,vt),null):((gt=Xe==null?void 0:Xe.List)==null?void 0:gt.length)>0?Xe.List[0].team_id:(console.warn(`No team found for roster_id ${U} in conference ${xe}`),null)}catch(Xe){return console.error("Error in getTeamIdFromRosterId:",Xe),null}},vs=async()=>{if(!o||s.length===0){lt({title:"No Data to Sync",description:"Please select a season with conferences to sync",variant:"destructive"});return}d(!0),b(0),V([]);const U=[],xe=s.length;for(let Wt=0;Wt<s.length;Wt++){const Ct=s[Wt];b((Wt+1)/xe*100);try{console.log(`Syncing league ${Ct.league_id}...`);const Yt=await fetch(`https://api.sleeper.app/v1/league/${Ct.league_id}`);if(!Yt.ok)throw new Error(`API returned ${Yt.status}: ${Yt.statusText}`);const Ze=await Yt.json();console.log("Sleeper API response:",Ze);const ht={ID:Ct.id,conference_name:Ze.name||Ct.conference_name,league_id:Ze.league_id||Ct.league_id,season_id:Ct.season_id,draft_id:Ze.draft_id||Ct.draft_id,status:Ze.status||Ct.status,league_logo_url:Ze.avatar?`https://sleepercdn.com/avatars/thumbs/${Ze.avatar}`:Ct.league_logo_url},{error:Et}=await Xi("tableUpdate");if(Et)throw Et;U.push({league_id:Ct.league_id,success:!0,data:Ze}),console.log(`Successfully synced league ${Ct.league_id}`)}catch(Yt){console.error(`Error syncing league ${Ct.league_id}:`,Yt),U.push({league_id:Ct.league_id,success:!1,error:Yt.toString()})}await new Promise(Yt=>setTimeout(Yt,200))}V(U),d(!1),b(100);const gt=new Date().toISOString();localStorage.setItem("last_data_sync",gt),ae(new Date(gt).toLocaleString()),Zs();const Xe=U.filter(Wt=>Wt.success).length,vt=U.filter(Wt=>!Wt.success).length;lt({title:"Data Sync Complete",description:`${Xe} successful, ${vt} failed`,variant:vt>0?"destructive":"default"})},ys=async()=>{var U,xe,gt,Xe;if(!o||s.length===0){lt({title:"No Data to Sync",description:"Please select a season with conferences to sync teams",variant:"destructive"});return}f(!0),N(0),P([]);try{console.log("Starting teams sync from Sleeper API..."),N(5);const vt=[],Wt=s.length;let Ct=0,Yt=0;for(let dt=0;dt<s.length;dt++){const De=s[dt];N(5+dt/Wt*90);try{console.log(`Processing teams for league ${De.league_id}...`);const[ws,Lt,Rs]=await Promise.all([fetch(`https://api.sleeper.app/v1/league/${De.league_id}`),fetch(`https://api.sleeper.app/v1/league/${De.league_id}/rosters`),fetch(`https://api.sleeper.app/v1/league/${De.league_id}/users`)]);if(!ws.ok||!Lt.ok||!Rs.ok)throw new Error(`API request failed for league ${De.league_id}`);const[js,Us,bn]=await Promise.all([ws.json(),Lt.json(),Rs.json()]);console.log(`Fetched ${Us.length} rosters and ${bn.length} users for league ${De.league_id}`);for(const en of Us){const ds=bn.find(zs=>zs.user_id===en.owner_id);if(!ds){console.warn(`No user found for roster ${en.roster_id}`);continue}const vd={team_name:((U=ds.metadata)==null?void 0:U.team_name)||ds.display_name||ds.username,owner_name:ds.display_name||ds.username,owner_id:ds.user_id,co_owner_name:"",co_owner_id:"",team_logo_url:ds.avatar?`https://sleepercdn.com/avatars/thumbs/${ds.avatar}`:"",team_primary_color:"#1f2937",team_secondary_color:"#6b7280"},{data:Sn,error:dr}=await window.ezsite.apis.tablePage(12852,{PageNo:1,PageSize:1,Filters:[{name:"owner_id",op:"Equal",value:ds.user_id}]});if(dr){console.error("Error searching for existing team:",dr);continue}let Nn;if(((xe=Sn==null?void 0:Sn.List)==null?void 0:xe.length)>0){const zs=Sn.List[0],zi={...vd,ID:zs.id},{error:Ja}=await Xi("tableUpdate");if(Ja){console.error("Error updating team:",Ja);continue}Nn=zs.id}else{const{error:zs}=await Al("tableCreate");if(zs){console.error("Error creating team:",zs);continue}const{data:zi,error:Ja}=await window.ezsite.apis.tablePage(12852,{PageNo:1,PageSize:1,Filters:[{name:"owner_id",op:"Equal",value:ds.user_id}]});if(Ja||!((gt=zi==null?void 0:zi.List)!=null&&gt.length)){console.error("Error retrieving new team ID");continue}Nn=zi.List[0].id,Ct++}const yd={team_id:Nn,conference_id:De.id,roster_id:en.roster_id.toString(),is_active:!0,joined_date:new Date().toISOString()},{data:Cn,error:$h}=await window.ezsite.apis.tablePage(12853,{PageNo:1,PageSize:1,Filters:[{name:"team_id",op:"Equal",value:Nn},{name:"conference_id",op:"Equal",value:De.id}]});if($h){console.error("Error searching for existing junction:",$h);continue}if(((Xe=Cn==null?void 0:Cn.List)==null?void 0:Xe.length)>0){const zs=Cn.List[0],zi={...yd,ID:zs.id},{error:Ja}=await Xi("tableUpdate");Ja&&console.error("Error updating junction:",Ja)}else{const{error:zs}=await Al("tableCreate");zs?console.error("Error creating junction:",zs):Yt++}}vt.push({league_id:De.league_id,success:!0,teams_created:Ct,junction_records_created:Yt}),console.log(` Completed teams sync for league ${De.league_id}`)}catch(ws){console.error(`Error syncing teams for league ${De.league_id}:`,ws),vt.push({league_id:De.league_id,success:!1,error:ws.toString(),teams_created:0,junction_records_created:0})}await new Promise(ws=>setTimeout(ws,200))}P(vt),N(100);const Ze=new Date().toISOString();localStorage.setItem("last_teams_sync",Ze),ee(new Date(Ze).toLocaleString()),ct();const ht=vt.filter(dt=>dt.success).length,Et=vt.filter(dt=>!dt.success).length;lt({title:"Teams Sync Complete",description:`${ht} successful, ${Et} failed`,variant:Et>0?"destructive":"default"})}catch(vt){console.error(" Error syncing teams:",vt),lt({title:"Teams Sync Failed",description:`Failed to sync teams: ${vt}`,variant:"destructive"})}finally{f(!1)}},fn=async()=>{var U;v(!0),R(0),C(null);try{console.log("Starting players sync from Sleeper API..."),R(5);const xe=await fetch("https://api.sleeper.app/v1/players/nfl");if(!xe.ok)throw new Error(`API returned ${xe.status}: ${xe.statusText}`);const gt=await xe.json(),Xe=Object.keys(gt);console.log(`Fetched ${Xe.length} players from Sleeper API`),R(20);let vt=0,Wt=0;const Ct=Xe.length;for(let Ze=0;Ze<Xe.length;Ze++){const ht=Xe[Ze],Et=gt[ht];if(!Et)continue;const dt=20+Ze/Ct*75;R(dt);try{const{data:De,error:ws}=await window.ezsite.apis.tablePage(12870,{PageNo:1,PageSize:1,Filters:[{name:"sleeper_player_id",op:"Equal",value:ht}]});if(ws){console.error(`Error searching for player ${ht}:`,ws);continue}const Lt={sleeper_player_id:ht,player_name:`${Et.first_name||""} ${Et.last_name||""}`.trim()||"Unknown Player",position:Et.position||"UNK",team_id:0,nfl_team:Et.team||"FA",jersey_number:Et.jersey_number||0,status:Et.status||"Active",injury_status:Et.injury_status||"Healthy",age:Et.age||0,height:Et.height||"",weight:Et.weight||0,years_experience:Et.years_exp||0,depth_chart_position:Et.depth_chart_position||1,college:Et.college||"",is_current_data:!0,last_updated:new Date().toISOString(),data_version:1};if(((U=De==null?void 0:De.List)==null?void 0:U.length)>0){const Rs=De.List[0],js={...Lt,ID:Rs.id},{error:Us}=await Xi("tableUpdate");Us?console.error(`Error updating player ${ht}:`,Us):Wt++}else{const{error:Rs}=await Al("tableCreate");Rs?console.error(`Error creating player ${ht}:`,Rs):vt++}}catch(De){console.error(`Error processing player ${ht}:`,De)}Ze%100===0&&await new Promise(De=>setTimeout(De,50))}C({success:!0,players_created:vt,players_updated:Wt}),console.log(` Successfully synced players: ${vt} created, ${Wt} updated`);const Yt=new Date().toISOString();localStorage.setItem("last_players_sync",Yt),ve(new Date(Yt).toLocaleString()),lt({title:"Players Sync Complete",description:`${vt} players created, ${Wt} updated`,variant:"default"})}catch(xe){console.error(" Error syncing players:",xe),C({success:!1,error:xe.toString(),players_created:0,players_updated:0}),lt({title:"Players Sync Failed",description:`Failed to sync players: ${xe}`,variant:"destructive"})}finally{v(!1),R(100)}},Qa=async()=>{var U;if(!o||s.length===0){lt({title:"No Data to Sync",description:"Please select a season with conferences to sync matchups",variant:"destructive"});return}g(!0),F(0),M(null);try{console.log("Starting matchups sync from Sleeper API..."),F(5);let xe=0,gt=0,Xe=0,vt=0;const Wt=s.length*17;let Ct=0;for(const Ze of s)try{console.log(`Processing matchups for league ${Ze.league_id}...`);for(let ht=1;ht<=17;ht++){try{console.log(`Fetching matchups for league ${Ze.league_id}, week ${ht}...`);const dt=await fetch(`https://api.sleeper.app/v1/league/${Ze.league_id}/matchups/${ht}`);if(!dt.ok){if(dt.status===404){console.log(`No matchups found for league ${Ze.league_id}, week ${ht} (404)`);continue}throw new Error(`API returned ${dt.status}: ${dt.statusText}`)}const De=await dt.json();if(console.log(`Received ${De.length} matchup entries for league ${Ze.league_id}, week ${ht}`),!Array.isArray(De)||De.length===0){console.log(`No matchup data available for league ${Ze.league_id}, week ${ht}`);continue}const ws=new Map;De.forEach(Lt=>{ws.has(Lt.matchup_id)||ws.set(Lt.matchup_id,[]),ws.get(Lt.matchup_id).push(Lt)});for(const[Lt,Rs]of ws.entries()){if(Rs.length!==2){console.warn(`Skipping incomplete matchup ${Lt} - only ${Rs.length} teams`);continue}const[js,Us]=Rs,bn=await Ps(js.roster_id.toString(),Ze.id),en=await Ps(Us.roster_id.toString(),Ze.id);if(!bn||!en){console.warn(`Could not find team IDs for matchup ${Lt}`);continue}let ds=0;js.points>Us.points?ds=bn:Us.points>js.points&&(ds=en);const vd={conference_id:Ze.id,week:ht,team_1_id:bn,team_2_id:en,is_playoff:ht>14,sleeper_matchup_id:Lt.toString(),team_1_score:js.points||0,team_2_score:Us.points||0,winner_id:ds,is_manual_override:!1,status:js.points>0||Us.points>0?"complete":"pending",matchup_date:new Date().toISOString(),notes:""},{data:Sn,error:dr}=await window.ezsite.apis.tablePage(13329,{PageNo:1,PageSize:1,Filters:[{name:"conference_id",op:"Equal",value:Ze.id},{name:"week",op:"Equal",value:ht},{name:"sleeper_matchup_id",op:"Equal",value:Lt.toString()}]});if(dr){console.error("Error searching for existing matchup:",dr);continue}if(((U=Sn==null?void 0:Sn.List)==null?void 0:U.length)>0){const Nn=Sn.List[0],yd={...vd,ID:Nn.id},{error:Cn}=await Xi("tableUpdate");Cn?console.error("Error updating matchup:",Cn):gt++}else{const{error:Nn}=await Al("tableCreate");Nn?console.error("Error creating matchup:",Nn):xe++}}vt++,await new Promise(Lt=>setTimeout(Lt,100))}catch(dt){console.error(`Error processing week ${ht} for league ${Ze.league_id}:`,dt)}Ct++;const Et=5+Ct/Wt*90;F(Et)}Xe++,console.log(` Completed matchups sync for league ${Ze.league_id}`),await new Promise(ht=>setTimeout(ht,200))}catch(ht){console.error(`Error processing league ${Ze.league_id}:`,ht)}M({success:!0,matchups_created:xe,matchups_updated:gt,leagues_processed:Xe,weeks_processed:vt}),console.log(` Successfully synced matchups: ${xe} created, ${gt} updated`);const Yt=new Date().toISOString();localStorage.setItem("last_matchups_sync",Yt),ye(new Date(Yt).toLocaleString()),lt({title:"Matchups Sync Complete",description:`${xe} matchups created, ${gt} updated across ${Xe} leagues`,variant:"default"})}catch(xe){console.error(" Error syncing matchups:",xe),M({success:!1,error:xe.toString(),matchups_created:0,matchups_updated:0,leagues_processed:0,weeks_processed:0}),lt({title:"Matchups Sync Failed",description:`Failed to sync matchups: ${xe}`,variant:"destructive"})}finally{g(!1),F(100)}},cr=async()=>{x(!0),I(0),Q(null);try{console.log("Starting draft sync from Sleeper API..."),I(5);const U=await CT.fetchAndStoreDraftResults();if(I(100),U.success){Q({success:!0,message:U.message,data:U.data});const xe=new Date().toISOString();localStorage.setItem("last_draft_sync",xe),yt(new Date(xe).toLocaleString()),lt({title:"Draft Sync Complete",description:U.message,variant:"default"})}else Q({success:!1,error:U.message,message:U.message}),lt({title:"Draft Sync Failed",description:U.message,variant:"destructive"})}catch(U){console.error(" Error syncing draft:",U),Q({success:!1,error:U.toString(),message:`Draft sync failed: ${U}`}),lt({title:"Draft Sync Failed",description:`Failed to sync draft: ${U}`,variant:"destructive"})}finally{x(!1)}},cs=e.find(U=>U.id===o);return he?r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsx("div",{className:"animate-spin h-8 w-8 border-b-2 border-blue-600 rounded-full"})}):r.jsx("div",{className:"space-y-6",children:r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsxs(de,{className:"flex items-center gap-2",children:[r.jsx(Zi,{className:"h-5 w-5"}),"Data Synchronization"]}),r.jsx(Se,{children:"Sync conference, team, and player data from Sleeper API to update database records"})]}),r.jsxs(G,{children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsx("div",{className:"flex items-center gap-4",children:r.jsx("div",{className:"flex-1",children:r.jsxs(At,{value:(o==null?void 0:o.toString())||"",onValueChange:U=>l(parseInt(U)),children:[r.jsx(St,{className:"w-[200px]",children:r.jsx($t,{placeholder:"Select season"})}),r.jsx(Nt,{children:e.map(U=>r.jsx(Le,{value:U.id.toString(),children:U.season_name},U.id))})]})})})}),cs&&r.jsxs(r.Fragment,{children:[s.length===0&&r.jsxs(Ye,{className:"mb-6",children:[r.jsx(et,{className:"h-4 w-4"}),r.jsxs(Qe,{children:["No conferences found for ",cs.season_name,". Conference and Team sync require leagues to be added first, but Player sync can be performed independently."]})]}),r.jsxs(kr,{defaultValue:s.length>0?"conferences":"players",className:"space-y-6",children:[r.jsxs(or,{className:"grid w-full grid-cols-6",children:[r.jsxs(Ue,{value:"conferences",className:"flex items-center gap-2",children:[r.jsx(xt,{className:"h-4 w-4"}),"Conference Sync"]}),r.jsxs(Ue,{value:"teams",className:"flex items-center gap-2",children:[r.jsx(Zt,{className:"h-4 w-4"}),"Teams Sync"]}),r.jsxs(Ue,{value:"matchups",className:"flex items-center gap-2",children:[r.jsx(it,{className:"h-4 w-4"}),"Matchups Sync"]}),r.jsxs(Ue,{value:"draft",className:"flex items-center gap-2",children:[r.jsx(mu,{className:"h-4 w-4"}),"Draft Sync"]}),r.jsxs(Ue,{value:"rosters",className:"flex items-center gap-2",children:[r.jsx(um,{className:"h-4 w-4"}),"Team Rosters"]}),r.jsxs(Ue,{value:"players",className:"flex items-center gap-2",children:[r.jsx(Co,{className:"h-4 w-4"}),"Players Sync"]})]}),r.jsx(ze,{value:"rosters",children:s.length===0?r.jsxs(Ye,{children:[r.jsx(et,{className:"h-4 w-4"}),r.jsx(Qe,{children:"No conferences available for team rosters synchronization. Please add leagues in the League Manager tab first."})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center gap-4",children:se&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx($n,{className:"h-4 w-4"}),"Last rosters sync: ",se]})}),r.jsx(J,{onClick:Ie,disabled:p||!o||s.length===0,children:p?r.jsxs(r.Fragment,{children:[r.jsx(it,{className:"h-4 w-4 mr-2 animate-spin"}),"Syncing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(um,{className:"h-4 w-4 mr-2"}),"Sync Team Rosters"]})})]}),r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsxs(de,{className:"flex items-center gap-2",children:[r.jsx(EN,{className:"h-5 w-5"}),"Week Filtering Options"]}),r.jsx(Se,{children:"Choose which weeks to sync for team rosters data"})]}),r.jsxs(G,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs(At,{value:je,onValueChange:Gt,children:[r.jsx(St,{className:"w-[200px]",children:r.jsx($t,{placeholder:"Select sync mode"})}),r.jsxs(Nt,{children:[r.jsx(Le,{value:"all",children:"All Weeks (1-17)"}),r.jsx(Le,{value:"range",children:"Week Range"}),r.jsx(Le,{value:"specific",children:"Specific Weeks"})]})]}),je==="range"&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm",children:"From week:"}),r.jsxs(At,{value:pt.toString(),onValueChange:U=>Dt(parseInt(U)),children:[r.jsx(St,{className:"w-20",children:r.jsx($t,{})}),r.jsx(Nt,{children:Array.from({length:17},(U,xe)=>xe+1).map(U=>r.jsx(Le,{value:U.toString(),children:U},U))})]}),r.jsx("span",{className:"text-sm",children:"to week:"}),r.jsxs(At,{value:xs.toString(),onValueChange:U=>jt(parseInt(U)),children:[r.jsx(St,{className:"w-20",children:r.jsx($t,{})}),r.jsx(Nt,{children:Array.from({length:17},(U,xe)=>xe+1).filter(U=>U>=pt).map(U=>r.jsx(Le,{value:U.toString(),children:U},U))})]})]})]}),je==="specific"&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(J,{variant:"outline",size:"sm",onClick:Te,className:"text-xs",children:"Select All"}),r.jsx(J,{variant:"outline",size:"sm",onClick:ft,className:"text-xs",children:"Clear All"}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[We.length," weeks selected"]})]}),r.jsx("div",{className:"grid grid-cols-9 gap-2",children:Array.from({length:17},(U,xe)=>xe+1).map(U=>r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Uv,{id:`week-${U}`,checked:We.includes(U),onCheckedChange:()=>fe(U)}),r.jsx("label",{htmlFor:`week-${U}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:U})]},U))})]}),r.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(un,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Sync Summary"})]}),r.jsx("div",{className:"text-sm text-blue-700",children:(()=>{const U=rt();return`Will sync ${U.length} week${U.length!==1?"s":""} (${U.join(", ")}) across ${s.length} conference${s.length!==1?"s":""} = ${U.length*s.length} total operations`})()})]})]})]}),p&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium",children:"Synchronizing team rosters..."}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(L),"%"]})]}),r.jsx(gr,{value:L,className:"w-full"})]}),r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsxs(de,{className:"text-lg",children:["Team Rosters Synchronization - ",cs.season_name]}),r.jsxs(Se,{children:["Sync weekly team roster data from Sleeper API using matchups endpoint for ",s.length," conference",s.length!==1?"s":""," across selected weeks"]})]}),r.jsxs(G,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(um,{className:"h-5 w-5 text-blue-600"}),r.jsx("h4",{className:"font-semibold",children:"Roster Data"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Fetches weekly roster information including:"}),r.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[r.jsx("li",{children:" Player assignments to teams by week"}),r.jsx("li",{children:" Active roster compositions"}),r.jsx("li",{children:" Team-player relationships over time"}),r.jsx("li",{children:" Historical roster tracking"})]})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Zi,{className:"h-5 w-5 text-green-600"}),r.jsx("h4",{className:"font-semibold",children:"Data Mapping"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Uses existing data for accurate mapping:"}),r.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[r.jsx("li",{children:" Maps roster_id to team_id via junction table"}),r.jsx("li",{children:" Maps sleeper_player_id to player_id"}),r.jsx("li",{children:" Creates weekly roster assignments"}),r.jsxs("li",{children:[" Processes ",s.length*17," total operations"]})]})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Sync Process Overview:"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[r.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded",children:[r.jsx("div",{className:"text-sm font-medium text-blue-800",children:"Step 1: API Calls"}),r.jsx("div",{className:"text-xs text-blue-600",children:"Fetch matchups for each league & week"})]}),r.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded",children:[r.jsx("div",{className:"text-sm font-medium text-yellow-800",children:"Step 2: Data Mapping"}),r.jsx("div",{className:"text-xs text-yellow-600",children:"Map roster_id & player_id to database"})]}),r.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 rounded",children:[r.jsx("div",{className:"text-sm font-medium text-green-800",children:"Step 3: Store Rosters"}),r.jsx("div",{className:"text-xs text-green-600",children:"Save weekly roster assignments"})]})]})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Conferences to Process:"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:s.map(U=>r.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded",children:[r.jsx(ne,{variant:"outline",className:"text-xs",children:U.league_id}),r.jsx("span",{className:"text-sm truncate",children:U.conference_name})]},U.id))}),r.jsxs("div",{className:"mt-2 text-xs text-muted-foreground",children:["Total operations: ",s.length," leagues  ",rt().length," weeks = ",s.length*rt().length," API calls"]})]}),r.jsxs(Ye,{className:"mt-4",children:[r.jsx(et,{className:"h-4 w-4"}),r.jsxs(Qe,{children:[r.jsx("strong",{children:"Note:"}),` This sync processes team rosters for the selected weeks across all conferences using the matchups endpoint. The "players" array from each matchup entry contains all players on that team's roster for that specific week. Weeks that don't exist yet (future weeks) will be skipped automatically.`]})]})]})]}),K&&r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsx(de,{className:"text-lg",children:"Team Rosters Sync Results"}),r.jsx(Se,{children:"Results from the last team rosters synchronization"})]}),r.jsx(G,{children:r.jsxs("div",{className:"p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[K.success?r.jsx(Ol,{className:"h-5 w-5 text-green-600"}):r.jsx(et,{className:"h-5 w-5 text-red-600"}),r.jsx("span",{className:"font-medium",children:"Team Rosters Synchronization"})]}),r.jsx("div",{className:"text-sm",children:K.success?r.jsx("span",{className:"text-green-600",children:"Success"}):r.jsx("span",{className:"text-red-600",children:"Failed"})})]}),K.success&&r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 text-sm text-muted-foreground",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Created:"}),r.jsx("div",{className:"text-lg font-semibold text-green-600",children:K.rosters_created})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Updated:"}),r.jsx("div",{className:"text-lg font-semibold text-blue-600",children:K.rosters_updated})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Players:"}),r.jsx("div",{className:"text-lg font-semibold text-purple-600",children:K.players_processed})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Leagues:"}),r.jsx("div",{className:"text-lg font-semibold text-orange-600",children:K.leagues_processed})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Weeks:"}),r.jsx("div",{className:"text-lg font-semibold text-teal-600",children:K.weeks_processed})]})]}),K.error&&r.jsx("div",{className:"text-sm text-red-600 mt-1",children:K.error})]})})]})]})}),r.jsx(ze,{value:"conferences",children:s.length===0?r.jsxs(Ye,{children:[r.jsx(et,{className:"h-4 w-4"}),r.jsx(Qe,{children:"No conferences available. Please add leagues in the League Manager tab first."})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center gap-4",children:O&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx($n,{className:"h-4 w-4"}),"Last sync: ",O]})}),r.jsx(J,{onClick:vs,disabled:c||!o||s.length===0,children:c?r.jsxs(r.Fragment,{children:[r.jsx(it,{className:"h-4 w-4 mr-2 animate-spin"}),"Syncing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(xt,{className:"h-4 w-4 mr-2"}),"Sync Conference Data"]})})]}),c&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium",children:"Synchronizing conferences..."}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(_),"%"]})]}),r.jsx(gr,{value:_,className:"w-full"})]}),r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsxs(de,{className:"text-lg",children:["Conference Synchronization - ",cs==null?void 0:cs.season_name]}),r.jsx(Se,{children:"Sync conference data from Sleeper API to update league information"})]}),r.jsx(G,{children:r.jsxs("div",{className:"mb-4",children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Conferences to Process:"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:s.map(U=>r.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded",children:[r.jsx(ne,{variant:"outline",className:"text-xs",children:U.league_id}),r.jsx("span",{className:"text-sm truncate",children:U.conference_name})]},U.id))})]})})]}),B.length>0&&r.jsxs(q,{children:[r.jsx(ie,{children:r.jsx(de,{className:"text-lg",children:"Sync Results"})}),r.jsx(G,{children:r.jsxs(Ss,{children:[r.jsx(Ns,{children:r.jsxs(Me,{children:[r.jsx(ue,{children:"League ID"}),r.jsx(ue,{children:"Status"}),r.jsx(ue,{children:"Details"})]})}),r.jsx(Cs,{children:B.map((U,xe)=>r.jsxs(Me,{children:[r.jsx(oe,{className:"font-medium",children:U.league_id}),r.jsx(oe,{children:U.success?r.jsx(ne,{variant:"default",children:"Success"}):r.jsx(ne,{variant:"destructive",children:"Failed"})}),r.jsx(oe,{children:U.success?r.jsx("span",{className:"text-green-600",children:"Updated successfully"}):r.jsx("span",{className:"text-red-600",children:U.error})})]},xe))})]})})]})]})}),r.jsx(ze,{value:"teams",children:s.length===0?r.jsxs(Ye,{children:[r.jsx(et,{className:"h-4 w-4"}),r.jsx(Qe,{children:"No conferences available for team synchronization. Please add leagues in the League Manager tab first."})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center gap-4",children:X&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx($n,{className:"h-4 w-4"}),"Last teams sync: ",X]})}),r.jsx(J,{onClick:ys,disabled:u||!o||s.length===0,children:u?r.jsxs(r.Fragment,{children:[r.jsx(it,{className:"h-4 w-4 mr-2 animate-spin"}),"Syncing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Sync Teams"]})})]}),u&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium",children:"Synchronizing teams..."}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(T),"%"]})]}),r.jsx(gr,{value:T,className:"w-full"})]}),r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsxs(de,{className:"text-lg",children:["Teams Synchronization - ",cs==null?void 0:cs.season_name]}),r.jsx(Se,{children:"Sync team data from Sleeper API including owners, team names, and roster mappings"})]}),r.jsx(G,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Zt,{className:"h-5 w-5 text-blue-600"}),r.jsx("h4",{className:"font-semibold",children:"Team Data"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Creates teams and junction records:"}),r.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[r.jsx("li",{children:" Team names and owner information"}),r.jsx("li",{children:" Avatar/logo URLs"}),r.jsx("li",{children:" Roster ID mappings"}),r.jsx("li",{children:" Conference relationships"})]})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Zi,{className:"h-5 w-5 text-green-600"}),r.jsx("h4",{className:"font-semibold",children:"Data Structure"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Updates database tables:"}),r.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[r.jsx("li",{children:" Teams table (team info)"}),r.jsx("li",{children:" Junction table (team-conference mapping)"}),r.jsx("li",{children:" Roster ID associations"}),r.jsx("li",{children:" Active status tracking"})]})]})]})})]}),S.length>0&&r.jsxs(q,{children:[r.jsx(ie,{children:r.jsx(de,{className:"text-lg",children:"Teams Sync Results"})}),r.jsx(G,{children:r.jsxs(Ss,{children:[r.jsx(Ns,{children:r.jsxs(Me,{children:[r.jsx(ue,{children:"League ID"}),r.jsx(ue,{children:"Status"}),r.jsx(ue,{children:"Teams Created"}),r.jsx(ue,{children:"Junction Records"}),r.jsx(ue,{children:"Details"})]})}),r.jsx(Cs,{children:S.map((U,xe)=>r.jsxs(Me,{children:[r.jsx(oe,{className:"font-medium",children:U.league_id}),r.jsx(oe,{children:U.success?r.jsx(ne,{variant:"default",children:"Success"}):r.jsx(ne,{variant:"destructive",children:"Failed"})}),r.jsx(oe,{children:U.success?U.teams_created:0}),r.jsx(oe,{children:U.success?U.junction_records_created:0}),r.jsx(oe,{children:U.success?r.jsx("span",{className:"text-green-600",children:"Updated successfully"}):r.jsx("span",{className:"text-red-600",children:U.error})})]},xe))})]})})]})]})}),r.jsx(ze,{value:"matchups",children:s.length===0?r.jsxs(Ye,{children:[r.jsx(et,{className:"h-4 w-4"}),r.jsx(Qe,{children:"No conferences available for matchup synchronization. Please add leagues in the League Manager tab first."})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center gap-4",children:ge&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx($n,{className:"h-4 w-4"}),"Last matchups sync: ",ge]})}),r.jsx(J,{onClick:Qa,disabled:j||!o||s.length===0,children:j?r.jsxs(r.Fragment,{children:[r.jsx(it,{className:"h-4 w-4 mr-2 animate-spin"}),"Syncing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(it,{className:"h-4 w-4 mr-2"}),"Sync Matchups"]})})]}),j&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium",children:"Synchronizing matchups..."}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round($),"%"]})]}),r.jsx(gr,{value:$,className:"w-full"})]}),r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsxs(de,{className:"text-lg",children:["Matchups Synchronization - ",cs==null?void 0:cs.season_name]}),r.jsx(Se,{children:"Sync matchup data from Sleeper API for all weeks across all conferences"})]}),r.jsx(G,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(it,{className:"h-5 w-5 text-blue-600"}),r.jsx("h4",{className:"font-semibold",children:"Matchup Data"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Processes matchup information:"}),r.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[r.jsx("li",{children:" Team matchups for all weeks"}),r.jsx("li",{children:" Scores and results"}),r.jsx("li",{children:" Winner determination"}),r.jsx("li",{children:" Playoff vs regular season"})]})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(un,{className:"h-5 w-5 text-green-600"}),r.jsx("h4",{className:"font-semibold",children:"Season Coverage"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Covers the entire season:"}),r.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[r.jsx("li",{children:" Weeks 1-17 for each conference"}),r.jsx("li",{children:" Regular season and playoffs"}),r.jsxs("li",{children:[" ",s.length*17," total operations"]}),r.jsx("li",{children:" Automatic status detection"})]})]})]})})]}),A&&r.jsxs(q,{children:[r.jsx(ie,{children:r.jsx(de,{className:"text-lg",children:"Matchups Sync Results"})}),r.jsx(G,{children:r.jsxs("div",{className:"p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[A.success?r.jsx(Ol,{className:"h-5 w-5 text-green-600"}):r.jsx(et,{className:"h-5 w-5 text-red-600"}),r.jsx("span",{className:"font-medium",children:"Matchups Synchronization"})]}),r.jsx("div",{className:"text-sm",children:A.success?r.jsx("span",{className:"text-green-600",children:"Success"}):r.jsx("span",{className:"text-red-600",children:"Failed"})})]}),A.success&&r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-muted-foreground",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Created:"}),r.jsx("div",{className:"text-lg font-semibold text-green-600",children:A.matchups_created})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Updated:"}),r.jsx("div",{className:"text-lg font-semibold text-blue-600",children:A.matchups_updated})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Leagues:"}),r.jsx("div",{className:"text-lg font-semibold text-orange-600",children:A.leagues_processed})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Weeks:"}),r.jsx("div",{className:"text-lg font-semibold text-purple-600",children:A.weeks_processed})]})]}),A.error&&r.jsx("div",{className:"text-sm text-red-600 mt-1",children:A.error})]})})]})]})}),r.jsx(ze,{value:"draft",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center gap-4",children:st&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx($n,{className:"h-4 w-4"}),"Last draft sync: ",st]})}),r.jsx(J,{onClick:cr,disabled:y,children:y?r.jsxs(r.Fragment,{children:[r.jsx(it,{className:"h-4 w-4 mr-2 animate-spin"}),"Syncing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(mu,{className:"h-4 w-4 mr-2"}),"Sync Draft Results"]})})]}),y&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium",children:"Synchronizing draft results..."}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(W),"%"]})]}),r.jsx(gr,{value:W,className:"w-full"})]}),r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsx(de,{className:"text-lg",children:"Draft Results Synchronization"}),r.jsx(Se,{children:"Sync draft results from Sleeper API for all conferences and seasons"})]}),r.jsxs(G,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(mu,{className:"h-5 w-5 text-blue-600"}),r.jsx("h4",{className:"font-semibold",children:"Draft Data"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Processes draft information:"}),r.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[r.jsx("li",{children:" Draft picks by round and position"}),r.jsx("li",{children:" Player information and positions"}),r.jsx("li",{children:" Team assignments"}),r.jsx("li",{children:" Historical draft tracking"})]})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Zi,{className:"h-5 w-5 text-green-600"}),r.jsx("h4",{className:"font-semibold",children:"Data Processing"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Updates draft results table:"}),r.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[r.jsx("li",{children:" Maps roster IDs to team IDs"}),r.jsx("li",{children:" Processes all conferences"}),r.jsx("li",{children:" Handles multiple seasons"}),r.jsx("li",{children:" Clears and refreshes data"})]})]})]}),r.jsxs(Ye,{children:[r.jsx(et,{className:"h-4 w-4"}),r.jsxs(Qe,{children:[r.jsx("strong",{children:"Note:"})," This sync processes draft results for all conferences and seasons. It will clear existing draft data and repopulate it with the latest information from Sleeper API."]})]})]})]}),D&&r.jsxs(q,{children:[r.jsx(ie,{children:r.jsx(de,{className:"text-lg",children:"Draft Sync Results"})}),r.jsx(G,{children:r.jsxs("div",{className:"p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[D.success?r.jsx(Ol,{className:"h-5 w-5 text-green-600"}):r.jsx(et,{className:"h-5 w-5 text-red-600"}),r.jsx("span",{className:"font-medium",children:"Draft Synchronization"})]}),r.jsx("div",{className:"text-sm",children:D.success?r.jsx("span",{className:"text-green-600",children:"Success"}):r.jsx("span",{className:"text-red-600",children:"Failed"})})]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:D.message}),D.error&&r.jsx("div",{className:"text-sm text-red-600 mt-1",children:D.error})]})})]})]})}),r.jsx(ze,{value:"players",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center gap-4",children:ce&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx($n,{className:"h-4 w-4"}),"Last players sync: ",ce]})}),r.jsx(J,{onClick:fn,disabled:m,children:m?r.jsxs(r.Fragment,{children:[r.jsx(it,{className:"h-4 w-4 mr-2 animate-spin"}),"Syncing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Co,{className:"h-4 w-4 mr-2"}),"Sync Players"]})})]}),m&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium",children:"Synchronizing players..."}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(E),"%"]})]}),r.jsx(gr,{value:E,className:"w-full"})]}),r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsx(de,{className:"text-lg",children:"Players Synchronization"}),r.jsx(Se,{children:"Sync all NFL players data from Sleeper API - this operation is independent of conferences"})]}),r.jsxs(G,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Co,{className:"h-5 w-5 text-blue-600"}),r.jsx("h4",{className:"font-semibold",children:"Player Data"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Syncs comprehensive player information:"}),r.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[r.jsx("li",{children:" Names and positions"}),r.jsx("li",{children:" NFL team affiliations"}),r.jsx("li",{children:" Physical attributes"}),r.jsx("li",{children:" Injury status"}),r.jsx("li",{children:" College and experience"})]})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Zi,{className:"h-5 w-5 text-green-600"}),r.jsx("h4",{className:"font-semibold",children:"Data Management"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Updates player database:"}),r.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[r.jsx("li",{children:" Creates new player records"}),r.jsx("li",{children:" Updates existing player info"}),r.jsx("li",{children:" Maintains Sleeper ID mappings"}),r.jsx("li",{children:" Processes thousands of players"})]})]})]}),r.jsxs(Ye,{children:[r.jsx(et,{className:"h-4 w-4"}),r.jsxs(Qe,{children:[r.jsx("strong",{children:"Note:"})," This sync processes all NFL players from Sleeper API. It can take several minutes to complete and will update or create thousands of player records."]})]})]})]}),k&&r.jsxs(q,{children:[r.jsx(ie,{children:r.jsx(de,{className:"text-lg",children:"Players Sync Results"})}),r.jsx(G,{children:r.jsxs("div",{className:"p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[k.success?r.jsx(Ol,{className:"h-5 w-5 text-green-600"}):r.jsx(et,{className:"h-5 w-5 text-red-600"}),r.jsx("span",{className:"font-medium",children:"Players Synchronization"})]}),r.jsx("div",{className:"text-sm",children:k.success?r.jsx("span",{className:"text-green-600",children:"Success"}):r.jsx("span",{className:"text-red-600",children:"Failed"})})]}),k.success&&r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Created:"}),r.jsx("div",{className:"text-lg font-semibold text-green-600",children:k.players_created})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Updated:"}),r.jsx("div",{className:"text-lg font-semibold text-blue-600",children:k.players_updated})]})]}),k.error&&r.jsx("div",{className:"text-sm text-red-600 mt-1",children:k.error})]})})]})]})})]})]})]})]})})},Xi=async(e,t)=>(console.log(`Placeholder Update: ${e}`,t),{error:null}),Al=async(e,t)=>(console.log(`Placeholder Create: ${e}`,t),{error:null});function kB(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return h.useMemo(()=>n=>{t.forEach(a=>a(n))},t)}const wh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function pl(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function zv(e){return"nodeType"in e}function Xs(e){var t,s;return e?pl(e)?e:zv(e)&&(t=(s=e.ownerDocument)==null?void 0:s.defaultView)!=null?t:window:window}function Vv(e){const{Document:t}=Xs(e);return e instanceof t}function dd(e){return pl(e)?!1:e instanceof Xs(e).HTMLElement}function ET(e){return e instanceof Xs(e).SVGElement}function gl(e){return e?pl(e)?e.document:zv(e)?Vv(e)?e:dd(e)||ET(e)?e.ownerDocument:document:document:document}const rr=wh?h.useLayoutEffect:h.useEffect;function jh(e){const t=h.useRef(e);return rr(()=>{t.current=e}),h.useCallback(function(){for(var s=arguments.length,n=new Array(s),a=0;a<s;a++)n[a]=arguments[a];return t.current==null?void 0:t.current(...n)},[])}function PB(){const e=h.useRef(null),t=h.useCallback((n,a)=>{e.current=setInterval(n,a)},[]),s=h.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,s]}function Lc(e,t){t===void 0&&(t=[e]);const s=h.useRef(e);return rr(()=>{s.current!==e&&(s.current=e)},t),s}function ud(e,t){const s=h.useRef();return h.useMemo(()=>{const n=e(s.current);return s.current=n,n},[...t])}function mf(e){const t=jh(e),s=h.useRef(null),n=h.useCallback(a=>{a!==s.current&&(t==null||t(a,s.current)),s.current=a},[]);return[s,n]}function pf(e){const t=h.useRef();return h.useEffect(()=>{t.current=e},[e]),t.current}let Mm={};function fd(e,t){return h.useMemo(()=>{if(t)return t;const s=Mm[e]==null?0:Mm[e]+1;return Mm[e]=s,e+"-"+s},[e,t])}function TT(e){return function(t){for(var s=arguments.length,n=new Array(s>1?s-1:0),a=1;a<s;a++)n[a-1]=arguments[a];return n.reduce((i,o)=>{const l=Object.entries(o);for(const[c,d]of l){const u=i[c];u!=null&&(i[c]=u+e*d)}return i},{...t})}}const Po=TT(1),Ic=TT(-1);function RB(e){return"clientX"in e&&"clientY"in e}function _h(e){if(!e)return!1;const{KeyboardEvent:t}=Xs(e.target);return t&&e instanceof t}function AB(e){if(!e)return!1;const{TouchEvent:t}=Xs(e.target);return t&&e instanceof t}function gf(e){if(AB(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:s}=e.touches[0];return{x:t,y:s}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:s}=e.changedTouches[0];return{x:t,y:s}}}return RB(e)?{x:e.clientX,y:e.clientY}:null}const Qr=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:s}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(s?Math.round(s):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:s}=e;return"scaleX("+t+") scaleY("+s+")"}},Transform:{toString(e){if(e)return[Qr.Translate.toString(e),Qr.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:s,easing:n}=e;return t+" "+s+"ms "+n}}}),ej="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function $B(e){return e.matches(ej)?e:e.querySelector(ej)}const DB={display:"none"};function MB(e){let{id:t,value:s}=e;return He.createElement("div",{id:t,style:DB},s)}function LB(e){let{id:t,announcement:s,ariaLiveType:n="assertive"}=e;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return He.createElement("div",{id:t,style:a,role:"status","aria-live":n,"aria-atomic":!0},s)}function IB(){const[e,t]=h.useState("");return{announce:h.useCallback(n=>{n!=null&&t(n)},[]),announcement:e}}const kT=h.createContext(null);function OB(e){const t=h.useContext(kT);h.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function FB(){const[e]=h.useState(()=>new Set),t=h.useCallback(n=>(e.add(n),()=>e.delete(n)),[e]);return[h.useCallback(n=>{let{type:a,event:i}=n;e.forEach(o=>{var l;return(l=o[a])==null?void 0:l.call(o,i)})},[e]),t]}const BB={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},UB={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:s}=e;return s?"Draggable item "+t.id+" was moved over droppable area "+s.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:s}=e;return s?"Draggable item "+t.id+" was dropped over droppable area "+s.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function zB(e){let{announcements:t=UB,container:s,hiddenTextDescribedById:n,screenReaderInstructions:a=BB}=e;const{announce:i,announcement:o}=IB(),l=fd("DndLiveRegion"),[c,d]=h.useState(!1);if(h.useEffect(()=>{d(!0)},[]),OB(h.useMemo(()=>({onDragStart(f){let{active:m}=f;i(t.onDragStart({active:m}))},onDragMove(f){let{active:m,over:v}=f;t.onDragMove&&i(t.onDragMove({active:m,over:v}))},onDragOver(f){let{active:m,over:v}=f;i(t.onDragOver({active:m,over:v}))},onDragEnd(f){let{active:m,over:v}=f;i(t.onDragEnd({active:m,over:v}))},onDragCancel(f){let{active:m,over:v}=f;i(t.onDragCancel({active:m,over:v}))}}),[i,t])),!c)return null;const u=He.createElement(He.Fragment,null,He.createElement(MB,{id:n,value:a.draggable}),He.createElement(LB,{id:l,announcement:o}));return s?Mn.createPortal(u,s):u}var os;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(os||(os={}));function xf(){}function vf(e,t){return h.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function PT(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return h.useMemo(()=>[...t].filter(n=>n!=null),[...t])}const ar=Object.freeze({x:0,y:0});function RT(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function VB(e,t){const s=gf(e);if(!s)return"0 0";const n={x:(s.x-t.left)/t.width*100,y:(s.y-t.top)/t.height*100};return n.x+"% "+n.y+"%"}function AT(e,t){let{data:{value:s}}=e,{data:{value:n}}=t;return s-n}function WB(e,t){let{data:{value:s}}=e,{data:{value:n}}=t;return n-s}function tj(e){let{left:t,top:s,height:n,width:a}=e;return[{x:t,y:s},{x:t+a,y:s},{x:t,y:s+n},{x:t+a,y:s+n}]}function $T(e,t){if(!e||e.length===0)return null;const[s]=e;return s[t]}function sj(e,t,s){return t===void 0&&(t=e.left),s===void 0&&(s=e.top),{x:t+e.width*.5,y:s+e.height*.5}}const DT=e=>{let{collisionRect:t,droppableRects:s,droppableContainers:n}=e;const a=sj(t,t.left,t.top),i=[];for(const o of n){const{id:l}=o,c=s.get(l);if(c){const d=RT(sj(c),a);i.push({id:l,data:{droppableContainer:o,value:d}})}}return i.sort(AT)},HB=e=>{let{collisionRect:t,droppableRects:s,droppableContainers:n}=e;const a=tj(t),i=[];for(const o of n){const{id:l}=o,c=s.get(l);if(c){const d=tj(c),u=a.reduce((m,v,j)=>m+RT(d[j],v),0),f=Number((u/4).toFixed(4));i.push({id:l,data:{droppableContainer:o,value:f}})}}return i.sort(AT)};function qB(e,t){const s=Math.max(t.top,e.top),n=Math.max(t.left,e.left),a=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),o=a-n,l=i-s;if(n<a&&s<i){const c=t.width*t.height,d=e.width*e.height,u=o*l,f=u/(c+d-u);return Number(f.toFixed(4))}return 0}const KB=e=>{let{collisionRect:t,droppableRects:s,droppableContainers:n}=e;const a=[];for(const i of n){const{id:o}=i,l=s.get(o);if(l){const c=qB(l,t);c>0&&a.push({id:o,data:{droppableContainer:i,value:c}})}}return a.sort(WB)};function GB(e,t,s){return{...e,scaleX:t&&s?t.width/s.width:1,scaleY:t&&s?t.height/s.height:1}}function MT(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:ar}function YB(e){return function(s){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return a.reduce((o,l)=>({...o,top:o.top+e*l.y,bottom:o.bottom+e*l.y,left:o.left+e*l.x,right:o.right+e*l.x}),{...s})}}const QB=YB(1);function LT(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function JB(e,t,s){const n=LT(t);if(!n)return e;const{scaleX:a,scaleY:i,x:o,y:l}=n,c=e.left-o-(1-a)*parseFloat(s),d=e.top-l-(1-i)*parseFloat(s.slice(s.indexOf(" ")+1)),u=a?e.width/a:e.width,f=i?e.height/i:e.height;return{width:u,height:f,top:d,right:c+u,bottom:d+f,left:c}}const XB={ignoreTransform:!1};function xl(e,t){t===void 0&&(t=XB);let s=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:d,transformOrigin:u}=Xs(e).getComputedStyle(e);d&&(s=JB(s,d,u))}const{top:n,left:a,width:i,height:o,bottom:l,right:c}=s;return{top:n,left:a,width:i,height:o,bottom:l,right:c}}function nj(e){return xl(e,{ignoreTransform:!0})}function ZB(e){const t=e.innerWidth,s=e.innerHeight;return{top:0,left:0,right:t,bottom:s,width:t,height:s}}function eU(e,t){return t===void 0&&(t=Xs(e).getComputedStyle(e)),t.position==="fixed"}function tU(e,t){t===void 0&&(t=Xs(e).getComputedStyle(e));const s=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const i=t[a];return typeof i=="string"?s.test(i):!1})}function bh(e,t){const s=[];function n(a){if(t!=null&&s.length>=t||!a)return s;if(Vv(a)&&a.scrollingElement!=null&&!s.includes(a.scrollingElement))return s.push(a.scrollingElement),s;if(!dd(a)||ET(a)||s.includes(a))return s;const i=Xs(e).getComputedStyle(a);return a!==e&&tU(a,i)&&s.push(a),eU(a,i)?s:n(a.parentNode)}return e?n(e):s}function IT(e){const[t]=bh(e,1);return t??null}function Lm(e){return!wh||!e?null:pl(e)?e:zv(e)?Vv(e)||e===gl(e).scrollingElement?window:dd(e)?e:null:null}function OT(e){return pl(e)?e.scrollX:e.scrollLeft}function FT(e){return pl(e)?e.scrollY:e.scrollTop}function Pg(e){return{x:OT(e),y:FT(e)}}var ms;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(ms||(ms={}));function BT(e){return!wh||!e?!1:e===document.scrollingElement}function UT(e){const t={x:0,y:0},s=BT(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},n={x:e.scrollWidth-s.width,y:e.scrollHeight-s.height},a=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,o=e.scrollTop>=n.y,l=e.scrollLeft>=n.x;return{isTop:a,isLeft:i,isBottom:o,isRight:l,maxScroll:n,minScroll:t}}const sU={x:.2,y:.2};function nU(e,t,s,n,a){let{top:i,left:o,right:l,bottom:c}=s;n===void 0&&(n=10),a===void 0&&(a=sU);const{isTop:d,isBottom:u,isLeft:f,isRight:m}=UT(e),v={x:0,y:0},j={x:0,y:0},g={height:t.height*a.y,width:t.width*a.x};return!d&&i<=t.top+g.height?(v.y=ms.Backward,j.y=n*Math.abs((t.top+g.height-i)/g.height)):!u&&c>=t.bottom-g.height&&(v.y=ms.Forward,j.y=n*Math.abs((t.bottom-g.height-c)/g.height)),!m&&l>=t.right-g.width?(v.x=ms.Forward,j.x=n*Math.abs((t.right-g.width-l)/g.width)):!f&&o<=t.left+g.width&&(v.x=ms.Backward,j.x=n*Math.abs((t.left+g.width-o)/g.width)),{direction:v,speed:j}}function rU(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:o}=window;return{top:0,left:0,right:i,bottom:o,width:i,height:o}}const{top:t,left:s,right:n,bottom:a}=e.getBoundingClientRect();return{top:t,left:s,right:n,bottom:a,width:e.clientWidth,height:e.clientHeight}}function zT(e){return e.reduce((t,s)=>Po(t,Pg(s)),ar)}function aU(e){return e.reduce((t,s)=>t+OT(s),0)}function iU(e){return e.reduce((t,s)=>t+FT(s),0)}function VT(e,t){if(t===void 0&&(t=xl),!e)return;const{top:s,left:n,bottom:a,right:i}=t(e);IT(e)&&(a<=0||i<=0||s>=window.innerHeight||n>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const oU=[["x",["left","right"],aU],["y",["top","bottom"],iU]];class Wv{constructor(t,s){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=bh(s),a=zT(n);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,o,l]of oU)for(const c of o)Object.defineProperty(this,c,{get:()=>{const d=l(n),u=a[i]-d;return this.rect[c]+u},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class tc{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(s=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...s)})},this.target=t}add(t,s,n){var a;(a=this.target)==null||a.addEventListener(t,s,n),this.listeners.push([t,s,n])}}function lU(e){const{EventTarget:t}=Xs(e);return e instanceof t?e:gl(e)}function Im(e,t){const s=Math.abs(e.x),n=Math.abs(e.y);return typeof t=="number"?Math.sqrt(s**2+n**2)>t:"x"in t&&"y"in t?s>t.x&&n>t.y:"x"in t?s>t.x:"y"in t?n>t.y:!1}var Pn;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Pn||(Pn={}));function rj(e){e.preventDefault()}function cU(e){e.stopPropagation()}var Ge;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Ge||(Ge={}));const WT={start:[Ge.Space,Ge.Enter],cancel:[Ge.Esc],end:[Ge.Space,Ge.Enter,Ge.Tab]},dU=(e,t)=>{let{currentCoordinates:s}=t;switch(e.code){case Ge.Right:return{...s,x:s.x+25};case Ge.Left:return{...s,x:s.x-25};case Ge.Down:return{...s,y:s.y+25};case Ge.Up:return{...s,y:s.y-25}}};class Sh{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:s}}=t;this.props=t,this.listeners=new tc(gl(s)),this.windowListeners=new tc(Xs(s)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Pn.Resize,this.handleCancel),this.windowListeners.add(Pn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Pn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:s}=this.props,n=t.node.current;n&&VT(n),s(ar)}handleKeyDown(t){if(_h(t)){const{active:s,context:n,options:a}=this.props,{keyboardCodes:i=WT,coordinateGetter:o=dU,scrollBehavior:l="smooth"}=a,{code:c}=t;if(i.end.includes(c)){this.handleEnd(t);return}if(i.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:d}=n.current,u=d?{x:d.left,y:d.top}:ar;this.referenceCoordinates||(this.referenceCoordinates=u);const f=o(t,{active:s,context:n.current,currentCoordinates:u});if(f){const m=Ic(f,u),v={x:0,y:0},{scrollableAncestors:j}=n.current;for(const g of j){const y=t.code,{isTop:x,isRight:p,isLeft:w,isBottom:_,maxScroll:b,minScroll:T}=UT(g),N=rU(g),E={x:Math.min(y===Ge.Right?N.right-N.width/2:N.right,Math.max(y===Ge.Right?N.left:N.left+N.width/2,f.x)),y:Math.min(y===Ge.Down?N.bottom-N.height/2:N.bottom,Math.max(y===Ge.Down?N.top:N.top+N.height/2,f.y))},R=y===Ge.Right&&!p||y===Ge.Left&&!w,$=y===Ge.Down&&!_||y===Ge.Up&&!x;if(R&&E.x!==f.x){const F=g.scrollLeft+m.x,W=y===Ge.Right&&F<=b.x||y===Ge.Left&&F>=T.x;if(W&&!m.y){g.scrollTo({left:F,behavior:l});return}W?v.x=g.scrollLeft-F:v.x=y===Ge.Right?g.scrollLeft-b.x:g.scrollLeft-T.x,v.x&&g.scrollBy({left:-v.x,behavior:l});break}else if($&&E.y!==f.y){const F=g.scrollTop+m.y,W=y===Ge.Down&&F<=b.y||y===Ge.Up&&F>=T.y;if(W&&!m.x){g.scrollTo({top:F,behavior:l});return}W?v.y=g.scrollTop-F:v.y=y===Ge.Down?g.scrollTop-b.y:g.scrollTop-T.y,v.y&&g.scrollBy({top:-v.y,behavior:l});break}}this.handleMove(t,Po(Ic(f,this.referenceCoordinates),v))}}}handleMove(t,s){const{onMove:n}=this.props;t.preventDefault(),n(s)}handleEnd(t){const{onEnd:s}=this.props;t.preventDefault(),this.detach(),s()}handleCancel(t){const{onCancel:s}=this.props;t.preventDefault(),this.detach(),s()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Sh.activators=[{eventName:"onKeyDown",handler:(e,t,s)=>{let{keyboardCodes:n=WT,onActivation:a}=t,{active:i}=s;const{code:o}=e.nativeEvent;if(n.start.includes(o)){const l=i.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),a==null||a({event:e.nativeEvent}),!0)}return!1}}];function aj(e){return!!(e&&"distance"in e)}function ij(e){return!!(e&&"delay"in e)}class Hv{constructor(t,s,n){var a;n===void 0&&(n=lU(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=s;const{event:i}=t,{target:o}=i;this.props=t,this.events=s,this.document=gl(o),this.documentListeners=new tc(this.document),this.listeners=new tc(n),this.windowListeners=new tc(Xs(o)),this.initialCoordinates=(a=gf(i))!=null?a:ar,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:s,bypassActivationConstraint:n}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Pn.Resize,this.handleCancel),this.windowListeners.add(Pn.DragStart,rj),this.windowListeners.add(Pn.VisibilityChange,this.handleCancel),this.windowListeners.add(Pn.ContextMenu,rj),this.documentListeners.add(Pn.Keydown,this.handleKeydown),s){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(ij(s)){this.timeoutId=setTimeout(this.handleStart,s.delay),this.handlePending(s);return}if(aj(s)){this.handlePending(s);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,s){const{active:n,onPending:a}=this.props;a(n,t,this.initialCoordinates,s)}handleStart(){const{initialCoordinates:t}=this,{onStart:s}=this.props;t&&(this.activated=!0,this.documentListeners.add(Pn.Click,cU,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Pn.SelectionChange,this.removeTextSelection),s(t))}handleMove(t){var s;const{activated:n,initialCoordinates:a,props:i}=this,{onMove:o,options:{activationConstraint:l}}=i;if(!a)return;const c=(s=gf(t))!=null?s:ar,d=Ic(a,c);if(!n&&l){if(aj(l)){if(l.tolerance!=null&&Im(d,l.tolerance))return this.handleCancel();if(Im(d,l.distance))return this.handleStart()}if(ij(l)&&Im(d,l.tolerance))return this.handleCancel();this.handlePending(l,d);return}t.cancelable&&t.preventDefault(),o(c)}handleEnd(){const{onAbort:t,onEnd:s}=this.props;this.detach(),this.activated||t(this.props.active),s()}handleCancel(){const{onAbort:t,onCancel:s}=this.props;this.detach(),this.activated||t(this.props.active),s()}handleKeydown(t){t.code===Ge.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const uU={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Nh extends Hv{constructor(t){const{event:s}=t,n=gl(s.target);super(t,uU,n)}}Nh.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:s}=e,{onActivation:n}=t;return!s.isPrimary||s.button!==0?!1:(n==null||n({event:s}),!0)}}];const fU={move:{name:"mousemove"},end:{name:"mouseup"}};var Rg;(function(e){e[e.RightClick=2]="RightClick"})(Rg||(Rg={}));class hU extends Hv{constructor(t){super(t,fU,gl(t.event.target))}}hU.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:s}=e,{onActivation:n}=t;return s.button===Rg.RightClick?!1:(n==null||n({event:s}),!0)}}];const Om={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class mU extends Hv{constructor(t){super(t,Om)}static setup(){return window.addEventListener(Om.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Om.move.name,t)};function t(){}}}mU.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:s}=e,{onActivation:n}=t;const{touches:a}=s;return a.length>1?!1:(n==null||n({event:s}),!0)}}];var sc;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(sc||(sc={}));var yf;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(yf||(yf={}));function pU(e){let{acceleration:t,activator:s=sc.Pointer,canScroll:n,draggingRect:a,enabled:i,interval:o=5,order:l=yf.TreeOrder,pointerCoordinates:c,scrollableAncestors:d,scrollableAncestorRects:u,delta:f,threshold:m}=e;const v=xU({delta:f,disabled:!i}),[j,g]=PB(),y=h.useRef({x:0,y:0}),x=h.useRef({x:0,y:0}),p=h.useMemo(()=>{switch(s){case sc.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case sc.DraggableRect:return a}},[s,a,c]),w=h.useRef(null),_=h.useCallback(()=>{const T=w.current;if(!T)return;const N=y.current.x*x.current.x,E=y.current.y*x.current.y;T.scrollBy(N,E)},[]),b=h.useMemo(()=>l===yf.TreeOrder?[...d].reverse():d,[l,d]);h.useEffect(()=>{if(!i||!d.length||!p){g();return}for(const T of b){if((n==null?void 0:n(T))===!1)continue;const N=d.indexOf(T),E=u[N];if(!E)continue;const{direction:R,speed:$}=nU(T,E,p,t,m);for(const F of["x","y"])v[F][R[F]]||($[F]=0,R[F]=0);if($.x>0||$.y>0){g(),w.current=T,j(_,o),y.current=$,x.current=R;return}}y.current={x:0,y:0},x.current={x:0,y:0},g()},[t,_,n,g,i,o,JSON.stringify(p),JSON.stringify(v),j,d,b,u,JSON.stringify(m)])}const gU={x:{[ms.Backward]:!1,[ms.Forward]:!1},y:{[ms.Backward]:!1,[ms.Forward]:!1}};function xU(e){let{delta:t,disabled:s}=e;const n=pf(t);return ud(a=>{if(s||!n||!a)return gU;const i={x:Math.sign(t.x-n.x),y:Math.sign(t.y-n.y)};return{x:{[ms.Backward]:a.x[ms.Backward]||i.x===-1,[ms.Forward]:a.x[ms.Forward]||i.x===1},y:{[ms.Backward]:a.y[ms.Backward]||i.y===-1,[ms.Forward]:a.y[ms.Forward]||i.y===1}}},[s,t,n])}function vU(e,t){const s=t!=null?e.get(t):void 0,n=s?s.node.current:null;return ud(a=>{var i;return t==null?null:(i=n??a)!=null?i:null},[n,t])}function yU(e,t){return h.useMemo(()=>e.reduce((s,n)=>{const{sensor:a}=n,i=a.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,n)}));return[...s,...i]},[]),[e,t])}var Oc;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Oc||(Oc={}));var Ag;(function(e){e.Optimized="optimized"})(Ag||(Ag={}));const oj=new Map;function wU(e,t){let{dragging:s,dependencies:n,config:a}=t;const[i,o]=h.useState(null),{frequency:l,measure:c,strategy:d}=a,u=h.useRef(e),f=y(),m=Lc(f),v=h.useCallback(function(x){x===void 0&&(x=[]),!m.current&&o(p=>p===null?x:p.concat(x.filter(w=>!p.includes(w))))},[m]),j=h.useRef(null),g=ud(x=>{if(f&&!s)return oj;if(!x||x===oj||u.current!==e||i!=null){const p=new Map;for(let w of e){if(!w)continue;if(i&&i.length>0&&!i.includes(w.id)&&w.rect.current){p.set(w.id,w.rect.current);continue}const _=w.node.current,b=_?new Wv(c(_),_):null;w.rect.current=b,b&&p.set(w.id,b)}return p}return x},[e,i,s,f,c]);return h.useEffect(()=>{u.current=e},[e]),h.useEffect(()=>{f||v()},[s,f]),h.useEffect(()=>{i&&i.length>0&&o(null)},[JSON.stringify(i)]),h.useEffect(()=>{f||typeof l!="number"||j.current!==null||(j.current=setTimeout(()=>{v(),j.current=null},l))},[l,f,v,...n]),{droppableRects:g,measureDroppableContainers:v,measuringScheduled:i!=null};function y(){switch(d){case Oc.Always:return!1;case Oc.BeforeDragging:return s;default:return!s}}}function qv(e,t){return ud(s=>e?s||(typeof t=="function"?t(e):e):null,[t,e])}function jU(e,t){return qv(e,t)}function _U(e){let{callback:t,disabled:s}=e;const n=jh(t),a=h.useMemo(()=>{if(s||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(n)},[n,s]);return h.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function Ch(e){let{callback:t,disabled:s}=e;const n=jh(t),a=h.useMemo(()=>{if(s||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(n)},[s]);return h.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function bU(e){return new Wv(xl(e),e)}function lj(e,t,s){t===void 0&&(t=bU);const[n,a]=h.useState(null);function i(){a(c=>{if(!e)return null;if(e.isConnected===!1){var d;return(d=c??s)!=null?d:null}const u=t(e);return JSON.stringify(c)===JSON.stringify(u)?c:u})}const o=_U({callback(c){if(e)for(const d of c){const{type:u,target:f}=d;if(u==="childList"&&f instanceof HTMLElement&&f.contains(e)){i();break}}}}),l=Ch({callback:i});return rr(()=>{i(),e?(l==null||l.observe(e),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),o==null||o.disconnect())},[e]),n}function SU(e){const t=qv(e);return MT(e,t)}const cj=[];function NU(e){const t=h.useRef(e),s=ud(n=>e?n&&n!==cj&&e&&t.current&&e.parentNode===t.current.parentNode?n:bh(e):cj,[e]);return h.useEffect(()=>{t.current=e},[e]),s}function CU(e){const[t,s]=h.useState(null),n=h.useRef(e),a=h.useCallback(i=>{const o=Lm(i.target);o&&s(l=>l?(l.set(o,Pg(o)),new Map(l)):null)},[]);return h.useEffect(()=>{const i=n.current;if(e!==i){o(i);const l=e.map(c=>{const d=Lm(c);return d?(d.addEventListener("scroll",a,{passive:!0}),[d,Pg(d)]):null}).filter(c=>c!=null);s(l.length?new Map(l):null),n.current=e}return()=>{o(e),o(i)};function o(l){l.forEach(c=>{const d=Lm(c);d==null||d.removeEventListener("scroll",a)})}},[a,e]),h.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,o)=>Po(i,o),ar):zT(e):ar,[e,t])}function dj(e,t){t===void 0&&(t=[]);const s=h.useRef(null);return h.useEffect(()=>{s.current=null},t),h.useEffect(()=>{const n=e!==ar;n&&!s.current&&(s.current=e),!n&&s.current&&(s.current=null)},[e]),s.current?Ic(e,s.current):ar}function EU(e){h.useEffect(()=>{if(!wh)return;const t=e.map(s=>{let{sensor:n}=s;return n.setup==null?void 0:n.setup()});return()=>{for(const s of t)s==null||s()}},e.map(t=>{let{sensor:s}=t;return s}))}function TU(e,t){return h.useMemo(()=>e.reduce((s,n)=>{let{eventName:a,handler:i}=n;return s[a]=o=>{i(o,t)},s},{}),[e,t])}function HT(e){return h.useMemo(()=>e?ZB(e):null,[e])}const uj=[];function kU(e,t){t===void 0&&(t=xl);const[s]=e,n=HT(s?Xs(s):null),[a,i]=h.useState(uj);function o(){i(()=>e.length?e.map(c=>BT(c)?n:new Wv(t(c),c)):uj)}const l=Ch({callback:o});return rr(()=>{l==null||l.disconnect(),o(),e.forEach(c=>l==null?void 0:l.observe(c))},[e]),a}function qT(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return dd(t)?t:e}function PU(e){let{measure:t}=e;const[s,n]=h.useState(null),a=h.useCallback(d=>{for(const{target:u}of d)if(dd(u)){n(f=>{const m=t(u);return f?{...f,width:m.width,height:m.height}:m});break}},[t]),i=Ch({callback:a}),o=h.useCallback(d=>{const u=qT(d);i==null||i.disconnect(),u&&(i==null||i.observe(u)),n(u?t(u):null)},[t,i]),[l,c]=mf(o);return h.useMemo(()=>({nodeRef:l,rect:s,setRef:c}),[s,l,c])}const RU=[{sensor:Nh,options:{}},{sensor:Sh,options:{}}],AU={current:{}},yu={draggable:{measure:nj},droppable:{measure:nj,strategy:Oc.WhileDragging,frequency:Ag.Optimized},dragOverlay:{measure:xl}};class nc extends Map{get(t){var s;return t!=null&&(s=super.get(t))!=null?s:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:s}=t;return!s})}getNodeFor(t){var s,n;return(s=(n=this.get(t))==null?void 0:n.node.current)!=null?s:void 0}}const $U={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new nc,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:xf},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:yu,measureDroppableContainers:xf,windowRect:null,measuringScheduled:!1},KT={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:xf,draggableNodes:new Map,over:null,measureDroppableContainers:xf},hd=h.createContext(KT),GT=h.createContext($U);function DU(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new nc}}}function MU(e,t){switch(t.type){case os.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case os.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case os.DragEnd:case os.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case os.RegisterDroppable:{const{element:s}=t,{id:n}=s,a=new nc(e.droppable.containers);return a.set(n,s),{...e,droppable:{...e.droppable,containers:a}}}case os.SetDroppableDisabled:{const{id:s,key:n,disabled:a}=t,i=e.droppable.containers.get(s);if(!i||n!==i.key)return e;const o=new nc(e.droppable.containers);return o.set(s,{...i,disabled:a}),{...e,droppable:{...e.droppable,containers:o}}}case os.UnregisterDroppable:{const{id:s,key:n}=t,a=e.droppable.containers.get(s);if(!a||n!==a.key)return e;const i=new nc(e.droppable.containers);return i.delete(s),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function LU(e){let{disabled:t}=e;const{active:s,activatorEvent:n,draggableNodes:a}=h.useContext(hd),i=pf(n),o=pf(s==null?void 0:s.id);return h.useEffect(()=>{if(!t&&!n&&i&&o!=null){if(!_h(i)||document.activeElement===i.target)return;const l=a.get(o);if(!l)return;const{activatorNode:c,node:d}=l;if(!c.current&&!d.current)return;requestAnimationFrame(()=>{for(const u of[c.current,d.current]){if(!u)continue;const f=$B(u);if(f){f.focus();break}}})}},[n,t,a,o,i]),null}function YT(e,t){let{transform:s,...n}=t;return e!=null&&e.length?e.reduce((a,i)=>i({transform:a,...n}),s):s}function IU(e){return h.useMemo(()=>({draggable:{...yu.draggable,...e==null?void 0:e.draggable},droppable:{...yu.droppable,...e==null?void 0:e.droppable},dragOverlay:{...yu.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function OU(e){let{activeNode:t,measure:s,initialRect:n,config:a=!0}=e;const i=h.useRef(!1),{x:o,y:l}=typeof a=="boolean"?{x:a,y:a}:a;rr(()=>{if(!o&&!l||!t){i.current=!1;return}if(i.current||!n)return;const d=t==null?void 0:t.node.current;if(!d||d.isConnected===!1)return;const u=s(d),f=MT(u,n);if(o||(f.x=0),l||(f.y=0),i.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const m=IT(d);m&&m.scrollBy({top:f.y,left:f.x})}},[t,o,l,n,s])}const Eh=h.createContext({...ar,scaleX:1,scaleY:1});var ua;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(ua||(ua={}));const QT=h.memo(function(t){var s,n,a,i;let{id:o,accessibility:l,autoScroll:c=!0,children:d,sensors:u=RU,collisionDetection:f=KB,measuring:m,modifiers:v,...j}=t;const g=h.useReducer(MU,void 0,DU),[y,x]=g,[p,w]=FB(),[_,b]=h.useState(ua.Uninitialized),T=_===ua.Initialized,{draggable:{active:N,nodes:E,translate:R},droppable:{containers:$}}=y,F=N!=null?E.get(N):null,W=h.useRef({initial:null,translated:null}),I=h.useMemo(()=>{var re;return N!=null?{id:N,data:(re=F==null?void 0:F.data)!=null?re:AU,rect:W}:null},[N,F]),L=h.useRef(null),[H,B]=h.useState(null),[V,S]=h.useState(null),P=Lc(j,Object.values(j)),k=fd("DndDescribedBy",o),C=h.useMemo(()=>$.getEnabled(),[$]),A=IU(m),{droppableRects:M,measureDroppableContainers:D,measuringScheduled:Q}=wU(C,{dragging:T,dependencies:[R.x,R.y],config:A.droppable}),K=vU(E,N),z=h.useMemo(()=>V?gf(V):null,[V]),O=lr(),ae=jU(K,A.draggable.measure);OU({activeNode:N!=null?E.get(N):null,config:O.layoutShiftCompensation,initialRect:ae,measure:A.draggable.measure});const X=lj(K,A.draggable.measure,ae),ee=lj(K?K.parentElement:null),ce=h.useRef({activatorEvent:null,active:null,activeNode:K,collisionRect:null,collisions:null,droppableRects:M,draggableNodes:E,draggingNode:null,draggingNodeRect:null,droppableContainers:$,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ve=$.getNodeFor((s=ce.current.over)==null?void 0:s.id),ge=PU({measure:A.dragOverlay.measure}),ye=(n=ge.nodeRef.current)!=null?n:K,st=T?(a=ge.rect)!=null?a:X:null,yt=!!(ge.nodeRef.current&&ge.rect),se=SU(yt?null:X),Z=HT(ye?Xs(ye):null),he=NU(T?ve??K:null),Ee=kU(he),Re=YT(v,{transform:{x:R.x-se.x,y:R.y-se.y,scaleX:1,scaleY:1},activatorEvent:V,active:I,activeNodeRect:X,containerNodeRect:ee,draggingNodeRect:st,over:ce.current.over,overlayNodeRect:ge.rect,scrollableAncestors:he,scrollableAncestorRects:Ee,windowRect:Z}),wt=z?Po(z,R):null,nt=CU(he),ut=dj(nt),qe=dj(nt,[X]),Ce=Po(Re,ut),je=st?QB(st,Re):null,Gt=I&&je?f({active:I,collisionRect:je,droppableRects:M,droppableContainers:C,pointerCoordinates:wt}):null,pt=$T(Gt,"id"),[Dt,xs]=h.useState(null),jt=yt?Re:Po(Re,qe),We=GB(jt,(i=Dt==null?void 0:Dt.rect)!=null?i:null,X),Ae=h.useRef(null),lt=h.useCallback((re,Je)=>{let{sensor:Ke,options:ct}=Je;if(L.current==null)return;const rt=E.get(L.current);if(!rt)return;const fe=re.nativeEvent,Te=new Ke({active:L.current,activeNode:rt,event:fe,options:ct,context:ce,onAbort(Ie){if(!E.get(Ie))return;const{onDragAbort:vs}=P.current,ys={id:Ie};vs==null||vs(ys),p({type:"onDragAbort",event:ys})},onPending(Ie,Ps,vs,ys){if(!E.get(Ie))return;const{onDragPending:Qa}=P.current,cr={id:Ie,constraint:Ps,initialCoordinates:vs,offset:ys};Qa==null||Qa(cr),p({type:"onDragPending",event:cr})},onStart(Ie){const Ps=L.current;if(Ps==null)return;const vs=E.get(Ps);if(!vs)return;const{onDragStart:ys}=P.current,fn={activatorEvent:fe,active:{id:Ps,data:vs.data,rect:W}};Mn.unstable_batchedUpdates(()=>{ys==null||ys(fn),b(ua.Initializing),x({type:os.DragStart,initialCoordinates:Ie,active:Ps}),p({type:"onDragStart",event:fn}),B(Ae.current),S(fe)})},onMove(Ie){x({type:os.DragMove,coordinates:Ie})},onEnd:ft(os.DragEnd),onCancel:ft(os.DragCancel)});Ae.current=Te;function ft(Ie){return async function(){const{active:vs,collisions:ys,over:fn,scrollAdjustedTranslate:Qa}=ce.current;let cr=null;if(vs&&Qa){const{cancelDrop:cs}=P.current;cr={activatorEvent:fe,active:vs,collisions:ys,delta:Qa,over:fn},Ie===os.DragEnd&&typeof cs=="function"&&await Promise.resolve(cs(cr))&&(Ie=os.DragCancel)}L.current=null,Mn.unstable_batchedUpdates(()=>{x({type:Ie}),b(ua.Uninitialized),xs(null),B(null),S(null),Ae.current=null;const cs=Ie===os.DragEnd?"onDragEnd":"onDragCancel";if(cr){const U=P.current[cs];U==null||U(cr),p({type:cs,event:cr})}})}}},[E]),Mt=h.useCallback((re,Je)=>(Ke,ct)=>{const rt=Ke.nativeEvent,fe=E.get(ct);if(L.current!==null||!fe||rt.dndKit||rt.defaultPrevented)return;const Te={active:fe};re(Ke,Je.options,Te)===!0&&(rt.dndKit={capturedBy:Je.sensor},L.current=ct,lt(Ke,Je))},[E,lt]),Zs=yU(u,Mt);EU(u),rr(()=>{X&&_===ua.Initializing&&b(ua.Initialized)},[X,_]),h.useEffect(()=>{const{onDragMove:re}=P.current,{active:Je,activatorEvent:Ke,collisions:ct,over:rt}=ce.current;if(!Je||!Ke)return;const fe={active:Je,activatorEvent:Ke,collisions:ct,delta:{x:Ce.x,y:Ce.y},over:rt};Mn.unstable_batchedUpdates(()=>{re==null||re(fe),p({type:"onDragMove",event:fe})})},[Ce.x,Ce.y]),h.useEffect(()=>{const{active:re,activatorEvent:Je,collisions:Ke,droppableContainers:ct,scrollAdjustedTranslate:rt}=ce.current;if(!re||L.current==null||!Je||!rt)return;const{onDragOver:fe}=P.current,Te=ct.get(pt),ft=Te&&Te.rect.current?{id:Te.id,rect:Te.rect.current,data:Te.data,disabled:Te.disabled}:null,Ie={active:re,activatorEvent:Je,collisions:Ke,delta:{x:rt.x,y:rt.y},over:ft};Mn.unstable_batchedUpdates(()=>{xs(ft),fe==null||fe(Ie),p({type:"onDragOver",event:Ie})})},[pt]),rr(()=>{ce.current={activatorEvent:V,active:I,activeNode:K,collisionRect:je,collisions:Gt,droppableRects:M,draggableNodes:E,draggingNode:ye,draggingNodeRect:st,droppableContainers:$,over:Dt,scrollableAncestors:he,scrollAdjustedTranslate:Ce},W.current={initial:st,translated:je}},[I,K,Gt,je,E,ye,st,M,$,Dt,he,Ce]),pU({...O,delta:R,draggingRect:je,pointerCoordinates:wt,scrollableAncestors:he,scrollableAncestorRects:Ee});const ks=h.useMemo(()=>({active:I,activeNode:K,activeNodeRect:X,activatorEvent:V,collisions:Gt,containerNodeRect:ee,dragOverlay:ge,draggableNodes:E,droppableContainers:$,droppableRects:M,over:Dt,measureDroppableContainers:D,scrollableAncestors:he,scrollableAncestorRects:Ee,measuringConfiguration:A,measuringScheduled:Q,windowRect:Z}),[I,K,X,V,Gt,ee,ge,E,$,M,Dt,D,he,Ee,A,Q,Z]),ts=h.useMemo(()=>({activatorEvent:V,activators:Zs,active:I,activeNodeRect:X,ariaDescribedById:{draggable:k},dispatch:x,draggableNodes:E,over:Dt,measureDroppableContainers:D}),[V,Zs,I,X,x,k,E,Dt,D]);return He.createElement(kT.Provider,{value:w},He.createElement(hd.Provider,{value:ts},He.createElement(GT.Provider,{value:ks},He.createElement(Eh.Provider,{value:We},d)),He.createElement(LU,{disabled:(l==null?void 0:l.restoreFocus)===!1})),He.createElement(zB,{...l,hiddenTextDescribedById:k}));function lr(){const re=(H==null?void 0:H.autoScrollEnabled)===!1,Je=typeof c=="object"?c.enabled===!1:c===!1,Ke=T&&!re&&!Je;return typeof c=="object"?{...c,enabled:Ke}:{enabled:Ke}}}),FU=h.createContext(null),fj="button",BU="Draggable";function UU(e){let{id:t,data:s,disabled:n=!1,attributes:a}=e;const i=fd(BU),{activators:o,activatorEvent:l,active:c,activeNodeRect:d,ariaDescribedById:u,draggableNodes:f,over:m}=h.useContext(hd),{role:v=fj,roleDescription:j="draggable",tabIndex:g=0}=a??{},y=(c==null?void 0:c.id)===t,x=h.useContext(y?Eh:FU),[p,w]=mf(),[_,b]=mf(),T=TU(o,t),N=Lc(s);rr(()=>(f.set(t,{id:t,key:i,node:p,activatorNode:_,data:N}),()=>{const R=f.get(t);R&&R.key===i&&f.delete(t)}),[f,t]);const E=h.useMemo(()=>({role:v,tabIndex:g,"aria-disabled":n,"aria-pressed":y&&v===fj?!0:void 0,"aria-roledescription":j,"aria-describedby":u.draggable}),[n,v,g,y,j,u.draggable]);return{active:c,activatorEvent:l,activeNodeRect:d,attributes:E,isDragging:y,listeners:n?void 0:T,node:p,over:m,setNodeRef:w,setActivatorNodeRef:b,transform:x}}function JT(){return h.useContext(GT)}const zU="Droppable",VU={timeout:25};function WU(e){let{data:t,disabled:s=!1,id:n,resizeObserverConfig:a}=e;const i=fd(zU),{active:o,dispatch:l,over:c,measureDroppableContainers:d}=h.useContext(hd),u=h.useRef({disabled:s}),f=h.useRef(!1),m=h.useRef(null),v=h.useRef(null),{disabled:j,updateMeasurementsFor:g,timeout:y}={...VU,...a},x=Lc(g??n),p=h.useCallback(()=>{if(!f.current){f.current=!0;return}v.current!=null&&clearTimeout(v.current),v.current=setTimeout(()=>{d(Array.isArray(x.current)?x.current:[x.current]),v.current=null},y)},[y]),w=Ch({callback:p,disabled:j||!o}),_=h.useCallback((E,R)=>{w&&(R&&(w.unobserve(R),f.current=!1),E&&w.observe(E))},[w]),[b,T]=mf(_),N=Lc(t);return h.useEffect(()=>{!w||!b.current||(w.disconnect(),f.current=!1,w.observe(b.current))},[b,w]),h.useEffect(()=>(l({type:os.RegisterDroppable,element:{id:n,key:i,disabled:s,node:b,rect:m,data:N}}),()=>l({type:os.UnregisterDroppable,key:i,id:n})),[n]),h.useEffect(()=>{s!==u.current.disabled&&(l({type:os.SetDroppableDisabled,id:n,key:i,disabled:s}),u.current.disabled=s)},[n,i,s,l]),{active:o,rect:m,isOver:(c==null?void 0:c.id)===n,node:b,over:c,setNodeRef:T}}function HU(e){let{animation:t,children:s}=e;const[n,a]=h.useState(null),[i,o]=h.useState(null),l=pf(s);return!s&&!n&&l&&a(l),rr(()=>{if(!i)return;const c=n==null?void 0:n.key,d=n==null?void 0:n.props.id;if(c==null||d==null){a(null);return}Promise.resolve(t(d,i)).then(()=>{a(null)})},[t,n,i]),He.createElement(He.Fragment,null,s,n?h.cloneElement(n,{ref:o}):null)}const qU={x:0,y:0,scaleX:1,scaleY:1};function KU(e){let{children:t}=e;return He.createElement(hd.Provider,{value:KT},He.createElement(Eh.Provider,{value:qU},t))}const GU={position:"fixed",touchAction:"none"},YU=e=>_h(e)?"transform 250ms ease":void 0,QU=h.forwardRef((e,t)=>{let{as:s,activatorEvent:n,adjustScale:a,children:i,className:o,rect:l,style:c,transform:d,transition:u=YU}=e;if(!l)return null;const f=a?d:{...d,scaleX:1,scaleY:1},m={...GU,width:l.width,height:l.height,top:l.top,left:l.left,transform:Qr.Transform.toString(f),transformOrigin:a&&n?VB(n,l):void 0,transition:typeof u=="function"?u(n):u,...c};return He.createElement(s,{className:o,style:m,ref:t},i)}),JU=e=>t=>{let{active:s,dragOverlay:n}=t;const a={},{styles:i,className:o}=e;if(i!=null&&i.active)for(const[l,c]of Object.entries(i.active))c!==void 0&&(a[l]=s.node.style.getPropertyValue(l),s.node.style.setProperty(l,c));if(i!=null&&i.dragOverlay)for(const[l,c]of Object.entries(i.dragOverlay))c!==void 0&&n.node.style.setProperty(l,c);return o!=null&&o.active&&s.node.classList.add(o.active),o!=null&&o.dragOverlay&&n.node.classList.add(o.dragOverlay),function(){for(const[c,d]of Object.entries(a))s.node.style.setProperty(c,d);o!=null&&o.active&&s.node.classList.remove(o.active)}},XU=e=>{let{transform:{initial:t,final:s}}=e;return[{transform:Qr.Transform.toString(t)},{transform:Qr.Transform.toString(s)}]},ZU={duration:250,easing:"ease",keyframes:XU,sideEffects:JU({styles:{active:{opacity:"0"}}})};function ez(e){let{config:t,draggableNodes:s,droppableContainers:n,measuringConfiguration:a}=e;return jh((i,o)=>{if(t===null)return;const l=s.get(i);if(!l)return;const c=l.node.current;if(!c)return;const d=qT(o);if(!d)return;const{transform:u}=Xs(o).getComputedStyle(o),f=LT(u);if(!f)return;const m=typeof t=="function"?t:tz(t);return VT(c,a.draggable.measure),m({active:{id:i,data:l.data,node:c,rect:a.draggable.measure(c)},draggableNodes:s,dragOverlay:{node:o,rect:a.dragOverlay.measure(d)},droppableContainers:n,measuringConfiguration:a,transform:f})})}function tz(e){const{duration:t,easing:s,sideEffects:n,keyframes:a}={...ZU,...e};return i=>{let{active:o,dragOverlay:l,transform:c,...d}=i;if(!t)return;const u={x:l.rect.left-o.rect.left,y:l.rect.top-o.rect.top},f={scaleX:c.scaleX!==1?o.rect.width*c.scaleX/l.rect.width:1,scaleY:c.scaleY!==1?o.rect.height*c.scaleY/l.rect.height:1},m={x:c.x-u.x,y:c.y-u.y,...f},v=a({...d,active:o,dragOverlay:l,transform:{initial:c,final:m}}),[j]=v,g=v[v.length-1];if(JSON.stringify(j)===JSON.stringify(g))return;const y=n==null?void 0:n({active:o,dragOverlay:l,...d}),x=l.node.animate(v,{duration:t,easing:s,fill:"forwards"});return new Promise(p=>{x.onfinish=()=>{y==null||y(),p()}})}}let hj=0;function sz(e){return h.useMemo(()=>{if(e!=null)return hj++,hj},[e])}const XT=He.memo(e=>{let{adjustScale:t=!1,children:s,dropAnimation:n,style:a,transition:i,modifiers:o,wrapperElement:l="div",className:c,zIndex:d=999}=e;const{activatorEvent:u,active:f,activeNodeRect:m,containerNodeRect:v,draggableNodes:j,droppableContainers:g,dragOverlay:y,over:x,measuringConfiguration:p,scrollableAncestors:w,scrollableAncestorRects:_,windowRect:b}=JT(),T=h.useContext(Eh),N=sz(f==null?void 0:f.id),E=YT(o,{activatorEvent:u,active:f,activeNodeRect:m,containerNodeRect:v,draggingNodeRect:y.rect,over:x,overlayNodeRect:y.rect,scrollableAncestors:w,scrollableAncestorRects:_,transform:T,windowRect:b}),R=qv(m),$=ez({config:n,draggableNodes:j,droppableContainers:g,measuringConfiguration:p}),F=R?y.setRef:void 0;return He.createElement(KU,null,He.createElement(HU,{animation:$},f&&N?He.createElement(QU,{key:N,id:f.id,ref:F,as:l,activatorEvent:u,adjustScale:t,className:c,transition:i,rect:R,style:{zIndex:d,...a},transform:E},s):null))});function ZT(e,t,s){const n=e.slice();return n.splice(s<0?n.length+s:s,0,n.splice(t,1)[0]),n}function nz(e,t){return e.reduce((s,n,a)=>{const i=t.get(n);return i&&(s[a]=i),s},Array(e.length))}function Yd(e){return e!==null&&e>=0}function rz(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let s=0;s<e.length;s++)if(e[s]!==t[s])return!1;return!0}function az(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Th=e=>{let{rects:t,activeIndex:s,overIndex:n,index:a}=e;const i=ZT(t,n,s),o=t[a],l=i[a];return!l||!o?null:{x:l.left-o.left,y:l.top-o.top,scaleX:l.width/o.width,scaleY:l.height/o.height}},ek="Sortable",tk=He.createContext({activeIndex:-1,containerId:ek,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Th,disabled:{draggable:!1,droppable:!1}});function sk(e){let{children:t,id:s,items:n,strategy:a=Th,disabled:i=!1}=e;const{active:o,dragOverlay:l,droppableRects:c,over:d,measureDroppableContainers:u}=JT(),f=fd(ek,s),m=l.rect!==null,v=h.useMemo(()=>n.map(T=>typeof T=="object"&&"id"in T?T.id:T),[n]),j=o!=null,g=o?v.indexOf(o.id):-1,y=d?v.indexOf(d.id):-1,x=h.useRef(v),p=!rz(v,x.current),w=y!==-1&&g===-1||p,_=az(i);rr(()=>{p&&j&&u(v)},[p,v,j,u]),h.useEffect(()=>{x.current=v},[v]);const b=h.useMemo(()=>({activeIndex:g,containerId:f,disabled:_,disableTransforms:w,items:v,overIndex:y,useDragOverlay:m,sortedRects:nz(v,c),strategy:a}),[g,f,_.draggable,_.droppable,w,v,y,c,m,a]);return He.createElement(tk.Provider,{value:b},t)}const iz=e=>{let{id:t,items:s,activeIndex:n,overIndex:a}=e;return ZT(s,n,a).indexOf(t)},oz=e=>{let{containerId:t,isSorting:s,wasDragging:n,index:a,items:i,newIndex:o,previousItems:l,previousContainerId:c,transition:d}=e;return!d||!n||l!==i&&a===o?!1:s?!0:o!==a&&t===c},lz={duration:200,easing:"ease"},nk="transform",cz=Qr.Transition.toString({property:nk,duration:0,easing:"linear"}),dz={roleDescription:"sortable"};function uz(e){let{disabled:t,index:s,node:n,rect:a}=e;const[i,o]=h.useState(null),l=h.useRef(s);return rr(()=>{if(!t&&s!==l.current&&n.current){const c=a.current;if(c){const d=xl(n.current,{ignoreTransform:!0}),u={x:c.left-d.left,y:c.top-d.top,scaleX:c.width/d.width,scaleY:c.height/d.height};(u.x||u.y)&&o(u)}}s!==l.current&&(l.current=s)},[t,s,n,a]),h.useEffect(()=>{i&&o(null)},[i]),i}function rk(e){let{animateLayoutChanges:t=oz,attributes:s,disabled:n,data:a,getNewIndex:i=iz,id:o,strategy:l,resizeObserverConfig:c,transition:d=lz}=e;const{items:u,containerId:f,activeIndex:m,disabled:v,disableTransforms:j,sortedRects:g,overIndex:y,useDragOverlay:x,strategy:p}=h.useContext(tk),w=fz(n,v),_=u.indexOf(o),b=h.useMemo(()=>({sortable:{containerId:f,index:_,items:u},...a}),[f,a,_,u]),T=h.useMemo(()=>u.slice(u.indexOf(o)),[u,o]),{rect:N,node:E,isOver:R,setNodeRef:$}=WU({id:o,data:b,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:T,...c}}),{active:F,activatorEvent:W,activeNodeRect:I,attributes:L,setNodeRef:H,listeners:B,isDragging:V,over:S,setActivatorNodeRef:P,transform:k}=UU({id:o,data:b,attributes:{...dz,...s},disabled:w.draggable}),C=kB($,H),A=!!F,M=A&&!j&&Yd(m)&&Yd(y),D=!x&&V,Q=D&&M?k:null,z=M?Q??(l??p)({rects:g,activeNodeRect:I,activeIndex:m,overIndex:y,index:_}):null,O=Yd(m)&&Yd(y)?i({id:o,items:u,activeIndex:m,overIndex:y}):_,ae=F==null?void 0:F.id,X=h.useRef({activeId:ae,items:u,newIndex:O,containerId:f}),ee=u!==X.current.items,ce=t({active:F,containerId:f,isDragging:V,isSorting:A,id:o,index:_,items:u,newIndex:X.current.newIndex,previousItems:X.current.items,previousContainerId:X.current.containerId,transition:d,wasDragging:X.current.activeId!=null}),ve=uz({disabled:!ce,index:_,node:E,rect:N});return h.useEffect(()=>{A&&X.current.newIndex!==O&&(X.current.newIndex=O),f!==X.current.containerId&&(X.current.containerId=f),u!==X.current.items&&(X.current.items=u)},[A,O,f,u]),h.useEffect(()=>{if(ae===X.current.activeId)return;if(ae&&!X.current.activeId){X.current.activeId=ae;return}const ye=setTimeout(()=>{X.current.activeId=ae},50);return()=>clearTimeout(ye)},[ae]),{active:F,activeIndex:m,attributes:L,data:b,rect:N,index:_,newIndex:O,items:u,isOver:R,isSorting:A,isDragging:V,listeners:B,node:E,overIndex:y,over:S,setNodeRef:C,setActivatorNodeRef:P,setDroppableNodeRef:$,setDraggableNodeRef:H,transform:ve??z,transition:ge()};function ge(){if(ve||ee&&X.current.newIndex===_)return cz;if(!(D&&!_h(W)||!d)&&(A||ce))return Qr.Transition.toString({...d,property:nk})}}function fz(e,t){var s,n;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(s=e==null?void 0:e.draggable)!=null?s:t.draggable,droppable:(n=e==null?void 0:e.droppable)!=null?n:t.droppable}}function wf(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const hz=[Ge.Down,Ge.Right,Ge.Up,Ge.Left],ak=(e,t)=>{let{context:{active:s,collisionRect:n,droppableRects:a,droppableContainers:i,over:o,scrollableAncestors:l}}=t;if(hz.includes(e.code)){if(e.preventDefault(),!s||!n)return;const c=[];i.getEnabled().forEach(f=>{if(!f||f!=null&&f.disabled)return;const m=a.get(f.id);if(m)switch(e.code){case Ge.Down:n.top<m.top&&c.push(f);break;case Ge.Up:n.top>m.top&&c.push(f);break;case Ge.Left:n.left>m.left&&c.push(f);break;case Ge.Right:n.left<m.left&&c.push(f);break}});const d=HB({collisionRect:n,droppableRects:a,droppableContainers:c});let u=$T(d,"id");if(u===(o==null?void 0:o.id)&&d.length>1&&(u=d[1].id),u!=null){const f=i.get(s.id),m=i.get(u),v=m?a.get(m.id):null,j=m==null?void 0:m.node.current;if(j&&v&&f&&m){const y=bh(j).some((T,N)=>l[N]!==T),x=ik(f,m),p=mz(f,m),w=y||!x?{x:0,y:0}:{x:p?n.width-v.width:0,y:p?n.height-v.height:0},_={x:v.left,y:v.top};return w.x&&w.y?_:Ic(_,w)}}}};function ik(e,t){return!wf(e)||!wf(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function mz(e,t){return!wf(e)||!wf(t)||!ik(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const mj=({team:e,matchupId:t,teamPosition:s,isWinner:n,allTeams:a,onTeamChange:i})=>{var _;const[o,l]=h.useState(!1),[c,d]=h.useState(((_=e==null?void 0:e.id)==null?void 0:_.toString())||"");h.useEffect(()=>{var b;d(((b=e==null?void 0:e.id)==null?void 0:b.toString())||"")},[e==null?void 0:e.id]);const u=()=>{const b=parseInt(c);b&&b!==(e==null?void 0:e.id)&&i(t,s,b),l(!1)},f=()=>{var b;d(((b=e==null?void 0:e.id)==null?void 0:b.toString())||""),l(!1)},m=`${t}-${s}`,{attributes:v,listeners:j,setNodeRef:g,transform:y,transition:x,isDragging:p}=rk({id:m,data:{type:"team",team:e,matchupId:t,teamPosition:s}}),w={transform:Qr.Transform.toString(y),transition:x,opacity:p?.5:1};return o?r.jsxs("div",{className:"flex items-center gap-2 p-2 rounded border border-blue-200 bg-blue-50",children:[r.jsx("div",{className:"flex-1",children:r.jsxs(At,{value:c,onValueChange:d,children:[r.jsx(St,{className:"h-8 text-xs",children:r.jsx($t,{placeholder:"Select team..."})}),r.jsx(Nt,{children:a.map(b=>r.jsx(Le,{value:b.id.toString(),children:r.jsxs("div",{className:"flex items-center gap-2",children:[b.team_logo_url&&r.jsx("img",{src:b.team_logo_url,alt:b.team_name,className:"w-4 h-4 rounded-full"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs font-medium",children:b.team_name}),r.jsx("div",{className:"text-xs text-gray-500",children:b.owner_name})]})]})},b.id))})]})}),r.jsx(J,{size:"sm",onClick:u,className:"h-6 w-6 p-0",children:r.jsx(il,{className:"h-3 w-3"})}),r.jsx(J,{size:"sm",variant:"ghost",onClick:f,className:"h-6 w-6 p-0",children:r.jsx(Fi,{className:"h-3 w-3"})})]}):r.jsxs("div",{ref:g,style:w,className:`flex items-center gap-2 p-2 rounded transition-colors group
        ${p?"bg-blue-50 border border-blue-200":"hover:bg-gray-50"}
        ${n?"bg-green-50 border border-green-200":""}
      `,children:[r.jsx("div",{...v,...j,className:"cursor-grab hover:cursor-grabbing",children:r.jsx(TN,{className:"h-3 w-3 text-gray-400"})}),(e==null?void 0:e.team_logo_url)&&r.jsx("img",{src:e.team_logo_url,alt:e.team_name,className:"w-5 h-5 rounded-full"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"text-sm font-medium truncate",children:(e==null?void 0:e.team_name)||`Team ${s==="team1"?"1":"2"}`}),r.jsx("div",{className:"text-xs text-gray-500 truncate",children:e==null?void 0:e.owner_name})]}),r.jsx(J,{size:"sm",variant:"ghost",onClick:()=>l(!0),className:"h-6 w-6 p-0 opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsx(Ai,{className:"h-3 w-3"})})]})},pz=({matchup:e,teams:t,allTeams:s,conferences:n,onToggleOverride:a,onUpdateScores:i,onTeamChange:o})=>{const l=t.find(w=>w.id===e.team1_id),c=t.find(w=>w.id===e.team2_id);n.find(w=>w.id===e.conference_id);const[d,u]=h.useState(!1),[f,m]=h.useState(e.team1_score),[v,j]=h.useState(e.team2_score);h.useEffect(()=>{m(e.team1_score),j(e.team2_score)},[e.team1_score,e.team2_score]);const g=e.winning_team_id===e.team1_id,y=e.winning_team_id===e.team2_id,x=()=>{i(e.id,f,v),u(!1)},p=()=>{m(e.team1_score),j(e.team2_score),u(!1)};return r.jsxs(Me,{className:`transition-colors ${e.manual_override?"bg-orange-50 border-orange-200":""}`,children:[r.jsx(oe,{className:"w-24",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-sm font-medium",children:["#",e.id]}),r.jsx("div",{className:"flex flex-col gap-1",children:e.manual_override&&r.jsx(ne,{variant:"outline",className:"text-xs text-orange-600 border-orange-300 px-1 py-0",children:"Override"})})]})}),r.jsx(oe,{className:"w-48",children:r.jsx(mj,{team:l,matchupId:e.id,teamPosition:"team1",isWinner:g,allTeams:s,onTeamChange:o})}),r.jsx(oe,{className:"w-32 text-center",children:d?r.jsxs("div",{className:"flex items-center gap-1 justify-center",children:[r.jsx(Jt,{type:"number",value:f,onChange:w=>m(parseFloat(w.target.value)||0),className:"w-12 h-6 text-xs text-center px-1",step:"0.1"}),r.jsx("span",{className:"text-xs text-gray-400",children:"-"}),r.jsx(Jt,{type:"number",value:v,onChange:w=>j(parseFloat(w.target.value)||0),className:"w-12 h-6 text-xs text-center px-1",step:"0.1"}),r.jsx(J,{size:"sm",onClick:x,className:"h-6 w-6 p-0",children:r.jsx(il,{className:"h-3 w-3"})}),r.jsx(J,{size:"sm",variant:"ghost",onClick:p,className:"h-6 w-6 p-0",children:r.jsx(Fi,{className:"h-3 w-3"})})]}):r.jsxs("div",{className:"flex items-center gap-1 justify-center cursor-pointer hover:bg-gray-100 px-2 py-1 rounded",onClick:()=>u(!0),children:[r.jsx("span",{className:`text-sm font-bold ${g?"text-green-600":""}`,children:e.team1_score}),r.jsx("span",{className:"text-xs text-gray-400",children:"-"}),r.jsx("span",{className:`text-sm font-bold ${y?"text-green-600":""}`,children:e.team2_score}),r.jsx(Ai,{className:"h-3 w-3 text-gray-400 ml-1"})]})}),r.jsx(oe,{className:"w-48",children:r.jsx(mj,{team:c,matchupId:e.id,teamPosition:"team2",isWinner:y,allTeams:s,onTeamChange:o})}),r.jsx(oe,{className:"w-24",children:r.jsx("div",{className:"text-xs text-gray-500 text-center",children:e.matchup_status})}),r.jsx(oe,{className:"w-24 text-center",children:r.jsx(J,{variant:"ghost",size:"sm",onClick:()=>a(e.id),className:"h-6 px-2 text-xs",children:r.jsx(Ai,{className:"h-3 w-3"})})})]})},gz=()=>{const[e,t]=h.useState([]),[s,n]=h.useState([]),[a,i]=h.useState([]),[o,l]=h.useState([]),[c,d]=h.useState(""),[u,f]=h.useState(""),[m,v]=h.useState(!1),[j,g]=h.useState(!1),[y,x]=h.useState(!1),[p,w]=h.useState(null),{toast:_}=gs(),b=PT(vf(Nh),vf(Sh,{coordinateGetter:ak})),T=async(k,C,A,M)=>{var D,Q;try{console.log(`Fetching Sleeper scores for teams ${k} and ${C} for week ${M}`),console.log(`Note: Matchup conference_id ${A} will be ignored - checking each team's actual conference`);const[K,z]=await Promise.all([Y.getTeamConferenceJunctions({filters:[{column:"team_id",operator:"eq",value:k}]}),Y.getTeamConferenceJunctions({filters:[{column:"team_id",operator:"eq",value:C}]})]),O=(D=K.data)==null?void 0:D[0],ae=(Q=z.data)==null?void 0:Q[0];if(!O||!ae)return console.warn(`Missing junction data - Team ${k}: ${O?"found":"missing"}, Team ${C}: ${ae?"found":"missing"}`),{team1Score:0,team2Score:0};console.log(`Team ${k} junction:`,{conference_id:O.conference_id,roster_id:O.roster_id}),console.log(`Team ${C} junction:`,{conference_id:ae.conference_id,roster_id:ae.roster_id});const X=s.find(ge=>ge.id===O.conference_id),ee=s.find(ge=>ge.id===ae.conference_id);if(!X||!ee)return console.warn(`Missing conference data - Team ${k} conference: ${X?"found":"missing"}, Team ${C} conference: ${ee?"found":"missing"}`),{team1Score:0,team2Score:0};console.log(`Team ${k} in conference "${X.conference_name}" (league_id: ${X.league_id})`),console.log(`Team ${C} in conference "${ee.conference_name}" (league_id: ${ee.league_id})`);let ce=0,ve=0;try{console.log(`Fetching Team ${k} score from league ${X.league_id}, week ${M}`);const ye=(await Oe.fetchMatchups(X.league_id,M)).find(st=>st.roster_id===O.roster_id);ce=(ye==null?void 0:ye.points)||0,console.log(`Team ${k} score from Sleeper: ${ce} (roster_id: ${O.roster_id})`)}catch(ge){console.error(`Error fetching Team ${k} score from league ${X.league_id}:`,ge)}try{console.log(`Fetching Team ${C} score from league ${ee.league_id}, week ${M}`);const ye=(await Oe.fetchMatchups(ee.league_id,M)).find(st=>st.roster_id===ae.roster_id);ve=(ye==null?void 0:ye.points)||0,console.log(`Team ${C} score from Sleeper: ${ve} (roster_id: ${ae.roster_id})`)}catch(ge){console.error(`Error fetching Team ${C} score from league ${ee.league_id}:`,ge)}return console.log(` Final scores - Team ${k}: ${ce}, Team ${C}: ${ve}`),console.log(" This properly handles interconference matchups by checking each team's actual conference"),{team1Score:ce,team2Score:ve}}catch(K){return console.error("Error fetching Sleeper scores:",K),{team1Score:0,team2Score:0}}};h.useEffect(()=>{E(),$(),N()},[]),h.useEffect(()=>{c&&R()},[c]),h.useEffect(()=>{c&&u&&s.length>0&&F()},[c,u,s]);const N=async()=>{try{const k=await Oe.getCurrentNFLWeek();console.log(`Setting current week to: ${k}`),k<=12?f(k.toString()):f("1")}catch(k){console.error("Error loading current week:",k),f("1")}},E=async()=>{try{const k=await Y.getSeasons({limit:100,orderBy:{column:"season_year",ascending:!1}});if(k.error)throw new Error(k.error);const A=(k.data||[]).map(D=>({id:D.id,season_year:parseInt(D.season_year),season_name:D.season_name,is_current_season:D.is_current}));t(A);const M=A.find(D=>D.is_current_season);M&&d(M.id.toString())}catch(k){console.error("Error loading seasons:",k),_({title:"Error",description:"Failed to load seasons",variant:"destructive"})}},R=async()=>{try{const{data:k,error:C}=await Y.getConferences({filters:[{column:"season_id",operator:"eq",value:parseInt(c)}]});if(C)throw new Error(C);n(k||[])}catch(k){console.error("Error loading conferences:",k),_({title:"Error",description:"Failed to load conferences",variant:"destructive"})}},$=async()=>{try{const k=await Y.getTeams({limit:100,orderBy:{column:"team_name",ascending:!0}});if(k.error)throw new Error(k.error);const C=k.data||[],A=await Y.getTeamConferenceJunctions({limit:1e3,orderBy:{column:"team_id",ascending:!0}});if(A.error)throw new Error(A.error);const M=A.data||[],D=C.map(Q=>{const K=M.find(z=>z.team_id===Q.id);return{id:Q.id,team_name:Q.team_name,owner_name:Q.owner_name,team_logo_url:Q.team_logourl||"",conference_id:(K==null?void 0:K.conference_id)||0}});i(D)}catch(k){console.error("Error loading teams:",k),_({title:"Error",description:"Failed to load teams",variant:"destructive"})}},F=async()=>{v(!0),console.log(`Loading regular season matchups for season ${c}, week ${u}`),console.log("Available conferences:",s.map(k=>({id:k.id,name:k.conference_name})));try{const k=s.map(A=>A.id);console.log("Conference IDs to query:",k);const C=[];for(const A of k){console.log(`Fetching regular season matchups for conference ${A}`);const{data:M,error:D}=await Y.getMatchups({filters:[{column:"conference_id",operator:"eq",value:A},{column:"week",operator:"eq",value:parseInt(u)},{column:"is_playoff",operator:"eq",value:!1}],orderBy:{column:"id",ascending:!0}});if(D)throw console.error(`Error fetching matchups for conference ${A}:`,D),new Error(D);const Q=M||[];console.log(`Found ${Q.length} regular season matchups for conference ${A}`);const K=s.find(O=>O.id===A),z=Q.map(O=>(console.log(`Loaded regular season matchup ${O.id}:`,{teams:`${O.team1_id} vs ${O.team2_id}`,scores:`${O.team1_score} - ${O.team2_score}`,status:O.matchup_status,manual_override:O.manual_override}),{...O,conference_name:K==null?void 0:K.conference_name}));C.push(...z)}C.sort((A,M)=>A.conference_id!==M.conference_id?A.conference_id-M.conference_id:A.id-M.id),console.log(`Total regular season matchups loaded: ${C.length}`),console.log("Regular season matchups breakdown by status:",{pending:C.filter(A=>A.matchup_status==="pending").length,complete:C.filter(A=>A.matchup_status==="complete").length,manual_overrides:C.filter(A=>A.manual_override).length}),l(C)}catch(k){console.error("Error loading regular season matchups:",k),_({title:"Error",description:`Failed to load regular season matchups: ${k}`,variant:"destructive"})}finally{v(!1)}},W=k=>{w(k.active.id)},I=async k=>{const{active:C,over:A}=k;if(w(null),!A||C.id===A.id)return;const M=C.data.current,D=A.data.current;if((M==null?void 0:M.type)==="team"&&(D==null?void 0:D.type)==="team"){const Q=M.matchupId,K=M.teamPosition,z=D.matchupId,O=D.teamPosition;if(Q===z&&K===O)return;const ae=[...o],X=ae.find(ge=>ge.id===Q),ee=ae.find(ge=>ge.id===z);if(!X||!ee)return;const ce=K==="team1"?X.team1_id:X.team2_id,ve=O==="team1"?ee.team1_id:ee.team2_id;K==="team1"?X.team1_id=ve:X.team2_id=ve,O==="team1"?ee.team1_id=ce:ee.team2_id=ce;try{const ge=await T(X.team1_id,X.team2_id,X.conference_id,X.week);console.log(` DRAG DEBUG - Active matchup ${X.id}: Setting scores ${ge.team1Score} vs ${ge.team2Score}`),X.team1_score=ge.team1Score,X.team2_score=ge.team2Score,ge.team1Score>ge.team2Score?X.winning_team_id=X.team1_id:ge.team2Score>ge.team1Score?X.winning_team_id=X.team2_id:X.winning_team_id=null,console.log(` DRAG WINNER - Active matchup ${X.id}: Winner=${X.winning_team_id}`);const ye=await T(ee.team1_id,ee.team2_id,ee.conference_id,ee.week);console.log(` DRAG DEBUG - Over matchup ${ee.id}: Setting scores ${ye.team1Score} vs ${ye.team2Score}`),ee.team1_score=ye.team1Score,ee.team2_score=ye.team2Score,ye.team1Score>ye.team2Score?ee.winning_team_id=ee.team1_id:ye.team2Score>ye.team1Score?ee.winning_team_id=ee.team2_id:ee.winning_team_id=null,console.log(` DRAG WINNER - Over matchup ${ee.id}: Winner=${ee.winning_team_id}`),console.log(`Fetched Sleeper scores - Active matchup: ${ge.team1Score} vs ${ge.team2Score}, Over matchup: ${ye.team1Score} vs ${ye.team2Score}`)}catch(ge){console.warn("Failed to fetch Sleeper scores, using 0:",ge),X.team1_score=0,X.team2_score=0,X.winning_team_id=null,ee.team1_score=0,ee.team2_score=0,ee.winning_team_id=null}X.winning_team_id=null,X.manual_override=!0,X.matchup_status="pending",ee.winning_team_id=null,ee.manual_override=!0,ee.matchup_status="pending",console.log(`Teams swapped between matchups ${Q} and ${z}`),console.log(`Active matchup now has teams ${X.team1_id} vs ${X.team2_id}`),console.log(`Over matchup now has teams ${ee.team1_id} vs ${ee.team2_id}`),l(ae),x(!0),_({title:"Teams Swapped",description:"Team matchups have been updated with current scores. Remember to save your changes.",duration:3e3})}},L=k=>{var C;console.log(`Toggling manual override for matchup ${k}`),l(A=>A.map(M=>{if(M.id===k){const D=!M.manual_override;return console.log(`Matchup ${k} manual override: ${M.manual_override} -> ${D}`),{...M,manual_override:D,status:D?M.matchup_status:"pending"}}return M})),x(!0),_({title:"Override Toggled",description:`Manual override ${(C=o.find(A=>A.id===k))!=null&&C.manual_override?"removed":"enabled"} for matchup ${k}`,duration:2e3})},H=(k,C,A)=>{console.log(`Updating scores for matchup ${k}: Team 1 = ${C}, Team 2 = ${A}`),l(M=>M.map(D=>{if(D.id===k){let Q=null;return C>A?Q=D.team1_id:A>C&&(Q=D.team2_id),console.log(` WINNER CALC - Matchup ${k}: Team1(${D.team1_id})=${C}, Team2(${D.team2_id})=${A}, Winner=${Q}`),{...D,team1_score:C,team2_score:A,winning_team_id:Q,manual_override:!0,matchup_status:"complete"}}return D})),x(!0),_({title:"Scores Updated",description:`Matchup ${k} scores updated. Remember to save changes.`,duration:2e3})},B=async(k,C,A)=>{console.log(`Changing team for regular season matchup ${k}, position ${C} to team ${A}`),l(Q=>Q.map(K=>{if(K.id===k){const z={...K,manual_override:!0};return C==="team1"?z.team1_id=A:z.team2_id=A,console.log(`Updated regular season matchup ${k}: team1_id=${z.team1_id}, team2_id=${z.team2_id}`),z}return K}));const M=o.find(Q=>Q.id===k);if(M)try{const Q=C==="team1"?A:M.team1_id,K=C==="team2"?A:M.team2_id;console.log(`Fetching regular season scores for updated matchup ${k}: team1=${Q}, team2=${K}, week=${M.week}`);const{team1Score:z,team2Score:O}=await T(Q,K,M.conference_id,M.week);l(ae=>ae.map(X=>{if(X.id===k){let ee=null;return z>O?ee=Q:O>z&&(ee=K),console.log(` REGULAR SEASON TEAM CHANGE WINNER - Matchup ${k}: Team1(${Q})=${z}, Team2(${K})=${O}, Winner=${ee}`),{...X,team1_score:z,team2_score:O,winning_team_id:ee}}return X})),console.log(` Updated regular season matchup ${k} with scores: ${z} - ${O}`)}catch(Q){console.error(`Error fetching regular season scores for matchup ${k}:`,Q),l(K=>K.map(z=>z.id===k?{...z,team1_score:0,team2_score:0,winning_team_id:null}:z))}x(!0);const D=a.find(Q=>Q.id===A);_({title:"Team Changed",description:`Regular season matchup ${k} ${C} changed to ${D==null?void 0:D.team_name}. Scores updated automatically. Remember to save changes.`,duration:3e3})},V=async()=>{var M;g(!0),console.log("Starting save operation for",o.length,"regular season matchups");let k=0,C=0;const A=[];try{for(const D of o){if(console.log(`Updating regular season matchup ${D.id}:`,{conference_id:D.conference_id,week:D.week,team1_id:D.team1_id,team2_id:D.team2_id,team1_score:D.team1_score,team2_score:D.team2_score,winning_team_id:D.winning_team_id,manual_override:D.manual_override,status:D.manual_override?"complete":D.matchup_status}),!D.id||D.conference_id<=0||D.week<=0){console.error(`Invalid matchup data for ID ${D.id}:`,{id:D.id,conference_id:D.conference_id,week:D.week}),C++,A.push(D.id);continue}let Q=null;D.team1_score>D.team2_score?Q=D.team1_id:D.team2_score>D.team1_score&&(Q=D.team2_id),console.log(` SAVE WINNER - Matchup ${D.id}: Team1(${D.team1_id})=${D.team1_score}, Team2(${D.team2_id})=${D.team2_score}, Calculated Winner=${Q}`);const K={conference_id:D.conference_id,week:((M=D.week)==null?void 0:M.toString())||"1",team1_id:D.team1_id||0,team2_id:D.team2_id||0,is_playoff:!1,team1_score:D.team1_score||0,team2_score:D.team2_score||0,winning_team_id:Q,manual_override:D.manual_override||!1,matchup_status:D.manual_override?"complete":D.matchup_status||"pending",notes:D.notes||""};console.log(`Sending update for regular season matchup ${D.id} with data:`,K);const z=await Y.updateMatchup(D.id,K);if(z.error){console.error(` Failed to update regular season matchup ${D.id}:`,z.error),console.error(" Update data was:",K),console.error(" Matchup object:",D),C++,A.push(D.id);continue}else console.log(` Successfully updated regular season matchup ${D.id}`),console.log(" UPDATE RESULT:",z.data);console.log(`Successfully updated regular season matchup ${D.id}`),k++}console.log(`Save operation completed: ${k} successes, ${C} failures`),C>0?(console.error("Failed matchup IDs:",A),_({title:"Partial Success",description:`${k} regular season matchups updated successfully, ${C} failed. Check console for details.`,variant:"destructive"})):(x(!1),_({title:"Success",description:`All ${k} regular season matchups updated successfully`})),console.log("Reloading regular season matchups to verify changes persisted..."),await F()}catch(D){console.error("Critical error during save operation:",D),_({title:"Error",description:`Failed to save regular season matchup changes: ${D}`,variant:"destructive"})}finally{g(!1),console.log("Save operation completed, saving state reset")}},S=()=>{F(),x(!1)},P=Array.from({length:12},(k,C)=>C+1);return r.jsxs("div",{className:"space-y-6",children:[r.jsx(q,{children:r.jsxs(G,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Season"}),r.jsxs(At,{value:c,onValueChange:d,children:[r.jsx(St,{children:r.jsx($t,{placeholder:"Select season..."})}),r.jsx(Nt,{children:e.map(k=>r.jsxs(Le,{value:k.id.toString(),children:[k.season_name,k.is_current_season&&r.jsx(ne,{variant:"secondary",className:"ml-2",children:"Current"})]},k.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Week (Regular Season)"}),r.jsxs(At,{value:u,onValueChange:f,disabled:!c,children:[r.jsx(St,{children:r.jsx($t,{placeholder:"Select week..."})}),r.jsx(Nt,{children:P.map(k=>r.jsxs(Le,{value:k.toString(),children:["Week ",k]},k))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Status"}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),r.jsxs("span",{children:[o.length," Total"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),r.jsxs("span",{children:[o.filter(k=>k.manual_override).length," Override"]})]})]})]}),r.jsx("div",{className:"space-y-2 flex items-end",children:y&&r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(J,{onClick:V,disabled:j,className:"flex items-center gap-2",children:[j?r.jsx(Bt,{className:"h-4 w-4 animate-spin"}):r.jsx(Hf,{className:"h-4 w-4"}),"Save"]}),r.jsxs(J,{variant:"outline",onClick:S,className:"flex items-center gap-2",children:[r.jsx(kN,{className:"h-4 w-4"}),"Reset"]})]})})]}),y&&r.jsxs(Ye,{className:"mb-4",children:[r.jsx(nd,{className:"h-4 w-4"}),r.jsx(Qe,{children:"You have unsaved changes. Remember to save your modifications."})]})]})}),m?r.jsx(q,{children:r.jsx(G,{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Bt,{className:"h-6 w-6 animate-spin"}),r.jsx("span",{children:"Loading regular season matchups..."})]})})}):o.length===0&&u?r.jsx(q,{children:r.jsx(G,{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Zt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Regular Season Matchups Found"}),r.jsx("p",{className:"text-gray-600",children:"No regular season matchups found for the selected week. They may need to be created first."})]})})}):o.length>0?r.jsx(q,{children:r.jsx(G,{className:"p-0",children:r.jsxs(QT,{sensors:b,collisionDetection:DT,onDragStart:W,onDragEnd:I,children:[r.jsx(sk,{items:o.flatMap(k=>[`${k.id}-team1`,`${k.id}-team2`]),strategy:Th,children:r.jsxs(Ss,{children:[r.jsx(Ns,{children:r.jsxs(Me,{children:[r.jsx(ue,{className:"w-24",children:"Match"}),r.jsx(ue,{className:"w-48",children:"Team 1"}),r.jsx(ue,{className:"w-32 text-center",children:"Score"}),r.jsx(ue,{className:"w-48",children:"Team 2"}),r.jsx(ue,{className:"w-24 text-center",children:"Status"}),r.jsx(ue,{className:"w-24 text-center",children:"Actions"})]})}),r.jsx(Cs,{children:s.map(k=>{const C=o.filter(A=>A.conference_id===k.id);return C.length===0?null:r.jsxs(He.Fragment,{children:[r.jsx(Me,{children:r.jsx(oe,{colSpan:6,className:"bg-gray-50 font-medium text-sm py-2",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Zt,{className:"h-4 w-4 text-blue-600"}),k.conference_name,r.jsxs(ne,{variant:"secondary",className:"text-xs",children:[C.length," matchups"]})]})})}),C.map(A=>r.jsx(pz,{matchup:A,teams:a,allTeams:a,conferences:s,onToggleOverride:L,onUpdateScores:H,onTeamChange:B},A.id))]},k.id)})})]})}),r.jsx(XT,{children:p?r.jsx("div",{className:"bg-white p-2 rounded-lg border-2 border-blue-400 shadow-lg",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-4 h-4 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx(Zt,{className:"h-2 w-2 text-blue-600"})}),r.jsx("span",{className:"text-xs font-medium",children:"Moving team..."})]})}):null})]})})}):r.jsx(q,{children:r.jsx(G,{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Zt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select Filters"}),r.jsx("p",{className:"text-gray-600",children:"Please select a season and week to manage regular season matchups across all conferences."})]})})})]})},pj=({team:e,bracketId:t,teamPosition:s,isWinner:n,allTeams:a,onTeamChange:i})=>{var _;const[o,l]=h.useState(!1),[c,d]=h.useState(((_=e==null?void 0:e.id)==null?void 0:_.toString())||"");h.useEffect(()=>{var b;d(((b=e==null?void 0:e.id)==null?void 0:b.toString())||"")},[e==null?void 0:e.id]);const u=()=>{const b=parseInt(c);b&&b!==(e==null?void 0:e.id)&&i(t,s,b),l(!1)},f=()=>{var b;d(((b=e==null?void 0:e.id)==null?void 0:b.toString())||""),l(!1)},m=`${t}-${s}`,{attributes:v,listeners:j,setNodeRef:g,transform:y,transition:x,isDragging:p}=rk({id:m,data:{type:"team",team:e,bracketId:t,teamPosition:s}}),w={transform:Qr.Transform.toString(y),transition:x,opacity:p?.5:1};return o?r.jsxs("div",{className:"flex items-center gap-2 p-2 rounded border border-blue-200 bg-blue-50",children:[r.jsx("div",{className:"flex-1",children:r.jsxs(At,{value:c,onValueChange:d,children:[r.jsx(St,{className:"h-8 text-xs",children:r.jsx($t,{placeholder:"Select team..."})}),r.jsx(Nt,{children:a.map(b=>r.jsx(Le,{value:b.id.toString(),children:r.jsxs("div",{className:"flex items-center gap-2",children:[b.team_logo_url&&r.jsx("img",{src:b.team_logo_url,alt:b.team_name,className:"w-4 h-4 rounded-full"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs font-medium",children:b.team_name}),r.jsx("div",{className:"text-xs text-gray-500",children:b.owner_name})]})]})},b.id))})]})}),r.jsx(J,{size:"sm",onClick:u,className:"h-6 w-6 p-0",children:r.jsx(il,{className:"h-3 w-3"})}),r.jsx(J,{size:"sm",variant:"ghost",onClick:f,className:"h-6 w-6 p-0",children:r.jsx(Fi,{className:"h-3 w-3"})})]}):r.jsxs("div",{ref:g,style:w,className:`flex items-center gap-2 p-2 rounded transition-colors group
        ${p?"bg-blue-50 border border-blue-200":"hover:bg-gray-50"}
        ${n?"bg-green-50 border border-green-200":""}
      `,children:[r.jsx("div",{...v,...j,className:"cursor-grab hover:cursor-grabbing",children:r.jsx(TN,{className:"h-3 w-3 text-gray-400"})}),(e==null?void 0:e.team_logo_url)&&r.jsx("img",{src:e.team_logo_url,alt:e.team_name,className:"w-5 h-5 rounded-full"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"text-sm font-medium truncate",children:(e==null?void 0:e.team_name)||`Team ${s==="team1"?"1":"2"}`}),r.jsx("div",{className:"text-xs text-gray-500 truncate",children:e==null?void 0:e.owner_name})]}),r.jsx(J,{size:"sm",variant:"ghost",onClick:()=>l(!0),className:"h-6 w-6 p-0 opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsx(Ai,{className:"h-3 w-3"})})]})},xz=({bracket:e,teams:t,allTeams:s,onToggleOverride:n,onUpdateScores:a,onUpdateTeams:i,onTeamChange:o})=>{const l=t.find(w=>w.id===e.team1_id),c=t.find(w=>w.id===e.team2_id),[d,u]=h.useState(!1),[f,m]=h.useState(e.team1_score||0),[v,j]=h.useState(e.team2_score||0);h.useEffect(()=>{m(e.team1_score||0),j(e.team2_score||0)},[e.team1_score,e.team2_score]);const g=e.winning_team_id===e.team1_id,y=e.winning_team_id===e.team2_id,x=()=>{a(e.id,f,v),u(!1)},p=()=>{m(e.team1_score||0),j(e.team2_score||0),u(!1)};return r.jsxs(Me,{className:`transition-colors ${e.manual_override?"bg-orange-50 border-orange-200":""}`,children:[r.jsx(oe,{className:"w-32",children:r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsxs("span",{className:"text-sm font-medium",children:["#",e.id]}),r.jsx("div",{className:"text-xs text-gray-500",children:e.playoff_round_name||`Round ${e.round}`}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Week ",e.week]}),e.manual_override&&r.jsx(ne,{variant:"outline",className:"text-xs text-orange-600 border-orange-300 px-1 py-0",children:"Override"}),e.is_bye&&r.jsx(ne,{variant:"secondary",className:"text-xs px-1 py-0",children:"Bye"})]})}),r.jsx(oe,{className:"w-48",children:r.jsx(pj,{team:l,bracketId:e.id,teamPosition:"team1",isWinner:g,allTeams:s,onTeamChange:o})}),r.jsx(oe,{className:"w-32 text-center",children:d?r.jsxs("div",{className:"flex items-center gap-1 justify-center",children:[r.jsx(Jt,{type:"number",value:f,onChange:w=>m(parseFloat(w.target.value)||0),className:"w-12 h-6 text-xs text-center px-1",step:"0.1"}),r.jsx("span",{className:"text-xs text-gray-400",children:"-"}),r.jsx(Jt,{type:"number",value:v,onChange:w=>j(parseFloat(w.target.value)||0),className:"w-12 h-6 text-xs text-center px-1",step:"0.1"}),r.jsx(J,{size:"sm",onClick:x,className:"h-6 w-6 p-0",children:r.jsx(il,{className:"h-3 w-3"})}),r.jsx(J,{size:"sm",variant:"ghost",onClick:p,className:"h-6 w-6 p-0",children:r.jsx(Fi,{className:"h-3 w-3"})})]}):r.jsxs("div",{className:"flex items-center gap-1 justify-center cursor-pointer hover:bg-gray-100 px-2 py-1 rounded",onClick:()=>u(!0),children:[r.jsx("span",{className:`text-sm font-bold ${g?"text-green-600":""}`,children:e.team1_score||0}),r.jsx("span",{className:"text-xs text-gray-400",children:"-"}),r.jsx("span",{className:`text-sm font-bold ${y?"text-green-600":""}`,children:e.team2_score||0}),r.jsx(Ai,{className:"h-3 w-3 text-gray-400 ml-1"})]})}),r.jsx(oe,{className:"w-48",children:r.jsx(pj,{team:c,bracketId:e.id,teamPosition:"team2",isWinner:y,allTeams:s,onTeamChange:o})}),r.jsx(oe,{className:"w-24 text-center",children:r.jsxs("div",{className:"text-xs text-gray-500",children:[r.jsxs("div",{children:["#",e.team1_seed]}),r.jsx("div",{children:"vs"}),r.jsxs("div",{children:["#",e.team2_seed]})]})}),r.jsx(oe,{className:"w-24 text-center",children:r.jsx(J,{variant:"ghost",size:"sm",onClick:()=>n(e.id),className:"h-6 px-2 text-xs",children:r.jsx(Ai,{className:"h-3 w-3"})})})]})},vz=()=>{const[e,t]=h.useState([]),[s,n]=h.useState([]),[a,i]=h.useState([]),[o,l]=h.useState(""),[c,d]=h.useState(""),[u,f]=h.useState(!1),[m,v]=h.useState(!1),[j,g]=h.useState(!1),[y,x]=h.useState(null),{toast:p}=gs(),w=PT(vf(Nh),vf(Sh,{coordinateGetter:ak})),_=async(S,P,k)=>{var C,A,M,D;try{console.log(`Fetching playoff scores for teams ${S} and ${P} for week ${k}`);const[Q,K]=await Promise.all([Y.getTeamConferenceJunctions({filters:[{column:"team_id",operator:"eq",value:S}]}),Y.getTeamConferenceJunctions({filters:[{column:"team_id",operator:"eq",value:P}]})]),z=(C=Q.data)==null?void 0:C[0],O=(A=K.data)==null?void 0:A[0];if(!z||!O)return console.warn(`Missing junction data - Team ${S}: ${z?"found":"missing"}, Team ${P}: ${O?"found":"missing"}`),{team1Score:0,team2Score:0};const[ae,X]=await Promise.all([Y.getConferences({filters:[{column:"id",operator:"eq",value:z.conference_id}]}),Y.getConferences({filters:[{column:"id",operator:"eq",value:O.conference_id}]})]),ee=(M=ae.data)==null?void 0:M[0],ce=(D=X.data)==null?void 0:D[0];if(!ee||!ce)return console.warn(`Missing conference data - Team ${S} conference: ${ee?"found":"missing"}, Team ${P} conference: ${ce?"found":"missing"}`),{team1Score:0,team2Score:0};console.log(`Team ${S} in conference "${ee.conference_name}" (league_id: ${ee.league_id})`),console.log(`Team ${P} in conference "${ce.conference_name}" (league_id: ${ce.league_id})`);let ve=0,ge=0;const{SleeperApiService:ye}=await Yr(async()=>{const{SleeperApiService:st}=await Promise.resolve().then(()=>Sg);return{SleeperApiService:st}},void 0);try{console.log(`Fetching Team ${S} playoff score from league ${ee.league_id}, week ${k}`);const yt=(await ye.fetchMatchups(ee.league_id,k)).find(se=>se.roster_id===z.roster_id);ve=(yt==null?void 0:yt.points)||0,console.log(`Team ${S} playoff score from Sleeper: ${ve} (roster_id: ${z.roster_id})`)}catch(st){console.error(`Error fetching Team ${S} playoff score from league ${ee.league_id}:`,st)}try{console.log(`Fetching Team ${P} playoff score from league ${ce.league_id}, week ${k}`);const yt=(await ye.fetchMatchups(ce.league_id,k)).find(se=>se.roster_id===O.roster_id);ge=(yt==null?void 0:yt.points)||0,console.log(`Team ${P} playoff score from Sleeper: ${ge} (roster_id: ${O.roster_id})`)}catch(st){console.error(`Error fetching Team ${P} playoff score from league ${ce.league_id}:`,st)}return console.log(` Final playoff scores - Team ${S}: ${ve}, Team ${P}: ${ge}`),{team1Score:ve,team2Score:ge}}catch(Q){return console.error("Error fetching playoff scores:",Q),{team1Score:0,team2Score:0}}};h.useEffect(()=>{T(),N(),b()},[]),h.useEffect(()=>{o&&c&&E()},[o,c]);const b=async()=>{try{d("14")}catch(S){console.error("Error setting default playoff week:",S),d("14")}},T=async()=>{try{const S=await Y.getSeasons({limit:100,orderBy:{column:"season_year",ascending:!1}});if(S.error)throw new Error(S.error);const k=(S.data||[]).map(A=>({id:A.id,season_year:parseInt(A.season_year),season_name:A.season_name,is_current_season:A.is_current}));t(k);const C=k.find(A=>A.is_current_season);C&&l(C.id.toString())}catch(S){console.error("Error loading seasons:",S),p({title:"Error",description:"Failed to load seasons",variant:"destructive"})}},N=async()=>{try{const S=await Y.getTeams({limit:100,orderBy:{column:"team_name",ascending:!0}});if(S.error)throw new Error(S.error);const k=(S.data||[]).map(C=>({id:C.id,team_name:C.team_name,owner_name:C.owner_name,team_logo_url:C.team_logourl||""}));n(k)}catch(S){console.error("Error loading teams:",S),p({title:"Error",description:"Failed to load teams",variant:"destructive"})}},E=async()=>{f(!0),console.log(`Loading playoff brackets for season ${o}, week ${c}`);try{const{data:S,error:P}=await Y.getPlayoffBrackets({filters:[{column:"season_id",operator:"eq",value:parseInt(o)},{column:"week",operator:"eq",value:parseInt(c)}],orderBy:{column:"matchup_number",ascending:!0}});if(P)throw console.error("Error fetching playoff brackets:",P),new Error(P);const k=S||[];console.log(`Found ${k.length} playoff brackets`);const C=k.map(A=>({...A,manual_override:!1}));console.log("Playoff brackets breakdown:",{total:C.length,byes:C.filter(A=>A.is_bye).length,completed:C.filter(A=>A.winning_team_id).length}),i(C)}catch(S){console.error("Error loading playoff brackets:",S),p({title:"Error",description:`Failed to load playoff brackets: ${S}`,variant:"destructive"})}finally{f(!1)}},R=S=>{x(S.active.id)},$=async S=>{const{active:P,over:k}=S;if(x(null),!k||P.id===k.id)return;const C=P.data.current,A=k.data.current;if((C==null?void 0:C.type)==="team"&&(A==null?void 0:A.type)==="team"){const M=C.bracketId,D=C.teamPosition,Q=A.bracketId,K=A.teamPosition;if(M===Q&&D===K)return;const z=[...a],O=z.find(ce=>ce.id===M),ae=z.find(ce=>ce.id===Q);if(!O||!ae)return;const X=D==="team1"?O.team1_id:O.team2_id,ee=K==="team1"?ae.team1_id:ae.team2_id;D==="team1"?O.team1_id=ee:O.team2_id=ee,K==="team1"?ae.team1_id=X:ae.team2_id=X,O.manual_override=!0,ae.manual_override=!0;try{const ce=await _(O.team1_id,O.team2_id,O.week);O.team1_score=ce.team1Score,O.team2_score=ce.team2Score,ce.team1Score>ce.team2Score?O.winning_team_id=O.team1_id:ce.team2Score>ce.team1Score?O.winning_team_id=O.team2_id:O.winning_team_id=null;const ve=await _(ae.team1_id,ae.team2_id,ae.week);ae.team1_score=ve.team1Score,ae.team2_score=ve.team2Score,ve.team1Score>ve.team2Score?ae.winning_team_id=ae.team1_id:ve.team2Score>ve.team1Score?ae.winning_team_id=ae.team2_id:ae.winning_team_id=null,console.log(` Updated playoff scores - Active bracket: ${ce.team1Score} - ${ce.team2Score}, Over bracket: ${ve.team1Score} - ${ve.team2Score}`)}catch(ce){console.error("Error fetching playoff scores after team swap:",ce),O.team1_score=0,O.team2_score=0,O.winning_team_id=null,ae.team1_score=0,ae.team2_score=0,ae.winning_team_id=null}console.log(`Teams swapped between playoff brackets ${M} and ${Q}`),console.log(`Active bracket now has teams ${O.team1_id} vs ${O.team2_id}`),console.log(`Over bracket now has teams ${ae.team1_id} vs ${ae.team2_id}`),i(z),g(!0),p({title:"Teams Swapped",description:"Playoff matchup teams have been updated with current scores. Remember to save your changes.",duration:3e3})}},F=S=>{var P;console.log(`Toggling manual override for playoff bracket ${S}`),i(k=>k.map(C=>{if(C.id===S){const A=!C.manual_override;return console.log(`Playoff bracket ${S} manual override: ${C.manual_override} -> ${A}`),{...C,manual_override:A}}return C})),g(!0),p({title:"Override Toggled",description:`Manual override ${(P=a.find(k=>k.id===S))!=null&&P.manual_override?"removed":"enabled"} for playoff bracket ${S}`,duration:2e3})},W=(S,P,k)=>{console.log(`Updating scores for playoff bracket ${S}: Team 1 = ${P}, Team 2 = ${k}`),i(C=>C.map(A=>{if(A.id===S){let M=null;return P>k?M=A.team1_id:k>P&&(M=A.team2_id),console.log(` PLAYOFF WINNER CALC - Bracket ${S}: Team1(${A.team1_id})=${P}, Team2(${A.team2_id})=${k}, Winner=${M}`),{...A,team1_score:P,team2_score:k,winning_team_id:M,manual_override:!0}}return A})),g(!0),p({title:"Playoff Scores Updated",description:`Playoff bracket ${S} scores updated. Remember to save changes.`,duration:2e3})},I=(S,P,k)=>{i(C=>C.map(A=>A.id===S?{...A,team1_id:P,team2_id:k,manual_override:!0}:A)),g(!0)},L=async(S,P,k)=>{console.log(`Changing team for playoff bracket ${S}, position ${P} to team ${k}`),i(M=>M.map(D=>{if(D.id===S){const Q={...D,manual_override:!0};return P==="team1"?Q.team1_id=k:Q.team2_id=k,console.log(`Updated bracket ${S}: team1_id=${Q.team1_id}, team2_id=${Q.team2_id}`),Q}return D}));const C=a.find(M=>M.id===S);if(C)try{const M=P==="team1"?k:C.team1_id,D=P==="team2"?k:C.team2_id;console.log(`Fetching playoff scores for updated bracket ${S}: team1=${M}, team2=${D}, week=${C.week}`);const{team1Score:Q,team2Score:K}=await _(M,D,C.week);i(z=>z.map(O=>{if(O.id===S){let ae=null;return Q>K?ae=M:K>Q&&(ae=D),console.log(` TEAM CHANGE WINNER - Bracket ${S}: Team1(${M})=${Q}, Team2(${D})=${K}, Winner=${ae}`),{...O,team1_score:Q,team2_score:K,winning_team_id:ae}}return O})),console.log(` Updated bracket ${S} with scores: ${Q} - ${K}`)}catch(M){console.error(`Error fetching playoff scores for bracket ${S}:`,M),i(D=>D.map(Q=>Q.id===S?{...Q,team1_score:0,team2_score:0,winning_team_id:null}:Q))}g(!0);const A=s.find(M=>M.id===k);p({title:"Team Changed",description:`Playoff bracket ${S} ${P} changed to ${A==null?void 0:A.team_name}. Scores updated automatically. Remember to save changes.`,duration:3e3})},H=async()=>{v(!0),console.log("Starting save operation for",a.length,"playoff brackets");let S=0,P=0;const k=[];try{for(const C of a){if(console.log(`Updating playoff bracket ${C.id}:`,{season_id:C.season_id,round:C.round,team1_id:C.team1_id,team2_id:C.team2_id,team1_score:C.team1_score,team2_score:C.team2_score,winning_team_id:C.winning_team_id,manual_override:C.manual_override}),!C.id||C.season_id<=0){console.error(`Invalid bracket data for ID ${C.id}:`,{id:C.id,season_id:C.season_id}),P++,k.push(C.id);continue}let A=null;C.team1_score&&C.team2_score&&(C.team1_score>C.team2_score?A=C.team1_id:C.team2_score>C.team1_score&&(A=C.team2_id)),console.log(` PLAYOFF SAVE WINNER - Bracket ${C.id}: Team1(${C.team1_id})=${C.team1_score}, Team2(${C.team2_id})=${C.team2_score}, Calculated Winner=${A}`);const M={season_id:C.season_id,round:C.round,team1_seed:C.team1_seed,team2_seed:C.team2_seed,team1_id:C.team1_id,team2_id:C.team2_id,winning_team_id:A,playoff_round_name:C.playoff_round_name||null,is_bye:C.is_bye||!1,matchup_number:C.matchup_number||null,week:C.week,team1_score:C.team1_score||0,team2_score:C.team2_score||0};console.log(`Sending update for playoff bracket ${C.id} with data:`,M);const D=await Y.updatePlayoffBracket(C.id,M);if(D.error){console.error(` Failed to update playoff bracket ${C.id}:`,D.error),console.error(" Update data was:",M),console.error(" Bracket object:",C),P++,k.push(C.id);continue}else console.log(` Successfully updated playoff bracket ${C.id}`),console.log(" UPDATE RESULT:",D.data);console.log(`Successfully updated playoff bracket ${C.id}`),S++}console.log(`Save operation completed: ${S} successes, ${P} failures`),P>0?(console.error("Failed bracket IDs:",k),p({title:"Partial Success",description:`${S} playoff brackets updated successfully, ${P} failed. Check console for details.`,variant:"destructive"})):(g(!1),p({title:"Success",description:`All ${S} playoff brackets updated successfully`})),console.log("Reloading playoff brackets to verify changes persisted..."),await E()}catch(C){console.error("Critical error during save operation:",C),p({title:"Error",description:`Failed to save playoff bracket changes: ${C}`,variant:"destructive"})}finally{v(!1),console.log("Save operation completed, saving state reset")}},B=()=>{E(),g(!1)},V=Array.from({length:6},(S,P)=>P+13);return r.jsxs("div",{className:"space-y-6",children:[r.jsx(q,{children:r.jsxs(G,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Season"}),r.jsxs(At,{value:o,onValueChange:l,children:[r.jsx(St,{children:r.jsx($t,{placeholder:"Select season..."})}),r.jsx(Nt,{children:e.map(S=>r.jsxs(Le,{value:S.id.toString(),children:[S.season_name,S.is_current_season&&r.jsx(ne,{variant:"secondary",className:"ml-2",children:"Current"})]},S.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Week (Playoffs)"}),r.jsxs(At,{value:c,onValueChange:d,disabled:!o,children:[r.jsx(St,{children:r.jsx($t,{placeholder:"Select week..."})}),r.jsx(Nt,{children:V.map(S=>r.jsxs(Le,{value:S.toString(),children:["Week ",S]},S))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Status"}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),r.jsxs("span",{children:[a.length," Total"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),r.jsxs("span",{children:[a.filter(S=>S.manual_override).length," Override"]})]})]})]}),r.jsx("div",{className:"space-y-2 flex items-end",children:j&&r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(J,{onClick:H,disabled:m,className:"flex items-center gap-2",children:[m?r.jsx(Bt,{className:"h-4 w-4 animate-spin"}):r.jsx(Hf,{className:"h-4 w-4"}),"Save"]}),r.jsxs(J,{variant:"outline",onClick:B,className:"flex items-center gap-2",children:[r.jsx(kN,{className:"h-4 w-4"}),"Reset"]})]})})]}),j&&r.jsxs(Ye,{className:"mb-4",children:[r.jsx(nd,{className:"h-4 w-4"}),r.jsx(Qe,{children:"You have unsaved changes. Remember to save your modifications."})]})]})}),u?r.jsx(q,{children:r.jsx(G,{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Bt,{className:"h-6 w-6 animate-spin"}),r.jsx("span",{children:"Loading playoff brackets..."})]})})}):a.length===0&&c?r.jsx(q,{children:r.jsx(G,{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx(xt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Playoff Brackets Found"}),r.jsx("p",{className:"text-gray-600",children:"No playoff brackets found for the selected week. They may need to be created first."})]})})}):a.length>0?r.jsx(q,{children:r.jsx(G,{className:"p-0",children:r.jsxs(QT,{sensors:w,collisionDetection:DT,onDragStart:R,onDragEnd:$,children:[r.jsx(sk,{items:a.flatMap(S=>[`${S.id}-team1`,`${S.id}-team2`]),strategy:Th,children:r.jsxs(Ss,{children:[r.jsx(Ns,{children:r.jsxs(Me,{children:[r.jsx(ue,{className:"w-32",children:"Bracket"}),r.jsx(ue,{className:"w-48",children:"Team 1"}),r.jsx(ue,{className:"w-32 text-center",children:"Score"}),r.jsx(ue,{className:"w-48",children:"Team 2"}),r.jsx(ue,{className:"w-24 text-center",children:"Seeds"}),r.jsx(ue,{className:"w-24 text-center",children:"Actions"})]})}),r.jsx(Cs,{children:a.map(S=>r.jsx(xz,{bracket:S,teams:s,allTeams:s,onToggleOverride:F,onUpdateScores:W,onUpdateTeams:I,onTeamChange:L},S.id))})]})}),r.jsx(XT,{children:y?r.jsx("div",{className:"bg-white p-2 rounded-lg border-2 border-purple-400 shadow-lg",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-4 h-4 bg-purple-100 rounded-full flex items-center justify-center",children:r.jsx(xt,{className:"h-2 w-2 text-purple-600"})}),r.jsx("span",{className:"text-xs font-medium",children:"Moving playoff team..."})]})}):null})]})})}):r.jsx(q,{children:r.jsx(G,{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx(xt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select Filters"}),r.jsx("p",{className:"text-gray-600",children:"Please select a season and week to manage playoff brackets."})]})})})]})},yz=()=>r.jsx("div",{className:"space-y-6",children:r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsxs(de,{className:"flex items-center gap-2",children:[r.jsx(un,{className:"h-5 w-5"}),"Matchups & Overrides Management"]}),r.jsx(Se,{children:"Manage regular season and playoff matchups, scores, and overrides across all conferences"})]}),r.jsx(G,{children:r.jsxs(kr,{defaultValue:"regular-season",className:"space-y-6",children:[r.jsxs(or,{className:"grid w-full grid-cols-2",children:[r.jsxs(Ue,{value:"regular-season",className:"flex items-center gap-2",children:[r.jsx(un,{className:"h-4 w-4"}),"Regular Season"]}),r.jsxs(Ue,{value:"playoffs",className:"flex items-center gap-2",children:[r.jsx(xt,{className:"h-4 w-4"}),"Playoffs"]})]}),r.jsx(ze,{value:"regular-season",children:r.jsx(gz,{})}),r.jsx(ze,{value:"playoffs",children:r.jsx(vz,{})})]})})]})}),wz=()=>{const[e,t]=h.useState([]),[s,n]=h.useState(null),[a,i]=h.useState(null),[o,l]=h.useState(!1),[c,d]=h.useState(!1),[u,f]=h.useState({playoff_teams:10,first_round_byes:6,playoff_start_week:14,reseed:!0}),{toast:m}=gs();h.useEffect(()=>{v()},[]),h.useEffect(()=>{s&&j()},[s]);const v=async()=>{try{const p=await Y.getSeasons({orderBy:{column:"season_year",ascending:!1}});if(p.error)throw new Error("Failed to load seasons");t(p.data);const w=p.data.find(_=>_.is_current);w&&n(w.id)}catch(p){console.error("Error loading seasons:",p),m({title:"Error",description:"Failed to load seasons",variant:"destructive"})}},j=async()=>{if(s){l(!0);try{const p=await Y.getPlayoffFormats({filters:[{column:"season_id",operator:"eq",value:s},{column:"is_active",operator:"eq",value:!0}]});if(p.error)throw new Error("Failed to load playoff format");if(p.data.length>0){const w=p.data[0];i(w),f({playoff_teams:w.playoff_teams,first_round_byes:w.week_14_byes,playoff_start_week:w.playoff_start_week,reseed:w.reseed})}else i(null),f({playoff_teams:10,first_round_byes:6,playoff_start_week:14,reseed:!0})}catch(p){console.error("Error loading playoff format:",p),m({title:"Error",description:"Failed to load playoff format",variant:"destructive"})}finally{l(!1)}}},g=async()=>{if(!s){m({title:"Error",description:"Please select a season",variant:"destructive"});return}d(!0);try{const p={season_id:s,playoff_teams:u.playoff_teams,week_14_byes:u.first_round_byes,playoff_start_week:u.playoff_start_week,reseed:u.reseed,championship_week:17,is_active:!0};let w;if(a?w=await Y.updatePlayoffFormat(a.id,p):w=await Y.createPlayoffFormat(p),w.error)throw new Error("Failed to save playoff format");i(w.data),m({title:"Success",description:"Playoff format saved successfully"}),await j()}catch(p){console.error("Error saving playoff format:",p),m({title:"Error",description:"Failed to save playoff format",variant:"destructive"})}finally{d(!1)}},y=(p,w)=>{f(_=>({..._,[p]:w}))},x=e.find(p=>p.id===s);return r.jsx("div",{className:"space-y-6",children:r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsxs(de,{className:"flex items-center gap-2",children:[r.jsx(xt,{className:"h-5 w-5"}),"Playoff Format Management"]}),r.jsx(Se,{children:"Configure playoff settings for each season including teams, byes, and format rules"})]}),r.jsxs(G,{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Pt,{htmlFor:"season-select",children:"Season"}),r.jsxs(At,{value:(s==null?void 0:s.toString())||"",onValueChange:p=>n(parseInt(p)),children:[r.jsx(St,{children:r.jsx($t,{placeholder:"Select a season"})}),r.jsx(Nt,{children:e.map(p=>r.jsxs(Le,{value:p.id.toString(),children:[p.season_name," (",p.season_year,")",p.is_current&&" - Current"]},p.id))})]})]}),s&&r.jsxs(r.Fragment,{children:[o?r.jsxs("div",{className:"flex items-center justify-center py-8",children:[r.jsx(it,{className:"h-6 w-6 animate-spin"}),r.jsx("span",{className:"ml-2",children:"Loading playoff format..."})]}):r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Pt,{htmlFor:"playoff-teams",children:"Playoff Teams"}),r.jsx(Jt,{id:"playoff-teams",type:"number",min:"4",max:"16",value:u.playoff_teams,onChange:p=>y("playoff_teams",parseInt(p.target.value)),placeholder:"Number of teams in playoffs"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Total number of teams that make the playoffs"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Pt,{htmlFor:"first-round-byes",children:"First Round Byes"}),r.jsx(Jt,{id:"first-round-byes",type:"number",min:"0",max:"8",value:u.first_round_byes,onChange:p=>y("first_round_byes",parseInt(p.target.value)),placeholder:"Number of teams with first round byes"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Number of top-seeded teams that skip the first round"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Pt,{htmlFor:"playoff-start-week",children:"Playoff Start Week"}),r.jsx(Jt,{id:"playoff-start-week",type:"number",min:"1",max:"18",value:u.playoff_start_week,onChange:p=>y("playoff_start_week",parseInt(p.target.value)),placeholder:"Week when playoffs begin"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"NFL week when playoff games start"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Pt,{children:"Playoff Reseeding"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Uv,{id:"reseed",checked:u.reseed,onCheckedChange:p=>y("reseed",p)}),r.jsx(Pt,{htmlFor:"reseed",className:"text-sm font-normal",children:"Reseed teams after each playoff round"})]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"If checked, teams are reseeded after each round (highest seed plays lowest seed)"})]})]}),a&&!o&&r.jsx(Ye,{children:r.jsxs(Qe,{children:[r.jsxs("strong",{children:["Current Settings for ",x==null?void 0:x.season_name,":"]}),r.jsx("br",{}),"Playoff Teams: ",a.playoff_teams," | First Round Byes: ",a.week_14_byes," | Start Week: ",a.playoff_start_week," | Reseed: ",a.reseed?"Yes":"No"]})}),r.jsx("div",{className:"flex justify-end",children:r.jsxs(J,{onClick:g,disabled:c||o,className:"flex items-center gap-2",children:[c?r.jsx(it,{className:"h-4 w-4 animate-spin"}):r.jsx(Hf,{className:"h-4 w-4"}),c?"Saving...":"Save Playoff Format"]})})]})]})]})})};var kh="Switch",[jz,DH]=_n(kh),[_z,bz]=jz(kh),ok=h.forwardRef((e,t)=>{const{__scopeSwitch:s,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...f}=e,[m,v]=h.useState(null),j=ot(t,w=>v(w)),g=h.useRef(!1),y=m?u||!!m.closest("form"):!0,[x,p]=qr({prop:a,defaultProp:i??!1,onChange:d,caller:kh});return r.jsxs(_z,{scope:s,checked:x,disabled:l,children:[r.jsx(be.button,{type:"button",role:"switch","aria-checked":x,"aria-required":o,"data-state":uk(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:j,onClick:_e(e.onClick,w=>{p(_=>!_),y&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})}),y&&r.jsx(dk,{control:m,bubbles:!g.current,name:n,value:c,checked:x,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});ok.displayName=kh;var lk="SwitchThumb",ck=h.forwardRef((e,t)=>{const{__scopeSwitch:s,...n}=e,a=bz(lk,s);return r.jsx(be.span,{"data-state":uk(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});ck.displayName=lk;var Sz="SwitchBubbleInput",dk=h.forwardRef(({__scopeSwitch:e,control:t,checked:s,bubbles:n=!0,...a},i)=>{const o=h.useRef(null),l=ot(o,i),c=Pv(s),d=lv(t);return h.useEffect(()=>{const u=o.current;if(!u)return;const f=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==s&&v){const j=new Event("click",{bubbles:n});v.call(u,s),u.dispatchEvent(j)}},[c,s,n]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...a,tabIndex:-1,ref:l,style:{...a.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});dk.displayName=Sz;function uk(e){return e?"checked":"unchecked"}var fk=ok,Nz=ck;const hk=h.forwardRef(({className:e,...t},s)=>r.jsx(fk,{className:we("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:s,children:r.jsx(Nz,{className:we("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));hk.displayName=fk.displayName;class Cz{constructor(){us(this,"schedule",{enabled:!1,dayOfWeek:2,hour:9,minute:0,timezone:"America/New_York"});us(this,"syncStatus",{id:"",status:"idle",progress:0,currentStep:"Waiting for next sync",processedMatchups:0,totalMatchups:0,errors:[]});us(this,"syncHistory",[]);us(this,"scheduleTimer",null);us(this,"statusListeners",[]);us(this,"historyListeners",[]);this.loadSettings(),this.scheduleNextSync()}getSchedule(){return{...this.schedule}}updateSchedule(t){this.schedule={...this.schedule,...t},this.saveSettings(),this.scheduleNextSync(),this.notifyStatusListeners()}getStatus(){return{...this.syncStatus}}getHistory(){return[...this.syncHistory]}async runManualSync(){if(this.syncStatus.status==="running")throw new Error("Sync is already running");await this.executeSync(!0)}onStatusChange(t){return this.statusListeners.push(t),()=>{this.statusListeners=this.statusListeners.filter(s=>s!==t)}}onHistoryChange(t){return this.historyListeners.push(t),()=>{this.historyListeners=this.historyListeners.filter(s=>s!==t)}}loadSettings(){try{const t=localStorage.getItem("weeklyAutoSyncSchedule");t&&(this.schedule={...this.schedule,...JSON.parse(t)});const s=localStorage.getItem("weeklyAutoSyncHistory");s&&(this.syncHistory=JSON.parse(s).map(n=>({...n,timestamp:new Date(n.timestamp)})))}catch(t){console.error("Failed to load sync settings:",t)}}saveSettings(){try{localStorage.setItem("weeklyAutoSyncSchedule",JSON.stringify(this.schedule)),localStorage.setItem("weeklyAutoSyncHistory",JSON.stringify(this.syncHistory))}catch(t){console.error("Failed to save sync settings:",t)}}scheduleNextSync(){if(this.scheduleTimer&&(clearTimeout(this.scheduleTimer),this.scheduleTimer=null),!this.schedule.enabled){this.updateSyncStatus({status:"idle",currentStep:"Automatic sync disabled",nextRunTime:void 0});return}const t=this.calculateNextRunTime(),s=new Date,n=t.getTime()-s.getTime();n>0&&(this.scheduleTimer=setTimeout(()=>{this.executeSync(!1)},n),this.updateSyncStatus({status:"scheduled",currentStep:"Scheduled for next run",nextRunTime:t}))}calculateNextRunTime(){const t=new Date,s=new Date(t);s.setHours(this.schedule.hour,this.schedule.minute,0,0);const n=t.getDay();let i=this.schedule.dayOfWeek-n;return(i<0||i===0&&t.getTime()>=s.getTime())&&(i+=7),s.setDate(s.getDate()+i),s}async executeSync(t){var l,c;const s=`sync_${Date.now()}`,n=new Date;this.updateSyncStatus({id:s,status:"running",startTime:n,progress:0,currentStep:"Initializing sync...",processedMatchups:0,totalMatchups:0,errors:[]});const a=[];let i=0,o=0;try{this.updateSyncStatus({currentStep:"Fetching active conferences...",progress:10});const{data:d}=await window.ezsite.apis.tablePage(12820,{PageNo:1,PageSize:100,Filters:[{name:"is_active",op:"Equal",value:!0}]});if(!((l=d==null?void 0:d.List)!=null&&l.length))throw new Error("No active conferences found");const{data:u}=await window.ezsite.apis.tablePage(12818,{PageNo:1,PageSize:1,Filters:[{name:"is_current_season",op:"Equal",value:!0}]});if(!((c=u==null?void 0:u.List)!=null&&c.length))throw new Error("No current season found");const f=u.List[0];this.updateSyncStatus({currentStep:"Fetching pending matchups...",progress:20});const{data:m}=await window.ezsite.apis.tablePage(13329,{PageNo:1,PageSize:1e3,Filters:[{name:"status",op:"Equal",value:"pending"},{name:"week",op:"Equal",value:f.current_week}]}),v=(m==null?void 0:m.List)||[];this.updateSyncStatus({totalMatchups:v.length,progress:30});for(const x of d.List){this.updateSyncStatus({currentStep:`Processing ${x.conference_name}...`,progress:30+i/v.length*40});try{const p=v.filter(w=>w.conference_id===x.id);for(const w of p)await this.processMatchup(w,x,f),i++,this.updateSyncStatus({processedMatchups:i,progress:30+i/v.length*40});await this.updateTeamRecords(x.id,f.id),o++}catch(p){const w=`Error processing ${x.conference_name}: ${p}`;a.push(w),console.error(w)}}this.updateSyncStatus({currentStep:"Finalizing sync...",progress:90});const j=new Date,g=j.getTime()-n.getTime(),y={id:s,timestamp:n,status:a.length>0?i>0?"partial":"failed":"success",duration:g,matchupsProcessed:i,recordsUpdated:o,errors:[...a],details:t?"Manual sync":"Scheduled sync"};this.syncHistory.unshift(y),this.syncHistory=this.syncHistory.slice(0,100),this.saveSettings(),this.notifyHistoryListeners(),this.updateSyncStatus({status:a.length>0?"failed":"completed",endTime:j,progress:100,currentStep:`Sync completed ${a.length>0?"with errors":"successfully"}`,errors:[...a],lastRunTime:n}),t||setTimeout(()=>this.scheduleNextSync(),5e3),a.length===0?_a({title:"Sync Completed",description:`Processed ${i} matchups successfully`}):_a({title:"Sync Completed with Errors",description:`Processed ${i} matchups with ${a.length} errors`,variant:"destructive"})}catch(d){const u=`Sync failed: ${d}`;a.push(u),this.updateSyncStatus({status:"failed",endTime:new Date,progress:0,currentStep:"Sync failed",errors:[...a]}),console.error("Sync execution failed:",d),_a({title:"Sync Failed",description:u,variant:"destructive"}),t||setTimeout(()=>this.scheduleNextSync(),6e4)}}async processMatchup(t,s,n){var a,i,o,l;try{const c=await Oe.getMatchups(s.league_id,t.week);if(!(c!=null&&c.length))throw new Error(`No Sleeper matchups found for week ${t.week}`);if(!c.find(x=>x.matchup_id===parseInt(t.sleeper_matchup_id)))throw new Error(`Sleeper matchup not found for ID ${t.sleeper_matchup_id}`);const{data:u}=await window.ezsite.apis.tablePage(12853,{PageNo:1,PageSize:1,Filters:[{name:"team_id",op:"Equal",value:t.team_1_id},{name:"conference_id",op:"Equal",value:s.id}]}),{data:f}=await window.ezsite.apis.tablePage(12853,{PageNo:1,PageSize:1,Filters:[{name:"team_id",op:"Equal",value:t.team_2_id},{name:"conference_id",op:"Equal",value:s.id}]});if(!((a=u==null?void 0:u.List)!=null&&a.length)||!((i=f==null?void 0:f.List)!=null&&i.length))throw new Error("Could not find team junction records");const m=u.List[0].roster_id,v=f.List[0].roster_id,j=((o=c.find(x=>x.roster_id===parseInt(m)))==null?void 0:o.points)||0,g=((l=c.find(x=>x.roster_id===parseInt(v)))==null?void 0:l.points)||0;let y=null;j>g?y=t.team_1_id:g>j&&(y=t.team_2_id),await window.ezsite.apis.tableUpdate(13329,{id:t.id,team_1_score:j,team_2_score:g,winner_id:y,status:"complete",is_manual_override:!1})}catch(c){throw new Error(`Failed to process matchup ${t.id}: ${c}`)}}async updateTeamRecords(t,s){var n,a,i;try{const{data:o}=await window.ezsite.apis.tablePage(13329,{PageNo:1,PageSize:1e3,Filters:[{name:"conference_id",op:"Equal",value:t},{name:"status",op:"Equal",value:"complete"}]});if(!((n=o==null?void 0:o.List)!=null&&n.length))return;const{data:l}=await window.ezsite.apis.tablePage(12853,{PageNo:1,PageSize:100,Filters:[{name:"conference_id",op:"Equal",value:t}]});if(!((a=l==null?void 0:l.List)!=null&&a.length))return;for(const c of l.List){const d=c.team_id,u=o.List.filter(_=>_.team_1_id===d||_.team_2_id===d);let f=0,m=0,v=0,j=0,g=0;for(const _ of u){const b=_.team_1_id===d,T=b?_.team_1_score:_.team_2_score,N=b?_.team_2_score:_.team_1_score;j+=T,g+=N,_.winner_id===d?f++:_.winner_id===null?v++:m++}const y=f+m+v,x=y>0?f/y:0,{data:p}=await window.ezsite.apis.tablePage(13768,{PageNo:1,PageSize:1,Filters:[{name:"team_id",op:"Equal",value:d},{name:"conference_id",op:"Equal",value:t},{name:"season_id",op:"Equal",value:s}]}),w={team_id:d,conference_id:t,season_id:s,wins:f,losses:m,ties:v,points_for:j,points_against:g,win_percentage:x,last_updated:new Date().toISOString()};(i=p==null?void 0:p.List)!=null&&i.length?await window.ezsite.apis.tableUpdate(13768,{id:p.List[0].id,...w}):await window.ezsite.apis.tableCreate(13768,w)}}catch(o){throw new Error(`Failed to update team records: ${o}`)}}updateSyncStatus(t){this.syncStatus={...this.syncStatus,...t},this.notifyStatusListeners()}notifyStatusListeners(){this.statusListeners.forEach(t=>{try{t(this.getStatus())}catch(s){console.error("Error notifying status listener:",s)}})}notifyHistoryListeners(){this.historyListeners.forEach(t=>{try{t(this.getHistory())}catch(s){console.error("Error notifying history listener:",s)}})}}const ni=new Cz,Ez=()=>{const[e,t]=h.useState(ni.getSchedule()),[s,n]=h.useState(ni.getStatus()),[a,i]=h.useState(ni.getHistory()),[o,l]=h.useState(!1),[c,d]=h.useState("overview");h.useEffect(()=>{const x=ni.onStatusChange(n),p=ni.onHistoryChange(i);return()=>{x(),p()}},[]);const u=x=>{const p={...e,...x};t(p),ni.updateSchedule(x),_a({title:"Schedule Updated",description:"Auto-sync schedule has been updated successfully."})},f=async()=>{if(s.status==="running"){_a({title:"Sync Already Running",description:"Please wait for the current sync to complete.",variant:"destructive"});return}l(!0);try{await ni.runManualSync(),_a({title:"Manual Sync Started",description:"Sync has been initiated manually."})}catch(x){_a({title:"Sync Failed",description:`Failed to start manual sync: ${x}`,variant:"destructive"})}finally{l(!1)}},m=x=>{switch(x){case"completed":case"success":return"bg-green-500";case"running":return"bg-blue-500";case"failed":return"bg-red-500";case"partial":return"bg-yellow-500";case"scheduled":return"bg-purple-500";default:return"bg-gray-500"}},v=x=>{switch(x){case"completed":case"success":return r.jsx(Ol,{className:"w-4 h-4"});case"running":return r.jsx(it,{className:"w-4 h-4 animate-spin"});case"failed":return r.jsx(L$,{className:"w-4 h-4"});case"partial":return r.jsx(et,{className:"w-4 h-4"});case"scheduled":return r.jsx($n,{className:"w-4 h-4"});default:return r.jsx(gD,{className:"w-4 h-4"})}},j=x=>{const p=Math.floor(x/1e3),w=Math.floor(p/60),_=Math.floor(w/60);return _>0?`${_}h ${w%60}m ${p%60}s`:w>0?`${w}m ${p%60}s`:`${p}s`},g=x=>x?new Date(x).toLocaleString():"N/A",y=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Auto-Sync Manager"}),r.jsx("p",{className:"text-muted-foreground",children:"Manage automatic weekly synchronization with Sleeper API"})]}),r.jsxs(J,{onClick:f,disabled:o||s.status==="running",className:"gap-2",children:[o||s.status==="running"?r.jsx(it,{className:"w-4 h-4 animate-spin"}):r.jsx(vD,{className:"w-4 h-4"}),o||s.status==="running"?"Syncing...":"Run Manual Sync"]})]}),r.jsxs(kr,{value:c,onValueChange:d,className:"w-full",children:[r.jsxs(or,{className:"grid w-full grid-cols-4",children:[r.jsxs(Ue,{value:"overview",className:"gap-2",children:[r.jsx(Ri,{className:"w-4 h-4"}),"Overview"]}),r.jsxs(Ue,{value:"schedule",className:"gap-2",children:[r.jsx(un,{className:"w-4 h-4"}),"Schedule"]}),r.jsxs(Ue,{value:"monitoring",className:"gap-2",children:[r.jsx(Yp,{className:"w-4 h-4"}),"Monitoring"]}),r.jsxs(Ue,{value:"history",className:"gap-2",children:[r.jsx(Q$,{className:"w-4 h-4"}),"History"]})]}),r.jsxs(ze,{value:"overview",className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs(q,{children:[r.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(de,{className:"text-sm font-medium",children:"Sync Status"}),v(s.status)]}),r.jsxs(G,{children:[r.jsx("div",{className:"text-2xl font-bold capitalize",children:s.status}),r.jsx("p",{className:"text-xs text-muted-foreground",children:s.currentStep})]})]}),r.jsxs(q,{children:[r.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(de,{className:"text-sm font-medium",children:"Auto-Sync"}),r.jsx(Yu,{className:"w-4 h-4"})]}),r.jsxs(G,{children:[r.jsx("div",{className:"text-2xl font-bold",children:e.enabled?"Enabled":"Disabled"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:e.enabled?`${y[e.dayOfWeek]} at ${e.hour}:${e.minute.toString().padStart(2,"0")}`:"Manual only"})]})]}),r.jsxs(q,{children:[r.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(de,{className:"text-sm font-medium",children:"Last Run"}),r.jsx(LD,{className:"w-4 h-4"})]}),r.jsxs(G,{children:[r.jsx("div",{className:"text-2xl font-bold",children:s.lastRunTime?g(s.lastRunTime).split(" ")[1]:"Never"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:s.lastRunTime?g(s.lastRunTime).split(" ")[0]:"No previous runs"})]})]}),r.jsxs(q,{children:[r.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(de,{className:"text-sm font-medium",children:"Next Run"}),r.jsx($n,{className:"w-4 h-4"})]}),r.jsxs(G,{children:[r.jsx("div",{className:"text-2xl font-bold",children:s.nextRunTime?g(s.nextRunTime).split(" ")[1]:"N/A"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:s.nextRunTime?g(s.nextRunTime).split(" ")[0]:"No scheduled runs"})]})]})]}),s.status==="running"&&r.jsxs(q,{children:[r.jsx(ie,{children:r.jsxs(de,{className:"flex items-center gap-2",children:[r.jsx(it,{className:"w-5 h-5 animate-spin"}),"Sync in Progress"]})}),r.jsxs(G,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:s.currentStep}),r.jsxs("span",{children:[s.progress,"%"]})]}),r.jsx(gr,{value:s.progress,className:"h-2"})]}),r.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[r.jsxs("span",{children:["Matchups: ",s.processedMatchups," / ",s.totalMatchups]}),r.jsxs("span",{children:["Started: ",g(s.startTime)]})]})]})]}),s.errors.length>0&&r.jsxs(Ye,{variant:"destructive",children:[r.jsx(et,{className:"h-4 w-4"}),r.jsxs(Qe,{children:[r.jsx("div",{className:"font-medium",children:"Sync Errors:"}),r.jsx("ul",{className:"mt-1 space-y-1",children:s.errors.map((x,p)=>r.jsxs("li",{className:"text-sm",children:[" ",x]},p))})]})]})]}),r.jsx(ze,{value:"schedule",className:"space-y-4",children:r.jsxs(q,{children:[r.jsx(ie,{children:r.jsx(de,{children:"Sync Schedule Configuration"})}),r.jsxs(G,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Pt,{htmlFor:"enable-sync",children:"Enable Automatic Sync"}),r.jsx(hk,{id:"enable-sync",checked:e.enabled,onCheckedChange:x=>u({enabled:x})})]}),e.enabled&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Pt,{htmlFor:"day-of-week",children:"Day of Week"}),r.jsxs(At,{value:e.dayOfWeek.toString(),onValueChange:x=>u({dayOfWeek:parseInt(x)}),children:[r.jsx(St,{children:r.jsx($t,{placeholder:"Select day"})}),r.jsx(Nt,{children:y.map((x,p)=>r.jsx(Le,{value:p.toString(),children:x},p))})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Pt,{htmlFor:"hour",children:"Hour (24-hour format)"}),r.jsx(Jt,{id:"hour",type:"number",min:"0",max:"23",value:e.hour,onChange:x=>u({hour:parseInt(x.target.value)||0})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Pt,{htmlFor:"minute",children:"Minute"}),r.jsx(Jt,{id:"minute",type:"number",min:"0",max:"59",value:e.minute,onChange:x=>u({minute:parseInt(x.target.value)||0})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Pt,{htmlFor:"timezone",children:"Timezone"}),r.jsxs(At,{value:e.timezone,onValueChange:x=>u({timezone:x}),children:[r.jsx(St,{children:r.jsx($t,{placeholder:"Select timezone"})}),r.jsxs(Nt,{children:[r.jsx(Le,{value:"America/New_York",children:"Eastern Time"}),r.jsx(Le,{value:"America/Chicago",children:"Central Time"}),r.jsx(Le,{value:"America/Denver",children:"Mountain Time"}),r.jsx(Le,{value:"America/Los_Angeles",children:"Pacific Time"})]})]})]})]}),r.jsxs(Ye,{children:[r.jsx(et,{className:"h-4 w-4"}),r.jsxs(Qe,{children:[r.jsx("strong",{children:"Note:"})," Automatic sync will only run when the browser is open and active. For production use, consider implementing server-side scheduling."]})]})]})]})}),r.jsx(ze,{value:"monitoring",className:"space-y-4",children:r.jsxs(q,{children:[r.jsx(ie,{children:r.jsx(de,{children:"Real-time Monitoring"})}),r.jsx(G,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Pt,{children:"Current Status"}),r.jsx(ne,{variant:"outline",className:`${m(s.status)} text-white`,children:s.status})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Pt,{children:"Current Step"}),r.jsx("p",{className:"text-sm",children:s.currentStep})]})]}),s.status==="running"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Pt,{children:"Progress"}),r.jsx(gr,{value:s.progress,className:"h-2"}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.progress,"% complete"]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Pt,{children:"Processed Matchups"}),r.jsx("p",{className:"text-2xl font-bold",children:s.processedMatchups})]}),r.jsxs("div",{children:[r.jsx(Pt,{children:"Total Matchups"}),r.jsx("p",{className:"text-2xl font-bold",children:s.totalMatchups})]})]})]}),s.startTime&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(Pt,{children:"Started At"}),r.jsx("p",{className:"text-sm",children:g(s.startTime)})]}),s.endTime&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(Pt,{children:"Completed At"}),r.jsx("p",{className:"text-sm",children:g(s.endTime)})]})]})})]})}),r.jsx(ze,{value:"history",className:"space-y-4",children:r.jsxs(q,{children:[r.jsx(ie,{children:r.jsx(de,{children:"Sync History"})}),r.jsx(G,{children:r.jsx("div",{className:"rounded-md border",children:r.jsxs(Ss,{children:[r.jsx(Ns,{children:r.jsxs(Me,{children:[r.jsx(ue,{children:"Timestamp"}),r.jsx(ue,{children:"Status"}),r.jsx(ue,{children:"Duration"}),r.jsx(ue,{children:"Matchups"}),r.jsx(ue,{children:"Records"}),r.jsx(ue,{children:"Errors"}),r.jsx(ue,{children:"Details"})]})}),r.jsx(Cs,{children:a.length===0?r.jsx(Me,{children:r.jsx(oe,{colSpan:7,className:"text-center text-muted-foreground",children:"No sync history available"})}):a.map(x=>r.jsxs(Me,{children:[r.jsx(oe,{children:g(x.timestamp)}),r.jsx(oe,{children:r.jsx(ne,{variant:"outline",className:`${m(x.status)} text-white`,children:x.status})}),r.jsx(oe,{children:j(x.duration)}),r.jsx(oe,{children:x.matchupsProcessed}),r.jsx(oe,{children:x.recordsUpdated}),r.jsx(oe,{children:x.errors.length>0?r.jsx(ne,{variant:"destructive",children:x.errors.length}):r.jsx("span",{className:"text-green-600",children:"None"})}),r.jsx(oe,{className:"max-w-xs truncate",children:x.details})]},x.id))})]})})})]})})]})]})},Tz=()=>{const[e,t]=h.useState(!1),[s,n]=h.useState(""),[a,i]=h.useState(""),[o,l]=h.useState(null),[c,d]=h.useState(!0),{toast:u}=gs(),f="gladleague2025";h.useEffect(()=>{const j=sessionStorage.getItem("admin_authenticated"),g=sessionStorage.getItem("admin_login_time");if(j==="true"&&g){const y=new Date(g);(new Date().getTime()-y.getTime())/(1e3*60*60)<8?(t(!0),l(localStorage.getItem("admin_last_login"))):(sessionStorage.removeItem("admin_authenticated"),sessionStorage.removeItem("admin_login_time"))}d(!1)},[]);const m=j=>{if(j.preventDefault(),s===f){const g=new Date;t(!0),i(""),sessionStorage.setItem("admin_authenticated","true"),sessionStorage.setItem("admin_login_time",g.toISOString()),localStorage.setItem("admin_last_login",g.toLocaleString()),l(g.toLocaleString()),u({title:"Admin Access Granted",description:"Welcome to the admin panel"})}else i("Invalid password"),u({title:"Access Denied",description:"Invalid admin password",variant:"destructive"})},v=()=>{t(!1),n(""),sessionStorage.removeItem("admin_authenticated"),sessionStorage.removeItem("admin_login_time"),u({title:"Logged Out",description:"Admin session ended"})};return c?r.jsx("div",{className:"container mx-auto px-4 py-8","data-id":"ao89vvru5",children:r.jsx("div",{className:"flex items-center justify-center min-h-[400px]","data-id":"pml7mynqn",children:r.jsx("div",{className:"animate-spin h-8 w-8 border-b-2 border-blue-600 rounded-full","data-id":"10jeltn5k"})})}):e?r.jsxs("div",{className:"container mx-auto px-4 py-8","data-id":"zucmgzvwq",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8","data-id":"lro5ngqd4",children:[r.jsxs("div",{"data-id":"noo7qh20h",children:[r.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3","data-id":"fmj1jcz8o",children:[r.jsx(Yu,{className:"h-8 w-8 text-blue-600","data-id":"bdjtdbfnt"}),"Admin Panel"]}),r.jsx("p",{className:"text-muted-foreground mt-2","data-id":"amn1082i4",children:"Manage leagues, sync data, and perform administrative tasks"})]}),r.jsxs("div",{className:"flex items-center gap-4","data-id":"nw6oaovvh",children:[o&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground","data-id":"1kqkbfoj2",children:[r.jsx($n,{className:"h-4 w-4","data-id":"u85cv9ybo"}),"Last login: ",o]}),r.jsxs(ne,{variant:"secondary",className:"flex items-center gap-1","data-id":"u49kieuap",children:[r.jsx(Ri,{className:"h-3 w-3","data-id":"fzemdjhv1"}),"Admin Active"]}),r.jsx(J,{variant:"outline",onClick:v,"data-id":"ssqzxi57s",children:"Logout"})]})]}),r.jsxs(kr,{defaultValue:"league-manager",className:"space-y-6","data-id":"ojttqdptv",children:[r.jsxs(or,{className:"grid w-full grid-cols-5","data-id":"55g8xnp5m",children:[r.jsxs(Ue,{value:"league-manager",className:"flex items-center gap-2","data-id":"mudt4s949",children:[r.jsx(Yu,{className:"h-4 w-4","data-id":"vq59l6i0o"}),"League Manager"]}),r.jsxs(Ue,{value:"data-sync",className:"flex items-center gap-2","data-id":"x1ln07h9l",children:[r.jsx(Zi,{className:"h-4 w-4","data-id":"gwzxvoplp"}),"Data Sync"]}),r.jsxs(Ue,{value:"matchups-management",className:"flex items-center gap-2","data-id":"kq8s7gvio",children:[r.jsx(un,{className:"h-4 w-4","data-id":"930hxto7y"}),"Matchups & Overrides"]}),r.jsxs(Ue,{value:"playoff-format",className:"flex items-center gap-2",children:[r.jsx(xt,{className:"h-4 w-4"}),"Playoff Format"]}),r.jsxs(Ue,{value:"auto-sync",className:"flex items-center gap-2","data-id":"ufa49dbo7",children:[r.jsx(E$,{className:"h-4 w-4","data-id":"xv3rcuk8d"}),"Auto-Sync"]})]}),r.jsx(ze,{value:"league-manager","data-id":"9y7vx68ag",children:r.jsx(bB,{"data-id":"jqk7s5yut"})}),r.jsx(ze,{value:"data-sync","data-id":"mbmsyjmjw",children:r.jsx(TB,{"data-id":"r02lgxd37"})}),r.jsx(ze,{value:"matchups-management","data-id":"2im6bg2ok",children:r.jsx(yz,{"data-id":"ddqsho0df"})}),r.jsx(ze,{value:"playoff-format",children:r.jsx(wz,{})}),r.jsx(ze,{value:"auto-sync","data-id":"cr5xmlzdc",children:r.jsx(Ez,{"data-id":"5st9c4lq3"})})]})]}):r.jsx("div",{className:"container mx-auto px-4 py-8","data-id":"sep77enuq",children:r.jsx("div",{className:"max-w-md mx-auto","data-id":"qkcxfcevx",children:r.jsxs(q,{"data-id":"7bka3yyd5",children:[r.jsxs(ie,{className:"text-center","data-id":"alhddkb9x",children:[r.jsx("div",{className:"flex justify-center mb-4","data-id":"20czuz7s8",children:r.jsx(Ec,{className:"h-12 w-12 text-blue-600","data-id":"uj6wfwcyd"})}),r.jsxs(de,{className:"flex items-center gap-2 justify-center","data-id":"easa7srw9",children:[r.jsx(rD,{className:"h-5 w-5","data-id":"srgo1x52n"}),"Admin Access Required"]}),r.jsx(Se,{"data-id":"dw6h33z8z",children:"Enter the admin password to access the admin panel"})]}),r.jsx(G,{"data-id":"p54cgo0pa",children:r.jsxs("form",{onSubmit:m,className:"space-y-4","data-id":"nu7k5xnra",children:[r.jsxs("div",{className:"space-y-2","data-id":"rtr62f4xb",children:[r.jsx(Pt,{htmlFor:"password","data-id":"nell7jvlm",children:"Admin Password"}),r.jsx(Jt,{id:"password",type:"password",value:s,onChange:j=>n(j.target.value),placeholder:"Enter admin password",className:"w-full","data-id":"hjlpnn2yv"})]}),a&&r.jsx(Ye,{variant:"destructive","data-id":"4zu7gxwp4",children:r.jsx(Qe,{"data-id":"js05q0hn6",children:a})}),r.jsx(J,{type:"submit",className:"w-full","data-id":"tthln8jfy",children:"Access Admin Panel"})]})})]})})})},mk=h.createContext({});function kz(e){const t=h.useRef(null);return t.current===null&&(t.current=e()),t.current}const Kv=typeof window<"u",Pz=Kv?h.useLayoutEffect:h.useEffect,Gv=h.createContext(null);function Yv(e,t){e.indexOf(t)===-1&&e.push(t)}function Qv(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}const Jr=(e,t,s)=>s>t?t:s<e?e:s;let Jv=()=>{};const Xr={},pk=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function gk(e){return typeof e=="object"&&e!==null}const xk=e=>/^0[^.\s]+$/u.test(e);function Xv(e){let t;return()=>(t===void 0&&(t=e()),t)}const In=e=>e,Rz=(e,t)=>s=>t(e(s)),md=(...e)=>e.reduce(Rz),Fc=(e,t,s)=>{const n=t-e;return n===0?1:(s-e)/n};class Zv{constructor(){this.subscriptions=[]}add(t){return Yv(this.subscriptions,t),()=>Qv(this.subscriptions,t)}notify(t,s,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,s,n);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,s,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const br=e=>e*1e3,Sr=e=>e/1e3;function vk(e,t){return t?e*(1e3/t):0}const yk=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,Az=1e-7,$z=12;function Dz(e,t,s,n,a){let i,o,l=0;do o=t+(s-t)/2,i=yk(o,n,a)-e,i>0?s=o:t=o;while(Math.abs(i)>Az&&++l<$z);return o}function pd(e,t,s,n){if(e===t&&s===n)return In;const a=i=>Dz(i,0,1,e,s);return i=>i===0||i===1?i:yk(a(i),t,n)}const wk=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,jk=e=>t=>1-e(1-t),_k=pd(.33,1.53,.69,.99),ey=jk(_k),bk=wk(ey),Sk=e=>(e*=2)<1?.5*ey(e):.5*(2-Math.pow(2,-10*(e-1))),ty=e=>1-Math.sin(Math.acos(e)),Nk=jk(ty),Ck=wk(ty),Mz=pd(.42,0,1,1),Lz=pd(0,0,.58,1),Ek=pd(.42,0,.58,1),Iz=e=>Array.isArray(e)&&typeof e[0]!="number",Tk=e=>Array.isArray(e)&&typeof e[0]=="number",Oz={linear:In,easeIn:Mz,easeInOut:Ek,easeOut:Lz,circIn:ty,circInOut:Ck,circOut:Nk,backIn:ey,backInOut:bk,backOut:_k,anticipate:Sk},Fz=e=>typeof e=="string",gj=e=>{if(Tk(e)){Jv(e.length===4);const[t,s,n,a]=e;return pd(t,s,n,a)}else if(Fz(e))return Oz[e];return e},Qd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Bz(e,t){let s=new Set,n=new Set,a=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(u){o.has(u)&&(d.schedule(u),e()),u(l)}const d={schedule:(u,f=!1,m=!1)=>{const j=m&&a?s:n;return f&&o.add(u),j.has(u)||j.add(u),u},cancel:u=>{n.delete(u),o.delete(u)},process:u=>{if(l=u,a){i=!0;return}a=!0,[s,n]=[n,s],s.forEach(c),s.clear(),a=!1,i&&(i=!1,d.process(u))}};return d}const Uz=40;function kk(e,t){let s=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>s=!0,o=Qd.reduce((w,_)=>(w[_]=Bz(i),w),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:u,update:f,preRender:m,render:v,postRender:j}=o,g=()=>{const w=Xr.useManualTiming?a.timestamp:performance.now();s=!1,Xr.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(w-a.timestamp,Uz),1)),a.timestamp=w,a.isProcessing=!0,l.process(a),c.process(a),d.process(a),u.process(a),f.process(a),m.process(a),v.process(a),j.process(a),a.isProcessing=!1,s&&t&&(n=!1,e(g))},y=()=>{s=!0,n=!0,a.isProcessing||e(g)};return{schedule:Qd.reduce((w,_)=>{const b=o[_];return w[_]=(T,N=!1,E=!1)=>(s||y(),b.schedule(T,N,E)),w},{}),cancel:w=>{for(let _=0;_<Qd.length;_++)o[Qd[_]].cancel(w)},state:a,steps:o}}const{schedule:Ot,cancel:Ba,state:bs,steps:Fm}=kk(typeof requestAnimationFrame<"u"?requestAnimationFrame:In,!0);let wu;function zz(){wu=void 0}const on={now:()=>(wu===void 0&&on.set(bs.isProcessing||Xr.useManualTiming?bs.timestamp:performance.now()),wu),set:e=>{wu=e,queueMicrotask(zz)}},Pk=e=>t=>typeof t=="string"&&t.startsWith(e),sy=Pk("--"),Vz=Pk("var(--"),ny=e=>Vz(e)?Wz.test(e.split("/*")[0].trim()):!1,Wz=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,vl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Bc={...vl,transform:e=>Jr(0,1,e)},Jd={...vl,default:1},rc=e=>Math.round(e*1e5)/1e5,ry=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Hz(e){return e==null}const qz=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ay=(e,t)=>s=>!!(typeof s=="string"&&qz.test(s)&&s.startsWith(e)||t&&!Hz(s)&&Object.prototype.hasOwnProperty.call(s,t)),Rk=(e,t,s)=>n=>{if(typeof n!="string")return n;const[a,i,o,l]=n.match(ry);return{[e]:parseFloat(a),[t]:parseFloat(i),[s]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Kz=e=>Jr(0,255,e),Bm={...vl,transform:e=>Math.round(Kz(e))},hi={test:ay("rgb","red"),parse:Rk("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:n=1})=>"rgba("+Bm.transform(e)+", "+Bm.transform(t)+", "+Bm.transform(s)+", "+rc(Bc.transform(n))+")"};function Gz(e){let t="",s="",n="",a="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,s+=s,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const $g={test:ay("#"),parse:Gz,transform:hi.transform},gd=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),oa=gd("deg"),Nr=gd("%"),Ne=gd("px"),Yz=gd("vh"),Qz=gd("vw"),xj={...Nr,parse:e=>Nr.parse(e)/100,transform:e=>Nr.transform(e*100)},po={test:ay("hsl","hue"),parse:Rk("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:n=1})=>"hsla("+Math.round(e)+", "+Nr.transform(rc(t))+", "+Nr.transform(rc(s))+", "+rc(Bc.transform(n))+")"},ss={test:e=>hi.test(e)||$g.test(e)||po.test(e),parse:e=>hi.test(e)?hi.parse(e):po.test(e)?po.parse(e):$g.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?hi.transform(e):po.transform(e),getAnimatableNone:e=>{const t=ss.parse(e);return t.alpha=0,ss.transform(t)}},Jz=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Xz(e){var t,s;return isNaN(e)&&typeof e=="string"&&(((t=e.match(ry))==null?void 0:t.length)||0)+(((s=e.match(Jz))==null?void 0:s.length)||0)>0}const Ak="number",$k="color",Zz="var",eV="var(",vj="${}",tV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Uc(e){const t=e.toString(),s=[],n={color:[],number:[],var:[]},a=[];let i=0;const l=t.replace(tV,c=>(ss.test(c)?(n.color.push(i),a.push($k),s.push(ss.parse(c))):c.startsWith(eV)?(n.var.push(i),a.push(Zz),s.push(c)):(n.number.push(i),a.push(Ak),s.push(parseFloat(c))),++i,vj)).split(vj);return{values:s,split:l,indexes:n,types:a}}function Dk(e){return Uc(e).values}function Mk(e){const{split:t,types:s}=Uc(e),n=t.length;return a=>{let i="";for(let o=0;o<n;o++)if(i+=t[o],a[o]!==void 0){const l=s[o];l===Ak?i+=rc(a[o]):l===$k?i+=ss.transform(a[o]):i+=a[o]}return i}}const sV=e=>typeof e=="number"?0:ss.test(e)?ss.getAnimatableNone(e):e;function nV(e){const t=Dk(e);return Mk(e)(t.map(sV))}const Ua={test:Xz,parse:Dk,createTransformer:Mk,getAnimatableNone:nV};function Um(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function rV({hue:e,saturation:t,lightness:s,alpha:n}){e/=360,t/=100,s/=100;let a=0,i=0,o=0;if(!t)a=i=o=s;else{const l=s<.5?s*(1+t):s+t-s*t,c=2*s-l;a=Um(c,l,e+1/3),i=Um(c,l,e),o=Um(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function jf(e,t){return s=>s>0?t:e}const Ut=(e,t,s)=>e+(t-e)*s,zm=(e,t,s)=>{const n=e*e,a=s*(t*t-n)+n;return a<0?0:Math.sqrt(a)},aV=[$g,hi,po],iV=e=>aV.find(t=>t.test(e));function yj(e){const t=iV(e);if(!t)return!1;let s=t.parse(e);return t===po&&(s=rV(s)),s}const wj=(e,t)=>{const s=yj(e),n=yj(t);if(!s||!n)return jf(e,t);const a={...s};return i=>(a.red=zm(s.red,n.red,i),a.green=zm(s.green,n.green,i),a.blue=zm(s.blue,n.blue,i),a.alpha=Ut(s.alpha,n.alpha,i),hi.transform(a))},Dg=new Set(["none","hidden"]);function oV(e,t){return Dg.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}function lV(e,t){return s=>Ut(e,t,s)}function iy(e){return typeof e=="number"?lV:typeof e=="string"?ny(e)?jf:ss.test(e)?wj:uV:Array.isArray(e)?Lk:typeof e=="object"?ss.test(e)?wj:cV:jf}function Lk(e,t){const s=[...e],n=s.length,a=e.map((i,o)=>iy(i)(i,t[o]));return i=>{for(let o=0;o<n;o++)s[o]=a[o](i);return s}}function cV(e,t){const s={...e,...t},n={};for(const a in s)e[a]!==void 0&&t[a]!==void 0&&(n[a]=iy(e[a])(e[a],t[a]));return a=>{for(const i in n)s[i]=n[i](a);return s}}function dV(e,t){const s=[],n={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],o=e.indexes[i][n[i]],l=e.values[o]??0;s[a]=l,n[i]++}return s}const uV=(e,t)=>{const s=Ua.createTransformer(t),n=Uc(e),a=Uc(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?Dg.has(e)&&!a.values.length||Dg.has(t)&&!n.values.length?oV(e,t):md(Lk(dV(n,a),a.values),s):jf(e,t)};function Ik(e,t,s){return typeof e=="number"&&typeof t=="number"&&typeof s=="number"?Ut(e,t,s):iy(e)(e,t)}const fV=e=>{const t=({timestamp:s})=>e(s);return{start:(s=!0)=>Ot.update(t,s),stop:()=>Ba(t),now:()=>bs.isProcessing?bs.timestamp:on.now()}},Ok=(e,t,s=10)=>{let n="";const a=Math.max(Math.round(t/s),2);for(let i=0;i<a;i++)n+=Math.round(e(i/(a-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},_f=2e4;function oy(e){let t=0;const s=50;let n=e.next(t);for(;!n.done&&t<_f;)t+=s,n=e.next(t);return t>=_f?1/0:t}function hV(e,t=100,s){const n=s({...e,keyframes:[0,t]}),a=Math.min(oy(n),_f);return{type:"keyframes",ease:i=>n.next(a*i).value/t,duration:Sr(a)}}const mV=5;function Fk(e,t,s){const n=Math.max(t-mV,0);return vk(s-e(n),t-n)}const qt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Vm=.001;function pV({duration:e=qt.duration,bounce:t=qt.bounce,velocity:s=qt.velocity,mass:n=qt.mass}){let a,i,o=1-t;o=Jr(qt.minDamping,qt.maxDamping,o),e=Jr(qt.minDuration,qt.maxDuration,Sr(e)),o<1?(a=d=>{const u=d*o,f=u*e,m=u-s,v=Mg(d,o),j=Math.exp(-f);return Vm-m/v*j},i=d=>{const f=d*o*e,m=f*s+s,v=Math.pow(o,2)*Math.pow(d,2)*e,j=Math.exp(-f),g=Mg(Math.pow(d,2),o);return(-a(d)+Vm>0?-1:1)*((m-v)*j)/g}):(a=d=>{const u=Math.exp(-d*e),f=(d-s)*e+1;return-Vm+u*f},i=d=>{const u=Math.exp(-d*e),f=(s-d)*(e*e);return u*f});const l=5/e,c=xV(a,i,l);if(e=br(e),isNaN(c))return{stiffness:qt.stiffness,damping:qt.damping,duration:e};{const d=Math.pow(c,2)*n;return{stiffness:d,damping:o*2*Math.sqrt(n*d),duration:e}}}const gV=12;function xV(e,t,s){let n=s;for(let a=1;a<gV;a++)n=n-e(n)/t(n);return n}function Mg(e,t){return e*Math.sqrt(1-t*t)}const vV=["duration","bounce"],yV=["stiffness","damping","mass"];function jj(e,t){return t.some(s=>e[s]!==void 0)}function wV(e){let t={velocity:qt.velocity,stiffness:qt.stiffness,damping:qt.damping,mass:qt.mass,isResolvedFromDuration:!1,...e};if(!jj(e,yV)&&jj(e,vV))if(e.visualDuration){const s=e.visualDuration,n=2*Math.PI/(s*1.2),a=n*n,i=2*Jr(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:qt.mass,stiffness:a,damping:i}}else{const s=pV(e);t={...t,...s,mass:qt.mass},t.isResolvedFromDuration=!0}return t}function bf(e=qt.visualDuration,t=qt.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=s;const i=s.keyframes[0],o=s.keyframes[s.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:d,mass:u,duration:f,velocity:m,isResolvedFromDuration:v}=wV({...s,velocity:-Sr(s.velocity||0)}),j=m||0,g=d/(2*Math.sqrt(c*u)),y=o-i,x=Sr(Math.sqrt(c/u)),p=Math.abs(y)<5;n||(n=p?qt.restSpeed.granular:qt.restSpeed.default),a||(a=p?qt.restDelta.granular:qt.restDelta.default);let w;if(g<1){const b=Mg(x,g);w=T=>{const N=Math.exp(-g*x*T);return o-N*((j+g*x*y)/b*Math.sin(b*T)+y*Math.cos(b*T))}}else if(g===1)w=b=>o-Math.exp(-x*b)*(y+(j+x*y)*b);else{const b=x*Math.sqrt(g*g-1);w=T=>{const N=Math.exp(-g*x*T),E=Math.min(b*T,300);return o-N*((j+g*x*y)*Math.sinh(E)+b*y*Math.cosh(E))/b}}const _={calculatedDuration:v&&f||null,next:b=>{const T=w(b);if(v)l.done=b>=f;else{let N=b===0?j:0;g<1&&(N=b===0?br(j):Fk(w,b,T));const E=Math.abs(N)<=n,R=Math.abs(o-T)<=a;l.done=E&&R}return l.value=l.done?o:T,l},toString:()=>{const b=Math.min(oy(_),_f),T=Ok(N=>_.next(b*N).value,b,30);return b+"ms "+T},toTransition:()=>{}};return _}bf.applyToOptions=e=>{const t=hV(e,100,bf);return e.ease=t.ease,e.duration=br(t.duration),e.type="keyframes",e};function Lg({keyframes:e,velocity:t=0,power:s=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const f=e[0],m={done:!1,value:f},v=E=>l!==void 0&&E<l||c!==void 0&&E>c,j=E=>l===void 0?c:c===void 0||Math.abs(l-E)<Math.abs(c-E)?l:c;let g=s*t;const y=f+g,x=o===void 0?y:o(y);x!==y&&(g=x-f);const p=E=>-g*Math.exp(-E/n),w=E=>x+p(E),_=E=>{const R=p(E),$=w(E);m.done=Math.abs(R)<=d,m.value=m.done?x:$};let b,T;const N=E=>{v(m.value)&&(b=E,T=bf({keyframes:[m.value,j(m.value)],velocity:Fk(w,E,m.value),damping:a,stiffness:i,restDelta:d,restSpeed:u}))};return N(0),{calculatedDuration:null,next:E=>{let R=!1;return!T&&b===void 0&&(R=!0,_(E),N(E)),b!==void 0&&E>=b?T.next(E-b):(!R&&_(E),m)}}}function jV(e,t,s){const n=[],a=s||Xr.mix||Ik,i=e.length-1;for(let o=0;o<i;o++){let l=a(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||In:t;l=md(c,l)}n.push(l)}return n}function _V(e,t,{clamp:s=!0,ease:n,mixer:a}={}){const i=e.length;if(Jv(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=jV(t,n,a),c=l.length,d=u=>{if(o&&u<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(u<e[f+1]);f++);const m=Fc(e[f],e[f+1],u);return l[f](m)};return s?u=>d(Jr(e[0],e[i-1],u)):d}function bV(e,t){const s=e[e.length-1];for(let n=1;n<=t;n++){const a=Fc(0,t,n);e.push(Ut(s,1,a))}}function SV(e){const t=[0];return bV(t,e.length-1),t}function NV(e,t){return e.map(s=>s*t)}function CV(e,t){return e.map(()=>t||Ek).splice(0,e.length-1)}function ac({duration:e=300,keyframes:t,times:s,ease:n="easeInOut"}){const a=Iz(n)?n.map(gj):gj(n),i={done:!1,value:t[0]},o=NV(s&&s.length===t.length?s:SV(t),e),l=_V(o,t,{ease:Array.isArray(a)?a:CV(t,a)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const EV=e=>e!==null;function ly(e,{repeat:t,repeatType:s="loop"},n,a=1){const i=e.filter(EV),l=a<0||t&&s!=="loop"&&t%2===1?0:i.length-1;return!l||n===void 0?i[l]:n}const TV={decay:Lg,inertia:Lg,tween:ac,keyframes:ac,spring:bf};function Bk(e){typeof e.type=="string"&&(e.type=TV[e.type])}class cy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,s){return this.finished.then(t,s)}}const kV=e=>e/100;class dy extends cy{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,a;const{motionValue:s}=this.options;s&&s.updatedAt!==on.now()&&this.tick(on.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(n=this.options).onStop)==null||a.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Bk(t);const{type:s=ac,repeat:n=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=t;let{keyframes:l}=t;const c=s||ac;c!==ac&&typeof l[0]!="number"&&(this.mixKeyframes=md(kV,Ik(l[0],l[1])),l=[0,100]);const d=c({...t,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=oy(d));const{calculatedDuration:u}=d;this.calculatedDuration=u,this.resolvedDuration=u+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=d}updateTime(t){const s=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(t,s=!1){const{generator:n,totalDuration:a,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:d=0,keyframes:u,repeat:f,repeatType:m,repeatDelay:v,type:j,onUpdate:g,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),s?this.currentTime=t:this.updateTime(t);const x=this.currentTime-d*(this.playbackSpeed>=0?1:-1),p=this.playbackSpeed>=0?x<0:x>a;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let w=this.currentTime,_=n;if(f){const E=Math.min(this.currentTime,a)/l;let R=Math.floor(E),$=E%1;!$&&E>=1&&($=1),$===1&&R--,R=Math.min(R,f+1),!!(R%2)&&(m==="reverse"?($=1-$,v&&($-=v/l)):m==="mirror"&&(_=o)),w=Jr(0,1,$)*l}const b=p?{done:!1,value:u[0]}:_.next(w);i&&(b.value=i(b.value));let{done:T}=b;!p&&c!==null&&(T=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return N&&j!==Lg&&(b.value=ly(u,this.options,y,this.speed)),g&&g(b.value),N&&this.finish(),b}then(t,s){return this.finished.then(t,s)}get duration(){return Sr(this.calculatedDuration)}get time(){return Sr(this.currentTime)}set time(t){var s;t=br(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(s=this.driver)==null||s.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(on.now());const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=Sr(this.currentTime))}play(){var a,i;if(this.isStopped)return;const{driver:t=fV,startTime:s}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(a=this.options).onPlay)==null||i.call(a);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=s??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(on.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,s;this.notifyFinished(),this.teardown(),this.state="finished",(s=(t=this.options).onComplete)==null||s.call(t)}cancel(){var t,s;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(s=(t=this.options).onCancel)==null||s.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var s;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(s=this.driver)==null||s.stop(),t.observe(this)}}function PV(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const mi=e=>e*180/Math.PI,Ig=e=>{const t=mi(Math.atan2(e[1],e[0]));return Og(t)},RV={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Ig,rotateZ:Ig,skewX:e=>mi(Math.atan(e[1])),skewY:e=>mi(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Og=e=>(e=e%360,e<0&&(e+=360),e),_j=Ig,bj=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Sj=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),AV={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:bj,scaleY:Sj,scale:e=>(bj(e)+Sj(e))/2,rotateX:e=>Og(mi(Math.atan2(e[6],e[5]))),rotateY:e=>Og(mi(Math.atan2(-e[2],e[0]))),rotateZ:_j,rotate:_j,skewX:e=>mi(Math.atan(e[4])),skewY:e=>mi(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Fg(e){return e.includes("scale")?1:0}function Bg(e,t){if(!e||e==="none")return Fg(t);const s=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(s)n=AV,a=s;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=RV,a=l}if(!a)return Fg(t);const i=n[t],o=a[1].split(",").map(DV);return typeof i=="function"?i(o):o[i]}const $V=(e,t)=>{const{transform:s="none"}=getComputedStyle(e);return Bg(s,t)};function DV(e){return parseFloat(e.trim())}const yl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],wl=new Set(yl),Nj=e=>e===vl||e===Ne,MV=new Set(["x","y","z"]),LV=yl.filter(e=>!MV.has(e));function IV(e){const t=[];return LV.forEach(s=>{const n=e.getValue(s);n!==void 0&&(t.push([s,n.get()]),n.set(s.startsWith("scale")?1:0))}),t}const Si={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Bg(t,"x"),y:(e,{transform:t})=>Bg(t,"y")};Si.translateX=Si.x;Si.translateY=Si.y;const Ni=new Set;let Ug=!1,zg=!1,Vg=!1;function Uk(){if(zg){const e=Array.from(Ni).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),s=new Map;t.forEach(n=>{const a=IV(n);a.length&&(s.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=s.get(n);a&&a.forEach(([i,o])=>{var l;(l=n.getValue(i))==null||l.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}zg=!1,Ug=!1,Ni.forEach(e=>e.complete(Vg)),Ni.clear()}function zk(){Ni.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(zg=!0)})}function OV(){Vg=!0,zk(),Uk(),Vg=!1}class uy{constructor(t,s,n,a,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=n,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Ni.add(this),Ug||(Ug=!0,Ot.read(zk),Ot.resolveKeyframes(Uk))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:n,motionValue:a}=this;if(t[0]===null){const i=a==null?void 0:a.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&s){const l=n.readValue(s,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),a&&i===void 0&&a.set(t[0])}PV(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ni.delete(this)}cancel(){this.state==="scheduled"&&(Ni.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const FV=e=>e.startsWith("--");function BV(e,t,s){FV(t)?e.style.setProperty(t,s):e.style[t]=s}const UV=Xv(()=>window.ScrollTimeline!==void 0),zV={};function VV(e,t){const s=Xv(e);return()=>zV[t]??s()}const Vk=VV(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ul=([e,t,s,n])=>`cubic-bezier(${e}, ${t}, ${s}, ${n})`,Cj={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ul([0,.65,.55,1]),circOut:Ul([.55,0,1,.45]),backIn:Ul([.31,.01,.66,-.59]),backOut:Ul([.33,1.53,.69,.99])};function Wk(e,t){if(e)return typeof e=="function"?Vk()?Ok(e,t):"ease-out":Tk(e)?Ul(e):Array.isArray(e)?e.map(s=>Wk(s,t)||Cj.easeOut):Cj[e]}function WV(e,t,s,{delay:n=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const u={[t]:s};c&&(u.offset=c);const f=Wk(l,a);Array.isArray(f)&&(u.easing=f);const m={delay:n,duration:a,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return d&&(m.pseudoElement=d),e.animate(u,m)}function Hk(e){return typeof e=="function"&&"applyToOptions"in e}function HV({type:e,...t}){return Hk(e)&&Vk()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class qV extends cy{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:s,name:n,keyframes:a,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,Jv(typeof t.type!="string");const d=HV(t);this.animation=WV(s,n,a,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=ly(a,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(u):BV(s,n,u),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,s;(s=(t=this.animation).finish)==null||s.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,s;this.isPseudoElement||(s=(t=this.animation).commitStyles)==null||s.call(t)}get duration(){var s,n;const t=((n=(s=this.animation.effect)==null?void 0:s.getComputedTiming)==null?void 0:n.call(s).duration)||0;return Sr(Number(t))}get time(){return Sr(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=br(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:s}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&UV()?(this.animation.timeline=t,In):s(this)}}const qk={anticipate:Sk,backInOut:bk,circInOut:Ck};function KV(e){return e in qk}function GV(e){typeof e.ease=="string"&&KV(e.ease)&&(e.ease=qk[e.ease])}const Ej=10;class YV extends qV{constructor(t){GV(t),Bk(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:s,onUpdate:n,onComplete:a,element:i,...o}=this.options;if(!s)return;if(t!==void 0){s.set(t);return}const l=new dy({...o,autoplay:!1}),c=br(this.finishedTime??this.time);s.setWithVelocity(l.sample(c-Ej).value,l.sample(c).value,Ej),l.stop()}}const Tj=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ua.test(e)||e==="0")&&!e.startsWith("url("));function QV(e){const t=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}function JV(e,t,s,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=Tj(a,t),l=Tj(i,t);return!o||!l?!1:QV(e)||(s==="spring"||Hk(s))&&n}const XV=new Set(["opacity","clipPath","filter","transform"]),ZV=Xv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function e8(e){var u;const{motionValue:t,name:s,repeatDelay:n,repeatType:a,damping:i,type:o}=e;if(!(((u=t==null?void 0:t.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=t.owner.getProps();return ZV()&&s&&XV.has(s)&&(s!=="transform"||!d)&&!c&&!n&&a!=="mirror"&&i!==0&&o!=="inertia"}const t8=40;class s8 extends cy{constructor({autoplay:t=!0,delay:s=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:u,...f}){var j;super(),this.stop=()=>{var g,y;this._animation&&(this._animation.stop(),(g=this.stopTimeline)==null||g.call(this)),(y=this.keyframeResolver)==null||y.cancel()},this.createdAt=on.now();const m={autoplay:t,delay:s,type:n,repeat:a,repeatDelay:i,repeatType:o,name:c,motionValue:d,element:u,...f},v=(u==null?void 0:u.KeyframeResolver)||uy;this.keyframeResolver=new v(l,(g,y,x)=>this.onKeyframesResolved(g,y,m,!x),c,d,u),(j=this.keyframeResolver)==null||j.scheduleResolve()}onKeyframesResolved(t,s,n,a){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:u}=n;this.resolvedAt=on.now(),JV(t,i,o,l)||((Xr.instantAnimations||!c)&&(u==null||u(ly(t,n,s))),t[0]=t[t.length-1],n.duration=0,n.repeat=0);const m={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>t8?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...n,keyframes:t},v=!d&&e8(m)?new YV({...m,element:m.motionValue.owner.current}):new dy(m);v.finished.then(()=>this.notifyFinished()).catch(In),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(t,s){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),OV()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const n8=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function r8(e){const t=n8.exec(e);if(!t)return[,];const[,s,n,a]=t;return[`--${s??n}`,a]}function Kk(e,t,s=1){const[n,a]=r8(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const o=i.trim();return pk(o)?parseFloat(o):o}return ny(a)?Kk(a,t,s+1):a}function fy(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const Gk=new Set(["width","height","top","left","right","bottom",...yl]),a8={test:e=>e==="auto",parse:e=>e},Yk=e=>t=>t.test(e),Qk=[vl,Ne,Nr,oa,Qz,Yz,a8],kj=e=>Qk.find(Yk(e));function i8(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||xk(e):!0}const o8=new Set(["brightness","contrast","saturate","opacity"]);function l8(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=s.match(ry)||[];if(!n)return e;const a=s.replace(n,"");let i=o8.has(t)?1:0;return n!==s&&(i*=100),t+"("+i+a+")"}const c8=/\b([a-z-]*)\(.*?\)/gu,Wg={...Ua,getAnimatableNone:e=>{const t=e.match(c8);return t?t.map(l8).join(" "):e}},Pj={...vl,transform:Math.round},d8={rotate:oa,rotateX:oa,rotateY:oa,rotateZ:oa,scale:Jd,scaleX:Jd,scaleY:Jd,scaleZ:Jd,skew:oa,skewX:oa,skewY:oa,distance:Ne,translateX:Ne,translateY:Ne,translateZ:Ne,x:Ne,y:Ne,z:Ne,perspective:Ne,transformPerspective:Ne,opacity:Bc,originX:xj,originY:xj,originZ:Ne},hy={borderWidth:Ne,borderTopWidth:Ne,borderRightWidth:Ne,borderBottomWidth:Ne,borderLeftWidth:Ne,borderRadius:Ne,radius:Ne,borderTopLeftRadius:Ne,borderTopRightRadius:Ne,borderBottomRightRadius:Ne,borderBottomLeftRadius:Ne,width:Ne,maxWidth:Ne,height:Ne,maxHeight:Ne,top:Ne,right:Ne,bottom:Ne,left:Ne,padding:Ne,paddingTop:Ne,paddingRight:Ne,paddingBottom:Ne,paddingLeft:Ne,margin:Ne,marginTop:Ne,marginRight:Ne,marginBottom:Ne,marginLeft:Ne,backgroundPositionX:Ne,backgroundPositionY:Ne,...d8,zIndex:Pj,fillOpacity:Bc,strokeOpacity:Bc,numOctaves:Pj},u8={...hy,color:ss,backgroundColor:ss,outlineColor:ss,fill:ss,stroke:ss,borderColor:ss,borderTopColor:ss,borderRightColor:ss,borderBottomColor:ss,borderLeftColor:ss,filter:Wg,WebkitFilter:Wg},Jk=e=>u8[e];function Xk(e,t){let s=Jk(e);return s!==Wg&&(s=Ua),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const f8=new Set(["auto","none","0"]);function h8(e,t,s){let n=0,a;for(;n<e.length&&!a;){const i=e[n];typeof i=="string"&&!f8.has(i)&&Uc(i).values.length&&(a=e[n]),n++}if(a&&s)for(const i of t)e[i]=Xk(s,a)}class m8 extends uy{constructor(t,s,n,a,i){super(t,s,n,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:n}=this;if(!s||!s.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="string"&&(d=d.trim(),ny(d))){const u=Kk(d,s.current);u!==void 0&&(t[c]=u),c===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!Gk.has(n)||t.length!==2)return;const[a,i]=t,o=kj(a),l=kj(i);if(o!==l)if(Nj(o)&&Nj(l))for(let c=0;c<t.length;c++){const d=t[c];typeof d=="string"&&(t[c]=parseFloat(d))}else Si[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,n=[];for(let a=0;a<t.length;a++)(t[a]===null||i8(t[a]))&&n.push(a);n.length&&h8(t,n,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Si[n](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const a=s[s.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){var l;const{element:t,name:s,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const a=t.getValue(s);a&&a.jump(this.measuredOrigin,!1);const i=n.length-1,o=n[i];n[i]=Si[s](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{t.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function p8(e,t,s){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const a=(s==null?void 0:s[e])??n.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const Zk=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function g8(e){return gk(e)&&"offsetHeight"in e}const Rj=30,x8=e=>!isNaN(parseFloat(e));class v8{constructor(t,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,a=!0)=>{var o,l;const i=on.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty();a&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=on.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=x8(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new Zv);const n=this.events[t].add(s);return t==="change"?()=>{n(),Ot.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t,s=!0){!s||!this.passiveEffect?this.updateAndNotify(t,s):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,s,n){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=on.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Rj)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,Rj);return vk(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,s;(t=this.dependents)==null||t.clear(),(s=this.events.destroy)==null||s.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function el(e,t){return new v8(e,t)}const{schedule:my}=kk(queueMicrotask,!1),Wn={x:!1,y:!1};function e2(){return Wn.x||Wn.y}function y8(e){return e==="x"||e==="y"?Wn[e]?null:(Wn[e]=!0,()=>{Wn[e]=!1}):Wn.x||Wn.y?null:(Wn.x=Wn.y=!0,()=>{Wn.x=Wn.y=!1})}function t2(e,t){const s=p8(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[s,a,()=>n.abort()]}function Aj(e){return!(e.pointerType==="touch"||e2())}function w8(e,t,s={}){const[n,a,i]=t2(e,s),o=l=>{if(!Aj(l))return;const{target:c}=l,d=t(c,l);if(typeof d!="function"||!c)return;const u=f=>{Aj(f)&&(d(f),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,a)};return n.forEach(l=>{l.addEventListener("pointerenter",o,a)}),i}const s2=(e,t)=>t?e===t?!0:s2(e,t.parentElement):!1,py=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,j8=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function _8(e){return j8.has(e.tagName)||e.tabIndex!==-1}const ju=new WeakSet;function $j(e){return t=>{t.key==="Enter"&&e(t)}}function Wm(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const b8=(e,t)=>{const s=e.currentTarget;if(!s)return;const n=$j(()=>{if(ju.has(s))return;Wm(s,"down");const a=$j(()=>{Wm(s,"up")}),i=()=>Wm(s,"cancel");s.addEventListener("keyup",a,t),s.addEventListener("blur",i,t)});s.addEventListener("keydown",n,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",n),t)};function Dj(e){return py(e)&&!e2()}function S8(e,t,s={}){const[n,a,i]=t2(e,s),o=l=>{const c=l.currentTarget;if(!Dj(l))return;ju.add(c);const d=t(c,l),u=(v,j)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",m),ju.has(c)&&ju.delete(c),Dj(v)&&typeof d=="function"&&d(v,{success:j})},f=v=>{u(v,c===window||c===document||s.useGlobalTarget||s2(c,v.target))},m=v=>{u(v,!1)};window.addEventListener("pointerup",f,a),window.addEventListener("pointercancel",m,a)};return n.forEach(l=>{(s.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),g8(l)&&(l.addEventListener("focus",d=>b8(d,a)),!_8(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function n2(e){return gk(e)&&"ownerSVGElement"in e}function N8(e){return n2(e)&&e.tagName==="svg"}const Os=e=>!!(e&&e.getVelocity),C8=[...Qk,ss,Ua],E8=e=>C8.find(Yk(e)),r2=h.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function T8(e=!0){const t=h.useContext(Gv);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:n,register:a}=t,i=h.useId();h.useEffect(()=>{if(e)return a(i)},[e]);const o=h.useCallback(()=>e&&n&&n(i),[i,n,e]);return!s&&n?[!1,o]:[!0]}const a2=h.createContext({strict:!1}),Mj={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},tl={};for(const e in Mj)tl[e]={isEnabled:t=>Mj[e].some(s=>!!t[s])};function k8(e){for(const t in e)tl[t]={...tl[t],...e[t]}}const P8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Sf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||P8.has(e)}let i2=e=>!Sf(e);function R8(e){typeof e=="function"&&(i2=t=>t.startsWith("on")?!Sf(t):e(t))}try{R8(require("@emotion/is-prop-valid").default)}catch{}function A8(e,t,s){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(i2(a)||s===!0&&Sf(a)||!t&&!Sf(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}const Ph=h.createContext({});function Rh(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function zc(e){return typeof e=="string"||Array.isArray(e)}const gy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],xy=["initial",...gy];function Ah(e){return Rh(e.animate)||xy.some(t=>zc(e[t]))}function o2(e){return!!(Ah(e)||e.variants)}function $8(e,t){if(Ah(e)){const{initial:s,animate:n}=e;return{initial:s===!1||zc(s)?s:void 0,animate:zc(n)?n:void 0}}return e.inherit!==!1?t:{}}function D8(e){const{initial:t,animate:s}=$8(e,h.useContext(Ph));return h.useMemo(()=>({initial:t,animate:s}),[Lj(t),Lj(s)])}function Lj(e){return Array.isArray(e)?e.join(" "):e}const Vc={};function M8(e){for(const t in e)Vc[t]=e[t],sy(t)&&(Vc[t].isCSSVariable=!0)}function l2(e,{layout:t,layoutId:s}){return wl.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!Vc[e]||e==="opacity")}const L8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},I8=yl.length;function O8(e,t,s){let n="",a=!0;for(let i=0;i<I8;i++){const o=yl[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||s){const d=Zk(l,hy[o]);if(!c){a=!1;const u=L8[o]||o;n+=`${u}(${d}) `}s&&(t[o]=d)}}return n=n.trim(),s?n=s(t,a?"":n):a&&(n="none"),n}function vy(e,t,s){const{style:n,vars:a,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const d=t[c];if(wl.has(c)){o=!0;continue}else if(sy(c)){a[c]=d;continue}else{const u=Zk(d,hy[c]);c.startsWith("origin")?(l=!0,i[c]=u):n[c]=u}}if(t.transform||(o||s?n.transform=O8(t,e.transform,s):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=i;n.transformOrigin=`${c} ${d} ${u}`}}const yy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function c2(e,t,s){for(const n in t)!Os(t[n])&&!l2(n,s)&&(e[n]=t[n])}function F8({transformTemplate:e},t){return h.useMemo(()=>{const s=yy();return vy(s,t,e),Object.assign({},s.vars,s.style)},[t])}function B8(e,t){const s=e.style||{},n={};return c2(n,s,e),Object.assign(n,F8(e,t)),n}function U8(e,t){const s={},n=B8(e,t);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=n,s}const z8={offset:"stroke-dashoffset",array:"stroke-dasharray"},V8={offset:"strokeDashoffset",array:"strokeDasharray"};function W8(e,t,s=1,n=0,a=!0){e.pathLength=1;const i=a?z8:V8;e[i.offset]=Ne.transform(-n);const o=Ne.transform(t),l=Ne.transform(s);e[i.array]=`${o} ${l}`}function d2(e,{attrX:t,attrY:s,attrScale:n,pathLength:a,pathSpacing:i=1,pathOffset:o=0,...l},c,d,u){if(vy(e,l,d),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:m}=e;f.transform&&(m.transform=f.transform,delete f.transform),(m.transform||f.transformOrigin)&&(m.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),m.transform&&(m.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),s!==void 0&&(f.y=s),n!==void 0&&(f.scale=n),a!==void 0&&W8(f,a,i,o,!1)}const u2=()=>({...yy(),attrs:{}}),f2=e=>typeof e=="string"&&e.toLowerCase()==="svg";function H8(e,t,s,n){const a=h.useMemo(()=>{const i=u2();return d2(i,t,f2(n),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};c2(i,e.style,e),a.style={...i,...a.style}}return a}const q8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function wy(e){return typeof e!="string"||e.includes("-")?!1:!!(q8.indexOf(e)>-1||/[A-Z]/u.test(e))}function K8(e,t,s,{latestValues:n},a,i=!1){const l=(wy(e)?H8:U8)(t,n,a,e),c=A8(t,typeof e=="string",i),d=e!==h.Fragment?{...c,...l,ref:s}:{},{children:u}=t,f=h.useMemo(()=>Os(u)?u.get():u,[u]);return h.createElement(e,{...d,children:f})}function Ij(e){const t=[{},{}];return e==null||e.values.forEach((s,n)=>{t[0][n]=s.get(),t[1][n]=s.getVelocity()}),t}function jy(e,t,s,n){if(typeof t=="function"){const[a,i]=Ij(n);t=t(s!==void 0?s:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=Ij(n);t=t(s!==void 0?s:e.custom,a,i)}return t}function _u(e){return Os(e)?e.get():e}function G8({scrapeMotionValuesFromProps:e,createRenderState:t},s,n,a){return{latestValues:Y8(s,n,a,e),renderState:t()}}function Y8(e,t,s,n){const a={},i=n(e,{});for(const m in i)a[m]=_u(i[m]);let{initial:o,animate:l}=e;const c=Ah(e),d=o2(e);t&&d&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let u=s?s.initial===!1:!1;u=u||o===!1;const f=u?l:o;if(f&&typeof f!="boolean"&&!Rh(f)){const m=Array.isArray(f)?f:[f];for(let v=0;v<m.length;v++){const j=jy(e,m[v]);if(j){const{transitionEnd:g,transition:y,...x}=j;for(const p in x){let w=x[p];if(Array.isArray(w)){const _=u?w.length-1:0;w=w[_]}w!==null&&(a[p]=w)}for(const p in g)a[p]=g[p]}}}return a}const h2=e=>(t,s)=>{const n=h.useContext(Ph),a=h.useContext(Gv),i=()=>G8(e,t,n,a);return s?i():kz(i)};function _y(e,t,s){var i;const{style:n}=e,a={};for(const o in n)(Os(n[o])||t.style&&Os(t.style[o])||l2(o,e)||((i=s==null?void 0:s.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(a[o]=n[o]);return a}const Q8=h2({scrapeMotionValuesFromProps:_y,createRenderState:yy});function m2(e,t,s){const n=_y(e,t,s);for(const a in e)if(Os(e[a])||Os(t[a])){const i=yl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[i]=e[a]}return n}const J8=h2({scrapeMotionValuesFromProps:m2,createRenderState:u2}),X8=Symbol.for("motionComponentSymbol");function go(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Z8(e,t,s){return h.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),s&&(typeof s=="function"?s(n):go(s)&&(s.current=n))},[t])}const by=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),eW="framerAppearId",p2="data-"+by(eW),g2=h.createContext({});function tW(e,t,s,n,a){var g,y;const{visualElement:i}=h.useContext(Ph),o=h.useContext(a2),l=h.useContext(Gv),c=h.useContext(r2).reducedMotion,d=h.useRef(null);n=n||o.renderer,!d.current&&n&&(d.current=n(e,{visualState:t,parent:i,props:s,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const u=d.current,f=h.useContext(g2);u&&!u.projection&&a&&(u.type==="html"||u.type==="svg")&&sW(d.current,s,a,f);const m=h.useRef(!1);h.useInsertionEffect(()=>{u&&m.current&&u.update(s,l)});const v=s[p2],j=h.useRef(!!v&&!((g=window.MotionHandoffIsComplete)!=null&&g.call(window,v))&&((y=window.MotionHasOptimisedAnimation)==null?void 0:y.call(window,v)));return Pz(()=>{u&&(m.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),j.current&&u.animationState&&u.animationState.animateChanges())}),h.useEffect(()=>{u&&(!j.current&&u.animationState&&u.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)==null||x.call(window,v)}),j.current=!1))}),u}function sW(e,t,s,n){const{layoutId:a,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:u}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:x2(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||l&&go(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:u,layoutScroll:c,layoutRoot:d})}function x2(e){if(e)return e.options.allowProjection!==!1?e.projection:x2(e.parent)}function Hm(e,{forwardMotionProps:t=!1}={},s,n){s&&k8(s);const a=wy(e)?J8:Q8;function i(l,c){let d;const u={...h.useContext(r2),...l,layoutId:nW(l)},{isStatic:f}=u,m=D8(l),v=a(l,f);if(!f&&Kv){rW();const j=aW(u);d=j.MeasureLayout,m.visualElement=tW(e,v,u,n,j.ProjectionNode)}return r.jsxs(Ph.Provider,{value:m,children:[d&&m.visualElement?r.jsx(d,{visualElement:m.visualElement,...u}):null,K8(e,l,Z8(v,m.visualElement,c),v,f,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=h.forwardRef(i);return o[X8]=e,o}function nW({layoutId:e}){const t=h.useContext(mk).id;return t&&e!==void 0?t+"-"+e:e}function rW(e,t){h.useContext(a2).strict}function aW(e){const{drag:t,layout:s}=tl;if(!t&&!s)return{};const n={...t,...s};return{MeasureLayout:t!=null&&t.isEnabled(e)||s!=null&&s.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function iW(e,t){if(typeof Proxy>"u")return Hm;const s=new Map,n=(i,o)=>Hm(i,o,e,t),a=(i,o)=>n(i,o);return new Proxy(a,{get:(i,o)=>o==="create"?n:(s.has(o)||s.set(o,Hm(o,void 0,e,t)),s.get(o))})}function v2({top:e,left:t,right:s,bottom:n}){return{x:{min:t,max:s},y:{min:e,max:n}}}function oW({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function lW(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:n.y,right:n.x}}function qm(e){return e===void 0||e===1}function Hg({scale:e,scaleX:t,scaleY:s}){return!qm(e)||!qm(t)||!qm(s)}function li(e){return Hg(e)||y2(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function y2(e){return Oj(e.x)||Oj(e.y)}function Oj(e){return e&&e!=="0%"}function Nf(e,t,s){const n=e-s,a=t*n;return s+a}function Fj(e,t,s,n,a){return a!==void 0&&(e=Nf(e,a,n)),Nf(e,s,n)+t}function qg(e,t=0,s=1,n,a){e.min=Fj(e.min,t,s,n,a),e.max=Fj(e.max,t,s,n,a)}function w2(e,{x:t,y:s}){qg(e.x,t.translate,t.scale,t.originPoint),qg(e.y,s.translate,s.scale,s.originPoint)}const Bj=.999999999999,Uj=1.0000000000001;function cW(e,t,s,n=!1){const a=s.length;if(!a)return;t.x=t.y=1;let i,o;for(let l=0;l<a;l++){i=s[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&vo(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,w2(e,o)),n&&li(i.latestValues)&&vo(e,i.latestValues))}t.x<Uj&&t.x>Bj&&(t.x=1),t.y<Uj&&t.y>Bj&&(t.y=1)}function xo(e,t){e.min=e.min+t,e.max=e.max+t}function zj(e,t,s,n,a=.5){const i=Ut(e.min,e.max,a);qg(e,t,s,i,n)}function vo(e,t){zj(e.x,t.x,t.scaleX,t.scale,t.originX),zj(e.y,t.y,t.scaleY,t.scale,t.originY)}function j2(e,t){return v2(lW(e.getBoundingClientRect(),t))}function dW(e,t,s){const n=j2(e,s),{scroll:a}=t;return a&&(xo(n.x,a.offset.x),xo(n.y,a.offset.y)),n}const Vj=()=>({translate:0,scale:1,origin:0,originPoint:0}),yo=()=>({x:Vj(),y:Vj()}),Wj=()=>({min:0,max:0}),Qt=()=>({x:Wj(),y:Wj()}),Kg={current:null},_2={current:!1};function uW(){if(_2.current=!0,!!Kv)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Kg.current=e.matches;e.addEventListener("change",t),t()}else Kg.current=!1}const fW=new WeakMap;function hW(e,t,s){for(const n in t){const a=t[n],i=s[n];if(Os(a))e.addValue(n,a);else if(Os(i))e.addValue(n,el(a,{owner:e}));else if(i!==a)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=e.getStaticValue(n);e.addValue(n,el(o!==void 0?o:a,{owner:e}))}}for(const n in s)t[n]===void 0&&e.removeValue(n);return t}const Hj=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class mW{scrapeMotionValuesFromProps(t,s,n){return{}}constructor({parent:t,props:s,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=uy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=on.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Ot.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=s.initial?{...c}:{},this.renderState=d,this.parent=t,this.props=s,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Ah(s),this.isVariantNode=o2(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(s,{},this);for(const m in f){const v=f[m];c[m]!==void 0&&Os(v)&&v.set(c[m],!1)}}mount(t){this.current=t,fW.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,n)=>this.bindToMotionValue(n,s)),_2.current||uW(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Kg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ba(this.notifyUpdate),Ba(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const s=this.features[t];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=wl.has(t);n&&this.onBindTransform&&this.onBindTransform();const a=s.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Ot.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=s.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{a(),i(),o&&o(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in tl){const s=tl[t];if(!s)continue;const{isEnabled:n,Feature:a}=s;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Qt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let n=0;n<Hj.length;n++){const a=Hj[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=t[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=hW(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const n=this.values.get(t);s!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&s!==void 0&&(n=el(s===null?void 0:s,{owner:this}),this.addValue(t,n)),n}readValue(t,s){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(pk(n)||xk(n))?n=parseFloat(n):!E8(n)&&Ua.test(s)&&(n=Xk(t,s)),this.setBaseTarget(t,Os(n)?n.get():n)),Os(n)?n.get():n}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var i;const{initial:s}=this.props;let n;if(typeof s=="string"||typeof s=="object"){const o=jy(this.props,s,(i=this.presenceContext)==null?void 0:i.custom);o&&(n=o[t])}if(s&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Os(a)?a:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new Zv),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}scheduleRenderMicrotask(){my.render(this.render)}}class b2 extends mW{constructor(){super(...arguments),this.KeyframeResolver=m8}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:n}){delete s[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Os(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function S2(e,{style:t,vars:s},n,a){const i=e.style;let o;for(o in t)i[o]=t[o];a==null||a.applyProjectionStyles(i,n);for(o in s)i.setProperty(o,s[o])}function pW(e){return window.getComputedStyle(e)}class gW extends b2{constructor(){super(...arguments),this.type="html",this.renderInstance=S2}readValueFromInstance(t,s){var n;if(wl.has(s))return(n=this.projection)!=null&&n.isProjecting?Fg(s):$V(t,s);{const a=pW(t),i=(sy(s)?a.getPropertyValue(s):a[s])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:s}){return j2(t,s)}build(t,s,n){vy(t,s,n.transformTemplate)}scrapeMotionValuesFromProps(t,s,n){return _y(t,s,n)}}const N2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function xW(e,t,s,n){S2(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(N2.has(a)?a:by(a),t.attrs[a])}class vW extends b2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Qt}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(wl.has(s)){const n=Jk(s);return n&&n.default||0}return s=N2.has(s)?s:by(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,n){return m2(t,s,n)}build(t,s,n){d2(t,s,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,s,n,a){xW(t,s,n,a)}mount(t){this.isSVGTag=f2(t.tagName),super.mount(t)}}const yW=(e,t)=>wy(e)?new vW(t):new gW(t,{allowProjection:e!==h.Fragment});function Wc(e,t,s){const n=e.getProps();return jy(n,t,s!==void 0?s:n.custom,e)}const Gg=e=>Array.isArray(e);function wW(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,el(s))}function jW(e){return Gg(e)?e[e.length-1]||0:e}function _W(e,t){const s=Wc(e,t);let{transitionEnd:n={},transition:a={},...i}=s||{};i={...i,...n};for(const o in i){const l=jW(i[o]);wW(e,o,l)}}function bW(e){return!!(Os(e)&&e.add)}function Yg(e,t){const s=e.getValue("willChange");if(bW(s))return s.add(t);if(!s&&Xr.WillChange){const n=new Xr.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function C2(e){return e.props[p2]}const SW=e=>e!==null;function NW(e,{repeat:t,repeatType:s="loop"},n){const a=e.filter(SW),i=t&&s!=="loop"&&t%2===1?0:a.length-1;return a[i]}const CW={type:"spring",stiffness:500,damping:25,restSpeed:10},EW=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),TW={type:"keyframes",duration:.8},kW={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},PW=(e,{keyframes:t})=>t.length>2?TW:wl.has(e)?e.startsWith("scale")?EW(t[1]):CW:kW;function RW({when:e,delay:t,delayChildren:s,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const Sy=(e,t,s,n={},a,i)=>o=>{const l=fy(n,e)||{},c=l.delay||n.delay||0;let{elapsed:d=0}=n;d=d-br(c);const u={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:m=>{t.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:a};RW(l)||Object.assign(u,PW(e,u)),u.duration&&(u.duration=br(u.duration)),u.repeatDelay&&(u.repeatDelay=br(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(f=!0)),(Xr.instantAnimations||Xr.skipAnimations)&&(f=!0,u.duration=0,u.delay=0),u.allowFlatten=!l.type&&!l.ease,f&&!i&&t.get()!==void 0){const m=NW(u.keyframes,l);if(m!==void 0){Ot.update(()=>{u.onUpdate(m),u.onComplete()});return}}return l.isSync?new dy(u):new s8(u)};function AW({protectedKeys:e,needsAnimating:t},s){const n=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,n}function E2(e,t,{delay:s=0,transitionOverride:n,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=t;n&&(i=n);const c=[],d=a&&e.animationState&&e.animationState.getState()[a];for(const u in l){const f=e.getValue(u,e.latestValues[u]??null),m=l[u];if(m===void 0||d&&AW(d,u))continue;const v={delay:s,...fy(i||{},u)},j=f.get();if(j!==void 0&&!f.isAnimating&&!Array.isArray(m)&&m===j&&!v.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const x=C2(e);if(x){const p=window.MotionHandoffAnimation(x,u,Ot);p!==null&&(v.startTime=p,g=!0)}}Yg(e,u),f.start(Sy(u,f,m,e.shouldReduceMotion&&Gk.has(u)?{type:!1}:v,e,g));const y=f.animation;y&&c.push(y)}return o&&Promise.all(c).then(()=>{Ot.update(()=>{o&&_W(e,o)})}),c}function Qg(e,t,s={}){var c;const n=Wc(e,t,s.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=n||{};s.transitionOverride&&(a=s.transitionOverride);const i=n?()=>Promise.all(E2(e,n,s)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:m}=a;return $W(e,t,d,u,f,m,s)}:()=>Promise.resolve(),{when:l}=a;if(l){const[d,u]=l==="beforeChildren"?[i,o]:[o,i];return d().then(()=>u())}else return Promise.all([i(),o(s.delay)])}function $W(e,t,s=0,n=0,a=0,i=1,o){const l=[],c=e.variantChildren.size,d=(c-1)*a,u=typeof n=="function",f=u?m=>n(m,c):i===1?(m=0)=>m*a:(m=0)=>d-m*a;return Array.from(e.variantChildren).sort(DW).forEach((m,v)=>{m.notify("AnimationStart",t),l.push(Qg(m,t,{...o,delay:s+(u?0:n)+f(v)}).then(()=>m.notify("AnimationComplete",t)))}),Promise.all(l)}function DW(e,t){return e.sortNodePosition(t)}function MW(e,t,s={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(i=>Qg(e,i,s));n=Promise.all(a)}else if(typeof t=="string")n=Qg(e,t,s);else{const a=typeof t=="function"?Wc(e,t,s.custom):t;n=Promise.all(E2(e,a,s))}return n.then(()=>{e.notify("AnimationComplete",t)})}function T2(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let n=0;n<s;n++)if(t[n]!==e[n])return!1;return!0}const LW=xy.length;function k2(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?k2(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const t={};for(let s=0;s<LW;s++){const n=xy[s],a=e.props[n];(zc(a)||a===!1)&&(t[n]=a)}return t}const IW=[...gy].reverse(),OW=gy.length;function FW(e){return t=>Promise.all(t.map(({animation:s,options:n})=>MW(e,s,n)))}function BW(e){let t=FW(e),s=qj(),n=!0;const a=c=>(d,u)=>{var m;const f=Wc(e,u,c==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);if(f){const{transition:v,transitionEnd:j,...g}=f;d={...d,...g,...j}}return d};function i(c){t=c(e)}function o(c){const{props:d}=e,u=k2(e.parent)||{},f=[],m=new Set;let v={},j=1/0;for(let y=0;y<OW;y++){const x=IW[y],p=s[x],w=d[x]!==void 0?d[x]:u[x],_=zc(w),b=x===c?p.isActive:null;b===!1&&(j=y);let T=w===u[x]&&w!==d[x]&&_;if(T&&n&&e.manuallyAnimateOnMount&&(T=!1),p.protectedKeys={...v},!p.isActive&&b===null||!w&&!p.prevProp||Rh(w)||typeof w=="boolean")continue;const N=UW(p.prevProp,w);let E=N||x===c&&p.isActive&&!T&&_||y>j&&_,R=!1;const $=Array.isArray(w)?w:[w];let F=$.reduce(a(x),{});b===!1&&(F={});const{prevResolvedValues:W={}}=p,I={...W,...F},L=V=>{E=!0,m.has(V)&&(R=!0,m.delete(V)),p.needsAnimating[V]=!0;const S=e.getValue(V);S&&(S.liveStyle=!1)};for(const V in I){const S=F[V],P=W[V];if(v.hasOwnProperty(V))continue;let k=!1;Gg(S)&&Gg(P)?k=!T2(S,P):k=S!==P,k?S!=null?L(V):m.add(V):S!==void 0&&m.has(V)?L(V):p.protectedKeys[V]=!0}p.prevProp=w,p.prevResolvedValues=F,p.isActive&&(v={...v,...F}),n&&e.blockInitialAnimation&&(E=!1),E&&(!(T&&N)||R)&&f.push(...$.map(V=>({animation:V,options:{type:x}})))}if(m.size){const y={};if(typeof d.initial!="boolean"){const x=Wc(e,Array.isArray(d.initial)?d.initial[0]:d.initial);x&&x.transition&&(y.transition=x.transition)}m.forEach(x=>{const p=e.getBaseTarget(x),w=e.getValue(x);w&&(w.liveStyle=!0),y[x]=p??null}),f.push({animation:y})}let g=!!f.length;return n&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(g=!1),n=!1,g?t(f):Promise.resolve()}function l(c,d){var f;if(s[c].isActive===d)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(m=>{var v;return(v=m.animationState)==null?void 0:v.setActive(c,d)}),s[c].isActive=d;const u=o(c);for(const m in s)s[m].protectedKeys={};return u}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>s,reset:()=>{s=qj(),n=!0}}}function UW(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!T2(t,e):!1}function ri(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function qj(){return{animate:ri(!0),whileInView:ri(),whileHover:ri(),whileTap:ri(),whileDrag:ri(),whileFocus:ri(),exit:ri()}}class Ya{constructor(t){this.isMounted=!1,this.node=t}update(){}}class zW extends Ya{constructor(t){super(t),t.animationState||(t.animationState=BW(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Rh(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let VW=0;class WW extends Ya{constructor(){super(...arguments),this.id=VW++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);s&&!t&&a.then(()=>{s(this.id)})}mount(){const{register:t,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const HW={animation:{Feature:zW},exit:{Feature:WW}};function Hc(e,t,s,n={passive:!0}){return e.addEventListener(t,s,n),()=>e.removeEventListener(t,s)}function xd(e){return{point:{x:e.pageX,y:e.pageY}}}const qW=e=>t=>py(t)&&e(t,xd(t));function ic(e,t,s,n){return Hc(e,t,qW(s),n)}const P2=1e-4,KW=1-P2,GW=1+P2,R2=.01,YW=0-R2,QW=0+R2;function Gs(e){return e.max-e.min}function JW(e,t,s){return Math.abs(e-t)<=s}function Kj(e,t,s,n=.5){e.origin=n,e.originPoint=Ut(t.min,t.max,e.origin),e.scale=Gs(s)/Gs(t),e.translate=Ut(s.min,s.max,e.origin)-e.originPoint,(e.scale>=KW&&e.scale<=GW||isNaN(e.scale))&&(e.scale=1),(e.translate>=YW&&e.translate<=QW||isNaN(e.translate))&&(e.translate=0)}function oc(e,t,s,n){Kj(e.x,t.x,s.x,n?n.originX:void 0),Kj(e.y,t.y,s.y,n?n.originY:void 0)}function Gj(e,t,s){e.min=s.min+t.min,e.max=e.min+Gs(t)}function XW(e,t,s){Gj(e.x,t.x,s.x),Gj(e.y,t.y,s.y)}function Yj(e,t,s){e.min=t.min-s.min,e.max=e.min+Gs(t)}function lc(e,t,s){Yj(e.x,t.x,s.x),Yj(e.y,t.y,s.y)}function Tn(e){return[e("x"),e("y")]}const A2=({current:e})=>e?e.ownerDocument.defaultView:null,Qj=(e,t)=>Math.abs(e-t);function ZW(e,t){const s=Qj(e.x,t.x),n=Qj(e.y,t.y);return Math.sqrt(s**2+n**2)}class $2{constructor(t,s,{transformPagePoint:n,contextWindow:a=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Gm(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,j=ZW(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!j)return;const{point:g}=m,{timestamp:y}=bs;this.history.push({...g,timestamp:y});const{onStart:x,onMove:p}=this.handlers;v||(x&&x(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),p&&p(this.lastMoveEvent,m)},this.handlePointerMove=(m,v)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Km(v,this.transformPagePoint),Ot.update(this.updatePoint,!0)},this.handlePointerUp=(m,v)=>{this.end();const{onEnd:j,onSessionEnd:g,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Gm(m.type==="pointercancel"?this.lastMoveEventInfo:Km(v,this.transformPagePoint),this.history);this.startEvent&&j&&j(m,x),g&&g(m,x)},!py(t))return;this.dragSnapToOrigin=i,this.handlers=s,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=a||window;const l=xd(t),c=Km(l,this.transformPagePoint),{point:d}=c,{timestamp:u}=bs;this.history=[{...d,timestamp:u}];const{onSessionStart:f}=s;f&&f(t,Gm(c,this.history)),this.removeListeners=md(ic(this.contextWindow,"pointermove",this.handlePointerMove),ic(this.contextWindow,"pointerup",this.handlePointerUp),ic(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ba(this.updatePoint)}}function Km(e,t){return t?{point:t(e.point)}:e}function Jj(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Gm({point:e},t){return{point:e,delta:Jj(e,D2(t)),offset:Jj(e,e7(t)),velocity:t7(t,.1)}}function e7(e){return e[0]}function D2(e){return e[e.length-1]}function t7(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,n=null;const a=D2(e);for(;s>=0&&(n=e[s],!(a.timestamp-n.timestamp>br(t)));)s--;if(!n)return{x:0,y:0};const i=Sr(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function s7(e,{min:t,max:s},n){return t!==void 0&&e<t?e=n?Ut(t,e,n.min):Math.max(e,t):s!==void 0&&e>s&&(e=n?Ut(s,e,n.max):Math.min(e,s)),e}function Xj(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function n7(e,{top:t,left:s,bottom:n,right:a}){return{x:Xj(e.x,s,a),y:Xj(e.y,t,n)}}function Zj(e,t){let s=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,n]=[n,s]),{min:s,max:n}}function r7(e,t){return{x:Zj(e.x,t.x),y:Zj(e.y,t.y)}}function a7(e,t){let s=.5;const n=Gs(e),a=Gs(t);return a>n?s=Fc(t.min,t.max-n,e.min):n>a&&(s=Fc(e.min,e.max-a,t.min)),Jr(0,1,s)}function i7(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const Jg=.35;function o7(e=Jg){return e===!1?e=0:e===!0&&(e=Jg),{x:e_(e,"left","right"),y:e_(e,"top","bottom")}}function e_(e,t,s){return{min:t_(e,t),max:t_(e,s)}}function t_(e,t){return typeof e=="number"?e:e[t]||0}const l7=new WeakMap;class c7{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Qt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:s=!1,distanceThreshold:n}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(xd(f).point)},o=(f,m)=>{const{drag:v,dragPropagation:j,onDragStart:g}=this.getProps();if(v&&!j&&(this.openDragLock&&this.openDragLock(),this.openDragLock=y8(v),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Tn(x=>{let p=this.getAxisMotionValue(x).get()||0;if(Nr.test(p)){const{projection:w}=this.visualElement;if(w&&w.layout){const _=w.layout.layoutBox[x];_&&(p=Gs(_)*(parseFloat(p)/100))}}this.originPoint[x]=p}),g&&Ot.postRender(()=>g(f,m)),Yg(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},l=(f,m)=>{this.latestPointerEvent=f,this.latestPanInfo=m;const{dragPropagation:v,dragDirectionLock:j,onDirectionLock:g,onDrag:y}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:x}=m;if(j&&this.currentDirection===null){this.currentDirection=d7(x),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",m.point,x),this.updateAxis("y",m.point,x),this.visualElement.render(),y&&y(f,m)},c=(f,m)=>{this.latestPointerEvent=f,this.latestPanInfo=m,this.stop(f,m),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Tn(f=>{var m;return this.getAnimationState(f)==="paused"&&((m=this.getAxisMotionValue(f).animation)==null?void 0:m.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new $2(t,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:n,contextWindow:A2(this.visualElement)})}stop(t,s){const n=t||this.latestPointerEvent,a=s||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!a||!n)return;const{velocity:o}=a;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Ot.postRender(()=>l(n,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,n){const{drag:a}=this.getProps();if(!n||!Xd(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=s7(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:s}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,a=this.constraints;t&&go(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=n7(n.layoutBox,t):this.constraints=!1,this.elastic=o7(s),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Tn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=i7(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!go(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=dW(n,a.root,this.visualElement.getTransformPagePoint());let o=r7(a.layout.layoutBox,i);if(s){const l=s(oW(o));this.hasMutatedConstraints=!!l,l&&(o=v2(l))}return o}startAnimation(t){const{drag:s,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=Tn(u=>{if(!Xd(u,s,this.currentDirection))return;let f=c&&c[u]||{};o&&(f={min:0,max:0});const m=a?200:1e6,v=a?40:1e7,j={type:"inertia",velocity:n?t[u]:0,bounceStiffness:m,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(u,j)});return Promise.all(d).then(l)}startAxisValueAnimation(t,s){const n=this.getAxisMotionValue(t);return Yg(this.visualElement,t),n.start(Sy(t,n,0,s,this.visualElement,!1))}stopAnimation(){Tn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Tn(t=>{var s;return(s=this.getAxisMotionValue(t).animation)==null?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)==null?void 0:s.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[s];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Tn(s=>{const{drag:n}=this.getProps();if(!Xd(s,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(s);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[s];i.set(t[s]-Ut(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:n}=this.visualElement;if(!go(s)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Tn(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();a[o]=a7({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Tn(o=>{if(!Xd(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(Ut(c,d,a[o]))})}addListeners(){if(!this.visualElement.current)return;l7.set(this.visualElement,this);const t=this.visualElement.current,s=ic(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();go(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Ot.read(n);const o=Hc(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Tn(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=c[u].translate,f.set(f.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),s(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=Jg,dragMomentum:l=!0}=t;return{...t,drag:s,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Xd(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function d7(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class u7 extends Ya{constructor(t){super(t),this.removeGroupControls=In,this.removeListeners=In,this.controls=new c7(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||In}unmount(){this.removeGroupControls(),this.removeListeners()}}const s_=e=>(t,s)=>{e&&Ot.postRender(()=>e(t,s))};class f7 extends Ya{constructor(){super(...arguments),this.removePointerDownListener=In}onPointerDown(t){this.session=new $2(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:A2(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:s_(t),onStart:s_(s),onMove:n,onEnd:(i,o)=>{delete this.session,a&&Ot.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=ic(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const bu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function n_(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const $l={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ne.test(e))e=parseFloat(e);else return e;const s=n_(e,t.target.x),n=n_(e,t.target.y);return`${s}% ${n}%`}},h7={correct:(e,{treeScale:t,projectionDelta:s})=>{const n=e,a=Ua.parse(e);if(a.length>5)return n;const i=Ua.createTransformer(e),o=typeof a[0]!="number"?1:0,l=s.x.scale*t.x,c=s.y.scale*t.y;a[0+o]/=l,a[1+o]/=c;const d=Ut(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=d),typeof a[3+o]=="number"&&(a[3+o]/=d),i(a)}};let r_=!1;class m7 extends h.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=t;M8(p7),i&&(s.group&&s.group.add(i),n&&n.register&&a&&n.register(i),r_&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),bu.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:n,drag:a,isPresent:i}=this.props,{projection:o}=n;return o&&(o.isPresent=i,r_=!0,a||t.layoutDependency!==s||s===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Ot.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),my.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function M2(e){const[t,s]=T8(),n=h.useContext(mk);return r.jsx(m7,{...e,layoutGroup:n,switchLayoutGroup:h.useContext(g2),isPresent:t,safeToRemove:s})}const p7={borderRadius:{...$l,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$l,borderTopRightRadius:$l,borderBottomLeftRadius:$l,borderBottomRightRadius:$l,boxShadow:h7};function g7(e,t,s){const n=Os(e)?e:el(e);return n.start(Sy("",n,t,s)),n.animation}const x7=(e,t)=>e.depth-t.depth;class v7{constructor(){this.children=[],this.isDirty=!1}add(t){Yv(this.children,t),this.isDirty=!0}remove(t){Qv(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(x7),this.isDirty=!1,this.children.forEach(t)}}function y7(e,t){const s=on.now(),n=({timestamp:a})=>{const i=a-s;i>=t&&(Ba(n),e(i-t))};return Ot.setup(n,!0),()=>Ba(n)}const L2=["TopLeft","TopRight","BottomLeft","BottomRight"],w7=L2.length,a_=e=>typeof e=="string"?parseFloat(e):e,i_=e=>typeof e=="number"||Ne.test(e);function j7(e,t,s,n,a,i){a?(e.opacity=Ut(0,s.opacity??1,_7(n)),e.opacityExit=Ut(t.opacity??1,0,b7(n))):i&&(e.opacity=Ut(t.opacity??1,s.opacity??1,n));for(let o=0;o<w7;o++){const l=`border${L2[o]}Radius`;let c=o_(t,l),d=o_(s,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||i_(c)===i_(d)?(e[l]=Math.max(Ut(a_(c),a_(d),n),0),(Nr.test(d)||Nr.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||s.rotate)&&(e.rotate=Ut(t.rotate||0,s.rotate||0,n))}function o_(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const _7=I2(0,.5,Nk),b7=I2(.5,.95,In);function I2(e,t,s){return n=>n<e?0:n>t?1:s(Fc(e,t,n))}function l_(e,t){e.min=t.min,e.max=t.max}function En(e,t){l_(e.x,t.x),l_(e.y,t.y)}function c_(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function d_(e,t,s,n,a){return e-=t,e=Nf(e,1/s,n),a!==void 0&&(e=Nf(e,1/a,n)),e}function S7(e,t=0,s=1,n=.5,a,i=e,o=e){if(Nr.test(t)&&(t=parseFloat(t),t=Ut(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Ut(i.min,i.max,n);e===i&&(l-=t),e.min=d_(e.min,t,s,l,a),e.max=d_(e.max,t,s,l,a)}function u_(e,t,[s,n,a],i,o){S7(e,t[s],t[n],t[a],t.scale,i,o)}const N7=["x","scaleX","originX"],C7=["y","scaleY","originY"];function f_(e,t,s,n){u_(e.x,t,N7,s?s.x:void 0,n?n.x:void 0),u_(e.y,t,C7,s?s.y:void 0,n?n.y:void 0)}function h_(e){return e.translate===0&&e.scale===1}function O2(e){return h_(e.x)&&h_(e.y)}function m_(e,t){return e.min===t.min&&e.max===t.max}function E7(e,t){return m_(e.x,t.x)&&m_(e.y,t.y)}function p_(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function F2(e,t){return p_(e.x,t.x)&&p_(e.y,t.y)}function g_(e){return Gs(e.x)/Gs(e.y)}function x_(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class T7{constructor(){this.members=[]}add(t){Yv(this.members,t),t.scheduleRender()}remove(t){if(Qv(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(a=>t===a);if(s===0)return!1;let n;for(let a=s;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,s){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,s&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:n}=t;s.onExitComplete&&s.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function k7(e,t,s){let n="";const a=e.x.translate/t.x,i=e.y.translate/t.y,o=(s==null?void 0:s.z)||0;if((a||i||o)&&(n=`translate3d(${a}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:d,rotate:u,rotateX:f,rotateY:m,skewX:v,skewY:j}=s;d&&(n=`perspective(${d}px) ${n}`),u&&(n+=`rotate(${u}deg) `),f&&(n+=`rotateX(${f}deg) `),m&&(n+=`rotateY(${m}deg) `),v&&(n+=`skewX(${v}deg) `),j&&(n+=`skewY(${j}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const Ym=["","X","Y","Z"],P7=1e3;let R7=0;function Qm(e,t,s,n){const{latestValues:a}=t;a[e]&&(s[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function B2(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=C2(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",Ot,!(a||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&B2(n)}function U2({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(o={},l=t==null?void 0:t()){this.id=R7++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(D7),this.nodes.forEach(O7),this.nodes.forEach(F7),this.nodes.forEach(M7)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new v7)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Zv),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=n2(o)&&!N8(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let u,f=0;const m=()=>this.root.updateBlockedByResize=!1;Ot.read(()=>{f=window.innerWidth}),e(o,()=>{const v=window.innerWidth;v!==f&&(f=v,this.root.updateBlockedByResize=!0,u&&u(),u=y7(m,250),bu.hasAnimatedSinceResize&&(bu.hasAnimatedSinceResize=!1,this.nodes.forEach(w_)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||d.getDefaultTransition()||W7,{onLayoutAnimationStart:g,onLayoutAnimationComplete:y}=d.getProps(),x=!this.targetLayout||!F2(this.targetLayout,v),p=!f&&m;if(this.options.layoutRoot||this.resumeFrom||p||f&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...fy(j,"layout"),onPlay:g,onComplete:y};(d.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(u,p)}else f||w_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ba(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(B7),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&B2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(v_);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(y_);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(I7),this.nodes.forEach(A7),this.nodes.forEach($7)):this.nodes.forEach(y_),this.clearAllSnapshots();const l=on.now();bs.delta=Jr(0,1e3/60,l-bs.timestamp),bs.timestamp=l,bs.isProcessing=!0,Fm.update.process(bs),Fm.preRender.process(bs),Fm.render.process(bs),bs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,my.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(L7),this.sharedNodes.forEach(U7)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ot.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ot.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Gs(this.snapshot.measuredBox.x)&&!Gs(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Qt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!O2(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||li(this.latestValues)||u)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),H7(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return Qt();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(q7))){const{scroll:u}=this.root;u&&(xo(l.x,u.offset.x),xo(l.y,u.offset.y))}return l}removeElementScroll(o){var c;const l=Qt();if(En(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:f,options:m}=u;u!==this.root&&f&&m.layoutScroll&&(f.wasRoot&&En(l,o),xo(l.x,f.offset.x),xo(l.y,f.offset.y))}return l}applyTransform(o,l=!1){const c=Qt();En(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&vo(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),li(u.latestValues)&&vo(c,u.latestValues)}return li(this.latestValues)&&vo(c,this.latestValues),c}removeTransform(o){const l=Qt();En(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!li(d.latestValues))continue;Hg(d.latestValues)&&d.updateSnapshot();const u=Qt(),f=d.measurePageBox();En(u,f),f_(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return li(this.latestValues)&&f_(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==bs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var m;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:f}=this.options;if(!(!this.layout||!(u||f))){if(this.resolvedRelativeTargetAt=bs.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qt(),this.relativeTargetOrigin=Qt(),lc(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),En(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Qt(),this.targetWithTransforms=Qt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),XW(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):En(this.target,this.layout.layoutBox),w2(this.target,this.targetDelta)):En(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qt(),this.relativeTargetOrigin=Qt(),lc(this.relativeTargetOrigin,this.target,v.target),En(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Hg(this.parent.latestValues)||y2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var j;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(j=this.parent)!=null&&j.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===bs.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;En(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;cW(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Qt());const{target:v}=o;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(c_(this.prevProjectionDelta.x,this.projectionDelta.x),c_(this.prevProjectionDelta.y,this.projectionDelta.y)),oc(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!x_(this.projectionDelta.x,this.prevProjectionDelta.x)||!x_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=yo(),this.projectionDelta=yo(),this.projectionDeltaWithTransform=yo()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},f=yo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=Qt(),v=c?c.source:void 0,j=this.layout?this.layout.source:void 0,g=v!==j,y=this.getStack(),x=!y||y.members.length<=1,p=!!(g&&!x&&this.options.crossfade===!0&&!this.path.some(V7));this.animationProgress=0;let w;this.mixTargetDelta=_=>{const b=_/1e3;j_(f.x,o.x,b),j_(f.y,o.y,b),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(lc(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),z7(this.relativeTarget,this.relativeTargetOrigin,m,b),w&&E7(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Qt()),En(w,this.relativeTarget)),g&&(this.animationValues=u,j7(u,d,this.latestValues,b,p,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=b},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(Ba(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ot.update(()=>{bu.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=el(0)),this.currentAnimation=g7(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(P7),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&z2(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Qt();const f=Gs(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const m=Gs(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+m}En(l,c),vo(l,u),oc(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new T7),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&Qm("z",o,d,this.animationValues);for(let u=0;u<Ym.length;u++)Qm(`rotate${Ym[u]}`,o,d,this.animationValues),Qm(`skew${Ym[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=_u(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=_u(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!li(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=d.animationValues||d.latestValues;this.applyTransformsToTarget();let f=k7(this.projectionDeltaWithTransform,this.treeScale,u);c&&(f=c(u,f)),o.transform=f;const{x:m,y:v}=this.projectionDelta;o.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,d.animationValues?o.opacity=d===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=d===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const j in Vc){if(u[j]===void 0)continue;const{correct:g,applyTo:y,isCSSVariable:x}=Vc[j],p=f==="none"?u[j]:g(u[j],d);if(y){const w=y.length;for(let _=0;_<w;_++)o[y[_]]=p}else x?this.options.visualElement.renderState.vars[j]=p:o[j]=p}this.options.layoutId&&(o.pointerEvents=d===this?_u(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(v_),this.root.sharedNodes.clear()}}}function A7(e){e.updateLayout()}function $7(e){var s;const t=((s=e.resumeFrom)==null?void 0:s.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?Tn(f=>{const m=o?t.measuredBox[f]:t.layoutBox[f],v=Gs(m);m.min=n[f].min,m.max=m.min+v}):z2(i,t.layoutBox,n)&&Tn(f=>{const m=o?t.measuredBox[f]:t.layoutBox[f],v=Gs(n[f]);m.max=m.min+v,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+v)});const l=yo();oc(l,n,t.layoutBox);const c=yo();o?oc(c,e.applyTransform(a,!0),t.measuredBox):oc(c,n,t.layoutBox);const d=!O2(l);let u=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:v}=f;if(m&&v){const j=Qt();lc(j,t.layoutBox,m.layoutBox);const g=Qt();lc(g,n,v.layoutBox),F2(j,g)||(u=!0),f.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=j,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function D7(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function M7(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function L7(e){e.clearSnapshot()}function v_(e){e.clearMeasurements()}function y_(e){e.isLayoutDirty=!1}function I7(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function w_(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function O7(e){e.resolveTargetDelta()}function F7(e){e.calcProjection()}function B7(e){e.resetSkewAndRotation()}function U7(e){e.removeLeadSnapshot()}function j_(e,t,s){e.translate=Ut(t.translate,0,s),e.scale=Ut(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function __(e,t,s,n){e.min=Ut(t.min,s.min,n),e.max=Ut(t.max,s.max,n)}function z7(e,t,s,n){__(e.x,t.x,s.x,n),__(e.y,t.y,s.y,n)}function V7(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const W7={duration:.45,ease:[.4,0,.1,1]},b_=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),S_=b_("applewebkit/")&&!b_("chrome/")?Math.round:In;function N_(e){e.min=S_(e.min),e.max=S_(e.max)}function H7(e){N_(e.x),N_(e.y)}function z2(e,t,s){return e==="position"||e==="preserve-aspect"&&!JW(g_(t),g_(s),.2)}function q7(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const K7=U2({attachResizeListener:(e,t)=>Hc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Jm={current:void 0},V2=U2({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Jm.current){const e=new K7({});e.mount(window),e.setOptions({layoutScroll:!0}),Jm.current=e}return Jm.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),G7={pan:{Feature:f7},drag:{Feature:u7,ProjectionNode:V2,MeasureLayout:M2}};function C_(e,t,s){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",s==="Start");const a="onHover"+s,i=n[a];i&&Ot.postRender(()=>i(t,xd(t)))}class Y7 extends Ya{mount(){const{current:t}=this.node;t&&(this.unmount=w8(t,(s,n)=>(C_(this.node,n,"Start"),a=>C_(this.node,a,"End"))))}unmount(){}}class Q7 extends Ya{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=md(Hc(this.node.current,"focus",()=>this.onFocus()),Hc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function E_(e,t,s){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",s==="Start");const a="onTap"+(s==="End"?"":s),i=n[a];i&&Ot.postRender(()=>i(t,xd(t)))}class J7 extends Ya{mount(){const{current:t}=this.node;t&&(this.unmount=S8(t,(s,n)=>(E_(this.node,n,"Start"),(a,{success:i})=>E_(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Xg=new WeakMap,Xm=new WeakMap,X7=e=>{const t=Xg.get(e.target);t&&t(e)},Z7=e=>{e.forEach(X7)};function eH({root:e,...t}){const s=e||document;Xm.has(s)||Xm.set(s,{});const n=Xm.get(s),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(Z7,{root:e,...t})),n[a]}function tH(e,t,s){const n=eH(t);return Xg.set(e,s),n.observe(e),()=>{Xg.delete(e),n.unobserve(e)}}const sH={some:0,all:1};class nH extends Ya{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:n,amount:a="some",once:i}=t,o={root:s?s.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:sH[a]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),m=d?u:f;m&&m(c)};return tH(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(rH(t,s))&&this.startObserver()}unmount(){}}function rH({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const aH={inView:{Feature:nH},tap:{Feature:J7},focus:{Feature:Q7},hover:{Feature:Y7}},iH={layout:{ProjectionNode:V2,MeasureLayout:M2}},oH={...HW,...aH,...G7,...iH},Zd=iW(oH,yW),lH=()=>{const e=ul();return h.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:r.jsxs(Zd.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center space-y-6 p-8",children:[r.jsx(Zd.div,{initial:{scale:.5},animate:{scale:1},transition:{duration:.5,delay:.2},children:r.jsx("h1",{className:"text-8xl font-bold text-primary",children:"404"})}),r.jsxs(Zd.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},className:"space-y-4",children:[r.jsx("h2",{className:"text-2xl font-semibold tracking-tight",children:"Page Not Found"}),r.jsx("p",{className:"text-muted-foreground",children:"Sorry, the page you are looking for does not exist or has been removed."})]}),r.jsx(Zd.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.6},children:r.jsx(J,{asChild:!0,variant:"default",size:"lg",children:r.jsx("a",{href:"/",children:"Back to Home"})})})]})})};class Xn{static convertEzSiteOptions(t){const s={};return t.PageNo&&t.PageSize&&(s.offset=(t.PageNo-1)*t.PageSize,s.limit=t.PageSize),t.OrderByField&&(s.orderBy={column:t.OrderByField,ascending:t.IsAsc!==!1}),t.Filters&&Array.isArray(t.Filters)&&(s.filters=t.Filters.map(n=>({column:n.name,operator:Xn.convertEzSiteOperator(n.op),value:n.value}))),s}static convertEzSiteOperator(t){return{Equal:"eq",NotEqual:"neq",GreaterThan:"gt",GreaterThanOrEqual:"gte",LessThan:"lt",LessThanOrEqual:"lte",Contains:"ilike",In:"in",IsNull:"is",IsNotNull:"not"}[t]||"eq"}static getTableName(t){return{12818:"seasons",12820:"conferences",12852:"teams",12853:"team_conference_junction",13329:"matchups",13768:"team_records",12870:"players",draft_results:"draft_results",transactions:"transactions",playoff_bracket:"playoff_bracket",matchup_admin_override:"matchup_admin_override",team_rosters:"team_rosters"}[t.toString()]||t.toString()}static async tablePage(t,s={}){const n=Xn.getTableName(t),a=Xn.convertEzSiteOptions(s),i=await Y.queryTable(n,a);return{data:{List:i.data,TotalCount:i.count||0},error:i.error}}static async tableCreate(t,s){const n=Xn.getTableName(t),a={...s};delete a.ID;const i=await Y.createRecord(n,a);return{data:i.data,error:i.error}}static async tableUpdate(t,s){const n=Xn.getTableName(t);if(!s.ID&&!s.id)return{error:"Missing ID for update operation"};const a=s.ID||s.id,i={...s};delete i.ID,delete i.id;const o=await Y.updateRecord(n,a,i);return{data:o.data,error:o.error}}static async tableDelete(t,s){const n=Xn.getTableName(t);if(!s.ID&&!s.id)return{error:"Missing ID for delete operation"};const a=s.ID||s.id;return{data:null,error:(await Y.deleteRecord(n,a)).error}}}const cH={tablePage:Xn.tablePage,tableCreate:Xn.tableCreate,tableUpdate:Xn.tableUpdate,tableDelete:Xn.tableDelete},dH=new FI,uH=()=>(h.useEffect(()=>{window.ezsite||(window.ezsite={apis:cH});const e=document.createElement("script");return e.src="https://studio.pickaxe.co/api/embed/bundle.js",e.defer=!0,document.head.appendChild(e),()=>{const t=document.querySelector('script[src="https://studio.pickaxe.co/api/embed/bundle.js"]');t&&t.remove()}},[]),r.jsx(UI,{client:dH,children:r.jsx(pI,{children:r.jsx(a3,{children:r.jsxs(F4,{children:[r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx(q5,{}),r.jsx("main",{className:"container mx-auto px-4 py-6",children:r.jsxs(A4,{children:[r.jsx(Vs,{path:"/",element:r.jsx(t6,{})}),r.jsx(Vs,{path:"/standings",element:r.jsx(r6,{})}),r.jsx(Vs,{path:"/matchups",element:r.jsx(d6,{})}),r.jsx(Vs,{path:"/matchups/:matchupId",element:r.jsx(W6,{})}),r.jsx(Vs,{path:"/teams",element:r.jsx(Q6,{})}),r.jsx(Vs,{path:"/teams/:teamId",element:r.jsx(J6,{})}),r.jsx(Vs,{path:"/players",element:r.jsx(Z6,{})}),r.jsx(Vs,{path:"/players/:playerId",element:r.jsx(oB,{})}),r.jsx(Vs,{path:"/transactions",element:r.jsx(lB,{})}),r.jsx(Vs,{path:"/draft",element:r.jsx(cB,{})}),r.jsx(Vs,{path:"/rules",element:r.jsx(xB,{})}),r.jsx(Vs,{path:"/conferences",element:r.jsx(yB,{})}),r.jsx(Vs,{path:"/admin",element:r.jsx(Tz,{})}),r.jsx(Vs,{path:"*",element:r.jsx(lH,{})})]})})]}),r.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:r.jsx("div",{id:"deployment-f277b3b5-018e-4ef6-a37c-d2fd421a7ba5"})}),r.jsx(kM,{})]})})})}));YS(document.getElementById("root")).render(r.jsx(uH,{}));
