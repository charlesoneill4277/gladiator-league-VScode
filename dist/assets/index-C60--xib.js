var $P=Object.defineProperty;var my=e=>{throw TypeError(e)};var DP=(e,t,n)=>t in e?$P(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ds=(e,t,n)=>DP(e,typeof t!="symbol"?t+"":t,n),bh=(e,t,n)=>t.has(e)||my("Cannot "+n);var X=(e,t,n)=>(bh(e,t,"read from private field"),n?n.call(e):t.get(e)),He=(e,t,n)=>t.has(e)?my("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Ne=(e,t,n,s)=>(bh(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),fn=(e,t,n)=>(bh(e,t,"access private method"),n);var dd=(e,t,n,s)=>({set _(a){Ne(e,t,a,n)},get _(){return X(e,t,s)}});function MP(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(s,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var js=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function S_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function LP(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function s(){return this instanceof s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var a=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:function(){return e[s]}})}),n}var N_={exports:{}},ff={},E_={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oc=Symbol.for("react.element"),IP=Symbol.for("react.portal"),OP=Symbol.for("react.fragment"),FP=Symbol.for("react.strict_mode"),BP=Symbol.for("react.profiler"),UP=Symbol.for("react.provider"),VP=Symbol.for("react.context"),zP=Symbol.for("react.forward_ref"),WP=Symbol.for("react.suspense"),HP=Symbol.for("react.memo"),qP=Symbol.for("react.lazy"),py=Symbol.iterator;function KP(e){return e===null||typeof e!="object"?null:(e=py&&e[py]||e["@@iterator"],typeof e=="function"?e:null)}var C_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T_=Object.assign,k_={};function Vo(e,t,n){this.props=e,this.context=t,this.refs=k_,this.updater=n||C_}Vo.prototype.isReactComponent={};Vo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Vo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function P_(){}P_.prototype=Vo.prototype;function Ug(e,t,n){this.props=e,this.context=t,this.refs=k_,this.updater=n||C_}var Vg=Ug.prototype=new P_;Vg.constructor=Ug;T_(Vg,Vo.prototype);Vg.isPureReactComponent=!0;var gy=Array.isArray,R_=Object.prototype.hasOwnProperty,zg={current:null},A_={key:!0,ref:!0,__self:!0,__source:!0};function $_(e,t,n){var s,a={},i=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)R_.call(t,s)&&!A_.hasOwnProperty(s)&&(a[s]=t[s]);var l=arguments.length-2;if(l===1)a.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)a[s]===void 0&&(a[s]=l[s]);return{$$typeof:Oc,type:e,key:i,ref:o,props:a,_owner:zg.current}}function GP(e,t){return{$$typeof:Oc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Wg(e){return typeof e=="object"&&e!==null&&e.$$typeof===Oc}function YP(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var xy=/\/+/g;function Sh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?YP(""+e.key):t.toString(36)}function Hd(e,t,n,s,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Oc:case IP:o=!0}}if(o)return o=e,a=a(o),e=s===""?"."+Sh(o,0):s,gy(a)?(n="",e!=null&&(n=e.replace(xy,"$&/")+"/"),Hd(a,t,n,"",function(d){return d})):a!=null&&(Wg(a)&&(a=GP(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(xy,"$&/")+"/")+e)),t.push(a)),1;if(o=0,s=s===""?".":s+":",gy(e))for(var l=0;l<e.length;l++){i=e[l];var c=s+Sh(i,l);o+=Hd(i,t,n,c,a)}else if(c=KP(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=s+Sh(i,l++),o+=Hd(i,t,n,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ud(e,t,n){if(e==null)return e;var s=[],a=0;return Hd(e,s,"","",function(i){return t.call(n,i,a++)}),s}function QP(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Rn={current:null},qd={transition:null},XP={ReactCurrentDispatcher:Rn,ReactCurrentBatchConfig:qd,ReactCurrentOwner:zg};function D_(){throw Error("act(...) is not supported in production builds of React.")}$e.Children={map:ud,forEach:function(e,t,n){ud(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ud(e,function(){t++}),t},toArray:function(e){return ud(e,function(t){return t})||[]},only:function(e){if(!Wg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};$e.Component=Vo;$e.Fragment=OP;$e.Profiler=BP;$e.PureComponent=Ug;$e.StrictMode=FP;$e.Suspense=WP;$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XP;$e.act=D_;$e.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=T_({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=zg.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)R_.call(t,c)&&!A_.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:Oc,type:e.type,key:a,ref:i,props:s,_owner:o}};$e.createContext=function(e){return e={$$typeof:VP,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:UP,_context:e},e.Consumer=e};$e.createElement=$_;$e.createFactory=function(e){var t=$_.bind(null,e);return t.type=e,t};$e.createRef=function(){return{current:null}};$e.forwardRef=function(e){return{$$typeof:zP,render:e}};$e.isValidElement=Wg;$e.lazy=function(e){return{$$typeof:qP,_payload:{_status:-1,_result:e},_init:QP}};$e.memo=function(e,t){return{$$typeof:HP,type:e,compare:t===void 0?null:t}};$e.startTransition=function(e){var t=qd.transition;qd.transition={};try{e()}finally{qd.transition=t}};$e.unstable_act=D_;$e.useCallback=function(e,t){return Rn.current.useCallback(e,t)};$e.useContext=function(e){return Rn.current.useContext(e)};$e.useDebugValue=function(){};$e.useDeferredValue=function(e){return Rn.current.useDeferredValue(e)};$e.useEffect=function(e,t){return Rn.current.useEffect(e,t)};$e.useId=function(){return Rn.current.useId()};$e.useImperativeHandle=function(e,t,n){return Rn.current.useImperativeHandle(e,t,n)};$e.useInsertionEffect=function(e,t){return Rn.current.useInsertionEffect(e,t)};$e.useLayoutEffect=function(e,t){return Rn.current.useLayoutEffect(e,t)};$e.useMemo=function(e,t){return Rn.current.useMemo(e,t)};$e.useReducer=function(e,t,n){return Rn.current.useReducer(e,t,n)};$e.useRef=function(e){return Rn.current.useRef(e)};$e.useState=function(e){return Rn.current.useState(e)};$e.useSyncExternalStore=function(e,t,n){return Rn.current.useSyncExternalStore(e,t,n)};$e.useTransition=function(){return Rn.current.useTransition()};$e.version="18.3.1";E_.exports=$e;var h=E_.exports;const Me=S_(h),Hg=MP({__proto__:null,default:Me},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JP=h,ZP=Symbol.for("react.element"),e2=Symbol.for("react.fragment"),t2=Object.prototype.hasOwnProperty,n2=JP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s2={key:!0,ref:!0,__self:!0,__source:!0};function M_(e,t,n){var s,a={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)t2.call(t,s)&&!s2.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:ZP,type:e,key:i,ref:o,props:a,_owner:n2.current}}ff.Fragment=e2;ff.jsx=M_;ff.jsxs=M_;N_.exports=ff;var r=N_.exports,L_={exports:{}},es={},I_={exports:{}},O_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(k,N){var b=k.length;k.push(N);e:for(;0<b;){var E=b-1>>>1,R=k[E];if(0<a(R,N))k[E]=N,k[b]=R,b=E;else break e}}function n(k){return k.length===0?null:k[0]}function s(k){if(k.length===0)return null;var N=k[0],b=k.pop();if(b!==N){k[0]=b;e:for(var E=0,R=k.length,B=R>>>1;E<B;){var L=2*(E+1)-1,G=k[L],q=L+1,H=k[q];if(0>a(G,b))q<R&&0>a(H,G)?(k[E]=H,k[q]=b,E=q):(k[E]=G,k[L]=b,E=L);else if(q<R&&0>a(H,b))k[E]=H,k[q]=b,E=q;else break e}}return N}function a(k,N){var b=k.sortIndex-N.sortIndex;return b!==0?b:k.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,f=null,m=3,g=!1,j=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(k){for(var N=n(d);N!==null;){if(N.callback===null)s(d);else if(N.startTime<=k)s(d),N.sortIndex=N.expirationTime,t(c,N);else break;N=n(d)}}function _(k){if(v=!1,y(k),!j)if(n(c)!==null)j=!0,U(S);else{var N=n(d);N!==null&&z(_,N.startTime-k)}}function S(k,N){j=!1,v&&(v=!1,x(T),T=-1),g=!0;var b=m;try{for(y(N),f=n(c);f!==null&&(!(f.expirationTime>N)||k&&!$());){var E=f.callback;if(typeof E=="function"){f.callback=null,m=f.priorityLevel;var R=E(f.expirationTime<=N);N=e.unstable_now(),typeof R=="function"?f.callback=R:f===n(c)&&s(c),y(N)}else s(c);f=n(c)}if(f!==null)var B=!0;else{var L=n(d);L!==null&&z(_,L.startTime-N),B=!1}return B}finally{f=null,m=b,g=!1}}var P=!1,C=null,T=-1,A=5,D=-1;function $(){return!(e.unstable_now()-D<A)}function I(){if(C!==null){var k=e.unstable_now();D=k;var N=!0;try{N=C(!0,k)}finally{N?M():(P=!1,C=null)}}else P=!1}var M;if(typeof p=="function")M=function(){p(I)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,J=F.port2;F.port1.onmessage=I,M=function(){J.postMessage(null)}}else M=function(){w(I,0)};function U(k){C=k,P||(P=!0,M())}function z(k,N){T=w(function(){k(e.unstable_now())},N)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_continueExecution=function(){j||g||(j=!0,U(S))},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(k){switch(m){case 1:case 2:case 3:var N=3;break;default:N=m}var b=m;m=N;try{return k()}finally{m=b}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(k,N){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var b=m;m=k;try{return N()}finally{m=b}},e.unstable_scheduleCallback=function(k,N,b){var E=e.unstable_now();switch(typeof b=="object"&&b!==null?(b=b.delay,b=typeof b=="number"&&0<b?E+b:E):b=E,k){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=b+R,k={id:u++,callback:N,priorityLevel:k,startTime:b,expirationTime:R,sortIndex:-1},b>E?(k.sortIndex=b,t(d,k),n(c)===null&&k===n(d)&&(v?(x(T),T=-1):v=!0,z(_,b-E))):(k.sortIndex=R,t(c,k),j||g||(j=!0,U(S))),k},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(k){var N=m;return function(){var b=m;m=N;try{return k.apply(this,arguments)}finally{m=b}}}})(O_);I_.exports=O_;var r2=I_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a2=h,Jn=r2;function re(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var F_=new Set,Zl={};function _i(e,t){Eo(e,t),Eo(e+"Capture",t)}function Eo(e,t){for(Zl[e]=t,e=0;e<t.length;e++)F_.add(t[e])}var Cr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vm=Object.prototype.hasOwnProperty,i2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vy={},yy={};function o2(e){return Vm.call(yy,e)?!0:Vm.call(vy,e)?!1:i2.test(e)?yy[e]=!0:(vy[e]=!0,!1)}function l2(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function c2(e,t,n,s){if(t===null||typeof t>"u"||l2(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function An(e,t,n,s,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var cn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){cn[e]=new An(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];cn[t]=new An(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){cn[e]=new An(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){cn[e]=new An(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){cn[e]=new An(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){cn[e]=new An(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){cn[e]=new An(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){cn[e]=new An(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){cn[e]=new An(e,5,!1,e.toLowerCase(),null,!1,!1)});var qg=/[\-:]([a-z])/g;function Kg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(qg,Kg);cn[t]=new An(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(qg,Kg);cn[t]=new An(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(qg,Kg);cn[t]=new An(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){cn[e]=new An(e,1,!1,e.toLowerCase(),null,!1,!1)});cn.xlinkHref=new An("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){cn[e]=new An(e,1,!1,e.toLowerCase(),null,!0,!0)});function Gg(e,t,n,s){var a=cn.hasOwnProperty(t)?cn[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(c2(t,n,a,s)&&(n=null),s||a===null?o2(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,s=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var Or=a2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fd=Symbol.for("react.element"),zi=Symbol.for("react.portal"),Wi=Symbol.for("react.fragment"),Yg=Symbol.for("react.strict_mode"),zm=Symbol.for("react.profiler"),B_=Symbol.for("react.provider"),U_=Symbol.for("react.context"),Qg=Symbol.for("react.forward_ref"),Wm=Symbol.for("react.suspense"),Hm=Symbol.for("react.suspense_list"),Xg=Symbol.for("react.memo"),Qr=Symbol.for("react.lazy"),V_=Symbol.for("react.offscreen"),wy=Symbol.iterator;function dl(e){return e===null||typeof e!="object"?null:(e=wy&&e[wy]||e["@@iterator"],typeof e=="function"?e:null)}var bt=Object.assign,Nh;function bl(e){if(Nh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Nh=t&&t[1]||""}return`
`+Nh+e}var Eh=!1;function Ch(e,t){if(!e||Eh)return"";Eh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var s=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){s=d}e.call(t.prototype)}else{try{throw Error()}catch(d){s=d}e()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=s.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Eh=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?bl(e):""}function d2(e){switch(e.tag){case 5:return bl(e.type);case 16:return bl("Lazy");case 13:return bl("Suspense");case 19:return bl("SuspenseList");case 0:case 2:case 15:return e=Ch(e.type,!1),e;case 11:return e=Ch(e.type.render,!1),e;case 1:return e=Ch(e.type,!0),e;default:return""}}function qm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Wi:return"Fragment";case zi:return"Portal";case zm:return"Profiler";case Yg:return"StrictMode";case Wm:return"Suspense";case Hm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case U_:return(e.displayName||"Context")+".Consumer";case B_:return(e._context.displayName||"Context")+".Provider";case Qg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Xg:return t=e.displayName||null,t!==null?t:qm(e.type)||"Memo";case Qr:t=e._payload,e=e._init;try{return qm(e(t))}catch{}}return null}function u2(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qm(t);case 8:return t===Yg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function _a(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function z_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function f2(e){var t=z_(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function hd(e){e._valueTracker||(e._valueTracker=f2(e))}function W_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=z_(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function pu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Km(e,t){var n=t.checked;return bt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function jy(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=_a(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function H_(e,t){t=t.checked,t!=null&&Gg(e,"checked",t,!1)}function Gm(e,t){H_(e,t);var n=_a(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ym(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ym(e,t.type,_a(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function _y(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ym(e,t,n){(t!=="number"||pu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Sl=Array.isArray;function io(e,t,n,s){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&s&&(e[n].defaultSelected=!0)}else{for(n=""+_a(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Qm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(re(91));return bt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function by(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(re(92));if(Sl(n)){if(1<n.length)throw Error(re(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:_a(n)}}function q_(e,t){var n=_a(t.value),s=_a(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function Sy(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function K_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?K_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var md,G_=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(md=md||document.createElement("div"),md.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=md.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ec(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Rl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},h2=["Webkit","ms","Moz","O"];Object.keys(Rl).forEach(function(e){h2.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Rl[t]=Rl[e]})});function Y_(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Rl.hasOwnProperty(e)&&Rl[e]?(""+t).trim():t+"px"}function Q_(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,a=Y_(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,a):e[n]=a}}var m2=bt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jm(e,t){if(t){if(m2[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(re(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(re(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(re(61))}if(t.style!=null&&typeof t.style!="object")throw Error(re(62))}}function Zm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ep=null;function Jg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var tp=null,oo=null,lo=null;function Ny(e){if(e=Uc(e)){if(typeof tp!="function")throw Error(re(280));var t=e.stateNode;t&&(t=xf(t),tp(e.stateNode,e.type,t))}}function X_(e){oo?lo?lo.push(e):lo=[e]:oo=e}function J_(){if(oo){var e=oo,t=lo;if(lo=oo=null,Ny(e),t)for(e=0;e<t.length;e++)Ny(t[e])}}function Z_(e,t){return e(t)}function eb(){}var Th=!1;function tb(e,t,n){if(Th)return e(t,n);Th=!0;try{return Z_(e,t,n)}finally{Th=!1,(oo!==null||lo!==null)&&(eb(),J_())}}function tc(e,t){var n=e.stateNode;if(n===null)return null;var s=xf(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(re(231,t,typeof n));return n}var np=!1;if(Cr)try{var ul={};Object.defineProperty(ul,"passive",{get:function(){np=!0}}),window.addEventListener("test",ul,ul),window.removeEventListener("test",ul,ul)}catch{np=!1}function p2(e,t,n,s,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(u){this.onError(u)}}var Al=!1,gu=null,xu=!1,sp=null,g2={onError:function(e){Al=!0,gu=e}};function x2(e,t,n,s,a,i,o,l,c){Al=!1,gu=null,p2.apply(g2,arguments)}function v2(e,t,n,s,a,i,o,l,c){if(x2.apply(this,arguments),Al){if(Al){var d=gu;Al=!1,gu=null}else throw Error(re(198));xu||(xu=!0,sp=d)}}function bi(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function nb(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ey(e){if(bi(e)!==e)throw Error(re(188))}function y2(e){var t=e.alternate;if(!t){if(t=bi(e),t===null)throw Error(re(188));return t!==e?null:e}for(var n=e,s=t;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(s=a.return,s!==null){n=s;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return Ey(a),e;if(i===s)return Ey(a),t;i=i.sibling}throw Error(re(188))}if(n.return!==s.return)n=a,s=i;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,s=i;break}if(l===s){o=!0,s=a,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,s=a;break}if(l===s){o=!0,s=i,n=a;break}l=l.sibling}if(!o)throw Error(re(189))}}if(n.alternate!==s)throw Error(re(190))}if(n.tag!==3)throw Error(re(188));return n.stateNode.current===n?e:t}function sb(e){return e=y2(e),e!==null?rb(e):null}function rb(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=rb(e);if(t!==null)return t;e=e.sibling}return null}var ab=Jn.unstable_scheduleCallback,Cy=Jn.unstable_cancelCallback,w2=Jn.unstable_shouldYield,j2=Jn.unstable_requestPaint,At=Jn.unstable_now,_2=Jn.unstable_getCurrentPriorityLevel,Zg=Jn.unstable_ImmediatePriority,ib=Jn.unstable_UserBlockingPriority,vu=Jn.unstable_NormalPriority,b2=Jn.unstable_LowPriority,ob=Jn.unstable_IdlePriority,hf=null,ar=null;function S2(e){if(ar&&typeof ar.onCommitFiberRoot=="function")try{ar.onCommitFiberRoot(hf,e,void 0,(e.current.flags&128)===128)}catch{}}var Os=Math.clz32?Math.clz32:C2,N2=Math.log,E2=Math.LN2;function C2(e){return e>>>=0,e===0?32:31-(N2(e)/E2|0)|0}var pd=64,gd=4194304;function Nl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function yu(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,a=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~a;l!==0?s=Nl(l):(i&=o,i!==0&&(s=Nl(i)))}else o=n&~a,o!==0?s=Nl(o):i!==0&&(s=Nl(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-Os(t),a=1<<n,s|=e[n],t&=~a;return s}function T2(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function k2(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Os(i),l=1<<o,c=a[o];c===-1?(!(l&n)||l&s)&&(a[o]=T2(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function rp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function lb(){var e=pd;return pd<<=1,!(pd&4194240)&&(pd=64),e}function kh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Fc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Os(t),e[t]=n}function P2(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-Os(n),i=1<<a;t[a]=0,s[a]=-1,e[a]=-1,n&=~i}}function ex(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-Os(n),a=1<<s;a&t|e[s]&t&&(e[s]|=t),n&=~a}}var Ze=0;function cb(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var db,tx,ub,fb,hb,ap=!1,xd=[],fa=null,ha=null,ma=null,nc=new Map,sc=new Map,ea=[],R2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ty(e,t){switch(e){case"focusin":case"focusout":fa=null;break;case"dragenter":case"dragleave":ha=null;break;case"mouseover":case"mouseout":ma=null;break;case"pointerover":case"pointerout":nc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":sc.delete(t.pointerId)}}function fl(e,t,n,s,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Uc(t),t!==null&&tx(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function A2(e,t,n,s,a){switch(t){case"focusin":return fa=fl(fa,e,t,n,s,a),!0;case"dragenter":return ha=fl(ha,e,t,n,s,a),!0;case"mouseover":return ma=fl(ma,e,t,n,s,a),!0;case"pointerover":var i=a.pointerId;return nc.set(i,fl(nc.get(i)||null,e,t,n,s,a)),!0;case"gotpointercapture":return i=a.pointerId,sc.set(i,fl(sc.get(i)||null,e,t,n,s,a)),!0}return!1}function mb(e){var t=Xa(e.target);if(t!==null){var n=bi(t);if(n!==null){if(t=n.tag,t===13){if(t=nb(n),t!==null){e.blockedOn=t,hb(e.priority,function(){ub(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Kd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ip(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);ep=s,n.target.dispatchEvent(s),ep=null}else return t=Uc(n),t!==null&&tx(t),e.blockedOn=n,!1;t.shift()}return!0}function ky(e,t,n){Kd(e)&&n.delete(t)}function $2(){ap=!1,fa!==null&&Kd(fa)&&(fa=null),ha!==null&&Kd(ha)&&(ha=null),ma!==null&&Kd(ma)&&(ma=null),nc.forEach(ky),sc.forEach(ky)}function hl(e,t){e.blockedOn===t&&(e.blockedOn=null,ap||(ap=!0,Jn.unstable_scheduleCallback(Jn.unstable_NormalPriority,$2)))}function rc(e){function t(a){return hl(a,e)}if(0<xd.length){hl(xd[0],e);for(var n=1;n<xd.length;n++){var s=xd[n];s.blockedOn===e&&(s.blockedOn=null)}}for(fa!==null&&hl(fa,e),ha!==null&&hl(ha,e),ma!==null&&hl(ma,e),nc.forEach(t),sc.forEach(t),n=0;n<ea.length;n++)s=ea[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<ea.length&&(n=ea[0],n.blockedOn===null);)mb(n),n.blockedOn===null&&ea.shift()}var co=Or.ReactCurrentBatchConfig,wu=!0;function D2(e,t,n,s){var a=Ze,i=co.transition;co.transition=null;try{Ze=1,nx(e,t,n,s)}finally{Ze=a,co.transition=i}}function M2(e,t,n,s){var a=Ze,i=co.transition;co.transition=null;try{Ze=4,nx(e,t,n,s)}finally{Ze=a,co.transition=i}}function nx(e,t,n,s){if(wu){var a=ip(e,t,n,s);if(a===null)Fh(e,t,s,ju,n),Ty(e,s);else if(A2(a,e,t,n,s))s.stopPropagation();else if(Ty(e,s),t&4&&-1<R2.indexOf(e)){for(;a!==null;){var i=Uc(a);if(i!==null&&db(i),i=ip(e,t,n,s),i===null&&Fh(e,t,s,ju,n),i===a)break;a=i}a!==null&&s.stopPropagation()}else Fh(e,t,s,null,n)}}var ju=null;function ip(e,t,n,s){if(ju=null,e=Jg(s),e=Xa(e),e!==null)if(t=bi(e),t===null)e=null;else if(n=t.tag,n===13){if(e=nb(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ju=e,null}function pb(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_2()){case Zg:return 1;case ib:return 4;case vu:case b2:return 16;case ob:return 536870912;default:return 16}default:return 16}}var la=null,sx=null,Gd=null;function gb(){if(Gd)return Gd;var e,t=sx,n=t.length,s,a="value"in la?la.value:la.textContent,i=a.length;for(e=0;e<n&&t[e]===a[e];e++);var o=n-e;for(s=1;s<=o&&t[n-s]===a[i-s];s++);return Gd=a.slice(e,1<s?1-s:void 0)}function Yd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function vd(){return!0}function Py(){return!1}function ts(e){function t(n,s,a,i,o){this._reactName=n,this._targetInst=a,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?vd:Py,this.isPropagationStopped=Py,this}return bt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vd)},persist:function(){},isPersistent:vd}),t}var zo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rx=ts(zo),Bc=bt({},zo,{view:0,detail:0}),L2=ts(Bc),Ph,Rh,ml,mf=bt({},Bc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ax,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ml&&(ml&&e.type==="mousemove"?(Ph=e.screenX-ml.screenX,Rh=e.screenY-ml.screenY):Rh=Ph=0,ml=e),Ph)},movementY:function(e){return"movementY"in e?e.movementY:Rh}}),Ry=ts(mf),I2=bt({},mf,{dataTransfer:0}),O2=ts(I2),F2=bt({},Bc,{relatedTarget:0}),Ah=ts(F2),B2=bt({},zo,{animationName:0,elapsedTime:0,pseudoElement:0}),U2=ts(B2),V2=bt({},zo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),z2=ts(V2),W2=bt({},zo,{data:0}),Ay=ts(W2),H2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},q2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},K2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function G2(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=K2[e])?!!t[e]:!1}function ax(){return G2}var Y2=bt({},Bc,{key:function(e){if(e.key){var t=H2[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Yd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?q2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ax,charCode:function(e){return e.type==="keypress"?Yd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Q2=ts(Y2),X2=bt({},mf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$y=ts(X2),J2=bt({},Bc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ax}),Z2=ts(J2),eR=bt({},zo,{propertyName:0,elapsedTime:0,pseudoElement:0}),tR=ts(eR),nR=bt({},mf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sR=ts(nR),rR=[9,13,27,32],ix=Cr&&"CompositionEvent"in window,$l=null;Cr&&"documentMode"in document&&($l=document.documentMode);var aR=Cr&&"TextEvent"in window&&!$l,xb=Cr&&(!ix||$l&&8<$l&&11>=$l),Dy=" ",My=!1;function vb(e,t){switch(e){case"keyup":return rR.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yb(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Hi=!1;function iR(e,t){switch(e){case"compositionend":return yb(t);case"keypress":return t.which!==32?null:(My=!0,Dy);case"textInput":return e=t.data,e===Dy&&My?null:e;default:return null}}function oR(e,t){if(Hi)return e==="compositionend"||!ix&&vb(e,t)?(e=gb(),Gd=sx=la=null,Hi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xb&&t.locale!=="ko"?null:t.data;default:return null}}var lR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ly(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!lR[e.type]:t==="textarea"}function wb(e,t,n,s){X_(s),t=_u(t,"onChange"),0<t.length&&(n=new rx("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Dl=null,ac=null;function cR(e){Rb(e,0)}function pf(e){var t=Gi(e);if(W_(t))return e}function dR(e,t){if(e==="change")return t}var jb=!1;if(Cr){var $h;if(Cr){var Dh="oninput"in document;if(!Dh){var Iy=document.createElement("div");Iy.setAttribute("oninput","return;"),Dh=typeof Iy.oninput=="function"}$h=Dh}else $h=!1;jb=$h&&(!document.documentMode||9<document.documentMode)}function Oy(){Dl&&(Dl.detachEvent("onpropertychange",_b),ac=Dl=null)}function _b(e){if(e.propertyName==="value"&&pf(ac)){var t=[];wb(t,ac,e,Jg(e)),tb(cR,t)}}function uR(e,t,n){e==="focusin"?(Oy(),Dl=t,ac=n,Dl.attachEvent("onpropertychange",_b)):e==="focusout"&&Oy()}function fR(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return pf(ac)}function hR(e,t){if(e==="click")return pf(t)}function mR(e,t){if(e==="input"||e==="change")return pf(t)}function pR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Bs=typeof Object.is=="function"?Object.is:pR;function ic(e,t){if(Bs(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var a=n[s];if(!Vm.call(t,a)||!Bs(e[a],t[a]))return!1}return!0}function Fy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function By(e,t){var n=Fy(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Fy(n)}}function bb(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?bb(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Sb(){for(var e=window,t=pu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=pu(e.document)}return t}function ox(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function gR(e){var t=Sb(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&bb(n.ownerDocument.documentElement,n)){if(s!==null&&ox(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(s.start,a);s=s.end===void 0?i:Math.min(s.end,a),!e.extend&&i>s&&(a=s,s=i,i=a),a=By(n,i);var o=By(n,s);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var xR=Cr&&"documentMode"in document&&11>=document.documentMode,qi=null,op=null,Ml=null,lp=!1;function Uy(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;lp||qi==null||qi!==pu(s)||(s=qi,"selectionStart"in s&&ox(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Ml&&ic(Ml,s)||(Ml=s,s=_u(op,"onSelect"),0<s.length&&(t=new rx("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=qi)))}function yd(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ki={animationend:yd("Animation","AnimationEnd"),animationiteration:yd("Animation","AnimationIteration"),animationstart:yd("Animation","AnimationStart"),transitionend:yd("Transition","TransitionEnd")},Mh={},Nb={};Cr&&(Nb=document.createElement("div").style,"AnimationEvent"in window||(delete Ki.animationend.animation,delete Ki.animationiteration.animation,delete Ki.animationstart.animation),"TransitionEvent"in window||delete Ki.transitionend.transition);function gf(e){if(Mh[e])return Mh[e];if(!Ki[e])return e;var t=Ki[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Nb)return Mh[e]=t[n];return e}var Eb=gf("animationend"),Cb=gf("animationiteration"),Tb=gf("animationstart"),kb=gf("transitionend"),Pb=new Map,Vy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ta(e,t){Pb.set(e,t),_i(t,[e])}for(var Lh=0;Lh<Vy.length;Lh++){var Ih=Vy[Lh],vR=Ih.toLowerCase(),yR=Ih[0].toUpperCase()+Ih.slice(1);Ta(vR,"on"+yR)}Ta(Eb,"onAnimationEnd");Ta(Cb,"onAnimationIteration");Ta(Tb,"onAnimationStart");Ta("dblclick","onDoubleClick");Ta("focusin","onFocus");Ta("focusout","onBlur");Ta(kb,"onTransitionEnd");Eo("onMouseEnter",["mouseout","mouseover"]);Eo("onMouseLeave",["mouseout","mouseover"]);Eo("onPointerEnter",["pointerout","pointerover"]);Eo("onPointerLeave",["pointerout","pointerover"]);_i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_i("onBeforeInput",["compositionend","keypress","textInput","paste"]);_i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wR=new Set("cancel close invalid load scroll toggle".split(" ").concat(El));function zy(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,v2(s,t,void 0,e),e.currentTarget=null}function Rb(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],a=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;zy(a,l,d),i=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;zy(a,l,d),i=c}}}if(xu)throw e=sp,xu=!1,sp=null,e}function dt(e,t){var n=t[hp];n===void 0&&(n=t[hp]=new Set);var s=e+"__bubble";n.has(s)||(Ab(t,e,2,!1),n.add(s))}function Oh(e,t,n){var s=0;t&&(s|=4),Ab(n,e,s,t)}var wd="_reactListening"+Math.random().toString(36).slice(2);function oc(e){if(!e[wd]){e[wd]=!0,F_.forEach(function(n){n!=="selectionchange"&&(wR.has(n)||Oh(n,!1,e),Oh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[wd]||(t[wd]=!0,Oh("selectionchange",!1,t))}}function Ab(e,t,n,s){switch(pb(t)){case 1:var a=D2;break;case 4:a=M2;break;default:a=nx}n=a.bind(null,t,n,e),a=void 0,!np||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Fh(e,t,n,s,a){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Xa(l),o===null)return;if(c=o.tag,c===5||c===6){s=i=o;continue e}l=l.parentNode}}s=s.return}tb(function(){var d=i,u=Jg(n),f=[];e:{var m=Pb.get(e);if(m!==void 0){var g=rx,j=e;switch(e){case"keypress":if(Yd(n)===0)break e;case"keydown":case"keyup":g=Q2;break;case"focusin":j="focus",g=Ah;break;case"focusout":j="blur",g=Ah;break;case"beforeblur":case"afterblur":g=Ah;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Ry;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=O2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Z2;break;case Eb:case Cb:case Tb:g=U2;break;case kb:g=tR;break;case"scroll":g=L2;break;case"wheel":g=sR;break;case"copy":case"cut":case"paste":g=z2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=$y}var v=(t&4)!==0,w=!v&&e==="scroll",x=v?m!==null?m+"Capture":null:m;v=[];for(var p=d,y;p!==null;){y=p;var _=y.stateNode;if(y.tag===5&&_!==null&&(y=_,x!==null&&(_=tc(p,x),_!=null&&v.push(lc(p,_,y)))),w)break;p=p.return}0<v.length&&(m=new g(m,j,null,n,u),f.push({event:m,listeners:v}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",m&&n!==ep&&(j=n.relatedTarget||n.fromElement)&&(Xa(j)||j[Tr]))break e;if((g||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,g?(j=n.relatedTarget||n.toElement,g=d,j=j?Xa(j):null,j!==null&&(w=bi(j),j!==w||j.tag!==5&&j.tag!==6)&&(j=null)):(g=null,j=d),g!==j)){if(v=Ry,_="onMouseLeave",x="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(v=$y,_="onPointerLeave",x="onPointerEnter",p="pointer"),w=g==null?m:Gi(g),y=j==null?m:Gi(j),m=new v(_,p+"leave",g,n,u),m.target=w,m.relatedTarget=y,_=null,Xa(u)===d&&(v=new v(x,p+"enter",j,n,u),v.target=y,v.relatedTarget=w,_=v),w=_,g&&j)t:{for(v=g,x=j,p=0,y=v;y;y=ki(y))p++;for(y=0,_=x;_;_=ki(_))y++;for(;0<p-y;)v=ki(v),p--;for(;0<y-p;)x=ki(x),y--;for(;p--;){if(v===x||x!==null&&v===x.alternate)break t;v=ki(v),x=ki(x)}v=null}else v=null;g!==null&&Wy(f,m,g,v,!1),j!==null&&w!==null&&Wy(f,w,j,v,!0)}}e:{if(m=d?Gi(d):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var S=dR;else if(Ly(m))if(jb)S=mR;else{S=fR;var P=uR}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(S=hR);if(S&&(S=S(e,d))){wb(f,S,n,u);break e}P&&P(e,m,d),e==="focusout"&&(P=m._wrapperState)&&P.controlled&&m.type==="number"&&Ym(m,"number",m.value)}switch(P=d?Gi(d):window,e){case"focusin":(Ly(P)||P.contentEditable==="true")&&(qi=P,op=d,Ml=null);break;case"focusout":Ml=op=qi=null;break;case"mousedown":lp=!0;break;case"contextmenu":case"mouseup":case"dragend":lp=!1,Uy(f,n,u);break;case"selectionchange":if(xR)break;case"keydown":case"keyup":Uy(f,n,u)}var C;if(ix)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Hi?vb(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(xb&&n.locale!=="ko"&&(Hi||T!=="onCompositionStart"?T==="onCompositionEnd"&&Hi&&(C=gb()):(la=u,sx="value"in la?la.value:la.textContent,Hi=!0)),P=_u(d,T),0<P.length&&(T=new Ay(T,e,null,n,u),f.push({event:T,listeners:P}),C?T.data=C:(C=yb(n),C!==null&&(T.data=C)))),(C=aR?iR(e,n):oR(e,n))&&(d=_u(d,"onBeforeInput"),0<d.length&&(u=new Ay("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:d}),u.data=C))}Rb(f,t)})}function lc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function _u(e,t){for(var n=t+"Capture",s=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=tc(e,n),i!=null&&s.unshift(lc(e,i,a)),i=tc(e,t),i!=null&&s.push(lc(e,i,a))),e=e.return}return s}function ki(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Wy(e,t,n,s,a){for(var i=t._reactName,o=[];n!==null&&n!==s;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&d!==null&&(l=d,a?(c=tc(n,i),c!=null&&o.unshift(lc(n,c,l))):a||(c=tc(n,i),c!=null&&o.push(lc(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var jR=/\r\n?/g,_R=/\u0000|\uFFFD/g;function Hy(e){return(typeof e=="string"?e:""+e).replace(jR,`
`).replace(_R,"")}function jd(e,t,n){if(t=Hy(t),Hy(e)!==t&&n)throw Error(re(425))}function bu(){}var cp=null,dp=null;function up(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var fp=typeof setTimeout=="function"?setTimeout:void 0,bR=typeof clearTimeout=="function"?clearTimeout:void 0,qy=typeof Promise=="function"?Promise:void 0,SR=typeof queueMicrotask=="function"?queueMicrotask:typeof qy<"u"?function(e){return qy.resolve(null).then(e).catch(NR)}:fp;function NR(e){setTimeout(function(){throw e})}function Bh(e,t){var n=t,s=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(s===0){e.removeChild(a),rc(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=a}while(n);rc(t)}function pa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ky(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Wo=Math.random().toString(36).slice(2),nr="__reactFiber$"+Wo,cc="__reactProps$"+Wo,Tr="__reactContainer$"+Wo,hp="__reactEvents$"+Wo,ER="__reactListeners$"+Wo,CR="__reactHandles$"+Wo;function Xa(e){var t=e[nr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Tr]||n[nr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ky(e);e!==null;){if(n=e[nr])return n;e=Ky(e)}return t}e=n,n=e.parentNode}return null}function Uc(e){return e=e[nr]||e[Tr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Gi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(re(33))}function xf(e){return e[cc]||null}var mp=[],Yi=-1;function ka(e){return{current:e}}function ft(e){0>Yi||(e.current=mp[Yi],mp[Yi]=null,Yi--)}function rt(e,t){Yi++,mp[Yi]=e.current,e.current=t}var ba={},yn=ka(ba),zn=ka(!1),fi=ba;function Co(e,t){var n=e.type.contextTypes;if(!n)return ba;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Wn(e){return e=e.childContextTypes,e!=null}function Su(){ft(zn),ft(yn)}function Gy(e,t,n){if(yn.current!==ba)throw Error(re(168));rt(yn,t),rt(zn,n)}function $b(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(re(108,u2(e)||"Unknown",a));return bt({},n,s)}function Nu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ba,fi=yn.current,rt(yn,e),rt(zn,zn.current),!0}function Yy(e,t,n){var s=e.stateNode;if(!s)throw Error(re(169));n?(e=$b(e,t,fi),s.__reactInternalMemoizedMergedChildContext=e,ft(zn),ft(yn),rt(yn,e)):ft(zn),rt(zn,n)}var wr=null,vf=!1,Uh=!1;function Db(e){wr===null?wr=[e]:wr.push(e)}function TR(e){vf=!0,Db(e)}function Pa(){if(!Uh&&wr!==null){Uh=!0;var e=0,t=Ze;try{var n=wr;for(Ze=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}wr=null,vf=!1}catch(a){throw wr!==null&&(wr=wr.slice(e+1)),ab(Zg,Pa),a}finally{Ze=t,Uh=!1}}return null}var Qi=[],Xi=0,Eu=null,Cu=0,ps=[],gs=0,hi=null,br=1,Sr="";function qa(e,t){Qi[Xi++]=Cu,Qi[Xi++]=Eu,Eu=e,Cu=t}function Mb(e,t,n){ps[gs++]=br,ps[gs++]=Sr,ps[gs++]=hi,hi=e;var s=br;e=Sr;var a=32-Os(s)-1;s&=~(1<<a),n+=1;var i=32-Os(t)+a;if(30<i){var o=a-a%5;i=(s&(1<<o)-1).toString(32),s>>=o,a-=o,br=1<<32-Os(t)+a|n<<a|s,Sr=i+e}else br=1<<i|n<<a|s,Sr=e}function lx(e){e.return!==null&&(qa(e,1),Mb(e,1,0))}function cx(e){for(;e===Eu;)Eu=Qi[--Xi],Qi[Xi]=null,Cu=Qi[--Xi],Qi[Xi]=null;for(;e===hi;)hi=ps[--gs],ps[gs]=null,Sr=ps[--gs],ps[gs]=null,br=ps[--gs],ps[gs]=null}var Yn=null,Gn=null,gt=!1,Ls=null;function Lb(e,t){var n=xs(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Qy(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Yn=e,Gn=pa(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Yn=e,Gn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=hi!==null?{id:br,overflow:Sr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=xs(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Yn=e,Gn=null,!0):!1;default:return!1}}function pp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function gp(e){if(gt){var t=Gn;if(t){var n=t;if(!Qy(e,t)){if(pp(e))throw Error(re(418));t=pa(n.nextSibling);var s=Yn;t&&Qy(e,t)?Lb(s,n):(e.flags=e.flags&-4097|2,gt=!1,Yn=e)}}else{if(pp(e))throw Error(re(418));e.flags=e.flags&-4097|2,gt=!1,Yn=e}}}function Xy(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Yn=e}function _d(e){if(e!==Yn)return!1;if(!gt)return Xy(e),gt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!up(e.type,e.memoizedProps)),t&&(t=Gn)){if(pp(e))throw Ib(),Error(re(418));for(;t;)Lb(e,t),t=pa(t.nextSibling)}if(Xy(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(re(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Gn=pa(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Gn=null}}else Gn=Yn?pa(e.stateNode.nextSibling):null;return!0}function Ib(){for(var e=Gn;e;)e=pa(e.nextSibling)}function To(){Gn=Yn=null,gt=!1}function dx(e){Ls===null?Ls=[e]:Ls.push(e)}var kR=Or.ReactCurrentBatchConfig;function pl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(re(309));var s=n.stateNode}if(!s)throw Error(re(147,e));var a=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(re(284));if(!n._owner)throw Error(re(290,e))}return e}function bd(e,t){throw e=Object.prototype.toString.call(t),Error(re(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Jy(e){var t=e._init;return t(e._payload)}function Ob(e){function t(x,p){if(e){var y=x.deletions;y===null?(x.deletions=[p],x.flags|=16):y.push(p)}}function n(x,p){if(!e)return null;for(;p!==null;)t(x,p),p=p.sibling;return null}function s(x,p){for(x=new Map;p!==null;)p.key!==null?x.set(p.key,p):x.set(p.index,p),p=p.sibling;return x}function a(x,p){return x=ya(x,p),x.index=0,x.sibling=null,x}function i(x,p,y){return x.index=y,e?(y=x.alternate,y!==null?(y=y.index,y<p?(x.flags|=2,p):y):(x.flags|=2,p)):(x.flags|=1048576,p)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,p,y,_){return p===null||p.tag!==6?(p=Gh(y,x.mode,_),p.return=x,p):(p=a(p,y),p.return=x,p)}function c(x,p,y,_){var S=y.type;return S===Wi?u(x,p,y.props.children,_,y.key):p!==null&&(p.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Qr&&Jy(S)===p.type)?(_=a(p,y.props),_.ref=pl(x,p,y),_.return=x,_):(_=nu(y.type,y.key,y.props,null,x.mode,_),_.ref=pl(x,p,y),_.return=x,_)}function d(x,p,y,_){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=Yh(y,x.mode,_),p.return=x,p):(p=a(p,y.children||[]),p.return=x,p)}function u(x,p,y,_,S){return p===null||p.tag!==7?(p=ci(y,x.mode,_,S),p.return=x,p):(p=a(p,y),p.return=x,p)}function f(x,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Gh(""+p,x.mode,y),p.return=x,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case fd:return y=nu(p.type,p.key,p.props,null,x.mode,y),y.ref=pl(x,null,p),y.return=x,y;case zi:return p=Yh(p,x.mode,y),p.return=x,p;case Qr:var _=p._init;return f(x,_(p._payload),y)}if(Sl(p)||dl(p))return p=ci(p,x.mode,y,null),p.return=x,p;bd(x,p)}return null}function m(x,p,y,_){var S=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return S!==null?null:l(x,p,""+y,_);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case fd:return y.key===S?c(x,p,y,_):null;case zi:return y.key===S?d(x,p,y,_):null;case Qr:return S=y._init,m(x,p,S(y._payload),_)}if(Sl(y)||dl(y))return S!==null?null:u(x,p,y,_,null);bd(x,y)}return null}function g(x,p,y,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return x=x.get(y)||null,l(p,x,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case fd:return x=x.get(_.key===null?y:_.key)||null,c(p,x,_,S);case zi:return x=x.get(_.key===null?y:_.key)||null,d(p,x,_,S);case Qr:var P=_._init;return g(x,p,y,P(_._payload),S)}if(Sl(_)||dl(_))return x=x.get(y)||null,u(p,x,_,S,null);bd(p,_)}return null}function j(x,p,y,_){for(var S=null,P=null,C=p,T=p=0,A=null;C!==null&&T<y.length;T++){C.index>T?(A=C,C=null):A=C.sibling;var D=m(x,C,y[T],_);if(D===null){C===null&&(C=A);break}e&&C&&D.alternate===null&&t(x,C),p=i(D,p,T),P===null?S=D:P.sibling=D,P=D,C=A}if(T===y.length)return n(x,C),gt&&qa(x,T),S;if(C===null){for(;T<y.length;T++)C=f(x,y[T],_),C!==null&&(p=i(C,p,T),P===null?S=C:P.sibling=C,P=C);return gt&&qa(x,T),S}for(C=s(x,C);T<y.length;T++)A=g(C,x,T,y[T],_),A!==null&&(e&&A.alternate!==null&&C.delete(A.key===null?T:A.key),p=i(A,p,T),P===null?S=A:P.sibling=A,P=A);return e&&C.forEach(function($){return t(x,$)}),gt&&qa(x,T),S}function v(x,p,y,_){var S=dl(y);if(typeof S!="function")throw Error(re(150));if(y=S.call(y),y==null)throw Error(re(151));for(var P=S=null,C=p,T=p=0,A=null,D=y.next();C!==null&&!D.done;T++,D=y.next()){C.index>T?(A=C,C=null):A=C.sibling;var $=m(x,C,D.value,_);if($===null){C===null&&(C=A);break}e&&C&&$.alternate===null&&t(x,C),p=i($,p,T),P===null?S=$:P.sibling=$,P=$,C=A}if(D.done)return n(x,C),gt&&qa(x,T),S;if(C===null){for(;!D.done;T++,D=y.next())D=f(x,D.value,_),D!==null&&(p=i(D,p,T),P===null?S=D:P.sibling=D,P=D);return gt&&qa(x,T),S}for(C=s(x,C);!D.done;T++,D=y.next())D=g(C,x,T,D.value,_),D!==null&&(e&&D.alternate!==null&&C.delete(D.key===null?T:D.key),p=i(D,p,T),P===null?S=D:P.sibling=D,P=D);return e&&C.forEach(function(I){return t(x,I)}),gt&&qa(x,T),S}function w(x,p,y,_){if(typeof y=="object"&&y!==null&&y.type===Wi&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case fd:e:{for(var S=y.key,P=p;P!==null;){if(P.key===S){if(S=y.type,S===Wi){if(P.tag===7){n(x,P.sibling),p=a(P,y.props.children),p.return=x,x=p;break e}}else if(P.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Qr&&Jy(S)===P.type){n(x,P.sibling),p=a(P,y.props),p.ref=pl(x,P,y),p.return=x,x=p;break e}n(x,P);break}else t(x,P);P=P.sibling}y.type===Wi?(p=ci(y.props.children,x.mode,_,y.key),p.return=x,x=p):(_=nu(y.type,y.key,y.props,null,x.mode,_),_.ref=pl(x,p,y),_.return=x,x=_)}return o(x);case zi:e:{for(P=y.key;p!==null;){if(p.key===P)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){n(x,p.sibling),p=a(p,y.children||[]),p.return=x,x=p;break e}else{n(x,p);break}else t(x,p);p=p.sibling}p=Yh(y,x.mode,_),p.return=x,x=p}return o(x);case Qr:return P=y._init,w(x,p,P(y._payload),_)}if(Sl(y))return j(x,p,y,_);if(dl(y))return v(x,p,y,_);bd(x,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(n(x,p.sibling),p=a(p,y),p.return=x,x=p):(n(x,p),p=Gh(y,x.mode,_),p.return=x,x=p),o(x)):n(x,p)}return w}var ko=Ob(!0),Fb=Ob(!1),Tu=ka(null),ku=null,Ji=null,ux=null;function fx(){ux=Ji=ku=null}function hx(e){var t=Tu.current;ft(Tu),e._currentValue=t}function xp(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function uo(e,t){ku=e,ux=Ji=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Un=!0),e.firstContext=null)}function _s(e){var t=e._currentValue;if(ux!==e)if(e={context:e,memoizedValue:t,next:null},Ji===null){if(ku===null)throw Error(re(308));Ji=e,ku.dependencies={lanes:0,firstContext:e}}else Ji=Ji.next=e;return t}var Ja=null;function mx(e){Ja===null?Ja=[e]:Ja.push(e)}function Bb(e,t,n,s){var a=t.interleaved;return a===null?(n.next=n,mx(t)):(n.next=a.next,a.next=n),t.interleaved=n,kr(e,s)}function kr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Xr=!1;function px(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ub(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Nr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ga(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,ze&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,kr(e,n)}return a=s.interleaved,a===null?(t.next=t,mx(s)):(t.next=a.next,a.next=t),s.interleaved=t,kr(e,n)}function Qd(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,ex(e,n)}}function Zy(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?a=i=t:i=i.next=t}else a=i=t;n={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Pu(e,t,n,s){var a=e.updateQueue;Xr=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,u=d=c=null,l=i;do{var m=l.lane,g=l.eventTime;if((s&m)===m){u!==null&&(u=u.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var j=e,v=l;switch(m=t,g=n,v.tag){case 1:if(j=v.payload,typeof j=="function"){f=j.call(g,f,m);break e}f=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=v.payload,m=typeof j=="function"?j.call(g,f,m):j,m==null)break e;f=bt({},f,m);break e;case 2:Xr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=a.effects,m===null?a.effects=[l]:m.push(l))}else g={eventTime:g,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=g,c=f):u=u.next=g,o|=m;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;m=l,l=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);if(u===null&&(c=f),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);pi|=o,e.lanes=o,e.memoizedState=f}}function ew(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=n,typeof a!="function")throw Error(re(191,a));a.call(s)}}}var Vc={},ir=ka(Vc),dc=ka(Vc),uc=ka(Vc);function Za(e){if(e===Vc)throw Error(re(174));return e}function gx(e,t){switch(rt(uc,t),rt(dc,e),rt(ir,Vc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Xm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Xm(t,e)}ft(ir),rt(ir,t)}function Po(){ft(ir),ft(dc),ft(uc)}function Vb(e){Za(uc.current);var t=Za(ir.current),n=Xm(t,e.type);t!==n&&(rt(dc,e),rt(ir,n))}function xx(e){dc.current===e&&(ft(ir),ft(dc))}var yt=ka(0);function Ru(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vh=[];function vx(){for(var e=0;e<Vh.length;e++)Vh[e]._workInProgressVersionPrimary=null;Vh.length=0}var Xd=Or.ReactCurrentDispatcher,zh=Or.ReactCurrentBatchConfig,mi=0,_t=null,Ft=null,Gt=null,Au=!1,Ll=!1,fc=0,PR=0;function hn(){throw Error(re(321))}function yx(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Bs(e[n],t[n]))return!1;return!0}function wx(e,t,n,s,a,i){if(mi=i,_t=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xd.current=e===null||e.memoizedState===null?DR:MR,e=n(s,a),Ll){i=0;do{if(Ll=!1,fc=0,25<=i)throw Error(re(301));i+=1,Gt=Ft=null,t.updateQueue=null,Xd.current=LR,e=n(s,a)}while(Ll)}if(Xd.current=$u,t=Ft!==null&&Ft.next!==null,mi=0,Gt=Ft=_t=null,Au=!1,t)throw Error(re(300));return e}function jx(){var e=fc!==0;return fc=0,e}function Qs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?_t.memoizedState=Gt=e:Gt=Gt.next=e,Gt}function bs(){if(Ft===null){var e=_t.alternate;e=e!==null?e.memoizedState:null}else e=Ft.next;var t=Gt===null?_t.memoizedState:Gt.next;if(t!==null)Gt=t,Ft=e;else{if(e===null)throw Error(re(310));Ft=e,e={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},Gt===null?_t.memoizedState=Gt=e:Gt=Gt.next=e}return Gt}function hc(e,t){return typeof t=="function"?t(e):t}function Wh(e){var t=bs(),n=t.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=e;var s=Ft,a=s.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}s.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,s=s.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((mi&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var f={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,o=s):c=c.next=f,_t.lanes|=u,pi|=u}d=d.next}while(d!==null&&d!==i);c===null?o=s:c.next=l,Bs(s,t.memoizedState)||(Un=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){a=e;do i=a.lane,_t.lanes|=i,pi|=i,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Hh(e){var t=bs(),n=t.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=e;var s=n.dispatch,a=n.pending,i=t.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Bs(i,t.memoizedState)||(Un=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,s]}function zb(){}function Wb(e,t){var n=_t,s=bs(),a=t(),i=!Bs(s.memoizedState,a);if(i&&(s.memoizedState=a,Un=!0),s=s.queue,_x(Kb.bind(null,n,s,e),[e]),s.getSnapshot!==t||i||Gt!==null&&Gt.memoizedState.tag&1){if(n.flags|=2048,mc(9,qb.bind(null,n,s,a,t),void 0,null),Qt===null)throw Error(re(349));mi&30||Hb(n,t,a)}return a}function Hb(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=_t.updateQueue,t===null?(t={lastEffect:null,stores:null},_t.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function qb(e,t,n,s){t.value=n,t.getSnapshot=s,Gb(t)&&Yb(e)}function Kb(e,t,n){return n(function(){Gb(t)&&Yb(e)})}function Gb(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Bs(e,n)}catch{return!0}}function Yb(e){var t=kr(e,1);t!==null&&Fs(t,e,1,-1)}function tw(e){var t=Qs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hc,lastRenderedState:e},t.queue=e,e=e.dispatch=$R.bind(null,_t,e),[t.memoizedState,e]}function mc(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=_t.updateQueue,t===null?(t={lastEffect:null,stores:null},_t.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function Qb(){return bs().memoizedState}function Jd(e,t,n,s){var a=Qs();_t.flags|=e,a.memoizedState=mc(1|t,n,void 0,s===void 0?null:s)}function yf(e,t,n,s){var a=bs();s=s===void 0?null:s;var i=void 0;if(Ft!==null){var o=Ft.memoizedState;if(i=o.destroy,s!==null&&yx(s,o.deps)){a.memoizedState=mc(t,n,i,s);return}}_t.flags|=e,a.memoizedState=mc(1|t,n,i,s)}function nw(e,t){return Jd(8390656,8,e,t)}function _x(e,t){return yf(2048,8,e,t)}function Xb(e,t){return yf(4,2,e,t)}function Jb(e,t){return yf(4,4,e,t)}function Zb(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function eS(e,t,n){return n=n!=null?n.concat([e]):null,yf(4,4,Zb.bind(null,t,e),n)}function bx(){}function tS(e,t){var n=bs();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&yx(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function nS(e,t){var n=bs();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&yx(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function sS(e,t,n){return mi&21?(Bs(n,t)||(n=lb(),_t.lanes|=n,pi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Un=!0),e.memoizedState=n)}function RR(e,t){var n=Ze;Ze=n!==0&&4>n?n:4,e(!0);var s=zh.transition;zh.transition={};try{e(!1),t()}finally{Ze=n,zh.transition=s}}function rS(){return bs().memoizedState}function AR(e,t,n){var s=va(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},aS(e))iS(t,n);else if(n=Bb(e,t,n,s),n!==null){var a=Pn();Fs(n,e,s,a),oS(n,t,s)}}function $R(e,t,n){var s=va(e),a={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(aS(e))iS(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(a.hasEagerState=!0,a.eagerState=l,Bs(l,o)){var c=t.interleaved;c===null?(a.next=a,mx(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}n=Bb(e,t,a,s),n!==null&&(a=Pn(),Fs(n,e,s,a),oS(n,t,s))}}function aS(e){var t=e.alternate;return e===_t||t!==null&&t===_t}function iS(e,t){Ll=Au=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function oS(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,ex(e,n)}}var $u={readContext:_s,useCallback:hn,useContext:hn,useEffect:hn,useImperativeHandle:hn,useInsertionEffect:hn,useLayoutEffect:hn,useMemo:hn,useReducer:hn,useRef:hn,useState:hn,useDebugValue:hn,useDeferredValue:hn,useTransition:hn,useMutableSource:hn,useSyncExternalStore:hn,useId:hn,unstable_isNewReconciler:!1},DR={readContext:_s,useCallback:function(e,t){return Qs().memoizedState=[e,t===void 0?null:t],e},useContext:_s,useEffect:nw,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Jd(4194308,4,Zb.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Jd(4194308,4,e,t)},useInsertionEffect:function(e,t){return Jd(4,2,e,t)},useMemo:function(e,t){var n=Qs();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=Qs();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=AR.bind(null,_t,e),[s.memoizedState,e]},useRef:function(e){var t=Qs();return e={current:e},t.memoizedState=e},useState:tw,useDebugValue:bx,useDeferredValue:function(e){return Qs().memoizedState=e},useTransition:function(){var e=tw(!1),t=e[0];return e=RR.bind(null,e[1]),Qs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=_t,a=Qs();if(gt){if(n===void 0)throw Error(re(407));n=n()}else{if(n=t(),Qt===null)throw Error(re(349));mi&30||Hb(s,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,nw(Kb.bind(null,s,i,e),[e]),s.flags|=2048,mc(9,qb.bind(null,s,i,n,t),void 0,null),n},useId:function(){var e=Qs(),t=Qt.identifierPrefix;if(gt){var n=Sr,s=br;n=(s&~(1<<32-Os(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=fc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=PR++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},MR={readContext:_s,useCallback:tS,useContext:_s,useEffect:_x,useImperativeHandle:eS,useInsertionEffect:Xb,useLayoutEffect:Jb,useMemo:nS,useReducer:Wh,useRef:Qb,useState:function(){return Wh(hc)},useDebugValue:bx,useDeferredValue:function(e){var t=bs();return sS(t,Ft.memoizedState,e)},useTransition:function(){var e=Wh(hc)[0],t=bs().memoizedState;return[e,t]},useMutableSource:zb,useSyncExternalStore:Wb,useId:rS,unstable_isNewReconciler:!1},LR={readContext:_s,useCallback:tS,useContext:_s,useEffect:_x,useImperativeHandle:eS,useInsertionEffect:Xb,useLayoutEffect:Jb,useMemo:nS,useReducer:Hh,useRef:Qb,useState:function(){return Hh(hc)},useDebugValue:bx,useDeferredValue:function(e){var t=bs();return Ft===null?t.memoizedState=e:sS(t,Ft.memoizedState,e)},useTransition:function(){var e=Hh(hc)[0],t=bs().memoizedState;return[e,t]},useMutableSource:zb,useSyncExternalStore:Wb,useId:rS,unstable_isNewReconciler:!1};function Ps(e,t){if(e&&e.defaultProps){t=bt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function vp(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:bt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var wf={isMounted:function(e){return(e=e._reactInternals)?bi(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=Pn(),a=va(e),i=Nr(s,a);i.payload=t,n!=null&&(i.callback=n),t=ga(e,i,a),t!==null&&(Fs(t,e,a,s),Qd(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=Pn(),a=va(e),i=Nr(s,a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=ga(e,i,a),t!==null&&(Fs(t,e,a,s),Qd(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Pn(),s=va(e),a=Nr(n,s);a.tag=2,t!=null&&(a.callback=t),t=ga(e,a,s),t!==null&&(Fs(t,e,s,n),Qd(t,e,s))}};function sw(e,t,n,s,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,o):t.prototype&&t.prototype.isPureReactComponent?!ic(n,s)||!ic(a,i):!0}function lS(e,t,n){var s=!1,a=ba,i=t.contextType;return typeof i=="object"&&i!==null?i=_s(i):(a=Wn(t)?fi:yn.current,s=t.contextTypes,i=(s=s!=null)?Co(e,a):ba),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=wf,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function rw(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&wf.enqueueReplaceState(t,t.state,null)}function yp(e,t,n,s){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},px(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=_s(i):(i=Wn(t)?fi:yn.current,a.context=Co(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(vp(e,t,i,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&wf.enqueueReplaceState(a,a.state,null),Pu(e,n,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Ro(e,t){try{var n="",s=t;do n+=d2(s),s=s.return;while(s);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function qh(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function wp(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var IR=typeof WeakMap=="function"?WeakMap:Map;function cS(e,t,n){n=Nr(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){Mu||(Mu=!0,Pp=s),wp(e,t)},n}function dS(e,t,n){n=Nr(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;n.payload=function(){return s(a)},n.callback=function(){wp(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){wp(e,t),typeof s!="function"&&(xa===null?xa=new Set([this]):xa.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function aw(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new IR;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(n)||(a.add(n),e=XR.bind(null,e,t,n),t.then(e,e))}function iw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ow(e,t,n,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Nr(-1,1),t.tag=2,ga(n,t,1))),n.lanes|=1),e)}var OR=Or.ReactCurrentOwner,Un=!1;function En(e,t,n,s){t.child=e===null?Fb(t,null,n,s):ko(t,e.child,n,s)}function lw(e,t,n,s,a){n=n.render;var i=t.ref;return uo(t,a),s=wx(e,t,n,s,i,a),n=jx(),e!==null&&!Un?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Pr(e,t,a)):(gt&&n&&lx(t),t.flags|=1,En(e,t,s,a),t.child)}function cw(e,t,n,s,a){if(e===null){var i=n.type;return typeof i=="function"&&!Rx(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,uS(e,t,i,s,a)):(e=nu(n.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ic,n(o,s)&&e.ref===t.ref)return Pr(e,t,a)}return t.flags|=1,e=ya(i,s),e.ref=t.ref,e.return=t,t.child=e}function uS(e,t,n,s,a){if(e!==null){var i=e.memoizedProps;if(ic(i,s)&&e.ref===t.ref)if(Un=!1,t.pendingProps=s=i,(e.lanes&a)!==0)e.flags&131072&&(Un=!0);else return t.lanes=e.lanes,Pr(e,t,a)}return jp(e,t,n,s,a)}function fS(e,t,n){var s=t.pendingProps,a=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(eo,qn),qn|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,rt(eo,qn),qn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:n,rt(eo,qn),qn|=s}else i!==null?(s=i.baseLanes|n,t.memoizedState=null):s=n,rt(eo,qn),qn|=s;return En(e,t,a,n),t.child}function hS(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function jp(e,t,n,s,a){var i=Wn(n)?fi:yn.current;return i=Co(t,i),uo(t,a),n=wx(e,t,n,s,i,a),s=jx(),e!==null&&!Un?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Pr(e,t,a)):(gt&&s&&lx(t),t.flags|=1,En(e,t,n,a),t.child)}function dw(e,t,n,s,a){if(Wn(n)){var i=!0;Nu(t)}else i=!1;if(uo(t,a),t.stateNode===null)Zd(e,t),lS(t,n,s),yp(t,n,s,a),s=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=_s(d):(d=Wn(n)?fi:yn.current,d=Co(t,d));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==d)&&rw(t,o,s,d),Xr=!1;var m=t.memoizedState;o.state=m,Pu(t,s,o,a),c=t.memoizedState,l!==s||m!==c||zn.current||Xr?(typeof u=="function"&&(vp(t,n,u,s),c=t.memoizedState),(l=Xr||sw(t,n,l,s,m,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=d,s=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,Ub(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Ps(t.type,l),o.props=d,f=t.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=_s(c):(c=Wn(n)?fi:yn.current,c=Co(t,c));var g=n.getDerivedStateFromProps;(u=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==c)&&rw(t,o,s,c),Xr=!1,m=t.memoizedState,o.state=m,Pu(t,s,o,a);var j=t.memoizedState;l!==f||m!==j||zn.current||Xr?(typeof g=="function"&&(vp(t,n,g,s),j=t.memoizedState),(d=Xr||sw(t,n,d,s,m,j,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,j,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,j,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=j),o.props=s,o.state=j,o.context=c,s=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),s=!1)}return _p(e,t,n,s,i,a)}function _p(e,t,n,s,a,i){hS(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return a&&Yy(t,n,!1),Pr(e,t,i);s=t.stateNode,OR.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=ko(t,e.child,null,i),t.child=ko(t,null,l,i)):En(e,t,l,i),t.memoizedState=s.state,a&&Yy(t,n,!0),t.child}function mS(e){var t=e.stateNode;t.pendingContext?Gy(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Gy(e,t.context,!1),gx(e,t.containerInfo)}function uw(e,t,n,s,a){return To(),dx(a),t.flags|=256,En(e,t,n,s),t.child}var bp={dehydrated:null,treeContext:null,retryLane:0};function Sp(e){return{baseLanes:e,cachePool:null,transitions:null}}function pS(e,t,n){var s=t.pendingProps,a=yt.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),rt(yt,a&1),e===null)return gp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,i?(s=t.mode,i=t.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=bf(o,s,0,null),e=ci(e,s,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Sp(n),t.memoizedState=bp,e):Sx(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return FR(e,t,o,s,l,a,n);if(i){i=s.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=ya(a,c),s.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=ya(l,i):(i=ci(i,o,n,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,o=e.child.memoizedState,o=o===null?Sp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=bp,s}return i=e.child,e=i.sibling,s=ya(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Sx(e,t){return t=bf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Sd(e,t,n,s){return s!==null&&dx(s),ko(t,e.child,null,n),e=Sx(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function FR(e,t,n,s,a,i,o){if(n)return t.flags&256?(t.flags&=-257,s=qh(Error(re(422))),Sd(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,a=t.mode,s=bf({mode:"visible",children:s.children},a,0,null),i=ci(i,a,o,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&ko(t,e.child,null,o),t.child.memoizedState=Sp(o),t.memoizedState=bp,i);if(!(t.mode&1))return Sd(e,t,o,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var l=s.dgst;return s=l,i=Error(re(419)),s=qh(i,s,void 0),Sd(e,t,o,s)}if(l=(o&e.childLanes)!==0,Un||l){if(s=Qt,s!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,kr(e,a),Fs(s,e,a,-1))}return Px(),s=qh(Error(re(421))),Sd(e,t,o,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=JR.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Gn=pa(a.nextSibling),Yn=t,gt=!0,Ls=null,e!==null&&(ps[gs++]=br,ps[gs++]=Sr,ps[gs++]=hi,br=e.id,Sr=e.overflow,hi=t),t=Sx(t,s.children),t.flags|=4096,t)}function fw(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),xp(e.return,t,n)}function Kh(e,t,n,s,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=a)}function gS(e,t,n){var s=t.pendingProps,a=s.revealOrder,i=s.tail;if(En(e,t,s.children,n),s=yt.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fw(e,n,t);else if(e.tag===19)fw(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(rt(yt,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&Ru(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Kh(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Ru(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Kh(t,!0,n,null,i);break;case"together":Kh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Pr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),pi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(re(153));if(t.child!==null){for(e=t.child,n=ya(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ya(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function BR(e,t,n){switch(t.tag){case 3:mS(t),To();break;case 5:Vb(t);break;case 1:Wn(t.type)&&Nu(t);break;case 4:gx(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;rt(Tu,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(rt(yt,yt.current&1),t.flags|=128,null):n&t.child.childLanes?pS(e,t,n):(rt(yt,yt.current&1),e=Pr(e,t,n),e!==null?e.sibling:null);rt(yt,yt.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return gS(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),rt(yt,yt.current),s)break;return null;case 22:case 23:return t.lanes=0,fS(e,t,n)}return Pr(e,t,n)}var xS,Np,vS,yS;xS=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Np=function(){};vS=function(e,t,n,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,Za(ir.current);var i=null;switch(n){case"input":a=Km(e,a),s=Km(e,s),i=[];break;case"select":a=bt({},a,{value:void 0}),s=bt({},s,{value:void 0}),i=[];break;case"textarea":a=Qm(e,a),s=Qm(e,s),i=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=bu)}Jm(n,s);var o;n=null;for(d in a)if(!s.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Zl.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in s){var c=s[d];if(l=a!=null?a[d]:void 0,s.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Zl.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&dt("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};yS=function(e,t,n,s){n!==s&&(t.flags|=4)};function gl(e,t){if(!gt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function mn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function UR(e,t,n){var s=t.pendingProps;switch(cx(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mn(t),null;case 1:return Wn(t.type)&&Su(),mn(t),null;case 3:return s=t.stateNode,Po(),ft(zn),ft(yn),vx(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(_d(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ls!==null&&($p(Ls),Ls=null))),Np(e,t),mn(t),null;case 5:xx(t);var a=Za(uc.current);if(n=t.type,e!==null&&t.stateNode!=null)vS(e,t,n,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(re(166));return mn(t),null}if(e=Za(ir.current),_d(t)){s=t.stateNode,n=t.type;var i=t.memoizedProps;switch(s[nr]=t,s[cc]=i,e=(t.mode&1)!==0,n){case"dialog":dt("cancel",s),dt("close",s);break;case"iframe":case"object":case"embed":dt("load",s);break;case"video":case"audio":for(a=0;a<El.length;a++)dt(El[a],s);break;case"source":dt("error",s);break;case"img":case"image":case"link":dt("error",s),dt("load",s);break;case"details":dt("toggle",s);break;case"input":jy(s,i),dt("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},dt("invalid",s);break;case"textarea":by(s,i),dt("invalid",s)}Jm(n,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?s.textContent!==l&&(i.suppressHydrationWarning!==!0&&jd(s.textContent,l,e),a=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&jd(s.textContent,l,e),a=["children",""+l]):Zl.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&dt("scroll",s)}switch(n){case"input":hd(s),_y(s,i,!0);break;case"textarea":hd(s),Sy(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=bu)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=K_(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(n,{is:s.is}):(e=o.createElement(n),n==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,n),e[nr]=t,e[cc]=s,xS(e,t,!1,!1),t.stateNode=e;e:{switch(o=Zm(n,s),n){case"dialog":dt("cancel",e),dt("close",e),a=s;break;case"iframe":case"object":case"embed":dt("load",e),a=s;break;case"video":case"audio":for(a=0;a<El.length;a++)dt(El[a],e);a=s;break;case"source":dt("error",e),a=s;break;case"img":case"image":case"link":dt("error",e),dt("load",e),a=s;break;case"details":dt("toggle",e),a=s;break;case"input":jy(e,s),a=Km(e,s),dt("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=bt({},s,{value:void 0}),dt("invalid",e);break;case"textarea":by(e,s),a=Qm(e,s),dt("invalid",e);break;default:a=s}Jm(n,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Q_(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&G_(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ec(e,c):typeof c=="number"&&ec(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Zl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&dt("scroll",e):c!=null&&Gg(e,i,c,o))}switch(n){case"input":hd(e),_y(e,s,!1);break;case"textarea":hd(e),Sy(e);break;case"option":s.value!=null&&e.setAttribute("value",""+_a(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?io(e,!!s.multiple,i,!1):s.defaultValue!=null&&io(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=bu)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return mn(t),null;case 6:if(e&&t.stateNode!=null)yS(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(re(166));if(n=Za(uc.current),Za(ir.current),_d(t)){if(s=t.stateNode,n=t.memoizedProps,s[nr]=t,(i=s.nodeValue!==n)&&(e=Yn,e!==null))switch(e.tag){case 3:jd(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&jd(s.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[nr]=t,t.stateNode=s}return mn(t),null;case 13:if(ft(yt),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(gt&&Gn!==null&&t.mode&1&&!(t.flags&128))Ib(),To(),t.flags|=98560,i=!1;else if(i=_d(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(re(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(re(317));i[nr]=t}else To(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;mn(t),i=!1}else Ls!==null&&($p(Ls),Ls=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||yt.current&1?Ut===0&&(Ut=3):Px())),t.updateQueue!==null&&(t.flags|=4),mn(t),null);case 4:return Po(),Np(e,t),e===null&&oc(t.stateNode.containerInfo),mn(t),null;case 10:return hx(t.type._context),mn(t),null;case 17:return Wn(t.type)&&Su(),mn(t),null;case 19:if(ft(yt),i=t.memoizedState,i===null)return mn(t),null;if(s=(t.flags&128)!==0,o=i.rendering,o===null)if(s)gl(i,!1);else{if(Ut!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ru(e),o!==null){for(t.flags|=128,gl(i,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)i=n,e=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return rt(yt,yt.current&1|2),t.child}e=e.sibling}i.tail!==null&&At()>Ao&&(t.flags|=128,s=!0,gl(i,!1),t.lanes=4194304)}else{if(!s)if(e=Ru(o),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),gl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!gt)return mn(t),null}else 2*At()-i.renderingStartTime>Ao&&n!==1073741824&&(t.flags|=128,s=!0,gl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=At(),t.sibling=null,n=yt.current,rt(yt,s?n&1|2:n&1),t):(mn(t),null);case 22:case 23:return kx(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?qn&1073741824&&(mn(t),t.subtreeFlags&6&&(t.flags|=8192)):mn(t),null;case 24:return null;case 25:return null}throw Error(re(156,t.tag))}function VR(e,t){switch(cx(t),t.tag){case 1:return Wn(t.type)&&Su(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Po(),ft(zn),ft(yn),vx(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return xx(t),null;case 13:if(ft(yt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(re(340));To()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ft(yt),null;case 4:return Po(),null;case 10:return hx(t.type._context),null;case 22:case 23:return kx(),null;case 24:return null;default:return null}}var Nd=!1,xn=!1,zR=typeof WeakSet=="function"?WeakSet:Set,he=null;function Zi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){Tt(e,t,s)}else n.current=null}function Ep(e,t,n){try{n()}catch(s){Tt(e,t,s)}}var hw=!1;function WR(e,t){if(cp=wu,e=Sb(),ox(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var a=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,f=e,m=null;t:for(;;){for(var g;f!==n||a!==0&&f.nodeType!==3||(l=o+a),f!==i||s!==0&&f.nodeType!==3||(c=o+s),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)m=f,f=g;for(;;){if(f===e)break t;if(m===n&&++d===a&&(l=o),m===i&&++u===s&&(c=o),(g=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=g}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(dp={focusedElem:e,selectionRange:n},wu=!1,he=t;he!==null;)if(t=he,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,he=e;else for(;he!==null;){t=he;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var v=j.memoizedProps,w=j.memoizedState,x=t.stateNode,p=x.getSnapshotBeforeUpdate(t.elementType===t.type?v:Ps(t.type,v),w);x.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(_){Tt(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,he=e;break}he=t.return}return j=hw,hw=!1,j}function Il(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Ep(t,n,i)}a=a.next}while(a!==s)}}function jf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function Cp(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function wS(e){var t=e.alternate;t!==null&&(e.alternate=null,wS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[nr],delete t[cc],delete t[hp],delete t[ER],delete t[CR])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function jS(e){return e.tag===5||e.tag===3||e.tag===4}function mw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||jS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Tp(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=bu));else if(s!==4&&(e=e.child,e!==null))for(Tp(e,t,n),e=e.sibling;e!==null;)Tp(e,t,n),e=e.sibling}function kp(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(kp(e,t,n),e=e.sibling;e!==null;)kp(e,t,n),e=e.sibling}var nn=null,Ds=!1;function Vr(e,t,n){for(n=n.child;n!==null;)_S(e,t,n),n=n.sibling}function _S(e,t,n){if(ar&&typeof ar.onCommitFiberUnmount=="function")try{ar.onCommitFiberUnmount(hf,n)}catch{}switch(n.tag){case 5:xn||Zi(n,t);case 6:var s=nn,a=Ds;nn=null,Vr(e,t,n),nn=s,Ds=a,nn!==null&&(Ds?(e=nn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):nn.removeChild(n.stateNode));break;case 18:nn!==null&&(Ds?(e=nn,n=n.stateNode,e.nodeType===8?Bh(e.parentNode,n):e.nodeType===1&&Bh(e,n),rc(e)):Bh(nn,n.stateNode));break;case 4:s=nn,a=Ds,nn=n.stateNode.containerInfo,Ds=!0,Vr(e,t,n),nn=s,Ds=a;break;case 0:case 11:case 14:case 15:if(!xn&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ep(n,t,o),a=a.next}while(a!==s)}Vr(e,t,n);break;case 1:if(!xn&&(Zi(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(l){Tt(n,t,l)}Vr(e,t,n);break;case 21:Vr(e,t,n);break;case 22:n.mode&1?(xn=(s=xn)||n.memoizedState!==null,Vr(e,t,n),xn=s):Vr(e,t,n);break;default:Vr(e,t,n)}}function pw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new zR),t.forEach(function(s){var a=ZR.bind(null,e,s);n.has(s)||(n.add(s),s.then(a,a))})}}function Es(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var a=n[s];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:nn=l.stateNode,Ds=!1;break e;case 3:nn=l.stateNode.containerInfo,Ds=!0;break e;case 4:nn=l.stateNode.containerInfo,Ds=!0;break e}l=l.return}if(nn===null)throw Error(re(160));_S(i,o,a),nn=null,Ds=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){Tt(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)bS(t,e),t=t.sibling}function bS(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Es(t,e),Ys(e),s&4){try{Il(3,e,e.return),jf(3,e)}catch(v){Tt(e,e.return,v)}try{Il(5,e,e.return)}catch(v){Tt(e,e.return,v)}}break;case 1:Es(t,e),Ys(e),s&512&&n!==null&&Zi(n,n.return);break;case 5:if(Es(t,e),Ys(e),s&512&&n!==null&&Zi(n,n.return),e.flags&32){var a=e.stateNode;try{ec(a,"")}catch(v){Tt(e,e.return,v)}}if(s&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&H_(a,i),Zm(l,o);var d=Zm(l,i);for(o=0;o<c.length;o+=2){var u=c[o],f=c[o+1];u==="style"?Q_(a,f):u==="dangerouslySetInnerHTML"?G_(a,f):u==="children"?ec(a,f):Gg(a,u,f,d)}switch(l){case"input":Gm(a,i);break;case"textarea":q_(a,i);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?io(a,!!i.multiple,g,!1):m!==!!i.multiple&&(i.defaultValue!=null?io(a,!!i.multiple,i.defaultValue,!0):io(a,!!i.multiple,i.multiple?[]:"",!1))}a[cc]=i}catch(v){Tt(e,e.return,v)}}break;case 6:if(Es(t,e),Ys(e),s&4){if(e.stateNode===null)throw Error(re(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(v){Tt(e,e.return,v)}}break;case 3:if(Es(t,e),Ys(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{rc(t.containerInfo)}catch(v){Tt(e,e.return,v)}break;case 4:Es(t,e),Ys(e);break;case 13:Es(t,e),Ys(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Cx=At())),s&4&&pw(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(xn=(d=xn)||u,Es(t,e),xn=d):Es(t,e),Ys(e),s&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(he=e,u=e.child;u!==null;){for(f=he=u;he!==null;){switch(m=he,g=m.child,m.tag){case 0:case 11:case 14:case 15:Il(4,m,m.return);break;case 1:Zi(m,m.return);var j=m.stateNode;if(typeof j.componentWillUnmount=="function"){s=m,n=m.return;try{t=s,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(v){Tt(s,n,v)}}break;case 5:Zi(m,m.return);break;case 22:if(m.memoizedState!==null){xw(f);continue}}g!==null?(g.return=m,he=g):xw(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{a=f.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Y_("display",o))}catch(v){Tt(e,e.return,v)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(v){Tt(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Es(t,e),Ys(e),s&4&&pw(e);break;case 21:break;default:Es(t,e),Ys(e)}}function Ys(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(jS(n)){var s=n;break e}n=n.return}throw Error(re(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(ec(a,""),s.flags&=-33);var i=mw(e);kp(e,i,a);break;case 3:case 4:var o=s.stateNode.containerInfo,l=mw(e);Tp(e,l,o);break;default:throw Error(re(161))}}catch(c){Tt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function HR(e,t,n){he=e,SS(e)}function SS(e,t,n){for(var s=(e.mode&1)!==0;he!==null;){var a=he,i=a.child;if(a.tag===22&&s){var o=a.memoizedState!==null||Nd;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||xn;l=Nd;var d=xn;if(Nd=o,(xn=c)&&!d)for(he=a;he!==null;)o=he,c=o.child,o.tag===22&&o.memoizedState!==null?vw(a):c!==null?(c.return=o,he=c):vw(a);for(;i!==null;)he=i,SS(i),i=i.sibling;he=a,Nd=l,xn=d}gw(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,he=i):gw(e)}}function gw(e){for(;he!==null;){var t=he;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:xn||jf(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!xn)if(n===null)s.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:Ps(t.type,n.memoizedProps);s.componentDidUpdate(a,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&ew(t,i,s);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ew(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&rc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}xn||t.flags&512&&Cp(t)}catch(m){Tt(t,t.return,m)}}if(t===e){he=null;break}if(n=t.sibling,n!==null){n.return=t.return,he=n;break}he=t.return}}function xw(e){for(;he!==null;){var t=he;if(t===e){he=null;break}var n=t.sibling;if(n!==null){n.return=t.return,he=n;break}he=t.return}}function vw(e){for(;he!==null;){var t=he;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{jf(4,t)}catch(c){Tt(t,n,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(c){Tt(t,a,c)}}var i=t.return;try{Cp(t)}catch(c){Tt(t,i,c)}break;case 5:var o=t.return;try{Cp(t)}catch(c){Tt(t,o,c)}}}catch(c){Tt(t,t.return,c)}if(t===e){he=null;break}var l=t.sibling;if(l!==null){l.return=t.return,he=l;break}he=t.return}}var qR=Math.ceil,Du=Or.ReactCurrentDispatcher,Nx=Or.ReactCurrentOwner,ys=Or.ReactCurrentBatchConfig,ze=0,Qt=null,Lt=null,ln=0,qn=0,eo=ka(0),Ut=0,pc=null,pi=0,_f=0,Ex=0,Ol=null,Fn=null,Cx=0,Ao=1/0,vr=null,Mu=!1,Pp=null,xa=null,Ed=!1,ca=null,Lu=0,Fl=0,Rp=null,eu=-1,tu=0;function Pn(){return ze&6?At():eu!==-1?eu:eu=At()}function va(e){return e.mode&1?ze&2&&ln!==0?ln&-ln:kR.transition!==null?(tu===0&&(tu=lb()),tu):(e=Ze,e!==0||(e=window.event,e=e===void 0?16:pb(e.type)),e):1}function Fs(e,t,n,s){if(50<Fl)throw Fl=0,Rp=null,Error(re(185));Fc(e,n,s),(!(ze&2)||e!==Qt)&&(e===Qt&&(!(ze&2)&&(_f|=n),Ut===4&&ta(e,ln)),Hn(e,s),n===1&&ze===0&&!(t.mode&1)&&(Ao=At()+500,vf&&Pa()))}function Hn(e,t){var n=e.callbackNode;k2(e,t);var s=yu(e,e===Qt?ln:0);if(s===0)n!==null&&Cy(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&Cy(n),t===1)e.tag===0?TR(yw.bind(null,e)):Db(yw.bind(null,e)),SR(function(){!(ze&6)&&Pa()}),n=null;else{switch(cb(s)){case 1:n=Zg;break;case 4:n=ib;break;case 16:n=vu;break;case 536870912:n=ob;break;default:n=vu}n=AS(n,NS.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function NS(e,t){if(eu=-1,tu=0,ze&6)throw Error(re(327));var n=e.callbackNode;if(fo()&&e.callbackNode!==n)return null;var s=yu(e,e===Qt?ln:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Iu(e,s);else{t=s;var a=ze;ze|=2;var i=CS();(Qt!==e||ln!==t)&&(vr=null,Ao=At()+500,li(e,t));do try{YR();break}catch(l){ES(e,l)}while(!0);fx(),Du.current=i,ze=a,Lt!==null?t=0:(Qt=null,ln=0,t=Ut)}if(t!==0){if(t===2&&(a=rp(e),a!==0&&(s=a,t=Ap(e,a))),t===1)throw n=pc,li(e,0),ta(e,s),Hn(e,At()),n;if(t===6)ta(e,s);else{if(a=e.current.alternate,!(s&30)&&!KR(a)&&(t=Iu(e,s),t===2&&(i=rp(e),i!==0&&(s=i,t=Ap(e,i))),t===1))throw n=pc,li(e,0),ta(e,s),Hn(e,At()),n;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(re(345));case 2:Ka(e,Fn,vr);break;case 3:if(ta(e,s),(s&130023424)===s&&(t=Cx+500-At(),10<t)){if(yu(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){Pn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=fp(Ka.bind(null,e,Fn,vr),t);break}Ka(e,Fn,vr);break;case 4:if(ta(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var o=31-Os(s);i=1<<o,o=t[o],o>a&&(a=o),s&=~i}if(s=a,s=At()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*qR(s/1960))-s,10<s){e.timeoutHandle=fp(Ka.bind(null,e,Fn,vr),s);break}Ka(e,Fn,vr);break;case 5:Ka(e,Fn,vr);break;default:throw Error(re(329))}}}return Hn(e,At()),e.callbackNode===n?NS.bind(null,e):null}function Ap(e,t){var n=Ol;return e.current.memoizedState.isDehydrated&&(li(e,t).flags|=256),e=Iu(e,t),e!==2&&(t=Fn,Fn=n,t!==null&&$p(t)),e}function $p(e){Fn===null?Fn=e:Fn.push.apply(Fn,e)}function KR(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var a=n[s],i=a.getSnapshot;a=a.value;try{if(!Bs(i(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ta(e,t){for(t&=~Ex,t&=~_f,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Os(t),s=1<<n;e[n]=-1,t&=~s}}function yw(e){if(ze&6)throw Error(re(327));fo();var t=yu(e,0);if(!(t&1))return Hn(e,At()),null;var n=Iu(e,t);if(e.tag!==0&&n===2){var s=rp(e);s!==0&&(t=s,n=Ap(e,s))}if(n===1)throw n=pc,li(e,0),ta(e,t),Hn(e,At()),n;if(n===6)throw Error(re(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ka(e,Fn,vr),Hn(e,At()),null}function Tx(e,t){var n=ze;ze|=1;try{return e(t)}finally{ze=n,ze===0&&(Ao=At()+500,vf&&Pa())}}function gi(e){ca!==null&&ca.tag===0&&!(ze&6)&&fo();var t=ze;ze|=1;var n=ys.transition,s=Ze;try{if(ys.transition=null,Ze=1,e)return e()}finally{Ze=s,ys.transition=n,ze=t,!(ze&6)&&Pa()}}function kx(){qn=eo.current,ft(eo)}function li(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,bR(n)),Lt!==null)for(n=Lt.return;n!==null;){var s=n;switch(cx(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Su();break;case 3:Po(),ft(zn),ft(yn),vx();break;case 5:xx(s);break;case 4:Po();break;case 13:ft(yt);break;case 19:ft(yt);break;case 10:hx(s.type._context);break;case 22:case 23:kx()}n=n.return}if(Qt=e,Lt=e=ya(e.current,null),ln=qn=t,Ut=0,pc=null,Ex=_f=pi=0,Fn=Ol=null,Ja!==null){for(t=0;t<Ja.length;t++)if(n=Ja[t],s=n.interleaved,s!==null){n.interleaved=null;var a=s.next,i=n.pending;if(i!==null){var o=i.next;i.next=a,s.next=o}n.pending=s}Ja=null}return e}function ES(e,t){do{var n=Lt;try{if(fx(),Xd.current=$u,Au){for(var s=_t.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Au=!1}if(mi=0,Gt=Ft=_t=null,Ll=!1,fc=0,Nx.current=null,n===null||n.return===null){Ut=1,pc=t,Lt=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=ln,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=iw(o);if(g!==null){g.flags&=-257,ow(g,o,l,i,t),g.mode&1&&aw(i,d,t),t=g,c=d;var j=t.updateQueue;if(j===null){var v=new Set;v.add(c),t.updateQueue=v}else j.add(c);break e}else{if(!(t&1)){aw(i,d,t),Px();break e}c=Error(re(426))}}else if(gt&&l.mode&1){var w=iw(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),ow(w,o,l,i,t),dx(Ro(c,l));break e}}i=c=Ro(c,l),Ut!==4&&(Ut=2),Ol===null?Ol=[i]:Ol.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=cS(i,c,t);Zy(i,x);break e;case 1:l=c;var p=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(xa===null||!xa.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=dS(i,l,t);Zy(i,_);break e}}i=i.return}while(i!==null)}kS(n)}catch(S){t=S,Lt===n&&n!==null&&(Lt=n=n.return);continue}break}while(!0)}function CS(){var e=Du.current;return Du.current=$u,e===null?$u:e}function Px(){(Ut===0||Ut===3||Ut===2)&&(Ut=4),Qt===null||!(pi&268435455)&&!(_f&268435455)||ta(Qt,ln)}function Iu(e,t){var n=ze;ze|=2;var s=CS();(Qt!==e||ln!==t)&&(vr=null,li(e,t));do try{GR();break}catch(a){ES(e,a)}while(!0);if(fx(),ze=n,Du.current=s,Lt!==null)throw Error(re(261));return Qt=null,ln=0,Ut}function GR(){for(;Lt!==null;)TS(Lt)}function YR(){for(;Lt!==null&&!w2();)TS(Lt)}function TS(e){var t=RS(e.alternate,e,qn);e.memoizedProps=e.pendingProps,t===null?kS(e):Lt=t,Nx.current=null}function kS(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=VR(n,t),n!==null){n.flags&=32767,Lt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ut=6,Lt=null;return}}else if(n=UR(n,t,qn),n!==null){Lt=n;return}if(t=t.sibling,t!==null){Lt=t;return}Lt=t=e}while(t!==null);Ut===0&&(Ut=5)}function Ka(e,t,n){var s=Ze,a=ys.transition;try{ys.transition=null,Ze=1,QR(e,t,n,s)}finally{ys.transition=a,Ze=s}return null}function QR(e,t,n,s){do fo();while(ca!==null);if(ze&6)throw Error(re(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(re(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(P2(e,i),e===Qt&&(Lt=Qt=null,ln=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ed||(Ed=!0,AS(vu,function(){return fo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ys.transition,ys.transition=null;var o=Ze;Ze=1;var l=ze;ze|=4,Nx.current=null,WR(e,n),bS(n,e),gR(dp),wu=!!cp,dp=cp=null,e.current=n,HR(n),j2(),ze=l,Ze=o,ys.transition=i}else e.current=n;if(Ed&&(Ed=!1,ca=e,Lu=a),i=e.pendingLanes,i===0&&(xa=null),S2(n.stateNode),Hn(e,At()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],s(a.value,{componentStack:a.stack,digest:a.digest});if(Mu)throw Mu=!1,e=Pp,Pp=null,e;return Lu&1&&e.tag!==0&&fo(),i=e.pendingLanes,i&1?e===Rp?Fl++:(Fl=0,Rp=e):Fl=0,Pa(),null}function fo(){if(ca!==null){var e=cb(Lu),t=ys.transition,n=Ze;try{if(ys.transition=null,Ze=16>e?16:e,ca===null)var s=!1;else{if(e=ca,ca=null,Lu=0,ze&6)throw Error(re(331));var a=ze;for(ze|=4,he=e.current;he!==null;){var i=he,o=i.child;if(he.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(he=d;he!==null;){var u=he;switch(u.tag){case 0:case 11:case 15:Il(8,u,i)}var f=u.child;if(f!==null)f.return=u,he=f;else for(;he!==null;){u=he;var m=u.sibling,g=u.return;if(wS(u),u===d){he=null;break}if(m!==null){m.return=g,he=m;break}he=g}}}var j=i.alternate;if(j!==null){var v=j.child;if(v!==null){j.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}he=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,he=o;else e:for(;he!==null;){if(i=he,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Il(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,he=x;break e}he=i.return}}var p=e.current;for(he=p;he!==null;){o=he;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,he=y;else e:for(o=p;he!==null;){if(l=he,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:jf(9,l)}}catch(S){Tt(l,l.return,S)}if(l===o){he=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,he=_;break e}he=l.return}}if(ze=a,Pa(),ar&&typeof ar.onPostCommitFiberRoot=="function")try{ar.onPostCommitFiberRoot(hf,e)}catch{}s=!0}return s}finally{Ze=n,ys.transition=t}}return!1}function ww(e,t,n){t=Ro(n,t),t=cS(e,t,1),e=ga(e,t,1),t=Pn(),e!==null&&(Fc(e,1,t),Hn(e,t))}function Tt(e,t,n){if(e.tag===3)ww(e,e,n);else for(;t!==null;){if(t.tag===3){ww(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(xa===null||!xa.has(s))){e=Ro(n,e),e=dS(t,e,1),t=ga(t,e,1),e=Pn(),t!==null&&(Fc(t,1,e),Hn(t,e));break}}t=t.return}}function XR(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=Pn(),e.pingedLanes|=e.suspendedLanes&n,Qt===e&&(ln&n)===n&&(Ut===4||Ut===3&&(ln&130023424)===ln&&500>At()-Cx?li(e,0):Ex|=n),Hn(e,t)}function PS(e,t){t===0&&(e.mode&1?(t=gd,gd<<=1,!(gd&130023424)&&(gd=4194304)):t=1);var n=Pn();e=kr(e,t),e!==null&&(Fc(e,t,n),Hn(e,n))}function JR(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),PS(e,n)}function ZR(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(re(314))}s!==null&&s.delete(t),PS(e,n)}var RS;RS=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||zn.current)Un=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Un=!1,BR(e,t,n);Un=!!(e.flags&131072)}else Un=!1,gt&&t.flags&1048576&&Mb(t,Cu,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Zd(e,t),e=t.pendingProps;var a=Co(t,yn.current);uo(t,n),a=wx(null,t,s,e,a,n);var i=jx();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Wn(s)?(i=!0,Nu(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,px(t),a.updater=wf,t.stateNode=a,a._reactInternals=t,yp(t,s,e,n),t=_p(null,t,s,!0,i,n)):(t.tag=0,gt&&i&&lx(t),En(null,t,a,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Zd(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=tA(s),e=Ps(s,e),a){case 0:t=jp(null,t,s,e,n);break e;case 1:t=dw(null,t,s,e,n);break e;case 11:t=lw(null,t,s,e,n);break e;case 14:t=cw(null,t,s,Ps(s.type,e),n);break e}throw Error(re(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Ps(s,a),jp(e,t,s,a,n);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Ps(s,a),dw(e,t,s,a,n);case 3:e:{if(mS(t),e===null)throw Error(re(387));s=t.pendingProps,i=t.memoizedState,a=i.element,Ub(e,t),Pu(t,s,null,n);var o=t.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Ro(Error(re(423)),t),t=uw(e,t,s,n,a);break e}else if(s!==a){a=Ro(Error(re(424)),t),t=uw(e,t,s,n,a);break e}else for(Gn=pa(t.stateNode.containerInfo.firstChild),Yn=t,gt=!0,Ls=null,n=Fb(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(To(),s===a){t=Pr(e,t,n);break e}En(e,t,s,n)}t=t.child}return t;case 5:return Vb(t),e===null&&gp(t),s=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,up(s,a)?o=null:i!==null&&up(s,i)&&(t.flags|=32),hS(e,t),En(e,t,o,n),t.child;case 6:return e===null&&gp(t),null;case 13:return pS(e,t,n);case 4:return gx(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=ko(t,null,s,n):En(e,t,s,n),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Ps(s,a),lw(e,t,s,a,n);case 7:return En(e,t,t.pendingProps,n),t.child;case 8:return En(e,t,t.pendingProps.children,n),t.child;case 12:return En(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,rt(Tu,s._currentValue),s._currentValue=o,i!==null)if(Bs(i.value,o)){if(i.children===a.children&&!zn.current){t=Pr(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=Nr(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),xp(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(re(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),xp(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}En(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,uo(t,n),a=_s(a),s=s(a),t.flags|=1,En(e,t,s,n),t.child;case 14:return s=t.type,a=Ps(s,t.pendingProps),a=Ps(s.type,a),cw(e,t,s,a,n);case 15:return uS(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Ps(s,a),Zd(e,t),t.tag=1,Wn(s)?(e=!0,Nu(t)):e=!1,uo(t,n),lS(t,s,a),yp(t,s,a,n),_p(null,t,s,!0,e,n);case 19:return gS(e,t,n);case 22:return fS(e,t,n)}throw Error(re(156,t.tag))};function AS(e,t){return ab(e,t)}function eA(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xs(e,t,n,s){return new eA(e,t,n,s)}function Rx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function tA(e){if(typeof e=="function")return Rx(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Qg)return 11;if(e===Xg)return 14}return 2}function ya(e,t){var n=e.alternate;return n===null?(n=xs(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function nu(e,t,n,s,a,i){var o=2;if(s=e,typeof e=="function")Rx(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Wi:return ci(n.children,a,i,t);case Yg:o=8,a|=8;break;case zm:return e=xs(12,n,t,a|2),e.elementType=zm,e.lanes=i,e;case Wm:return e=xs(13,n,t,a),e.elementType=Wm,e.lanes=i,e;case Hm:return e=xs(19,n,t,a),e.elementType=Hm,e.lanes=i,e;case V_:return bf(n,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case B_:o=10;break e;case U_:o=9;break e;case Qg:o=11;break e;case Xg:o=14;break e;case Qr:o=16,s=null;break e}throw Error(re(130,e==null?e:typeof e,""))}return t=xs(o,n,t,a),t.elementType=e,t.type=s,t.lanes=i,t}function ci(e,t,n,s){return e=xs(7,e,s,t),e.lanes=n,e}function bf(e,t,n,s){return e=xs(22,e,s,t),e.elementType=V_,e.lanes=n,e.stateNode={isHidden:!1},e}function Gh(e,t,n){return e=xs(6,e,null,t),e.lanes=n,e}function Yh(e,t,n){return t=xs(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function nA(e,t,n,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kh(0),this.expirationTimes=kh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kh(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Ax(e,t,n,s,a,i,o,l,c){return e=new nA(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=xs(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},px(i),e}function sA(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zi,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function $S(e){if(!e)return ba;e=e._reactInternals;e:{if(bi(e)!==e||e.tag!==1)throw Error(re(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Wn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(re(171))}if(e.tag===1){var n=e.type;if(Wn(n))return $b(e,n,t)}return t}function DS(e,t,n,s,a,i,o,l,c){return e=Ax(n,s,!0,e,a,i,o,l,c),e.context=$S(null),n=e.current,s=Pn(),a=va(n),i=Nr(s,a),i.callback=t??null,ga(n,i,a),e.current.lanes=a,Fc(e,a,s),Hn(e,s),e}function Sf(e,t,n,s){var a=t.current,i=Pn(),o=va(a);return n=$S(n),t.context===null?t.context=n:t.pendingContext=n,t=Nr(i,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=ga(a,t,o),e!==null&&(Fs(e,a,o,i),Qd(e,a,o)),o}function Ou(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function jw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function $x(e,t){jw(e,t),(e=e.alternate)&&jw(e,t)}function rA(){return null}var MS=typeof reportError=="function"?reportError:function(e){console.error(e)};function Dx(e){this._internalRoot=e}Nf.prototype.render=Dx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(re(409));Sf(e,t,null,null)};Nf.prototype.unmount=Dx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gi(function(){Sf(null,e,null,null)}),t[Tr]=null}};function Nf(e){this._internalRoot=e}Nf.prototype.unstable_scheduleHydration=function(e){if(e){var t=fb();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ea.length&&t!==0&&t<ea[n].priority;n++);ea.splice(n,0,e),n===0&&mb(e)}};function Mx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ef(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function _w(){}function aA(e,t,n,s,a){if(a){if(typeof s=="function"){var i=s;s=function(){var d=Ou(o);i.call(d)}}var o=DS(t,s,e,0,null,!1,!1,"",_w);return e._reactRootContainer=o,e[Tr]=o.current,oc(e.nodeType===8?e.parentNode:e),gi(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var l=s;s=function(){var d=Ou(c);l.call(d)}}var c=Ax(e,0,!1,null,null,!1,!1,"",_w);return e._reactRootContainer=c,e[Tr]=c.current,oc(e.nodeType===8?e.parentNode:e),gi(function(){Sf(t,c,n,s)}),c}function Cf(e,t,n,s,a){var i=n._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=Ou(o);l.call(c)}}Sf(t,o,e,a)}else o=aA(n,t,e,a,s);return Ou(o)}db=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Nl(t.pendingLanes);n!==0&&(ex(t,n|1),Hn(t,At()),!(ze&6)&&(Ao=At()+500,Pa()))}break;case 13:gi(function(){var s=kr(e,1);if(s!==null){var a=Pn();Fs(s,e,1,a)}}),$x(e,1)}};tx=function(e){if(e.tag===13){var t=kr(e,134217728);if(t!==null){var n=Pn();Fs(t,e,134217728,n)}$x(e,134217728)}};ub=function(e){if(e.tag===13){var t=va(e),n=kr(e,t);if(n!==null){var s=Pn();Fs(n,e,t,s)}$x(e,t)}};fb=function(){return Ze};hb=function(e,t){var n=Ze;try{return Ze=e,t()}finally{Ze=n}};tp=function(e,t,n){switch(t){case"input":if(Gm(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var a=xf(s);if(!a)throw Error(re(90));W_(s),Gm(s,a)}}}break;case"textarea":q_(e,n);break;case"select":t=n.value,t!=null&&io(e,!!n.multiple,t,!1)}};Z_=Tx;eb=gi;var iA={usingClientEntryPoint:!1,Events:[Uc,Gi,xf,X_,J_,Tx]},xl={findFiberByHostInstance:Xa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},oA={bundleType:xl.bundleType,version:xl.version,rendererPackageName:xl.rendererPackageName,rendererConfig:xl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Or.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=sb(e),e===null?null:e.stateNode},findFiberByHostInstance:xl.findFiberByHostInstance||rA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cd.isDisabled&&Cd.supportsFiber)try{hf=Cd.inject(oA),ar=Cd}catch{}}es.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iA;es.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mx(t))throw Error(re(200));return sA(e,t,null,n)};es.createRoot=function(e,t){if(!Mx(e))throw Error(re(299));var n=!1,s="",a=MS;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Ax(e,1,!1,null,null,n,!1,s,a),e[Tr]=t.current,oc(e.nodeType===8?e.parentNode:e),new Dx(t)};es.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(re(188)):(e=Object.keys(e).join(","),Error(re(268,e)));return e=sb(t),e=e===null?null:e.stateNode,e};es.flushSync=function(e){return gi(e)};es.hydrate=function(e,t,n){if(!Ef(t))throw Error(re(200));return Cf(null,e,t,!0,n)};es.hydrateRoot=function(e,t,n){if(!Mx(e))throw Error(re(405));var s=n!=null&&n.hydratedSources||null,a=!1,i="",o=MS;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=DS(t,null,e,1,n??null,a,!1,i,o),e[Tr]=t.current,oc(e),s)for(e=0;e<s.length;e++)n=s[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Nf(t)};es.render=function(e,t,n){if(!Ef(t))throw Error(re(200));return Cf(null,e,t,!1,n)};es.unmountComponentAtNode=function(e){if(!Ef(e))throw Error(re(40));return e._reactRootContainer?(gi(function(){Cf(null,null,e,!1,function(){e._reactRootContainer=null,e[Tr]=null})}),!0):!1};es.unstable_batchedUpdates=Tx;es.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Ef(n))throw Error(re(200));if(e==null||e._reactInternals===void 0)throw Error(re(38));return Cf(e,t,n,!1,s)};es.version="18.3.1-next-f1338f8080-20240426";function LS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(LS)}catch(e){console.error(e)}}LS(),L_.exports=es;var vs=L_.exports;const lA=S_(vs);var IS,bw=vs;IS=bw.createRoot,bw.hydrateRoot;const cA=1,dA=1e6;let Qh=0;function uA(){return Qh=(Qh+1)%Number.MAX_SAFE_INTEGER,Qh.toString()}const Xh=new Map,Sw=e=>{if(Xh.has(e))return;const t=setTimeout(()=>{Xh.delete(e),Bl({type:"REMOVE_TOAST",toastId:e})},dA);Xh.set(e,t)},fA=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,cA)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Sw(n):e.toasts.forEach(s=>{Sw(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},su=[];let ru={toasts:[]};function Bl(e){ru=fA(ru,e),su.forEach(t=>{t(ru)})}function da({...e}){const t=uA(),n=a=>Bl({type:"UPDATE_TOAST",toast:{...a,id:t}}),s=()=>Bl({type:"DISMISS_TOAST",toastId:t});return Bl({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||s()}}}),{id:t,dismiss:s,update:n}}function dn(){const[e,t]=h.useState(ru);return h.useEffect(()=>(su.push(t),()=>{const n=su.indexOf(t);n>-1&&su.splice(n,1)}),[e]),{...e,toast:da,dismiss:n=>Bl({type:"DISMISS_TOAST",toastId:n})}}function ve(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function Nw(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function OS(...e){return t=>{let n=!1;const s=e.map(a=>{const i=Nw(a,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let a=0;a<s.length;a++){const i=s[a];typeof i=="function"?i():Nw(e[a],null)}}}}function Ge(...e){return h.useCallback(OS(...e),e)}function hA(e,t){const n=h.createContext(t),s=i=>{const{children:o,...l}=i,c=h.useMemo(()=>l,Object.values(l));return r.jsx(n.Provider,{value:c,children:o})};s.displayName=e+"Provider";function a(i){const o=h.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[s,a]}function ns(e,t=[]){let n=[];function s(i,o){const l=h.createContext(o),c=n.length;n=[...n,o];const d=f=>{var x;const{scope:m,children:g,...j}=f,v=((x=m==null?void 0:m[e])==null?void 0:x[c])||l,w=h.useMemo(()=>j,Object.values(j));return r.jsx(v.Provider,{value:w,children:g})};d.displayName=i+"Provider";function u(f,m){var v;const g=((v=m==null?void 0:m[e])==null?void 0:v[c])||l,j=h.useContext(g);if(j)return j;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=n.map(o=>h.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,mA(a,...t)]}function mA(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function $o(e){const t=gA(e),n=h.forwardRef((s,a)=>{const{children:i,...o}=s,l=h.Children.toArray(i),c=l.find(vA);if(c){const d=c.props.children,u=l.map(f=>f===c?h.Children.count(d)>1?h.Children.only(null):h.isValidElement(d)?d.props.children:null:f);return r.jsx(t,{...o,ref:a,children:h.isValidElement(d)?h.cloneElement(d,void 0,u):null})}return r.jsx(t,{...o,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}var pA=$o("Slot");function gA(e){const t=h.forwardRef((n,s)=>{const{children:a,...i}=n;if(h.isValidElement(a)){const o=wA(a),l=yA(i,a.props);return a.type!==h.Fragment&&(l.ref=s?OS(s,o):o),h.cloneElement(a,l)}return h.Children.count(a)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var FS=Symbol("radix.slottable");function xA(e){const t=({children:n})=>r.jsx(r.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=FS,t}function vA(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===FS}function yA(e,t){const n={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?n[s]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(n[s]=a):s==="style"?n[s]={...a,...i}:s==="className"&&(n[s]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function wA(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Lx(e){const t=e+"CollectionProvider",[n,s]=ns(t),[a,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:w,children:x}=v,p=Me.useRef(null),y=Me.useRef(new Map).current;return r.jsx(a,{scope:w,itemMap:y,collectionRef:p,children:x})};o.displayName=t;const l=e+"CollectionSlot",c=$o(l),d=Me.forwardRef((v,w)=>{const{scope:x,children:p}=v,y=i(l,x),_=Ge(w,y.collectionRef);return r.jsx(c,{ref:_,children:p})});d.displayName=l;const u=e+"CollectionItemSlot",f="data-radix-collection-item",m=$o(u),g=Me.forwardRef((v,w)=>{const{scope:x,children:p,...y}=v,_=Me.useRef(null),S=Ge(w,_),P=i(u,x);return Me.useEffect(()=>(P.itemMap.set(_,{ref:_,...y}),()=>void P.itemMap.delete(_))),r.jsx(m,{[f]:"",ref:S,children:p})});g.displayName=u;function j(v){const w=i(e+"CollectionConsumer",v);return Me.useCallback(()=>{const p=w.collectionRef.current;if(!p)return[];const y=Array.from(p.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((P,C)=>y.indexOf(P.ref.current)-y.indexOf(C.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:d,ItemSlot:g},j,s]}var jA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ye=jA.reduce((e,t)=>{const n=$o(`Primitive.${t}`),s=h.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:i})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function BS(e,t){e&&vs.flushSync(()=>e.dispatchEvent(t))}function Zn(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}function _A(e,t=globalThis==null?void 0:globalThis.document){const n=Zn(e);h.useEffect(()=>{const s=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var bA="DismissableLayer",Dp="dismissableLayer.update",SA="dismissableLayer.pointerDownOutside",NA="dismissableLayer.focusOutside",Ew,US=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),zc=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=h.useContext(US),[u,f]=h.useState(null),m=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=h.useState({}),j=Ge(t,C=>f(C)),v=Array.from(d.layers),[w]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),x=v.indexOf(w),p=u?v.indexOf(u):-1,y=d.layersWithOutsidePointerEventsDisabled.size>0,_=p>=x,S=CA(C=>{const T=C.target,A=[...d.branches].some(D=>D.contains(T));!_||A||(a==null||a(C),o==null||o(C),C.defaultPrevented||l==null||l())},m),P=TA(C=>{const T=C.target;[...d.branches].some(D=>D.contains(T))||(i==null||i(C),o==null||o(C),C.defaultPrevented||l==null||l())},m);return _A(C=>{p===d.layers.size-1&&(s==null||s(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},m),h.useEffect(()=>{if(u)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Ew=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),Cw(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Ew)}},[u,m,n,d]),h.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),Cw())},[u,d]),h.useEffect(()=>{const C=()=>g({});return document.addEventListener(Dp,C),()=>document.removeEventListener(Dp,C)},[]),r.jsx(ye.div,{...c,ref:j,style:{pointerEvents:y?_?"auto":"none":void 0,...e.style},onFocusCapture:ve(e.onFocusCapture,P.onFocusCapture),onBlurCapture:ve(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:ve(e.onPointerDownCapture,S.onPointerDownCapture)})});zc.displayName=bA;var EA="DismissableLayerBranch",VS=h.forwardRef((e,t)=>{const n=h.useContext(US),s=h.useRef(null),a=Ge(t,s);return h.useEffect(()=>{const i=s.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),r.jsx(ye.div,{...e,ref:a})});VS.displayName=EA;function CA(e,t=globalThis==null?void 0:globalThis.document){const n=Zn(e),s=h.useRef(!1),a=h.useRef(()=>{});return h.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let c=function(){zS(SA,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function TA(e,t=globalThis==null?void 0:globalThis.document){const n=Zn(e),s=h.useRef(!1);return h.useEffect(()=>{const a=i=>{i.target&&!s.current&&zS(NA,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Cw(){const e=new CustomEvent(Dp);document.dispatchEvent(e)}function zS(e,t,n,{discrete:s}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),s?BS(a,i):a.dispatchEvent(i)}var kA=zc,PA=VS,$t=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},RA="Portal",Wc=h.forwardRef((e,t)=>{var l;const{container:n,...s}=e,[a,i]=h.useState(!1);$t(()=>i(!0),[]);const o=n||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?lA.createPortal(r.jsx(ye.div,{...s,ref:t}),o):null});Wc.displayName=RA;function AA(e,t){return h.useReducer((n,s)=>t[n][s]??n,e)}var fr=e=>{const{present:t,children:n}=e,s=$A(t),a=typeof n=="function"?n({present:s.isPresent}):h.Children.only(n),i=Ge(s.ref,DA(a));return typeof n=="function"||s.isPresent?h.cloneElement(a,{ref:i}):null};fr.displayName="Presence";function $A(e){const[t,n]=h.useState(),s=h.useRef(null),a=h.useRef(e),i=h.useRef("none"),o=e?"mounted":"unmounted",[l,c]=AA(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const d=Td(s.current);i.current=l==="mounted"?d:"none"},[l]),$t(()=>{const d=s.current,u=a.current;if(u!==e){const m=i.current,g=Td(d);e?c("MOUNT"):g==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&m!==g?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),$t(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,f=g=>{const v=Td(s.current).includes(g.animationName);if(g.target===t&&v&&(c("ANIMATION_END"),!a.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},m=g=>{g.target===t&&(i.current=Td(s.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(d=>{s.current=d?getComputedStyle(d):null,n(d)},[])}}function Td(e){return(e==null?void 0:e.animationName)||"none"}function DA(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var MA=Hg[" useInsertionEffect ".trim().toString()]||$t;function Rr({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[a,i,o]=LA({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:a;{const u=h.useRef(e!==void 0);h.useEffect(()=>{const f=u.current;f!==l&&console.warn(`${s} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,s])}const d=h.useCallback(u=>{var f;if(l){const m=IA(u)?u(e):u;m!==e&&((f=o.current)==null||f.call(o,m))}else i(u)},[l,e,i,o]);return[c,d]}function LA({defaultProp:e,onChange:t}){const[n,s]=h.useState(e),a=h.useRef(n),i=h.useRef(t);return MA(()=>{i.current=t},[t]),h.useEffect(()=>{var o;a.current!==n&&((o=i.current)==null||o.call(i,n),a.current=n)},[n,a]),[n,s,i]}function IA(e){return typeof e=="function"}var WS=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),OA="VisuallyHidden",Tf=h.forwardRef((e,t)=>r.jsx(ye.span,{...e,ref:t,style:{...WS,...e.style}}));Tf.displayName=OA;var FA=Tf,Ix="ToastProvider",[Ox,BA,UA]=Lx("Toast"),[HS,W7]=ns("Toast",[UA]),[VA,kf]=HS(Ix),qS=e=>{const{__scopeToast:t,label:n="Notification",duration:s=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=h.useState(null),[d,u]=h.useState(0),f=h.useRef(!1),m=h.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Ix}\`. Expected non-empty \`string\`.`),r.jsx(Ox.Provider,{scope:t,children:r.jsx(VA,{scope:t,label:n,duration:s,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:h.useCallback(()=>u(g=>g+1),[]),onToastRemove:h.useCallback(()=>u(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};qS.displayName=Ix;var KS="ToastViewport",zA=["F8"],Mp="toast.viewportPause",Lp="toast.viewportResume",GS=h.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:s=zA,label:a="Notifications ({hotkey})",...i}=e,o=kf(KS,n),l=BA(n),c=h.useRef(null),d=h.useRef(null),u=h.useRef(null),f=h.useRef(null),m=Ge(t,f,o.onViewportChange),g=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=o.toastCount>0;h.useEffect(()=>{const w=x=>{var y;s.length!==0&&s.every(_=>x[_]||x.code===_)&&((y=f.current)==null||y.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[s]),h.useEffect(()=>{const w=c.current,x=f.current;if(j&&w&&x){const p=()=>{if(!o.isClosePausedRef.current){const P=new CustomEvent(Mp);x.dispatchEvent(P),o.isClosePausedRef.current=!0}},y=()=>{if(o.isClosePausedRef.current){const P=new CustomEvent(Lp);x.dispatchEvent(P),o.isClosePausedRef.current=!1}},_=P=>{!w.contains(P.relatedTarget)&&y()},S=()=>{w.contains(document.activeElement)||y()};return w.addEventListener("focusin",p),w.addEventListener("focusout",_),w.addEventListener("pointermove",p),w.addEventListener("pointerleave",S),window.addEventListener("blur",p),window.addEventListener("focus",y),()=>{w.removeEventListener("focusin",p),w.removeEventListener("focusout",_),w.removeEventListener("pointermove",p),w.removeEventListener("pointerleave",S),window.removeEventListener("blur",p),window.removeEventListener("focus",y)}}},[j,o.isClosePausedRef]);const v=h.useCallback(({tabbingDirection:w})=>{const p=l().map(y=>{const _=y.ref.current,S=[_,...n$(_)];return w==="forwards"?S:S.reverse()});return(w==="forwards"?p.reverse():p).flat()},[l]);return h.useEffect(()=>{const w=f.current;if(w){const x=p=>{var S,P,C;const y=p.altKey||p.ctrlKey||p.metaKey;if(p.key==="Tab"&&!y){const T=document.activeElement,A=p.shiftKey;if(p.target===w&&A){(S=d.current)==null||S.focus();return}const I=v({tabbingDirection:A?"backwards":"forwards"}),M=I.findIndex(F=>F===T);Jh(I.slice(M+1))?p.preventDefault():A?(P=d.current)==null||P.focus():(C=u.current)==null||C.focus()}};return w.addEventListener("keydown",x),()=>w.removeEventListener("keydown",x)}},[l,v]),r.jsxs(PA,{ref:c,role:"region","aria-label":a.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:j?void 0:"none"},children:[j&&r.jsx(Ip,{ref:d,onFocusFromOutsideViewport:()=>{const w=v({tabbingDirection:"forwards"});Jh(w)}}),r.jsx(Ox.Slot,{scope:n,children:r.jsx(ye.ol,{tabIndex:-1,...i,ref:m})}),j&&r.jsx(Ip,{ref:u,onFocusFromOutsideViewport:()=>{const w=v({tabbingDirection:"backwards"});Jh(w)}})]})});GS.displayName=KS;var YS="ToastFocusProxy",Ip=h.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:s,...a}=e,i=kf(YS,n);return r.jsx(Tf,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&s()}})});Ip.displayName=YS;var Hc="Toast",WA="toast.swipeStart",HA="toast.swipeMove",qA="toast.swipeCancel",KA="toast.swipeEnd",QS=h.forwardRef((e,t)=>{const{forceMount:n,open:s,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=Rr({prop:s,defaultProp:a??!0,onChange:i,caller:Hc});return r.jsx(fr,{present:n||l,children:r.jsx(QA,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Zn(e.onPause),onResume:Zn(e.onResume),onSwipeStart:ve(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ve(e.onSwipeMove,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ve(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ve(e.onSwipeEnd,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});QS.displayName=Hc;var[GA,YA]=HS(Hc,{onClose(){}}),QA=h.forwardRef((e,t)=>{const{__scopeToast:n,type:s="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:g,...j}=e,v=kf(Hc,n),[w,x]=h.useState(null),p=Ge(t,F=>x(F)),y=h.useRef(null),_=h.useRef(null),S=a||v.duration,P=h.useRef(0),C=h.useRef(S),T=h.useRef(0),{onToastAdd:A,onToastRemove:D}=v,$=Zn(()=>{var J;(w==null?void 0:w.contains(document.activeElement))&&((J=v.viewport)==null||J.focus()),o()}),I=h.useCallback(F=>{!F||F===1/0||(window.clearTimeout(T.current),P.current=new Date().getTime(),T.current=window.setTimeout($,F))},[$]);h.useEffect(()=>{const F=v.viewport;if(F){const J=()=>{I(C.current),d==null||d()},U=()=>{const z=new Date().getTime()-P.current;C.current=C.current-z,window.clearTimeout(T.current),c==null||c()};return F.addEventListener(Mp,U),F.addEventListener(Lp,J),()=>{F.removeEventListener(Mp,U),F.removeEventListener(Lp,J)}}},[v.viewport,S,c,d,I]),h.useEffect(()=>{i&&!v.isClosePausedRef.current&&I(S)},[i,S,v.isClosePausedRef,I]),h.useEffect(()=>(A(),()=>D()),[A,D]);const M=h.useMemo(()=>w?sN(w):null,[w]);return v.viewport?r.jsxs(r.Fragment,{children:[M&&r.jsx(XA,{__scopeToast:n,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:M}),r.jsx(GA,{scope:n,onClose:$,children:vs.createPortal(r.jsx(Ox.ItemSlot,{scope:n,children:r.jsx(kA,{asChild:!0,onEscapeKeyDown:ve(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||$(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(ye.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...j,ref:p,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ve(e.onKeyDown,F=>{F.key==="Escape"&&(l==null||l(F.nativeEvent),F.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,$()))}),onPointerDown:ve(e.onPointerDown,F=>{F.button===0&&(y.current={x:F.clientX,y:F.clientY})}),onPointerMove:ve(e.onPointerMove,F=>{if(!y.current)return;const J=F.clientX-y.current.x,U=F.clientY-y.current.y,z=!!_.current,k=["left","right"].includes(v.swipeDirection),N=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,b=k?N(0,J):0,E=k?0:N(0,U),R=F.pointerType==="touch"?10:2,B={x:b,y:E},L={originalEvent:F,delta:B};z?(_.current=B,kd(HA,f,L,{discrete:!1})):Tw(B,v.swipeDirection,R)?(_.current=B,kd(WA,u,L,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(J)>R||Math.abs(U)>R)&&(y.current=null)}),onPointerUp:ve(e.onPointerUp,F=>{const J=_.current,U=F.target;if(U.hasPointerCapture(F.pointerId)&&U.releasePointerCapture(F.pointerId),_.current=null,y.current=null,J){const z=F.currentTarget,k={originalEvent:F,delta:J};Tw(J,v.swipeDirection,v.swipeThreshold)?kd(KA,g,k,{discrete:!0}):kd(qA,m,k,{discrete:!0}),z.addEventListener("click",N=>N.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),XA=e=>{const{__scopeToast:t,children:n,...s}=e,a=kf(Hc,t),[i,o]=h.useState(!1),[l,c]=h.useState(!1);return e$(()=>o(!0)),h.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:r.jsx(Wc,{asChild:!0,children:r.jsx(Tf,{...s,children:i&&r.jsxs(r.Fragment,{children:[a.label," ",n]})})})},JA="ToastTitle",XS=h.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return r.jsx(ye.div,{...s,ref:t})});XS.displayName=JA;var ZA="ToastDescription",JS=h.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return r.jsx(ye.div,{...s,ref:t})});JS.displayName=ZA;var ZS="ToastAction",eN=h.forwardRef((e,t)=>{const{altText:n,...s}=e;return n.trim()?r.jsx(nN,{altText:n,asChild:!0,children:r.jsx(Fx,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${ZS}\`. Expected non-empty \`string\`.`),null)});eN.displayName=ZS;var tN="ToastClose",Fx=h.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e,a=YA(tN,n);return r.jsx(nN,{asChild:!0,children:r.jsx(ye.button,{type:"button",...s,ref:t,onClick:ve(e.onClick,a.onClose)})})});Fx.displayName=tN;var nN=h.forwardRef((e,t)=>{const{__scopeToast:n,altText:s,...a}=e;return r.jsx(ye.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...a,ref:t})});function sN(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),t$(s)){const a=s.ariaHidden||s.hidden||s.style.display==="none",i=s.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=s.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...sN(s))}}),t}function kd(e,t,n,{discrete:s}){const a=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),s?BS(a,i):a.dispatchEvent(i)}var Tw=(e,t,n=0)=>{const s=Math.abs(e.x),a=Math.abs(e.y),i=s>a;return t==="left"||t==="right"?i&&s>n:!i&&a>n};function e$(e=()=>{}){const t=Zn(e);$t(()=>{let n=0,s=0;return n=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(s)}},[t])}function t$(e){return e.nodeType===e.ELEMENT_NODE}function n$(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Jh(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var s$=qS,rN=GS,aN=QS,iN=XS,oN=JS,lN=eN,cN=Fx;function dN(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=dN(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function uN(){for(var e,t,n=0,s="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=dN(e))&&(s&&(s+=" "),s+=t);return s}const kw=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Pw=uN,Ho=(e,t)=>n=>{var s;if((t==null?void 0:t.variants)==null)return Pw(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(d=>{const u=n==null?void 0:n[d],f=i==null?void 0:i[d];if(u===null)return null;const m=kw(u)||kw(f);return a[d][m]}),l=n&&Object.entries(n).reduce((d,u)=>{let[f,m]=u;return m===void 0||(d[f]=m),d},{}),c=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((d,u)=>{let{class:f,className:m,...g}=u;return Object.entries(g).every(j=>{let[v,w]=j;return Array.isArray(w)?w.includes({...i,...l}[v]):{...i,...l}[v]===w})?[...d,f,m]:d},[]);return Pw(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r$=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a$=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),Rw=e=>{const t=a$(e);return t.charAt(0).toUpperCase()+t.slice(1)},fN=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),i$=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var o$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l$=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:i,iconNode:o,...l},c)=>h.createElement("svg",{ref:c,...o$,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:fN("lucide",a),...!i&&!i$(l)&&{"aria-hidden":"true"},...l},[...o.map(([d,u])=>h.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=(e,t)=>{const n=h.forwardRef(({className:s,...a},i)=>h.createElement(l$,{ref:i,iconNode:t,className:fN(`lucide-${r$(Rw(e))}`,`lucide-${e}`,s),...a}));return n.displayName=Rw(e),n};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c$=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Do=ge("activity",c$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],u$=ge("arrow-left-right",d$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f$=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ul=ge("arrow-left",f$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h$=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Zh=ge("arrow-right",h$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m$=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],Pi=ge("arrow-up-down",m$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p$=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],g$=ge("bot",p$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x$=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Qn=ge("calendar",x$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v$=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],y$=ge("chart-column",v$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w$=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],qo=ge("check",w$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j$=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Pf=ge("chevron-down",j$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _$=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Bx=ge("chevron-up",_$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ve=ge("circle-alert",b$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S$=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Cl=ge("circle-check-big",S$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],E$=ge("circle-x",N$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],er=ge("clock",C$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T$=[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]],k$=ge("cog",T$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P$=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Bi=ge("database",P$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R$=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Op=ge("dollar-sign",R$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A$=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],hN=ge("download",A$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $$=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],qc=ge("external-link",$$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D$=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Vl=ge("eye-off",D$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M$=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],mN=ge("eye",M$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L$=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],gc=ge("file-text",L$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I$=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],pN=ge("funnel",I$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O$=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],gN=ge("grip-vertical",O$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F$=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],B$=ge("history",F$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U$=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],V$=ge("house",U$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Ba=ge("info",z$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W$=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],wt=ge("loader-circle",W$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H$=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],q$=ge("lock",H$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K$=[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],Fp=ge("maximize-2",K$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G$=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],Y$=ge("menu",G$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q$=[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],Bp=ge("minimize-2",Q$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$=[["path",{d:"M5 12h14",key:"1ays0h"}]],J$=ge("minus",X$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z$=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],eD=ge("moon",Z$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],nD=ge("pause",tD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],rD=ge("play",sD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Fu=ge("plus",aD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Je=ge("refresh-cw",iD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],xN=ge("rotate-ccw",oD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Rf=ge("save",lD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ux=ge("search",cD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],em=ge("server",dD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Bu=ge("settings",uD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],xc=ge("shield",fD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],xi=ge("square-pen",hD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],vN=ge("star",mD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],gD=ge("sun",pD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],vc=ge("swords",xD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],au=ge("target",vD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]],wD=ge("test-tube",yD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],_D=ge("timer",jD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Mo=ge("trending-up",bD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],yN=ge("triangle-alert",SD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],xt=ge("trophy",ND);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],ho=ge("user-check",ED);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],TD=ge("user",CD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Vt=ge("users",kD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Si=ge("x",PD),Vx="-",RD=e=>{const t=$D(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:o=>{const l=o.split(Vx);return l[0]===""&&l.length!==1&&l.shift(),wN(l,t)||AD(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&s[o]?[...c,...s[o]]:c}}},wN=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),a=s?wN(e.slice(1),s):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(Vx);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},Aw=/^\[(.+)\]$/,AD=e=>{if(Aw.test(e)){const t=Aw.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},$D=e=>{const{theme:t,prefix:n}=e,s={nextPart:new Map,validators:[]};return MD(Object.entries(e.classGroups),n).forEach(([i,o])=>{Up(o,s,i,t)}),s},Up=(e,t,n,s)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:$w(t,a);i.classGroupId=n;return}if(typeof a=="function"){if(DD(a)){Up(a(s),t,n,s);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([i,o])=>{Up(o,$w(t,i),n,s)})})},$w=(e,t)=>{let n=e;return t.split(Vx).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},DD=e=>e.isThemeGetter,MD=(e,t)=>t?e.map(([n,s])=>{const a=s.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[n,a]}):e,LD=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const a=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,s=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=s.get(i))!==void 0)return a(i,o),o},set(i,o){n.has(i)?n.set(i,o):a(i,o)}}},jN="!",ID=e=>{const{separator:t,experimentalParseClassName:n}=e,s=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let d=0,u=0,f;for(let w=0;w<l.length;w++){let x=l[w];if(d===0){if(x===a&&(s||l.slice(w,w+i)===t)){c.push(l.slice(u,w)),u=w+i;continue}if(x==="/"){f=w;continue}}x==="["?d++:x==="]"&&d--}const m=c.length===0?l:l.substring(u),g=m.startsWith(jN),j=g?m.substring(1):m,v=f&&f>u?f-u:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:j,maybePostfixModifierPosition:v}};return n?l=>n({className:l,parseClassName:o}):o},OD=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(s=>{s[0]==="["?(t.push(...n.sort(),s),n=[]):n.push(s)}),t.push(...n.sort()),t},FD=e=>({cache:LD(e.cacheSize),parseClassName:ID(e),...RD(e)}),BD=/\s+/,UD=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(BD);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:g}=n(d);let j=!!g,v=s(j?m.substring(0,g):m);if(!v){if(!j){l=d+(l.length>0?" "+l:l);continue}if(v=s(m),!v){l=d+(l.length>0?" "+l:l);continue}j=!1}const w=OD(u).join(":"),x=f?w+jN:w,p=x+v;if(i.includes(p))continue;i.push(p);const y=a(v,j);for(let _=0;_<y.length;++_){const S=y[_];i.push(x+S)}l=d+(l.length>0?" "+l:l)}return l};function VD(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=_N(t))&&(s&&(s+=" "),s+=n);return s}const _N=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=_N(e[s]))&&(n&&(n+=" "),n+=t);return n};function zD(e,...t){let n,s,a,i=o;function o(c){const d=t.reduce((u,f)=>f(u),e());return n=FD(d),s=n.cache.get,a=n.cache.set,i=l,l(c)}function l(c){const d=s(c);if(d)return d;const u=UD(c,n);return a(c,u),u}return function(){return i(VD.apply(null,arguments))}}const ct=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},bN=/^\[(?:([a-z-]+):)?(.+)\]$/i,WD=/^\d+\/\d+$/,HD=new Set(["px","full","screen"]),qD=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,KD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,GD=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,YD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,QD=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,pr=e=>mo(e)||HD.has(e)||WD.test(e),zr=e=>Ko(e,"length",rM),mo=e=>!!e&&!Number.isNaN(Number(e)),tm=e=>Ko(e,"number",mo),vl=e=>!!e&&Number.isInteger(Number(e)),XD=e=>e.endsWith("%")&&mo(e.slice(0,-1)),Ce=e=>bN.test(e),Wr=e=>qD.test(e),JD=new Set(["length","size","percentage"]),ZD=e=>Ko(e,JD,SN),eM=e=>Ko(e,"position",SN),tM=new Set(["image","url"]),nM=e=>Ko(e,tM,iM),sM=e=>Ko(e,"",aM),yl=()=>!0,Ko=(e,t,n)=>{const s=bN.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):n(s[2]):!1},rM=e=>KD.test(e)&&!GD.test(e),SN=()=>!1,aM=e=>YD.test(e),iM=e=>QD.test(e),oM=()=>{const e=ct("colors"),t=ct("spacing"),n=ct("blur"),s=ct("brightness"),a=ct("borderColor"),i=ct("borderRadius"),o=ct("borderSpacing"),l=ct("borderWidth"),c=ct("contrast"),d=ct("grayscale"),u=ct("hueRotate"),f=ct("invert"),m=ct("gap"),g=ct("gradientColorStops"),j=ct("gradientColorStopPositions"),v=ct("inset"),w=ct("margin"),x=ct("opacity"),p=ct("padding"),y=ct("saturate"),_=ct("scale"),S=ct("sepia"),P=ct("skew"),C=ct("space"),T=ct("translate"),A=()=>["auto","contain","none"],D=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto",Ce,t],I=()=>[Ce,t],M=()=>["",pr,zr],F=()=>["auto",mo,Ce],J=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],k=()=>["start","end","center","between","around","evenly","stretch"],N=()=>["","0",Ce],b=()=>["auto","avoid","all","avoid-page","page","left","right","column"],E=()=>[mo,Ce];return{cacheSize:500,separator:":",theme:{colors:[yl],spacing:[pr,zr],blur:["none","",Wr,Ce],brightness:E(),borderColor:[e],borderRadius:["none","","full",Wr,Ce],borderSpacing:I(),borderWidth:M(),contrast:E(),grayscale:N(),hueRotate:E(),invert:N(),gap:I(),gradientColorStops:[e],gradientColorStopPositions:[XD,zr],inset:$(),margin:$(),opacity:E(),padding:I(),saturate:E(),scale:E(),sepia:N(),skew:E(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",Ce]}],container:["container"],columns:[{columns:[Wr]}],"break-after":[{"break-after":b()}],"break-before":[{"break-before":b()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...J(),Ce]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",vl,Ce]}],basis:[{basis:$()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ce]}],grow:[{grow:N()}],shrink:[{shrink:N()}],order:[{order:["first","last","none",vl,Ce]}],"grid-cols":[{"grid-cols":[yl]}],"col-start-end":[{col:["auto",{span:["full",vl,Ce]},Ce]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[yl]}],"row-start-end":[{row:["auto",{span:[vl,Ce]},Ce]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ce]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...k()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...k(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...k(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ce,t]}],"min-w":[{"min-w":[Ce,t,"min","max","fit"]}],"max-w":[{"max-w":[Ce,t,"none","full","min","max","fit","prose",{screen:[Wr]},Wr]}],h:[{h:[Ce,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ce,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ce,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ce,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Wr,zr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",tm]}],"font-family":[{font:[yl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ce]}],"line-clamp":[{"line-clamp":["none",mo,tm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",pr,Ce]}],"list-image":[{"list-image":["none",Ce]}],"list-style-type":[{list:["none","disc","decimal",Ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",pr,zr]}],"underline-offset":[{"underline-offset":["auto",pr,Ce]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...J(),eM]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ZD]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},nM]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[j]}],"gradient-via-pos":[{via:[j]}],"gradient-to-pos":[{to:[j]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:U()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[pr,Ce]}],"outline-w":[{outline:[pr,zr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[pr,zr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Wr,sM]}],"shadow-color":[{shadow:[yl]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Wr,Ce]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[y]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ce]}],duration:[{duration:E()}],ease:[{ease:["linear","in","out","in-out",Ce]}],delay:[{delay:E()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[vl,Ce]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ce]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ce]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ce]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[pr,zr,tm]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},lM=zD(oM);function xe(...e){return lM(uN(e))}const cM=s$,NN=h.forwardRef(({className:e,...t},n)=>r.jsx(rN,{ref:n,className:xe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));NN.displayName=rN.displayName;const dM=Ho("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),EN=h.forwardRef(({className:e,variant:t,...n},s)=>r.jsx(aN,{ref:s,className:xe(dM({variant:t}),e),...n}));EN.displayName=aN.displayName;const uM=h.forwardRef(({className:e,...t},n)=>r.jsx(lN,{ref:n,className:xe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));uM.displayName=lN.displayName;const CN=h.forwardRef(({className:e,...t},n)=>r.jsx(cN,{ref:n,className:xe("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:r.jsx(Si,{className:"h-4 w-4"})}));CN.displayName=cN.displayName;const TN=h.forwardRef(({className:e,...t},n)=>r.jsx(iN,{ref:n,className:xe("text-sm font-semibold [&+div]:text-xs",e),...t}));TN.displayName=iN.displayName;const kN=h.forwardRef(({className:e,...t},n)=>r.jsx(oN,{ref:n,className:xe("text-sm opacity-90",e),...t}));kN.displayName=oN.displayName;function fM(){const{toasts:e}=dn();return r.jsxs(cM,{children:[e.map(function({id:t,title:n,description:s,action:a,...i}){return r.jsxs(EN,{...i,children:[r.jsxs("div",{className:"grid gap-1",children:[n&&r.jsx(TN,{children:n}),s&&r.jsx(kN,{children:s})]}),a,r.jsx(CN,{})]},t)}),r.jsx(NN,{})]})}var hM=Hg[" useId ".trim().toString()]||(()=>{}),mM=0;function Er(e){const[t,n]=h.useState(hM());return $t(()=>{n(s=>s??String(mM++))},[e]),t?`radix-${t}`:""}const pM=["top","right","bottom","left"],Sa=Math.min,Kn=Math.max,Uu=Math.round,Pd=Math.floor,or=e=>({x:e,y:e}),gM={left:"right",right:"left",bottom:"top",top:"bottom"},xM={start:"end",end:"start"};function Vp(e,t,n){return Kn(e,Sa(t,n))}function Ar(e,t){return typeof e=="function"?e(t):e}function $r(e){return e.split("-")[0]}function Go(e){return e.split("-")[1]}function zx(e){return e==="x"?"y":"x"}function Wx(e){return e==="y"?"height":"width"}const vM=new Set(["top","bottom"]);function rr(e){return vM.has($r(e))?"y":"x"}function Hx(e){return zx(rr(e))}function yM(e,t,n){n===void 0&&(n=!1);const s=Go(e),a=Hx(e),i=Wx(a);let o=a==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Vu(o)),[o,Vu(o)]}function wM(e){const t=Vu(e);return[zp(e),t,zp(t)]}function zp(e){return e.replace(/start|end/g,t=>xM[t])}const Dw=["left","right"],Mw=["right","left"],jM=["top","bottom"],_M=["bottom","top"];function bM(e,t,n){switch(e){case"top":case"bottom":return n?t?Mw:Dw:t?Dw:Mw;case"left":case"right":return t?jM:_M;default:return[]}}function SM(e,t,n,s){const a=Go(e);let i=bM($r(e),n==="start",s);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(zp)))),i}function Vu(e){return e.replace(/left|right|bottom|top/g,t=>gM[t])}function NM(e){return{top:0,right:0,bottom:0,left:0,...e}}function PN(e){return typeof e!="number"?NM(e):{top:e,right:e,bottom:e,left:e}}function zu(e){const{x:t,y:n,width:s,height:a}=e;return{width:s,height:a,top:n,left:t,right:t+s,bottom:n+a,x:t,y:n}}function Lw(e,t,n){let{reference:s,floating:a}=e;const i=rr(t),o=Hx(t),l=Wx(o),c=$r(t),d=i==="y",u=s.x+s.width/2-a.width/2,f=s.y+s.height/2-a.height/2,m=s[l]/2-a[l]/2;let g;switch(c){case"top":g={x:u,y:s.y-a.height};break;case"bottom":g={x:u,y:s.y+s.height};break;case"right":g={x:s.x+s.width,y:f};break;case"left":g={x:s.x-a.width,y:f};break;default:g={x:s.x,y:s.y}}switch(Go(t)){case"start":g[o]-=m*(n&&d?-1:1);break;case"end":g[o]+=m*(n&&d?-1:1);break}return g}const EM=async(e,t,n)=>{const{placement:s="bottom",strategy:a="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:f}=Lw(d,s,c),m=s,g={},j=0;for(let v=0;v<l.length;v++){const{name:w,fn:x}=l[v],{x:p,y,data:_,reset:S}=await x({x:u,y:f,initialPlacement:s,placement:m,strategy:a,middlewareData:g,rects:d,platform:o,elements:{reference:e,floating:t}});u=p??u,f=y??f,g={...g,[w]:{...g[w],..._}},S&&j<=50&&(j++,typeof S=="object"&&(S.placement&&(m=S.placement),S.rects&&(d=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):S.rects),{x:u,y:f}=Lw(d,m,c)),v=-1)}return{x:u,y:f,placement:m,strategy:a,middlewareData:g}};async function yc(e,t){var n;t===void 0&&(t={});const{x:s,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:m=!1,padding:g=0}=Ar(t,e),j=PN(g),w=l[m?f==="floating"?"reference":"floating":f],x=zu(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),p=f==="floating"?{x:s,y:a,width:o.floating.width,height:o.floating.height}:o.reference,y=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),_=await(i.isElement==null?void 0:i.isElement(y))?await(i.getScale==null?void 0:i.getScale(y))||{x:1,y:1}:{x:1,y:1},S=zu(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:p,offsetParent:y,strategy:c}):p);return{top:(x.top-S.top+j.top)/_.y,bottom:(S.bottom-x.bottom+j.bottom)/_.y,left:(x.left-S.left+j.left)/_.x,right:(S.right-x.right+j.right)/_.x}}const CM=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=Ar(e,t)||{};if(d==null)return{};const f=PN(u),m={x:n,y:s},g=Hx(a),j=Wx(g),v=await o.getDimensions(d),w=g==="y",x=w?"top":"left",p=w?"bottom":"right",y=w?"clientHeight":"clientWidth",_=i.reference[j]+i.reference[g]-m[g]-i.floating[j],S=m[g]-i.reference[g],P=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let C=P?P[y]:0;(!C||!await(o.isElement==null?void 0:o.isElement(P)))&&(C=l.floating[y]||i.floating[j]);const T=_/2-S/2,A=C/2-v[j]/2-1,D=Sa(f[x],A),$=Sa(f[p],A),I=D,M=C-v[j]-$,F=C/2-v[j]/2+T,J=Vp(I,F,M),U=!c.arrow&&Go(a)!=null&&F!==J&&i.reference[j]/2-(F<I?D:$)-v[j]/2<0,z=U?F<I?F-I:F-M:0;return{[g]:m[g]+z,data:{[g]:J,centerOffset:F-J-z,...U&&{alignmentOffset:z}},reset:U}}}),TM=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:v=!0,...w}=Ar(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=$r(a),p=rr(l),y=$r(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(d.floating)),S=m||(y||!v?[Vu(l)]:wM(l)),P=j!=="none";!m&&P&&S.push(...SM(l,v,j,_));const C=[l,...S],T=await yc(t,w),A=[];let D=((s=i.flip)==null?void 0:s.overflows)||[];if(u&&A.push(T[x]),f){const F=yM(a,o,_);A.push(T[F[0]],T[F[1]])}if(D=[...D,{placement:a,overflows:A}],!A.every(F=>F<=0)){var $,I;const F=((($=i.flip)==null?void 0:$.index)||0)+1,J=C[F];if(J&&(!(f==="alignment"?p!==rr(J):!1)||D.every(k=>k.overflows[0]>0&&rr(k.placement)===p)))return{data:{index:F,overflows:D},reset:{placement:J}};let U=(I=D.filter(z=>z.overflows[0]<=0).sort((z,k)=>z.overflows[1]-k.overflows[1])[0])==null?void 0:I.placement;if(!U)switch(g){case"bestFit":{var M;const z=(M=D.filter(k=>{if(P){const N=rr(k.placement);return N===p||N==="y"}return!0}).map(k=>[k.placement,k.overflows.filter(N=>N>0).reduce((N,b)=>N+b,0)]).sort((k,N)=>k[1]-N[1])[0])==null?void 0:M[0];z&&(U=z);break}case"initialPlacement":U=l;break}if(a!==U)return{reset:{placement:U}}}return{}}}};function Iw(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Ow(e){return pM.some(t=>e[t]>=0)}const kM=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:s="referenceHidden",...a}=Ar(e,t);switch(s){case"referenceHidden":{const i=await yc(t,{...a,elementContext:"reference"}),o=Iw(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Ow(o)}}}case"escaped":{const i=await yc(t,{...a,altBoundary:!0}),o=Iw(i,n.floating);return{data:{escapedOffsets:o,escaped:Ow(o)}}}default:return{}}}}},RN=new Set(["left","top"]);async function PM(e,t){const{placement:n,platform:s,elements:a}=e,i=await(s.isRTL==null?void 0:s.isRTL(a.floating)),o=$r(n),l=Go(n),c=rr(n)==="y",d=RN.has(o)?-1:1,u=i&&c?-1:1,f=Ar(t,e);let{mainAxis:m,crossAxis:g,alignmentAxis:j}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof j=="number"&&(g=l==="end"?j*-1:j),c?{x:g*u,y:m*d}:{x:m*d,y:g*u}}const RM=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await PM(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},AM=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:w=>{let{x,y:p}=w;return{x,y:p}}},...c}=Ar(e,t),d={x:n,y:s},u=await yc(t,c),f=rr($r(a)),m=zx(f);let g=d[m],j=d[f];if(i){const w=m==="y"?"top":"left",x=m==="y"?"bottom":"right",p=g+u[w],y=g-u[x];g=Vp(p,g,y)}if(o){const w=f==="y"?"top":"left",x=f==="y"?"bottom":"right",p=j+u[w],y=j-u[x];j=Vp(p,j,y)}const v=l.fn({...t,[m]:g,[f]:j});return{...v,data:{x:v.x-n,y:v.y-s,enabled:{[m]:i,[f]:o}}}}}},$M=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Ar(e,t),u={x:n,y:s},f=rr(a),m=zx(f);let g=u[m],j=u[f];const v=Ar(l,t),w=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const y=m==="y"?"height":"width",_=i.reference[m]-i.floating[y]+w.mainAxis,S=i.reference[m]+i.reference[y]-w.mainAxis;g<_?g=_:g>S&&(g=S)}if(d){var x,p;const y=m==="y"?"width":"height",_=RN.has($r(a)),S=i.reference[f]-i.floating[y]+(_&&((x=o.offset)==null?void 0:x[f])||0)+(_?0:w.crossAxis),P=i.reference[f]+i.reference[y]+(_?0:((p=o.offset)==null?void 0:p[f])||0)-(_?w.crossAxis:0);j<S?j=S:j>P&&(j=P)}return{[m]:g,[f]:j}}}},DM=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=Ar(e,t),u=await yc(t,d),f=$r(a),m=Go(a),g=rr(a)==="y",{width:j,height:v}=i.floating;let w,x;f==="top"||f==="bottom"?(w=f,x=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(x=f,w=m==="end"?"top":"bottom");const p=v-u.top-u.bottom,y=j-u.left-u.right,_=Sa(v-u[w],p),S=Sa(j-u[x],y),P=!t.middlewareData.shift;let C=_,T=S;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(T=y),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(C=p),P&&!m){const D=Kn(u.left,0),$=Kn(u.right,0),I=Kn(u.top,0),M=Kn(u.bottom,0);g?T=j-2*(D!==0||$!==0?D+$:Kn(u.left,u.right)):C=v-2*(I!==0||M!==0?I+M:Kn(u.top,u.bottom))}await c({...t,availableWidth:T,availableHeight:C});const A=await o.getDimensions(l.floating);return j!==A.width||v!==A.height?{reset:{rects:!0}}:{}}}};function Af(){return typeof window<"u"}function Yo(e){return AN(e)?(e.nodeName||"").toLowerCase():"#document"}function Xn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function hr(e){var t;return(t=(AN(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function AN(e){return Af()?e instanceof Node||e instanceof Xn(e).Node:!1}function Us(e){return Af()?e instanceof Element||e instanceof Xn(e).Element:!1}function ur(e){return Af()?e instanceof HTMLElement||e instanceof Xn(e).HTMLElement:!1}function Fw(e){return!Af()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Xn(e).ShadowRoot}const MM=new Set(["inline","contents"]);function Kc(e){const{overflow:t,overflowX:n,overflowY:s,display:a}=Vs(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!MM.has(a)}const LM=new Set(["table","td","th"]);function IM(e){return LM.has(Yo(e))}const OM=[":popover-open",":modal"];function $f(e){return OM.some(t=>{try{return e.matches(t)}catch{return!1}})}const FM=["transform","translate","scale","rotate","perspective"],BM=["transform","translate","scale","rotate","perspective","filter"],UM=["paint","layout","strict","content"];function qx(e){const t=Kx(),n=Us(e)?Vs(e):e;return FM.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||BM.some(s=>(n.willChange||"").includes(s))||UM.some(s=>(n.contain||"").includes(s))}function VM(e){let t=Na(e);for(;ur(t)&&!Lo(t);){if(qx(t))return t;if($f(t))return null;t=Na(t)}return null}function Kx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const zM=new Set(["html","body","#document"]);function Lo(e){return zM.has(Yo(e))}function Vs(e){return Xn(e).getComputedStyle(e)}function Df(e){return Us(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Na(e){if(Yo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Fw(e)&&e.host||hr(e);return Fw(t)?t.host:t}function $N(e){const t=Na(e);return Lo(t)?e.ownerDocument?e.ownerDocument.body:e.body:ur(t)&&Kc(t)?t:$N(t)}function wc(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=$N(e),i=a===((s=e.ownerDocument)==null?void 0:s.body),o=Xn(a);if(i){const l=Wp(o);return t.concat(o,o.visualViewport||[],Kc(a)?a:[],l&&n?wc(l):[])}return t.concat(a,wc(a,[],n))}function Wp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function DN(e){const t=Vs(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const a=ur(e),i=a?e.offsetWidth:n,o=a?e.offsetHeight:s,l=Uu(n)!==i||Uu(s)!==o;return l&&(n=i,s=o),{width:n,height:s,$:l}}function Gx(e){return Us(e)?e:e.contextElement}function po(e){const t=Gx(e);if(!ur(t))return or(1);const n=t.getBoundingClientRect(),{width:s,height:a,$:i}=DN(t);let o=(i?Uu(n.width):n.width)/s,l=(i?Uu(n.height):n.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const WM=or(0);function MN(e){const t=Xn(e);return!Kx()||!t.visualViewport?WM:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function HM(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Xn(e)?!1:t}function vi(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),i=Gx(e);let o=or(1);t&&(s?Us(s)&&(o=po(s)):o=po(e));const l=HM(i,n,s)?MN(i):or(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,u=a.width/o.x,f=a.height/o.y;if(i){const m=Xn(i),g=s&&Us(s)?Xn(s):s;let j=m,v=Wp(j);for(;v&&s&&g!==j;){const w=po(v),x=v.getBoundingClientRect(),p=Vs(v),y=x.left+(v.clientLeft+parseFloat(p.paddingLeft))*w.x,_=x.top+(v.clientTop+parseFloat(p.paddingTop))*w.y;c*=w.x,d*=w.y,u*=w.x,f*=w.y,c+=y,d+=_,j=Xn(v),v=Wp(j)}}return zu({width:u,height:f,x:c,y:d})}function Yx(e,t){const n=Df(e).scrollLeft;return t?t.left+n:vi(hr(e)).left+n}function LN(e,t,n){n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=s.left+t.scrollLeft-(n?0:Yx(e,s)),i=s.top+t.scrollTop;return{x:a,y:i}}function qM(e){let{elements:t,rect:n,offsetParent:s,strategy:a}=e;const i=a==="fixed",o=hr(s),l=t?$f(t.floating):!1;if(s===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},d=or(1);const u=or(0),f=ur(s);if((f||!f&&!i)&&((Yo(s)!=="body"||Kc(o))&&(c=Df(s)),ur(s))){const g=vi(s);d=po(s),u.x=g.x+s.clientLeft,u.y=g.y+s.clientTop}const m=o&&!f&&!i?LN(o,c,!0):or(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+u.x+m.x,y:n.y*d.y-c.scrollTop*d.y+u.y+m.y}}function KM(e){return Array.from(e.getClientRects())}function GM(e){const t=hr(e),n=Df(e),s=e.ownerDocument.body,a=Kn(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),i=Kn(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let o=-n.scrollLeft+Yx(e);const l=-n.scrollTop;return Vs(s).direction==="rtl"&&(o+=Kn(t.clientWidth,s.clientWidth)-a),{width:a,height:i,x:o,y:l}}function YM(e,t){const n=Xn(e),s=hr(e),a=n.visualViewport;let i=s.clientWidth,o=s.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=Kx();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}const QM=new Set(["absolute","fixed"]);function XM(e,t){const n=vi(e,!0,t==="fixed"),s=n.top+e.clientTop,a=n.left+e.clientLeft,i=ur(e)?po(e):or(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,d=s*i.y;return{width:o,height:l,x:c,y:d}}function Bw(e,t,n){let s;if(t==="viewport")s=YM(e,n);else if(t==="document")s=GM(hr(e));else if(Us(t))s=XM(t,n);else{const a=MN(e);s={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return zu(s)}function IN(e,t){const n=Na(e);return n===t||!Us(n)||Lo(n)?!1:Vs(n).position==="fixed"||IN(n,t)}function JM(e,t){const n=t.get(e);if(n)return n;let s=wc(e,[],!1).filter(l=>Us(l)&&Yo(l)!=="body"),a=null;const i=Vs(e).position==="fixed";let o=i?Na(e):e;for(;Us(o)&&!Lo(o);){const l=Vs(o),c=qx(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&QM.has(a.position)||Kc(o)&&!c&&IN(e,o))?s=s.filter(u=>u!==o):a=l,o=Na(o)}return t.set(e,s),s}function ZM(e){let{element:t,boundary:n,rootBoundary:s,strategy:a}=e;const o=[...n==="clippingAncestors"?$f(t)?[]:JM(t,this._c):[].concat(n),s],l=o[0],c=o.reduce((d,u)=>{const f=Bw(t,u,a);return d.top=Kn(f.top,d.top),d.right=Sa(f.right,d.right),d.bottom=Sa(f.bottom,d.bottom),d.left=Kn(f.left,d.left),d},Bw(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function eL(e){const{width:t,height:n}=DN(e);return{width:t,height:n}}function tL(e,t,n){const s=ur(t),a=hr(t),i=n==="fixed",o=vi(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=or(0);function d(){c.x=Yx(a)}if(s||!s&&!i)if((Yo(t)!=="body"||Kc(a))&&(l=Df(t)),s){const g=vi(t,!0,i,t);c.x=g.x+t.clientLeft,c.y=g.y+t.clientTop}else a&&d();i&&!s&&a&&d();const u=a&&!s&&!i?LN(a,l):or(0),f=o.left+l.scrollLeft-c.x-u.x,m=o.top+l.scrollTop-c.y-u.y;return{x:f,y:m,width:o.width,height:o.height}}function nm(e){return Vs(e).position==="static"}function Uw(e,t){if(!ur(e)||Vs(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return hr(e)===n&&(n=n.ownerDocument.body),n}function ON(e,t){const n=Xn(e);if($f(e))return n;if(!ur(e)){let a=Na(e);for(;a&&!Lo(a);){if(Us(a)&&!nm(a))return a;a=Na(a)}return n}let s=Uw(e,t);for(;s&&IM(s)&&nm(s);)s=Uw(s,t);return s&&Lo(s)&&nm(s)&&!qx(s)?n:s||VM(e)||n}const nL=async function(e){const t=this.getOffsetParent||ON,n=this.getDimensions,s=await n(e.floating);return{reference:tL(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function sL(e){return Vs(e).direction==="rtl"}const rL={convertOffsetParentRelativeRectToViewportRelativeRect:qM,getDocumentElement:hr,getClippingRect:ZM,getOffsetParent:ON,getElementRects:nL,getClientRects:KM,getDimensions:eL,getScale:po,isElement:Us,isRTL:sL};function FN(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function aL(e,t){let n=null,s;const a=hr(e);function i(){var l;clearTimeout(s),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=e.getBoundingClientRect(),{left:u,top:f,width:m,height:g}=d;if(l||t(),!m||!g)return;const j=Pd(f),v=Pd(a.clientWidth-(u+m)),w=Pd(a.clientHeight-(f+g)),x=Pd(u),y={rootMargin:-j+"px "+-v+"px "+-w+"px "+-x+"px",threshold:Kn(0,Sa(1,c))||1};let _=!0;function S(P){const C=P[0].intersectionRatio;if(C!==c){if(!_)return o();C?o(!1,C):s=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!FN(d,e.getBoundingClientRect())&&o(),_=!1}try{n=new IntersectionObserver(S,{...y,root:a.ownerDocument})}catch{n=new IntersectionObserver(S,y)}n.observe(e)}return o(!0),i}function iL(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,d=Gx(e),u=a||i?[...d?wc(d):[],...wc(t)]:[];u.forEach(x=>{a&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const f=d&&l?aL(d,n):null;let m=-1,g=null;o&&(g=new ResizeObserver(x=>{let[p]=x;p&&p.target===d&&g&&(g.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var y;(y=g)==null||y.observe(t)})),n()}),d&&!c&&g.observe(d),g.observe(t));let j,v=c?vi(e):null;c&&w();function w(){const x=vi(e);v&&!FN(v,x)&&n(),v=x,j=requestAnimationFrame(w)}return n(),()=>{var x;u.forEach(p=>{a&&p.removeEventListener("scroll",n),i&&p.removeEventListener("resize",n)}),f==null||f(),(x=g)==null||x.disconnect(),g=null,c&&cancelAnimationFrame(j)}}const oL=RM,lL=AM,cL=TM,dL=DM,uL=kM,Vw=CM,fL=$M,hL=(e,t,n)=>{const s=new Map,a={platform:rL,...n},i={...a.platform,_c:s};return EM(e,t,{...a,platform:i})};var mL=typeof document<"u",pL=function(){},iu=mL?h.useLayoutEffect:pL;function Wu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!Wu(e[s],t[s]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,a[s]))return!1;for(s=n;s--!==0;){const i=a[s];if(!(i==="_owner"&&e.$$typeof)&&!Wu(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function BN(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function zw(e,t){const n=BN(e);return Math.round(t*n)/n}function sm(e){const t=h.useRef(e);return iu(()=>{t.current=e}),t}function gL(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,f]=h.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,g]=h.useState(s);Wu(m,s)||g(s);const[j,v]=h.useState(null),[w,x]=h.useState(null),p=h.useCallback(k=>{k!==P.current&&(P.current=k,v(k))},[]),y=h.useCallback(k=>{k!==C.current&&(C.current=k,x(k))},[]),_=i||j,S=o||w,P=h.useRef(null),C=h.useRef(null),T=h.useRef(u),A=c!=null,D=sm(c),$=sm(a),I=sm(d),M=h.useCallback(()=>{if(!P.current||!C.current)return;const k={placement:t,strategy:n,middleware:m};$.current&&(k.platform=$.current),hL(P.current,C.current,k).then(N=>{const b={...N,isPositioned:I.current!==!1};F.current&&!Wu(T.current,b)&&(T.current=b,vs.flushSync(()=>{f(b)}))})},[m,t,n,$,I]);iu(()=>{d===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f(k=>({...k,isPositioned:!1})))},[d]);const F=h.useRef(!1);iu(()=>(F.current=!0,()=>{F.current=!1}),[]),iu(()=>{if(_&&(P.current=_),S&&(C.current=S),_&&S){if(D.current)return D.current(_,S,M);M()}},[_,S,M,D,A]);const J=h.useMemo(()=>({reference:P,floating:C,setReference:p,setFloating:y}),[p,y]),U=h.useMemo(()=>({reference:_,floating:S}),[_,S]),z=h.useMemo(()=>{const k={position:n,left:0,top:0};if(!U.floating)return k;const N=zw(U.floating,u.x),b=zw(U.floating,u.y);return l?{...k,transform:"translate("+N+"px, "+b+"px)",...BN(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:N,top:b}},[n,l,U.floating,u.x,u.y]);return h.useMemo(()=>({...u,update:M,refs:J,elements:U,floatingStyles:z}),[u,M,J,U,z])}const xL=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:a}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?Vw({element:s.current,padding:a}).fn(n):{}:s?Vw({element:s,padding:a}).fn(n):{}}}},vL=(e,t)=>({...oL(e),options:[e,t]}),yL=(e,t)=>({...lL(e),options:[e,t]}),wL=(e,t)=>({...fL(e),options:[e,t]}),jL=(e,t)=>({...cL(e),options:[e,t]}),_L=(e,t)=>({...dL(e),options:[e,t]}),bL=(e,t)=>({...uL(e),options:[e,t]}),SL=(e,t)=>({...xL(e),options:[e,t]});var NL="Arrow",UN=h.forwardRef((e,t)=>{const{children:n,width:s=10,height:a=5,...i}=e;return r.jsx(ye.svg,{...i,ref:t,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});UN.displayName=NL;var EL=UN;function Qx(e){const[t,n]=h.useState(void 0);return $t(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var Xx="Popper",[VN,Mf]=ns(Xx),[CL,zN]=VN(Xx),WN=e=>{const{__scopePopper:t,children:n}=e,[s,a]=h.useState(null);return r.jsx(CL,{scope:t,anchor:s,onAnchorChange:a,children:n})};WN.displayName=Xx;var HN="PopperAnchor",qN=h.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:s,...a}=e,i=zN(HN,n),o=h.useRef(null),l=Ge(t,o);return h.useEffect(()=>{i.onAnchorChange((s==null?void 0:s.current)||o.current)}),s?null:r.jsx(ye.div,{...a,ref:l})});qN.displayName=HN;var Jx="PopperContent",[TL,kL]=VN(Jx),KN=h.forwardRef((e,t)=>{var H,O,Y,V,K,te;const{__scopePopper:n,side:s="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:j,...v}=e,w=zN(Jx,n),[x,p]=h.useState(null),y=Ge(t,ue=>p(ue)),[_,S]=h.useState(null),P=Qx(_),C=(P==null?void 0:P.width)??0,T=(P==null?void 0:P.height)??0,A=s+(i!=="center"?"-"+i:""),D=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},$=Array.isArray(d)?d:[d],I=$.length>0,M={padding:D,boundary:$.filter(RL),altBoundary:I},{refs:F,floatingStyles:J,placement:U,isPositioned:z,middlewareData:k}=gL({strategy:"fixed",placement:A,whileElementsMounted:(...ue)=>iL(...ue,{animationFrame:g==="always"}),elements:{reference:w.anchor},middleware:[vL({mainAxis:a+T,alignmentAxis:o}),c&&yL({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?wL():void 0,...M}),c&&jL({...M}),_L({...M,apply:({elements:ue,rects:fe,availableWidth:ce,availableHeight:me})=>{const{width:we,height:qe}=fe.reference,de=ue.floating.style;de.setProperty("--radix-popper-available-width",`${ce}px`),de.setProperty("--radix-popper-available-height",`${me}px`),de.setProperty("--radix-popper-anchor-width",`${we}px`),de.setProperty("--radix-popper-anchor-height",`${qe}px`)}}),_&&SL({element:_,padding:l}),AL({arrowWidth:C,arrowHeight:T}),m&&bL({strategy:"referenceHidden",...M})]}),[N,b]=QN(U),E=Zn(j);$t(()=>{z&&(E==null||E())},[z,E]);const R=(H=k.arrow)==null?void 0:H.x,B=(O=k.arrow)==null?void 0:O.y,L=((Y=k.arrow)==null?void 0:Y.centerOffset)!==0,[G,q]=h.useState();return $t(()=>{x&&q(window.getComputedStyle(x).zIndex)},[x]),r.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:z?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:G,"--radix-popper-transform-origin":[(V=k.transformOrigin)==null?void 0:V.x,(K=k.transformOrigin)==null?void 0:K.y].join(" "),...((te=k.hide)==null?void 0:te.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(TL,{scope:n,placedSide:N,onArrowChange:S,arrowX:R,arrowY:B,shouldHideArrow:L,children:r.jsx(ye.div,{"data-side":N,"data-align":b,...v,ref:y,style:{...v.style,animation:z?void 0:"none"}})})})});KN.displayName=Jx;var GN="PopperArrow",PL={top:"bottom",right:"left",bottom:"top",left:"right"},YN=h.forwardRef(function(t,n){const{__scopePopper:s,...a}=t,i=kL(GN,s),o=PL[i.placedSide];return r.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:r.jsx(EL,{...a,ref:n,style:{...a.style,display:"block"}})})});YN.displayName=GN;function RL(e){return e!==null}var AL=e=>({name:"transformOrigin",options:e,fn(t){var w,x,p;const{placement:n,rects:s,middlewareData:a}=t,o=((w=a.arrow)==null?void 0:w.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=QN(n),f={start:"0%",center:"50%",end:"100%"}[u],m=(((x=a.arrow)==null?void 0:x.x)??0)+l/2,g=(((p=a.arrow)==null?void 0:p.y)??0)+c/2;let j="",v="";return d==="bottom"?(j=o?f:`${m}px`,v=`${-c}px`):d==="top"?(j=o?f:`${m}px`,v=`${s.floating.height+c}px`):d==="right"?(j=`${-c}px`,v=o?f:`${g}px`):d==="left"&&(j=`${s.floating.width+c}px`,v=o?f:`${g}px`),{data:{x:j,y:v}}}});function QN(e){const[t,n="center"]=e.split("-");return[t,n]}var $L=WN,XN=qN,JN=KN,ZN=YN,[Lf,H7]=ns("Tooltip",[Mf]),Zx=Mf(),e1="TooltipProvider",DL=700,Ww="tooltip.open",[ML,t1]=Lf(e1),n1=e=>{const{__scopeTooltip:t,delayDuration:n=DL,skipDelayDuration:s=300,disableHoverableContent:a=!1,children:i}=e,o=h.useRef(!0),l=h.useRef(!1),c=h.useRef(0);return h.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),r.jsx(ML,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:h.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:h.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,s)},[s]),isPointerInTransitRef:l,onPointerInTransitChange:h.useCallback(d=>{l.current=d},[]),disableHoverableContent:a,children:i})};n1.displayName=e1;var s1="Tooltip",[q7,Gc]=Lf(s1),Hp="TooltipTrigger",LL=h.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,a=Gc(Hp,n),i=t1(Hp,n),o=Zx(n),l=h.useRef(null),c=Ge(t,l,a.onTriggerChange),d=h.useRef(!1),u=h.useRef(!1),f=h.useCallback(()=>d.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),r.jsx(XN,{asChild:!0,...o,children:r.jsx(ye.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...s,ref:c,onPointerMove:ve(e.onPointerMove,m=>{m.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),u.current=!0)}),onPointerLeave:ve(e.onPointerLeave,()=>{a.onTriggerLeave(),u.current=!1}),onPointerDown:ve(e.onPointerDown,()=>{a.open&&a.onClose(),d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ve(e.onFocus,()=>{d.current||a.onOpen()}),onBlur:ve(e.onBlur,a.onClose),onClick:ve(e.onClick,a.onClose)})})});LL.displayName=Hp;var ev="TooltipPortal",[IL,OL]=Lf(ev,{forceMount:void 0}),r1=e=>{const{__scopeTooltip:t,forceMount:n,children:s,container:a}=e,i=Gc(ev,t);return r.jsx(IL,{scope:t,forceMount:n,children:r.jsx(fr,{present:n||i.open,children:r.jsx(Wc,{asChild:!0,container:a,children:s})})})};r1.displayName=ev;var Io="TooltipContent",a1=h.forwardRef((e,t)=>{const n=OL(Io,e.__scopeTooltip),{forceMount:s=n.forceMount,side:a="top",...i}=e,o=Gc(Io,e.__scopeTooltip);return r.jsx(fr,{present:s||o.open,children:o.disableHoverableContent?r.jsx(i1,{side:a,...i,ref:t}):r.jsx(FL,{side:a,...i,ref:t})})}),FL=h.forwardRef((e,t)=>{const n=Gc(Io,e.__scopeTooltip),s=t1(Io,e.__scopeTooltip),a=h.useRef(null),i=Ge(t,a),[o,l]=h.useState(null),{trigger:c,onClose:d}=n,u=a.current,{onPointerInTransitChange:f}=s,m=h.useCallback(()=>{l(null),f(!1)},[f]),g=h.useCallback((j,v)=>{const w=j.currentTarget,x={x:j.clientX,y:j.clientY},p=WL(x,w.getBoundingClientRect()),y=HL(x,p),_=qL(v.getBoundingClientRect()),S=GL([...y,..._]);l(S),f(!0)},[f]);return h.useEffect(()=>()=>m(),[m]),h.useEffect(()=>{if(c&&u){const j=w=>g(w,u),v=w=>g(w,c);return c.addEventListener("pointerleave",j),u.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",j),u.removeEventListener("pointerleave",v)}}},[c,u,g,m]),h.useEffect(()=>{if(o){const j=v=>{const w=v.target,x={x:v.clientX,y:v.clientY},p=(c==null?void 0:c.contains(w))||(u==null?void 0:u.contains(w)),y=!KL(x,o);p?m():y&&(m(),d())};return document.addEventListener("pointermove",j),()=>document.removeEventListener("pointermove",j)}},[c,u,o,d,m]),r.jsx(i1,{...e,ref:i})}),[BL,UL]=Lf(s1,{isInside:!1}),VL=xA("TooltipContent"),i1=h.forwardRef((e,t)=>{const{__scopeTooltip:n,children:s,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=Gc(Io,n),d=Zx(n),{onClose:u}=c;return h.useEffect(()=>(document.addEventListener(Ww,u),()=>document.removeEventListener(Ww,u)),[u]),h.useEffect(()=>{if(c.trigger){const f=m=>{const g=m.target;g!=null&&g.contains(c.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,u]),r.jsx(zc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:r.jsxs(JN,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[r.jsx(VL,{children:s}),r.jsx(BL,{scope:n,isInside:!0,children:r.jsx(FA,{id:c.contentId,role:"tooltip",children:a||s})})]})})});a1.displayName=Io;var o1="TooltipArrow",zL=h.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,a=Zx(n);return UL(o1,n).isInside?null:r.jsx(ZN,{...a,...s,ref:t})});zL.displayName=o1;function WL(e,t){const n=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,s,a,i)){case i:return"left";case a:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function HL(e,t,n=5){const s=[];switch(t){case"top":s.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":s.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":s.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":s.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return s}function qL(e){const{top:t,right:n,bottom:s,left:a}=e;return[{x:a,y:t},{x:n,y:t},{x:n,y:s},{x:a,y:s}]}function KL(e,t){const{x:n,y:s}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],d=l.x,u=l.y,f=c.x,m=c.y;u>s!=m>s&&n<(f-d)*(s-u)/(m-u)+d&&(a=!a)}return a}function GL(e){const t=e.slice();return t.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),YL(t)}function YL(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const a=e[s];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const n=[];for(let s=e.length-1;s>=0;s--){const a=e[s];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))n.pop();else break}n.push(a)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var QL=n1,XL=r1,l1=a1;const JL=QL,ZL=h.forwardRef(({className:e,sideOffset:t=4,...n},s)=>r.jsx(XL,{children:r.jsx(l1,{ref:s,sideOffset:t,className:xe("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n})}));ZL.displayName=l1.displayName;var If=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Of=typeof window>"u"||"Deno"in globalThis;function Rs(){}function eI(e,t){return typeof e=="function"?e(t):e}function tI(e){return typeof e=="number"&&e>=0&&e!==1/0}function nI(e,t){return Math.max(e+(t||0)-Date.now(),0)}function qp(e,t){return typeof e=="function"?e(t):e}function sI(e,t){return typeof e=="function"?e(t):e}function Hw(e,t){const{type:n="all",exact:s,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(s){if(t.queryHash!==tv(o,t.options))return!1}else if(!_c(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function qw(e,t){const{exact:n,status:s,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(jc(t.options.mutationKey)!==jc(i))return!1}else if(!_c(t.options.mutationKey,i))return!1}return!(s&&t.state.status!==s||a&&!a(t))}function tv(e,t){return((t==null?void 0:t.queryKeyHashFn)||jc)(e)}function jc(e){return JSON.stringify(e,(t,n)=>Kp(n)?Object.keys(n).sort().reduce((s,a)=>(s[a]=n[a],s),{}):n)}function _c(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>_c(e[n],t[n])):!1}function c1(e,t){if(e===t)return e;const n=Kw(e)&&Kw(t);if(n||Kp(e)&&Kp(t)){const s=n?e:Object.keys(e),a=s.length,i=n?t:Object.keys(t),o=i.length,l=n?[]:{},c=new Set(s);let d=0;for(let u=0;u<o;u++){const f=n?u:i[u];(!n&&c.has(f)||n)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,d++):(l[f]=c1(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&d++)}return a===o&&d===a?e:l}return t}function Kw(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Kp(e){if(!Gw(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Gw(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Gw(e){return Object.prototype.toString.call(e)==="[object Object]"}function rI(e){return new Promise(t=>{setTimeout(t,e)})}function aI(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?c1(e,t):t}function iI(e,t,n=0){const s=[...e,t];return n&&s.length>n?s.slice(1):s}function oI(e,t,n=0){const s=[t,...e];return n&&s.length>n?s.slice(0,-1):s}var nv=Symbol();function d1(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===nv?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var ni,sa,vo,g_,lI=(g_=class extends If{constructor(){super();He(this,ni);He(this,sa);He(this,vo);Ne(this,vo,t=>{if(!Of&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){X(this,sa)||this.setEventListener(X(this,vo))}onUnsubscribe(){var t;this.hasListeners()||((t=X(this,sa))==null||t.call(this),Ne(this,sa,void 0))}setEventListener(t){var n;Ne(this,vo,t),(n=X(this,sa))==null||n.call(this),Ne(this,sa,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){X(this,ni)!==t&&(Ne(this,ni,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof X(this,ni)=="boolean"?X(this,ni):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ni=new WeakMap,sa=new WeakMap,vo=new WeakMap,g_),u1=new lI,yo,ra,wo,x_,cI=(x_=class extends If{constructor(){super();He(this,yo,!0);He(this,ra);He(this,wo);Ne(this,wo,t=>{if(!Of&&window.addEventListener){const n=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){X(this,ra)||this.setEventListener(X(this,wo))}onUnsubscribe(){var t;this.hasListeners()||((t=X(this,ra))==null||t.call(this),Ne(this,ra,void 0))}setEventListener(t){var n;Ne(this,wo,t),(n=X(this,ra))==null||n.call(this),Ne(this,ra,t(this.setOnline.bind(this)))}setOnline(t){X(this,yo)!==t&&(Ne(this,yo,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return X(this,yo)}},yo=new WeakMap,ra=new WeakMap,wo=new WeakMap,x_),Hu=new cI;function dI(){let e,t;const n=new Promise((a,i)=>{e=a,t=i});n.status="pending",n.catch(()=>{});function s(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{s({status:"fulfilled",value:a}),e(a)},n.reject=a=>{s({status:"rejected",reason:a}),t(a)},n}function uI(e){return Math.min(1e3*2**e,3e4)}function f1(e){return(e??"online")==="online"?Hu.isOnline():!0}var h1=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function rm(e){return e instanceof h1}function m1(e){let t=!1,n=0,s=!1,a;const i=dI(),o=v=>{var w;s||(m(new h1(v)),(w=e.abort)==null||w.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>u1.isFocused()&&(e.networkMode==="always"||Hu.isOnline())&&e.canRun(),u=()=>f1(e.networkMode)&&e.canRun(),f=v=>{var w;s||(s=!0,(w=e.onSuccess)==null||w.call(e,v),a==null||a(),i.resolve(v))},m=v=>{var w;s||(s=!0,(w=e.onError)==null||w.call(e,v),a==null||a(),i.reject(v))},g=()=>new Promise(v=>{var w;a=x=>{(s||d())&&v(x)},(w=e.onPause)==null||w.call(e)}).then(()=>{var v;a=void 0,s||(v=e.onContinue)==null||v.call(e)}),j=()=>{if(s)return;let v;const w=n===0?e.initialPromise:void 0;try{v=w??e.fn()}catch(x){v=Promise.reject(x)}Promise.resolve(v).then(f).catch(x=>{var P;if(s)return;const p=e.retry??(Of?0:3),y=e.retryDelay??uI,_=typeof y=="function"?y(n,x):y,S=p===!0||typeof p=="number"&&n<p||typeof p=="function"&&p(n,x);if(t||!S){m(x);return}n++,(P=e.onFail)==null||P.call(e,n,x),rI(_).then(()=>d()?void 0:g()).then(()=>{t?m(x):j()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?j():g().then(j),i)}}var fI=e=>setTimeout(e,0);function hI(){let e=[],t=0,n=l=>{l()},s=l=>{l()},a=fI;const i=l=>{t?e.push(l):a(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{s(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{a=l}}}var Cn=hI(),si,v_,p1=(v_=class{constructor(){He(this,si)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),tI(this.gcTime)&&Ne(this,si,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Of?1/0:5*60*1e3))}clearGcTimeout(){X(this,si)&&(clearTimeout(X(this,si)),Ne(this,si,void 0))}},si=new WeakMap,v_),jo,ri,hs,ai,gn,Lc,ii,As,gr,y_,mI=(y_=class extends p1{constructor(t){super();He(this,As);He(this,jo);He(this,ri);He(this,hs);He(this,ai);He(this,gn);He(this,Lc);He(this,ii);Ne(this,ii,!1),Ne(this,Lc,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ne(this,ai,t.client),Ne(this,hs,X(this,ai).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ne(this,jo,gI(this.options)),this.state=t.state??X(this,jo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=X(this,gn))==null?void 0:t.promise}setOptions(t){this.options={...X(this,Lc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&X(this,hs).remove(this)}setData(t,n){const s=aI(this.state.data,t,this.options);return fn(this,As,gr).call(this,{data:s,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),s}setState(t,n){fn(this,As,gr).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var s,a;const n=(s=X(this,gn))==null?void 0:s.promise;return(a=X(this,gn))==null||a.cancel(t),n?n.then(Rs).catch(Rs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(X(this,jo))}isActive(){return this.observers.some(t=>sI(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===nv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>qp(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!nI(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=X(this,gn))==null||n.continue()}onOnline(){var n;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=X(this,gn))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),X(this,hs).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(X(this,gn)&&(X(this,ii)?X(this,gn).cancel({revert:!0}):X(this,gn).cancelRetry()),this.scheduleGc()),X(this,hs).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||fn(this,As,gr).call(this,{type:"invalidate"})}fetch(t,n){var d,u,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(X(this,gn))return X(this,gn).continueRetry(),X(this,gn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(g=>g.options.queryFn);m&&this.setOptions(m.options)}const s=new AbortController,a=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(Ne(this,ii,!0),s.signal)})},i=()=>{const m=d1(this.options,n),j=(()=>{const v={client:X(this,ai),queryKey:this.queryKey,meta:this.meta};return a(v),v})();return Ne(this,ii,!1),this.options.persister?this.options.persister(m,j,this):m(j)},l=(()=>{const m={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:X(this,ai),state:this.state,fetchFn:i};return a(m),m})();(d=this.options.behavior)==null||d.onFetch(l,this),Ne(this,ri,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=l.fetchOptions)==null?void 0:u.meta))&&fn(this,As,gr).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=m=>{var g,j,v,w;rm(m)&&m.silent||fn(this,As,gr).call(this,{type:"error",error:m}),rm(m)||((j=(g=X(this,hs).config).onError)==null||j.call(g,m,this),(w=(v=X(this,hs).config).onSettled)==null||w.call(v,this.state.data,m,this)),this.scheduleGc()};return Ne(this,gn,m1({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:s.abort.bind(s),onSuccess:m=>{var g,j,v,w;if(m===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(x){c(x);return}(j=(g=X(this,hs).config).onSuccess)==null||j.call(g,m,this),(w=(v=X(this,hs).config).onSettled)==null||w.call(v,m,this.state.error,this),this.scheduleGc()},onError:c,onFail:(m,g)=>{fn(this,As,gr).call(this,{type:"failed",failureCount:m,error:g})},onPause:()=>{fn(this,As,gr).call(this,{type:"pause"})},onContinue:()=>{fn(this,As,gr).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),X(this,gn).start()}},jo=new WeakMap,ri=new WeakMap,hs=new WeakMap,ai=new WeakMap,gn=new WeakMap,Lc=new WeakMap,ii=new WeakMap,As=new WeakSet,gr=function(t){const n=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...pI(s.data,this.options),fetchMeta:t.meta??null};case"success":return Ne(this,ri,void 0),{...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return rm(a)&&a.revert&&X(this,ri)?{...X(this,ri),fetchStatus:"idle"}:{...s,error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=n(this.state),Cn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),X(this,hs).notify({query:this,type:"updated",action:t})})},y_);function pI(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:f1(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function gI(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,s=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Xs,w_,xI=(w_=class extends If{constructor(t={}){super();He(this,Xs);this.config=t,Ne(this,Xs,new Map)}build(t,n,s){const a=n.queryKey,i=n.queryHash??tv(a,n);let o=this.get(i);return o||(o=new mI({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(n),state:s,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){X(this,Xs).has(t.queryHash)||(X(this,Xs).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=X(this,Xs).get(t.queryHash);n&&(t.destroy(),n===t&&X(this,Xs).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Cn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return X(this,Xs).get(t)}getAll(){return[...X(this,Xs).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(s=>Hw(n,s))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(s=>Hw(t,s)):n}notify(t){Cn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Cn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Cn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Xs=new WeakMap,w_),Js,Nn,oi,Zs,qr,j_,vI=(j_=class extends p1{constructor(t){super();He(this,Zs);He(this,Js);He(this,Nn);He(this,oi);this.mutationId=t.mutationId,Ne(this,Nn,t.mutationCache),Ne(this,Js,[]),this.state=t.state||yI(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){X(this,Js).includes(t)||(X(this,Js).push(t),this.clearGcTimeout(),X(this,Nn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ne(this,Js,X(this,Js).filter(n=>n!==t)),this.scheduleGc(),X(this,Nn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){X(this,Js).length||(this.state.status==="pending"?this.scheduleGc():X(this,Nn).remove(this))}continue(){var t;return((t=X(this,oi))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,l,c,d,u,f,m,g,j,v,w,x,p,y,_,S,P,C,T;const n=()=>{fn(this,Zs,qr).call(this,{type:"continue"})};Ne(this,oi,m1({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(A,D)=>{fn(this,Zs,qr).call(this,{type:"failed",failureCount:A,error:D})},onPause:()=>{fn(this,Zs,qr).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>X(this,Nn).canRun(this)}));const s=this.state.status==="pending",a=!X(this,oi).canStart();try{if(s)n();else{fn(this,Zs,qr).call(this,{type:"pending",variables:t,isPaused:a}),await((o=(i=X(this,Nn).config).onMutate)==null?void 0:o.call(i,t,this));const D=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));D!==this.state.context&&fn(this,Zs,qr).call(this,{type:"pending",context:D,variables:t,isPaused:a})}const A=await X(this,oi).start();return await((u=(d=X(this,Nn).config).onSuccess)==null?void 0:u.call(d,A,t,this.state.context,this)),await((m=(f=this.options).onSuccess)==null?void 0:m.call(f,A,t,this.state.context)),await((j=(g=X(this,Nn).config).onSettled)==null?void 0:j.call(g,A,null,this.state.variables,this.state.context,this)),await((w=(v=this.options).onSettled)==null?void 0:w.call(v,A,null,t,this.state.context)),fn(this,Zs,qr).call(this,{type:"success",data:A}),A}catch(A){try{throw await((p=(x=X(this,Nn).config).onError)==null?void 0:p.call(x,A,t,this.state.context,this)),await((_=(y=this.options).onError)==null?void 0:_.call(y,A,t,this.state.context)),await((P=(S=X(this,Nn).config).onSettled)==null?void 0:P.call(S,void 0,A,this.state.variables,this.state.context,this)),await((T=(C=this.options).onSettled)==null?void 0:T.call(C,void 0,A,t,this.state.context)),A}finally{fn(this,Zs,qr).call(this,{type:"error",error:A})}}finally{X(this,Nn).runNext(this)}}},Js=new WeakMap,Nn=new WeakMap,oi=new WeakMap,Zs=new WeakSet,qr=function(t){const n=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Cn.batch(()=>{X(this,Js).forEach(s=>{s.onMutationUpdate(t)}),X(this,Nn).notify({mutation:this,type:"updated",action:t})})},j_);function yI(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var _r,$s,Ic,__,wI=(__=class extends If{constructor(t={}){super();He(this,_r);He(this,$s);He(this,Ic);this.config=t,Ne(this,_r,new Set),Ne(this,$s,new Map),Ne(this,Ic,0)}build(t,n,s){const a=new vI({mutationCache:this,mutationId:++dd(this,Ic)._,options:t.defaultMutationOptions(n),state:s});return this.add(a),a}add(t){X(this,_r).add(t);const n=Rd(t);if(typeof n=="string"){const s=X(this,$s).get(n);s?s.push(t):X(this,$s).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(X(this,_r).delete(t)){const n=Rd(t);if(typeof n=="string"){const s=X(this,$s).get(n);if(s)if(s.length>1){const a=s.indexOf(t);a!==-1&&s.splice(a,1)}else s[0]===t&&X(this,$s).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Rd(t);if(typeof n=="string"){const s=X(this,$s).get(n),a=s==null?void 0:s.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var s;const n=Rd(t);if(typeof n=="string"){const a=(s=X(this,$s).get(n))==null?void 0:s.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Cn.batch(()=>{X(this,_r).forEach(t=>{this.notify({type:"removed",mutation:t})}),X(this,_r).clear(),X(this,$s).clear()})}getAll(){return Array.from(X(this,_r))}find(t){const n={exact:!0,...t};return this.getAll().find(s=>qw(n,s))}findAll(t={}){return this.getAll().filter(n=>qw(t,n))}notify(t){Cn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Cn.batch(()=>Promise.all(t.map(n=>n.continue().catch(Rs))))}},_r=new WeakMap,$s=new WeakMap,Ic=new WeakMap,__);function Rd(e){var t;return(t=e.options.scope)==null?void 0:t.id}function Yw(e){return{onFetch:(t,n)=>{var u,f,m,g,j;const s=t.options,a=(m=(f=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,i=((g=t.state.data)==null?void 0:g.pages)||[],o=((j=t.state.data)==null?void 0:j.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let v=!1;const w=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},x=d1(t.options,t.fetchOptions),p=async(y,_,S)=>{if(v)return Promise.reject();if(_==null&&y.pages.length)return Promise.resolve(y);const C=(()=>{const $={client:t.client,queryKey:t.queryKey,pageParam:_,direction:S?"backward":"forward",meta:t.options.meta};return w($),$})(),T=await x(C),{maxPages:A}=t.options,D=S?oI:iI;return{pages:D(y.pages,T,A),pageParams:D(y.pageParams,_,A)}};if(a&&i.length){const y=a==="backward",_=y?jI:Qw,S={pages:i,pageParams:o},P=_(s,S);l=await p(S,P,y)}else{const y=e??i.length;do{const _=c===0?o[0]??s.initialPageParam:Qw(s,l);if(c>0&&_==null)break;l=await p(l,_),c++}while(c<y)}return l};t.options.persister?t.fetchFn=()=>{var v,w;return(w=(v=t.options).persister)==null?void 0:w.call(v,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=d}}}function Qw(e,{pages:t,pageParams:n}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,n[s],n):void 0}function jI(e,{pages:t,pageParams:n}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,n[0],n):void 0}var Et,aa,ia,_o,bo,oa,So,No,b_,_I=(b_=class{constructor(e={}){He(this,Et);He(this,aa);He(this,ia);He(this,_o);He(this,bo);He(this,oa);He(this,So);He(this,No);Ne(this,Et,e.queryCache||new xI),Ne(this,aa,e.mutationCache||new wI),Ne(this,ia,e.defaultOptions||{}),Ne(this,_o,new Map),Ne(this,bo,new Map),Ne(this,oa,0)}mount(){dd(this,oa)._++,X(this,oa)===1&&(Ne(this,So,u1.subscribe(async e=>{e&&(await this.resumePausedMutations(),X(this,Et).onFocus())})),Ne(this,No,Hu.subscribe(async e=>{e&&(await this.resumePausedMutations(),X(this,Et).onOnline())})))}unmount(){var e,t;dd(this,oa)._--,X(this,oa)===0&&((e=X(this,So))==null||e.call(this),Ne(this,So,void 0),(t=X(this,No))==null||t.call(this),Ne(this,No,void 0))}isFetching(e){return X(this,Et).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return X(this,aa).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=X(this,Et).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=X(this,Et).build(this,t),s=n.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(qp(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return X(this,Et).findAll(e).map(({queryKey:t,state:n})=>{const s=n.data;return[t,s]})}setQueryData(e,t,n){const s=this.defaultQueryOptions({queryKey:e}),a=X(this,Et).get(s.queryHash),i=a==null?void 0:a.state.data,o=eI(t,i);if(o!==void 0)return X(this,Et).build(this,s).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Cn.batch(()=>X(this,Et).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=X(this,Et).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=X(this,Et);Cn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=X(this,Et);return Cn.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},s=Cn.batch(()=>X(this,Et).findAll(e).map(a=>a.cancel(n)));return Promise.all(s).then(Rs).catch(Rs)}invalidateQueries(e,t={}){return Cn.batch(()=>(X(this,Et).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},s=Cn.batch(()=>X(this,Et).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,n);return n.throwOnError||(i=i.catch(Rs)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(Rs)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=X(this,Et).build(this,t);return n.isStaleByTime(qp(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Rs).catch(Rs)}fetchInfiniteQuery(e){return e.behavior=Yw(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Rs).catch(Rs)}ensureInfiniteQueryData(e){return e.behavior=Yw(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Hu.isOnline()?X(this,aa).resumePausedMutations():Promise.resolve()}getQueryCache(){return X(this,Et)}getMutationCache(){return X(this,aa)}getDefaultOptions(){return X(this,ia)}setDefaultOptions(e){Ne(this,ia,e)}setQueryDefaults(e,t){X(this,_o).set(jc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...X(this,_o).values()],n={};return t.forEach(s=>{_c(e,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(e,t){X(this,bo).set(jc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...X(this,bo).values()],n={};return t.forEach(s=>{_c(e,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...X(this,ia).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=tv(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===nv&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...X(this,ia).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){X(this,Et).clear(),X(this,aa).clear()}},Et=new WeakMap,aa=new WeakMap,ia=new WeakMap,_o=new WeakMap,bo=new WeakMap,oa=new WeakMap,So=new WeakMap,No=new WeakMap,b_),bI=h.createContext(void 0),SI=({client:e,children:t})=>(h.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(bI.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bc(){return bc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},bc.apply(this,arguments)}var ua;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ua||(ua={}));const Xw="popstate";function NI(e){e===void 0&&(e={});function t(s,a){let{pathname:i,search:o,hash:l}=s.location;return Gp("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:qu(a)}return CI(t,n,null,e)}function It(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function g1(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function EI(){return Math.random().toString(36).substr(2,8)}function Jw(e,t){return{usr:e.state,key:e.key,idx:t}}function Gp(e,t,n,s){return n===void 0&&(n=null),bc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Qo(t):t,{state:n,key:t&&t.key||s||EI()})}function qu(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Qo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function CI(e,t,n,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:i=!1}=s,o=a.history,l=ua.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(bc({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function f(){l=ua.Pop;let w=u(),x=w==null?null:w-d;d=w,c&&c({action:l,location:v.location,delta:x})}function m(w,x){l=ua.Push;let p=Gp(v.location,w,x);d=u()+1;let y=Jw(p,d),_=v.createHref(p);try{o.pushState(y,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(_)}i&&c&&c({action:l,location:v.location,delta:1})}function g(w,x){l=ua.Replace;let p=Gp(v.location,w,x);d=u();let y=Jw(p,d),_=v.createHref(p);o.replaceState(y,"",_),i&&c&&c({action:l,location:v.location,delta:0})}function j(w){let x=a.location.origin!=="null"?a.location.origin:a.location.href,p=typeof w=="string"?w:qu(w);return p=p.replace(/ $/,"%20"),It(x,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,x)}let v={get action(){return l},get location(){return e(a,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Xw,f),c=w,()=>{a.removeEventListener(Xw,f),c=null}},createHref(w){return t(a,w)},createURL:j,encodeLocation(w){let x=j(w);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:g,go(w){return o.go(w)}};return v}var Zw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Zw||(Zw={}));function TI(e,t,n){return n===void 0&&(n="/"),kI(e,t,n)}function kI(e,t,n,s){let a=typeof t=="string"?Qo(t):t,i=sv(a.pathname||"/",n);if(i==null)return null;let o=x1(e);PI(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=VI(i);l=FI(o[c],d)}return l}function x1(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(It(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let d=wa([s,c.relativePath]),u=n.concat(c);i.children&&i.children.length>0&&(It(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),x1(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:II(d,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of v1(i.path))a(i,o,c)}),t}function v1(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(s.length===0)return a?[i,""]:[i];let o=v1(s.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function PI(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:OI(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const RI=/^:[\w-]+$/,AI=3,$I=2,DI=1,MI=10,LI=-2,e0=e=>e==="*";function II(e,t){let n=e.split("/"),s=n.length;return n.some(e0)&&(s+=LI),t&&(s+=$I),n.filter(a=>!e0(a)).reduce((a,i)=>a+(RI.test(i)?AI:i===""?DI:MI),s)}function OI(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function FI(e,t,n){let{routesMeta:s}=e,a={},i="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],d=l===s.length-1,u=i==="/"?t:t.slice(i.length)||"/",f=BI({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),m=c.route;if(!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:wa([i,f.pathname]),pathnameBase:qI(wa([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=wa([i,f.pathnameBase]))}return o}function BI(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=UI(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:s.reduce((d,u,f)=>{let{paramName:m,isOptional:g}=u;if(m==="*"){let v=l[f]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const j=l[f];return g&&!j?d[m]=void 0:d[m]=(j||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function UI(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),g1(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function VI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return g1(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function sv(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function zI(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:a=""}=typeof e=="string"?Qo(e):e;return{pathname:n?n.startsWith("/")?n:WI(n,t):t,search:KI(s),hash:GI(a)}}function WI(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function am(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function HI(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function y1(e,t){let n=HI(e);return t?n.map((s,a)=>a===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function w1(e,t,n,s){s===void 0&&(s=!1);let a;typeof e=="string"?a=Qo(e):(a=bc({},e),It(!a.pathname||!a.pathname.includes("?"),am("?","pathname","search",a)),It(!a.pathname||!a.pathname.includes("#"),am("#","pathname","hash",a)),It(!a.search||!a.search.includes("#"),am("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=n;else{let f=t.length-1;if(!s&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;a.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=zI(a,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const wa=e=>e.join("/").replace(/\/\/+/g,"/"),qI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),KI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,GI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function YI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const j1=["post","put","patch","delete"];new Set(j1);const QI=["get",...j1];new Set(QI);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sc(){return Sc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Sc.apply(this,arguments)}const rv=h.createContext(null),XI=h.createContext(null),Ni=h.createContext(null),Ff=h.createContext(null),Ra=h.createContext({outlet:null,matches:[],isDataRoute:!1}),_1=h.createContext(null);function JI(e,t){let{relative:n}=t===void 0?{}:t;Yc()||It(!1);let{basename:s,navigator:a}=h.useContext(Ni),{hash:i,pathname:o,search:l}=N1(e,{relative:n}),c=o;return s!=="/"&&(c=o==="/"?s:wa([s,o])),a.createHref({pathname:c,search:l,hash:i})}function Yc(){return h.useContext(Ff)!=null}function Xo(){return Yc()||It(!1),h.useContext(Ff).location}function b1(e){h.useContext(Ni).static||h.useLayoutEffect(e)}function ZI(){let{isDataRoute:e}=h.useContext(Ra);return e?fO():eO()}function eO(){Yc()||It(!1);let e=h.useContext(rv),{basename:t,future:n,navigator:s}=h.useContext(Ni),{matches:a}=h.useContext(Ra),{pathname:i}=Xo(),o=JSON.stringify(y1(a,n.v7_relativeSplatPath)),l=h.useRef(!1);return b1(()=>{l.current=!0}),h.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){s.go(d);return}let f=w1(d,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:wa([t,f.pathname])),(u.replace?s.replace:s.push)(f,u.state,u)},[t,s,o,i,e])}function S1(){let{matches:e}=h.useContext(Ra),t=e[e.length-1];return t?t.params:{}}function N1(e,t){let{relative:n}=t===void 0?{}:t,{future:s}=h.useContext(Ni),{matches:a}=h.useContext(Ra),{pathname:i}=Xo(),o=JSON.stringify(y1(a,s.v7_relativeSplatPath));return h.useMemo(()=>w1(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function tO(e,t){return nO(e,t)}function nO(e,t,n,s){Yc()||It(!1);let{navigator:a}=h.useContext(Ni),{matches:i}=h.useContext(Ra),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Xo(),u;if(t){var f;let w=typeof t=="string"?Qo(t):t;c==="/"||(f=w.pathname)!=null&&f.startsWith(c)||It(!1),u=w}else u=d;let m=u.pathname||"/",g=m;if(c!=="/"){let w=c.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(w.length).join("/")}let j=TI(e,{pathname:g}),v=oO(j&&j.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:wa([c,a.encodeLocation?a.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:wa([c,a.encodeLocation?a.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n,s);return t&&v?h.createElement(Ff.Provider,{value:{location:Sc({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:ua.Pop}},v):v}function sO(){let e=uO(),t=YI(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),n?h.createElement("pre",{style:a},n):null,null)}const rO=h.createElement(sO,null);class aO extends h.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?h.createElement(Ra.Provider,{value:this.props.routeContext},h.createElement(_1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function iO(e){let{routeContext:t,match:n,children:s}=e,a=h.useContext(rv);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),h.createElement(Ra.Provider,{value:t},s)}function oO(e,t,n,s){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=s)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(a=n)==null?void 0:a.errors;if(l!=null){let u=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);u>=0||It(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(n&&s&&s.v7_partialHydration)for(let u=0;u<o.length;u++){let f=o[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=u),f.route.id){let{loaderData:m,errors:g}=n,j=f.route.loader&&m[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||j){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,f,m)=>{let g,j=!1,v=null,w=null;n&&(g=l&&f.route.id?l[f.route.id]:void 0,v=f.route.errorElement||rO,c&&(d<0&&m===0?(hO("route-fallback"),j=!0,w=null):d===m&&(j=!0,w=f.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,m+1)),p=()=>{let y;return g?y=v:j?y=w:f.route.Component?y=h.createElement(f.route.Component,null):f.route.element?y=f.route.element:y=u,h.createElement(iO,{match:f,routeContext:{outlet:u,matches:x,isDataRoute:n!=null},children:y})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?h.createElement(aO,{location:n.location,revalidation:n.revalidation,component:v,error:g,children:p(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):p()},null)}var E1=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(E1||{}),C1=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(C1||{});function lO(e){let t=h.useContext(rv);return t||It(!1),t}function cO(e){let t=h.useContext(XI);return t||It(!1),t}function dO(e){let t=h.useContext(Ra);return t||It(!1),t}function T1(e){let t=dO(),n=t.matches[t.matches.length-1];return n.route.id||It(!1),n.route.id}function uO(){var e;let t=h.useContext(_1),n=cO(),s=T1();return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function fO(){let{router:e}=lO(E1.UseNavigateStable),t=T1(C1.UseNavigateStable),n=h.useRef(!1);return b1(()=>{n.current=!0}),h.useCallback(function(a,i){i===void 0&&(i={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Sc({fromRouteId:t},i)))},[e,t])}const t0={};function hO(e,t,n){t0[e]||(t0[e]=!0)}function mO(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function On(e){It(!1)}function pO(e){let{basename:t="/",children:n=null,location:s,navigationType:a=ua.Pop,navigator:i,static:o=!1,future:l}=e;Yc()&&It(!1);let c=t.replace(/^\/*/,"/"),d=h.useMemo(()=>({basename:c,navigator:i,static:o,future:Sc({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof s=="string"&&(s=Qo(s));let{pathname:u="/",search:f="",hash:m="",state:g=null,key:j="default"}=s,v=h.useMemo(()=>{let w=sv(u,c);return w==null?null:{location:{pathname:w,search:f,hash:m,state:g,key:j},navigationType:a}},[c,u,f,m,g,j,a]);return v==null?null:h.createElement(Ni.Provider,{value:d},h.createElement(Ff.Provider,{children:n,value:v}))}function gO(e){let{children:t,location:n}=e;return tO(Yp(t),n)}new Promise(()=>{});function Yp(e,t){t===void 0&&(t=[]);let n=[];return h.Children.forEach(e,(s,a)=>{if(!h.isValidElement(s))return;let i=[...t,a];if(s.type===h.Fragment){n.push.apply(n,Yp(s.props.children,i));return}s.type!==On&&It(!1),!s.props.index||!s.props.children||It(!1);let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=Yp(s.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qp(){return Qp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Qp.apply(this,arguments)}function xO(e,t){if(e==null)return{};var n={},s=Object.keys(e),a,i;for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function vO(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function yO(e,t){return e.button===0&&(!t||t==="_self")&&!vO(e)}const wO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],jO="6";try{window.__reactRouterVersion=jO}catch{}const _O="startTransition",n0=Hg[_O];function bO(e){let{basename:t,children:n,future:s,window:a}=e,i=h.useRef();i.current==null&&(i.current=NI({window:a,v5Compat:!0}));let o=i.current,[l,c]=h.useState({action:o.action,location:o.location}),{v7_startTransition:d}=s||{},u=h.useCallback(f=>{d&&n0?n0(()=>c(f)):c(f)},[c,d]);return h.useLayoutEffect(()=>o.listen(u),[o,u]),h.useEffect(()=>mO(s),[s]),h.createElement(pO,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:s})}const SO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",NO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mt=h.forwardRef(function(t,n){let{onClick:s,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:f}=t,m=xO(t,wO),{basename:g}=h.useContext(Ni),j,v=!1;if(typeof d=="string"&&NO.test(d)&&(j=d,SO))try{let y=new URL(window.location.href),_=d.startsWith("//")?new URL(y.protocol+d):new URL(d),S=sv(_.pathname,g);_.origin===y.origin&&S!=null?d=S+_.search+_.hash:v=!0}catch{}let w=JI(d,{relative:a}),x=EO(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:f});function p(y){s&&s(y),y.defaultPrevented||x(y)}return h.createElement("a",Qp({},m,{href:j||w,onClick:v||i?s:p,ref:n,target:c}))});var s0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(s0||(s0={}));var r0;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(r0||(r0={}));function EO(e,t){let{target:n,replace:s,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=ZI(),d=Xo(),u=N1(e,{relative:o});return h.useCallback(f=>{if(yO(f,n)){f.preventDefault();let m=s!==void 0?s:qu(d)===qu(u);c(e,{replace:m,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,s,a,n,e,i,o,l])}const CO="modulepreload",TO=function(e){return"/"+e},a0={},Dr=function(t,n,s){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(n.map(c=>{if(c=TO(c),c in a0)return;a0[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":CO,d||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),d)return new Promise((m,g)=>{f.addEventListener("load",m),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},kO=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Dr(async()=>{const{default:s}=await Promise.resolve().then(()=>Jo);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)};class av extends Error{constructor(t,n="FunctionsError",s){super(t),this.name=n,this.context=s}}class PO extends av{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class i0 extends av{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class o0 extends av{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Xp;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Xp||(Xp={}));var RO=function(e,t,n,s){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(f){o(f)}}function c(u){try{d(s.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};class AO{constructor(t,{headers:n={},customFetch:s,region:a=Xp.Any}={}){this.url=t,this.headers=n,this.region=a,this.fetch=kO(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var s;return RO(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:o}=n;let l={},{region:c}=n;c||(c=this.region);const d=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let u;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const f=yield this.fetch(d.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:u}).catch(v=>{throw new PO(v)}),m=f.headers.get("x-relay-error");if(m&&m==="true")throw new i0(f);if(!f.ok)throw new o0(f);let g=((s=f.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),j;return g==="application/json"?j=yield f.json():g==="application/octet-stream"?j=yield f.blob():g==="text/event-stream"?j=f:g==="multipart/form-data"?j=yield f.formData():j=yield f.text(),{data:j,error:null,response:f}}catch(a){return{data:null,error:a,response:a instanceof o0||a instanceof i0?a.context:void 0}}})}}var Bn={},iv={},Bf={},Qc={},Uf={},Vf={},$O=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Oo=$O();const DO=Oo.fetch,k1=Oo.fetch.bind(Oo),P1=Oo.Headers,MO=Oo.Request,LO=Oo.Response,Jo=Object.freeze(Object.defineProperty({__proto__:null,Headers:P1,Request:MO,Response:LO,default:k1,fetch:DO},Symbol.toStringTag,{value:"Module"})),IO=LP(Jo);var zf={};Object.defineProperty(zf,"__esModule",{value:!0});let OO=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};zf.default=OO;var R1=js&&js.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vf,"__esModule",{value:!0});const FO=R1(IO),BO=R1(zf);let UO=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=FO.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const s=this.fetch;let a=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let d=null,u=null,f=null,m=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const x=await i.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=x:u=JSON.parse(x))}const v=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),w=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");v&&w&&w.length>1&&(f=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(d={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,f=null,m=406,g="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const v=await i.text();try{d=JSON.parse(v),Array.isArray(d)&&i.status===404&&(u=[],d=null,m=200,g="OK")}catch{i.status===404&&v===""?(m=204,g="No Content"):d={message:v}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,m=200,g="OK"),d&&this.shouldThrowOnError)throw new BO.default(d)}return{error:d,data:u,count:f,status:m,statusText:g}});return this.shouldThrowOnError||(a=a.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,n)}returns(){return this}overrideTypes(){return this}};Vf.default=UO;var VO=js&&js.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Uf,"__esModule",{value:!0});const zO=VO(Vf);let WO=class extends zO.default{select(t){let n=!1;const s=(t??"*").split("").map(a=>/\s/.test(a)&&!n?"":(a==='"'&&(n=!n),a)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:s,foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:s=n}={}){const a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,n,{foreignTable:s,referencedTable:a=s}={}){const i=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:s=!1,buffers:a=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,s?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Uf.default=WO;var HO=js&&js.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qc,"__esModule",{value:!0});const qO=HO(Uf);let KO=class extends qO.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const s=Array.from(new Set(n)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${s})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:s,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const o=s===void 0?"":`(${s})`;return this.url.searchParams.append(t,`${i}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,s])=>{this.url.searchParams.append(n,`eq.${s}`)}),this}not(t,n,s){return this.url.searchParams.append(t,`not.${n}.${s}`),this}or(t,{foreignTable:n,referencedTable:s=n}={}){const a=s?`${s}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,n,s){return this.url.searchParams.append(t,`${n}.${s}`),this}};Qc.default=KO;var GO=js&&js.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bf,"__esModule",{value:!0});const wl=GO(Qc);let YO=class{constructor(t,{headers:n={},schema:s,fetch:a}){this.url=t,this.headers=n,this.schema=s,this.fetch=a}select(t,{head:n=!1,count:s}={}){const a=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),s&&(this.headers.Prefer=`count=${s}`),new wl.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:s=!0}={}){const a="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),s||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new wl.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:s=!1,count:a,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${s?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new wl.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const s="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),this.headers.Prefer=a.join(","),new wl.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",s=[];return t&&s.push(`count=${t}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new wl.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Bf.default=YO;var Wf={},Hf={};Object.defineProperty(Hf,"__esModule",{value:!0});Hf.version=void 0;Hf.version="0.0.0-automated";Object.defineProperty(Wf,"__esModule",{value:!0});Wf.DEFAULT_HEADERS=void 0;const QO=Hf;Wf.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${QO.version}`};var A1=js&&js.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(iv,"__esModule",{value:!0});const XO=A1(Bf),JO=A1(Qc),ZO=Wf;let e4=class $1{constructor(t,{headers:n={},schema:s,fetch:a}={}){this.url=t,this.headers=Object.assign(Object.assign({},ZO.DEFAULT_HEADERS),n),this.schemaName=s,this.fetch=a}from(t){const n=new URL(`${this.url}/${t}`);return new XO.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new $1(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:s=!1,get:a=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;s||a?(o=s?"HEAD":"GET",Object.entries(n).filter(([u,f])=>f!==void 0).map(([u,f])=>[u,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([u,f])=>{l.searchParams.append(u,f)})):(o="POST",c=n);const d=Object.assign({},this.headers);return i&&(d.Prefer=`count=${i}`),new JO.default({method:o,url:l,headers:d,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};iv.default=e4;var Zo=js&&js.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bn,"__esModule",{value:!0});Bn.PostgrestError=Bn.PostgrestBuilder=Bn.PostgrestTransformBuilder=Bn.PostgrestFilterBuilder=Bn.PostgrestQueryBuilder=Bn.PostgrestClient=void 0;const D1=Zo(iv);Bn.PostgrestClient=D1.default;const M1=Zo(Bf);Bn.PostgrestQueryBuilder=M1.default;const L1=Zo(Qc);Bn.PostgrestFilterBuilder=L1.default;const I1=Zo(Uf);Bn.PostgrestTransformBuilder=I1.default;const O1=Zo(Vf);Bn.PostgrestBuilder=O1.default;const F1=Zo(zf);Bn.PostgrestError=F1.default;var t4=Bn.default={PostgrestClient:D1.default,PostgrestQueryBuilder:M1.default,PostgrestFilterBuilder:L1.default,PostgrestTransformBuilder:I1.default,PostgrestBuilder:O1.default,PostgrestError:F1.default};const{PostgrestClient:n4,PostgrestQueryBuilder:J7,PostgrestFilterBuilder:Z7,PostgrestTransformBuilder:eH,PostgrestBuilder:tH,PostgrestError:nH}=t4;function s4(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const r4=s4(),a4="2.11.15",i4=`realtime-js/${a4}`,o4="1.0.0",B1=1e4,l4=1e3;var zl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(zl||(zl={}));var pn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(pn||(pn={}));var Ms;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ms||(Ms={}));var Jp;(function(e){e.websocket="websocket"})(Jp||(Jp={}));var Qa;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Qa||(Qa={}));class c4{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),s=new TextDecoder;return this._decodeBroadcast(t,n,s)}_decodeBroadcast(t,n,s){const a=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=s.decode(t.slice(o,o+a));o=o+a;const c=s.decode(t.slice(o,o+i));o=o+i;const d=JSON.parse(s.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class U1{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var st;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(st||(st={}));const l0=(e,t,n={})=>{var s;const a=(s=n.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(t).reduce((i,o)=>(i[o]=d4(o,e,t,a),i),{})},d4=(e,t,n,s)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=n[e];return i&&!s.includes(i)?V1(i,o):Zp(o)},V1=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return m4(t,n)}switch(e){case st.bool:return u4(t);case st.float4:case st.float8:case st.int2:case st.int4:case st.int8:case st.numeric:case st.oid:return f4(t);case st.json:case st.jsonb:return h4(t);case st.timestamp:return p4(t);case st.abstime:case st.date:case st.daterange:case st.int4range:case st.int8range:case st.money:case st.reltime:case st.text:case st.time:case st.timestamptz:case st.timetz:case st.tsrange:case st.tstzrange:return Zp(t);default:return Zp(t)}},Zp=e=>e,u4=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},f4=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},h4=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},m4=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,s=e[n];if(e[0]==="{"&&s==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>V1(t,l))}return e},p4=e=>typeof e=="string"?e.replace(" ","T"):e,z1=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class im{constructor(t,n,s={},a=B1){this.channel=t,this.event=n,this.payload=s,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var s;return this._hasReceived(t)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var c0;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(c0||(c0={}));class Wl{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Wl.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=Wl.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(s.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Wl.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,s,a){const i=this.cloneDeep(t),o=this.transformState(n),l={},c={};return this.map(i,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const f=i[d];if(f){const m=u.map(w=>w.presence_ref),g=f.map(w=>w.presence_ref),j=u.filter(w=>g.indexOf(w.presence_ref)<0),v=f.filter(w=>m.indexOf(w.presence_ref)<0);j.length>0&&(l[d]=j),v.length>0&&(c[d]=v)}else l[d]=u}),this.syncDiff(i,{joins:l,leaves:c},s,a)}static syncDiff(t,n,s,a){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var d;const u=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),u.length>0){const f=t[l].map(g=>g.presence_ref),m=u.filter(g=>f.indexOf(g.presence_ref)<0);t[l].unshift(...m)}s(l,u,c)}),this.map(o,(l,c)=>{let d=t[l];if(!d)return;const u=c.map(f=>f.presence_ref);d=d.filter(f=>u.indexOf(f.presence_ref)<0),t[l]=d,a(l,d,c),d.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(s=>n(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,s)=>{const a=t[s];return"metas"in a?n[s]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[s]=a,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var d0;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(d0||(d0={}));var u0;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(u0||(u0={}));var yr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(yr||(yr={}));class ov{constructor(t,n={config:{}},s){this.topic=t,this.params=n,this.socket=s,this.bindings={},this.state=pn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new im(this,Ms.join,this.params,this.timeout),this.rejoinTimer=new U1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pn.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=pn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ms.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new Wl(this),this.broadcastEndpointURL=z1(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var s,a;if(this.socket.isConnected()||this.socket.connect(),this.state==pn.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(u=>t==null?void 0:t(yr.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(yr.CLOSED));const c={},d={broadcast:i,presence:o,postgres_changes:(a=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(u=>u.filter))!==null&&a!==void 0?a:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var f;if(this.socket.setAuth(),u===void 0){t==null||t(yr.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,g=(f=m==null?void 0:m.length)!==null&&f!==void 0?f:0,j=[];for(let v=0;v<g;v++){const w=m[v],{filter:{event:x,schema:p,table:y,filter:_}}=w,S=u&&u[v];if(S&&S.event===x&&S.schema===p&&S.table===y&&S.filter===_)j.push(Object.assign(Object.assign({},w),{id:S.id}));else{this.unsubscribe(),this.state=pn.errored,t==null||t(yr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,t&&t(yr.SUBSCRIBED);return}}).receive("error",u=>{this.state=pn.errored,t==null||t(yr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(yr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,s){return this._on(t,n,s)}async send(t,n={}){var s,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const d=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=pn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ms.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(a=>{s=new im(this,Ms.leave,{},t),s.receive("ok",()=>{n(),a("ok")}).receive("timeout",()=>{n(),a("timed out")}).receive("error",()=>{a("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,s){const a=new AbortController,i=setTimeout(()=>a.abort(),s),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(i),o}_push(t,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new im(this,t,n,s);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,n,s){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,s){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=Ms;if(s&&[l,c,d,u].indexOf(o)>=0&&s!==this._joinRef())return;let m=this._onMessage(o,n,s);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(g=>{var j,v,w;return((j=g.filter)===null||j===void 0?void 0:j.event)==="*"||((w=(v=g.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(g=>g.callback(m,s)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var j,v,w,x,p,y;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const _=g.id,S=(j=g.filter)===null||j===void 0?void 0:j.event;return _&&((v=n.ids)===null||v===void 0?void 0:v.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const _=(p=(x=g==null?void 0:g.filter)===null||x===void 0?void 0:x.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return _==="*"||_===((y=n==null?void 0:n.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof m=="object"&&"ids"in m){const j=m.data,{schema:v,table:w,commit_timestamp:x,type:p,errors:y}=j;m=Object.assign(Object.assign({},{schema:v,table:w,commit_timestamp:x,eventType:p,new:{},old:{},errors:y}),this._getPayloadRecords(j))}g.callback(m,s)})}_isClosed(){return this.state===pn.closed}_isJoined(){return this.state===pn.joined}_isJoining(){return this.state===pn.joining}_isLeaving(){return this.state===pn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,s){const a=t.toLocaleLowerCase(),i={type:a,filter:n,callback:s};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,n){const s=t.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&ov.isEqual(a.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const s in t)if(t[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ms.close,{},t)}_onError(t){this._on(Ms.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=l0(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=l0(t.columns,t.old_record)),n}}const f0=()=>{},g4=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class x4{constructor(t,n){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=B1,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=f0,this.ref=0,this.logger=f0,this.conn=null,this.sendBuffer=[],this.serializer=new c4,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>Dr(async()=>{const{default:c}=await Promise.resolve().then(()=>Jo);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${Jp.websocket}`,this.httpEndpoint=z1(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const a=(s=n==null?void 0:n.params)===null||s===void 0?void 0:s.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new U1(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=r4),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:o4}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(s=>s.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,s){this.logger(t,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case zl.connecting:return Qa.Connecting;case zl.open:return Qa.Open;case zl.closing:return Qa.Closing;default:return Qa.Closed}}isConnected(){return this.connectionState()===Qa.Open}channel(t,n={config:{}}){const s=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===s);if(a)return a;{const i=new ov(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:s,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${s} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const a={access_token:n,version:i4};n&&s.updateJoinPayload(a),s.joinedOnce&&s._isJoined()&&s._push(Ms.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(l4,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:s,event:a,payload:i,ref:o}=n;s==="phoenix"&&a==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${s} ${a} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(s)).forEach(l=>l._trigger(a,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ms.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const s=t.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${t}${s}${a}`}_workerObjectUrl(t){let n;if(t)n=t;else{const s=new Blob([g4],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}}class lv extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Kt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class v4 extends lv{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class eg extends lv{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var y4=function(e,t,n,s){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(f){o(f)}}function c(u){try{d(s.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};const W1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Dr(async()=>{const{default:s}=await Promise.resolve().then(()=>Jo);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},w4=()=>y4(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Dr(()=>Promise.resolve().then(()=>Jo),void 0)).Response:Response}),tg=e=>{if(Array.isArray(e))return e.map(n=>tg(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,s])=>{const a=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=tg(s)}),t};var Ei=function(e,t,n,s){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(f){o(f)}}function c(u){try{d(s.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};const om=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),j4=(e,t,n)=>Ei(void 0,void 0,void 0,function*(){const s=yield w4();e instanceof s&&!(n!=null&&n.noResolveJson)?e.json().then(a=>{t(new v4(om(a),e.status||500))}).catch(a=>{t(new eg(om(a),a))}):t(new eg(om(e),e))}),_4=(e,t,n,s)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s&&(a.body=JSON.stringify(s)),Object.assign(Object.assign({},a),n))};function Xc(e,t,n,s,a,i){return Ei(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,_4(t,s,a,i)).then(c=>{if(!c.ok)throw c;return s!=null&&s.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>j4(c,l,s))})})}function Ku(e,t,n,s){return Ei(this,void 0,void 0,function*(){return Xc(e,"GET",t,n,s)})}function Jr(e,t,n,s,a){return Ei(this,void 0,void 0,function*(){return Xc(e,"POST",t,s,a,n)})}function b4(e,t,n,s,a){return Ei(this,void 0,void 0,function*(){return Xc(e,"PUT",t,s,a,n)})}function S4(e,t,n,s){return Ei(this,void 0,void 0,function*(){return Xc(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function H1(e,t,n,s,a){return Ei(this,void 0,void 0,function*(){return Xc(e,"DELETE",t,s,a,n)})}var In=function(e,t,n,s){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(f){o(f)}}function c(u){try{d(s.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};const N4={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},h0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class E4{constructor(t,n={},s,a){this.url=t,this.headers=n,this.bucketId=s,this.fetch=W1(a)}uploadOrUpdate(t,n,s,a){return In(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},h0),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=s,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const d=this._removeEmptyFolders(n),u=this._getFinalPath(d),f=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),m=yield f.json();return f.ok?{data:{path:d,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(i){if(Kt(i))return{data:null,error:i};throw i}})}upload(t,n,s){return In(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,s)})}uploadToSignedUrl(t,n,s,a){return In(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let c;const d=Object.assign({upsert:h0.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.append("cacheControl",d.cacheControl)):(c=s,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:u}),m=yield f.json();return f.ok?{data:{path:i,fullPath:m.Key},error:null}:{data:null,error:m}}catch(c){if(Kt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return In(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t);const a=Object.assign({},this.headers);n!=null&&n.upsert&&(a["x-upsert"]="true");const i=yield Jr(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new lv("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(s){if(Kt(s))return{data:null,error:s};throw s}})}update(t,n,s){return In(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,s)})}move(t,n,s){return In(this,void 0,void 0,function*(){try{return{data:yield Jr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Kt(a))return{data:null,error:a};throw a}})}copy(t,n,s){return In(this,void 0,void 0,function*(){try{return{data:{path:(yield Jr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Kt(a))return{data:null,error:a};throw a}})}createSignedUrl(t,n,s){return In(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield Jr(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:n},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(Kt(a))return{data:null,error:a};throw a}})}createSignedUrls(t,n,s){return In(this,void 0,void 0,function*(){try{const a=yield Jr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(Kt(a))return{data:null,error:a};throw a}})}download(t,n){return In(this,void 0,void 0,function*(){const a=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Ku(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Kt(l))return{data:null,error:l};throw l}})}info(t){return In(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const s=yield Ku(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:tg(s),error:null}}catch(s){if(Kt(s))return{data:null,error:s};throw s}})}exists(t){return In(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield S4(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(Kt(s)&&s instanceof eg){const a=s.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:s}}throw s}})}getPublicUrl(t,n){const s=this._getFinalPath(t),a=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&a.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&a.push(c);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${s}${d}`)}}}remove(t){return In(this,void 0,void 0,function*(){try{return{data:yield H1(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Kt(n))return{data:null,error:n};throw n}})}list(t,n,s){return In(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},N4),n),{prefix:t||""});return{data:yield Jr(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},s),error:null}}catch(a){if(Kt(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const C4="2.7.1",T4={"X-Client-Info":`storage-js/${C4}`};var Ri=function(e,t,n,s){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(f){o(f)}}function c(u){try{d(s.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};class k4{constructor(t,n={},s){this.url=t,this.headers=Object.assign(Object.assign({},T4),n),this.fetch=W1(s)}listBuckets(){return Ri(this,void 0,void 0,function*(){try{return{data:yield Ku(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Kt(t))return{data:null,error:t};throw t}})}getBucket(t){return Ri(this,void 0,void 0,function*(){try{return{data:yield Ku(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Kt(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Ri(this,void 0,void 0,function*(){try{return{data:yield Jr(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(Kt(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return Ri(this,void 0,void 0,function*(){try{return{data:yield b4(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(Kt(s))return{data:null,error:s};throw s}})}emptyBucket(t){return Ri(this,void 0,void 0,function*(){try{return{data:yield Jr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Kt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ri(this,void 0,void 0,function*(){try{return{data:yield H1(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Kt(n))return{data:null,error:n};throw n}})}}class P4 extends k4{constructor(t,n={},s){super(t,n,s)}from(t){return new E4(this.url,this.headers,t,this.fetch)}}const R4="2.51.0";let Tl="";typeof Deno<"u"?Tl="deno":typeof document<"u"?Tl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Tl="react-native":Tl="node";const A4={"X-Client-Info":`supabase-js-${Tl}/${R4}`},$4={headers:A4},D4={schema:"public"},M4={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},L4={};var I4=function(e,t,n,s){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(f){o(f)}}function c(u){try{d(s.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};const O4=e=>{let t;return e?t=e:typeof fetch>"u"?t=k1:t=fetch,(...n)=>t(...n)},F4=()=>typeof Headers>"u"?P1:Headers,B4=(e,t,n)=>{const s=O4(n),a=F4();return(i,o)=>I4(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let d=new a(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),s(i,Object.assign(Object.assign({},o),{headers:d}))})};var U4=function(e,t,n,s){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(f){o(f)}}function c(u){try{d(s.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};function V4(e){return e.endsWith("/")?e:e+"/"}function z4(e,t){var n,s;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:d,realtime:u,global:f}=t,m={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},u),o),global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(s=l==null?void 0:l.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>U4(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}const q1="2.71.0",Ui=30*1e3,ng=3,lm=ng*Ui,W4="http://localhost:9999",H4="supabase.auth.token",q4={"X-Client-Info":`gotrue-js/${q1}`},sg="X-Supabase-Api-Version",K1={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},K4=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,G4=10*60*1e3;class cv extends Error{constructor(t,n,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function Ee(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Y4 extends cv{constructor(t,n,s){super(t,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function Q4(e){return Ee(e)&&e.name==="AuthApiError"}class G1 extends cv{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Aa extends cv{constructor(t,n,s,a){super(t,s,a),this.name=n,this.status=s}}class Kr extends Aa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function X4(e){return Ee(e)&&e.name==="AuthSessionMissingError"}class Ad extends Aa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class $d extends Aa{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Dd extends Aa{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function J4(e){return Ee(e)&&e.name==="AuthImplicitGrantRedirectError"}class m0 extends Aa{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class rg extends Aa{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function cm(e){return Ee(e)&&e.name==="AuthRetryableFetchError"}class p0 extends Aa{constructor(t,n,s){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class ag extends Aa{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Gu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),g0=` 	
\r=`.split(""),Z4=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<g0.length;t+=1)e[g0[t].charCodeAt(0)]=-2;for(let t=0;t<Gu.length;t+=1)e[Gu[t].charCodeAt(0)]=t;return e})();function x0(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n(Gu[s]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n(Gu[s]),t.queuedBits-=6}}function Y1(e,t,n){const s=Z4[e];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function v0(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{nF(o,s,n)};for(let o=0;o<e.length;o+=1)Y1(e.charCodeAt(o),a,i);return t.join("")}function eF(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function tF(e,t){for(let n=0;n<e.length;n+=1){let s=e.charCodeAt(n);if(s>55295&&s<=56319){const a=(s-55296)*1024&65535;s=(e.charCodeAt(n+1)-56320&65535|a)+65536,n+=1}eF(s,t)}}function nF(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let s=1;s<6;s+=1)if(!(e>>7-s&1)){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function sF(e){const t=[],n={queue:0,queuedBits:0},s=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)Y1(e.charCodeAt(a),n,s);return new Uint8Array(t)}function rF(e){const t=[];return tF(e,n=>t.push(n)),new Uint8Array(t)}function aF(e){const t=[],n={queue:0,queuedBits:0},s=a=>{t.push(a)};return e.forEach(a=>x0(a,n,s)),x0(null,n,s),t.join("")}function iF(e){return Math.round(Date.now()/1e3)+e}function oF(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Cs=()=>typeof window<"u"&&typeof document<"u",Ua={tested:!1,writable:!1},Q1=()=>{if(!Cs())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ua.tested)return Ua.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ua.tested=!0,Ua.writable=!0}catch{Ua.tested=!0,Ua.writable=!1}return Ua.writable};function lF(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return n.searchParams.forEach((s,a)=>{t[a]=s}),t}const X1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Dr(async()=>{const{default:s}=await Promise.resolve().then(()=>Jo);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},cF=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Vi=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Va=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Hr=async(e,t)=>{await e.removeItem(t)};class qf{constructor(){this.promise=new qf.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}qf.promiseConstructor=Promise;function dm(e){const t=e.split(".");if(t.length!==3)throw new ag("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!K4.test(t[s]))throw new ag("JWT not in base64url format");return{header:JSON.parse(v0(t[0])),payload:JSON.parse(v0(t[1])),signature:sF(t[2]),raw:{header:t[0],payload:t[1]}}}async function dF(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function uF(e,t){return new Promise((s,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){s(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function fF(e){return("0"+e.toString(16)).substr(-2)}function hF(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let a="";for(let i=0;i<56;i++)a+=n.charAt(Math.floor(Math.random()*s));return a}return crypto.getRandomValues(t),Array.from(t,fF).join("")}async function mF(e){const n=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(s);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function pF(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await mF(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ai(e,t,n=!1){const s=hF();let a=s;n&&(a+="/PASSWORD_RECOVERY"),await Vi(e,`${t}-code-verifier`,a);const i=await pF(s);return[i,s===i?"plain":"s256"]}const gF=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function xF(e){const t=e.headers.get(sg);if(!t||!t.match(gF))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function vF(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function yF(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const wF=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function $i(e){if(!wF.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function um(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}var jF=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n};const Ga=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),_F=[502,503,504];async function y0(e){var t;if(!cF(e))throw new rg(Ga(e),0);if(_F.includes(e.status))throw new rg(Ga(e),e.status);let n;try{n=await e.json()}catch(i){throw new G1(Ga(i),i)}let s;const a=xF(e);if(a&&a.getTime()>=K1["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new p0(Ga(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new Kr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new p0(Ga(n),e.status,n.weak_password.reasons);throw new Y4(Ga(n),e.status||500,s)}const bF=(e,t,n,s)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(s),Object.assign(Object.assign({},a),n))};async function Ae(e,t,n,s){var a;const i=Object.assign({},s==null?void 0:s.headers);i[sg]||(i[sg]=K1["2024-01-01"].name),s!=null&&s.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const o=(a=s==null?void 0:s.query)!==null&&a!==void 0?a:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await SF(e,t,n+l,{headers:i,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(c):{data:Object.assign({},c),error:null}}async function SF(e,t,n,s,a,i){const o=bF(t,s,a,i);let l;try{l=await e(n,Object.assign({},o))}catch(c){throw console.error(c),new rg(Ga(c),0)}if(l.ok||await y0(l),s!=null&&s.noResolveJson)return l;try{return await l.json()}catch(c){await y0(c)}}function xr(e){var t;let n=null;TF(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=iF(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:s},error:null}}function w0(e){const t=xr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function na(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function NF(e){return{data:e,error:null}}function EF(e){const{action_link:t,email_otp:n,hashed_token:s,redirect_to:a,verification_type:i}=e,o=jF(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:s,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function CF(e){return e}function TF(e){return e.access_token&&e.refresh_token&&e.expires_in}const fm=["global","local","others"];var kF=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n};class PF{constructor({url:t="",headers:n={},fetch:s}){this.url=t,this.headers=n,this.fetch=X1(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=fm[0]){if(fm.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${fm.join(", ")}`);try{return await Ae(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Ee(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,n={}){try{return await Ae(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:na})}catch(s){if(Ee(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:n}=t,s=kF(t,["options"]),a=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(a.new_email=s==null?void 0:s.newEmail,delete a.newEmail),await Ae(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:EF,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ee(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Ae(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:na})}catch(n){if(Ee(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,s,a,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await Ae(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:CF});if(u.error)throw u.error;const f=await u.json(),m=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(j=>{const v=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(j.split(";")[1].split("=")[1]);d[`${w}Page`]=v}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},f),d),error:null}}catch(d){if(Ee(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){$i(t);try{return await Ae(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:na})}catch(n){if(Ee(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){$i(t);try{return await Ae(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:na})}catch(s){if(Ee(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,n=!1){$i(t);try{return await Ae(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:na})}catch(s){if(Ee(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){$i(t.userId);try{const{data:n,error:s}=await Ae(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:s}}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async _deleteFactor(t){$i(t.userId),$i(t.id);try{return{data:await Ae(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ee(n))return{data:null,error:n};throw n}}}function j0(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function RF(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Di={debug:!!(globalThis&&Q1()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class J1 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class AF extends J1{}async function $F(e,t,n){Di.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),Di.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async a=>{if(a){Di.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await n()}finally{Di.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Di.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new AF(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Di.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}RF();const DF={url:W4,storageKey:H4,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:q4,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function _0(e,t,n){return await n()}const Mi={};class Nc{constructor(t){var n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Nc.nextInstanceID,Nc.nextInstanceID+=1,this.instanceID>0&&Cs()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},DF),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new PF({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=X1(a.fetch),this.lock=a.lock||_0,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Cs()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=$F:this.lock=_0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:Q1()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=j0(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=j0(this.memoryStorage)),Cs()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=Mi[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Mi[this.storageKey]=Object.assign(Object.assign({},Mi[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Mi[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Mi[this.storageKey]=Object.assign(Object.assign({},Mi[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${q1}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=lF(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),Cs()&&this.detectSessionInUrl&&s!=="none"){const{data:a,error:i}=await this._getSessionFromURL(n,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),J4(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ee(n)?{error:n}:{error:new G1("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,s,a;try{const i=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:xr}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(Ee(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,s,a;try{let i;if("email"in t){const{email:u,password:f,options:m}=t;let g=null,j=null;this.flowType==="pkce"&&([g,j]=await Ai(this.storage,this.storageKey)),i=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:u,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:g,code_challenge_method:j},xform:xr})}else if("phone"in t){const{phone:u,password:f,options:m}=t;i=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(s=m==null?void 0:m.data)!==null&&s!==void 0?s:{},channel:(a=m==null?void 0:m.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:xr})}else throw new $d("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(Ee(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:l}=t;n=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:w0})}else if("phone"in t){const{phone:i,password:o,options:l}=t;n=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:w0})}else throw new $d("You must provide either an email or phone number and a password");const{data:s,error:a}=n;return a?{data:{user:null,session:null},error:a}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Ad}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:a})}catch(n){if(Ee(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,s,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,s,a,i,o,l,c,d,u,f,m,g;let j,v;if("message"in t)j=t.message,v=t.signature;else{const{chain:w,wallet:x,statement:p,options:y}=t;let _;if(Cs())if(typeof x=="object")_=x;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))_=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=x}const S=new URL((n=y==null?void 0:y.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const P=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),p?{statement:p}:null));let C;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")C=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)C=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)j=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),v=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(a=(s=y==null?void 0:y.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((d=y==null?void 0:y.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((f=(u=y==null?void 0:y.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||f===void 0)&&f.length?["Resources",...y.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const P=await _.signMessage(new TextEncoder().encode(j),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=P}}try{const{data:w,error:x}=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:aF(v)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:xr});if(x)throw x;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Ad}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:x})}catch(w){if(Ee(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const n=await Va(this.storage,`${this.storageKey}-code-verifier`),[s,a]=(n??"").split("/");try{const{data:i,error:o}=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:xr});if(await Hr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ad}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(Ee(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:s,token:a,access_token:i,nonce:o}=t,l=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:xr}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Ad}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(n){if(Ee(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,s,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await Ai(this.storage,this.storageKey));const{error:f}=await Ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:u}=await Ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new $d("You must provide either an email or phone number.")}catch(l){if(Ee(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,s;try{let a,i;"options"in t&&(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:l}=await Ae(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:xr});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(Ee(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var n,s,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Ai(this.storage,this.storageKey)),await Ae(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:NF})}catch(i){if(Ee(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:s}=t;if(s)throw s;if(!n)throw new Kr;const{error:a}=await Ae(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(Ee(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:s,type:a,options:i}=t,{error:o}=await Ae(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:s,type:a,options:i}=t,{data:o,error:l}=await Ae(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new $d("You must provide either an email or phone number and a type")}catch(n){if(Ee(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Va(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<lm:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.userStorage){const o=await Va(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=um()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,d,u)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:t},error:null}}const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:na}):await this._useSession(async n=>{var s,a,i;const{data:o,error:l}=n;if(l)throw l;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Kr}:await Ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:na})})}catch(n){if(Ee(n))return X4(n)&&(await this._removeSession(),await Hr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async s=>{const{data:a,error:i}=s;if(i)throw i;if(!a.session)throw new Kr;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Ai(this.storage,this.storageKey));const{data:d,error:u}=await Ae(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:na});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if(Ee(s))return{data:{user:null},error:s};throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Kr;const n=Date.now()/1e3;let s=n,a=!0,i=null;const{payload:o}=dm(t.access_token);if(o.exp&&(s=o.exp,a=s<=n),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(Ee(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var s;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(t!=null&&t.refresh_token))throw new Kr;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ee(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Cs())throw new Dd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Dd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new m0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Dd("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new m0("No code detected.");const{data:p,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=t;if(!i||!l||!o||!d)throw new Dd("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(l);let m=u+f;c&&(m=parseInt(c));const g=m-u;g*1e3<=Ui&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const j=m-f;u-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,m,u):u-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,m,u);const{data:v,error:w}=await this._getUser(i);if(w)throw w;const x={provider_token:s,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:m,refresh_token:o,token_type:d,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(s){if(Ee(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Va(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:a,error:i}=n;if(i)return{error:i};const o=(s=a.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(Q4(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Hr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=oF(),s={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async n=>{var s,a;try{const{data:{session:i},error:o}=n;if(o)throw o;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let s=null,a=null;this.flowType==="pkce"&&([s,a]=await Ai(this.storage,this.storageKey,!0));try{return await Ae(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(Ee(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:s,error:a}=await this._useSession(async i=>{var o,l,c,d,u;const{data:f,error:m}=i;if(m)throw m;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ae(this.fetch,"GET",g,{headers:this.headers,jwt:(u=(d=f.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return Cs()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:t.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(Ee(s))return{data:{provider:t.provider,url:null},error:s};throw s}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var s,a;const{data:i,error:o}=n;if(o)throw o;return await Ae(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await uF(async a=>(a>0&&await dF(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await Ae(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:xr})),(a,i)=>{const o=200*Math.pow(2,a);return i&&cm(i)&&Date.now()+o-s<Ui})}catch(s){if(this._debug(n,"error",s),Ee(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",s),Cs()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const a=await Va(this.storage,this.storageKey);if(a&&this.userStorage){let o=await Va(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await Vi(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:um()}else if(a&&!a.user&&!a.user){const o=await Va(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await Hr(this.storage,this.storageKey+"-user"),await Vi(this.storage,this.storageKey,a)):a.user=um()}if(this._debug(s,"session from storage",a),!this._isValidSession(a)){this._debug(s,"session is not valid"),a!==null&&await this._removeSession();return}const i=((n=a.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<lm;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${lm}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),cm(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(s,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(s,"error",a),console.error(a);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var n,s;if(!t)throw new Kr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new qf;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Kr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),Ee(i)){const o={session:null,error:i};return cm(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,n,s=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await Vi(this.userStorage,this.storageKey+"-user",{user:n.user});const a=Object.assign({},n);delete a.user;const i=structuredClone(a);await Vi(this.storage,this.storageKey,i)}else{const a=structuredClone(n);await Vi(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Hr(this.storage,this.storageKey),await Hr(this.storage,this.storageKey+"-code-verifier"),await Hr(this.storage,this.storageKey+"-user"),this.userStorage&&await Hr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Cs()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ui);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((s.expires_at*1e3-t)/Ui);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Ui}ms, refresh threshold is ${ng} ticks`),a<=ng&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof J1)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Cs()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,s){const a=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&a.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&a.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,o]=await Ai(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(s!=null&&s.queryParams){const i=new URLSearchParams(s.queryParams);a.push(i.toString())}return s!=null&&s.skipBrowserRedirect&&a.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var s;const{data:a,error:i}=n;return i?{data:null,error:i}:await Ae(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var s,a;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:d}=await Ae(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:a,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await Ae(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(Ee(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:a,error:i}=n;return i?{data:null,error:i}:await Ae(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(Ee(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:s}=await this._challenge({factorId:t.factorId});return s?{data:null,error:s}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const s=(t==null?void 0:t.factors)||[],a=s.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=s.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:s,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,s;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=dm(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((s=(n=a.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,n={keys:[]}){let s=n.keys.find(l=>l.kid===t);if(s)return s;const a=Date.now();if(s=this.jwks.keys.find(l=>l.kid===t),s&&this.jwks_cached_at+G4>a)return s;const{data:i,error:o}=await Ae(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,s=i.keys.find(l=>l.kid===t),!s)?null:s}async getClaims(t,n={}){try{let s=t;if(!s){const{data:g,error:j}=await this.getSession();if(j||!g.session)return{data:null,error:j};s=g.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=dm(s);n!=null&&n.allowExpired||vF(i.exp);const d=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!d){const{error:g}=await this.getUser(s);if(g)throw g;return{data:{claims:i,header:a,signature:o},error:null}}const u=yF(a.alg),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,o,rF(`${l}.${c}`)))throw new ag("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(s){if(Ee(s))return{data:null,error:s};throw s}}}Nc.nextInstanceID=0;const MF=Nc;class LF extends MF{constructor(t){super(t)}}var IF=function(e,t,n,s){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(f){o(f)}}function c(u){try{d(s.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};class OF{constructor(t,n,s){var a,i,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=V4(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:D4,realtime:L4,auth:Object.assign(Object.assign({},M4),{storageKey:d}),global:$4},f=z4(s??{},u);this.storageKey=(a=f.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(m,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=B4(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new n4(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new AO(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new P4(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},s={}){return this.rest.rpc(t,n,s)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return IF(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(n=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:a,storageKey:i,flowType:o,lock:l,debug:c},d,u){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new LF({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:a,flowType:o,lock:l,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new x4(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(t,n,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const FF=(e,t,n)=>new OF(e,t,n),BF="https://pmtssnzfepkcqpziknbz.supabase.co",UF="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBtdHNzbnpmZXBrY3FwemlrbmJ6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIwMzQ5MDQsImV4cCI6MjA2NzYxMDkwNH0.KNIFrGxC-XaJFzN0m69NX85bMQR2XgCj0JDxfbPcHS0",Tn=FF(BF,UF),Re={SEASONS:"seasons",CONFERENCES:"conferences",TEAMS:"teams",TEAM_CONFERENCE_JUNCTION:"team_conference_junction",MATCHUPS:"matchups",TEAM_RECORDS:"team_records",PLAYERS:"players",DRAFT_RESULTS:"draft_results",MATCHUP_ADMIN_OVERRIDE:"matchup_admin_override",PLAYOFF_BRACKETS:"playoff_brackets",PLAYOFF_FORMATS:"playoff_formats",TEAM_ROSTERS:"team_rosters",TRANSACTIONS:"transactions"};class ae{static async queryTable(t,n={}){try{let s=Tn.from(t).select("*",{count:"exact"});n.filters&&n.filters.forEach(l=>{s=this.applyFilter(s,l)}),n.orderBy&&(s=s.order(n.orderBy.column,{ascending:n.orderBy.ascending})),n.limit&&(s=s.limit(n.limit)),n.offset&&(s=s.range(n.offset,n.offset+(n.limit||100)-1));const{data:a,error:i,count:o}=await s;return i?(console.error(`Error querying ${t}:`,i),{data:[],error:i}):{data:a||[],count:o||0}}catch(s){return console.error(`Error in queryTable for ${t}:`,s),{data:[],error:s}}}static async createRecord(t,n){try{const{data:s,error:a}=await Tn.from(t).insert(n).select().single();return a?(console.error(`Error creating record in ${t}:`,a),{data:null,error:a}):{data:s,error:null}}catch(s){return console.error(`Error in createRecord for ${t}:`,s),{data:null,error:s}}}static async updateRecord(t,n,s){try{const{data:a,error:i}=await Tn.from(t).update(s).eq("id",n).select().single();return i?(console.error(`Error updating record in ${t}:`,i),{data:null,error:i}):{data:a,error:null}}catch(a){return console.error(`Error in updateRecord for ${t}:`,a),{data:null,error:a}}}static async deleteRecord(t,n){try{const{error:s}=await Tn.from(t).delete().eq("id",n);return s?(console.error(`Error deleting record from ${t}:`,s),{error:s}):{error:null}}catch(s){return console.error(`Error in deleteRecord for ${t}:`,s),{error:s}}}static applyFilter(t,n){const{column:s,operator:a,value:i}=n;switch(a){case"eq":return t.eq(s,i);case"neq":return t.neq(s,i);case"gt":return t.gt(s,i);case"gte":return t.gte(s,i);case"lt":return t.lt(s,i);case"lte":return t.lte(s,i);case"like":return t.like(s,i);case"ilike":return t.ilike(s,i);case"in":return t.in(s,i);case"is":return t.is(s,i);case"not":return t.not(s,i);default:return t}}static async getSeasons(t){return this.queryTable(Re.SEASONS,t)}static async createSeason(t){return this.createRecord(Re.SEASONS,t)}static async updateSeason(t,n){return this.updateRecord(Re.SEASONS,t,n)}static async updateSeasonScoringSettings(t){try{const{data:n}=await this.getConferences({filters:[{column:"season_id",operator:"eq",value:t}]});if(!n||n.length===0)return{success:!1,error:"No conferences found for this season"};const s=n[0],i=await(await Dr(async()=>{const{SleeperApiService:l}=await Promise.resolve().then(()=>fg);return{SleeperApiService:l}},void 0)).SleeperApiService.fetchLeague(s.league_id);if(!i.scoring_settings)return{success:!1,error:"No scoring settings found in league data"};const{error:o}=await this.updateSeason(t,{scoring_settings:i.scoring_settings});return o?{success:!1,error:o}:{success:!0}}catch(n){return console.error("Error updating season scoring settings:",n),{success:!1,error:n}}}static async updateSeasonRosterPositions(t){try{const{data:n}=await this.getConferences({filters:[{column:"season_id",operator:"eq",value:t}]});if(!n||n.length===0)return{success:!1,error:"No conferences found for this season"};const s=n[0],i=await(await Dr(async()=>{const{SleeperApiService:l}=await Promise.resolve().then(()=>fg);return{SleeperApiService:l}},void 0)).SleeperApiService.fetchLeague(s.league_id);if(!i.roster_positions)return{success:!1,error:"No roster positions found in league data"};const{error:o}=await this.updateSeason(t,{roster_positions:i.roster_positions});return o?{success:!1,error:o}:{success:!0}}catch(n){return console.error("Error updating season roster positions:",n),{success:!1,error:n}}}static async getConferences(t){return this.queryTable(Re.CONFERENCES,t)}static async createConference(t){return this.createRecord(Re.CONFERENCES,t)}static async updateConference(t,n){return this.updateRecord(Re.CONFERENCES,t,n)}static async getTeams(t){return this.queryTable(Re.TEAMS,t)}static async createTeam(t){return this.createRecord(Re.TEAMS,t)}static async updateTeam(t,n){return this.updateRecord(Re.TEAMS,t,n)}static async getTeamConferenceJunctions(t){return this.queryTable(Re.TEAM_CONFERENCE_JUNCTION,t)}static async createTeamConferenceJunction(t){return this.createRecord(Re.TEAM_CONFERENCE_JUNCTION,t)}static async getMatchups(t){return this.queryTable(Re.MATCHUPS,t)}static async createMatchup(t){return this.createRecord(Re.MATCHUPS,t)}static async updateMatchup(t,n){return this.updateRecord(Re.MATCHUPS,t,n)}static async getTeamRecords(t){return this.queryTable(Re.TEAM_RECORDS,t)}static async createTeamRecord(t){return this.createRecord(Re.TEAM_RECORDS,t)}static async updateTeamRecord(t,n){return this.updateRecord(Re.TEAM_RECORDS,t,n)}static async deleteTeamRecord(t){return this.deleteRecord(Re.TEAM_RECORDS,t)}static async getPlayers(t){try{let n=Tn.from(Re.PLAYERS).select("*",{count:"exact"});t!=null&&t.filters&&t.filters.forEach(o=>{n=this.applyFilter(n,o)}),t!=null&&t.orderBy&&(n=n.order(t.orderBy.column,{ascending:t.orderBy.ascending})),n=n.range(0,14999);const{data:s,error:a,count:i}=await n;return a?(console.error(`Error querying ${Re.PLAYERS}:`,a),{data:[],error:a}):{data:s||[],count:i||0}}catch(n){return console.error("Error in getPlayers:",n),{data:[],error:n}}}static async createPlayer(t){return this.createRecord(Re.PLAYERS,t)}static async updatePlayer(t,n){return this.updateRecord(Re.PLAYERS,t,n)}static async getAllPlayersForMapping(t){try{const n=[];let a=0,i=!0;for(;i;){let o=Tn.from(Re.PLAYERS).select("*");t&&t.forEach(d=>{o=this.applyFilter(o,d)}),o=o.order("sleeper_id",{ascending:!0}),o=o.range(a,a+1e3-1);const{data:l,error:c}=await o;if(c)throw console.error("Error in getAllPlayersForMapping:",c),c;l&&l.length>0?(n.push(...l),l.length<1e3?i=!1:a+=1e3):i=!1}return n}catch(n){throw console.error("Error in getAllPlayersForMapping:",n),n}}static async getPlayersAsSleeperFormat(){try{const t=await this.getPlayers();if(!t.data)throw new Error("Failed to fetch players from database");const n={};return t.data.forEach(s=>{var a;if(s.sleeper_id){const i=s.player_name.split(" "),o=i[0]||"",l=i.slice(1).join(" ")||"";n[s.sleeper_id]={player_id:s.sleeper_id,first_name:o,last_name:l,position:s.position||"",team:s.nfl_team||"",jersey_number:s.number||0,status:s.playing_status||"",injury_status:s.injury_status||"",age:s.age||0,height:((a=s.height)==null?void 0:a.toString())||"",weight:s.weight||0,years_exp:0,college:s.college||""}}}),n}catch(t){throw console.error("Error fetching players from database:",t),t}}static async getDraftResults(t){return this.queryTable(Re.DRAFT_RESULTS,t)}static async createDraftResult(t){return this.createRecord(Re.DRAFT_RESULTS,t)}static async getMatchupAdminOverrides(t){return this.queryTable(Re.MATCHUP_ADMIN_OVERRIDE,t)}static async createMatchupAdminOverride(t){return this.createRecord(Re.MATCHUP_ADMIN_OVERRIDE,t)}static async updateMatchupAdminOverride(t,n){return this.updateRecord(Re.MATCHUP_ADMIN_OVERRIDE,t,n)}static async deleteMatchupAdminOverride(t){return this.deleteRecord(Re.MATCHUP_ADMIN_OVERRIDE,t)}static async getTransactions(t){return this.queryTable(Re.TRANSACTIONS,t)}static async createTransaction(t){return this.createRecord(Re.TRANSACTIONS,t)}static async getPlayoffBrackets(t){return this.queryTable(Re.PLAYOFF_BRACKETS,t)}static async createPlayoffBracket(t){return this.createRecord(Re.PLAYOFF_BRACKETS,t)}static async updatePlayoffBracket(t,n){return this.updateRecord(Re.PLAYOFF_BRACKETS,t,n)}static async getPlayoffFormats(t){return this.queryTable(Re.PLAYOFF_FORMATS,t)}static async createPlayoffFormat(t){return this.createRecord(Re.PLAYOFF_FORMATS,t)}static async updatePlayoffFormat(t,n){return this.updateRecord(Re.PLAYOFF_FORMATS,t,n)}}const VF=Object.freeze(Object.defineProperty({__proto__:null,DatabaseService:ae},Symbol.toStringTag,{value:"Module"})),Z1=h.createContext(void 0),zF=({children:e})=>{const[t,n]=h.useState(2025),[s,a]=h.useState(null),[i,o]=h.useState("light"),[l,c]=h.useState([]),[d,u]=h.useState(!0),[f,m]=h.useState(null),g=async()=>{try{u(!0),m(null);const x=await ae.getSeasons({orderBy:{column:"season_year",ascending:!1}});if(x.error)throw new Error(x.error);const p=x.data||[],y=await ae.getConferences();if(y.error)throw new Error(y.error);const _=y.data||[],S=p.map(C=>{const T=_.filter(A=>A.season_id===C.id).map(A=>({id:A.conference_name.toLowerCase().replace(/[^a-z0-9]/g,""),name:A.conference_name,leagueId:A.league_id,status:A.status,seasonId:A.season_id,dbConferenceId:A.id}));return{year:parseInt(C.season_year),conferences:T,seasonId:C.id,isCurrent:C.is_current}});c(S);const P=S.find(C=>C.isCurrent);P&&t!==P.year&&n(P.year)}catch(x){console.error("Failed to load season data:",x),m(x instanceof Error?x.message:"Failed to load season data"),c([{year:2024,conferences:[{id:"mars",name:"The Legions of Mars",leagueId:"1072580179844857856"},{id:"jupiter",name:"The Guardians of Jupiter",leagueId:"1072593839715667968"},{id:"vulcan",name:"Vulcan's Oathsworn",leagueId:"1072593416955015168"}]},{year:2025,conferences:[{id:"mars",name:"The Legions of Mars",leagueId:"1204854057169072128"},{id:"jupiter",name:"The Guardians of Jupiter",leagueId:"1204857692007440384"},{id:"vulcan",name:"Vulcan's Oathsworn",leagueId:"1204857608989577216"}]}])}finally{u(!1)}};h.useEffect(()=>{g()},[]);const j=()=>{o(x=>x==="light"?"dark":"light")},v=l.find(x=>x.year===t)||l.find(x=>x.isCurrent)||l[0]||{year:t,conferences:[]},w={selectedSeason:t,selectedConference:s,theme:i,setSelectedSeason:n,setSelectedConference:a,toggleTheme:j,seasonConfigs:l,currentSeasonConfig:v,loading:d,error:f,refreshSeasonData:g};return r.jsx(Z1.Provider,{value:w,children:r.jsx("div",{className:i,children:e})})},$n=()=>{const e=h.useContext(Z1);if(!e)throw new Error("useApp must be used within an AppProvider");return e},WF=Ho("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Z=h.forwardRef(({className:e,variant:t,size:n,asChild:s=!1,...a},i)=>{const o=s?pA:"button";return r.jsx(o,{className:xe(WF({variant:t,size:n,className:e})),ref:i,...a})});Z.displayName="Button";var hm="focusScope.autoFocusOnMount",mm="focusScope.autoFocusOnUnmount",b0={bubbles:!1,cancelable:!0},HF="FocusScope",dv=h.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=h.useState(null),d=Zn(a),u=Zn(i),f=h.useRef(null),m=Ge(t,v=>c(v)),g=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(s){let v=function(y){if(g.paused||!l)return;const _=y.target;l.contains(_)?f.current=_:Gr(f.current,{select:!0})},w=function(y){if(g.paused||!l)return;const _=y.relatedTarget;_!==null&&(l.contains(_)||Gr(f.current,{select:!0}))},x=function(y){if(document.activeElement===document.body)for(const S of y)S.removedNodes.length>0&&Gr(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",w);const p=new MutationObserver(x);return l&&p.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",w),p.disconnect()}}},[s,l,g.paused]),h.useEffect(()=>{if(l){N0.add(g);const v=document.activeElement;if(!l.contains(v)){const x=new CustomEvent(hm,b0);l.addEventListener(hm,d),l.dispatchEvent(x),x.defaultPrevented||(qF(XF(eE(l)),{select:!0}),document.activeElement===v&&Gr(l))}return()=>{l.removeEventListener(hm,d),setTimeout(()=>{const x=new CustomEvent(mm,b0);l.addEventListener(mm,u),l.dispatchEvent(x),x.defaultPrevented||Gr(v??document.body,{select:!0}),l.removeEventListener(mm,u),N0.remove(g)},0)}}},[l,d,u,g]);const j=h.useCallback(v=>{if(!n&&!s||g.paused)return;const w=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,x=document.activeElement;if(w&&x){const p=v.currentTarget,[y,_]=KF(p);y&&_?!v.shiftKey&&x===_?(v.preventDefault(),n&&Gr(y,{select:!0})):v.shiftKey&&x===y&&(v.preventDefault(),n&&Gr(_,{select:!0})):x===p&&v.preventDefault()}},[n,s,g.paused]);return r.jsx(ye.div,{tabIndex:-1,...o,ref:m,onKeyDown:j})});dv.displayName=HF;function qF(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(Gr(s,{select:t}),document.activeElement!==n)return}function KF(e){const t=eE(e),n=S0(t,e),s=S0(t.reverse(),e);return[n,s]}function eE(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function S0(e,t){for(const n of e)if(!GF(n,{upTo:t}))return n}function GF(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function YF(e){return e instanceof HTMLInputElement&&"select"in e}function Gr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&YF(e)&&t&&e.select()}}var N0=QF();function QF(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=E0(e,t),e.unshift(t)},remove(t){var n;e=E0(e,t),(n=e[0])==null||n.resume()}}}function E0(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function XF(e){return e.filter(t=>t.tagName!=="A")}var pm=0;function tE(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??C0()),document.body.insertAdjacentElement("beforeend",e[1]??C0()),pm++,()=>{pm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),pm--}},[])}function C0(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var sr=function(){return sr=Object.assign||function(t){for(var n,s=1,a=arguments.length;s<a;s++){n=arguments[s];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},sr.apply(this,arguments)};function nE(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n}function JF(e,t,n){if(n||arguments.length===2)for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}var ou="right-scroll-bar-position",lu="width-before-scroll-bar",ZF="with-scroll-bars-hidden",e3="--removed-body-scroll-bar-size";function gm(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function t3(e,t){var n=h.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var a=n.value;a!==s&&(n.value=s,n.callback(s,a))}}}})[0];return n.callback=t,n.facade}var n3=typeof window<"u"?h.useLayoutEffect:h.useEffect,T0=new WeakMap;function s3(e,t){var n=t3(null,function(s){return e.forEach(function(a){return gm(a,s)})});return n3(function(){var s=T0.get(n);if(s){var a=new Set(s),i=new Set(e),o=n.current;a.forEach(function(l){i.has(l)||gm(l,null)}),i.forEach(function(l){a.has(l)||gm(l,o)})}T0.set(n,e)},[e]),n}function r3(e){return e}function a3(e,t){t===void 0&&(t=r3);var n=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,s);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(s=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){s=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),n}}}};return a}function i3(e){e===void 0&&(e={});var t=a3(null);return t.options=sr({async:!0,ssr:!1},e),t}var sE=function(e){var t=e.sideCar,n=nE(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return h.createElement(s,sr({},n))};sE.isSideCarExport=!0;function o3(e,t){return e.useMedium(t),sE}var rE=i3(),xm=function(){},Kf=h.forwardRef(function(e,t){var n=h.useRef(null),s=h.useState({onScrollCapture:xm,onWheelCapture:xm,onTouchMoveCapture:xm}),a=s[0],i=s[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,f=e.shards,m=e.sideCar,g=e.noRelative,j=e.noIsolation,v=e.inert,w=e.allowPinchZoom,x=e.as,p=x===void 0?"div":x,y=e.gapMode,_=nE(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=m,P=s3([n,t]),C=sr(sr({},_),a);return h.createElement(h.Fragment,null,u&&h.createElement(S,{sideCar:rE,removeScrollBar:d,shards:f,noRelative:g,noIsolation:j,inert:v,setCallbacks:i,allowPinchZoom:!!w,lockRef:n,gapMode:y}),o?h.cloneElement(h.Children.only(l),sr(sr({},C),{ref:P})):h.createElement(p,sr({},C,{className:c,ref:P}),l))});Kf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Kf.classNames={fullWidth:lu,zeroRight:ou};var l3=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function c3(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=l3();return t&&e.setAttribute("nonce",t),e}function d3(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function u3(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var f3=function(){var e=0,t=null;return{add:function(n){e==0&&(t=c3())&&(d3(t,n),u3(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},h3=function(){var e=f3();return function(t,n){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},aE=function(){var e=h3(),t=function(n){var s=n.styles,a=n.dynamic;return e(s,a),null};return t},m3={left:0,top:0,right:0,gap:0},vm=function(e){return parseInt(e||"",10)||0},p3=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[vm(n),vm(s),vm(a)]},g3=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return m3;var t=p3(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},x3=aE(),go="data-scroll-locked",v3=function(e,t,n,s){var a=e.left,i=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(ZF,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(go,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ou,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(lu,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(ou," .").concat(ou,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(lu," .").concat(lu,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(go,`] {
    `).concat(e3,": ").concat(l,`px;
  }
`)},k0=function(){var e=parseInt(document.body.getAttribute(go)||"0",10);return isFinite(e)?e:0},y3=function(){h.useEffect(function(){return document.body.setAttribute(go,(k0()+1).toString()),function(){var e=k0()-1;e<=0?document.body.removeAttribute(go):document.body.setAttribute(go,e.toString())}},[])},w3=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;y3();var i=h.useMemo(function(){return g3(a)},[a]);return h.createElement(x3,{styles:v3(i,!t,a,n?"":"!important")})},ig=!1;if(typeof window<"u")try{var Md=Object.defineProperty({},"passive",{get:function(){return ig=!0,!0}});window.addEventListener("test",Md,Md),window.removeEventListener("test",Md,Md)}catch{ig=!1}var Li=ig?{passive:!1}:!1,j3=function(e){return e.tagName==="TEXTAREA"},iE=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!j3(e)&&n[t]==="visible")},_3=function(e){return iE(e,"overflowY")},b3=function(e){return iE(e,"overflowX")},P0=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=oE(e,s);if(a){var i=lE(e,s),o=i[1],l=i[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},S3=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},N3=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},oE=function(e,t){return e==="v"?_3(t):b3(t)},lE=function(e,t){return e==="v"?S3(t):N3(t)},E3=function(e,t){return e==="h"&&t==="rtl"?-1:1},C3=function(e,t,n,s,a){var i=E3(e,window.getComputedStyle(t).direction),o=i*s,l=n.target,c=t.contains(l),d=!1,u=o>0,f=0,m=0;do{if(!l)break;var g=lE(e,l),j=g[0],v=g[1],w=g[2],x=v-w-i*j;(j||x)&&oE(e,l)&&(f+=x,m+=j);var p=l.parentNode;l=p&&p.nodeType===Node.DOCUMENT_FRAGMENT_NODE?p.host:p}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&Math.abs(f)<1||!u&&Math.abs(m)<1)&&(d=!0),d},Ld=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},R0=function(e){return[e.deltaX,e.deltaY]},A0=function(e){return e&&"current"in e?e.current:e},T3=function(e,t){return e[0]===t[0]&&e[1]===t[1]},k3=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},P3=0,Ii=[];function R3(e){var t=h.useRef([]),n=h.useRef([0,0]),s=h.useRef(),a=h.useState(P3++)[0],i=h.useState(aE)[0],o=h.useRef(e);h.useEffect(function(){o.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var v=JF([e.lockRef.current],(e.shards||[]).map(A0),!0).filter(Boolean);return v.forEach(function(w){return w.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),v.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=h.useCallback(function(v,w){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var x=Ld(v),p=n.current,y="deltaX"in v?v.deltaX:p[0]-x[0],_="deltaY"in v?v.deltaY:p[1]-x[1],S,P=v.target,C=Math.abs(y)>Math.abs(_)?"h":"v";if("touches"in v&&C==="h"&&P.type==="range")return!1;var T=P0(C,P);if(!T)return!0;if(T?S=C:(S=C==="v"?"h":"v",T=P0(C,P)),!T)return!1;if(!s.current&&"changedTouches"in v&&(y||_)&&(s.current=S),!S)return!0;var A=s.current||S;return C3(A,w,v,A==="h"?y:_)},[]),c=h.useCallback(function(v){var w=v;if(!(!Ii.length||Ii[Ii.length-1]!==i)){var x="deltaY"in w?R0(w):Ld(w),p=t.current.filter(function(S){return S.name===w.type&&(S.target===w.target||w.target===S.shadowParent)&&T3(S.delta,x)})[0];if(p&&p.should){w.cancelable&&w.preventDefault();return}if(!p){var y=(o.current.shards||[]).map(A0).filter(Boolean).filter(function(S){return S.contains(w.target)}),_=y.length>0?l(w,y[0]):!o.current.noIsolation;_&&w.cancelable&&w.preventDefault()}}},[]),d=h.useCallback(function(v,w,x,p){var y={name:v,delta:w,target:x,should:p,shadowParent:A3(x)};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(_){return _!==y})},1)},[]),u=h.useCallback(function(v){n.current=Ld(v),s.current=void 0},[]),f=h.useCallback(function(v){d(v.type,R0(v),v.target,l(v,e.lockRef.current))},[]),m=h.useCallback(function(v){d(v.type,Ld(v),v.target,l(v,e.lockRef.current))},[]);h.useEffect(function(){return Ii.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Li),document.addEventListener("touchmove",c,Li),document.addEventListener("touchstart",u,Li),function(){Ii=Ii.filter(function(v){return v!==i}),document.removeEventListener("wheel",c,Li),document.removeEventListener("touchmove",c,Li),document.removeEventListener("touchstart",u,Li)}},[]);var g=e.removeScrollBar,j=e.inert;return h.createElement(h.Fragment,null,j?h.createElement(i,{styles:k3(a)}):null,g?h.createElement(w3,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function A3(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const $3=o3(rE,R3);var uv=h.forwardRef(function(e,t){return h.createElement(Kf,sr({},e,{ref:t,sideCar:$3}))});uv.classNames=Kf.classNames;var D3=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Oi=new WeakMap,Id=new WeakMap,Od={},ym=0,cE=function(e){return e&&(e.host||cE(e.parentNode))},M3=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=cE(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},L3=function(e,t,n,s){var a=M3(t,Array.isArray(e)?e:[e]);Od[n]||(Od[n]=new WeakMap);var i=Od[n],o=[],l=new Set,c=new Set(a),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};a.forEach(d);var u=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))u(m);else try{var g=m.getAttribute(s),j=g!==null&&g!=="false",v=(Oi.get(m)||0)+1,w=(i.get(m)||0)+1;Oi.set(m,v),i.set(m,w),o.push(m),v===1&&j&&Id.set(m,!0),w===1&&m.setAttribute(n,"true"),j||m.setAttribute(s,"true")}catch(x){console.error("aria-hidden: cannot operate on ",m,x)}})};return u(t),l.clear(),ym++,function(){o.forEach(function(f){var m=Oi.get(f)-1,g=i.get(f)-1;Oi.set(f,m),i.set(f,g),m||(Id.has(f)||f.removeAttribute(s),Id.delete(f)),g||f.removeAttribute(n)}),ym--,ym||(Oi=new WeakMap,Oi=new WeakMap,Id=new WeakMap,Od={})}},dE=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=D3(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live], script"))),L3(s,a,n,"aria-hidden")):function(){return null}},Gf="Dialog",[uE,sH]=ns(Gf),[I3,Hs]=uE(Gf),fE=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=h.useRef(null),c=h.useRef(null),[d,u]=Rr({prop:s,defaultProp:a??!1,onChange:i,caller:Gf});return r.jsx(I3,{scope:t,triggerRef:l,contentRef:c,contentId:Er(),titleId:Er(),descriptionId:Er(),open:d,onOpenChange:u,onOpenToggle:h.useCallback(()=>u(f=>!f),[u]),modal:o,children:n})};fE.displayName=Gf;var hE="DialogTrigger",mE=h.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=Hs(hE,n),i=Ge(t,a.triggerRef);return r.jsx(ye.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":mv(a.open),...s,ref:i,onClick:ve(e.onClick,a.onOpenToggle)})});mE.displayName=hE;var fv="DialogPortal",[O3,pE]=uE(fv,{forceMount:void 0}),gE=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:a}=e,i=Hs(fv,t);return r.jsx(O3,{scope:t,forceMount:n,children:h.Children.map(s,o=>r.jsx(fr,{present:n||i.open,children:r.jsx(Wc,{asChild:!0,container:a,children:o})}))})};gE.displayName=fv;var Yu="DialogOverlay",xE=h.forwardRef((e,t)=>{const n=pE(Yu,e.__scopeDialog),{forceMount:s=n.forceMount,...a}=e,i=Hs(Yu,e.__scopeDialog);return i.modal?r.jsx(fr,{present:s||i.open,children:r.jsx(B3,{...a,ref:t})}):null});xE.displayName=Yu;var F3=$o("DialogOverlay.RemoveScroll"),B3=h.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=Hs(Yu,n);return r.jsx(uv,{as:F3,allowPinchZoom:!0,shards:[a.contentRef],children:r.jsx(ye.div,{"data-state":mv(a.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),yi="DialogContent",vE=h.forwardRef((e,t)=>{const n=pE(yi,e.__scopeDialog),{forceMount:s=n.forceMount,...a}=e,i=Hs(yi,e.__scopeDialog);return r.jsx(fr,{present:s||i.open,children:i.modal?r.jsx(U3,{...a,ref:t}):r.jsx(V3,{...a,ref:t})})});vE.displayName=yi;var U3=h.forwardRef((e,t)=>{const n=Hs(yi,e.__scopeDialog),s=h.useRef(null),a=Ge(t,n.contentRef,s);return h.useEffect(()=>{const i=s.current;if(i)return dE(i)},[]),r.jsx(yE,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ve(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ve(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:ve(e.onFocusOutside,i=>i.preventDefault())})}),V3=h.forwardRef((e,t)=>{const n=Hs(yi,e.__scopeDialog),s=h.useRef(!1),a=h.useRef(!1);return r.jsx(yE,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),yE=h.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=Hs(yi,n),c=h.useRef(null),d=Ge(t,c);return tE(),r.jsxs(r.Fragment,{children:[r.jsx(dv,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:r.jsx(zc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":mv(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(z3,{titleId:l.titleId}),r.jsx(H3,{contentRef:c,descriptionId:l.descriptionId})]})]})}),hv="DialogTitle",wE=h.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=Hs(hv,n);return r.jsx(ye.h2,{id:a.titleId,...s,ref:t})});wE.displayName=hv;var jE="DialogDescription",_E=h.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=Hs(jE,n);return r.jsx(ye.p,{id:a.descriptionId,...s,ref:t})});_E.displayName=jE;var bE="DialogClose",SE=h.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=Hs(bE,n);return r.jsx(ye.button,{type:"button",...s,ref:t,onClick:ve(e.onClick,()=>a.onOpenChange(!1))})});SE.displayName=bE;function mv(e){return e?"open":"closed"}var NE="DialogTitleWarning",[rH,EE]=hA(NE,{contentName:yi,titleName:hv,docsSlug:"dialog"}),z3=({titleId:e})=>{const t=EE(NE),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},W3="DialogDescriptionWarning",H3=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${EE(W3).contentName}}.`;return h.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},CE=fE,TE=mE,kE=gE,Yf=xE,Qf=vE,Xf=wE,Jf=_E,PE=SE;const q3=CE,K3=TE,G3=kE,RE=h.forwardRef(({className:e,...t},n)=>r.jsx(Yf,{className:xe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));RE.displayName=Yf.displayName;const Y3=Ho("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),AE=h.forwardRef(({side:e="right",className:t,children:n,...s},a)=>r.jsxs(G3,{children:[r.jsx(RE,{}),r.jsxs(Qf,{ref:a,className:xe(Y3({side:e}),t),...s,children:[r.jsxs(PE,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[r.jsx(Si,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]}),n]})]}));AE.displayName=Qf.displayName;const Q3=h.forwardRef(({className:e,...t},n)=>r.jsx(Xf,{ref:n,className:xe("text-lg font-semibold text-foreground",e),...t}));Q3.displayName=Xf.displayName;const X3=h.forwardRef(({className:e,...t},n)=>r.jsx(Jf,{ref:n,className:xe("text-sm text-muted-foreground",e),...t}));X3.displayName=Jf.displayName;function $0(e,[t,n]){return Math.min(n,Math.max(t,e))}var J3=h.createContext(void 0);function pv(e){const t=h.useContext(J3);return e||t||"ltr"}function gv(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Z3=[" ","Enter","ArrowUp","ArrowDown"],e5=[" ","Enter"],wi="Select",[Zf,eh,t5]=Lx(wi),[el,aH]=ns(wi,[t5,Mf]),th=Mf(),[n5,$a]=el(wi),[s5,r5]=el(wi),$E=e=>{const{__scopeSelect:t,children:n,open:s,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:f,disabled:m,required:g,form:j}=e,v=th(t),[w,x]=h.useState(null),[p,y]=h.useState(null),[_,S]=h.useState(!1),P=pv(d),[C,T]=Rr({prop:s,defaultProp:a??!1,onChange:i,caller:wi}),[A,D]=Rr({prop:o,defaultProp:l,onChange:c,caller:wi}),$=h.useRef(null),I=w?j||!!w.closest("form"):!0,[M,F]=h.useState(new Set),J=Array.from(M).map(U=>U.props.value).join(";");return r.jsx($L,{...v,children:r.jsxs(n5,{required:g,scope:t,trigger:w,onTriggerChange:x,valueNode:p,onValueNodeChange:y,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:Er(),value:A,onValueChange:D,open:C,onOpenChange:T,dir:P,triggerPointerDownPosRef:$,disabled:m,children:[r.jsx(Zf.Provider,{scope:t,children:r.jsx(s5,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(U=>{F(z=>new Set(z).add(U))},[]),onNativeOptionRemove:h.useCallback(U=>{F(z=>{const k=new Set(z);return k.delete(U),k})},[]),children:n})}),I?r.jsxs(sC,{"aria-hidden":!0,required:g,tabIndex:-1,name:u,autoComplete:f,value:A,onChange:U=>D(U.target.value),disabled:m,form:j,children:[A===void 0?r.jsx("option",{value:""}):null,Array.from(M)]},J):null]})})};$E.displayName=wi;var DE="SelectTrigger",ME=h.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:s=!1,...a}=e,i=th(n),o=$a(DE,n),l=o.disabled||s,c=Ge(t,o.onTriggerChange),d=eh(n),u=h.useRef("touch"),[f,m,g]=aC(v=>{const w=d().filter(y=>!y.disabled),x=w.find(y=>y.value===o.value),p=iC(w,v,x);p!==void 0&&o.onValueChange(p.value)}),j=v=>{l||(o.onOpenChange(!0),g()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return r.jsx(XN,{asChild:!0,...i,children:r.jsx(ye.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":rC(o.value)?"":void 0,...a,ref:c,onClick:ve(a.onClick,v=>{v.currentTarget.focus(),u.current!=="mouse"&&j(v)}),onPointerDown:ve(a.onPointerDown,v=>{u.current=v.pointerType;const w=v.target;w.hasPointerCapture(v.pointerId)&&w.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(j(v),v.preventDefault())}),onKeyDown:ve(a.onKeyDown,v=>{const w=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&m(v.key),!(w&&v.key===" ")&&Z3.includes(v.key)&&(j(),v.preventDefault())})})})});ME.displayName=DE;var LE="SelectValue",IE=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:a,children:i,placeholder:o="",...l}=e,c=$a(LE,n),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,f=Ge(t,c.onValueNodeChange);return $t(()=>{d(u)},[d,u]),r.jsx(ye.span,{...l,ref:f,style:{pointerEvents:"none"},children:rC(c.value)?r.jsx(r.Fragment,{children:o}):i})});IE.displayName=LE;var a5="SelectIcon",OE=h.forwardRef((e,t)=>{const{__scopeSelect:n,children:s,...a}=e;return r.jsx(ye.span,{"aria-hidden":!0,...a,ref:t,children:s||"▼"})});OE.displayName=a5;var i5="SelectPortal",FE=e=>r.jsx(Wc,{asChild:!0,...e});FE.displayName=i5;var ji="SelectContent",BE=h.forwardRef((e,t)=>{const n=$a(ji,e.__scopeSelect),[s,a]=h.useState();if($t(()=>{a(new DocumentFragment)},[]),!n.open){const i=s;return i?vs.createPortal(r.jsx(UE,{scope:e.__scopeSelect,children:r.jsx(Zf.Slot,{scope:e.__scopeSelect,children:r.jsx("div",{children:e.children})})}),i):null}return r.jsx(VE,{...e,ref:t})});BE.displayName=ji;var Ts=10,[UE,Da]=el(ji),o5="SelectContentImpl",l5=$o("SelectContent.RemoveScroll"),VE=h.forwardRef((e,t)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:m,collisionPadding:g,sticky:j,hideWhenDetached:v,avoidCollisions:w,...x}=e,p=$a(ji,n),[y,_]=h.useState(null),[S,P]=h.useState(null),C=Ge(t,H=>_(H)),[T,A]=h.useState(null),[D,$]=h.useState(null),I=eh(n),[M,F]=h.useState(!1),J=h.useRef(!1);h.useEffect(()=>{if(y)return dE(y)},[y]),tE();const U=h.useCallback(H=>{const[O,...Y]=I().map(te=>te.ref.current),[V]=Y.slice(-1),K=document.activeElement;for(const te of H)if(te===K||(te==null||te.scrollIntoView({block:"nearest"}),te===O&&S&&(S.scrollTop=0),te===V&&S&&(S.scrollTop=S.scrollHeight),te==null||te.focus(),document.activeElement!==K))return},[I,S]),z=h.useCallback(()=>U([T,y]),[U,T,y]);h.useEffect(()=>{M&&z()},[M,z]);const{onOpenChange:k,triggerPointerDownPosRef:N}=p;h.useEffect(()=>{if(y){let H={x:0,y:0};const O=V=>{var K,te;H={x:Math.abs(Math.round(V.pageX)-(((K=N.current)==null?void 0:K.x)??0)),y:Math.abs(Math.round(V.pageY)-(((te=N.current)==null?void 0:te.y)??0))}},Y=V=>{H.x<=10&&H.y<=10?V.preventDefault():y.contains(V.target)||k(!1),document.removeEventListener("pointermove",O),N.current=null};return N.current!==null&&(document.addEventListener("pointermove",O),document.addEventListener("pointerup",Y,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",O),document.removeEventListener("pointerup",Y,{capture:!0})}}},[y,k,N]),h.useEffect(()=>{const H=()=>k(!1);return window.addEventListener("blur",H),window.addEventListener("resize",H),()=>{window.removeEventListener("blur",H),window.removeEventListener("resize",H)}},[k]);const[b,E]=aC(H=>{const O=I().filter(K=>!K.disabled),Y=O.find(K=>K.ref.current===document.activeElement),V=iC(O,H,Y);V&&setTimeout(()=>V.ref.current.focus())}),R=h.useCallback((H,O,Y)=>{const V=!J.current&&!Y;(p.value!==void 0&&p.value===O||V)&&(A(H),V&&(J.current=!0))},[p.value]),B=h.useCallback(()=>y==null?void 0:y.focus(),[y]),L=h.useCallback((H,O,Y)=>{const V=!J.current&&!Y;(p.value!==void 0&&p.value===O||V)&&$(H)},[p.value]),G=s==="popper"?og:zE,q=G===og?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:m,collisionPadding:g,sticky:j,hideWhenDetached:v,avoidCollisions:w}:{};return r.jsx(UE,{scope:n,content:y,viewport:S,onViewportChange:P,itemRefCallback:R,selectedItem:T,onItemLeave:B,itemTextRefCallback:L,focusSelectedItem:z,selectedItemText:D,position:s,isPositioned:M,searchRef:b,children:r.jsx(uv,{as:l5,allowPinchZoom:!0,children:r.jsx(dv,{asChild:!0,trapped:p.open,onMountAutoFocus:H=>{H.preventDefault()},onUnmountAutoFocus:ve(a,H=>{var O;(O=p.trigger)==null||O.focus({preventScroll:!0}),H.preventDefault()}),children:r.jsx(zc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:H=>H.preventDefault(),onDismiss:()=>p.onOpenChange(!1),children:r.jsx(G,{role:"listbox",id:p.contentId,"data-state":p.open?"open":"closed",dir:p.dir,onContextMenu:H=>H.preventDefault(),...x,...q,onPlaced:()=>F(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:ve(x.onKeyDown,H=>{const O=H.ctrlKey||H.altKey||H.metaKey;if(H.key==="Tab"&&H.preventDefault(),!O&&H.key.length===1&&E(H.key),["ArrowUp","ArrowDown","Home","End"].includes(H.key)){let V=I().filter(K=>!K.disabled).map(K=>K.ref.current);if(["ArrowUp","End"].includes(H.key)&&(V=V.slice().reverse()),["ArrowUp","ArrowDown"].includes(H.key)){const K=H.target,te=V.indexOf(K);V=V.slice(te+1)}setTimeout(()=>U(V)),H.preventDefault()}})})})})})})});VE.displayName=o5;var c5="SelectItemAlignedPosition",zE=h.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:s,...a}=e,i=$a(ji,n),o=Da(ji,n),[l,c]=h.useState(null),[d,u]=h.useState(null),f=Ge(t,C=>u(C)),m=eh(n),g=h.useRef(!1),j=h.useRef(!0),{viewport:v,selectedItem:w,selectedItemText:x,focusSelectedItem:p}=o,y=h.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&v&&w&&x){const C=i.trigger.getBoundingClientRect(),T=d.getBoundingClientRect(),A=i.valueNode.getBoundingClientRect(),D=x.getBoundingClientRect();if(i.dir!=="rtl"){const K=D.left-T.left,te=A.left-K,ue=C.left-te,fe=C.width+ue,ce=Math.max(fe,T.width),me=window.innerWidth-Ts,we=$0(te,[Ts,Math.max(Ts,me-ce)]);l.style.minWidth=fe+"px",l.style.left=we+"px"}else{const K=T.right-D.right,te=window.innerWidth-A.right-K,ue=window.innerWidth-C.right-te,fe=C.width+ue,ce=Math.max(fe,T.width),me=window.innerWidth-Ts,we=$0(te,[Ts,Math.max(Ts,me-ce)]);l.style.minWidth=fe+"px",l.style.right=we+"px"}const $=m(),I=window.innerHeight-Ts*2,M=v.scrollHeight,F=window.getComputedStyle(d),J=parseInt(F.borderTopWidth,10),U=parseInt(F.paddingTop,10),z=parseInt(F.borderBottomWidth,10),k=parseInt(F.paddingBottom,10),N=J+U+M+k+z,b=Math.min(w.offsetHeight*5,N),E=window.getComputedStyle(v),R=parseInt(E.paddingTop,10),B=parseInt(E.paddingBottom,10),L=C.top+C.height/2-Ts,G=I-L,q=w.offsetHeight/2,H=w.offsetTop+q,O=J+U+H,Y=N-O;if(O<=L){const K=$.length>0&&w===$[$.length-1].ref.current;l.style.bottom="0px";const te=d.clientHeight-v.offsetTop-v.offsetHeight,ue=Math.max(G,q+(K?B:0)+te+z),fe=O+ue;l.style.height=fe+"px"}else{const K=$.length>0&&w===$[0].ref.current;l.style.top="0px";const ue=Math.max(L,J+v.offsetTop+(K?R:0)+q)+Y;l.style.height=ue+"px",v.scrollTop=O-L+v.offsetTop}l.style.margin=`${Ts}px 0`,l.style.minHeight=b+"px",l.style.maxHeight=I+"px",s==null||s(),requestAnimationFrame(()=>g.current=!0)}},[m,i.trigger,i.valueNode,l,d,v,w,x,i.dir,s]);$t(()=>y(),[y]);const[_,S]=h.useState();$t(()=>{d&&S(window.getComputedStyle(d).zIndex)},[d]);const P=h.useCallback(C=>{C&&j.current===!0&&(y(),p==null||p(),j.current=!1)},[y,p]);return r.jsx(u5,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:P,children:r.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:r.jsx(ye.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});zE.displayName=c5;var d5="SelectPopperPosition",og=h.forwardRef((e,t)=>{const{__scopeSelect:n,align:s="start",collisionPadding:a=Ts,...i}=e,o=th(n);return r.jsx(JN,{...o,...i,ref:t,align:s,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});og.displayName=d5;var[u5,xv]=el(ji,{}),lg="SelectViewport",WE=h.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:s,...a}=e,i=Da(lg,n),o=xv(lg,n),l=Ge(t,i.onViewportChange),c=h.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),r.jsx(Zf.Slot,{scope:n,children:r.jsx(ye.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:ve(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&f){const g=Math.abs(c.current-u.scrollTop);if(g>0){const j=window.innerHeight-Ts*2,v=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),x=Math.max(v,w);if(x<j){const p=x+g,y=Math.min(j,p),_=p-y;f.style.height=y+"px",f.style.bottom==="0px"&&(u.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});WE.displayName=lg;var HE="SelectGroup",[f5,h5]=el(HE),m5=h.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,a=Er();return r.jsx(f5,{scope:n,id:a,children:r.jsx(ye.div,{role:"group","aria-labelledby":a,...s,ref:t})})});m5.displayName=HE;var qE="SelectLabel",KE=h.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,a=h5(qE,n);return r.jsx(ye.div,{id:a.id,...s,ref:t})});KE.displayName=qE;var Qu="SelectItem",[p5,GE]=el(Qu),YE=h.forwardRef((e,t)=>{const{__scopeSelect:n,value:s,disabled:a=!1,textValue:i,...o}=e,l=$a(Qu,n),c=Da(Qu,n),d=l.value===s,[u,f]=h.useState(i??""),[m,g]=h.useState(!1),j=Ge(t,p=>{var y;return(y=c.itemRefCallback)==null?void 0:y.call(c,p,s,a)}),v=Er(),w=h.useRef("touch"),x=()=>{a||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(p5,{scope:n,value:s,disabled:a,textId:v,isSelected:d,onItemTextChange:h.useCallback(p=>{f(y=>y||((p==null?void 0:p.textContent)??"").trim())},[]),children:r.jsx(Zf.ItemSlot,{scope:n,value:s,disabled:a,textValue:u,children:r.jsx(ye.div,{role:"option","aria-labelledby":v,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:j,onFocus:ve(o.onFocus,()=>g(!0)),onBlur:ve(o.onBlur,()=>g(!1)),onClick:ve(o.onClick,()=>{w.current!=="mouse"&&x()}),onPointerUp:ve(o.onPointerUp,()=>{w.current==="mouse"&&x()}),onPointerDown:ve(o.onPointerDown,p=>{w.current=p.pointerType}),onPointerMove:ve(o.onPointerMove,p=>{var y;w.current=p.pointerType,a?(y=c.onItemLeave)==null||y.call(c):w.current==="mouse"&&p.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ve(o.onPointerLeave,p=>{var y;p.currentTarget===document.activeElement&&((y=c.onItemLeave)==null||y.call(c))}),onKeyDown:ve(o.onKeyDown,p=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&p.key===" "||(e5.includes(p.key)&&x(),p.key===" "&&p.preventDefault())})})})})});YE.displayName=Qu;var kl="SelectItemText",QE=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:a,...i}=e,o=$a(kl,n),l=Da(kl,n),c=GE(kl,n),d=r5(kl,n),[u,f]=h.useState(null),m=Ge(t,x=>f(x),c.onItemTextChange,x=>{var p;return(p=l.itemTextRefCallback)==null?void 0:p.call(l,x,c.value,c.disabled)}),g=u==null?void 0:u.textContent,j=h.useMemo(()=>r.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:v,onNativeOptionRemove:w}=d;return $t(()=>(v(j),()=>w(j)),[v,w,j]),r.jsxs(r.Fragment,{children:[r.jsx(ye.span,{id:c.textId,...i,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?vs.createPortal(i.children,o.valueNode):null]})});QE.displayName=kl;var XE="SelectItemIndicator",JE=h.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return GE(XE,n).isSelected?r.jsx(ye.span,{"aria-hidden":!0,...s,ref:t}):null});JE.displayName=XE;var cg="SelectScrollUpButton",ZE=h.forwardRef((e,t)=>{const n=Da(cg,e.__scopeSelect),s=xv(cg,e.__scopeSelect),[a,i]=h.useState(!1),o=Ge(t,s.onScrollButtonChange);return $t(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?r.jsx(tC,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});ZE.displayName=cg;var dg="SelectScrollDownButton",eC=h.forwardRef((e,t)=>{const n=Da(dg,e.__scopeSelect),s=xv(dg,e.__scopeSelect),[a,i]=h.useState(!1),o=Ge(t,s.onScrollButtonChange);return $t(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?r.jsx(tC,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});eC.displayName=dg;var tC=h.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:s,...a}=e,i=Da("SelectScrollButton",n),o=h.useRef(null),l=eh(n),c=h.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return h.useEffect(()=>()=>c(),[c]),$t(()=>{var u;const d=l().find(f=>f.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),r.jsx(ye.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:ve(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:ve(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:ve(a.onPointerLeave,()=>{c()})})}),g5="SelectSeparator",nC=h.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return r.jsx(ye.div,{"aria-hidden":!0,...s,ref:t})});nC.displayName=g5;var ug="SelectArrow",x5=h.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,a=th(n),i=$a(ug,n),o=Da(ug,n);return i.open&&o.position==="popper"?r.jsx(ZN,{...a,...s,ref:t}):null});x5.displayName=ug;var v5="SelectBubbleInput",sC=h.forwardRef(({__scopeSelect:e,value:t,...n},s)=>{const a=h.useRef(null),i=Ge(s,a),o=gv(t);return h.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&u){const f=new Event("change",{bubbles:!0});u.call(l,t),l.dispatchEvent(f)}},[o,t]),r.jsx(ye.select,{...n,style:{...WS,...n.style},ref:i,defaultValue:t})});sC.displayName=v5;function rC(e){return e===""||e===void 0}function aC(e){const t=Zn(e),n=h.useRef(""),s=h.useRef(0),a=h.useCallback(o=>{const l=n.current+o;t(l),function c(d){n.current=d,window.clearTimeout(s.current),d!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=h.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,a,i]}function iC(e,t,n){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=y5(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function y5(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var w5=$E,oC=ME,j5=IE,_5=OE,b5=FE,lC=BE,S5=WE,cC=KE,dC=YE,N5=QE,E5=JE,uC=ZE,fC=eC,hC=nC;const ht=w5,mt=j5,at=h.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(oC,{ref:s,className:xe("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,r.jsx(_5,{asChild:!0,children:r.jsx(Pf,{className:"h-4 w-4 opacity-50"})})]}));at.displayName=oC.displayName;const mC=h.forwardRef(({className:e,...t},n)=>r.jsx(uC,{ref:n,className:xe("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(Bx,{className:"h-4 w-4"})}));mC.displayName=uC.displayName;const pC=h.forwardRef(({className:e,...t},n)=>r.jsx(fC,{ref:n,className:xe("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(Pf,{className:"h-4 w-4"})}));pC.displayName=fC.displayName;const it=h.forwardRef(({className:e,children:t,position:n="popper",...s},a)=>r.jsx(b5,{children:r.jsxs(lC,{ref:a,className:xe("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...s,children:[r.jsx(mC,{}),r.jsx(S5,{className:xe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),r.jsx(pC,{})]})}));it.displayName=lC.displayName;const C5=h.forwardRef(({className:e,...t},n)=>r.jsx(cC,{ref:n,className:xe("px-2 py-1.5 text-sm font-semibold",e),...t}));C5.displayName=cC.displayName;const Pe=h.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(dC,{ref:s,className:xe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(E5,{children:r.jsx(qo,{className:"h-4 w-4"})})}),r.jsx(N5,{children:t})]}));Pe.displayName=dC.displayName;const T5=h.forwardRef(({className:e,...t},n)=>r.jsx(hC,{ref:n,className:xe("-mx-1 my-1 h-px bg-muted",e),...t}));T5.displayName=hC.displayName;const k5=Ho("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function se({className:e,variant:t,...n}){return r.jsx("div",{className:xe(k5({variant:t}),e),...n})}const P5=()=>{var j;const[e,t]=h.useState(!1),n=Xo(),{selectedSeason:s,selectedConference:a,theme:i,setSelectedSeason:o,setSelectedConference:l,toggleTheme:c,seasonConfigs:d,currentSeasonConfig:u}=$n(),f=[{path:"/",label:"Home",icon:V$},{path:"/standings",label:"Standings",icon:xt},{path:"/matchups",label:"Matchups",icon:vc},{path:"/teams",label:"Teams",icon:Vt},{path:"/players",label:"Players",icon:ho},{path:"/draft",label:"Draft Results",icon:xc},{path:"/rules",label:"League Rules",icon:gc},{path:"/admin",label:"Admin",icon:k$}],m=v=>v==="/"?n.pathname==="/":n.pathname.startsWith(v),g=({isMobile:v=!1})=>r.jsx(r.Fragment,{children:f.map(w=>{const x=w.icon,p=m(w.path);return r.jsxs(Mt,{to:w.path,onClick:()=>v&&t(!1),className:`flex items-center space-x-2 px-3 py-2 rounded-md ${w.path==="/admin"?"text-xs opacity-75":"text-sm"} font-medium transition-colors ${p?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-accent"}`,children:[r.jsx(x,{className:w.path==="/admin"?"h-3 w-3":"h-4 w-4"}),r.jsx("span",{className:w.path==="/admin"?"text-xs":"",children:w.label})]},w.path)})});return r.jsxs("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:[r.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[r.jsx("div",{className:"flex items-center space-x-4",children:r.jsxs(Mt,{to:"/",className:"flex items-center space-x-2",children:[r.jsx("img",{src:"/gladiator-logo.png",alt:"Gladiator League Logo",className:"h-8 w-8"}),r.jsx("div",{className:"hidden sm:block",children:r.jsx("h1",{className:"text-xl font-bold",children:"Gladiator League"})})]})}),r.jsx("nav",{className:"hidden lg:flex items-center space-x-1",children:r.jsx(g,{})}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(ht,{value:s.toString(),onValueChange:v=>o(parseInt(v)),children:[r.jsx(at,{className:"w-20",children:r.jsx(mt,{})}),r.jsx(it,{children:d.map(v=>r.jsx(Pe,{value:v.year.toString(),children:v.year},v.year))})]}),r.jsxs(ht,{value:a||"all",onValueChange:v=>l(v==="all"?null:v),children:[r.jsx(at,{className:"w-40",children:r.jsx(mt,{})}),r.jsxs(it,{children:[r.jsx(Pe,{value:"all",children:"All Conferences"}),u.conferences.map(v=>r.jsx(Pe,{value:v.id,children:v.name},v.id))]})]}),r.jsx(Z,{variant:"ghost",size:"icon",onClick:c,children:i==="light"?r.jsx(eD,{className:"h-4 w-4"}):r.jsx(gD,{className:"h-4 w-4"})}),r.jsxs(q3,{open:e,onOpenChange:t,children:[r.jsx(K3,{asChild:!0,className:"lg:hidden",children:r.jsx(Z,{variant:"ghost",size:"icon",children:r.jsx(Y$,{className:"h-4 w-4"})})}),r.jsx(AE,{side:"right",className:"w-64",children:r.jsxs("div",{className:"flex flex-col space-y-4 mt-8",children:[r.jsxs("div",{className:"flex items-center space-x-2 pb-4 border-b",children:[r.jsx(xc,{className:"h-6 w-6 text-primary"}),r.jsxs("div",{children:[r.jsx("h2",{className:"font-semibold",children:"Gladiator League"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Fantasy Football"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Navigation"}),r.jsx(g,{isMobile:!0})]}),r.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium mb-2",children:"Season"}),r.jsxs(ht,{value:s.toString(),onValueChange:v=>o(parseInt(v)),children:[r.jsx(at,{children:r.jsx(mt,{})}),r.jsx(it,{children:d.map(v=>r.jsx(Pe,{value:v.year.toString(),children:v.year},v.year))})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium mb-2",children:"Conference"}),r.jsxs(ht,{value:a||"all",onValueChange:v=>l(v==="all"?null:v),children:[r.jsx(at,{children:r.jsx(mt,{})}),r.jsxs(it,{children:[r.jsx(Pe,{value:"all",children:"All Conferences"}),u.conferences.map(v=>r.jsx(Pe,{value:v.id,children:v.name},v.id))]})]})]})]})]})})]})]})]}),(a||s!==2025)&&r.jsx("div",{className:"border-t bg-accent/50",children:r.jsx("div",{className:"container py-2",children:r.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Active filters:"}),s!==2025&&r.jsxs(se,{variant:"secondary",children:[s," Season"]}),a&&r.jsx(se,{variant:"secondary",children:(j=u.conferences.find(v=>v.id===a))==null?void 0:j.name})]})})})]})},Q=h.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:xe("rounded-xl border bg-card text-card-foreground shadow",e),...t}));Q.displayName="Card";const oe=h.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:xe("flex flex-col space-y-1.5 p-6",e),...t}));oe.displayName="CardHeader";const le=h.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:xe("font-semibold leading-none tracking-tight",e),...t}));le.displayName="CardTitle";const _e=h.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:xe("text-sm text-muted-foreground",e),...t}));_e.displayName="CardDescription";const ee=h.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:xe("p-6 pt-0",e),...t}));ee.displayName="CardContent";const R5=h.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:xe("flex items-center p-6 pt-0",e),...t}));R5.displayName="CardFooter";const A5=Ho("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Le=h.forwardRef(({className:e,variant:t,...n},s)=>r.jsx("div",{ref:s,role:"alert",className:xe(A5({variant:t}),e),...n}));Le.displayName="Alert";const jr=h.forwardRef(({className:e,...t},n)=>r.jsx("h5",{ref:n,className:xe("mb-1 font-medium leading-none tracking-tight",e),...t}));jr.displayName="AlertTitle";const Ie=h.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:xe("text-sm [&_p]:leading-relaxed",e),...t}));Ie.displayName="AlertDescription";class Xu{static async getStandingsData(t,n){try{console.log(`StandingsService: Fetching standings for season ${t}, conference ${n||"all"}`);const s=[{column:"season_id",operator:"eq",value:t}];n&&s.push({column:"conference_id",operator:"eq",value:n});const a=await ae.getTeamRecords({filters:s});if(a.error)throw new Error(`Failed to fetch team records: ${a.error}`);const i=a.data||[];if(console.log(`StandingsService: Found ${i.length} team records`),i.length===0)return console.log("StandingsService: No team records found, returning empty array"),[];const o=[...new Set(i.map(w=>w.team_id))],l=[...new Set(i.map(w=>w.conference_id))],[c,d]=await Promise.all([ae.getTeams({filters:[{column:"id",operator:"in",value:o}]}),ae.getConferences({filters:[{column:"id",operator:"in",value:l}]})]);if(c.error)throw new Error(`Failed to fetch teams: ${c.error}`);if(d.error)throw new Error(`Failed to fetch conferences: ${d.error}`);const u=c.data||[],f=d.data||[],m=new Map;u.forEach(w=>m.set(w.id,w));const g=new Map;f.forEach(w=>g.set(w.id,w));const j=i.map(w=>{const x=m.get(w.team_id),p=g.get(w.conference_id),y=w.wins||0,_=w.losses||0,S=0,P=y+_+S,C=P>0?y/P:0;return{team_id:w.team_id,team_name:(x==null?void 0:x.team_name)||`Team ${w.team_id}`,owner_name:(x==null?void 0:x.owner_name)||"Unknown Owner",conference_name:(p==null?void 0:p.conference_name)||"Unknown Conference",wins:y,losses:_,ties:S,points_for:w.points_for||0,points_against:w.points_against||0,point_diff:w.point_diff||(w.points_for||0)-(w.points_against||0),win_percentage:C,conference_rank:0,overall_rank:0,playoff_eligible:!1,is_conference_champion:!1}});j.sort((w,x)=>x.win_percentage!==w.win_percentage?x.win_percentage-w.win_percentage:x.points_for-w.points_for),j.forEach((w,x)=>{w.overall_rank=x+1});const v=new Map;return j.forEach(w=>{v.has(w.conference_name)||v.set(w.conference_name,[]),v.get(w.conference_name).push(w)}),v.forEach((w,x)=>{w.sort((p,y)=>y.win_percentage!==p.win_percentage?y.win_percentage-p.win_percentage:y.points_for-p.points_for),w.forEach((p,y)=>{p.conference_rank=y+1,p.playoff_eligible=y<2,p.is_conference_champion=y===0})}),console.log(`StandingsService: Returning ${j.length} standings records`),j}catch(s){throw console.error("StandingsService: Error fetching standings data:",s),s}}static async getConferenceStandings(t,n){return this.getStandingsData(t,n)}static async getLeagueStandings(t){return this.getStandingsData(t)}static formatRecord(t,n,s=0){return s>0?`${t}-${n}-${s}`:`${t}-${n}`}static formatPoints(t){return t.toFixed(1)}}const $5=e=>{const{seasonYear:t,conferenceId:n,limit:s,autoRefresh:a=!1,refreshInterval:i=3e4}=e,[o,l]=h.useState([]),[c,d]=h.useState(!0),[u,f]=h.useState(null),m=async()=>{if(!t){d(!1);return}try{d(!0),f(null);let g=await Xu.getStandingsData(t,n);s&&s>0&&(g=g.slice(0,s)),l(g)}catch(g){const j=g instanceof Error?g.message:"An error occurred while fetching standings";f(j),console.error("Error fetching standings:",g)}finally{d(!1)}};return h.useEffect(()=>{t?m():d(!1)},[t,n,s]),h.useEffect(()=>{if(a&&i>0&&t){const g=setInterval(m,i);return()=>clearInterval(g)}},[a,i,t,n,s]),{standings:o,loading:c,error:u,refetch:m}},D5=["QB","RB","RB","WR","WR","WR","TE","FLEX","SUPER_FLEX","K","DEF"];class Qe{static async fetchLeagueRosters(t){try{console.log(`Fetching rosters for league: ${t}`);const n=await fetch(`${this.baseUrl}/league/${t}/rosters`);if(!n.ok)throw new Error(`Failed to fetch rosters: ${n.status} ${n.statusText}`);const s=await n.json();return console.log(`Fetched ${s.length} rosters for league ${t}`),s}catch(n){throw console.error("Error fetching league rosters:",n),n}}static async fetchAllPlayers(){try{console.log("Fetching all NFL players data...");const t=await fetch(`${this.baseUrl}/players/nfl`);if(!t.ok)throw new Error(`Failed to fetch players: ${t.status} ${t.statusText}`);const n=await t.json();return console.log(`Fetched ${Object.keys(n).length} players from Sleeper API`),n}catch(t){throw console.error("Error fetching players:",t),t}}static organizeRoster(t,n){const s=(t.starters||[]).map((i,o)=>{const l=n[i],c=D5[o]||"BENCH";return{playerId:i,position:(l==null?void 0:l.position)||"UNK",slotPosition:c}}),a=(t.players||[]).filter(i=>!(t.starters||[]).includes(i)&&!(t.reserve||[]).includes(i));return{starters:s,bench:a,ir:t.reserve||[]}}static async getTeamRosterData(t,n){try{const[s,a]=await Promise.all([this.fetchLeagueRosters(t),(async()=>{const{DatabaseService:l}=await Dr(async()=>{const{DatabaseService:u}=await Promise.resolve().then(()=>VF);return{DatabaseService:u}},void 0),c=await l.getAllPlayersForMapping([{column:"playing_status",operator:"eq",value:"Active"},{column:"position",operator:"in",value:["QB","RB","WR","TE","K","DEF"]}]),d={};return c.forEach(u=>{var f;if(u.sleeper_id){const m=u.player_name.split(" "),g=m[0]||"",j=m.slice(1).join(" ")||"";d[u.sleeper_id]={player_id:u.sleeper_id,first_name:g,last_name:j,position:u.position||"",team:u.nfl_team||"",jersey_number:u.number||0,status:u.playing_status||"",injury_status:u.injury_status||"",age:u.age||0,height:((f=u.height)==null?void 0:f.toString())||"",weight:u.weight||0,years_exp:0,college:u.college||""}}}),d})()]),i=s.find(l=>l.roster_id===n);if(!i)throw new Error(`Roster with ID ${n} not found in league ${t}`);const o=this.organizeRoster(i,a);return{roster:i,organizedRoster:o,allPlayers:a}}catch(s){throw console.error("Error getting team roster data:",s),s}}static getPlayerName(t){return t&&`${t.first_name||""} ${t.last_name||""}`.trim()||"Unknown Player"}static calculatePointsPerGame(t,n){return n===0?0:t/n}static formatPoints(t,n=0){return t+n/100}static async fetchMatchups(t,n){try{console.log(`🔗 Fetching matchups for league: ${t}, week: ${n}`);const s=await fetch(`${this.baseUrl}/league/${t}/matchups/${n}`);if(!s.ok)throw new Error(`Failed to fetch matchups: ${s.status} ${s.statusText}`);const a=await s.json();if(console.log(`✅ Fetched ${a.length} matchups for league ${t}, week ${n}`),a.length>0){const i={totalMatchups:a.length,matchupsWithPoints:a.filter(o=>o.points>0).length,matchupsWithZeroPoints:a.filter(o=>o.points===0).length,matchupsWithNullPoints:a.filter(o=>o.points===null||o.points===void 0).length,pointsRange:{min:Math.min(...a.map(o=>o.points||0)),max:Math.max(...a.map(o=>o.points||0)),average:a.reduce((o,l)=>o+(l.points||0),0)/a.length},playersPointsAvailability:{withPlayersPoints:a.filter(o=>o.players_points&&Object.keys(o.players_points).length>0).length,withStartersPoints:a.filter(o=>o.starters_points&&o.starters_points.length>0).length},sampleMatchup:{rosterId:a[0].roster_id,points:a[0].points,playersPointsKeys:Object.keys(a[0].players_points||{}).length,startersPointsLength:(a[0].starters_points||[]).length,matchupId:a[0].matchup_id}};console.log(`📊 Points analysis for league ${t}, week ${n}:`,i),i.matchupsWithPoints===0&&(console.warn(`⚠️ No matchups with points > 0 found for league ${t}, week ${n}`),console.warn("🔍 This could indicate: week hasn't started, games in progress, or API delay")),i.playersPointsAvailability.withPlayersPoints===0&&console.warn(`⚠️ No player-level points data available for league ${t}, week ${n}`)}else console.warn(`⚠️ No matchup data returned for league ${t}, week ${n}`);return a}catch(s){throw console.error(`❌ Error fetching matchups for league ${t}, week ${n}:`,s),s}}static async fetchLeague(t){try{console.log(`Fetching league info: ${t}`);const n=await fetch(`${this.baseUrl}/league/${t}`);if(!n.ok)throw new Error(`Failed to fetch league: ${n.status} ${n.statusText}`);const s=await n.json();return console.log(`Fetched league info for ${t}`),s}catch(n){throw console.error("Error fetching league:",n),n}}static async fetchLeagueUsers(t){try{console.log(`Fetching users for league: ${t}`);const n=await fetch(`${this.baseUrl}/league/${t}/users`);if(!n.ok)throw new Error(`Failed to fetch users: ${n.status} ${n.statusText}`);const s=await n.json();return console.log(`Fetched ${s.length} users for league ${t}`),s}catch(n){throw console.error("Error fetching league users:",n),n}}static organizeMatchups(t,n,s){const a=new Map;return t.forEach(i=>{a.has(i.matchup_id)||a.set(i.matchup_id,[]),a.get(i.matchup_id).push(i)}),Array.from(a.entries()).filter(([i,o])=>o.length===2).map(([i,o])=>({matchup_id:i,teams:o.map(l=>{const c=n.find(u=>u.roster_id===l.roster_id),d=c?s.find(u=>u.user_id===c.owner_id):null;return{roster_id:l.roster_id,points:l.points,owner:d,roster:c}})}))}static async getCurrentNFLWeek(){try{console.log("Fetching current NFL week from Sleeper API...");const t=await fetch(`${this.baseUrl}/state/nfl`);if(!t.ok)throw new Error(`Failed to fetch NFL state: ${t.status} ${t.statusText}`);const n=await t.json();return console.log("NFL State from Sleeper:",n),console.log(`Current NFL week: ${n.week}`),n.week||1}catch(t){return console.error("Error fetching current NFL week:",t),console.warn("Falling back to default week 1"),1}}static async getNFLState(){try{console.log("Fetching NFL state from Sleeper API...");const t=await fetch(`${this.baseUrl}/state/nfl`);if(!t.ok)throw new Error(`Failed to fetch NFL state: ${t.status} ${t.statusText}`);const n=await t.json();return console.log("NFL State from Sleeper:",n),n}catch(t){throw console.error("Error fetching NFL state:",t),t}}}ds(Qe,"baseUrl","https://api.sleeper.app/v1");const fg=Object.freeze(Object.defineProperty({__proto__:null,SleeperApiService:Qe,default:Qe},Symbol.toStringTag,{value:"Module"})),M5=()=>{var z,k;const[e,t]=h.useState(1),[n,s]=h.useState([]),[a,i]=h.useState([]),[o,l]=h.useState(!0),[c,d]=h.useState(!0),[u,f]=h.useState(null),[m,g]=h.useState(null),{selectedSeason:j,selectedConference:v,currentSeasonConfig:w,seasonConfigs:x,loading:p,error:y,refreshSeasonData:_}=$n();w==null||w.year;const{standings:S,loading:P,error:C,refetch:T}=$5({seasonYear:w!=null&&w.seasonId?typeof w.seasonId=="string"?parseInt(w.seasonId):w.seasonId:void 0,conferenceId:v==="all"||v===null||(z=w==null?void 0:w.conferences.find(N=>N.id===v))==null?void 0:z.dbConferenceId,limit:12,autoRefresh:!0,refreshInterval:6e4});h.useEffect(()=>{(async()=>{try{const b=await Qe.getCurrentNFLWeek();t(b===0?1:b)}catch(b){console.error("Error loading current week:",b),t(1)}})()},[]);const A=async(N,b)=>{const E=[];for(const R of N){if(!R.dbConferenceId)continue;const B=await ae.getMatchups({filters:[{column:"conference_id",operator:"eq",value:R.dbConferenceId},{column:"week",operator:"eq",value:b}]});if(B.error||!B.data)continue;const L=await ae.getTeams({});if(L.error||!L.data)continue;const G=new Map;L.data.forEach(q=>{G.set(q.id,q.team_name)});for(const q of B.data){const H=G.get(q.team1_id)||"Unknown Team",O=G.get(q.team2_id)||"Unknown Team";E.push({matchup_id:q.id,conference:{conference_name:R.name,league_id:R.leagueId},teams:[{team:{team_name:H},points:q.team1_score||0},{team:{team_name:O},points:q.team2_score||0}],status:q.team1_score&&q.team2_score?"completed":"upcoming"})}}return E},D=async()=>{if(!(!w||e===0)){l(!0),f(null);try{const N=v==="all"||v===null?w.conferences:w.conferences.filter(E=>E.id===v),b=await A(N,e);s(b)}catch(N){console.error("Error loading matchups:",N),f(N instanceof Error?N.message:"Failed to load matchups")}finally{l(!1)}}};h.useEffect(()=>{D()},[e,v,w]);const $=async()=>{if(w){d(!0),g(null);try{const N=v==="all"||v===null?w.conferences:w.conferences.filter(H=>H.id===v),b=N.filter(H=>H.dbConferenceId).map(H=>H.dbConferenceId);if(b.length===0){i([]);return}const E=await ae.getTransactions({filters:[{column:"conference_id",operator:"in",value:b}],orderBy:{column:"created_at",ascending:!1},limit:10});if(E.error||!E.data)throw new Error(E.error||"Failed to fetch transactions");const R=await ae.getTeams({}),B=await ae.getTeamConferenceJunctions({filters:[{column:"conference_id",operator:"in",value:b}]}),L=await ae.getAllPlayersForMapping([{column:"playing_status",operator:"eq",value:"Active"},{column:"position",operator:"in",value:["QB","RB","WR","TE"]}]),G=new Map;L.forEach(H=>{H.sleeper_id&&G.set(String(H.sleeper_id),H.player_name)});const q=await Promise.all(E.data.map(async H=>{let O={};try{O=typeof H.data=="string"?JSON.parse(H.data):H.data||{}}catch(de){console.warn("Failed to parse transaction data:",de)}const Y=N.find(de=>de.dbConferenceId===H.conference_id),V=de=>{var tt;const Se=(tt=B.data)==null?void 0:tt.find(We=>We.roster_id.toString()===de.toString()&&We.conference_id===H.conference_id);if(Se&&R.data){const We=R.data.find(Br=>Br.id===Se.team_id);return(We==null?void 0:We.team_name)||"Unknown Team"}return"Unknown Team"};let K="Unknown Team";O.roster_ids&&O.roster_ids.length>0&&(K=V(O.roster_ids[0]));const te=[],ue=[],fe=de=>{const Se=String(de);return G.get(Se)||`Player ${Se}`};if(O.adds)for(const[de,Se]of Object.entries(O.adds)){const tt=fe(de),We=V(Se),Br=O.settings&&O.settings.waiver_bid&&O.settings.waiver_bid[de];te.push({name:tt,team:We,bidAmount:Br||null})}if(O.drops)for(const[de,Se]of Object.entries(O.drops)){const tt=fe(de),We=V(Se);ue.push({name:tt,team:We})}let ce="";const me=O.type||H.type,we=new Set;switch(O.roster_ids&&O.roster_ids.forEach(de=>{const Se=V(de);Se!=="Unknown Team"&&we.add(Se)}),me){case"trade":if(te.length>0||ue.length>0){const de=[];te.forEach(Se=>de.push(`${Se.name} to ${Se.team}`)),ue.forEach(Se=>de.push(`${Se.name} from ${Se.team}`)),we.size>1?ce=`Trade between ${Array.from(we).join(" and ")}: ${de.join(", ")}`:ce=`${K} trade: ${de.join(", ")}`}else O.draft_picks&&O.draft_picks.length>0?ce=`Trade involving ${O.draft_picks.map(Se=>`${Se.season} Round ${Se.round} pick`).join(", ")}`:ce=`Trade between ${Array.from(we).join(" and ")}`;break;case"waiver":te.length>0&&ue.length>0?ce=`${K} claimed ${te.map(de=>de.name).join(", ")} from waivers, dropped ${ue.map(de=>de.name).join(", ")}`:te.length>0?ce=`${K} claimed ${te.map(de=>de.name).join(", ")} from waivers`:ue.length>0?ce=`${K} dropped ${ue.map(de=>de.name).join(", ")} to waivers`:ce=`${K} made a waiver claim`;break;case"free_agent":te.length>0&&ue.length>0?ce=`${K} added ${te.map(de=>de.name).join(", ")}, dropped ${ue.map(de=>de.name).join(", ")}`:te.length>0?ce=`${K} added ${te.map(de=>de.name).join(", ")} from free agency`:ue.length>0?ce=`${K} dropped ${ue.map(de=>de.name).join(", ")}`:ce=`${K} made a free agent transaction`;break;default:ce=`${K} completed a ${me||"transaction"}`}const qe=O.type==="trade"?"trade":O.type==="waiver"?"waiver":O.type==="free_agent"?"free_agent":"commissioner";return{id:H.id.toString(),type:qe,date:new Date(H.created_at||new Date),details:ce,teams:[K],players:{added:te.map(de=>({id:"",name:de.name,team:de.team,bidAmount:de.bidAmount})),dropped:ue.map(de=>({id:"",name:de.name,team:de.team}))},week:O.leg||0,status:"completed",rosterIds:O.roster_ids||[],draftPicks:O.draft_picks||[],waiverBudget:O.waiver_budget||[]}}));i(q)}catch(N){console.error("Error loading transactions:",N),g(N instanceof Error?N.message:"Failed to load transactions")}finally{d(!1)}}};if(h.useEffect(()=>{$()},[v,w]),p)return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(wt,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Loading Gladiator League"}),r.jsx("p",{className:"text-muted-foreground",children:"Connecting to Supabase database..."})]})});if(y)return r.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:r.jsxs(Q,{className:"w-full max-w-md",children:[r.jsx(oe,{children:r.jsxs(le,{className:"flex items-center gap-2 text-destructive",children:[r.jsx(Ve,{className:"h-5 w-5"}),"Connection Error"]})}),r.jsxs(ee,{className:"space-y-4",children:[r.jsx(Le,{children:r.jsx(Ie,{children:y})}),r.jsxs(Z,{onClick:_,className:"w-full",children:[r.jsx(Je,{className:"h-4 w-4 mr-2"}),"Retry Connection"]})]})]})});if(!x||x.length===0)return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(wt,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Loading Season Configuration"}),r.jsx("p",{className:"text-muted-foreground",children:"Setting up league data..."})]})});if(!w||!w.conferences||w.conferences.length===0)return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(wt,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Loading Conferences"}),r.jsx("p",{className:"text-muted-foreground",children:"Setting up conference data..."})]})});const I=N=>{switch(N){case"live":return r.jsx(se,{className:"bg-green-500 hover:bg-green-600 text-xs",children:"Live"});case"completed":return r.jsx(se,{variant:"secondary",className:"text-xs",children:"Final"});case"upcoming":return r.jsx(se,{variant:"outline",className:"text-xs",children:"Upcoming"});default:return r.jsx(se,{variant:"secondary",className:"text-xs",children:N})}},M=N=>{switch(N){case"trade":return"🔄";case"waiver":return"⚡";case"free_agent":return"🆓";case"commissioner":return"⚖️";default:return"📝"}},F=()=>P?r.jsxs("div",{className:"flex items-center justify-center p-8",children:[r.jsx(wt,{className:"h-6 w-6 animate-spin text-primary"}),r.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:"Loading standings..."})]}):C?r.jsxs("div",{className:"text-center p-8",children:[r.jsxs("p",{className:"text-sm text-red-600 mb-4",children:["Error loading standings: ",C]}),r.jsx(Z,{variant:"outline",size:"sm",onClick:T,children:"Try Again"})]}):!S||S.length===0?r.jsx("div",{className:"text-center p-8",children:r.jsx("p",{className:"text-sm text-muted-foreground",children:"No standings data available"})}):r.jsx("div",{className:"space-y-3",children:S.map(N=>r.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-accent/50",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("div",{className:"flex items-center space-x-1",children:[N.overall_rank===1&&r.jsx(vN,{className:"h-4 w-4 text-yellow-500"}),r.jsxs("span",{className:"font-semibold w-6",children:["#",N.overall_rank]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:N.team_name}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[N.owner_name," • ",N.conference_name]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"font-semibold",children:Xu.formatRecord(N.wins,N.losses,N.ties)}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[Xu.formatPoints(N.points_for)," pts"]})]})]},N.team_id))}),J=()=>o?r.jsxs("div",{className:"flex items-center justify-center p-8",children:[r.jsx(wt,{className:"h-6 w-6 animate-spin text-primary"}),r.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:"Loading matchups..."})]}):u?r.jsxs("div",{className:"text-center p-8",children:[r.jsxs("p",{className:"text-sm text-red-600 mb-4",children:["Error loading matchups: ",u]}),r.jsx(Z,{variant:"outline",size:"sm",onClick:D,children:"Try Again"})]}):!n||n.length===0?r.jsx("div",{className:"text-center p-8",children:r.jsxs("p",{className:"text-sm text-muted-foreground",children:["No matchups found for week ",e]})}):r.jsx("div",{className:"space-y-2",children:n.map(N=>{var b,E,R,B,L,G;return r.jsxs("div",{className:"p-2 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx(se,{variant:"outline",className:"text-xs",children:N.conference.conference_name}),I(N.status)]}),r.jsxs("div",{className:"grid grid-cols-3 gap-2 items-center text-sm",children:[r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"font-medium truncate text-xs",children:((E=(b=N.teams[0])==null?void 0:b.team)==null?void 0:E.team_name)||"Team 1"}),r.jsx("p",{className:"text-sm font-bold",children:N.status==="upcoming"?"--":(R=N.teams[0])==null?void 0:R.points.toFixed(1)})]}),r.jsx("div",{className:"text-center text-muted-foreground font-semibold text-xs",children:"VS"}),r.jsxs("div",{className:"text-left",children:[r.jsx("p",{className:"font-medium truncate text-xs",children:((L=(B=N.teams[1])==null?void 0:B.team)==null?void 0:L.team_name)||"Team 2"}),r.jsx("p",{className:"text-sm font-bold",children:N.status==="upcoming"?"--":(G=N.teams[1])==null?void 0:G.points.toFixed(1)})]})]})]},N.matchup_id)})}),U=()=>c?r.jsxs("div",{className:"flex items-center justify-center p-8",children:[r.jsx(wt,{className:"h-6 w-6 animate-spin text-primary"}),r.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:"Loading transactions..."})]}):m?r.jsxs("div",{className:"text-center p-8",children:[r.jsxs("p",{className:"text-sm text-red-600 mb-4",children:["Error loading transactions: ",m]}),r.jsx(Z,{variant:"outline",size:"sm",onClick:$,children:"Try Again"})]}):!a||a.length===0?r.jsx("div",{className:"text-center p-8",children:r.jsx("p",{className:"text-sm text-muted-foreground",children:"No recent transactions found"})}):r.jsx("div",{className:"space-y-3",children:a.map(N=>r.jsxs("div",{className:"p-3 rounded-lg border bg-card hover:bg-accent/50 transition-colors",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"text-base",children:M(N.type)}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(se,{variant:"outline",className:"text-xs",children:N.type.replace("_"," ").toUpperCase()}),r.jsxs("span",{className:"text-xs text-muted-foreground",children:["Week ",N.week]})]})]}),r.jsx("span",{className:"text-xs text-muted-foreground",children:N.date.toLocaleDateString()})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"flex items-center space-x-2",children:r.jsx("span",{className:"text-sm font-medium",children:N.teams[0]})}),(N.players.added.length>0||N.players.dropped.length>0)&&r.jsxs("div",{className:"space-y-2",children:[N.players.added.length>0&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[r.jsxs(se,{variant:"secondary",className:"text-xs bg-green-100 text-green-800",children:["+",N.players.added.length]}),r.jsx("span",{className:"text-xs font-medium text-green-700",children:"Added"})]}),r.jsx("div",{className:"ml-1 space-y-1",children:N.players.added.map((b,E)=>r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"font-medium",children:b.name}),r.jsxs("div",{className:"flex items-center space-x-1",children:[b.bidAmount&&r.jsxs(se,{variant:"secondary",className:"text-xs bg-blue-100 text-blue-800",children:["$",b.bidAmount]}),r.jsx(se,{variant:"outline",className:"text-xs",children:b.team})]})]},E))})]}),N.players.dropped.length>0&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[r.jsxs(se,{variant:"secondary",className:"text-xs bg-red-100 text-red-800",children:["-",N.players.dropped.length]}),r.jsx("span",{className:"text-xs font-medium text-red-700",children:"Dropped"})]}),r.jsx("div",{className:"ml-1 space-y-1",children:N.players.dropped.map((b,E)=>r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"font-medium",children:b.name}),r.jsx(se,{variant:"outline",className:"text-xs",children:b.team})]},E))})]})]})]})]},N.id))});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"relative overflow-hidden rounded-lg bg-gradient-to-br from-primary/10 via-primary/5 to-background border",children:[r.jsx("div",{className:"absolute inset-0 bg-grid-white/10 [mask-image:linear-gradient(0deg,white,rgba(255,255,255,0.6))]"}),r.jsx("div",{className:"relative px-6 py-12 sm:px-12",children:r.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("img",{src:"/gladiator-logo.png",alt:"Gladiator League Logo",className:"h-12 w-12"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"Gladiator League"}),r.jsx("p",{className:"text-lg text-muted-foreground",children:"Fantasy Football Championship"})]})]}),r.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl",children:"Welcome to the ultimate fantasy football experience. Track your teams across three competitive conferences in real-time."}),r.jsxs("div",{className:"flex items-center space-x-2 mt-4",children:[r.jsxs(se,{variant:"outline",children:[j," Season"]}),r.jsxs(se,{variant:"outline",children:["Week ",e]}),v!=="all"&&w&&r.jsx(se,{variant:"secondary",children:(k=w.conferences.find(N=>N.id===v))==null?void 0:k.name})]})]})})]}),r.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[r.jsxs("div",{className:"lg:w-2/3 flex flex-col gap-6",children:[r.jsxs(Q,{children:[r.jsxs(oe,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(vc,{className:"h-5 w-5 text-primary"}),r.jsxs(le,{children:["Week ",e]})]}),r.jsx(Mt,{to:"/matchups",children:r.jsx(Z,{variant:"ghost",size:"sm",children:r.jsx(Zh,{className:"h-4 w-4"})})})]}),r.jsx(_e,{children:"Current matchups"})]}),r.jsx(ee,{children:J()})]}),r.jsxs(Q,{children:[r.jsxs(oe,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Do,{className:"h-5 w-5 text-primary"}),r.jsx(le,{children:"Recent Transactions"})]}),r.jsx(Mt,{to:"/transactions",children:r.jsxs(Z,{variant:"ghost",size:"sm",children:["View All ",r.jsx(Zh,{className:"ml-1 h-4 w-4"})]})})]}),r.jsx(_e,{children:"Latest roster moves across all conferences"})]}),r.jsx(ee,{children:U()})]})]}),r.jsxs("div",{className:"lg:w-1/3 flex flex-col gap-6",children:[r.jsxs(Q,{children:[r.jsxs(oe,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(xt,{className:"h-5 w-5 text-primary"}),r.jsx(le,{children:"League Standings"})]}),r.jsx(Mt,{to:"/standings",children:r.jsxs(Z,{variant:"ghost",size:"sm",children:["View All ",r.jsx(Zh,{className:"ml-1 h-4 w-4"})]})})]}),r.jsx(_e,{children:"Top 12 teams across all conferences"})]}),r.jsx(ee,{children:F()})]}),r.jsxs(Q,{children:[r.jsxs(oe,{children:[r.jsxs(le,{className:"flex items-center space-x-2",children:[r.jsx(Vt,{className:"h-5 w-5 text-primary"}),r.jsx("span",{children:"Quick Actions"})]}),r.jsx(_e,{children:"Navigate to key sections of the league"})]}),r.jsx(ee,{children:r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsx(Mt,{to:"/standings",children:r.jsxs(Z,{variant:"outline",className:"w-full h-16 flex flex-col space-y-1",children:[r.jsx(xt,{className:"h-5 w-5"}),r.jsx("span",{className:"text-xs",children:"Standings"})]})}),r.jsx(Mt,{to:"/matchups",children:r.jsxs(Z,{variant:"outline",className:"w-full h-16 flex flex-col space-y-1",children:[r.jsx(vc,{className:"h-5 w-5"}),r.jsx("span",{className:"text-xs",children:"Matchups"})]})}),r.jsx(Mt,{to:"/teams",children:r.jsxs(Z,{variant:"outline",className:"w-full h-16 flex flex-col space-y-1",children:[r.jsx(Vt,{className:"h-5 w-5"}),r.jsx("span",{className:"text-xs",children:"Teams"})]})}),r.jsx(Mt,{to:"/players",children:r.jsxs(Z,{variant:"outline",className:"w-full h-16 flex flex-col space-y-1",children:[r.jsx(Do,{className:"h-5 w-5"}),r.jsx("span",{className:"text-xs",children:"Players"})]})}),r.jsx(Mt,{to:"/draft",children:r.jsxs(Z,{variant:"outline",className:"w-full h-16 flex flex-col space-y-1",children:[r.jsx(xc,{className:"h-5 w-5"}),r.jsx("span",{className:"text-xs",children:"Draft Results"})]})}),r.jsx(Mt,{to:"/rules",children:r.jsxs(Z,{variant:"outline",className:"w-full h-16 flex flex-col space-y-1",children:[r.jsx(Qn,{className:"h-5 w-5"}),r.jsx("span",{className:"text-xs",children:"League Rules"})]})})]})})]})]})]}),r.jsxs(Q,{children:[r.jsxs(oe,{children:[r.jsx(le,{children:"League Information"}),r.jsx(_e,{children:"Current season details and conference structure"})]}),r.jsx(ee,{children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:w==null?void 0:w.conferences.map(N=>r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsx("h4",{className:"font-semibold mb-2",children:N.name}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"12 teams • 14-week season"}),r.jsx(se,{variant:"outline",className:"text-xs",children:N.status})]},N.id))})})]})]})},rn=h.forwardRef(({className:e,...t},n)=>r.jsx("div",{className:"relative w-full overflow-auto",children:r.jsx("table",{ref:n,className:xe("w-full caption-bottom text-sm",e),...t})}));rn.displayName="Table";const an=h.forwardRef(({className:e,...t},n)=>r.jsx("thead",{ref:n,className:xe("[&_tr]:border-b",e),...t}));an.displayName="TableHeader";const on=h.forwardRef(({className:e,...t},n)=>r.jsx("tbody",{ref:n,className:xe("[&_tr:last-child]:border-0",e),...t}));on.displayName="TableBody";const L5=h.forwardRef(({className:e,...t},n)=>r.jsx("tfoot",{ref:n,className:xe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));L5.displayName="TableFooter";const ke=h.forwardRef(({className:e,...t},n)=>r.jsx("tr",{ref:n,className:xe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));ke.displayName="TableRow";const ie=h.forwardRef(({className:e,...t},n)=>r.jsx("th",{ref:n,className:xe("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));ie.displayName="TableHead";const ne=h.forwardRef(({className:e,...t},n)=>r.jsx("td",{ref:n,className:xe("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));ne.displayName="TableCell";const I5=h.forwardRef(({className:e,...t},n)=>r.jsx("caption",{ref:n,className:xe("mt-4 text-sm text-muted-foreground",e),...t}));I5.displayName="TableCaption";const O5=()=>{var S,P;const{selectedSeason:e,selectedConference:t,currentSeasonConfig:n,loading:s}=$n(),[a,i]=h.useState(null),[o,l]=h.useState([]),[c,d]=h.useState(!0),[u,f]=h.useState(null),[m,g]=h.useState(!1),{toast:j}=dn(),v=async()=>{try{d(!0),f(null),console.log(`Fetching standings data for season ${e} and conference ${t||"all"}...`);const C=n;if(!C)throw new Error(`No season configuration found for year ${e}`);const T=C.seasonId,A=typeof T=="string"?parseInt(T):T;console.log(`Using season ID ${A} for year ${e}`);let D;if(t){const I=C.conferences.find(M=>M.id===t);if(I){const M=await ae.getConferences({filters:[{column:"season_id",operator:"eq",value:A},{column:"conference_name",operator:"eq",value:I.name}]});if(M.error)throw new Error(`Conferences fetch error: ${M.error}`);const F=M.data||[];F.length>0&&(D=typeof F[0].id=="string"?parseInt(F[0].id):F[0].id)}}const $=await Xu.getStandingsData(A,D);console.log("Standings data from service:",$),l($)}catch(C){console.error("Error fetching standings:",C),f(C instanceof Error?C.message:"Failed to fetch standings data"),j({title:"Error",description:"Failed to fetch standings data. Please try again.",variant:"destructive"})}finally{d(!1)}},w=async()=>{try{g(!0);const C=n;if(!C)throw new Error(`No season configuration found for year ${e}`);const T=C.seasonId,A=typeof T=="string"?parseInt(T):T;let D;if(t){const $=C.conferences.find(I=>I.id===t);if($){const I=await ae.getConferences({filters:[{column:"season_id",operator:"eq",value:A},{column:"conference_name",operator:"eq",value:$.name}]});if(I.error)throw new Error(`Conferences fetch error: ${I.error}`);const M=I.data||[];M.length>0&&(D=typeof M[0].id=="string"?parseInt(M[0].id):M[0].id)}}console.log("Team records refresh triggered for season:",A,"conference:",D),await v(),j({title:"Success",description:"Standings refreshed successfully"})}catch(C){console.error("Error refreshing standings:",C),j({title:"Error",description:"Failed to refresh standings data",variant:"destructive"})}finally{g(!1)}};h.useEffect(()=>{!s&&n&&v()},[e,t,s,n]);const x=C=>{let T="desc";a&&a.key===C&&a.direction==="desc"&&(T="asc"),i({key:C,direction:T})},p=Me.useMemo(()=>{let C=[...o];return a!==null?C.sort((T,A)=>{const D=T[a.key],$=A[a.key];return D<$?a.direction==="asc"?-1:1:D>$?a.direction==="asc"?1:-1:0}):C.sort((T,A)=>T.wins!==A.wins?A.wins-T.wins:A.points_for-T.points_for),C},[o,a]),y=(C,T)=>{const A=C+T;if(A===0)return"outline";const D=C/A;return D>=.7?"default":D>=.5?"secondary":"destructive"},_=(C,T)=>T?r.jsxs(se,{variant:"default",className:"bg-yellow-500 text-white",children:[r.jsx(xt,{className:"w-3 h-3 mr-1"}),"Champion"]}):C?r.jsx(se,{variant:"default",className:"bg-green-500",children:"Playoff"}):null;return s||c?r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(wt,{className:"h-6 w-6 animate-spin"}),r.jsxs("span",{children:["Loading ",s?"season data":"standings","..."]})]})}):u?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(xt,{className:"h-6 w-6 text-primary"}),r.jsx("h1",{className:"text-3xl font-bold",children:"League Standings"})]}),r.jsxs("p",{className:"text-muted-foreground",children:[e," Season • ",t?(S=n.conferences.find(C=>C.id===t))==null?void 0:S.name:"All Conferences"]})]}),r.jsxs(Q,{children:[r.jsxs(oe,{children:[r.jsx(le,{children:"Error Loading Standings"}),r.jsx(_e,{children:"Unable to fetch standings data"})]}),r.jsx(ee,{children:r.jsxs("div",{className:"text-center space-y-4",children:[r.jsx("p",{className:"text-muted-foreground",children:u}),r.jsx(Z,{onClick:v,children:"Try Again"})]})})]})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(xt,{className:"h-6 w-6 text-primary"}),r.jsx("h1",{className:"text-3xl font-bold",children:"League Standings"})]}),r.jsxs(Z,{variant:"outline",onClick:w,disabled:m,className:"flex items-center gap-2",children:[r.jsx(Je,{className:`h-4 w-4 ${m?"animate-spin":""}`}),m?"Refreshing...":"Refresh"]})]}),r.jsxs("p",{className:"text-muted-foreground",children:[e," Season • ",t?(P=n.conferences.find(C=>C.id===t))==null?void 0:P.name:"All Conferences"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(Q,{children:r.jsxs(oe,{className:"pb-2",children:[r.jsx(_e,{children:"Total Teams"}),r.jsx(le,{className:"text-2xl",children:o.length})]})}),r.jsx(Q,{children:r.jsxs(oe,{className:"pb-2",children:[r.jsx(_e,{children:"Highest Scoring Team"}),r.jsx(le,{className:"text-xl",children:o.length>0&&o.reduce((C,T)=>C.points_for>T.points_for?C:T).team_name})]})}),r.jsx(Q,{children:r.jsxs(oe,{className:"pb-2",children:[r.jsx(_e,{children:"Playoff Teams"}),r.jsx(le,{className:"text-2xl",children:o.filter(C=>C.playoff_eligible).length})]})})]}),r.jsxs(Q,{children:[r.jsxs(oe,{children:[r.jsx(le,{children:"Team Standings"}),r.jsxs(_e,{children:["Click column headers to sort. Current standings for the ",e," season."]})]}),r.jsx(ee,{children:r.jsx("div",{className:"rounded-md border",children:r.jsxs(rn,{children:[r.jsx(an,{children:r.jsxs(ke,{children:[r.jsx(ie,{className:"w-12",children:r.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>x("overall_rank"),children:["Rank ",r.jsx(Pi,{className:"ml-1 h-3 w-3"})]})}),r.jsx(ie,{children:r.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>x("team_name"),children:["Team ",r.jsx(Pi,{className:"ml-1 h-3 w-3"})]})}),r.jsx(ie,{className:"hidden md:table-cell",children:"Owner"}),r.jsx(ie,{className:"hidden lg:table-cell",children:"Conference"}),r.jsx(ie,{children:r.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>x("wins"),children:["Record ",r.jsx(Pi,{className:"ml-1 h-3 w-3"})]})}),r.jsx(ie,{className:"text-right",children:r.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>x("points_for"),children:["PF ",r.jsx(Pi,{className:"ml-1 h-3 w-3"})]})}),r.jsx(ie,{className:"text-right hidden sm:table-cell",children:r.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>x("points_against"),children:["PA ",r.jsx(Pi,{className:"ml-1 h-3 w-3"})]})}),r.jsx(ie,{className:"text-right hidden md:table-cell",children:r.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>x("win_percentage"),children:["Win% ",r.jsx(Pi,{className:"ml-1 h-3 w-3"})]})}),r.jsx(ie,{className:"hidden lg:table-cell",children:"Status"})]})}),r.jsx(on,{children:p.map((C,T)=>r.jsxs(ke,{className:"hover:bg-muted/50",children:[r.jsx(ne,{className:"font-medium",children:r.jsxs("div",{className:"flex items-center space-x-1",children:[C.overall_rank===1&&r.jsx(xt,{className:"h-4 w-4 text-yellow-500"}),r.jsx("span",{children:C.overall_rank})]})}),r.jsxs(ne,{children:[r.jsx("div",{className:"font-medium",children:C.team_name}),r.jsx("div",{className:"text-sm text-muted-foreground md:hidden",children:C.owner_name})]}),r.jsx(ne,{className:"hidden md:table-cell",children:C.owner_name}),r.jsx(ne,{className:"hidden lg:table-cell",children:r.jsx(se,{variant:"outline",className:"text-xs",children:C.conference_name})}),r.jsx(ne,{children:r.jsxs(se,{variant:y(C.wins,C.losses),children:[C.wins,"-",C.losses,C.ties>0&&`-${C.ties}`]})}),r.jsx(ne,{className:"text-right font-mono",children:C.points_for.toFixed(1)}),r.jsx(ne,{className:"text-right font-mono hidden sm:table-cell",children:C.points_against.toFixed(1)}),r.jsxs(ne,{className:"text-right font-mono hidden md:table-cell",children:[(C.win_percentage*100).toFixed(1),"%"]}),r.jsx(ne,{className:"hidden lg:table-cell",children:r.jsxs("div",{className:"flex items-center space-x-1",children:[_(C.playoff_eligible,C.is_conference_champion),r.jsxs(se,{variant:"outline",className:"text-xs",children:["C",C.conference_rank]})]})})]},C.team_id))})]})})})]})]})};var nh="Collapsible",[F5,iH]=ns(nh),[B5,vv]=F5(nh),gC=h.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:s,defaultOpen:a,disabled:i,onOpenChange:o,...l}=e,[c,d]=Rr({prop:s,defaultProp:a??!1,onChange:o,caller:nh});return r.jsx(B5,{scope:n,disabled:i,contentId:Er(),open:c,onOpenToggle:h.useCallback(()=>d(u=>!u),[d]),children:r.jsx(ye.div,{"data-state":wv(c),"data-disabled":i?"":void 0,...l,ref:t})})});gC.displayName=nh;var xC="CollapsibleTrigger",vC=h.forwardRef((e,t)=>{const{__scopeCollapsible:n,...s}=e,a=vv(xC,n);return r.jsx(ye.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":wv(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...s,ref:t,onClick:ve(e.onClick,a.onOpenToggle)})});vC.displayName=xC;var yv="CollapsibleContent",yC=h.forwardRef((e,t)=>{const{forceMount:n,...s}=e,a=vv(yv,e.__scopeCollapsible);return r.jsx(fr,{present:n||a.open,children:({present:i})=>r.jsx(U5,{...s,ref:t,present:i})})});yC.displayName=yv;var U5=h.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:s,children:a,...i}=e,o=vv(yv,n),[l,c]=h.useState(s),d=h.useRef(null),u=Ge(t,d),f=h.useRef(0),m=f.current,g=h.useRef(0),j=g.current,v=o.open||l,w=h.useRef(v),x=h.useRef(void 0);return h.useEffect(()=>{const p=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(p)},[]),$t(()=>{const p=d.current;if(p){x.current=x.current||{transitionDuration:p.style.transitionDuration,animationName:p.style.animationName},p.style.transitionDuration="0s",p.style.animationName="none";const y=p.getBoundingClientRect();f.current=y.height,g.current=y.width,w.current||(p.style.transitionDuration=x.current.transitionDuration,p.style.animationName=x.current.animationName),c(s)}},[o.open,s]),r.jsx(ye.div,{"data-state":wv(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!v,...i,ref:u,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":j?`${j}px`:void 0,...e.style},children:v&&a})});function wv(e){return e?"open":"closed"}var V5=gC;const z5=V5,W5=vC,H5=yC;class q5{static async getHybridMatchups(t,n,s){try{console.log("🔄 Getting hybrid matchups:",{seasonId:t,week:n,conferenceId:s});let a=[],i=[];if(n>=13){console.log(`🏆 Week ${n} is playoffs - using playoff_brackets table`),i=await this.getPlayoffBrackets(t,n,s);const u=await this.getConferences(t);a=this.convertPlayoffBracketsToMatchups(i,u)}else console.log(`📅 Week ${n} is regular season - using matchups table`),a=await this.getDatabaseMatchups(t,n,s);if(console.log(`📋 Found ${a.length} database matchups`),a.length===0)return console.warn("No database matchups found for the specified criteria"),[];const o=await this.getConferences(t),l=await this.getTeams(),c=await this.getTeamConferenceJunctions();console.log(`🏢 Loaded ${o.length} conferences, ${l.length} teams`);const d=[];for(const u of a)try{console.log(`🔄 Processing matchup: Team ${u.team1_id} vs Team ${u.team2_id}`);const f=o.find($=>$.id===u.conference_id);if(!f){console.warn(`Conference ${u.conference_id} not found for matchup ${u.id}`);continue}const m=l.find($=>$.id===u.team1_id),g=u.team2_id?l.find($=>$.id===u.team2_id):null;if(!m){console.warn(`Team1 not found: team1_id=${u.team1_id}`);continue}if(!u.is_bye&&!g){console.warn(`Team2 not found for non-bye matchup: team2_id=${u.team2_id}`);continue}if(u.is_bye||!g){console.log(`🏆 Processing bye week for team ${m.id}`);let $=c.find(N=>N.team_id===m.id&&N.conference_id===f.id);if($||($=c.find(N=>N.team_id===m.id)),!$){console.warn(`Roster mapping not found for bye team ${m.id}`);continue}const I=o.find(N=>N.id===$.conference_id);if(!I){console.warn(`Conference not found for bye team ${m.id}`);continue}const M=await Qe.fetchMatchups(I.league_id,parseInt(u.week)),F=await Qe.fetchLeagueRosters(I.league_id),J=await Qe.fetchLeagueUsers(I.league_id),U=M.find(N=>N.roster_id===$.roster_id);if(!U){console.warn(`Sleeper matchup not found for bye team roster ID ${$.roster_id}`);continue}const z=await this.buildByeMatchupTeam(m,U,F,J,$.roster_id),k={matchup_id:U.matchup_id||0,conference:f,teams:z,status:"completed",rawData:{dbMatchup:u,team1SleeperMatchup:U,team2SleeperMatchup:null,isOverride:u.manual_override||!1,isBye:!0,playoffBracket:n>=13?i.find(N=>N.id===u.id):void 0}};d.push(k),console.log(`✅ Successfully processed bye matchup ${u.id}`);continue}let j=c.find($=>$.team_id===m.id&&$.conference_id===f.id),v=c.find($=>$.team_id===g.id&&$.conference_id===f.id);if(j||(console.log(`🔄 Team ${m.id} not in conference ${f.id}, searching home conference`),j=c.find($=>$.team_id===m.id),j&&console.log(`✅ Found team ${m.id} in conference ${j.conference_id}`)),v||(console.log(`🔄 Team ${g.id} not in conference ${f.id}, searching home conference`),v=c.find($=>$.team_id===g.id),v&&console.log(`✅ Found team ${g.id} in conference ${v.conference_id}`)),!j||!v){console.warn(`Roster mappings not found for teams ${m.id}, ${g.id} (searched all conferences)`);continue}const w=u.is_playoff||parseInt(u.week)>=13,x=w||j.conference_id!==v.conference_id;let p,y,_,S,P,C;if(x){console.log(w?`🏆 Processing playoff matchup (treated as interconference): Team ${m.id} (conf ${j.conference_id}) vs Team ${g.id} (conf ${v.conference_id})`:`🔀 Processing interconference matchup: Team ${m.id} (conf ${j.conference_id}) vs Team ${g.id} (conf ${v.conference_id})`);const $=o.find(N=>N.id===j.conference_id),I=o.find(N=>N.id===v.conference_id);if(!$||!I){console.warn("Conference details not found for interconference matchup");continue}const[M,F]=await Promise.all([Qe.fetchMatchups($.league_id,parseInt(u.week)),Qe.fetchMatchups(I.league_id,parseInt(u.week))]),[J,U]=await Promise.all([Qe.fetchLeagueRosters($.league_id),Qe.fetchLeagueRosters(I.league_id)]),[z,k]=await Promise.all([Qe.fetchLeagueUsers($.league_id),Qe.fetchLeagueUsers(I.league_id)]);p=M.find(N=>N.roster_id===j.roster_id),y=F.find(N=>N.roster_id===v.roster_id),_=J,S=U,P=z,C=k}else{console.log(`📅 Processing same-conference regular season matchup: Team ${m.id} vs Team ${g.id} (conf ${j.conference_id})`);const $=await Qe.fetchMatchups(f.league_id,parseInt(u.week)),I=await Qe.fetchLeagueRosters(f.league_id),M=await Qe.fetchLeagueUsers(f.league_id);p=$.find(F=>F.roster_id===j.roster_id),y=$.find(F=>F.roster_id===v.roster_id),_=I,S=I,P=M,C=M}if(!p||!y){console.warn(`Sleeper matchups not found for roster IDs ${j.roster_id}, ${v.roster_id}`);continue}if(!x&&!w&&p.matchup_id!==y.matchup_id){console.warn(`Teams are not matched against each other in Sleeper: ${p.matchup_id} vs ${y.matchup_id}`);continue}const T=await this.buildMatchupTeamsFromDatabaseInterconference(m,g,p,y,_,S,P,C,j.roster_id,v.roster_id),A=this.determineMatchupStatusFromSleeper(p,y),D={matchup_id:p.matchup_id||0,conference:f,teams:T,status:A,rawData:{dbMatchup:u,team1SleeperMatchup:p,team2SleeperMatchup:y,isOverride:u.manual_override||!1,playoffBracket:n>=13?i.find($=>$.id===u.id):void 0}};d.push(D),console.log(`✅ Successfully processed matchup ${u.id}`)}catch(f){console.error(`Error processing matchup ${u.id}:`,f)}return console.log(`✅ Processed ${d.length} hybrid matchups from ${a.length} database records`),d}catch(a){return console.error("Error in getHybridMatchups:",a),[]}}static async getConferences(t){try{return(await ae.getConferences({filters:[{column:"season_id",operator:"eq",value:t}],limit:50})).data||[]}catch(n){return console.error("Error in getConferences:",n),[]}}static async getTeams(){try{return(await ae.getTeams({limit:500})).data||[]}catch(t){return console.error("Error in getTeams:",t),[]}}static async getTeamConferenceJunctions(){try{return(await ae.getTeamConferenceJunctions({limit:1e3})).data||[]}catch(t){return console.error("Error in getTeamConferenceJunctions:",t),[]}}static async getPlayoffBrackets(t,n,s){try{console.log(`🏆 Getting playoff brackets for season ${t}, week ${n}, conference: ${s||"all"}`);const a=[{column:"season_id",operator:"eq",value:t},{column:"week",operator:"eq",value:n}];let o=(await ae.getPlayoffBrackets({filters:a,limit:100})).data||[];if(s&&o.length>0){const c=(await this.getTeamConferenceJunctions()).filter(d=>d.conference_id===s).map(d=>d.team_id);o=o.filter(d=>c.includes(d.team1_id)||c.includes(d.team2_id))}return console.log(`🏆 Found ${o.length} playoff brackets`),o}catch(a){return console.error("Error in getPlayoffBrackets:",a),[]}}static convertPlayoffBracketsToMatchups(t,n){return t.map(s=>{const a=n[0];return{id:s.id,conference_id:(a==null?void 0:a.id)||1,week:s.week.toString(),team1_id:s.team1_id,team2_id:s.team2_id,is_playoff:!0,manual_override:!1,matchup_status:s.winning_team_id?"completed":"upcoming",notes:s.playoff_round_name||null,matchup_type:"playoff",team1_score:s.team1_score||null,team2_score:s.team2_score||null,winning_team_id:s.winning_team_id||null,is_bye:s.is_bye||!1}})}static async getDatabaseMatchups(t,n,s){var a,i;try{if(s){console.log(`🔍 Filtering matchups for specific conference: ${s}`);const u=[{column:"week",operator:"eq",value:n.toString()},{column:"conference_id",operator:"eq",value:s}],f=await ae.getMatchups({filters:u,limit:100});return console.log(`📋 Found ${((a=f.data)==null?void 0:a.length)||0} matchups for conference ${s}`),f.data||[]}const l=(await this.getConferences(t)).map(u=>u.id);if(l.length===0)return console.warn("No conferences found for season:",t),[];const c=[{column:"week",operator:"eq",value:n.toString()},{column:"conference_id",operator:"in",value:l}],d=await ae.getMatchups({filters:c,limit:100});return console.log(`📋 Found ${((i=d.data)==null?void 0:i.length)||0} matchups for season ${t}, week ${n}`),d.data||[]}catch(o){return console.error("Error in getDatabaseMatchups:",o),[]}}static async getMatchupOverrides(t,n,s){var a;try{console.log("Fetching matchup overrides:",{seasonId:t,week:n,conferenceId:s});const i=[{column:"season_id",operator:"eq",value:t},{column:"week",operator:"eq",value:n},{column:"is_active",operator:"eq",value:!0}];s&&i.push({column:"conference_id",operator:"eq",value:s});const o=await ae.getMatchupAdminOverrides({filters:i,limit:100});return console.log("Matchup overrides found:",((a=o.data)==null?void 0:a.length)||0),o.data||[]}catch(i){return console.error("Error in getMatchupOverrides:",i),[]}}static async getOrganizedMatchups(t,n,s){try{console.log("Getting organized matchups:",{seasonId:t,week:n,conferenceId:s});let a=[];if(n>=13){console.log(`🏆 Week ${n} is playoffs - using playoff_brackets table`);const c=await this.getPlayoffBrackets(t,n,s),d=await this.getConferences(t);a=this.convertPlayoffBracketsToMatchups(c,d)}else console.log(`📅 Week ${n} is regular season - using matchups table`),a=await this.getDatabaseMatchups(t,n,s);const i=await this.getConferences(t),o=await this.getTeams(),l=await this.getMatchupOverrides(t,n,s);return console.log("Found data:",{matchups:a.length,conferences:i.length,teams:o.length,overrides:l.length}),this.getHybridMatchups(t,n,s)}catch(a){return console.error("Error in getOrganizedMatchups:",a),[]}}static async buildMatchupTeamsSimple(t,n,s,a,i){try{const o=[],l=n.find(f=>f.roster_id===t.roster_id);if(!l)return console.warn(`No roster found for roster_id: ${t.roster_id}`),[];const c=s.find(f=>f.user_id===l.owner_id),d=a.find(f=>f.owner_id===l.owner_id),u={roster_id:t.roster_id,points:t.points||0,projected_points:t.projected_points||0,owner:c||null,roster:l||null,team:d||null,players_points:t.players_points||{},starters_points:t.starters_points||[],matchup_starters:t.starters||[]};return o.push(u),o}catch(o){return console.error("Error building simple matchup teams:",o),[]}}static determineMatchupStatusSimple(t){return t.points&&t.points>0?"completed":"upcoming"}static async buildMatchupTeamsFromDatabase(t,n,s,a,i,o,l,c){try{const d=[],u=i.find(w=>w.roster_id===l),f=o.find(w=>w.user_id===(u==null?void 0:u.owner_id)),m={roster_id:l,points:s.points||0,projected_points:s.projected_points||0,owner:f||null,roster:u||null,team:t,players_points:s.players_points||{},starters_points:s.starters_points||[],matchup_starters:s.starters||[]},g=i.find(w=>w.roster_id===c),j=o.find(w=>w.user_id===(g==null?void 0:g.owner_id)),v={roster_id:c,points:a.points||0,projected_points:a.projected_points||0,owner:j||null,roster:g||null,team:n,players_points:a.players_points||{},starters_points:a.starters_points||[],matchup_starters:a.starters||[]};return d.push(m,v),d}catch(d){return console.error("Error building matchup teams from database:",d),[]}}static async buildMatchupTeamsFromDatabaseInterconference(t,n,s,a,i,o,l,c,d,u){try{const f=[],m=i.find(p=>p.roster_id===d),g=l.find(p=>p.user_id===(m==null?void 0:m.owner_id)),j={roster_id:d,points:s.points||0,projected_points:s.projected_points||0,owner:g||null,roster:m||null,team:t,players_points:s.players_points||{},starters_points:s.starters_points||[],matchup_starters:s.starters||[]},v=o.find(p=>p.roster_id===u),w=c.find(p=>p.user_id===(v==null?void 0:v.owner_id)),x={roster_id:u,points:a.points||0,projected_points:a.projected_points||0,owner:w||null,roster:v||null,team:n,players_points:a.players_points||{},starters_points:a.starters_points||[],matchup_starters:a.starters||[]};return f.push(j,x),f}catch(f){return console.error("Error building interconference matchup teams from database:",f),[]}}static async buildByeMatchupTeam(t,n,s,a,i){try{const o=s.find(d=>d.roster_id===i),l=a.find(d=>d.user_id===(o==null?void 0:o.owner_id));return[{roster_id:i,points:n.points||0,projected_points:n.projected_points||0,owner:l||null,roster:o||null,team:t,players_points:n.players_points||{},starters_points:n.starters_points||[],matchup_starters:n.starters||[]}]}catch(o){return console.error("Error building bye matchup team:",o),[]}}static determineMatchupStatusFromSleeper(t,n){const s=t.points&&t.points>0,a=n&&n.points&&n.points>0;return s&&a?"completed":s||a?"live":"upcoming"}}const D0=()=>["QB","RB","RB","WR","WR","WR","TE","FLEX","SUPER_FLEX"],M0=e=>({QB:"QB",RB:"RB",WR:"WR",TE:"TE",FLEX:"W/R/T",SUPER_FLEX:"Q/W/R/T",K:"K",DEF:"DEF"})[e]||e,Fd=(e,t)=>{const n=t[e];return n?{name:`${n.first_name||""} ${n.last_name||""}`.trim()||"Unknown",position:n.position||"N/A",team:n.team||"N/A"}:{name:"Unknown Player",position:"N/A",team:"N/A"}},K5=()=>{var D;console.log("🚀 MatchupsPage component mounting...");const{selectedSeason:e,selectedConference:t,currentSeasonConfig:n,seasonConfigs:s}=$n(),{toast:a}=dn(),[i,o]=h.useState(1),[l,c]=h.useState(1),[d,u]=h.useState(new Set),[f,m]=h.useState([]),[g,j]=h.useState({}),[v,w]=h.useState(!0),[x,p]=h.useState(!1),[y,_]=h.useState([]),S=async()=>{if(!e||!n||x){console.log("⚠️ Skipping matchup fetch - missing data or already refreshing"),w(!1);return}p(!0),_([]);try{console.log(`🎯 Fetching matchups for season ${e}, week ${i}, conference: ${t||"all"}`);const $=s.find(J=>J.year===e);if(!$)throw new Error(`Season ${e} not found`);const I=typeof $.seasonId=="string"?parseInt($.seasonId):$.seasonId||e;let M;if(t){const J=$.conferences.find(U=>U.id===t);M=J==null?void 0:J.dbConferenceId,console.log(`🎯 Conference filter: ${t} -> DB conferenceId: ${M}`)}const F=await q5.getHybridMatchups(I,i,M);if(console.log(`✅ Loaded ${F.length} matchups`),console.log("Conference filter applied:",{selectedConference:t,conferenceId:M,matchupConferences:F.map(J=>J.conference.conference_name)}),m(F),Object.keys(g).length===0)try{const J=await ae.getAllPlayersForMapping([{column:"playing_status",operator:"eq",value:"Active"},{column:"position",operator:"in",value:["QB","RB","WR","TE","K","DEF"]}]),U={};J.forEach(z=>{var k;if(z.sleeper_id){const N=z.player_name.split(" "),b=N[0]||"",E=N.slice(1).join(" ")||"";U[z.sleeper_id]={player_id:z.sleeper_id,first_name:b,last_name:E,position:z.position||"",team:z.nfl_team||"",jersey_number:z.number||0,status:z.playing_status||"",injury_status:z.injury_status||"",age:z.age||0,height:((k=z.height)==null?void 0:k.toString())||"",weight:z.weight||0,years_exp:0,college:z.college||""}}}),j(U)}catch(J){console.warn("Could not load players data:",J)}}catch($){console.error("Error fetching matchups:",$);const I=$ instanceof Error?$.message:"Unknown error";_([I]),a({title:"Error Loading Matchups",description:`Failed to load matchup data: ${I}`,variant:"destructive"}),m([])}finally{p(!1),w(!1)}},P=async()=>{try{console.log("🔄 Loading current NFL week...");const $=await Qe.getCurrentNFLWeek();console.log(`✅ Current NFL week: ${$}`),c($),o($)}catch($){console.error("Error getting current week:",$),c(1),o(1)}};h.useEffect(()=>{P()},[]),h.useEffect(()=>{e&&n?(w(!0),S()):w(!1)},[i,t,e,n]);const C=$=>{const I=new Set(d);I.has($)?I.delete($):I.add($),u(I)},T=$=>{switch($){case"live":return r.jsx(se,{className:"bg-green-500 hover:bg-green-600",children:"Live"});case"completed":return r.jsx(se,{variant:"secondary",children:"Final"});case"upcoming":return r.jsx(se,{variant:"outline",children:"Upcoming"});default:return r.jsx(se,{variant:"secondary",children:$})}},A=$=>{if($.status!=="completed")return null;const[I,M]=$.teams;return M?I.points>M.points?I:M:I};return v?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(vc,{className:"h-6 w-6 text-primary"}),r.jsx("h1",{className:"text-3xl font-bold",children:"Matchups"})]}),r.jsx(Q,{children:r.jsxs(ee,{className:"py-8 text-center",children:[r.jsx(Je,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-primary"}),r.jsx("p",{children:"Loading matchup data..."})]})})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(vc,{className:"h-6 w-6 text-primary"}),r.jsx("h1",{className:"text-3xl font-bold",children:"Matchups"})]}),r.jsxs("p",{className:"text-muted-foreground",children:[e," Season • Week ",i," • ",t?((D=n.conferences.find($=>$.id===t))==null?void 0:D.name)||"Selected Conference":"All Conferences"]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs(ht,{value:i.toString(),onValueChange:$=>o(parseInt($)),children:[r.jsx(at,{className:"w-32",children:r.jsx(mt,{})}),r.jsx(it,{children:Array.from({length:18},($,I)=>I+1).map($=>r.jsx(Pe,{value:$.toString(),children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("span",{children:["Week ",$]}),$===l&&r.jsx(se,{variant:"outline",className:"text-xs",children:"Current"})]})},$))})]}),i===l&&r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[r.jsx(er,{className:"h-4 w-4"}),r.jsx("span",{children:"Current week"})]})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>S(),disabled:x,children:[r.jsx(Je,{className:`h-4 w-4 ${x?"animate-spin":""}`}),"Refresh"]}),r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[r.jsx(Vt,{className:"h-4 w-4"}),r.jsxs("span",{children:[f.length," matchups"]})]})]})]}),y.length>0&&r.jsxs(Q,{className:"border-l-4 border-l-red-500",children:[r.jsx(oe,{className:"pb-2",children:r.jsxs(le,{className:"text-sm flex items-center space-x-2",children:[r.jsx(Ve,{className:"h-4 w-4 text-red-500"}),r.jsxs("span",{children:["API Errors (",y.length,")"]})]})}),r.jsx(ee,{children:r.jsx("div",{className:"space-y-1",children:y.map(($,I)=>r.jsx("div",{className:"text-sm text-red-600 bg-red-50 p-2 rounded",children:$},I))})})]}),r.jsxs("div",{className:"grid gap-3",children:[[...f].sort(($,I)=>$.conference.conference_name.localeCompare(I.conference.conference_name)).map($=>{var z,k,N,b,E,R,B,L,G,q,H,O,Y,V,K,te,ue,fe;const[I,M]=$.teams,F=A($),J=`${$.conference.id}-${$.matchup_id}`,U=d.has(J);return r.jsxs(Q,{className:"hover:shadow-md transition-shadow",children:[r.jsx(oe,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(le,{className:"text-base",children:i>=13&&((k=(z=$.rawData)==null?void 0:z.playoffBracket)!=null&&k.playoff_round_name)?$.rawData.playoffBracket.playoff_round_name:$.conference.conference_name}),T($.status)]})}),r.jsxs(ee,{className:"pt-0 space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-3 gap-2 items-center",children:[r.jsxs("div",{className:"text-right space-y-1",children:[r.jsx("div",{className:"font-medium text-sm",children:((N=I.team)==null?void 0:N.team_name)||((b=I.owner)==null?void 0:b.display_name)||((E=I.owner)==null?void 0:E.username)||"Unknown Team"}),r.jsx("div",{className:`text-lg font-bold ${(F==null?void 0:F.roster_id)===I.roster_id?"text-green-600":""}`,children:$.status==="upcoming"?"--":(I.points??0).toFixed(1)})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"VS"}),$.status==="completed"&&F&&r.jsx(xt,{className:"h-4 w-4 mx-auto mt-1 text-yellow-500"})]}),r.jsxs("div",{className:"text-left space-y-1",children:[r.jsx("div",{className:"font-medium text-sm",children:!M||i>=13&&((B=(R=$.rawData)==null?void 0:R.playoffBracket)!=null&&B.is_bye)?"BYE":((L=M==null?void 0:M.team)==null?void 0:L.team_name)||((G=M==null?void 0:M.owner)==null?void 0:G.display_name)||((q=M==null?void 0:M.owner)==null?void 0:q.username)||"TBD"}),r.jsx("div",{className:`text-lg font-bold ${(F==null?void 0:F.roster_id)===(M==null?void 0:M.roster_id)?"text-green-600":""}`,children:!M||i>=13&&((O=(H=$.rawData)==null?void 0:H.playoffBracket)!=null&&O.is_bye)?"BYE":$.status==="upcoming"?"--":((M==null?void 0:M.points)??0).toFixed(1)})]})]}),r.jsxs(z5,{open:U,children:[r.jsx(H5,{className:"space-y-4",children:r.jsx("div",{className:"border-t pt-4",children:r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("h4",{className:"font-semibold text-sm mb-3 flex items-center",children:[r.jsx(Vt,{className:"h-4 w-4 mr-2"}),((Y=I.team)==null?void 0:Y.team_name)||((V=I.owner)==null?void 0:V.display_name)||"Team 1"," Lineup"]}),I.roster?r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("h5",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide mb-2",children:"Starters"}),r.jsx("div",{className:"space-y-1",children:(K=I.matchup_starters)==null?void 0:K.map((ce,me)=>{var tt;const we=Fd(ce,g),qe=((tt=I.players_points)==null?void 0:tt[ce])||0,Se=D0()[me]||"FLEX";return r.jsxs("div",{className:"flex justify-between items-center py-1 px-2 bg-gray-50 rounded text-xs",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(se,{variant:"outline",className:"text-xs px-1 py-0",children:M0(Se)}),r.jsx("span",{className:"font-medium",children:we.name}),r.jsxs("span",{className:"text-muted-foreground",children:["(",we.position," - ",we.team,")"]})]}),r.jsx("span",{className:"font-bold",children:qe.toFixed(1)})]},`${ce}-${me}`)})})]}),I.roster.players&&r.jsxs("div",{children:[r.jsx("h5",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide mb-2",children:"Bench"}),r.jsx("div",{className:"space-y-1",children:I.roster.players.filter(ce=>{var me;return!((me=I.matchup_starters)!=null&&me.includes(ce))}).map(ce=>{var qe;const me=Fd(ce,g),we=((qe=I.players_points)==null?void 0:qe[ce])||0;return r.jsxs("div",{className:"flex justify-between items-center py-1 px-2 bg-gray-25 rounded text-xs",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"font-medium",children:me.name}),r.jsxs("span",{className:"text-muted-foreground",children:["(",me.position," - ",me.team,")"]})]}),r.jsx("span",{className:"text-muted-foreground",children:we.toFixed(1)})]},ce)})})]})]}):r.jsx("p",{className:"text-sm text-muted-foreground",children:"No roster data available"})]}),M&&r.jsxs("div",{children:[r.jsxs("h4",{className:"font-semibold text-sm mb-3 flex items-center",children:[r.jsx(Vt,{className:"h-4 w-4 mr-2"}),((te=M.team)==null?void 0:te.team_name)||((ue=M.owner)==null?void 0:ue.display_name)||"Team 2"," Lineup"]}),M.roster?r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("h5",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide mb-2",children:"Starters"}),r.jsx("div",{className:"space-y-1",children:(fe=M.matchup_starters)==null?void 0:fe.map((ce,me)=>{var tt;const we=Fd(ce,g),qe=((tt=M.players_points)==null?void 0:tt[ce])||0,Se=D0()[me]||"FLEX";return r.jsxs("div",{className:"flex justify-between items-center py-1 px-2 bg-gray-50 rounded text-xs",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(se,{variant:"outline",className:"text-xs px-1 py-0",children:M0(Se)}),r.jsx("span",{className:"font-medium",children:we.name}),r.jsxs("span",{className:"text-muted-foreground",children:["(",we.position," - ",we.team,")"]})]}),r.jsx("span",{className:"font-bold",children:qe.toFixed(1)})]},`${ce}-${me}`)})})]}),M.roster.players&&r.jsxs("div",{children:[r.jsx("h5",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide mb-2",children:"Bench"}),r.jsx("div",{className:"space-y-1",children:M.roster.players.filter(ce=>{var me;return!((me=M.matchup_starters)!=null&&me.includes(ce))}).map(ce=>{var qe;const me=Fd(ce,g),we=((qe=M.players_points)==null?void 0:qe[ce])||0;return r.jsxs("div",{className:"flex justify-between items-center py-1 px-2 bg-gray-25 rounded text-xs",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"font-medium",children:me.name}),r.jsxs("span",{className:"text-muted-foreground",children:["(",me.position," - ",me.team,")"]})]}),r.jsx("span",{className:"text-muted-foreground",children:we.toFixed(1)})]},ce)})})]})]}):r.jsx("p",{className:"text-sm text-muted-foreground",children:"No roster data available"})]})]})})}),r.jsx(W5,{asChild:!0,children:r.jsx(Z,{variant:"outline",className:"w-full mt-3",onClick:()=>C(J),children:U?r.jsxs(r.Fragment,{children:["Hide Details",r.jsx(Bx,{className:"h-4 w-4 ml-2"})]}):r.jsxs(r.Fragment,{children:["View Details",r.jsx(Pf,{className:"h-4 w-4 ml-2"})]})})})]})]})]},J)}),f.length===0&&r.jsx(Q,{children:r.jsxs(ee,{className:"py-8 text-center",children:[r.jsx(Ve,{className:"h-8 w-8 mx-auto mb-4 text-muted-foreground"}),r.jsx("p",{className:"text-muted-foreground",children:"No matchups found for the selected filters."})]})})]})]})},Rt=h.forwardRef(({className:e,type:t,...n},s)=>r.jsx("input",{type:t,className:xe("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...n}));Rt.displayName="Input";var wC={exports:{}},jC={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fo=h;function G5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Y5=typeof Object.is=="function"?Object.is:G5,Q5=Fo.useState,X5=Fo.useEffect,J5=Fo.useLayoutEffect,Z5=Fo.useDebugValue;function e6(e,t){var n=t(),s=Q5({inst:{value:n,getSnapshot:t}}),a=s[0].inst,i=s[1];return J5(function(){a.value=n,a.getSnapshot=t,wm(a)&&i({inst:a})},[e,n,t]),X5(function(){return wm(a)&&i({inst:a}),e(function(){wm(a)&&i({inst:a})})},[e]),Z5(n),n}function wm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Y5(e,n)}catch{return!0}}function t6(e,t){return t()}var n6=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?t6:e6;jC.useSyncExternalStore=Fo.useSyncExternalStore!==void 0?Fo.useSyncExternalStore:n6;wC.exports=jC;var s6=wC.exports;function r6(){return s6.useSyncExternalStore(a6,()=>!0,()=>!1)}function a6(){return()=>{}}var jv="Avatar",[i6,oH]=ns(jv),[o6,_C]=i6(jv),bC=h.forwardRef((e,t)=>{const{__scopeAvatar:n,...s}=e,[a,i]=h.useState("idle");return r.jsx(o6,{scope:n,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:r.jsx(ye.span,{...s,ref:t})})});bC.displayName=jv;var SC="AvatarImage",NC=h.forwardRef((e,t)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:a=()=>{},...i}=e,o=_C(SC,n),l=l6(s,i),c=Zn(d=>{a(d),o.onImageLoadingStatusChange(d)});return $t(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?r.jsx(ye.img,{...i,ref:t,src:s}):null});NC.displayName=SC;var EC="AvatarFallback",CC=h.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:s,...a}=e,i=_C(EC,n),[o,l]=h.useState(s===void 0);return h.useEffect(()=>{if(s!==void 0){const c=window.setTimeout(()=>l(!0),s);return()=>window.clearTimeout(c)}},[s]),o&&i.imageLoadingStatus!=="loaded"?r.jsx(ye.span,{...a,ref:t}):null});CC.displayName=EC;function L0(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function l6(e,{referrerPolicy:t,crossOrigin:n}){const s=r6(),a=h.useRef(null),i=s?(a.current||(a.current=new window.Image),a.current):null,[o,l]=h.useState(()=>L0(i,e));return $t(()=>{l(L0(i,e))},[i,e]),$t(()=>{const c=f=>()=>{l(f)};if(!i)return;const d=c("loaded"),u=c("error");return i.addEventListener("load",d),i.addEventListener("error",u),t&&(i.referrerPolicy=t),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",d),i.removeEventListener("error",u)}},[i,n,t]),o}var TC=bC,kC=NC,PC=CC;const _v=h.forwardRef(({className:e,...t},n)=>r.jsx(TC,{ref:n,className:xe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));_v.displayName=TC.displayName;const bv=h.forwardRef(({className:e,...t},n)=>r.jsx(kC,{ref:n,className:xe("aspect-square h-full w-full",e),...t}));bv.displayName=kC.displayName;const Sv=h.forwardRef(({className:e,...t},n)=>r.jsx(PC,{ref:n,className:xe("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Sv.displayName=PC.displayName;const c6=()=>{var x;const{selectedSeason:e,selectedConference:t,currentSeasonConfig:n}=$n(),{toast:s}=dn(),[a,i]=h.useState(""),[o,l]=h.useState([]),[c,d]=h.useState(!0),[u,f]=h.useState(null),m=async()=>{var p;d(!0),f(null);try{console.log("Fetching teams data for season:",e);const y=t?n.conferences.filter(I=>I.id===t):n.conferences;console.log("Conferences to fetch:",y);const{data:_,error:S}=await window.ezsite.apis.tablePage("12852",{PageNo:1,PageSize:100,OrderByField:"team_name",IsAsc:!0,Filters:[]});if(S)throw new Error(S);const P=(_==null?void 0:_.List)||[];console.log("Database teams:",P);const{data:C,error:T}=await window.ezsite.apis.tablePage("12820",{PageNo:1,PageSize:50,OrderByField:"conference_name",IsAsc:!0,Filters:[]});if(T)throw new Error(T);const A=(C==null?void 0:C.List)||[];console.log("Database conferences:",A);const D=[];for(const I of y)try{console.log(`Fetching roster data for league: ${I.leagueId}`);const M=await fetch(`https://api.sleeper.app/v1/league/${I.leagueId}/rosters`);if(!M.ok){console.warn(`Failed to fetch roster data for league ${I.leagueId}:`,M.statusText);continue}const F=await M.json();console.log(`Roster data for ${I.name}:`,F),D.push(...F.map(J=>({...J,league_id:I.leagueId})))}catch(M){console.warn(`Error fetching roster data for league ${I.leagueId}:`,M)}console.log("All roster data:",D);const $=[];for(const I of P){const M=D.find(F=>F.owner_id===I.owner_id);if(M){const F=y.find(U=>U.leagueId===M.league_id),J=g(M.settings.wins,M.settings.losses);$.push({id:I.id.toString(),teamName:I.team_name,ownerName:I.owner_name,coOwnerName:I.co_owner_name||void 0,ownerAvatar:I.team_logo_url||null,conference:(F==null?void 0:F.name)||"Unknown Conference",record:{wins:M.settings.wins,losses:M.settings.losses,ties:M.settings.ties},pointsFor:M.settings.fpts+M.settings.fpts_decimal/100,pointsAgainst:M.settings.fpts_against+M.settings.fpts_against_decimal/100,rank:0,streak:J,rosterCount:((p=M.players)==null?void 0:p.length)||0,waiversCount:M.settings.total_moves||0,tradesCount:0,rosterId:M.roster_id,leagueId:M.league_id})}else console.warn(`No matching roster found for team: ${I.team_name} (owner_id: ${I.owner_id})`)}$.sort((I,M)=>I.record.wins!==M.record.wins?M.record.wins-I.record.wins:M.pointsFor-I.pointsFor),$.forEach((I,M)=>{I.rank=M+1}),console.log("Final combined teams data:",$),l($)}catch(y){console.error("Error fetching teams data:",y),f(y instanceof Error?y.message:"Failed to load teams data"),s({title:"Error Loading Teams",description:"Failed to load team data. Please try again.",variant:"destructive"})}finally{d(!1)}},g=(p,y)=>p>y?`W${Math.min(p-y,5)}`:y>p?`L${Math.min(y-p,5)}`:"T1";h.useEffect(()=>{m()},[e,t]);const j=o.filter(p=>a===""||p.teamName.toLowerCase().includes(a.toLowerCase())||p.ownerName.toLowerCase().includes(a.toLowerCase())||p.coOwnerName&&p.coOwnerName.toLowerCase().includes(a.toLowerCase())),v=(p,y)=>{const _=p/(p+y);return _>=.7?"default":_>=.5?"secondary":"destructive"},w=p=>p.startsWith("W")?"text-green-600":p.startsWith("L")?"text-red-600":"text-muted-foreground";return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Vt,{className:"h-6 w-6 text-primary"}),r.jsx("h1",{className:"text-3xl font-bold",children:"Teams"})]}),r.jsxs("p",{className:"text-muted-foreground",children:[e," Season • ",t?(x=n.conferences.find(p=>p.id===t))==null?void 0:x.name:"All Conferences"," • ",j.length," teams"]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("div",{className:"relative flex-1 max-w-md",children:[r.jsx(Ux,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(Rt,{placeholder:"Search teams or owners...",value:a,onChange:p=>i(p.target.value),className:"pl-10"})]}),r.jsx(Z,{variant:"outline",onClick:()=>i(""),children:"Clear"}),r.jsxs(Z,{variant:"outline",onClick:m,disabled:c,children:[r.jsx(Je,{className:`h-4 w-4 mr-2 ${c?"animate-spin":""}`}),"Refresh"]})]}),c&&r.jsx(Q,{children:r.jsxs(ee,{className:"py-12 text-center",children:[r.jsx(Je,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4 animate-spin"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Loading Teams"}),r.jsx("p",{className:"text-muted-foreground",children:"Fetching team data from Sleeper API..."})]})}),u&&!c&&r.jsx(Q,{children:r.jsxs(ee,{className:"py-12 text-center",children:[r.jsx(Ve,{className:"h-12 w-12 mx-auto text-destructive mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Error Loading Teams"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:u}),r.jsxs(Z,{onClick:m,children:[r.jsx(Je,{className:"h-4 w-4 mr-2"}),"Try Again"]})]})}),!c&&!u&&r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.map(p=>r.jsxs(Q,{className:"hover:shadow-lg transition-shadow",children:[r.jsx(oe,{className:"pb-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs(_v,{className:"h-12 w-12",children:[r.jsx(bv,{src:p.ownerAvatar||void 0}),r.jsx(Sv,{className:"bg-primary/10",children:p.ownerName.split(" ").map(y=>y[0]).join("").toUpperCase()})]}),r.jsxs("div",{children:[r.jsx(le,{className:"text-lg leading-tight",children:p.teamName}),r.jsxs(_e,{children:[p.ownerName,p.coOwnerName&&` & ${p.coOwnerName}`]})]})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[p.rank<=3&&r.jsx(xt,{className:"h-4 w-4 text-yellow-500"}),r.jsxs("span",{className:"text-sm font-semibold",children:["#",p.rank]})]})]})}),r.jsxs(ee,{className:"space-y-4",children:[r.jsx(se,{variant:"outline",className:"text-xs",children:p.conference}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Record"}),r.jsxs(se,{variant:v(p.record.wins,p.record.losses),children:[p.record.wins,"-",p.record.losses,p.record.ties>0&&`-${p.record.ties}`]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Streak"}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Mo,{className:`h-4 w-4 ${w(p.streak)}`}),r.jsx("span",{className:`font-semibold ${w(p.streak)}`,children:p.streak})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"Points For"}),r.jsx("p",{className:"font-semibold",children:p.pointsFor.toFixed(1)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"Points Against"}),r.jsx("p",{className:"font-semibold",children:p.pointsAgainst.toFixed(1)})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs text-muted-foreground",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"font-medium",children:p.rosterCount}),r.jsx("p",{children:"Roster"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"font-medium",children:p.waiversCount}),r.jsx("p",{children:"Moves"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("p",{className:"font-medium",children:["#",p.rosterId]}),r.jsx("p",{children:"Roster ID"})]})]}),r.jsx(Mt,{to:`/teams/${p.id}`,className:"w-full",children:r.jsxs(Z,{variant:"outline",className:"w-full",children:[r.jsx(qc,{className:"mr-2 h-4 w-4"}),"View Team Details"]})})]})]},p.id))}),!c&&!u&&j.length===0&&r.jsx(Q,{children:r.jsxs(ee,{className:"py-12 text-center",children:[r.jsx(Vt,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No teams found"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:"No teams match your current search criteria."}),r.jsx(Z,{variant:"outline",onClick:()=>i(""),children:"Clear Search"})]})}),!c&&!u&&j.length>0&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(Q,{children:r.jsxs(oe,{className:"pb-2",children:[r.jsx(_e,{children:"Average Points For"}),r.jsx(le,{className:"text-2xl",children:(j.reduce((p,y)=>p+y.pointsFor,0)/j.length).toFixed(1)})]})}),r.jsx(Q,{children:r.jsxs(oe,{className:"pb-2",children:[r.jsx(_e,{children:"Most Active Team"}),r.jsx(le,{className:"text-lg",children:j.reduce((p,y)=>p.waiversCount>y.waiversCount?p:y).teamName})]})}),r.jsx(Q,{children:r.jsxs(oe,{className:"pb-2",children:[r.jsx(_e,{children:"Total Moves"}),r.jsx(le,{className:"text-2xl",children:j.reduce((p,y)=>p+y.waiversCount,0)})]})})]})]})};var jm="rovingFocusGroup.onEntryFocus",d6={bubbles:!1,cancelable:!0},Jc="RovingFocusGroup",[hg,RC,u6]=Lx(Jc),[f6,AC]=ns(Jc,[u6]),[h6,m6]=f6(Jc),$C=h.forwardRef((e,t)=>r.jsx(hg.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(hg.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(p6,{...e,ref:t})})}));$C.displayName=Jc;var p6=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...f}=e,m=h.useRef(null),g=Ge(t,m),j=pv(i),[v,w]=Rr({prop:o,defaultProp:l??null,onChange:c,caller:Jc}),[x,p]=h.useState(!1),y=Zn(d),_=RC(n),S=h.useRef(!1),[P,C]=h.useState(0);return h.useEffect(()=>{const T=m.current;if(T)return T.addEventListener(jm,y),()=>T.removeEventListener(jm,y)},[y]),r.jsx(h6,{scope:n,orientation:s,dir:j,loop:a,currentTabStopId:v,onItemFocus:h.useCallback(T=>w(T),[w]),onItemShiftTab:h.useCallback(()=>p(!0),[]),onFocusableItemAdd:h.useCallback(()=>C(T=>T+1),[]),onFocusableItemRemove:h.useCallback(()=>C(T=>T-1),[]),children:r.jsx(ye.div,{tabIndex:x||P===0?-1:0,"data-orientation":s,...f,ref:g,style:{outline:"none",...e.style},onMouseDown:ve(e.onMouseDown,()=>{S.current=!0}),onFocus:ve(e.onFocus,T=>{const A=!S.current;if(T.target===T.currentTarget&&A&&!x){const D=new CustomEvent(jm,d6);if(T.currentTarget.dispatchEvent(D),!D.defaultPrevented){const $=_().filter(U=>U.focusable),I=$.find(U=>U.active),M=$.find(U=>U.id===v),J=[I,M,...$].filter(Boolean).map(U=>U.ref.current);LC(J,u)}}S.current=!1}),onBlur:ve(e.onBlur,()=>p(!1))})})}),DC="RovingFocusGroupItem",MC=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=Er(),d=i||c,u=m6(DC,n),f=u.currentTabStopId===d,m=RC(n),{onFocusableItemAdd:g,onFocusableItemRemove:j,currentTabStopId:v}=u;return h.useEffect(()=>{if(s)return g(),()=>j()},[s,g,j]),r.jsx(hg.ItemSlot,{scope:n,id:d,focusable:s,active:a,children:r.jsx(ye.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...l,ref:t,onMouseDown:ve(e.onMouseDown,w=>{s?u.onItemFocus(d):w.preventDefault()}),onFocus:ve(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:ve(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){u.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const x=v6(w,u.orientation,u.dir);if(x!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let y=m().filter(_=>_.focusable).map(_=>_.ref.current);if(x==="last")y.reverse();else if(x==="prev"||x==="next"){x==="prev"&&y.reverse();const _=y.indexOf(w.currentTarget);y=u.loop?y6(y,_+1):y.slice(_+1)}setTimeout(()=>LC(y))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:v!=null}):o})})});MC.displayName=DC;var g6={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function x6(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function v6(e,t,n){const s=x6(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return g6[s]}function LC(e,t=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:t}),document.activeElement!==n))return}function y6(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var w6=$C,j6=MC,sh="Tabs",[_6,lH]=ns(sh,[AC]),IC=AC(),[b6,Nv]=_6(sh),OC=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=pv(l),[f,m]=Rr({prop:s,onChange:a,defaultProp:i??"",caller:sh});return r.jsx(b6,{scope:n,baseId:Er(),value:f,onValueChange:m,orientation:o,dir:u,activationMode:c,children:r.jsx(ye.div,{dir:u,"data-orientation":o,...d,ref:t})})});OC.displayName=sh;var FC="TabsList",BC=h.forwardRef((e,t)=>{const{__scopeTabs:n,loop:s=!0,...a}=e,i=Nv(FC,n),o=IC(n);return r.jsx(w6,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:s,children:r.jsx(ye.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});BC.displayName=FC;var UC="TabsTrigger",VC=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,disabled:a=!1,...i}=e,o=Nv(UC,n),l=IC(n),c=HC(o.baseId,s),d=qC(o.baseId,s),u=s===o.value;return r.jsx(j6,{asChild:!0,...l,focusable:!a,active:u,children:r.jsx(ye.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:ve(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(s):f.preventDefault()}),onKeyDown:ve(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(s)}),onFocus:ve(e.onFocus,()=>{const f=o.activationMode!=="manual";!u&&!a&&f&&o.onValueChange(s)})})})});VC.displayName=UC;var zC="TabsContent",WC=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,forceMount:a,children:i,...o}=e,l=Nv(zC,n),c=HC(l.baseId,s),d=qC(l.baseId,s),u=s===l.value,f=h.useRef(u);return h.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),r.jsx(fr,{present:a||u,children:({present:m})=>r.jsx(ye.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&i})})});WC.displayName=zC;function HC(e,t){return`${e}-trigger-${t}`}function qC(e,t){return`${e}-content-${t}`}var S6=OC,KC=BC,GC=VC,YC=WC;const Fr=S6,mr=h.forwardRef(({className:e,...t},n)=>r.jsx(KC,{ref:n,className:xe("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));mr.displayName=KC.displayName;const Oe=h.forwardRef(({className:e,...t},n)=>r.jsx(GC,{ref:n,className:xe("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));Oe.displayName=GC.displayName;const Fe=h.forwardRef(({className:e,...t},n)=>r.jsx(YC,{ref:n,className:xe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Fe.displayName=YC.displayName;var N6="Separator",I0="horizontal",E6=["horizontal","vertical"],QC=h.forwardRef((e,t)=>{const{decorative:n,orientation:s=I0,...a}=e,i=C6(s)?s:I0,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return r.jsx(ye.div,{"data-orientation":i,...l,...a,ref:t})});QC.displayName=N6;function C6(e){return E6.includes(e)}var XC=QC;const JC=h.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...s},a)=>r.jsx(XC,{ref:a,decorative:n,orientation:t,className:xe("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...s}));JC.displayName=XC.displayName;const ZC=({transaction:e})=>{const t=()=>{switch(e.type){case"trade":return r.jsx(u$,{className:"h-4 w-4"});case"free_agent":return r.jsx(Fu,{className:"h-4 w-4"});case"waiver":return r.jsx(Mo,{className:"h-4 w-4"});default:return r.jsx(gc,{className:"h-4 w-4"})}},n=()=>{switch(e.type){case"trade":return"bg-blue-100 text-blue-800";case"free_agent":return"bg-green-100 text-green-800";case"waiver":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},s=()=>{switch(e.status){case"complete":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},a=o=>new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}).format(o),i=o=>{switch(o){case"free_agent":return"Free Agent";case"waiver":return"Waiver";case"trade":return"Trade";default:return o.charAt(0).toUpperCase()+o.slice(1)}};return r.jsxs(Q,{className:"mb-4 hover:shadow-md transition-shadow",children:[r.jsx(oe,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:`p-2 rounded-full ${n()}`,children:t()}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(se,{className:n(),children:i(e.type)}),r.jsxs(se,{variant:"outline",children:["Week ",e.week]}),r.jsx(se,{className:s(),children:e.status})]}),r.jsxs("div",{className:"flex items-center space-x-1 mt-1 text-sm text-muted-foreground",children:[r.jsx(Qn,{className:"h-3 w-3"}),r.jsx("span",{children:a(e.date)})]})]})]}),e.waiverBid&&r.jsxs("div",{className:"flex items-center space-x-1 text-sm text-muted-foreground",children:[r.jsx(Op,{className:"h-3 w-3"}),r.jsxs("span",{children:["$",e.waiverBid]})]})]})}),r.jsx(ee,{className:"pt-0",children:r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{children:r.jsx("p",{className:"text-sm font-medium text-foreground",children:e.details})}),e.teams.length>0&&r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Teams:"}),r.jsx("div",{className:"flex flex-wrap gap-1",children:e.teams.map((o,l)=>r.jsx(se,{variant:"secondary",className:"text-xs",children:o},l))})]}),(e.players.added.length>0||e.players.dropped.length>0)&&r.jsxs("div",{className:"space-y-2",children:[e.players.added.length>0&&r.jsxs("div",{children:[r.jsxs("p",{className:"text-xs text-muted-foreground mb-1 flex items-center",children:[r.jsx(Fu,{className:"h-3 w-3 mr-1 text-green-600"}),"Added:"]}),r.jsx("div",{className:"space-y-1",children:e.players.added.map((o,l)=>r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"font-medium",children:o.name}),r.jsxs(se,{variant:"outline",className:"text-xs",children:["to ",o.team]})]},l))})]}),e.players.dropped.length>0&&r.jsxs("div",{children:[r.jsxs("p",{className:"text-xs text-muted-foreground mb-1 flex items-center",children:[r.jsx(J$,{className:"h-3 w-3 mr-1 text-red-600"}),"Dropped:"]}),r.jsx("div",{className:"space-y-1",children:e.players.dropped.map((o,l)=>r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"font-medium",children:o.name}),r.jsxs(se,{variant:"outline",className:"text-xs",children:["from ",o.team]})]},l))})]})]}),e.draftPicks.length>0&&r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Draft Picks:"}),r.jsx("div",{className:"space-y-1",children:e.draftPicks.map((o,l)=>r.jsxs("div",{className:"text-sm",children:[r.jsxs("span",{className:"font-medium",children:[o.season," Round ",o.round]}),r.jsxs("span",{className:"text-muted-foreground ml-2",children:["(Roster ",o.previous_owner_id," → Roster ",o.owner_id,")"]})]},l))})]}),e.waiverBudget.length>0&&r.jsxs("div",{children:[r.jsxs("p",{className:"text-xs text-muted-foreground mb-1 flex items-center",children:[r.jsx(Op,{className:"h-3 w-3 mr-1"}),"FAAB Transfers:"]}),r.jsx("div",{className:"space-y-1",children:e.waiverBudget.map((o,l)=>r.jsxs("div",{className:"text-sm",children:[r.jsxs("span",{className:"font-medium",children:["$",o.amount]}),r.jsxs("span",{className:"text-muted-foreground ml-2",children:["(Roster ",o.sender," → Roster ",o.receiver,")"]})]},l))})]}),e.notes&&r.jsxs(r.Fragment,{children:[r.jsx(JC,{}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Notes:"}),r.jsx("p",{className:"text-sm italic text-muted-foreground",children:e.notes})]})]})]})})]})},T6=()=>{const{teamId:e}=S1(),{selectedSeason:t,currentSeasonConfig:n}=$n(),[s,a]=h.useState("roster"),[i,o]=h.useState(null),[l,c]=h.useState([]),[d,u]=h.useState(!1),[f,m]=h.useState([]),[g,j]=h.useState(!1),[v,w]=h.useState(!0),[x,p]=h.useState(null),{toast:y}=dn();h.useEffect(()=>{e&&n&&_(parseInt(e))},[e,n]),h.useEffect(()=>{s==="transactions"&&i&&l.length===0&&S()},[s,i]),h.useEffect(()=>{s==="schedule"&&i&&f.length===0&&P()},[s,i,t]),h.useEffect(()=>{f.length>0&&m([])},[t]);const _=async b=>{try{w(!0),p(null),console.log(`Fetching data for team ID: ${b}`);const E=await ae.getTeams({filters:[{column:"id",operator:"eq",value:b}]});if(E.error||!E.data||E.data.length===0)throw new Error("Team not found");const R=E.data[0];console.log("Team data:",R);const B=await ae.getTeamConferenceJunctions({filters:[{column:"team_id",operator:"eq",value:b}]});if(B.error||!B.data||B.data.length===0)throw new Error("Team conference mapping not found");const L=B.data[0],G=L.roster_id;console.log("Junction data:",L,"Roster ID:",G),console.log("All junctions for this team:",B.data);const q=await ae.getConferences({filters:[{column:"id",operator:"eq",value:L.conference_id}]});if(q.error||!q.data||q.data.length===0)throw new Error("Conference not found");const H=q.data[0];console.log("Conference data:",H),console.log(`Fetching Sleeper data for league ${H.league_id}, roster ${G}`);const O=await Qe.getTeamRosterData(H.league_id,G);o({...O,teamData:R,conferenceData:H}),console.log("Successfully loaded team roster data")}catch(E){console.error("Error fetching team data:",E);const R=E instanceof Error?E.message:"Failed to load team data";p(R),y({title:"Error",description:R,variant:"destructive"})}finally{w(!1)}},S=async()=>{if(i)try{u(!0),console.log(`Fetching transactions for team ${i.teamData.team_name} across all conferences`);const b=await ae.getTeamConferenceJunctions({filters:[{column:"team_id",operator:"eq",value:i.teamData.id}]});if(b.error||!b.data||b.data.length===0)throw new Error("Team conference mappings not found");const E=b.data.map(Y=>Y.conference_id);console.log(`Team participates in conferences: ${E.join(", ")}`);const R=await ae.getTransactions({filters:[{column:"conference_id",operator:"in",value:E}],orderBy:{column:"created_at",ascending:!1}});if(R.error||!R.data)throw new Error(R.error||"Failed to fetch transactions");const B=await ae.getTeams({}),L=await ae.getTeamConferenceJunctions({filters:[{column:"conference_id",operator:"in",value:E}]}),G=await ae.getAllPlayersForMapping(),q=new Map;G.forEach(Y=>{Y.sleeper_id&&q.set(String(Y.sleeper_id),Y.player_name)});const O=(await Promise.all(R.data.map(async Y=>{var ol,qs,Mn;let V={};try{V=typeof Y.data=="string"?JSON.parse(Y.data):Y.data||{}}catch(je){console.warn("Failed to parse transaction data:",je)}const K=i.teamData.id,te=Y.conference_id,ue=V.roster_ids||[],fe=(ol=b.data)==null?void 0:ol.find(je=>je.team_id===K&&je.conference_id===te);if(!fe||!ue.includes(fe.roster_id))return null;const ce=je=>{var Jt;const Ke=(Jt=L.data)==null?void 0:Jt.find(zt=>zt.roster_id.toString()===je.toString()&&zt.conference_id===Y.conference_id);if(Ke&&B.data){const zt=B.data.find(Ci=>Ci.id===Ke.team_id);return(zt==null?void 0:zt.team_name)||"Unknown Team"}return"Unknown Team"},me=[],we=[],qe=je=>{const Ke=String(je);return q.get(Ke)||`Player ${Ke}`};if(V.adds)for(const[je,Ke]of Object.entries(V.adds)){const Jt=qe(je),zt=ce(Ke);me.push({name:Jt,team:zt})}if(V.drops)for(const[je,Ke]of Object.entries(V.drops)){const Jt=qe(je),zt=ce(Ke);we.push({name:Jt,team:zt})}let de="";const Se=V.type||Y.type,tt=new Set;V.roster_ids&&V.roster_ids.forEach(je=>{const Ke=ce(je);Ke!=="Unknown Team"&&tt.add(Ke)});const We=i.teamData.team_name,Xt=((Mn=(qs=(await ae.getConferences({filters:[{column:"id",operator:"eq",value:Y.conference_id}]})).data)==null?void 0:qs[0])==null?void 0:Mn.conference_name)||"Unknown Conference";switch(Se){case"trade":if(me.length>0||we.length>0){const je=[];me.forEach(Ke=>je.push(`${Ke.name} to ${Ke.team}`)),we.forEach(Ke=>je.push(`${Ke.name} from ${Ke.team}`)),tt.size>1?de=`[${Xt}] Trade between ${Array.from(tt).join(" and ")}: ${je.join(", ")}`:de=`[${Xt}] ${We} trade: ${je.join(", ")}`}else if(V.draft_picks&&V.draft_picks.length>0){const je=V.draft_picks.map(Ke=>`${Ke.season} Round ${Ke.round} pick`);de=`[${Xt}] Trade involving ${je.join(", ")}`}else de=`[${Xt}] Trade between ${Array.from(tt).join(" and ")}`;break;case"waiver":me.length>0&&we.length>0?de=`[${Xt}] ${We} claimed ${me.map(je=>je.name).join(", ")} from waivers, dropped ${we.map(je=>je.name).join(", ")}`:me.length>0?de=`[${Xt}] ${We} claimed ${me.map(je=>je.name).join(", ")} from waivers`:we.length>0?de=`[${Xt}] ${We} dropped ${we.map(je=>je.name).join(", ")} to waivers`:de=`[${Xt}] ${We} made a waiver claim`;break;case"free_agent":me.length>0&&we.length>0?de=`[${Xt}] ${We} added ${me.map(je=>je.name).join(", ")}, dropped ${we.map(je=>je.name).join(", ")}`:me.length>0?de=`[${Xt}] ${We} added ${me.map(je=>je.name).join(", ")} from free agency`:we.length>0?de=`[${Xt}] ${We} dropped ${we.map(je=>je.name).join(", ")}`:de=`[${Xt}] ${We} made a free agent transaction`;break;default:de=`[${Xt}] ${We} completed a ${Se||"transaction"}`}const od=V.type==="trade"?"trade":V.type==="waiver"?"waiver":V.type==="free_agent"?"free_agent":"commissioner";return{id:Y.id.toString(),type:od,date:new Date(Y.created_at||new Date),details:de,teams:[We],players:{added:me.map(je=>({id:"",name:je.name,team:je.team})),dropped:we.map(je=>({id:"",name:je.name,team:je.team}))},week:V.leg||0,status:"completed",rosterIds:V.roster_ids||[],draftPicks:V.draft_picks||[],waiverBudget:V.waiver_budget||[]}}))).filter(Y=>Y!==null);c(O),console.log(`Loaded ${O.length} transactions for this team across all conferences`),y({title:"Transactions Loaded",description:`Found ${O.length} transactions for this team across all seasons`})}catch(b){console.error("Error fetching transactions:",b);const E=b instanceof Error?b.message:"Failed to load transactions";y({title:"Error Loading Transactions",description:E,variant:"destructive"})}finally{u(!1)}},P=async()=>{if(!(!i||!n))try{j(!0),console.log(`Fetching schedule for team ${i.teamData.team_name} for season ${t}`);const b=n.conferences.filter(V=>V.dbConferenceId);if(b.length===0){console.log("No conferences found for selected season"),m([]);return}const E=await ae.getTeamConferenceJunctions({filters:[{column:"team_id",operator:"eq",value:i.teamData.id}]});if(E.error||!E.data)throw new Error("Failed to get team conference mappings");const R=b.map(V=>V.dbConferenceId),B=E.data.find(V=>R.includes(V.conference_id));if(!B){console.log(`Team not found in any conference for season ${t}`),m([]);return}const L=await ae.getMatchups({filters:[{column:"conference_id",operator:"eq",value:B.conference_id}],orderBy:{column:"week",ascending:!0}});if(L.error||!L.data)throw new Error(L.error||"Failed to fetch matchups");const G=L.data.filter(V=>V.team1_id===i.teamData.id||V.team2_id===i.teamData.id),q=await ae.getMatchupAdminOverrides({filters:[{column:"conference_id",operator:"eq",value:B.conference_id},{column:"is_active",operator:"eq",value:!0}]}),H=await ae.getTeams({}),O=new Map;H.data&&H.data.forEach(V=>{O.set(V.id,V.team_name)});const Y=G.map(V=>{var tt;const K=(tt=q.data)==null?void 0:tt.find(We=>We.conference_id===V.conference_id&&We.week===parseInt(V.week)&&We.is_active);let te,ue,fe=!1;if(K?(te=K.override_team1_id,ue=K.override_team2_id,fe=!0):(te=V.team1_id,ue=V.team2_id),te!==i.teamData.id&&ue!==i.teamData.id)return null;const ce=te===i.teamData.id,me=ce?ue:te,we=O.get(me)||"Unknown Team";let qe="TBD",de=null,Se=null;return V.team1_score!==null&&V.team2_score!==null&&(ce?(de=V.team1_score,Se=V.team2_score):(de=V.team2_score,Se=V.team1_score),de>Se?qe="W":de<Se?qe="L":qe="T"),{week:V.week,opponent:we,isHome:ce,result:qe,teamScore:de,opponentScore:Se,isPlayoff:V.is_playoff||!1,isOverridden:fe,overrideReason:(K==null?void 0:K.override_reason)||null,matchupStatus:V.matchup_status||"scheduled"}}).filter(V=>V!==null);m(Y),console.log(`Loaded ${Y.length} matchups for ${t} season`),y({title:"Schedule Loaded",description:`Found ${Y.length} matchups for ${t} season`})}catch(b){console.error("Error fetching schedule:",b);const E=b instanceof Error?b.message:"Failed to load schedule";y({title:"Error Loading Schedule",description:E,variant:"destructive"})}finally{j(!1)}},C=b=>{switch(b){case"QB":return"bg-red-100 text-red-800";case"RB":return"bg-green-100 text-green-800";case"WR":return"bg-blue-100 text-blue-800";case"TE":return"bg-yellow-100 text-yellow-800";case"K":return"bg-purple-100 text-purple-800";case"DEF":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},T=b=>{switch(b){case"FLEX":return"bg-orange-100 text-orange-800";case"SUPER_FLEX":return"bg-pink-100 text-pink-800";default:return"bg-slate-100 text-slate-800"}},A=b=>{if(!b||b==="Active")return null;const E={IR:"destructive",Out:"destructive",Doubtful:"destructive",Questionable:"secondary",Probable:"outline"};return r.jsx(se,{variant:E[b]||"outline",className:"text-xs",children:b})};if(v)return r.jsx("div",{className:"flex items-center justify-center min-h-64",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(wt,{className:"h-6 w-6 animate-spin"}),r.jsx("span",{children:"Loading team data..."})]})});if(x||!i)return r.jsxs("div",{className:"space-y-6",children:[r.jsx(Mt,{to:"/teams",children:r.jsxs(Z,{variant:"ghost",className:"mb-4",children:[r.jsx(Ul,{className:"mr-2 h-4 w-4"}),"Back to Teams"]})}),r.jsx(Q,{children:r.jsx(ee,{className:"flex items-center justify-center min-h-64",children:r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx(Ve,{className:"h-12 w-12 text-destructive mx-auto"}),r.jsx("h3",{className:"text-lg font-semibold",children:"Error Loading Team"}),r.jsx("p",{className:"text-muted-foreground",children:x||"Team data not available"}),r.jsx(Z,{onClick:()=>e&&_(parseInt(e)),children:"Try Again"})]})})})]});const{roster:D,organizedRoster:$,allPlayers:I,teamData:M,conferenceData:F}=i,J=Qe.formatPoints(D.settings.fpts,D.settings.fpts_decimal),U=Qe.formatPoints(D.settings.fpts_against,D.settings.fpts_against_decimal),z=D.settings.wins+D.settings.losses+D.settings.ties,k=Qe.calculatePointsPerGame(J,z),N=z>0?D.settings.wins/z*100:0;return r.jsxs("div",{className:"space-y-6",children:[r.jsx(Mt,{to:"/teams",children:r.jsxs(Z,{variant:"ghost",className:"mb-4",children:[r.jsx(Ul,{className:"mr-2 h-4 w-4"}),"Back to Teams"]})}),r.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between space-y-4 md:space-y-0",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs(_v,{className:"h-16 w-16",children:[r.jsx(bv,{src:M.team_logo_url||void 0}),r.jsx(Sv,{className:"bg-primary/10 text-lg",style:{backgroundColor:M.team_primary_color+"20"},children:M.team_name.split(" ").map(b=>b[0]).join("").toUpperCase()})]}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:M.team_name}),r.jsxs("p",{className:"text-muted-foreground",children:["Owned by ",M.owner_name]}),M.co_owner_name&&r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Co-owner: ",M.co_owner_name]}),r.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[r.jsx(se,{variant:"outline",children:F.conference_name}),r.jsxs(se,{variant:"secondary",children:["Roster #",D.roster_id]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"text-2xl font-bold",children:[D.settings.wins,"-",D.settings.losses]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Record"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:J.toFixed(1)}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Points For"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:k.toFixed(1)}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg/Game"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[N.toFixed(1),"%"]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Win %"})]})]})]}),r.jsxs(Fr,{value:s,onValueChange:a,className:"w-full",children:[r.jsxs(mr,{className:"grid w-full grid-cols-4",children:[r.jsx(Oe,{value:"roster",children:"Roster"}),r.jsx(Oe,{value:"performance",children:"Performance"}),r.jsx(Oe,{value:"transactions",children:"Transactions"}),r.jsx(Oe,{value:"schedule",children:"Schedule"})]}),r.jsxs(Fe,{value:"roster",className:"space-y-4",children:[r.jsxs(Q,{children:[r.jsxs(oe,{children:[r.jsxs(le,{className:"flex items-center space-x-2",children:[r.jsx(vN,{className:"h-5 w-5"}),r.jsx("span",{children:"Starting Lineup"})]}),r.jsx(_e,{children:"Current starting players for this roster"})]}),r.jsx(ee,{children:r.jsx("div",{className:"rounded-md border",children:r.jsxs(rn,{children:[r.jsx(an,{children:r.jsxs(ke,{children:[r.jsx(ie,{children:"Position"}),r.jsx(ie,{children:"Player"}),r.jsx(ie,{children:"NFL Team"}),r.jsx(ie,{children:"Status"})]})}),r.jsx(on,{children:$.starters.map((b,E)=>{const R=I[b.playerId];return r.jsxs(ke,{children:[r.jsx(ne,{children:r.jsx(se,{className:T(b.slotPosition),children:b.slotPosition})}),r.jsx(ne,{children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"font-medium",children:R?Qe.getPlayerName(R):"Unknown Player"}),R&&r.jsx(se,{className:C(R.position),children:R.position})]})}),r.jsx(ne,{children:(R==null?void 0:R.team)||"N/A"}),r.jsx(ne,{children:A(R==null?void 0:R.injury_status)})]},`starter-${E}`)})})]})})})]}),r.jsxs(Q,{children:[r.jsxs(oe,{children:[r.jsxs(le,{className:"flex items-center space-x-2",children:[r.jsx(Vt,{className:"h-5 w-5"}),r.jsxs("span",{children:["Bench (",$.bench.length,")"]})]}),r.jsx(_e,{children:"Players available as substitutes"})]}),r.jsx(ee,{children:r.jsx("div",{className:"rounded-md border",children:r.jsxs(rn,{children:[r.jsx(an,{children:r.jsxs(ke,{children:[r.jsx(ie,{children:"Player"}),r.jsx(ie,{children:"Position"}),r.jsx(ie,{children:"NFL Team"}),r.jsx(ie,{children:"Status"})]})}),r.jsxs(on,{children:[$.bench.map(b=>{const E=I[b];return r.jsxs(ke,{children:[r.jsx(ne,{className:"font-medium",children:E?Qe.getPlayerName(E):"Unknown Player"}),r.jsx(ne,{children:E&&r.jsx(se,{className:C(E.position),children:E.position})}),r.jsx(ne,{children:(E==null?void 0:E.team)||"N/A"}),r.jsx(ne,{children:A(E==null?void 0:E.injury_status)})]},`bench-${b}`)}),$.bench.length===0&&r.jsx(ke,{children:r.jsx(ne,{colSpan:4,className:"text-center text-muted-foreground py-4",children:"No bench players"})})]})]})})})]}),$.ir.length>0&&r.jsxs(Q,{children:[r.jsxs(oe,{children:[r.jsxs(le,{className:"flex items-center space-x-2",children:[r.jsx(Ve,{className:"h-5 w-5"}),r.jsxs("span",{children:["Injured Reserve (",$.ir.length,")"]})]}),r.jsx(_e,{children:"Players on injured reserve"})]}),r.jsx(ee,{children:r.jsx("div",{className:"rounded-md border",children:r.jsxs(rn,{children:[r.jsx(an,{children:r.jsxs(ke,{children:[r.jsx(ie,{children:"Player"}),r.jsx(ie,{children:"Position"}),r.jsx(ie,{children:"NFL Team"}),r.jsx(ie,{children:"Status"})]})}),r.jsx(on,{children:$.ir.map(b=>{const E=I[b];return r.jsxs(ke,{children:[r.jsx(ne,{className:"font-medium",children:E?Qe.getPlayerName(E):"Unknown Player"}),r.jsx(ne,{children:E&&r.jsx(se,{className:C(E.position),children:E.position})}),r.jsx(ne,{children:(E==null?void 0:E.team)||"N/A"}),r.jsx(ne,{children:r.jsx(se,{variant:"destructive",className:"text-xs",children:"IR"})})]},`ir-${b}`)})})]})})})]})]}),r.jsx(Fe,{value:"performance",className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs(Q,{children:[r.jsx(oe,{children:r.jsxs(le,{className:"flex items-center space-x-2",children:[r.jsx(xt,{className:"h-5 w-5"}),r.jsx("span",{children:"Season Stats"})]})}),r.jsx(ee,{className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Points For"}),r.jsx("p",{className:"text-2xl font-bold",children:J.toFixed(1)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Points Against"}),r.jsx("p",{className:"text-2xl font-bold",children:U.toFixed(1)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Point Differential"}),r.jsxs("p",{className:`text-2xl font-bold ${J-U>0?"text-green-600":"text-red-600"}`,children:[J-U>0?"+":"",(J-U).toFixed(1)]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Win Percentage"}),r.jsxs("p",{className:"text-2xl font-bold",children:[N.toFixed(1),"%"]})]})]})})]}),r.jsxs(Q,{children:[r.jsx(oe,{children:r.jsxs(le,{className:"flex items-center space-x-2",children:[r.jsx(Mo,{className:"h-5 w-5"}),r.jsx("span",{children:"Team Management"})]})}),r.jsx(ee,{className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Waiver Position"}),r.jsx("p",{className:"text-2xl font-bold",children:D.settings.waiver_position})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Waiver Budget Used"}),r.jsxs("p",{className:"text-2xl font-bold",children:["$",D.settings.waiver_budget_used]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Moves"}),r.jsx("p",{className:"text-2xl font-bold",children:D.settings.total_moves})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Games Played"}),r.jsx("p",{className:"text-2xl font-bold",children:z})]})]})})]})]})}),r.jsxs(Fe,{value:"transactions",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Transaction History"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"All trades, waivers, and roster moves for this team across all seasons"})]}),r.jsx(Z,{onClick:S,disabled:d,variant:"outline",size:"sm",children:d?r.jsxs(r.Fragment,{children:[r.jsx(wt,{className:"h-4 w-4 mr-2 animate-spin"}),"Loading..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]}),d&&l.length===0?r.jsx(Q,{children:r.jsx(ee,{className:"flex items-center justify-center min-h-32",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(wt,{className:"h-6 w-6 animate-spin"}),r.jsx("span",{children:"Loading transactions..."})]})})}):l.length===0?r.jsx(Q,{children:r.jsx(ee,{className:"flex items-center justify-center min-h-32",children:r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx(Qn,{className:"h-12 w-12 text-muted-foreground mx-auto"}),r.jsx("h3",{className:"text-lg font-semibold",children:"No Transactions Found"}),r.jsx("p",{className:"text-muted-foreground",children:"This team hasn't made any trades, waiver claims, or free agent pickups this season."}),r.jsx("div",{className:"mt-4",children:r.jsxs(se,{variant:"secondary",children:["Total moves: ",D.settings.total_moves]})})]})})}):r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",l.length," transaction",l.length!==1?"s":""]}),r.jsxs(se,{variant:"secondary",children:["Total moves: ",D.settings.total_moves]})]}),r.jsx("div",{className:"space-y-3",children:l.map(b=>r.jsx(ZC,{transaction:b},b.id))})]})]}),r.jsxs(Fe,{value:"schedule",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Season Schedule"}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Complete schedule and results for ",t," season"]})]}),r.jsx(Z,{onClick:P,disabled:g,variant:"outline",size:"sm",children:g?r.jsxs(r.Fragment,{children:[r.jsx(wt,{className:"h-4 w-4 mr-2 animate-spin"}),"Loading..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]}),g&&f.length===0?r.jsx(Q,{children:r.jsx(ee,{className:"flex items-center justify-center min-h-32",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(wt,{className:"h-6 w-6 animate-spin"}),r.jsx("span",{children:"Loading schedule..."})]})})}):f.length===0?r.jsx(Q,{children:r.jsx(ee,{className:"flex items-center justify-center min-h-32",children:r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx(Qn,{className:"h-12 w-12 text-muted-foreground mx-auto"}),r.jsx("h3",{className:"text-lg font-semibold",children:"No Schedule Found"}),r.jsxs("p",{className:"text-muted-foreground",children:["No matchups found for this team in the ",t," season."]})]})})}):r.jsxs("div",{className:"space-y-4",children:[r.jsxs(Q,{children:[r.jsx(oe,{children:r.jsxs(le,{className:"flex items-center space-x-2",children:[r.jsx(Qn,{className:"h-5 w-5"}),r.jsxs("span",{children:[t," Season Schedule"]})]})}),r.jsx(ee,{children:r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:f.filter(b=>b.result==="W").length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Wins"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:f.filter(b=>b.result==="L").length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Losses"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:f.filter(b=>b.result==="T").length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Ties"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:f.filter(b=>b.result==="TBD").length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Remaining"})]})]})})]}),r.jsxs(Q,{children:[r.jsxs(oe,{children:[r.jsx(le,{children:"Matchup Results"}),r.jsx(_e,{children:"Week-by-week schedule and results"})]}),r.jsx(ee,{children:r.jsx("div",{className:"rounded-md border",children:r.jsxs(rn,{children:[r.jsx(an,{children:r.jsxs(ke,{children:[r.jsx(ie,{className:"w-16",children:"Week"}),r.jsx(ie,{children:"Opponent"}),r.jsx(ie,{className:"w-16",children:"@/vs"}),r.jsx(ie,{className:"w-20",children:"Result"}),r.jsx(ie,{className:"w-24",children:"Score"}),r.jsx(ie,{className:"w-16",children:"Status"})]})}),r.jsx(on,{children:f.map((b,E)=>r.jsxs(ke,{children:[r.jsxs(ne,{className:"font-medium",children:[b.week,b.isPlayoff&&r.jsx(se,{variant:"destructive",className:"ml-1 text-xs",children:"PO"})]}),r.jsx(ne,{children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{children:b.opponent}),b.isOverridden&&r.jsx(se,{variant:"outline",className:"text-xs",children:"Override"})]})}),r.jsx(ne,{className:"text-center",children:b.isHome?"vs":"@"}),r.jsx(ne,{children:r.jsx(se,{variant:b.result==="W"?"default":b.result==="L"?"destructive":b.result==="T"?"secondary":"outline",className:"w-8 justify-center",children:b.result})}),r.jsx(ne,{children:b.teamScore!==null&&b.opponentScore!==null?r.jsxs("div",{className:"text-sm",children:[r.jsx("span",{className:b.result==="W"?"font-bold":"",children:b.teamScore}),r.jsx("span",{className:"text-muted-foreground mx-1",children:"-"}),r.jsx("span",{className:b.result==="L"?"font-bold":"",children:b.opponentScore})]}):r.jsx("span",{className:"text-muted-foreground",children:"-"})}),r.jsx(ne,{children:r.jsx(se,{variant:"outline",className:"text-xs",children:b.matchupStatus})})]},`matchup-${E}`))})]})})})]})]})]})]})]})};async function k6(e={},t=1,n=25){try{const{data:{session:s},error:a}=await Tn.auth.getSession();if(a)throw console.error("Session error:",a),new Error(`Authentication error: ${a.message}`);console.log("Fetching players directly from database...");let i=Tn.from("players_with_roster_status").select(`
        id,
        player_name,
        position,
        nfl_team,
        sleeper_id,
        injury_status,
        total_points,
        avg_points,
        is_rostered,
        rostered_by_teams,
        playing_status
      `,{count:"exact"});e.search&&(i=i.or(`player_name.ilike.%${e.search}%,nfl_team.ilike.%${e.search}%`)),e.position&&e.position!=="all"&&(i=i.eq("position",e.position)),e.is_rostered!==""&&(i=i.eq("is_rostered",e.is_rostered));const o=(t-1)*n,l=o+n-1;i=i.range(o,l).order("total_points",{ascending:!1});const{data:c,error:d,count:u}=await i;if(d)throw console.error("Database query error:",d),new Error(`Database error: ${d.message}`);return console.log(`✅ Fetched ${(c==null?void 0:c.length)||0} players (total: ${u})`),{data:c||[],count:u||0}}catch(s){throw console.error("fetchPlayersFromApi error:",s),s}}const P6=()=>{const{selectedSeason:e,selectedConference:t,currentSeasonConfig:n}=$n(),{toast:s}=dn(),[a,i]=h.useState([]),[o,l]=h.useState(0),[c,d]=h.useState(1),u=50,[f,m]=h.useState(!0),[g,j]=h.useState(null),[v,w]=h.useState(""),[x,p]=h.useState("all"),[y,_]=h.useState("all"),[S,P]=h.useState(new Map),[C,T]=h.useState("all-players"),A=["QB","RB","WR","TE"];h.useEffect(()=>{(async()=>{try{const{data:F,error:J}=await Tn.from("teams").select("id, team_name");if(J){console.error("Error loading teams:",J);return}const U=new Map;(F||[]).forEach(z=>{U.set(z.id,z.team_name)}),P(U)}catch(F){console.error("Error setting up team lookup:",F)}})()},[]),h.useEffect(()=>{(async()=>{m(!0),j(null);try{const F={search:v,position:x,is_rostered:y==="rostered"?!0:y==="free_agent"?!1:""},{data:J,count:U}=await k6(F,c,u);i(J||[]),l(U||0),s({title:"Players Loaded",description:`Found ${U||0} players for ${e} season`})}catch(F){const J=F instanceof Error?F.message:"Failed to fetch players";j(J),s({title:"Error",description:J,variant:"destructive"})}finally{m(!1)}})()},[v,x,y,c,e,t]);const D=M=>{switch(M){case"QB":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"RB":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"WR":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"TE":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},$=(M,F)=>{if(F){const J={IR:"destructive",O:"destructive",D:"destructive",Q:"secondary",P:"outline"};return r.jsx(se,{variant:J[F]||"outline",className:"text-xs",children:F})}return M?r.jsx(se,{variant:"default",className:"text-xs",children:"Rostered"}):r.jsx(se,{variant:"outline",className:"text-xs",children:"FA"})},I=M=>!M||M.length===0?null:r.jsx("div",{className:"flex flex-col gap-1",children:M.map(F=>{const J=S.get(F)||`Team ${F}`;return r.jsx(Mt,{to:`/teams/${F}`,children:r.jsx(se,{variant:"outline",className:"text-xs hover:bg-primary hover:text-primary-foreground cursor-pointer transition-colors",children:J})},F)})});return f&&a.length===0?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(wt,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Loading Players"}),r.jsx("p",{className:"text-muted-foreground",children:"Fetching player data..."})]})}):g&&a.length===0?r.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:r.jsxs(Q,{className:"w-full max-w-md",children:[r.jsx(oe,{children:r.jsx(le,{className:"flex items-center gap-2 text-destructive",children:"Error Loading Players"})}),r.jsxs(ee,{className:"space-y-4",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:g}),r.jsx(Z,{onClick:()=>window.location.reload(),className:"w-full",children:"Retry"})]})]})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ho,{className:"h-6 w-6 text-primary"}),r.jsx("h1",{className:"text-3xl font-bold",children:"Players"})]}),r.jsxs("p",{className:"text-muted-foreground",children:[e," Season • ",o," players"]})]}),r.jsxs(Fr,{value:C,onValueChange:T,className:"w-full",children:[r.jsxs(mr,{className:"grid w-full grid-cols-2",children:[r.jsxs(Oe,{value:"all-players",className:"flex items-center gap-2",children:[r.jsx(ho,{className:"h-4 w-4"}),"All Players"]}),r.jsxs(Oe,{value:"trending",className:"flex items-center gap-2",children:[r.jsx(Mo,{className:"h-4 w-4"}),"Trending Players"]})]}),r.jsxs(Fe,{value:"all-players",className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Ux,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(Rt,{placeholder:"Search players...",value:v,onChange:M=>{w(M.target.value),d(1)},className:"pl-10"})]}),r.jsxs(ht,{value:x,onValueChange:M=>{p(M),d(1)},children:[r.jsx(at,{children:r.jsx(mt,{placeholder:"All Positions"})}),r.jsxs(it,{children:[r.jsx(Pe,{value:"all",children:"All Positions"}),A.map(M=>r.jsx(Pe,{value:M,children:M},M))]})]}),r.jsxs(ht,{value:y,onValueChange:M=>{_(M),d(1)},children:[r.jsx(at,{children:r.jsx(mt,{placeholder:"All Status"})}),r.jsxs(it,{children:[r.jsx(Pe,{value:"all",children:"All Status"}),r.jsx(Pe,{value:"rostered",children:"Rostered"}),r.jsx(Pe,{value:"free_agent",children:"Free Agent"})]})]})]}),r.jsx(Q,{children:r.jsxs(ee,{className:"pt-6",children:[r.jsx("div",{className:"rounded-md border",children:r.jsxs(rn,{children:[r.jsx(an,{children:r.jsxs(ke,{children:[r.jsx(ie,{children:"Player"}),r.jsx(ie,{children:"Pos"}),r.jsx(ie,{className:"hidden sm:table-cell",children:"NFL Team"}),r.jsx(ie,{className:"text-right",children:"Points"}),r.jsx(ie,{className:"text-right hidden md:table-cell",children:"Avg"}),r.jsx(ie,{children:"Status"}),r.jsx(ie,{className:"hidden lg:table-cell",children:"Rostered By"}),r.jsx(ie,{className:"w-10"})]})}),r.jsx(on,{children:f?r.jsx(ke,{children:r.jsx(ne,{colSpan:8,className:"text-center py-8",children:r.jsx(wt,{className:"h-6 w-6 animate-spin mx-auto"})})}):a.length===0?r.jsx(ke,{children:r.jsx(ne,{colSpan:8,className:"text-center py-8",children:"No players found."})}):a.map(M=>r.jsxs(ke,{children:[r.jsx(ne,{children:r.jsx("div",{className:"font-medium",children:M.player_name})}),r.jsx(ne,{children:r.jsx(se,{className:D(M.position),children:M.position})}),r.jsx(ne,{className:"hidden sm:table-cell",children:M.nfl_team||"FA"}),r.jsx(ne,{className:"text-right font-mono",children:M.total_points.toFixed(1)}),r.jsx(ne,{className:"text-right font-mono hidden md:table-cell",children:M.avg_points.toFixed(1)}),r.jsx(ne,{children:$(M.is_rostered,M.injury_status)}),r.jsx(ne,{className:"hidden lg:table-cell",children:I(M.rostered_by_teams)}),r.jsx(ne,{children:r.jsx(Mt,{to:`/players/${M.sleeper_id}`,children:r.jsx(Z,{variant:"ghost",size:"sm",children:r.jsx(qc,{className:"h-4 w-4"})})})})]},M.id))})]})}),r.jsxs("div",{className:"flex items-center justify-between space-x-2 py-4",children:[r.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",Math.min((c-1)*u+1,o)," to ",Math.min(c*u,o)," of ",o," players"]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Z,{variant:"outline",size:"sm",onClick:()=>d(M=>Math.max(1,M-1)),disabled:c===1,children:"Previous"}),r.jsxs("span",{className:"text-sm",children:["Page ",c," of ",Math.ceil(o/u)]}),r.jsx(Z,{variant:"outline",size:"sm",onClick:()=>d(M=>M+1),disabled:c*u>=o,children:"Next"})]})]})]})})]}),r.jsx(Fe,{value:"trending",className:"space-y-6",children:r.jsxs(Q,{children:[r.jsxs(oe,{children:[r.jsxs(le,{className:"flex items-center gap-2",children:[r.jsx(Mo,{className:"h-5 w-5"}),"Trending Players (Last 24 Hours)"]}),r.jsx(_e,{children:"Most added players across all Sleeper leagues in the past 24 hours"})]}),r.jsx(ee,{className:"flex justify-center",children:r.jsx("iframe",{src:"https://sleeper.app/embed/players/nfl/trending/add?lookback_hours=24&limit=25",width:"350",height:"500",allowTransparency:!0,frameBorder:"0",className:"rounded-lg border",title:"Trending Players"})})]})})]})]})};var Ev="Progress",Cv=100,[R6,cH]=ns(Ev),[A6,$6]=R6(Ev),eT=h.forwardRef((e,t)=>{const{__scopeProgress:n,value:s=null,max:a,getValueLabel:i=D6,...o}=e;(a||a===0)&&!O0(a)&&console.error(M6(`${a}`,"Progress"));const l=O0(a)?a:Cv;s!==null&&!F0(s,l)&&console.error(L6(`${s}`,"Progress"));const c=F0(s,l)?s:null,d=Ju(c)?i(c,l):void 0;return r.jsx(A6,{scope:n,value:c,max:l,children:r.jsx(ye.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Ju(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":sT(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});eT.displayName=Ev;var tT="ProgressIndicator",nT=h.forwardRef((e,t)=>{const{__scopeProgress:n,...s}=e,a=$6(tT,n);return r.jsx(ye.div,{"data-state":sT(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...s,ref:t})});nT.displayName=tT;function D6(e,t){return`${Math.round(e/t*100)}%`}function sT(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Ju(e){return typeof e=="number"}function O0(e){return Ju(e)&&!isNaN(e)&&e>0}function F0(e,t){return Ju(e)&&!isNaN(e)&&e<=t&&e>=0}function M6(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Cv}\`.`}function L6(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Cv} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var rT=eT,I6=nT;const tr=h.forwardRef(({className:e,value:t,...n},s)=>r.jsx(rT,{ref:s,className:xe("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",e),...n,children:r.jsx(I6,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));tr.displayName=rT.displayName;const O6=()=>{const{playerId:e}=S1(),{selectedSeason:t,selectedConference:n,currentSeasonConfig:s}=$n(),{toast:a}=dn(),[i,o]=h.useState("overview"),[l,c]=h.useState(null),[d,u]=h.useState(!0),[f,m]=h.useState(null),g=async()=>{if(!(!e||!s))try{u(!0),m(null),console.log("Fetching player detail for ID:",e);const x=await ae.getPlayers({filters:[{column:"sleeper_id",operator:"eq",value:e},{column:"playing_status",operator:"eq",value:"Active"},{column:"position",operator:"in",value:["QB","RB","WR","TE"]}]});if(x.error||!x.data||x.data.length===0)throw new Error("Player not found or not active");const p=x.data[0];console.log("Found player:",p);let y=s.conferences;n&&n!=="all"&&(y=s.conferences.filter(U=>U.id===n));const _=y.filter(U=>U.dbConferenceId).map(U=>U.dbConferenceId);if(_.length===0)throw new Error("No valid conference IDs found");const S=await ae.getTeamConferenceJunctions({filters:[{column:"conference_id",operator:"in",value:_}]});if(S.error||!S.data)throw new Error("Failed to fetch team mappings");const P=[...new Set(S.data.map(U=>U.team_id))],C=await ae.getTeams({filters:[{column:"id",operator:"in",value:P}]});if(C.error||!C.data)throw new Error("Failed to fetch teams");const T=await Promise.all(y.map(async U=>{try{if(!U.leagueId)return console.warn(`No league ID for conference ${U.name}`),{conference:U,rosters:[]};const z=await Qe.fetchLeagueRosters(U.leagueId);return{conference:U,rosters:z}}catch(z){return console.warn(`Failed to fetch rosters for conference ${U.name}:`,z),{conference:U,rosters:[]}}})),A=[];T.forEach(({conference:U,rosters:z})=>{z.forEach(k=>{var N,b;if(k.players&&k.players.includes(e)){const E=(N=S.data)==null?void 0:N.find(R=>R.conference_id===U.dbConferenceId&&R.roster_id===k.roster_id);if(E){const R=(b=C.data)==null?void 0:b.find(B=>B.id===E.team_id);R&&A.push({conference_id:U.dbConferenceId,conference_name:U.name,team_id:R.id,team_name:R.team_name,owner_name:R.owner_name,roster_id:k.roster_id,league_id:U.leagueId})}}})});const D=[],$=j(),I=[...new Set(A.map(U=>U.league_id))];for(const U of I){const z=A.find(k=>k.league_id===U);if(z)for(let k=1;k<=Math.min($,17);k++)try{const b=(await Qe.fetchMatchups(U,k)).find(E=>E.players&&E.players.includes(e));if(b&&b.players_points){const E=b.players_points[e]||0;D.push({week:k,points:E,league_id:U,conference_name:z.conference_name})}}catch(N){console.warn(`Failed to fetch matchup data for league ${U}, week ${k}:`,N)}}const M={totalPoints:D.reduce((U,z)=>U+z.points,0),gamesPlayed:D.length,bestGame:D.length>0?Math.max(...D.map(U=>U.points)):0,worstGame:D.length>0?Math.min(...D.map(U=>U.points)):0,avgPoints:0,consistency:0,weeklyPerformance:D};if(M.avgPoints=M.gamesPlayed>0?M.totalPoints/M.gamesPlayed:0,M.gamesPlayed>1){const U=M.avgPoints,z=D.reduce((b,E)=>b+Math.pow(E.points-U,2),0)/M.gamesPlayed,k=Math.sqrt(z),N=U>0?k/U:0;M.consistency=Math.max(0,100-N*100)}let F;A.length===0?F="free_agent":A.length===1?F="rostered":F="multi_rostered";const J={id:p.id,sleeper_id:p.sleeper_id,player_name:p.player_name,position:p.position,nfl_team:p.nfl_team||"FA",number:p.number||0,age:p.age||0,height:p.height||0,weight:p.weight||0,college:p.college||"Unknown",playing_status:p.playing_status||"Active",injury_status:p.injury_status,depth_chart:p.depth_chart||1,rostered_by:A,availability_status:F,season_stats:M};c(J),console.log("Loaded player detail:",J),a({title:"Player Loaded",description:`Found ${J.player_name} with ${M.gamesPlayed} games of data`})}catch(x){console.error("Error fetching player data:",x);const p=x instanceof Error?x.message:"Failed to fetch player data";m(p),a({title:"Error Loading Player",description:p,variant:"destructive"})}finally{u(!1)}};h.useEffect(()=>{e&&s&&g()},[e,t,n,s]);const j=()=>{const x=new Date,p=new Date(x.getFullYear(),8,1),y=Math.floor((x.getTime()-p.getTime())/(7*24*60*60*1e3));return Math.min(Math.max(y+1,1),17)},v=x=>{switch(x){case"QB":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"RB":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"WR":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"TE":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},w=x=>{if(!x||x==="Healthy")return null;const p={IR:"destructive",Out:"destructive",Doubtful:"destructive",Questionable:"secondary",Probable:"secondary",Q:"secondary",D:"destructive",O:"destructive"};return r.jsx(se,{variant:p[x]||"outline",children:x})};return d?r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsxs("div",{className:"text-center",children:[r.jsx(wt,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Loading player data..."})]})}):f?r.jsxs("div",{className:"space-y-6",children:[r.jsx(Mt,{to:"/players",children:r.jsxs(Z,{variant:"ghost",className:"mb-4",children:[r.jsx(Ul,{className:"mr-2 h-4 w-4"}),"Back to Players"]})}),r.jsxs(Le,{variant:"destructive",children:[r.jsx(Ve,{className:"h-4 w-4"}),r.jsx(Ie,{children:f})]}),r.jsx("div",{className:"text-center",children:r.jsxs(Z,{onClick:g,variant:"outline",children:[r.jsx(Je,{className:"mr-2 h-4 w-4"}),"Try Again"]})})]}):l?r.jsxs("div",{className:"space-y-6",children:[r.jsx(Mt,{to:"/players",children:r.jsxs(Z,{variant:"ghost",className:"mb-4",children:[r.jsx(Ul,{className:"mr-2 h-4 w-4"}),"Back to Players"]})}),r.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between space-y-4 md:space-y-0",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"h-16 w-16 bg-primary/10 rounded-full flex items-center justify-center",children:r.jsx(TD,{className:"h-8 w-8 text-primary"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:l.player_name}),r.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[r.jsx(se,{className:v(l.position),children:l.position}),r.jsxs(se,{variant:"outline",children:[l.nfl_team," #",l.number]}),w(l.injury_status)]}),r.jsxs("p",{className:"text-muted-foreground mt-1",children:[l.age," years old • ",l.height,'"", ',l.weight," lbs • ",l.college]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:l.season_stats.totalPoints.toFixed(1)}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Points"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:l.season_stats.avgPoints.toFixed(1)}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg/Game"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:l.season_stats.bestGame.toFixed(1)}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Best Game"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"text-2xl font-bold",children:[l.season_stats.consistency.toFixed(0),"%"]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Consistency"})]})]})]}),l.rostered_by.length>0&&r.jsx(Q,{children:r.jsx(ee,{className:"pt-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Currently rostered by:"}),l.rostered_by.map((x,p)=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("p",{className:"font-semibold",children:x.team_name}),r.jsx("span",{className:"text-muted-foreground",children:"•"}),r.jsx("p",{className:"text-muted-foreground",children:x.owner_name})]}),l.rostered_by.length>1&&r.jsx("p",{className:"text-sm text-blue-600",children:x.conference_name})]}),r.jsx(Mt,{to:`/teams/${x.team_id}`,children:r.jsx(Z,{variant:"outline",size:"sm",children:"View Team"})})]},p))]})})}),r.jsxs(Fr,{value:i,onValueChange:o,className:"w-full",children:[r.jsxs(mr,{className:"grid w-full grid-cols-3",children:[r.jsx(Oe,{value:"overview",children:"Overview"}),r.jsx(Oe,{value:"performance",children:"Performance"}),r.jsx(Oe,{value:"details",children:"Details"})]}),r.jsx(Fe,{value:"overview",className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs(Q,{children:[r.jsx(oe,{children:r.jsxs(le,{className:"flex items-center space-x-2",children:[r.jsx(xt,{className:"h-5 w-5"}),r.jsx("span",{children:"Season Summary"})]})}),r.jsxs(ee,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Fantasy Points"}),r.jsx("p",{className:"text-2xl font-bold",children:l.season_stats.totalPoints.toFixed(1)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Games Played"}),r.jsx("p",{className:"text-2xl font-bold",children:l.season_stats.gamesPlayed})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Best Game"}),r.jsx("p",{className:"text-2xl font-bold",children:l.season_stats.bestGame.toFixed(1)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Consistency"}),r.jsxs("p",{className:"text-2xl font-bold",children:[l.season_stats.consistency.toFixed(0),"%"]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:"Availability Status"}),r.jsx("span",{className:"capitalize",children:l.availability_status.replace("_"," ")})]}),r.jsx(tr,{value:l.availability_status==="multi_rostered"?100:l.availability_status==="rostered"?75:25,className:"h-2"})]})]})]}),r.jsxs(Q,{children:[r.jsx(oe,{children:r.jsx(le,{children:"Player Info"})}),r.jsx(ee,{className:"space-y-3",children:r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"Position"}),r.jsx("p",{className:"font-medium",children:l.position})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"NFL Team"}),r.jsx("p",{className:"font-medium",children:l.nfl_team})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"Number"}),r.jsxs("p",{className:"font-medium",children:["#",l.number]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"Depth Chart"}),r.jsx("p",{className:"font-medium",children:l.depth_chart})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"Height"}),r.jsxs("p",{className:"font-medium",children:[l.height,'""']})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"Weight"}),r.jsxs("p",{className:"font-medium",children:[l.weight," lbs"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"College"}),r.jsx("p",{className:"font-medium",children:l.college})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"Age"}),r.jsx("p",{className:"font-medium",children:l.age})]})]})})]})]})}),r.jsx(Fe,{value:"performance",className:"space-y-4",children:r.jsxs(Q,{children:[r.jsxs(oe,{children:[r.jsxs(le,{className:"flex items-center space-x-2",children:[r.jsx(Mo,{className:"h-5 w-5"}),r.jsx("span",{children:"Weekly Performance"})]}),r.jsx(_e,{children:"Fantasy points by week across all leagues"})]}),r.jsx(ee,{children:l.season_stats.weeklyPerformance.length>0?r.jsx("div",{className:"rounded-md border",children:r.jsxs(rn,{children:[r.jsx(an,{children:r.jsxs(ke,{children:[r.jsx(ie,{children:"Week"}),r.jsx(ie,{children:"Conference"}),r.jsx(ie,{className:"text-right",children:"Points"})]})}),r.jsx(on,{children:l.season_stats.weeklyPerformance.sort((x,p)=>p.week-x.week).slice(0,10).map((x,p)=>r.jsxs(ke,{children:[r.jsxs(ne,{className:"font-medium",children:["Week ",x.week]}),r.jsx(ne,{children:x.conference_name}),r.jsx(ne,{className:"text-right font-mono",children:x.points.toFixed(1)})]},p))})]})}):r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-muted-foreground",children:"No performance data available"})})})]})}),r.jsxs(Fe,{value:"details",className:"space-y-4",children:[r.jsxs(Q,{children:[r.jsxs(oe,{children:[r.jsx(le,{children:"Roster Information"}),r.jsx(_e,{children:"Current roster status across all conferences"})]}),r.jsx(ee,{children:l.rostered_by.length>0?r.jsx("div",{className:"space-y-4",children:l.rostered_by.map((x,p)=>r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"font-semibold",children:x.team_name}),r.jsx(se,{variant:"outline",children:x.conference_name})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"Owner"}),r.jsx("p",{className:"font-medium",children:x.owner_name})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"Roster ID"}),r.jsx("p",{className:"font-medium",children:x.roster_id})]})]})]},p))}):r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-muted-foreground",children:"Player is currently a free agent"})})})]}),l.injury_status&&r.jsxs(Q,{children:[r.jsx(oe,{children:r.jsxs(le,{className:"flex items-center space-x-2",children:[r.jsx(Ve,{className:"h-5 w-5 text-yellow-600"}),r.jsx("span",{children:"Injury Status"})]})}),r.jsx(ee,{children:r.jsxs("div",{className:"flex items-start space-x-3 p-4 border rounded-lg bg-yellow-50 dark:bg-yellow-900/20",children:[r.jsx(Ve,{className:"h-5 w-5 text-yellow-600 mt-0.5"}),r.jsxs("div",{children:[r.jsxs("h4",{className:"font-semibold text-yellow-800 dark:text-yellow-200",children:["Status: ",l.injury_status]}),r.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"Player is currently listed with an injury designation. Monitor status updates."})]})]})})]})]})]})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsx(Mt,{to:"/players",children:r.jsxs(Z,{variant:"ghost",className:"mb-4",children:[r.jsx(Ul,{className:"mr-2 h-4 w-4"}),"Back to Players"]})}),r.jsxs(Le,{children:[r.jsx(Ve,{className:"h-4 w-4"}),r.jsx(Ie,{children:"Player not found or not available in the current season configuration."})]})]})},F6=()=>{var S,P,C;const{toast:e}=dn(),{selectedConference:t,currentSeasonConfig:n,loading:s,error:a}=$n(),[i,o]=h.useState([]),[l,c]=h.useState([]),[d,u]=h.useState(!0),[f,m]=h.useState(null),[g,j]=h.useState({team:"all",player:"",type:"all",conference:"all"}),v=async()=>{if(!n){u(!1);return}try{u(!0),m(null);const T=t==="all"||t===null?n.conferences:n.conferences.filter(U=>U.id===t),A=T.filter(U=>U.dbConferenceId).map(U=>U.dbConferenceId);if(A.length===0){o([]),c([]);return}const D=await ae.getTransactions({filters:[{column:"conference_id",operator:"in",value:A}],orderBy:{column:"created_at",ascending:!1}});if(D.error||!D.data)throw new Error(D.error||"Failed to fetch transactions");const $=await ae.getTeams({}),I=await ae.getTeamConferenceJunctions({filters:[{column:"conference_id",operator:"in",value:A}]}),M=await ae.getAllPlayersForMapping([{column:"playing_status",operator:"eq",value:"Active"},{column:"position",operator:"in",value:["QB","RB","WR","TE"]}]),F=new Map;M.forEach(U=>{U.sleeper_id&&F.set(String(U.sleeper_id),U.player_name)});const J=await Promise.all(D.data.map(async U=>{let z={};try{z=typeof U.data=="string"?JSON.parse(U.data):U.data||{}}catch(O){console.warn("Failed to parse transaction data:",O)}const k=T.find(O=>O.dbConferenceId===U.conference_id),N=O=>{var V;const Y=(V=I.data)==null?void 0:V.find(K=>K.roster_id.toString()===O.toString()&&K.conference_id===U.conference_id);if(Y&&$.data){const K=$.data.find(te=>te.id===Y.team_id);return(K==null?void 0:K.team_name)||"Unknown Team"}return"Unknown Team"};let b="Unknown Team";z.roster_ids&&z.roster_ids.length>0&&(b=N(z.roster_ids[0]));const E=[],R=[],B=O=>{const Y=String(O);return F.get(Y)||`Player ${Y}`};if(z.adds)for(const[O,Y]of Object.entries(z.adds)){const V=B(O),K=N(Y);E.push({name:V,team:K})}if(z.drops)for(const[O,Y]of Object.entries(z.drops)){const V=B(O),K=N(Y);R.push({name:V,team:K})}let L="";const G=z.type||U.type,q=new Set;switch(z.roster_ids&&z.roster_ids.forEach(O=>{const Y=N(O);Y!=="Unknown Team"&&q.add(Y)}),G){case"trade":if(E.length>0||R.length>0){const O=[];E.forEach(Y=>O.push(`${Y.name} to ${Y.team}`)),R.forEach(Y=>O.push(`${Y.name} from ${Y.team}`)),q.size>1?L=`Trade between ${Array.from(q).join(" and ")}: ${O.join(", ")}`:L=`${b} trade: ${O.join(", ")}`}else z.draft_picks&&z.draft_picks.length>0?L=`Trade involving ${z.draft_picks.map(Y=>`${Y.season} Round ${Y.round} pick`).join(", ")}`:L=`Trade between ${Array.from(q).join(" and ")}`;break;case"waiver":E.length>0&&R.length>0?L=`${b} claimed ${E.map(O=>O.name).join(", ")} from waivers, dropped ${R.map(O=>O.name).join(", ")}`:E.length>0?L=`${b} claimed ${E.map(O=>O.name).join(", ")} from waivers`:R.length>0?L=`${b} dropped ${R.map(O=>O.name).join(", ")} to waivers`:L=`${b} made a waiver claim`;break;case"free_agent":E.length>0&&R.length>0?L=`${b} added ${E.map(O=>O.name).join(", ")}, dropped ${R.map(O=>O.name).join(", ")}`:E.length>0?L=`${b} added ${E.map(O=>O.name).join(", ")} from free agency`:R.length>0?L=`${b} dropped ${R.map(O=>O.name).join(", ")}`:L=`${b} made a free agent transaction`;break;default:L=`${b} completed a ${G||"transaction"}`}const H=z.type==="trade"?"trade":z.type==="waiver"?"waiver":z.type==="free_agent"?"free_agent":"commissioner";return{id:U.id.toString(),type:H,date:new Date(U.created_at||new Date),details:L,teams:[b],players:{added:E.map(O=>({id:"",name:O.name,team:O.team})),dropped:R.map(O=>({id:"",name:O.name,team:O.team}))},week:z.leg||0,status:"completed",rosterIds:z.roster_ids||[],draftPicks:z.draft_picks||[],waiverBudget:z.waiver_budget||[],conference:(k==null?void 0:k.name)||"Unknown Conference",conferenceId:U.conference_id.toString()}}));o(J),c(J)}catch(T){console.error("Error fetching transactions:",T),m("Failed to load transactions. Please try again."),e({title:"Error",description:"Failed to load transactions. Please try again.",variant:"destructive"})}finally{u(!1)}},w=()=>{let T=[...i];g.team&&g.team!=="all"&&(T=T.filter(A=>A.teams.some(D=>D.toLowerCase().includes(g.team.toLowerCase())))),g.player&&(T=T.filter(A=>{const D=A.players.added||[],$=A.players.dropped||[];return[...D,...$].some(I=>I.name.toLowerCase().includes(g.player.toLowerCase()))})),g.type&&g.type!=="all"&&(T=T.filter(A=>A.type===g.type)),g.conference&&g.conference!=="all"&&(T=T.filter(A=>A.conferenceId===g.conference)),c(T)},x=()=>{j({team:"all",player:"",type:"all",conference:"all"})},p=(T,A)=>{j(D=>({...D,[T]:A}))};h.useEffect(()=>{v()},[n,t]),h.useEffect(()=>{w()},[g,i]);const y=()=>{const T=new Set(i.map(A=>A.type));return Array.from(T).filter(A=>A&&A.trim()!=="")},_=()=>{const T=new Set;return i.forEach(A=>{A.teams.forEach(D=>{D&&D.trim()!==""&&T.add(D)})}),Array.from(T).sort()};return s?r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Transactions"}),r.jsx("p",{className:"text-muted-foreground",children:"All roster moves and trades across conferences"})]})}),r.jsx("div",{className:"grid gap-4",children:[...Array(5)].map((T,A)=>r.jsx(Q,{className:"animate-pulse",children:r.jsxs(ee,{className:"p-6",children:[r.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),r.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]})},A))})]}):a?r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Transactions"}),r.jsx("p",{className:"text-muted-foreground",children:"All roster moves and trades across conferences"})]})}),r.jsx(Le,{variant:"destructive",children:r.jsxs(Ie,{children:["App Error: ",a]})})]}):n?d?r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Transactions"}),r.jsx("p",{className:"text-muted-foreground",children:"All roster moves and trades across conferences"})]})}),r.jsx("div",{className:"grid gap-4",children:[...Array(5)].map((T,A)=>r.jsx(Q,{className:"animate-pulse",children:r.jsxs(ee,{className:"p-6",children:[r.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),r.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]})},A))})]}):f?r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Transactions"}),r.jsx("p",{className:"text-muted-foreground",children:"All roster moves and trades across conferences"})]})}),r.jsx(Le,{variant:"destructive",children:r.jsx(Ie,{children:f})}),r.jsxs(Z,{onClick:v,className:"w-full",children:[r.jsx(Je,{className:"mr-2 h-4 w-4"}),"Try Again"]})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Transactions"}),r.jsx("p",{className:"text-muted-foreground",children:"All roster moves and trades across conferences"})]}),r.jsxs(Z,{onClick:v,variant:"outline",size:"sm",children:[r.jsx(Je,{className:"mr-2 h-4 w-4"}),"Refresh"]})]}),r.jsxs(Q,{children:[r.jsxs(oe,{children:[r.jsxs(le,{className:"flex items-center space-x-2",children:[r.jsx(pN,{className:"h-5 w-5"}),r.jsx("span",{children:"Filters"})]}),r.jsx(_e,{children:"Filter transactions by team, player, type, or conference"})]}),r.jsxs(ee,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Team"}),r.jsxs(ht,{value:g.team,onValueChange:T=>p("team",T),children:[r.jsx(at,{children:r.jsx(mt,{placeholder:"All teams"})}),r.jsxs(it,{children:[r.jsx(Pe,{value:"all",children:"All teams"}),_().filter(T=>T&&T.trim()!=="").map(T=>r.jsx(Pe,{value:T,children:T},T))]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Player"}),r.jsxs("div",{className:"relative",children:[r.jsx(Ux,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(Rt,{placeholder:"Search players...",value:g.player,onChange:T=>p("player",T.target.value),className:"pl-10"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Type"}),r.jsxs(ht,{value:g.type,onValueChange:T=>p("type",T),children:[r.jsx(at,{children:r.jsx(mt,{placeholder:"All types"})}),r.jsxs(it,{children:[r.jsx(Pe,{value:"all",children:"All types"}),y().filter(T=>T&&T.trim()!=="").map(T=>r.jsx(Pe,{value:T,children:T==="trade"?"Trade":T==="free_agent"?"Free Agent":T==="waiver"?"Waiver":T==="commissioner"?"Commissioner":T},T))]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Conference"}),r.jsxs(ht,{value:g.conference,onValueChange:T=>p("conference",T),children:[r.jsx(at,{children:r.jsx(mt,{placeholder:"All conferences"})}),r.jsxs(it,{children:[r.jsx(Pe,{value:"all",children:"All conferences"}),(S=n==null?void 0:n.conferences)==null?void 0:S.filter(T=>{var D;const A=((D=T.dbConferenceId)==null?void 0:D.toString())||T.id;return A&&A.trim()!==""}).map(T=>{var D;const A=((D=T.dbConferenceId)==null?void 0:D.toString())||T.id;return r.jsx(Pe,{value:A,children:T.name},A)})]})]})]})]}),r.jsxs("div",{className:"flex items-center justify-between mt-4",children:[r.jsx("div",{className:"flex items-center space-x-2",children:(g.team!=="all"||g.player!==""||g.type!=="all"||g.conference!=="all")&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Active filters:"}),g.team!=="all"&&r.jsxs(se,{variant:"secondary",children:["Team: ",g.team]}),g.player!==""&&r.jsxs(se,{variant:"secondary",children:["Player: ",g.player]}),g.type!=="all"&&r.jsxs(se,{variant:"secondary",children:["Type: ",g.type]}),g.conference!=="all"&&r.jsxs(se,{variant:"secondary",children:["Conference: ",(C=(P=n==null?void 0:n.conferences)==null?void 0:P.filter(T=>{var D;const A=((D=T.dbConferenceId)==null?void 0:D.toString())||T.id;return A&&A.trim()!==""}).find(T=>{var A;return((A=T.dbConferenceId)==null?void 0:A.toString())===g.conference}))==null?void 0:C.name]})]})}),(g.team!=="all"||g.player!==""||g.type!=="all"||g.conference!=="all")&&r.jsx(Z,{variant:"outline",size:"sm",onClick:x,children:"Reset Filters"})]})]})]}),r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Do,{className:"h-5 w-5 text-primary"}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:["Showing ",l.length," of ",i.length," transactions"]})]})}),r.jsx("div",{className:"space-y-4",children:l.length>0?l.map((T,A)=>r.jsx(ZC,{transaction:T},A)):r.jsx(Q,{children:r.jsxs(ee,{className:"p-12 text-center",children:[r.jsx(Do,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No transactions found"}),r.jsx("p",{className:"text-muted-foreground",children:g.team!=="all"||g.player!==""||g.type!=="all"||g.conference!=="all"?"No transactions match your current filters. Try adjusting your search criteria.":"No transactions available at this time."}),(g.team!=="all"||g.player!==""||g.type!=="all"||g.conference!=="all")&&r.jsx(Z,{variant:"outline",onClick:x,className:"mt-4",children:"Clear Filters"})]})})})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Transactions"}),r.jsx("p",{className:"text-muted-foreground",children:"All roster moves and trades across conferences"})]})}),r.jsx("div",{className:"grid gap-4",children:[...Array(5)].map((T,A)=>r.jsx(Q,{className:"animate-pulse",children:r.jsxs(ee,{className:"p-6",children:[r.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),r.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]})},A))})]})},B6=()=>{var z;const{selectedSeason:e,selectedConference:t}=$n(),{toast:n}=dn(),[s,a]=h.useState(1),[i,o]=h.useState("board"),[l,c]=h.useState(!0),[d,u]=h.useState([]),[f,m]=h.useState([]),[g,j]=h.useState([]),[v,w]=h.useState({}),[x,p]=h.useState([]),[y,_]=h.useState(!1),[S,P]=h.useState(new Set);h.useEffect(()=>{C()},[]),h.useEffect(()=>{e&&g.length>0&&f.length>0&&x.length>0&&Object.keys(v).length>0&&T()},[e,t,g,f,x,v]);const C=async()=>{c(!0);try{const k=await ae.getSeasons({orderBy:{column:"season_year",ascending:!1},limit:50});if(k.error)throw k.error;j(k.data||[]);const N=await ae.getConferences({orderBy:{column:"conference_name",ascending:!0},limit:50});if(N.error)throw N.error;m(N.data||[]);const b=await ae.getTeams({orderBy:{column:"team_name",ascending:!0},limit:100});if(b.error)throw b.error;p(b.data||[]);try{const E=await ae.getAllPlayersForMapping(),R={};E.forEach(B=>{B.sleeper_id&&(R[B.sleeper_id]=B)}),w(R),console.log(`📊 Loaded ${Object.keys(R).length} players from database (${E.length} total players)`)}catch(E){console.warn("Could not load players data from database:",E),w({})}}catch(k){console.error("Error loading initial data:",k),n({title:"Error",description:`Failed to load initial data: ${k}`,variant:"destructive"})}finally{c(!1)}},T=async()=>{var k;if(!e){console.log("⚠️ No selectedSeason, skipping draft data load");return}if(g.length===0){console.log("⚠️ Seasons not loaded yet, skipping draft data load");return}if(f.length===0){console.log("⚠️ Conferences not loaded yet, skipping draft data load");return}if(x.length===0){console.log("⚠️ Teams not loaded yet, skipping draft data load");return}if(Object.keys(v).length===0){console.log("⚠️ Players not loaded yet, skipping draft data load");return}_(!0);try{if(console.log(`🎯 Loading draft data for season ${e}, conference: ${t||"all"}`),console.log(`📊 Available data: seasons=${g.length}, conferences=${f.length}, teams=${x.length}, players=${Object.keys(v).length}`),!g.find(L=>L.season_year===e.toString())){console.warn(`⚠️ Season ${e} not found in database`),console.log("Available seasons:",g.map(L=>L.season_year)),u([]);return}const b=[{column:"draft_year",operator:"eq",value:e.toString()}];console.log("🔍 Draft query filters:",b);const E=await ae.getDraftResults({filters:b,orderBy:{column:"pick_number",ascending:!0},limit:1e3});if(E.error)throw E.error;console.log(`🎲 Loaded ${((k=E.data)==null?void 0:k.length)||0} draft picks`);const R=E.data||[],B=R.map(L=>{const G=f.find(O=>O.league_id===L.league_id),q=v[L.sleeper_id],H=x.find(O=>O.owner_id===L.owner_id);return R.indexOf(L)<3&&console.log(`🔍 Processing pick ${L.pick_number}:`,{sleeper_id:L.sleeper_id,player_found:!!q,player_name:q==null?void 0:q.player_name,conference_found:!!G,team_found:!!H}),{...L,conference_name:(G==null?void 0:G.conference_name)||"Unknown Conference",player_name:(q==null?void 0:q.player_name)||"Unknown Player",position:(q==null?void 0:q.position)||"UNK",nfl_team:(q==null?void 0:q.nfl_team)||"UNK",owner_name:(H==null?void 0:H.owner_name)||"Unknown Owner",team_name:(H==null?void 0:H.team_name)||"Unknown Team",conference_id:G==null?void 0:G.id,team_id:H==null?void 0:H.id,player_id:L.sleeper_id}});console.log(`✅ Processed ${B.length} draft picks`),console.log("First few picks:",B.slice(0,3)),u(B)}catch(N){console.error("Error loading draft data:",N),n({title:"Error",description:`Failed to load draft data: ${N}`,variant:"destructive"}),u([])}finally{_(!1)}},A=k=>{const N=new Set(S);N.has(k)?N.delete(k):N.add(k),P(N)},D=()=>{if(!t){const R=g.find(L=>L.season_year===e.toString());if(!R)return console.log("⚠️ Season not found for getConferencesToShow"),[];const B=f.filter(L=>L.season_id===R.id);return console.log(`📋 Showing ${B.length} conferences for season ${e}`),B}const N={thelegionsofmars:"The Legions of Mars",theguardiansofjupiter:"The Guardians of Jupiter",vulcansoathsworn:"Vulcan's Oathsworn"}[t];if(!N)return console.log(`⚠️ Unknown conference ID: ${t}`),[];const b=g.find(R=>R.season_year===e.toString());if(!b)return console.log("⚠️ Season not found for specific conference"),[];const E=f.find(R=>R.season_id===b.id&&R.conference_name===N);return console.log(`📋 Selected conference: ${N}, found: ${E?"yes":"no"}`),E?[E]:[]},$=k=>{switch(k){case"QB":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"RB":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"WR":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"TE":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"K":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200";case"DEF":return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},I=k=>{let b=d.filter(E=>E.conference_id===k.id).filter(E=>parseInt(E.round)===s);return b.sort((E,R)=>parseInt(E.draft_slot)-parseInt(R.draft_slot)),r.jsxs(Q,{children:[r.jsxs(oe,{children:[r.jsxs(le,{className:"flex items-center space-x-2",children:[r.jsx(xc,{className:"h-5 w-5"}),r.jsx("span",{children:k.conference_name})]}),r.jsxs(_e,{children:["Round ",s," • ",b.length," picks"]})]}),r.jsx(ee,{children:r.jsx("div",{className:"rounded-md border",children:r.jsxs(rn,{children:[r.jsx(an,{children:r.jsxs(ke,{children:[r.jsx(ie,{className:"w-16",children:"Pick"}),r.jsx(ie,{className:"w-16",children:"Overall"}),r.jsx(ie,{children:"Player"}),r.jsx(ie,{children:"Position"}),r.jsx(ie,{className:"hidden sm:table-cell",children:"NFL Team"}),r.jsx(ie,{children:"Drafted By"})]})}),r.jsx(on,{children:b.length>0?b.map(E=>r.jsxs(ke,{children:[r.jsx(ne,{className:"font-medium",children:E.draft_slot}),r.jsx(ne,{className:"font-medium",children:E.pick_number}),r.jsx(ne,{className:"font-semibold",children:E.player_name}),r.jsx(ne,{children:r.jsx(se,{className:$(E.position),children:E.position})}),r.jsx(ne,{className:"hidden sm:table-cell",children:E.nfl_team}),r.jsx(ne,{children:r.jsxs("div",{className:"text-sm",children:[r.jsx("div",{className:"font-medium",children:E.team_name}),r.jsx("div",{className:"text-muted-foreground",children:E.owner_name})]})})]},`${k.id}-${E.pick_number}`)):r.jsx(ke,{children:r.jsxs(ne,{colSpan:6,className:"text-center text-muted-foreground py-8",children:["No picks found for round ",s]})})})]})})})]},k.id)},M=()=>{const k=D();return r.jsx("div",{className:"space-y-6",children:k.map(N=>{const b=d.filter(B=>B.conference_id===N.id),E=new Map;b.forEach(B=>{const L=B.team_id;E.has(L)||E.set(L,{team_id:B.team_id,owner_name:B.owner_name,team_name:B.team_name,picks:[]}),E.get(L).picks.push(B)}),E.forEach(B=>{B.picks.sort((L,G)=>{const q=parseInt(L.round),H=parseInt(G.round);return q!==H?q-H:parseInt(L.draft_slot)-parseInt(G.draft_slot)})});const R=Array.from(E.values());return r.jsxs(Q,{children:[r.jsx(oe,{children:r.jsxs(le,{className:"flex items-center space-x-2",children:[r.jsx(Vt,{className:"h-5 w-5"}),r.jsxs("span",{children:[N.conference_name," - Team Draft Summary"]})]})}),r.jsxs(ee,{children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:R.map(B=>{const L=S.has(B.team_id),G=L?B.picks:B.picks.slice(0,8);return r.jsxs(Q,{children:[r.jsxs(oe,{className:"pb-2",children:[r.jsx(le,{className:"text-lg",children:B.team_name}),r.jsxs(_e,{children:[B.owner_name," • ",B.picks.length," picks"]})]}),r.jsx(ee,{children:r.jsxs("div",{className:"space-y-2",children:[G.map(q=>r.jsxs("div",{className:"flex items-center justify-between p-2 rounded-md bg-accent/50",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(se,{variant:"outline",className:"text-xs",children:["R",q.round]}),r.jsx("span",{className:"font-medium text-sm",children:q.player_name}),r.jsx(se,{className:`${$(q.position)} text-xs`,children:q.position})]}),r.jsxs("span",{className:"text-xs text-muted-foreground",children:["#",q.pick_number]})]},q.pick_number)),B.picks.length>8&&r.jsx("div",{className:"flex justify-center pt-2",children:r.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>A(B.team_id),className:"text-xs",children:L?r.jsxs(r.Fragment,{children:[r.jsx(Bx,{className:"h-3 w-3 mr-1"}),"Show Less"]}):r.jsxs(r.Fragment,{children:[r.jsx(Pf,{className:"h-3 w-3 mr-1"}),"Show All ",B.picks.length," Picks"]})})})]})})]},B.team_id)})}),R.length===0&&r.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[r.jsx(Ve,{className:"h-8 w-8 mx-auto mb-2"}),r.jsx("p",{children:"No draft picks found for this conference"}),r.jsx("p",{className:"text-sm",children:"Try syncing draft data from the Admin panel"})]})]})]},N.id)})})};if(l)return r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsx("div",{className:"animate-spin h-8 w-8 border-b-2 border-blue-600 rounded-full"})});console.log("🔍 Render debug:",{selectedSeason:e,selectedConference:t,draftPicksCount:d.length,seasonsCount:g.length,conferencesCount:f.length,teamsCount:x.length});const F=D();console.log("📋 Conferences to show:",F.length);const J=F.reduce((k,N)=>{const b=new Set(d.filter(E=>E.conference_id===N.id).map(E=>E.team_id));return k+b.size},0),U=Math.max(...d.map(k=>parseInt(k.round)),1);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(au,{className:"h-6 w-6 text-primary"}),r.jsx("h1",{className:"text-3xl font-bold",children:"Draft Results"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("p",{className:"text-muted-foreground",children:[e," Season • ",t?((z=F[0])==null?void 0:z.conference_name)||"Conference":"All Conferences"]}),r.jsxs(Z,{variant:"outline",size:"sm",onClick:T,disabled:y,children:[y?r.jsx(Je,{className:"h-4 w-4 mr-2 animate-spin"}):r.jsx(Je,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(Q,{children:r.jsxs(oe,{className:"pb-2",children:[r.jsx(_e,{children:"Total Conferences"}),r.jsx(le,{className:"text-2xl",children:F.length})]})}),r.jsx(Q,{children:r.jsxs(oe,{className:"pb-2",children:[r.jsx(_e,{children:"Total Teams"}),r.jsx(le,{className:"text-2xl",children:J})]})}),r.jsx(Q,{children:r.jsxs(oe,{className:"pb-2",children:[r.jsx(_e,{children:"Total Picks"}),r.jsx(le,{className:"text-2xl",children:d.length})]})}),r.jsx(Q,{children:r.jsxs(oe,{className:"pb-2",children:[r.jsx(_e,{children:"Max Rounds"}),r.jsx(le,{className:"text-2xl",children:U})]})})]}),d.length===0?r.jsx(Q,{children:r.jsxs(ee,{className:"flex flex-col items-center justify-center py-12",children:[r.jsx(Ve,{className:"h-12 w-12 text-muted-foreground mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Draft Results Found"}),r.jsxs("p",{className:"text-muted-foreground text-center mb-4",children:["No draft picks found for the ",e," season",t?` in ${t}`:"","."]}),r.jsxs("div",{className:"text-sm text-muted-foreground text-center space-y-2",children:[r.jsx("p",{children:"Try:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[r.jsx("li",{children:"Selecting a different season from the dropdown above"}),r.jsx("li",{children:'Choosing "All Conferences" if you have a conference selected'}),r.jsx("li",{children:"Syncing draft data from Admin → Data Sync → Draft Sync"})]})]})]})}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:r.jsx("div",{className:"flex items-center space-x-4",children:r.jsxs(ht,{value:s.toString(),onValueChange:k=>a(parseInt(k)),children:[r.jsx(at,{className:"w-32",children:r.jsx(mt,{})}),r.jsx(it,{children:Array.from({length:U},(k,N)=>r.jsxs(Pe,{value:(N+1).toString(),children:["Round ",N+1]},N+1))})]})})}),r.jsxs(Fr,{value:i,onValueChange:k=>o(k),className:"w-full",children:[r.jsxs(mr,{children:[r.jsx(Oe,{value:"board",children:"Draft Board"}),r.jsx(Oe,{value:"team",children:"Team View"})]}),r.jsx(Fe,{value:"board",className:"space-y-6",children:F.map(k=>I(k))}),r.jsx(Fe,{value:"team",className:"space-y-6",children:M()})]}),r.jsxs(Q,{children:[r.jsxs(oe,{children:[r.jsxs(le,{className:"flex items-center space-x-2",children:[r.jsx(xt,{className:"h-5 w-5"}),r.jsx("span",{children:"Draft Analysis"})]}),r.jsx(_e,{children:"Draft insights and position trends"})]}),r.jsx(ee,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold text-green-600",children:d.filter(k=>k.position==="RB").length}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Running Backs Drafted"})]}),r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold",children:d.filter(k=>k.position==="QB").length}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Quarterbacks Drafted"})]}),r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold",children:d.filter(k=>k.position==="WR").length}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Wide Receivers Drafted"})]})]})})]})]})]})},U6={pass_yd:{category:"passing",key:"passingYards",description:"passing yards",per:25},pass_td:{category:"passing",key:"passingTDs",description:"passing touchdown",per:1},pass_int:{category:"passing",key:"interceptions",description:"interception",per:1},pass_2pt:{category:"passing",key:"passing2pt",description:"2-point conversion",per:1},rush_yd:{category:"rushing",key:"rushingYards",description:"rushing yards",per:10},rush_td:{category:"rushing",key:"rushingTDs",description:"rushing touchdown",per:1},rush_2pt:{category:"rushing",key:"rushing2pt",description:"2-point conversion",per:1},rec_yd:{category:"receiving",key:"receivingYards",description:"receiving yards",per:10},rec:{category:"receiving",key:"receptions",description:"reception (PPR)",per:1},rec_td:{category:"receiving",key:"receivingTDs",description:"receiving touchdown",per:1},rec_2pt:{category:"receiving",key:"receiving2pt",description:"2-point conversion",per:1}},V6=()=>{const{selectedSeason:e}=$n(),[t,n]=h.useState(null),[s,a]=h.useState(!0),[i,o]=h.useState(null),l=d=>{const u={passing:{},rushing:{},receiving:{}};return Object.entries(d).forEach(([f,m])=>{const g=U6[f];g&&(u[g.category][g.key]={points:m,per:g.per,description:`${m>0?"+":""}${m} point${Math.abs(m)!==1?"s":""} per ${g.description}`})}),u},c=async()=>{if(!e){o("No season selected"),a(!1);return}try{a(!0),o(null);const{data:d}=await ae.getSeasons({filters:[{column:"season_year",operator:"eq",value:e}]});if(!d||d.length===0){o("Season not found"),a(!1);return}const u=d[0];if(u.scoring_settings){const f=l(u.scoring_settings);n(f)}else{if(console.log("Scoring settings not found, fetching from Sleeper API..."),!(await ae.updateSeasonScoringSettings(u.id)).success){o("Failed to fetch scoring settings from Sleeper API"),a(!1);return}const{data:m}=await ae.getSeasons({filters:[{column:"season_year",operator:"eq",value:e}]});if(m&&m.length>0&&m[0].scoring_settings){const g=l(m[0].scoring_settings);n(g)}else o("Failed to update scoring settings")}}catch(d){console.error("Error fetching scoring settings:",d),o("Failed to load scoring settings")}finally{a(!1)}};return h.useEffect(()=>{c()},[e]),{scoringSettings:t,loading:s,error:i,refetch:c}},_m={positions:{QB:1,RB:2,WR:2,TE:1,FLEX:1,SUPER_FLEX:1,DEF:1,BENCH:6},totalRosterSize:15,startingLineupSize:9,benchSize:6},z6=()=>{const{selectedSeason:e}=$n(),[t,n]=h.useState(null),[s,a]=h.useState(!0),[i,o]=h.useState(null),l=d=>{const u={};d.forEach(j=>{u[j]=(u[j]||0)+1});const f=d.length,m=15,g=m-f;return g>0&&(u.BENCH=g),{positions:u,totalRosterSize:m,startingLineupSize:f,benchSize:g}},c=async()=>{if(!e){o("No season selected"),a(!1);return}try{a(!0),o(null);const{data:d}=await ae.getSeasons({filters:[{column:"season_year",operator:"eq",value:e}]});if(!d||d.length===0){o("Season not found"),a(!1);return}const u=d[0];if(u.roster_positions){const f=l(u.roster_positions);n(f)}else{if(console.log("Roster positions not found, fetching from Sleeper API..."),!(await ae.updateSeasonRosterPositions(u.id)).success){console.warn("Failed to fetch roster positions from Sleeper API, using defaults"),n(_m),a(!1);return}const{data:m}=await ae.getSeasons({filters:[{column:"season_year",operator:"eq",value:e}]});if(m&&m.length>0&&m[0].roster_positions){const g=l(m[0].roster_positions);n(g)}else n(_m)}}catch(d){console.error("Error fetching roster settings:",d),o("Failed to load roster settings"),n(_m)}finally{a(!1)}};return h.useEffect(()=>{c()},[e]),{rosterSettings:t,loading:s,error:i,refetch:c}},bm={id:0,season_id:0,playoff_teams:10,week_14_byes:6,reseed:!0,playoff_start_week:14,championship_week:17,is_active:!0},W6=()=>{const{selectedSeason:e}=$n(),[t,n]=h.useState(null),[s,a]=h.useState(!0),[i,o]=h.useState(null),l=async()=>{if(!e){o("No season selected"),a(!1);return}try{a(!0),o(null);const{data:c}=await ae.getSeasons({filters:[{column:"season_year",operator:"eq",value:e}]});if(!c||c.length===0){o("Season not found"),n(bm),a(!1);return}const d=c[0],{data:u}=await ae.getPlayoffFormats({filters:[{column:"season_id",operator:"eq",value:d.id},{column:"is_active",operator:"eq",value:!0}]});u&&u.length>0?n(u[0]):(console.warn("No playoff format found for season, using defaults"),n(bm))}catch(c){console.error("Error fetching playoff format:",c),o("Failed to load playoff format"),n(bm)}finally{a(!1)}};return h.useEffect(()=>{l()},[e]),{playoffFormat:t,loading:s,error:i,refetch:l}};class cu{static async initializeBucket(){try{const{data:t}=await Tn.storage.listBuckets();if(!(t==null?void 0:t.some(s=>s.name===this.BUCKET_NAME))){const{error:s}=await Tn.storage.createBucket(this.BUCKET_NAME,{public:!0,allowedMimeTypes:this.ALLOWED_FILE_TYPES,fileSizeLimit:this.MAX_FILE_SIZE});if(s)throw console.error("Error creating charter bucket:",s),s}}catch(t){throw console.error("Error initializing charter bucket:",t),t}}static async uploadCharter(t,n,s){try{const a=this.validateFile(n);if(!a.valid)return{success:!1,error:a.error};await this.initializeBucket();const i=n.name.split(".").pop(),l=`charters/${`charter-season-${t}-${Date.now()}.${i}`}`,{data:c,error:d}=await Tn.storage.from(this.BUCKET_NAME).upload(l,n,{cacheControl:"3600",upsert:!0});if(d)return console.error("Error uploading charter:",d),{success:!1,error:"Failed to upload file"};const{data:u}=Tn.storage.from(this.BUCKET_NAME).getPublicUrl(l);if(!u.publicUrl)return{success:!1,error:"Failed to get file URL"};const{error:f}=await ae.updateSeason(t,{charter_file_url:u.publicUrl,charter_file_name:n.name,charter_uploaded_at:new Date().toISOString(),charter_uploaded_by:s});return f?(console.error("Error updating season with charter info:",f),await this.deleteCharterFile(l),{success:!1,error:"Failed to save charter information"}):{success:!0,fileUrl:u.publicUrl,fileName:n.name}}catch(a){return console.error("Error in uploadCharter:",a),{success:!1,error:"Unexpected error during upload"}}}static async getCharterInfo(t){try{const{data:n}=await ae.getSeasons({filters:[{column:"id",operator:"eq",value:t}]});if(!n||n.length===0)return null;const s=n[0];return!s.charter_file_url||!s.charter_file_name?null:{fileUrl:s.charter_file_url,fileName:s.charter_file_name,uploadedAt:s.charter_uploaded_at||"",uploadedBy:s.charter_uploaded_by||""}}catch(n){return console.error("Error getting charter info:",n),null}}static async deleteCharter(t){try{const n=await this.getCharterInfo(t);if(!n)return{success:!1,error:"No charter found for this season"};const a=new URL(n.fileUrl).pathname.split("/").slice(-2).join("/"),{error:i}=await Tn.storage.from(this.BUCKET_NAME).remove([a]);i&&console.error("Error deleting charter file:",i);const{error:o}=await ae.updateSeason(t,{charter_file_url:null,charter_file_name:null,charter_uploaded_at:null,charter_uploaded_by:null});return o?(console.error("Error updating season after charter deletion:",o),{success:!1,error:"Failed to update season record"}):{success:!0}}catch(n){return console.error("Error in deleteCharter:",n),{success:!1,error:"Unexpected error during deletion"}}}static validateFile(t){return t.size>this.MAX_FILE_SIZE?{valid:!1,error:"File size must be less than 10MB"}:this.ALLOWED_FILE_TYPES.includes(t.type)?{valid:!0}:{valid:!1,error:"File must be PDF, Word document, or text file"}}static async deleteCharterFile(t){try{await Tn.storage.from(this.BUCKET_NAME).remove([t])}catch(n){console.error("Error deleting charter file:",n)}}static getFileIcon(t){var s;switch((s=t.split(".").pop())==null?void 0:s.toLowerCase()){case"pdf":return"📄";case"doc":case"docx":return"📝";case"txt":return"📃";default:return"📄"}}}ds(cu,"BUCKET_NAME","league-documents"),ds(cu,"ALLOWED_FILE_TYPES",["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain"]),ds(cu,"MAX_FILE_SIZE",10*1024*1024);const H6=()=>{const{selectedSeason:e}=$n(),[t,n]=h.useState(null),[s,a]=h.useState(!0),[i,o]=h.useState(null),l=async()=>{if(!e){o("No season selected"),a(!1);return}try{a(!0),o(null);const{data:c}=await ae.getSeasons({filters:[{column:"season_year",operator:"eq",value:e}]});if(!c||c.length===0){o("Season not found"),a(!1);return}const d=c[0],u=await cu.getCharterInfo(d.id);n(u)}catch(c){console.error("Error fetching charter info:",c),o("Failed to load charter information"),n(null)}finally{a(!1)}};return h.useEffect(()=>{l()},[e]),{charterInfo:t,loading:s,error:i,refetch:l,hasCharter:!!t}},q6=({fileUrl:e,fileName:t,className:n=""})=>{const[s,a]=h.useState(!1),[i,o]=h.useState(!0),[l,c]=h.useState(null),[d,u]=h.useState("iframe"),[f,m]=h.useState(!0),g=()=>{const p=navigator.mimeTypes&&navigator.mimeTypes["application/pdf"],y=/Chrome/.test(navigator.userAgent),_=/Firefox/.test(navigator.userAgent),S=/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent);return p||y||_||S},j=()=>{m(!1),c(null)},v=()=>{m(!1),c("Failed to load PDF in iframe. Trying alternative method..."),d==="iframe"?u("embed"):d==="embed"&&u("object")},w=()=>{c(null),m(!0),u("iframe")},x=()=>{const p={width:"100%",height:"100%",title:t,onLoad:j,onError:v},y=`${e}#toolbar=1&navpanes=1&scrollbar=1&view=FitH`;switch(d){case"iframe":return r.jsx("iframe",{src:y,className:"border-0 w-full h-full",...p});case"embed":return r.jsx("embed",{src:y,type:"application/pdf",className:"w-full h-full",...p});case"object":return r.jsx("object",{data:y,type:"application/pdf",className:"w-full h-full",...p,children:r.jsxs("p",{children:["Your browser doesn't support PDF viewing.",r.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"text-primary underline ml-1",children:"Click here to download the PDF"})]})});default:return null}};return i?r.jsxs("div",{className:`space-y-4 ${n}`,children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(se,{variant:"secondary",children:"PDF Viewer"}),!g()&&r.jsx(se,{variant:"destructive",children:"Limited Browser Support"})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(Z,{variant:"outline",size:"sm",onClick:w,disabled:f,children:[r.jsx(Je,{className:`h-4 w-4 mr-1 ${f?"animate-spin":""}`}),"Reload"]}),r.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>o(!1),children:[r.jsx(Vl,{className:"h-4 w-4 mr-1"}),"Hide"]}),r.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>a(!s),children:[s?r.jsx(Bp,{className:"h-4 w-4 mr-1"}):r.jsx(Fp,{className:"h-4 w-4 mr-1"}),s?"Minimize":"Expand"]}),r.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>window.open(e,"_blank"),children:[r.jsx(qc,{className:"h-4 w-4 mr-1"}),"New Tab"]}),r.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>{const p=document.createElement("a");p.href=e,p.download=t,document.body.appendChild(p),p.click(),document.body.removeChild(p)},children:[r.jsx(hN,{className:"h-4 w-4 mr-1"}),"Download"]})]})]}),r.jsxs("div",{className:`border rounded-lg overflow-hidden bg-gray-100 dark:bg-gray-800 relative ${s?"fixed inset-4 z-50 bg-white dark:bg-gray-900":"h-96 md:h-[600px]"}`,children:[f&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white dark:bg-gray-900 z-10",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading PDF..."})]})}),l?r.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white dark:bg-gray-900 z-10",children:r.jsxs(Le,{variant:"destructive",className:"max-w-md",children:[r.jsx(Ve,{className:"h-4 w-4"}),r.jsxs(Ie,{children:[l,r.jsxs("div",{className:"mt-2 space-x-2",children:[r.jsx(Z,{size:"sm",variant:"outline",onClick:w,children:"Try Again"}),r.jsx(Z,{size:"sm",variant:"outline",onClick:()=>window.open(e,"_blank"),children:"Open in New Tab"})]})]})]})}):x()]}),!g()&&r.jsxs(Le,{children:[r.jsx(Ve,{className:"h-4 w-4"}),r.jsx(Ie,{children:"Your browser may have limited PDF viewing support. For the best experience, try opening the PDF in a new tab or downloading it."})]}),r.jsxs(Le,{children:[r.jsx(Ve,{className:"h-4 w-4"}),r.jsxs(Ie,{children:[r.jsx("strong",{children:"Tips:"}),` Use the expand button for full-screen viewing. If the PDF doesn't load properly, try the "New Tab" or "Download" options.`]})]})]}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Vl,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"PDF viewer hidden"}),r.jsxs(Z,{variant:"outline",onClick:()=>o(!0),className:"mt-2",children:[r.jsx(mN,{className:"h-4 w-4 mr-2"}),"Show PDF"]})]})},K6=({fileUrl:e,fileName:t,uploadedAt:n})=>{const[s,a]=h.useState(!1),[i,o]=h.useState(!0),[l,c]=h.useState(null),d=w=>{var x;return((x=w.split(".").pop())==null?void 0:x.toLowerCase())||""},u=w=>{switch(d(w)){case"pdf":return"PDF Document";case"doc":case"docx":return"Word Document";case"txt":return"Text Document";default:return"Document"}},f=()=>{const w=d(t);if(!i)return r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Vl,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Document viewer hidden"}),r.jsxs(Z,{variant:"outline",onClick:()=>o(!0),className:"mt-2",children:[r.jsx(mN,{className:"h-4 w-4 mr-2"}),"Show Document"]})]});switch(w){case"pdf":return m();case"doc":case"docx":return g();case"txt":return j();default:return v()}},m=()=>r.jsx(q6,{fileUrl:e,fileName:t}),g=()=>r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(se,{variant:"secondary",children:"Document Viewer"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>o(!1),children:[r.jsx(Vl,{className:"h-4 w-4 mr-1"}),"Hide"]}),r.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>a(!s),children:[s?r.jsx(Bp,{className:"h-4 w-4 mr-1"}):r.jsx(Fp,{className:"h-4 w-4 mr-1"}),s?"Minimize":"Expand"]})]})]}),r.jsx("div",{className:`border rounded-lg overflow-hidden ${s?"h-screen":"h-96"}`,children:r.jsx("iframe",{src:`https://docs.google.com/viewer?url=${encodeURIComponent(e)}&embedded=true`,width:"100%",height:"100%",title:t,className:"border-0",onError:()=>c("Failed to load document. Please try downloading the file.")})}),r.jsxs(Le,{children:[r.jsx(Ve,{className:"h-4 w-4"}),r.jsx(Ie,{children:"Word documents are displayed using Google Docs Viewer. For best experience, consider uploading as PDF."})]})]}),j=()=>{const[w,x]=h.useState(""),[p,y]=h.useState(!0);return Me.useEffect(()=>{fetch(e).then(_=>_.text()).then(_=>{x(_),y(!1)}).catch(_=>{console.error("Error loading text file:",_),c("Failed to load text file content."),y(!1)})},[e]),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(se,{variant:"secondary",children:"Text Viewer"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>o(!1),children:[r.jsx(Vl,{className:"h-4 w-4 mr-1"}),"Hide"]}),r.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>a(!s),children:[s?r.jsx(Bp,{className:"h-4 w-4 mr-1"}):r.jsx(Fp,{className:"h-4 w-4 mr-1"}),s?"Minimize":"Expand"]})]})]}),r.jsx("div",{className:`border rounded-lg p-4 bg-gray-50 dark:bg-gray-900 overflow-auto ${s?"h-screen":"h-96"}`,children:p?r.jsx("div",{className:"flex items-center justify-center h-full",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):r.jsx("pre",{className:"whitespace-pre-wrap text-sm font-mono",children:w})})]})},v=()=>r.jsxs(Le,{children:[r.jsx(Ve,{className:"h-4 w-4"}),r.jsx(jr,{children:"Preview Not Available"}),r.jsx(Ie,{children:"This file type cannot be previewed in the browser. Please download the file to view its contents."})]});return r.jsxs(Q,{children:[r.jsx(oe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(gc,{className:"h-6 w-6 text-primary"}),r.jsxs("div",{children:[r.jsx(le,{className:"text-lg",children:t}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[u(t)," • Last updated: ",new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>window.open(e,"_blank"),children:[r.jsx(qc,{className:"h-4 w-4 mr-1"}),"Open in New Tab"]}),r.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>{const w=document.createElement("a");w.href=e,w.download=t,document.body.appendChild(w),w.click(),document.body.removeChild(w)},children:[r.jsx(hN,{className:"h-4 w-4 mr-1"}),"Download"]})]})]})}),r.jsx(ee,{children:l?r.jsxs(Le,{variant:"destructive",children:[r.jsx(Ve,{className:"h-4 w-4"}),r.jsx(jr,{children:"Viewer Error"}),r.jsx(Ie,{children:l})]}):f()})]})},za={scoring:{passing:{passingYards:{points:1,per:25,description:"1 point per 25 passing yards"},passingTDs:{points:4,per:1,description:"4 points per passing touchdown"},interceptions:{points:-2,per:1,description:"-2 points per interception"},passing2pt:{points:2,per:1,description:"2 points per 2-point conversion"}},rushing:{rushingYards:{points:1,per:10,description:"1 point per 10 rushing yards"},rushingTDs:{points:6,per:1,description:"6 points per rushing touchdown"},rushing2pt:{points:2,per:1,description:"2 points per 2-point conversion"}},receiving:{receivingYards:{points:1,per:10,description:"1 point per 10 receiving yards"},receptions:{points:.5,per:1,description:"0.5 points per reception (PPR)"},receivingTDs:{points:6,per:1,description:"6 points per receiving touchdown"},receiving2pt:{points:2,per:1,description:"2 points per 2-point conversion"}}},roster:{positions:{QB:1,RB:2,WR:2,TE:1,FLEX:1,K:1,DEF:1,BENCH:6},waiverSystem:"FAAB",waiverBudget:100,waiverClearTime:"Wednesday 3:00 AM ET"}},G6=()=>{var y,_,S,P,C,T;const{selectedSeason:e,selectedConference:t,currentSeasonConfig:n}=$n(),{scoringSettings:s,loading:a,error:i}=V6(),{rosterSettings:o,loading:l,error:c}=z6(),{playoffFormat:d,loading:u,error:f}=W6(),{charterInfo:m,loading:g,error:j,hasCharter:v}=H6(),[w,x]=h.useState("scoring"),p=(A,D)=>!D||Object.keys(D).length===0?r.jsxs(Q,{children:[r.jsx(oe,{children:r.jsx(le,{className:"capitalize",children:A})}),r.jsx(ee,{children:r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:["No ",A," scoring rules configured"]})})]}):r.jsxs(Q,{children:[r.jsx(oe,{children:r.jsx(le,{className:"capitalize",children:A})}),r.jsx(ee,{children:r.jsx("div",{className:"rounded-md border",children:r.jsxs(rn,{children:[r.jsx(an,{children:r.jsxs(ke,{children:[r.jsx(ie,{children:"Statistic"}),r.jsx(ie,{className:"text-right",children:"Points"}),r.jsx(ie,{className:"hidden md:table-cell",children:"Description"})]})}),r.jsx(on,{children:Object.entries(D).map(([$,I])=>r.jsxs(ke,{children:[r.jsx(ne,{className:"font-medium",children:$.replace(/([A-Z])/g," $1").replace(/^./,M=>M.toUpperCase())}),r.jsx(ne,{className:"text-right font-mono",children:r.jsxs(se,{variant:I.points>0?"default":"destructive",children:[I.points>0?"+":"",I.points]})}),r.jsx(ne,{className:"hidden md:table-cell text-sm text-muted-foreground",children:I.description})]},$))})]})})})]});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(gc,{className:"h-6 w-6 text-primary"}),r.jsx("h1",{className:"text-3xl font-bold",children:"League Rules"})]}),r.jsxs("p",{className:"text-muted-foreground",children:[e," Season • Official rules and regulations for the Gladiator League"]})]}),r.jsxs(Le,{children:[r.jsx(Ba,{className:"h-4 w-4"}),r.jsx(jr,{children:"League Information"}),r.jsx(Ie,{children:"These rules apply to all three conferences within the Gladiator League. Conference-specific variations are noted where applicable."})]}),r.jsxs(Fr,{value:w,onValueChange:x,className:"w-full",children:[r.jsxs(mr,{className:"grid w-full grid-cols-5",children:[r.jsx(Oe,{value:"scoring",children:"Scoring"}),r.jsx(Oe,{value:"roster",children:"Roster"}),r.jsx(Oe,{value:"schedule",children:"Schedule"}),r.jsx(Oe,{value:"payouts",children:"Payouts"}),r.jsx(Oe,{value:"charter",children:"Charter"})]}),r.jsxs(Fe,{value:"scoring",className:"space-y-6",children:[a?r.jsx(Q,{children:r.jsx(ee,{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(wt,{className:"h-6 w-6 animate-spin"}),r.jsx("span",{children:"Loading scoring settings..."})]})})}):i?r.jsxs(Le,{variant:"destructive",children:[r.jsx(Ba,{className:"h-4 w-4"}),r.jsx(jr,{children:"Error Loading Scoring Settings"}),r.jsxs(Ie,{children:[i,". Using default scoring rules as fallback."]})]}):null,r.jsx("div",{className:"grid gap-6",children:s?r.jsxs(r.Fragment,{children:[p("passing",s.passing),p("rushing",s.rushing),p("receiving",s.receiving)]}):r.jsxs(r.Fragment,{children:[p("passing",za.scoring.passing),p("rushing",za.scoring.rushing),p("receiving",za.scoring.receiving)]})}),r.jsxs(Q,{children:[r.jsx(oe,{children:r.jsxs(le,{className:"flex items-center space-x-2",children:[r.jsx(Bu,{className:"h-5 w-5"}),r.jsx("span",{children:"Scoring Summary"})]})}),r.jsx(ee,{children:s?r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold",children:s.receiving.receptions?`${s.receiving.receptions.points} PPR`:"Standard"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:s.receiving.receptions?`${s.receiving.receptions.points} Points per Reception`:"No PPR Scoring"})]}),r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsxs("p",{className:"text-2xl font-bold",children:[((y=s.passing.passingTDs)==null?void 0:y.points)||0,"/",((_=s.rushing.rushingTDs)==null?void 0:_.points)||((S=s.receiving.receivingTDs)==null?void 0:S.points)||0]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Pass TD / Rush-Rec TD"})]}),r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsxs("p",{className:"text-2xl font-bold",children:[((P=s.passing.passingYards)==null?void 0:P.per)||25,"/",((C=s.rushing.rushingYards)==null?void 0:C.per)||((T=s.receiving.receivingYards)==null?void 0:T.per)||10]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Pass Yards / Rush-Rec Yards"})]})]}):r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold",children:"PPR"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"0.5 Points per Reception"})]}),r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold",children:"4/6"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Pass TD / Rush-Rec TD"})]}),r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold",children:"25/10"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Pass Yards / Rush-Rec Yards"})]})]})})]})]}),r.jsxs(Fe,{value:"roster",className:"space-y-6",children:[l?r.jsx(Q,{children:r.jsx(ee,{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(wt,{className:"h-6 w-6 animate-spin"}),r.jsx("span",{children:"Loading roster settings..."})]})})}):c?r.jsxs(Le,{variant:"destructive",children:[r.jsx(Ba,{className:"h-4 w-4"}),r.jsx(jr,{children:"Error Loading Roster Settings"}),r.jsxs(Ie,{children:[c,". Using default roster configuration as fallback."]})]}):null,r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs(Q,{children:[r.jsxs(oe,{children:[r.jsxs(le,{className:"flex items-center space-x-2",children:[r.jsx(Vt,{className:"h-5 w-5"}),r.jsx("span",{children:"Starting Lineup"})]}),r.jsx(_e,{children:"Required positions for weekly lineup"})]}),r.jsx(ee,{children:r.jsx("div",{className:"space-y-3",children:Object.entries((o==null?void 0:o.positions)||za.roster.positions).filter(([A])=>A!=="BENCH").map(([A,D])=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(se,{variant:"outline",children:A}),r.jsx("span",{className:"text-sm text-muted-foreground",children:A==="FLEX"?"RB/WR/TE":A==="SUPER_FLEX"?"QB/RB/WR/TE":A==="DEF"?"Team Defense":A})]}),r.jsx("span",{className:"font-semibold",children:D})]},A))})})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Q,{children:[r.jsxs(oe,{className:"pb-3",children:[r.jsx(le,{className:"text-lg",children:"Roster Management"}),r.jsx(_e,{className:"text-sm",children:"Roster size and configuration"})]}),r.jsx(ee,{children:r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Roster Size"}),r.jsx("p",{className:"text-xl font-bold",children:"21"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Starting Lineup"}),r.jsx("p",{className:"text-xl font-bold",children:"9"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Bench"}),r.jsx("p",{className:"text-xl font-bold",children:"12"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"IR"}),r.jsx("p",{className:"text-xl font-bold",children:"2"})]})]})})]}),r.jsxs(Q,{children:[r.jsxs(oe,{className:"pb-3",children:[r.jsx(le,{className:"text-lg",children:"Waiver & Trade Rules"}),r.jsx(_e,{className:"text-sm",children:"League transaction settings"})]}),r.jsxs(ee,{children:[r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Waiver System"}),r.jsx("p",{className:"font-semibold",children:za.roster.waiverSystem})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"FAAB Budget"}),r.jsxs("p",{className:"font-semibold",children:["$",za.roster.waiverBudget]})]})]}),r.jsxs("div",{className:"pt-3 mt-3 border-t",children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Waiver Clear Time"}),r.jsx("p",{className:"text-sm font-medium",children:za.roster.waiverClearTime})]})]})]})]})]})]}),r.jsxs(Fe,{value:"schedule",className:"space-y-6",children:[u?r.jsx(Q,{children:r.jsx(ee,{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(wt,{className:"h-6 w-6 animate-spin"}),r.jsx("span",{children:"Loading schedule information..."})]})})}):f?r.jsxs(Le,{variant:"destructive",children:[r.jsx(Ba,{className:"h-4 w-4"}),r.jsx(jr,{children:"Error Loading Schedule Information"}),r.jsxs(Ie,{children:[f,". Using default schedule information as fallback."]})]}):null,r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs(Q,{children:[r.jsxs(oe,{children:[r.jsxs(le,{className:"flex items-center space-x-2",children:[r.jsx(Qn,{className:"h-5 w-5"}),r.jsx("span",{children:"Season Structure"})]}),r.jsx(_e,{children:"Regular season and playoff format"})]}),r.jsx(ee,{className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Regular Season"}),r.jsx("p",{className:"text-2xl font-bold",children:"12 weeks"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Playoffs"}),r.jsx("p",{className:"text-2xl font-bold",children:"5 weeks"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Playoff Teams"}),r.jsxs("p",{className:"text-2xl font-bold",children:[(d==null?void 0:d.playoff_teams)||10,"/36"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"First Round Byes"}),r.jsx("p",{className:"text-2xl font-bold",children:(d==null?void 0:d.week_14_byes)||6})]})]})})]}),r.jsxs(Q,{children:[r.jsxs(oe,{children:[r.jsx(le,{children:"Important Dates"}),r.jsxs(_e,{children:[e," season timeline"]})]}),r.jsxs(ee,{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsx("span",{className:"font-medium",children:"Regular Season"}),r.jsx("span",{className:"text-sm",children:"Weeks 1-12"})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsx("span",{className:"font-medium",children:"Conference Championships"}),r.jsx("span",{className:"text-sm",children:"Week 13"})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsx("span",{className:"font-medium",children:"Playoffs Begin"}),r.jsxs("span",{className:"text-sm",children:["Week ",(d==null?void 0:d.playoff_start_week)||14]})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsx("span",{className:"font-medium",children:"Coliseum Championship"}),r.jsxs("span",{className:"text-sm",children:["Week ",(d==null?void 0:d.championship_week)||17]})]})]})]})]}),r.jsxs(Q,{children:[r.jsx(oe,{children:r.jsx(le,{children:"Playoff Format"})}),r.jsx(ee,{children:r.jsxs("div",{className:"prose prose-sm max-w-none",children:[r.jsxs("p",{className:"mb-4",children:["The playoffs consist of ",(d==null?void 0:d.playoff_teams)||10," teams total across all conferences, with the following structure:"]}),r.jsxs("ul",{className:"space-y-3",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Week 13: Conference Championships"})," - Top 2 teams from each conference compete to become Conference Champion"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Playoff Seeding:"}),r.jsxs("ul",{className:"ml-4 mt-2 space-y-1",children:[r.jsx("li",{children:"• Top 3 seeds go to Conference Champions"}),r.jsx("li",{children:"• Seeds 4-6 go to losing teams of Conference Championship"}),r.jsxs("li",{children:["• Seeds 7-",(d==null?void 0:d.playoff_teams)||10," go to next highest ranked teams, across all Conferences"]})]})]}),r.jsxs("li",{children:[r.jsxs("strong",{children:["Week ",(d==null?void 0:d.playoff_start_week)||14,": Wildcard Round"]})," - Top ",(d==null?void 0:d.week_14_byes)||6," teams get byes. Remaining teams are matched up based on seeding."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Week 15: Quarterfinals Round"})," - Teams are reseeded, includes winners of Wildcard round matchups and teams on bye"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Week 16: Semifinals Round"})," - Teams are reseeded, includes winners of Quarterfinals"]}),r.jsxs("li",{children:[r.jsxs("strong",{children:["Week ",(d==null?void 0:d.championship_week)||17,": Coliseum Championship"]})," - Winners of Semifinals compete to become the Coliseum Champion"]})]}),r.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:d!=null&&d.reseed?"Teams are reseeded after each round based on original seeding.":"Teams maintain their bracket position throughout the playoffs."})]})})]})]}),r.jsx(Fe,{value:"payouts",className:"space-y-6",children:r.jsxs(Q,{children:[r.jsxs(oe,{children:[r.jsxs(le,{className:"flex items-center space-x-2",children:[r.jsx(Op,{className:"h-5 w-5"}),r.jsx("span",{children:"Prize Structure"})]}),r.jsx(_e,{children:"Annual dues: $100 per team • Total prize pool: $3,600"})]}),r.jsx(ee,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-semibold",children:"Coliseum Championship Payouts"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-yellow-50 dark:bg-yellow-900/20",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(xt,{className:"h-5 w-5 text-yellow-600"}),r.jsx("span",{className:"font-medium",children:"Coliseum Champion"})]}),r.jsx("span",{className:"font-bold text-lg",children:"$1,200"})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsx("span",{className:"font-medium",children:"Runner-up"}),r.jsx("span",{className:"font-bold",children:"$800"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-semibold",children:"Regular Season Awards"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsx("span",{className:"font-medium",children:"Conference Champions"}),r.jsx("span",{className:"font-bold",children:"$500 each"})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsx("span",{className:"font-medium",children:"Single Week High Score"}),r.jsx("span",{className:"font-bold",children:"$100"})]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx("p",{children:"Conference champions are determined by regular season record within each conference."}),r.jsx("p",{className:"mt-2",children:"Single week high score award goes to the team with the most points in a single week during the regular season."})]})]})]})]})})]})}),r.jsxs(Fe,{value:"charter",className:"space-y-6",children:[g?r.jsx(Q,{children:r.jsx(ee,{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(wt,{className:"h-6 w-6 animate-spin"}),r.jsx("span",{children:"Loading charter information..."})]})})}):j?r.jsxs(Le,{variant:"destructive",children:[r.jsx(Ba,{className:"h-4 w-4"}),r.jsx(jr,{children:"Error Loading Charter"}),r.jsxs(Ie,{children:[j,". Please contact an administrator if this issue persists."]})]}):null,r.jsxs(Q,{children:[r.jsxs(oe,{children:[r.jsx(le,{children:"League Charter"}),r.jsxs(_e,{children:["Official constitution and bylaws of the Gladiator League - ",e," Season"]})]}),r.jsx(ee,{children:v&&m?r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Le,{children:[r.jsx(Ba,{className:"h-4 w-4"}),r.jsx(jr,{children:"Official League Document"}),r.jsx(Ie,{children:"This charter contains the complete rules, policies, and procedures for the Gladiator League. All league members are expected to be familiar with its contents."})]}),r.jsx(K6,{fileUrl:m.fileUrl,fileName:m.fileName,uploadedAt:m.uploadedAt})]}):r.jsxs("div",{className:"text-center py-12 border-2 border-dashed rounded-lg",children:[r.jsx(gc,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Charter Available"}),r.jsxs("p",{className:"text-muted-foreground mb-4",children:["The league charter document for the ",e," season has not been uploaded yet."]}),r.jsxs(Le,{className:"max-w-md mx-auto",children:[r.jsx(Ba,{className:"h-4 w-4"}),r.jsx(Ie,{children:"League administrators can upload the charter document through the admin panel."})]})]})})]}),r.jsxs(Q,{children:[r.jsx(oe,{children:r.jsx(le,{children:"League History"})}),r.jsx(ee,{children:r.jsxs("div",{className:"prose prose-sm max-w-none",children:[r.jsx("p",{children:"The Gladiator League was founded in 2024 as a premier fantasy football competition consisting of three competitive conferences: Legions of Mars, Guardians of Jupiter, and Vulcan's Oathsworn."}),r.jsx("p",{className:"mt-4",children:"Each conference operates as an independent league while following unified rules and participating in inter-conference competition during special events."}),r.jsx("p",{className:"mt-4",children:"The league charter serves as the official constitution, outlining all rules, procedures, and policies that govern league operations and member conduct."})]})})]})]})]})]})},Y6=()=>{const{toast:e}=dn(),[t,n]=h.useState(!1),[s,a]=h.useState([]),i={2024:["1072580179844857856","1072593839715667968","1072593416955015168"],2025:["1204854057169072128","1204857692007440384","1204857608989577216"]},o={2024:1,2025:2},l=async d=>{try{console.log(`Fetching data for league ID: ${d}`);const u=await fetch(`https://api.sleeper.app/v1/league/${d}`);if(!u.ok)throw new Error(`HTTP error! status: ${u.status}`);const f=await u.json();return console.log(`Data received for league ${d}:`,f),{name:f.name||"",league_id:f.league_id||d,season:f.season||"",draft_id:f.draft_id||"",status:f.status||"",avatar:f.avatar||""}}catch(u){return console.error(`Error fetching data for league ${d}:`,u),null}},c=async()=>{n(!0);const d=[];try{const u=[...i[2024],...i[2025]];for(const m of u){const g=await l(m);g&&d.push(g)}console.log("All fetched data:",d),a(d);const f=d.map(m=>{const g=o[m.season]||0,j=m.avatar?`https://sleepercdn.com/avatars/thumbs/${m.avatar}`:"";return{conference_name:m.name,league_id:m.league_id,season_id:g,draft_id:m.draft_id,status:m.status,league_logo_url:j}});console.log("Conference records to insert:",f);for(const m of f)try{const{error:g}=await window.ezsite.apis.tableCreate("12820",m);if(g)throw console.error("Error inserting conference record:",g),new Error(g)}catch(g){console.error("Failed to insert conference record:",g),e({title:"Error",description:`Failed to insert conference: ${m.conference_name}`,variant:"destructive"})}e({title:"Success",description:`Successfully loaded ${f.length} conferences from Sleeper API`})}catch(u){console.error("Error loading conferences data:",u),e({title:"Error",description:"Failed to load conferences data from Sleeper API",variant:"destructive"})}finally{n(!1)}};return r.jsxs("div",{className:"p-4 space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Conferences Data Loader"}),r.jsx("button",{onClick:c,disabled:t,className:"px-4 py-2 bg-blue-600 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-blue-700 transition-colors",children:t?"Loading...":"Load Conferences Data"})]}),r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsx("p",{children:"This will fetch data from Sleeper API for the following league IDs:"}),r.jsxs("div",{className:"mt-2 space-y-1",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"2024 Season:"})," ",i[2024].join(", ")]}),r.jsxs("div",{children:[r.jsx("strong",{children:"2025 Season:"})," ",i[2025].join(", ")]})]})]}),s.length>0&&r.jsxs("div",{className:"mt-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Loaded Data Preview:"}),r.jsx("div",{className:"space-y-2",children:s.map((d,u)=>r.jsxs("div",{className:"p-3 border rounded-lg bg-gray-50",children:[r.jsx("div",{className:"font-medium",children:d.name}),r.jsxs("div",{className:"text-sm text-gray-600",children:["League ID: ",d.league_id," | Season: ",d.season," | Status: ",d.status]})]},u))})]})]})},Q6=()=>{const{toast:e}=dn(),[t,n]=h.useState([]),[s,a]=h.useState([]),[i,o]=h.useState(!0),[l,c]=h.useState(!1),d=async()=>{try{const{data:j,error:v}=await window.ezsite.apis.tablePage("12818",{PageNo:1,PageSize:10,OrderByField:"season_year",IsAsc:!0,Filters:[]});if(v)throw new Error(v);a(j.List||[])}catch(j){console.error("Error fetching seasons:",j),e({title:"Error",description:"Failed to load seasons data",variant:"destructive"})}},u=async()=>{try{const{data:j,error:v}=await window.ezsite.apis.tablePage("12820",{PageNo:1,PageSize:50,OrderByField:"conference_name",IsAsc:!0,Filters:[]});if(v)throw new Error(v);n(j.List||[])}catch(j){console.error("Error fetching conferences:",j),e({title:"Error",description:"Failed to load conferences data",variant:"destructive"})}};h.useEffect(()=>{(async()=>{o(!0),await Promise.all([d(),u()]),o(!1)})()},[]);const f=j=>{const v=s.find(w=>w.id===j);return v?v.season_name:`Season ${j}`},m=j=>{switch(j.toLowerCase()){case"in_season":return"bg-green-500";case"complete":return"bg-blue-500";case"drafting":return"bg-orange-500";case"pre_draft":return"bg-yellow-500";default:return"bg-gray-500"}},g=j=>j.replace(/_/g," ").replace(/\b\w/g,v=>v.toUpperCase());return i?r.jsx("div",{className:"container mx-auto px-4 py-8",children:r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"text-lg",children:"Loading conferences..."})})}):r.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-6",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[r.jsx(xt,{className:"h-8 w-8 text-yellow-600"}),"Conferences"]}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Fantasy football conferences and leagues"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Z,{variant:"outline",onClick:()=>c(!l),children:[l?"Hide":"Show"," Data Loader"]}),r.jsx(Z,{onClick:()=>{u(),e({title:"Refreshed",description:"Conferences data has been refreshed"})},children:"Refresh Data"})]})]}),l&&r.jsx(Q,{children:r.jsx(ee,{className:"p-0",children:r.jsx(Y6,{})})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(Q,{children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Vt,{className:"h-8 w-8 text-blue-600"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:t.length}),r.jsx("div",{className:"text-sm text-gray-600",children:"Total Conferences"})]})]})})}),r.jsx(Q,{children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Qn,{className:"h-8 w-8 text-green-600"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:t.filter(j=>j.status==="in_season").length}),r.jsx("div",{className:"text-sm text-gray-600",children:"Active Seasons"})]})]})})}),r.jsx(Q,{children:r.jsx(ee,{className:"p-6",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(xt,{className:"h-8 w-8 text-yellow-600"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:s.length}),r.jsx("div",{className:"text-sm text-gray-600",children:"Total Seasons"})]})]})})})]}),r.jsxs(Q,{children:[r.jsx(oe,{children:r.jsx(le,{children:"Conference Details"})}),r.jsx(ee,{children:t.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("p",{className:"text-gray-500 mb-4",children:"No conferences found."}),r.jsx(Z,{onClick:()=>c(!0),variant:"outline",children:"Load Conferences Data"})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(rn,{children:[r.jsx(an,{children:r.jsxs(ke,{children:[r.jsx(ie,{children:"Logo"}),r.jsx(ie,{children:"Conference Name"}),r.jsx(ie,{children:"Season"}),r.jsx(ie,{children:"Status"}),r.jsx(ie,{children:"League ID"}),r.jsx(ie,{children:"Draft ID"}),r.jsx(ie,{children:"Actions"})]})}),r.jsx(on,{children:t.map(j=>r.jsxs(ke,{children:[r.jsx(ne,{children:j.league_logo_url?r.jsx("img",{src:j.league_logo_url,alt:`${j.conference_name} logo`,className:"w-10 h-10 rounded-full object-cover",onError:v=>{v.target.src="/placeholder.svg"}}):r.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center",children:r.jsx(xt,{className:"h-5 w-5 text-gray-400"})})}),r.jsx(ne,{className:"font-medium",children:j.conference_name}),r.jsx(ne,{children:r.jsx(se,{variant:"secondary",children:f(j.season_id)})}),r.jsx(ne,{children:r.jsx(se,{className:`text-white ${m(j.status)}`,children:g(j.status)})}),r.jsx(ne,{className:"font-mono text-sm",children:j.league_id}),r.jsx(ne,{className:"font-mono text-sm",children:j.draft_id||"N/A"}),r.jsx(ne,{children:r.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>{window.open(`https://sleeper.app/leagues/${j.league_id}`,"_blank")},children:r.jsx(qc,{className:"h-4 w-4"})})})]},j.id))})]})})})]})]})};var X6="Label",aT=h.forwardRef((e,t)=>r.jsx(ye.label,{...e,ref:t,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));aT.displayName=X6;var iT=aT;const J6=Ho("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ut=h.forwardRef(({className:e,...t},n)=>r.jsx(iT,{ref:n,className:xe(J6(),e),...t}));ut.displayName=iT.displayName;const B0=CE,U0=TE,Z6=kE,oT=h.forwardRef(({className:e,...t},n)=>r.jsx(Yf,{ref:n,className:xe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));oT.displayName=Yf.displayName;const mg=h.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(Z6,{children:[r.jsx(oT,{}),r.jsxs(Qf,{ref:s,className:xe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,r.jsxs(PE,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(Si,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));mg.displayName=Qf.displayName;const pg=({className:e,...t})=>r.jsx("div",{className:xe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});pg.displayName="DialogHeader";const gg=h.forwardRef(({className:e,...t},n)=>r.jsx(Xf,{ref:n,className:xe("text-lg font-semibold leading-none tracking-tight",e),...t}));gg.displayName=Xf.displayName;const xg=h.forwardRef(({className:e,...t},n)=>r.jsx(Jf,{ref:n,className:xe("text-sm text-muted-foreground",e),...t}));xg.displayName=Jf.displayName;const eB=()=>{const[e,t]=h.useState([]),[n,s]=h.useState([]),[a,i]=h.useState(null),[o,l]=h.useState(null),[c,d]=h.useState(!1),[u,f]=h.useState(!1),[m,g]=h.useState(!0),[j,v]=h.useState(!1),[w,x]=h.useState(null),{toast:p}=dn(),[y,_]=h.useState(""),[S,P]=h.useState(""),[C,T]=h.useState(""),[A,D]=h.useState("");h.useEffect(()=>{$()},[]),h.useEffect(()=>{a&&I()},[a]);const $=async()=>{try{const N=await ae.getSeasons(),b=Array.isArray(N)?N:(N==null?void 0:N.data)||[],E=b.map(B=>({...B,is_current_season:B.is_current_season??!1}));t(E);const R=b.find(B=>B.is_current_season);R?i(R.id):b.length>0&&i(b[0].id)}catch(N){console.error("Error loading seasons:",N),p({title:"Error",description:`Failed to load seasons: ${N}`,variant:"destructive"})}finally{g(!1)}},I=async()=>{var N;if(a)try{const b=await z("load conferences");s(((N=b==null?void 0:b.data)==null?void 0:N.List)||[])}catch(b){console.error("Error loading conferences:",b),p({title:"Error",description:`Failed to load conferences: ${b}`,variant:"destructive"})}},M=async N=>{if(N.preventDefault(),!(!y||!S))try{v(!0);const b=await ae.createSeason({season_year:y,season_name:S,is_current:!1});if(b.error)throw b.error;p({title:"Season Added",description:`${S} has been created successfully`}),_(""),P(""),d(!1),$()}catch(b){console.error("Error adding season:",b),p({title:"Error",description:`Failed to add season: ${b}`,variant:"destructive"})}finally{v(!1)}},F=async N=>{if(N.preventDefault(),!(!C||!A||!a))try{v(!0);const b=await ae.createConference({conference_name:C,league_id:A,season_id:a,draft_id:"",status:"draft",league_logo_url:""});if(b.error)throw b.error;p({title:"League Added",description:`${C} has been created successfully`}),T(""),D(""),f(!1),I()}catch(b){console.error("Error adding league:",b),p({title:"Error",description:`Failed to add league: ${b}`,variant:"destructive"})}finally{v(!1)}},J=async N=>{try{v(!0);const b=await ae.updateConference(N.id,{conference_name:N.conference_name,league_id:N.league_id,season_id:N.season_id,draft_id:N.draft_id,status:N.status,league_logo_url:N.league_logo_url});if(b.error)throw b.error;p({title:"Conference Updated",description:"Conference details have been saved successfully"}),l(null),I()}catch(b){console.error("Error saving conference:",b),p({title:"Error",description:`Failed to save conference: ${b}`,variant:"destructive"})}finally{v(!1)}},U=async N=>{if(N)try{x(N);const b=await fetch(`https://api.sleeper.app/v1/league/${N}`);if(b.ok){const E=await b.json();p({title:"Connection Successful",description:`League "${E.name}" found on Sleeper API`})}else throw new Error(`API returned ${b.status}`)}catch(b){console.error("Error testing connection:",b),p({title:"Connection Failed",description:`Unable to connect to Sleeper API for league ID: ${N}`,variant:"destructive"})}finally{x(null)}},z=async N=>(console.log(`Placeholder: ${N}`),{data:{List:[]},error:null}),k=e.find(N=>N.id===a);return m?r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsx("div",{className:"animate-spin h-8 w-8 border-b-2 border-blue-600 rounded-full"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Q,{children:[r.jsxs(oe,{children:[r.jsx(le,{children:"Season Management"}),r.jsx(_e,{children:"Select and manage fantasy football seasons"})]}),r.jsx(ee,{children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx(ut,{htmlFor:"season-select",children:"Select Season"}),r.jsxs(ht,{value:(a==null?void 0:a.toString())||"",onValueChange:N=>i(parseInt(N)),children:[r.jsx(at,{children:r.jsx(mt,{placeholder:"Select a season"})}),r.jsx(it,{children:e.map(N=>r.jsx(Pe,{value:N.id.toString(),children:r.jsxs("div",{className:"flex items-center gap-2",children:[N.season_name,N.is_current_season&&r.jsx(se,{variant:"secondary",className:"text-xs",children:"Current"})]})},N.id))})]})]}),r.jsxs(B0,{open:c,onOpenChange:d,children:[r.jsx(U0,{asChild:!0,children:r.jsx(Z,{variant:"outline",size:"icon",children:r.jsx(Fu,{className:"h-4 w-4"})})}),r.jsxs(mg,{children:[r.jsxs(pg,{children:[r.jsx(gg,{children:"Add New Season"}),r.jsx(xg,{children:"Create a new fantasy football season"})]}),r.jsxs("form",{onSubmit:M,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ut,{htmlFor:"season-year",children:"Season Year"}),r.jsx(Rt,{id:"season-year",type:"number",value:y,onChange:N=>_(N.target.value),placeholder:"2025",min:"2020",max:"2030"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ut,{htmlFor:"season-name",children:"Season Name"}),r.jsx(Rt,{id:"season-name",value:S,onChange:N=>P(N.target.value),placeholder:"2025 Season"})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(Z,{type:"button",variant:"outline",onClick:()=>d(!1),children:"Cancel"}),r.jsx(Z,{type:"submit",disabled:j,children:j?"Adding...":"Add Season"})]})]})]})]})]})})]}),k&&r.jsxs(Q,{children:[r.jsx(oe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(le,{children:["Conferences - ",k.season_name]}),r.jsxs(_e,{children:["Manage league IDs and conference settings for ",k.season_name]})]}),r.jsxs(B0,{open:u,onOpenChange:f,children:[r.jsx(U0,{asChild:!0,children:r.jsxs(Z,{children:[r.jsx(Fu,{className:"h-4 w-4 mr-2"}),"Add New League"]})}),r.jsxs(mg,{children:[r.jsxs(pg,{children:[r.jsx(gg,{children:"Add New League"}),r.jsxs(xg,{children:["Add a new conference/league to ",k.season_name]})]}),r.jsxs("form",{onSubmit:F,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ut,{htmlFor:"league-name",children:"League Name"}),r.jsx(Rt,{id:"league-name",value:C,onChange:N=>T(N.target.value),placeholder:"Conference Name"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ut,{htmlFor:"league-id",children:"Sleeper League ID"}),r.jsx(Rt,{id:"league-id",value:A,onChange:N=>D(N.target.value),placeholder:"123456789012345678"})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(Z,{type:"button",variant:"outline",onClick:()=>f(!1),children:"Cancel"}),r.jsx(Z,{type:"submit",disabled:j,children:j?"Adding...":"Add League"})]})]})]})]})]})}),r.jsx(ee,{children:n.length===0?r.jsx(Le,{children:r.jsxs(Ie,{children:["No conferences found for ",k.season_name,". Add a new league to get started."]})}):r.jsxs(rn,{children:[r.jsx(an,{children:r.jsxs(ke,{children:[r.jsx(ie,{children:"Conference Name"}),r.jsx(ie,{children:"League ID"}),r.jsx(ie,{children:"Draft ID"}),r.jsx(ie,{children:"Status"}),r.jsx(ie,{children:"Actions"})]})}),r.jsx(on,{children:n.map(N=>r.jsxs(ke,{children:[r.jsx(ne,{children:(o==null?void 0:o.id)===N.id?r.jsx(Rt,{value:o.conference_name,onChange:b=>l({...o,conference_name:b.target.value})}):r.jsx("span",{className:"font-medium",children:N.conference_name})}),r.jsx(ne,{children:(o==null?void 0:o.id)===N.id?r.jsx(Rt,{value:o.league_id,onChange:b=>l({...o,league_id:b.target.value})}):r.jsx("code",{className:"text-sm bg-muted px-2 py-1 rounded",children:N.league_id})}),r.jsx(ne,{children:(o==null?void 0:o.id)===N.id?r.jsx(Rt,{value:o.draft_id,onChange:b=>l({...o,draft_id:b.target.value})}):r.jsx("code",{className:"text-sm bg-muted px-2 py-1 rounded",children:N.draft_id||"Not set"})}),r.jsx(ne,{children:r.jsx(se,{variant:N.status==="in_season"?"default":N.status==="complete"?"secondary":"outline",children:N.status})}),r.jsx(ne,{children:r.jsx("div",{className:"flex items-center gap-2",children:(o==null?void 0:o.id)===N.id?r.jsxs(r.Fragment,{children:[r.jsx(Z,{size:"sm",onClick:()=>J(o),disabled:j,children:r.jsx(Rf,{className:"h-4 w-4"})}),r.jsx(Z,{size:"sm",variant:"outline",onClick:()=>l(null),children:"Cancel"})]}):r.jsxs(r.Fragment,{children:[r.jsx(Z,{size:"sm",variant:"outline",onClick:()=>l(N),children:r.jsx(xi,{className:"h-4 w-4"})}),r.jsx(Z,{size:"sm",variant:"outline",onClick:()=>U(N.league_id),disabled:w===N.league_id,children:w===N.league_id?r.jsx("div",{className:"animate-spin h-4 w-4 border-b-2 border-blue-600 rounded-full"}):r.jsx(wD,{className:"h-4 w-4"})})]})})})]},N.id))})]})})]})]})};var rh="Checkbox",[tB,dH]=ns(rh),[nB,Tv]=tB(rh);function sB(e){const{__scopeCheckbox:t,checked:n,children:s,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:d,value:u="on",internal_do_not_use_render:f}=e,[m,g]=Rr({prop:n,defaultProp:a??!1,onChange:c,caller:rh}),[j,v]=h.useState(null),[w,x]=h.useState(null),p=h.useRef(!1),y=j?!!o||!!j.closest("form"):!0,_={checked:m,disabled:i,setChecked:g,control:j,setControl:v,name:l,form:o,value:u,hasConsumerStoppedPropagationRef:p,required:d,defaultChecked:ja(a)?!1:a,isFormControl:y,bubbleInput:w,setBubbleInput:x};return r.jsx(nB,{scope:t,..._,children:rB(f)?f(_):s})}var lT="CheckboxTrigger",cT=h.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...s},a)=>{const{control:i,value:o,disabled:l,checked:c,required:d,setControl:u,setChecked:f,hasConsumerStoppedPropagationRef:m,isFormControl:g,bubbleInput:j}=Tv(lT,e),v=Ge(a,u),w=h.useRef(c);return h.useEffect(()=>{const x=i==null?void 0:i.form;if(x){const p=()=>f(w.current);return x.addEventListener("reset",p),()=>x.removeEventListener("reset",p)}},[i,f]),r.jsx(ye.button,{type:"button",role:"checkbox","aria-checked":ja(c)?"mixed":c,"aria-required":d,"data-state":mT(c),"data-disabled":l?"":void 0,disabled:l,value:o,...s,ref:v,onKeyDown:ve(t,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:ve(n,x=>{f(p=>ja(p)?!0:!p),j&&g&&(m.current=x.isPropagationStopped(),m.current||x.stopPropagation())})})});cT.displayName=lT;var kv=h.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:d,form:u,...f}=e;return r.jsx(sB,{__scopeCheckbox:n,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:d,name:s,form:u,value:c,internal_do_not_use_render:({isFormControl:m})=>r.jsxs(r.Fragment,{children:[r.jsx(cT,{...f,ref:t,__scopeCheckbox:n}),m&&r.jsx(hT,{__scopeCheckbox:n})]})})});kv.displayName=rh;var dT="CheckboxIndicator",uT=h.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:s,...a}=e,i=Tv(dT,n);return r.jsx(fr,{present:s||ja(i.checked)||i.checked===!0,children:r.jsx(ye.span,{"data-state":mT(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});uT.displayName=dT;var fT="CheckboxBubbleInput",hT=h.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:s,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:d,value:u,form:f,bubbleInput:m,setBubbleInput:g}=Tv(fT,e),j=Ge(n,g),v=gv(i),w=Qx(s);h.useEffect(()=>{const p=m;if(!p)return;const y=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(y,"checked").set,P=!a.current;if(v!==i&&S){const C=new Event("click",{bubbles:P});p.indeterminate=ja(i),S.call(p,ja(i)?!1:i),p.dispatchEvent(C)}},[m,v,i,a]);const x=h.useRef(ja(i)?!1:i);return r.jsx(ye.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??x.current,required:l,disabled:c,name:d,value:u,form:f,...t,tabIndex:-1,ref:j,style:{...t.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});hT.displayName=fT;function rB(e){return typeof e=="function"}function ja(e){return e==="indeterminate"}function mT(e){return ja(e)?"indeterminate":e?"checked":"unchecked"}const Pv=h.forwardRef(({className:e,...t},n)=>r.jsx(kv,{ref:n,className:xe("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:r.jsx(uT,{className:xe("flex items-center justify-center text-current"),children:r.jsx(qo,{className:"h-4 w-4"})})}));Pv.displayName=kv.displayName;class pT{static async fetchLeagueDrafts(t){try{console.log(`Fetching drafts for league: ${t}`);const n=await fetch(`${this.baseUrl}/league/${t}/drafts`);if(!n.ok)throw new Error(`Failed to fetch drafts: ${n.status} ${n.statusText}`);const s=await n.json();return console.log(`Fetched ${s.length} drafts for league ${t}`),s}catch(n){throw console.error("Error fetching league drafts:",n),n}}static async fetchDraftPicks(t){try{console.log(`Fetching picks for draft: ${t}`);const n=await fetch(`${this.baseUrl}/draft/${t}/picks`);if(!n.ok)throw new Error(`Failed to fetch draft picks: ${n.status} ${n.statusText}`);const s=await n.json();return console.log(`Fetched ${s.length} picks for draft ${t}`),s}catch(n){throw console.error("Error fetching draft picks:",n),n}}static async getTeamIdFromOwnerMatcher(t,n){var s,a;try{const{data:i,error:o}=await window.ezsite.apis.tablePage(12853,{PageNo:1,PageSize:1,Filters:[{name:"roster_id",op:"Equal",value:t},{name:"conference_id",op:"Equal",value:n},{name:"is_active",op:"Equal",value:!0}]});if(!o&&((s=i==null?void 0:i.List)==null?void 0:s.length)>0){const d=i.List[0].team_id;return console.log(`Found team ID ${d} for roster_id ${t} in conference ${n}`),d}const{data:l,error:c}=await window.ezsite.apis.tablePage(12852,{PageNo:1,PageSize:1,Filters:[{name:"owner_id",op:"Equal",value:t}]});return c?(console.error(`Error finding team for owner_id ${t}:`,c),null):((a=l==null?void 0:l.List)==null?void 0:a.length)>0?(console.log(`Found team ID ${l.List[0].id} for owner_id ${t} (legacy mapping)`),l.List[0].id):(console.warn(`No team found for Sleeper roster_id/owner_id ${t} in conference ${n}`),null)}catch(i){return console.error("Error in getTeamIdFromOwnerMatcher:",i),null}}static async processDraftPicksForDatabase(t,n,s){var a,i;try{console.log(`Processing ${s.length} draft picks for conference ${t}, season ${n}`);const o=[];for(const l of s){const c=await this.getTeamIdFromOwnerMatcher(l.picked_by,t);if(!c){console.warn(`Skipping pick ${l.pick_no} - no team found for roster_id ${l.picked_by}`);continue}o.push({season_id:n,conference_id:t,round:l.round,draft_slot:l.draft_slot,pick_number:l.pick_no,team_id:c,player_id:l.player_id,player_name:l.metadata?`${l.metadata.first_name||""} ${l.metadata.last_name||""}`.trim():"Unknown Player",position:((a=l.metadata)==null?void 0:a.position)||"UNK",nfl_team:((i=l.metadata)==null?void 0:i.team)||"UNK",draft_id:l.draft_id})}return console.log(`Processed ${o.length} draft picks (${s.length-o.length} skipped due to missing team mapping)`),o}catch(o){throw console.error("Error processing draft picks:",o),o}}static async fetchAndStoreDraftResults(){try{console.log("🏈 Starting draft results sync for all conferences...");const{data:t,error:n}=await window.ezsite.apis.tablePage(12820,{PageNo:1,PageSize:50,OrderByField:"id",IsAsc:!0});if(n)throw new Error(`Failed to fetch conferences: ${n}`);const s=(t==null?void 0:t.List)||[];console.log(`Found ${s.length} conferences`);const{data:a,error:i}=await window.ezsite.apis.tablePage(12818,{PageNo:1,PageSize:50,OrderByField:"season_year",IsAsc:!1});if(i)throw new Error(`Failed to fetch seasons: ${i}`);const o=(a==null?void 0:a.List)||[];console.log(`Found ${o.length} seasons`);let l=0;const c=[];for(const d of s)try{console.log(`
📋 Processing conference: ${d.conference_name} (League ID: ${d.league_id})`);const u=o.find(m=>m.id===d.season_id);if(!u){console.warn(`⚠️ Season not found for conference ${d.conference_name}`);continue}const f=await this.fetchLeagueDrafts(d.league_id);if(f.length===0){console.warn(`⚠️ No drafts found for league ${d.league_id}`);continue}for(const m of f){console.log(`📊 Processing draft: ${m.draft_id} for season ${u.season_year}`);const g=await this.fetchDraftPicks(m.draft_id);if(g.length===0){console.warn(`⚠️ No picks found for draft ${m.draft_id}`);continue}const j=await this.processDraftPicksForDatabase(d.id,u.id,g);console.log(`🗑️ Clearing existing draft results for conference ${d.id}, season ${u.id}`);const{data:v,error:w}=await window.ezsite.apis.tablePage(27845,{PageNo:1,PageSize:1e3,Filters:[{name:"conference_id",op:"Equal",value:d.id},{name:"season_id",op:"Equal",value:u.id}]});if(!w&&(v!=null&&v.List))for(const x of v.List)await window.ezsite.apis.tableDelete(27845,{ID:x.id});console.log(`💾 Inserting ${j.length} draft picks into database...`);for(const x of j){const{error:p}=await window.ezsite.apis.tableCreate(27845,{season_id:x.season_id,conference_id:x.conference_id,round:x.round,draft_slot:x.draft_slot,pick_number:x.pick_number,team_id:x.team_id,player_id:x.player_id});p?console.error(`❌ Error inserting pick ${x.pick_number}:`,p):l++}c.push({conference:d.conference_name,season:u.season_year,draftId:m.draft_id,picksProcessed:j.length})}}catch(u){console.error(`❌ Error processing conference ${d.conference_name}:`,u),c.push({conference:d.conference_name,error:u.message})}return console.log(`
✅ Draft sync completed! Total picks processed: ${l}`),{success:!0,message:`Successfully processed ${l} draft picks across ${c.length} conference/season combinations`,data:c}}catch(t){return console.error("❌ Error in draft sync:",t),{success:!1,message:`Draft sync failed: ${t.message}`}}}}ds(pT,"baseUrl","https://api.sleeper.app/v1");const aB=()=>{const[e,t]=h.useState([]),[n,s]=h.useState([]),[a,i]=h.useState([]),[o,l]=h.useState(null),[c,d]=h.useState(!1),[u,f]=h.useState(!1),[m,g]=h.useState(!1),[j,v]=h.useState(!1),[w,x]=h.useState(!1),[p,y]=h.useState(!1),[_,S]=h.useState(0),[P,C]=h.useState(0),[T,A]=h.useState(0),[D,$]=h.useState(0),[I,M]=h.useState(0),[F,J]=h.useState(0),[U,z]=h.useState([]),[k,N]=h.useState([]),[b,E]=h.useState(null),[R,B]=h.useState(null),[L,G]=h.useState(null),[q,H]=h.useState(null),[O,Y]=h.useState(null),[V,K]=h.useState(null),[te,ue]=h.useState(null),[fe,ce]=h.useState(null),[me,we]=h.useState(null),[qe,de]=h.useState(null),[Se,tt]=h.useState(!0),[We,Br]=h.useState("all"),[Xt,od]=h.useState("all"),[ol,qs]=h.useState("all"),[Mn,je]=h.useState("all"),[Ke,Jt]=h.useState(1),[zt,Ci]=h.useState(17),[ll,La]=h.useState([]),{toast:St}=dn();h.useEffect(()=>{vh(),yh(),wh(),jh(),Wt(),wn(),jn(),Ss()},[]),h.useEffect(()=>{o&&cl()},[o]);const vh=async()=>{try{const W=await ae.getSeasons(),pe=Array.isArray(W)?W:(W==null?void 0:W.data)||[];t(pe);const et=pe.find(Be=>Be.is_current_season);et?l(et.id):pe.length>0&&l(pe[0].id)}catch(W){console.error("Error loading seasons:",W),St({title:"Error",description:`Failed to load seasons: ${W}`,variant:"destructive"})}finally{tt(!1)}},cl=async()=>{if(o)try{const W=await ae.getConferences(),pe=Array.isArray(W)?W:(W==null?void 0:W.data)||[];s(pe)}catch(W){console.error("Error loading conferences:",W),St({title:"Error",description:`Failed to load conferences: ${W}`,variant:"destructive"})}},yh=()=>{const W=localStorage.getItem("last_data_sync");W&&Y(new Date(W).toLocaleString())},wh=()=>{const W=localStorage.getItem("last_teams_sync");W&&K(new Date(W).toLocaleString())},jh=()=>{const W=localStorage.getItem("last_players_sync");W&&ue(new Date(W).toLocaleString())},Wt=()=>{const W=localStorage.getItem("last_matchups_sync");W&&ce(new Date(W).toLocaleString())},wn=()=>{const W=localStorage.getItem("last_draft_sync");W&&we(new Date(W).toLocaleString())},jn=()=>{const W=localStorage.getItem("last_rosters_sync");W&&de(new Date(W).toLocaleString())},Ss=async()=>{try{const W=await ae.getTeams(),pe=Array.isArray(W)?W:(W==null?void 0:W.data)||[];i(pe)}catch(W){console.error("Error loading teams:",W)}},Zt=()=>{switch(Mn){case"range":const W=[];for(let pe=Ke;pe<=zt;pe++)W.push(pe);return W;case"specific":return[...ll];case"all":default:return Array.from({length:17},(pe,et)=>et+1)}},_n=W=>{La(pe=>pe.includes(W)?pe.filter(et=>et!==W):[...pe,W].sort((et,Be)=>et-Be))},ss=()=>{La(Array.from({length:17},(W,pe)=>pe+1))},Ur=()=>{La([])};Me.useEffect(()=>{Ke>zt&&Ci(Ke)},[Ke,zt]);const Ot=async()=>{var pe,et;if(!o||n.length===0){St({title:"No Data to Sync",description:"Please select a season with conferences to sync rosters",variant:"destructive"});return}const W=Zt();if(W.length===0){St({title:"No Weeks Selected",description:"Please select at least one week to sync",variant:"destructive"});return}y(!0),J(0),H(null);try{console.log("Starting team rosters sync from Sleeper API..."),console.log(`Syncing weeks: ${W.join(", ")}`),J(5);let Be=0,nt=0,Nt=0,ot=0,kt=0;const Ue=n.length*W.length;let Xe=0;for(const Ye of n)try{console.log(`Processing rosters for league ${Ye.league_id}...`);for(const Te of W){try{console.log(`Fetching roster data for league ${Ye.league_id}, week ${Te}...`);const pt=await fetch(`https://api.sleeper.app/v1/league/${Ye.league_id}/matchups/${Te}`);if(!pt.ok){if(pt.status===404){console.log(`No matchups found for league ${Ye.league_id}, week ${Te} (404 - may not exist yet)`);continue}throw new Error(`API returned ${pt.status}: ${pt.statusText}`)}const un=await pt.json();if(console.log(`Received ${un.length} roster entries for league ${Ye.league_id}, week ${Te}`),!Array.isArray(un)||un.length===0){console.log(`No matchup data available for league ${Ye.league_id}, week ${Te}`);continue}for(const tn of un){if(!tn.roster_id||!tn.players||!Array.isArray(tn.players)){console.warn("Skipping entry with missing roster_id or players array:",tn);continue}const bn=await rs(tn.roster_id,Ye.id);if(!bn){console.warn(`Could not find team ID for roster_id ${tn.roster_id} in conference ${Ye.id}`);continue}for(const is of tn.players)if(is)try{const{data:Ln,error:qt}=await window.ezsite.apis.tablePage(12870,{PageNo:1,PageSize:1,Filters:[{name:"sleeper_player_id",op:"Equal",value:is}]});if(qt){console.error(`Error searching for player ${is}:`,qt);continue}if(((pe=Ln==null?void 0:Ln.List)==null?void 0:pe.length)>0){const os=Ln.List[0].id,{data:Gs,error:ls}=await window.ezsite.apis.tablePage(27886,{PageNo:1,PageSize:1,Filters:[{name:"team_id",op:"Equal",value:bn},{name:"player_id",op:"Equal",value:os},{name:"season_id",op:"Equal",value:o},{name:"week",op:"Equal",value:Te}]});if(ls){console.error("Error searching for existing roster record:",ls);continue}const cd={team_id:bn,player_id:os,season_id:o,week:Te};if(((et=Gs==null?void 0:Gs.List)==null?void 0:et.length)>0){const cs=Gs.List[0],_h={...cd,ID:cs.id},{error:Sn}=await Fi("tableUpdate");Sn?console.error("Error updating roster record:",Sn):(Nt++,Be++)}else{const{error:cs}=await jl("tableCreate");cs?console.error("Error creating roster record:",cs):(nt++,Be++)}}else console.warn(`Player with sleeper_player_id ${is} not found in database`)}catch(Ln){console.error(`Error processing player ${is}:`,Ln)}}kt++,await new Promise(tn=>setTimeout(tn,100))}catch(pt){console.error(`Error processing week ${Te} for league ${Ye.league_id}:`,pt)}Xe++;const en=5+Xe/Ue*90;J(en)}ot++,console.log(`✓ Completed processing rosters for league ${Ye.league_id}`),await new Promise(Te=>setTimeout(Te,200))}catch(Te){console.error(`Error processing league ${Ye.league_id}:`,Te)}H({success:!0,players_processed:Be,rosters_created:nt,rosters_updated:Nt,leagues_processed:ot,weeks_processed:kt}),console.log(`✓ Successfully synced rosters: ${nt} created, ${Nt} updated, ${Be} total player assignments`);const lt=new Date().toISOString();localStorage.setItem("last_rosters_sync",lt),de(new Date(lt).toLocaleString()),St({title:"Team Rosters Sync Complete",description:`${nt} rosters created, ${Nt} updated across ${ot} leagues`,variant:"default"})}catch(Be){console.error("❌ Error syncing rosters:",Be),H({success:!1,error:Be.toString(),players_processed:0,rosters_created:0,rosters_updated:0,leagues_processed:0,weeks_processed:0}),St({title:"Team Rosters Sync Failed",description:`Failed to sync rosters: ${Be}`,variant:"destructive"})}finally{y(!1),J(100)}},rs=async(W,pe)=>{var et;try{const{data:Be,error:nt}=await window.ezsite.apis.tablePage(12853,{PageNo:1,PageSize:1,Filters:[{name:"roster_id",op:"Equal",value:W},{name:"conference_id",op:"Equal",value:pe},{name:"is_active",op:"Equal",value:!0}]});return nt?(console.error(`Error finding team for roster_id ${W}:`,nt),null):((et=Be==null?void 0:Be.List)==null?void 0:et.length)>0?Be.List[0].team_id:(console.warn(`No team found for roster_id ${W} in conference ${pe}`),null)}catch(Be){return console.error("Error in getTeamIdFromRosterId:",Be),null}},as=async()=>{if(!o||n.length===0){St({title:"No Data to Sync",description:"Please select a season with conferences to sync",variant:"destructive"});return}d(!0),S(0),z([]);const W=[],pe=n.length;for(let Nt=0;Nt<n.length;Nt++){const ot=n[Nt];S((Nt+1)/pe*100);try{console.log(`Syncing league ${ot.league_id}...`);const kt=await fetch(`https://api.sleeper.app/v1/league/${ot.league_id}`);if(!kt.ok)throw new Error(`API returned ${kt.status}: ${kt.statusText}`);const Ue=await kt.json();console.log("Sleeper API response:",Ue);const Xe={ID:ot.id,conference_name:Ue.name||ot.conference_name,league_id:Ue.league_id||ot.league_id,season_id:ot.season_id,draft_id:Ue.draft_id||ot.draft_id,status:Ue.status||ot.status,league_logo_url:Ue.avatar?`https://sleepercdn.com/avatars/thumbs/${Ue.avatar}`:ot.league_logo_url},{error:lt}=await Fi("tableUpdate");if(lt)throw lt;W.push({league_id:ot.league_id,success:!0,data:Ue}),console.log(`Successfully synced league ${ot.league_id}`)}catch(kt){console.error(`Error syncing league ${ot.league_id}:`,kt),W.push({league_id:ot.league_id,success:!1,error:kt.toString()})}await new Promise(kt=>setTimeout(kt,200))}z(W),d(!1),S(100);const et=new Date().toISOString();localStorage.setItem("last_data_sync",et),Y(new Date(et).toLocaleString()),cl();const Be=W.filter(Nt=>Nt.success).length,nt=W.filter(Nt=>!Nt.success).length;St({title:"Data Sync Complete",description:`${Be} successful, ${nt} failed`,variant:nt>0?"destructive":"default"})},Ns=async()=>{var W,pe,et,Be;if(!o||n.length===0){St({title:"No Data to Sync",description:"Please select a season with conferences to sync teams",variant:"destructive"});return}f(!0),C(0),N([]);try{console.log("Starting teams sync from Sleeper API..."),C(5);const nt=[],Nt=n.length;let ot=0,kt=0;for(let Ye=0;Ye<n.length;Ye++){const Te=n[Ye];C(5+Ye/Nt*90);try{console.log(`Processing teams for league ${Te.league_id}...`);const[en,pt,un]=await Promise.all([fetch(`https://api.sleeper.app/v1/league/${Te.league_id}`),fetch(`https://api.sleeper.app/v1/league/${Te.league_id}/rosters`),fetch(`https://api.sleeper.app/v1/league/${Te.league_id}/users`)]);if(!en.ok||!pt.ok||!un.ok)throw new Error(`API request failed for league ${Te.league_id}`);const[tn,bn,is]=await Promise.all([en.json(),pt.json(),un.json()]);console.log(`Fetched ${bn.length} rosters and ${is.length} users for league ${Te.league_id}`);for(const Ln of bn){const qt=is.find(Sn=>Sn.user_id===Ln.owner_id);if(!qt){console.warn(`No user found for roster ${Ln.roster_id}`);continue}const ld={team_name:((W=qt.metadata)==null?void 0:W.team_name)||qt.display_name||qt.username,owner_name:qt.display_name||qt.username,owner_id:qt.user_id,co_owner_name:"",co_owner_id:"",team_logo_url:qt.avatar?`https://sleepercdn.com/avatars/thumbs/${qt.avatar}`:"",team_primary_color:"#1f2937",team_secondary_color:"#6b7280"},{data:os,error:Gs}=await window.ezsite.apis.tablePage(12852,{PageNo:1,PageSize:1,Filters:[{name:"owner_id",op:"Equal",value:qt.user_id}]});if(Gs){console.error("Error searching for existing team:",Gs);continue}let ls;if(((pe=os==null?void 0:os.List)==null?void 0:pe.length)>0){const Sn=os.List[0],Ti={...ld,ID:Sn.id},{error:Fa}=await Fi("tableUpdate");if(Fa){console.error("Error updating team:",Fa);continue}ls=Sn.id}else{const{error:Sn}=await jl("tableCreate");if(Sn){console.error("Error creating team:",Sn);continue}const{data:Ti,error:Fa}=await window.ezsite.apis.tablePage(12852,{PageNo:1,PageSize:1,Filters:[{name:"owner_id",op:"Equal",value:qt.user_id}]});if(Fa||!((et=Ti==null?void 0:Ti.List)!=null&&et.length)){console.error("Error retrieving new team ID");continue}ls=Ti.List[0].id,ot++}const cd={team_id:ls,conference_id:Te.id,roster_id:Ln.roster_id.toString(),is_active:!0,joined_date:new Date().toISOString()},{data:cs,error:_h}=await window.ezsite.apis.tablePage(12853,{PageNo:1,PageSize:1,Filters:[{name:"team_id",op:"Equal",value:ls},{name:"conference_id",op:"Equal",value:Te.id}]});if(_h){console.error("Error searching for existing junction:",_h);continue}if(((Be=cs==null?void 0:cs.List)==null?void 0:Be.length)>0){const Sn=cs.List[0],Ti={...cd,ID:Sn.id},{error:Fa}=await Fi("tableUpdate");Fa&&console.error("Error updating junction:",Fa)}else{const{error:Sn}=await jl("tableCreate");Sn?console.error("Error creating junction:",Sn):kt++}}nt.push({league_id:Te.league_id,success:!0,teams_created:ot,junction_records_created:kt}),console.log(`✓ Completed teams sync for league ${Te.league_id}`)}catch(en){console.error(`Error syncing teams for league ${Te.league_id}:`,en),nt.push({league_id:Te.league_id,success:!1,error:en.toString(),teams_created:0,junction_records_created:0})}await new Promise(en=>setTimeout(en,200))}N(nt),C(100);const Ue=new Date().toISOString();localStorage.setItem("last_teams_sync",Ue),K(new Date(Ue).toLocaleString()),Ss();const Xe=nt.filter(Ye=>Ye.success).length,lt=nt.filter(Ye=>!Ye.success).length;St({title:"Teams Sync Complete",description:`${Xe} successful, ${lt} failed`,variant:lt>0?"destructive":"default"})}catch(nt){console.error("❌ Error syncing teams:",nt),St({title:"Teams Sync Failed",description:`Failed to sync teams: ${nt}`,variant:"destructive"})}finally{f(!1)}},Ia=async()=>{var W;g(!0),A(0),E(null);try{console.log("Starting players sync from Sleeper API..."),A(5);const pe=await fetch("https://api.sleeper.app/v1/players/nfl");if(!pe.ok)throw new Error(`API returned ${pe.status}: ${pe.statusText}`);const et=await pe.json(),Be=Object.keys(et);console.log(`Fetched ${Be.length} players from Sleeper API`),A(20);let nt=0,Nt=0;const ot=Be.length;for(let Ue=0;Ue<Be.length;Ue++){const Xe=Be[Ue],lt=et[Xe];if(!lt)continue;const Ye=20+Ue/ot*75;A(Ye);try{const{data:Te,error:en}=await window.ezsite.apis.tablePage(12870,{PageNo:1,PageSize:1,Filters:[{name:"sleeper_player_id",op:"Equal",value:Xe}]});if(en){console.error(`Error searching for player ${Xe}:`,en);continue}const pt={sleeper_player_id:Xe,player_name:`${lt.first_name||""} ${lt.last_name||""}`.trim()||"Unknown Player",position:lt.position||"UNK",team_id:0,nfl_team:lt.team||"FA",jersey_number:lt.jersey_number||0,status:lt.status||"Active",injury_status:lt.injury_status||"Healthy",age:lt.age||0,height:lt.height||"",weight:lt.weight||0,years_experience:lt.years_exp||0,depth_chart_position:lt.depth_chart_position||1,college:lt.college||"",is_current_data:!0,last_updated:new Date().toISOString(),data_version:1};if(((W=Te==null?void 0:Te.List)==null?void 0:W.length)>0){const un=Te.List[0],tn={...pt,ID:un.id},{error:bn}=await Fi("tableUpdate");bn?console.error(`Error updating player ${Xe}:`,bn):Nt++}else{const{error:un}=await jl("tableCreate");un?console.error(`Error creating player ${Xe}:`,un):nt++}}catch(Te){console.error(`Error processing player ${Xe}:`,Te)}Ue%100===0&&await new Promise(Te=>setTimeout(Te,50))}E({success:!0,players_created:nt,players_updated:Nt}),console.log(`✓ Successfully synced players: ${nt} created, ${Nt} updated`);const kt=new Date().toISOString();localStorage.setItem("last_players_sync",kt),ue(new Date(kt).toLocaleString()),St({title:"Players Sync Complete",description:`${nt} players created, ${Nt} updated`,variant:"default"})}catch(pe){console.error("❌ Error syncing players:",pe),E({success:!1,error:pe.toString(),players_created:0,players_updated:0}),St({title:"Players Sync Failed",description:`Failed to sync players: ${pe}`,variant:"destructive"})}finally{g(!1),A(100)}},Oa=async()=>{var W;if(!o||n.length===0){St({title:"No Data to Sync",description:"Please select a season with conferences to sync matchups",variant:"destructive"});return}v(!0),$(0),B(null);try{console.log("Starting matchups sync from Sleeper API..."),$(5);let pe=0,et=0,Be=0,nt=0;const Nt=n.length*17;let ot=0;for(const Ue of n)try{console.log(`Processing matchups for league ${Ue.league_id}...`);for(let Xe=1;Xe<=17;Xe++){try{console.log(`Fetching matchups for league ${Ue.league_id}, week ${Xe}...`);const Ye=await fetch(`https://api.sleeper.app/v1/league/${Ue.league_id}/matchups/${Xe}`);if(!Ye.ok){if(Ye.status===404){console.log(`No matchups found for league ${Ue.league_id}, week ${Xe} (404)`);continue}throw new Error(`API returned ${Ye.status}: ${Ye.statusText}`)}const Te=await Ye.json();if(console.log(`Received ${Te.length} matchup entries for league ${Ue.league_id}, week ${Xe}`),!Array.isArray(Te)||Te.length===0){console.log(`No matchup data available for league ${Ue.league_id}, week ${Xe}`);continue}const en=new Map;Te.forEach(pt=>{en.has(pt.matchup_id)||en.set(pt.matchup_id,[]),en.get(pt.matchup_id).push(pt)});for(const[pt,un]of en.entries()){if(un.length!==2){console.warn(`Skipping incomplete matchup ${pt} - only ${un.length} teams`);continue}const[tn,bn]=un,is=await rs(tn.roster_id.toString(),Ue.id),Ln=await rs(bn.roster_id.toString(),Ue.id);if(!is||!Ln){console.warn(`Could not find team IDs for matchup ${pt}`);continue}let qt=0;tn.points>bn.points?qt=is:bn.points>tn.points&&(qt=Ln);const ld={conference_id:Ue.id,week:Xe,team_1_id:is,team_2_id:Ln,is_playoff:Xe>14,sleeper_matchup_id:pt.toString(),team_1_score:tn.points||0,team_2_score:bn.points||0,winner_id:qt,is_manual_override:!1,status:tn.points>0||bn.points>0?"complete":"pending",matchup_date:new Date().toISOString(),notes:""},{data:os,error:Gs}=await window.ezsite.apis.tablePage(13329,{PageNo:1,PageSize:1,Filters:[{name:"conference_id",op:"Equal",value:Ue.id},{name:"week",op:"Equal",value:Xe},{name:"sleeper_matchup_id",op:"Equal",value:pt.toString()}]});if(Gs){console.error("Error searching for existing matchup:",Gs);continue}if(((W=os==null?void 0:os.List)==null?void 0:W.length)>0){const ls=os.List[0],cd={...ld,ID:ls.id},{error:cs}=await Fi("tableUpdate");cs?console.error("Error updating matchup:",cs):et++}else{const{error:ls}=await jl("tableCreate");ls?console.error("Error creating matchup:",ls):pe++}}nt++,await new Promise(pt=>setTimeout(pt,100))}catch(Ye){console.error(`Error processing week ${Xe} for league ${Ue.league_id}:`,Ye)}ot++;const lt=5+ot/Nt*90;$(lt)}Be++,console.log(`✓ Completed matchups sync for league ${Ue.league_id}`),await new Promise(Xe=>setTimeout(Xe,200))}catch(Xe){console.error(`Error processing league ${Ue.league_id}:`,Xe)}B({success:!0,matchups_created:pe,matchups_updated:et,leagues_processed:Be,weeks_processed:nt}),console.log(`✓ Successfully synced matchups: ${pe} created, ${et} updated`);const kt=new Date().toISOString();localStorage.setItem("last_matchups_sync",kt),ce(new Date(kt).toLocaleString()),St({title:"Matchups Sync Complete",description:`${pe} matchups created, ${et} updated across ${Be} leagues`,variant:"default"})}catch(pe){console.error("❌ Error syncing matchups:",pe),B({success:!1,error:pe.toString(),matchups_created:0,matchups_updated:0,leagues_processed:0,weeks_processed:0}),St({title:"Matchups Sync Failed",description:`Failed to sync matchups: ${pe}`,variant:"destructive"})}finally{v(!1),$(100)}},Ks=async()=>{x(!0),M(0),G(null);try{console.log("Starting draft sync from Sleeper API..."),M(5);const W=await pT.fetchAndStoreDraftResults();if(M(100),W.success){G({success:!0,message:W.message,data:W.data});const pe=new Date().toISOString();localStorage.setItem("last_draft_sync",pe),we(new Date(pe).toLocaleString()),St({title:"Draft Sync Complete",description:W.message,variant:"default"})}else G({success:!1,error:W.message,message:W.message}),St({title:"Draft Sync Failed",description:W.message,variant:"destructive"})}catch(W){console.error("❌ Error syncing draft:",W),G({success:!1,error:W.toString(),message:`Draft sync failed: ${W}`}),St({title:"Draft Sync Failed",description:`Failed to sync draft: ${W}`,variant:"destructive"})}finally{x(!1)}},Ht=e.find(W=>W.id===o);return Se?r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsx("div",{className:"animate-spin h-8 w-8 border-b-2 border-blue-600 rounded-full"})}):r.jsx("div",{className:"space-y-6",children:r.jsxs(Q,{children:[r.jsxs(oe,{children:[r.jsxs(le,{className:"flex items-center gap-2",children:[r.jsx(Bi,{className:"h-5 w-5"}),"Data Synchronization"]}),r.jsx(_e,{children:"Sync conference, team, and player data from Sleeper API to update database records"})]}),r.jsxs(ee,{children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsx("div",{className:"flex items-center gap-4",children:r.jsx("div",{className:"flex-1",children:r.jsxs(ht,{value:(o==null?void 0:o.toString())||"",onValueChange:W=>l(parseInt(W)),children:[r.jsx(at,{className:"w-[200px]",children:r.jsx(mt,{placeholder:"Select season"})}),r.jsx(it,{children:e.map(W=>r.jsx(Pe,{value:W.id.toString(),children:W.season_name},W.id))})]})})})}),Ht&&r.jsxs(r.Fragment,{children:[n.length===0&&r.jsxs(Le,{className:"mb-6",children:[r.jsx(Ve,{className:"h-4 w-4"}),r.jsxs(Ie,{children:["No conferences found for ",Ht.season_name,". Conference and Team sync require leagues to be added first, but Player sync can be performed independently."]})]}),r.jsxs(Fr,{defaultValue:n.length>0?"conferences":"players",className:"space-y-6",children:[r.jsxs(mr,{className:"grid w-full grid-cols-6",children:[r.jsxs(Oe,{value:"conferences",className:"flex items-center gap-2",children:[r.jsx(xt,{className:"h-4 w-4"}),"Conference Sync"]}),r.jsxs(Oe,{value:"teams",className:"flex items-center gap-2",children:[r.jsx(Vt,{className:"h-4 w-4"}),"Teams Sync"]}),r.jsxs(Oe,{value:"matchups",className:"flex items-center gap-2",children:[r.jsx(Je,{className:"h-4 w-4"}),"Matchups Sync"]}),r.jsxs(Oe,{value:"draft",className:"flex items-center gap-2",children:[r.jsx(au,{className:"h-4 w-4"}),"Draft Sync"]}),r.jsxs(Oe,{value:"rosters",className:"flex items-center gap-2",children:[r.jsx(em,{className:"h-4 w-4"}),"Team Rosters"]}),r.jsxs(Oe,{value:"players",className:"flex items-center gap-2",children:[r.jsx(ho,{className:"h-4 w-4"}),"Players Sync"]})]}),r.jsx(Fe,{value:"rosters",children:n.length===0?r.jsxs(Le,{children:[r.jsx(Ve,{className:"h-4 w-4"}),r.jsx(Ie,{children:"No conferences available for team rosters synchronization. Please add leagues in the League Manager tab first."})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center gap-4",children:qe&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx(er,{className:"h-4 w-4"}),"Last rosters sync: ",qe]})}),r.jsx(Z,{onClick:Ot,disabled:p||!o||n.length===0,children:p?r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:"h-4 w-4 mr-2 animate-spin"}),"Syncing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(em,{className:"h-4 w-4 mr-2"}),"Sync Team Rosters"]})})]}),r.jsxs(Q,{children:[r.jsxs(oe,{children:[r.jsxs(le,{className:"flex items-center gap-2",children:[r.jsx(pN,{className:"h-5 w-5"}),"Week Filtering Options"]}),r.jsx(_e,{children:"Choose which weeks to sync for team rosters data"})]}),r.jsxs(ee,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs(ht,{value:Mn,onValueChange:je,children:[r.jsx(at,{className:"w-[200px]",children:r.jsx(mt,{placeholder:"Select sync mode"})}),r.jsxs(it,{children:[r.jsx(Pe,{value:"all",children:"All Weeks (1-17)"}),r.jsx(Pe,{value:"range",children:"Week Range"}),r.jsx(Pe,{value:"specific",children:"Specific Weeks"})]})]}),Mn==="range"&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm",children:"From week:"}),r.jsxs(ht,{value:Ke.toString(),onValueChange:W=>Jt(parseInt(W)),children:[r.jsx(at,{className:"w-20",children:r.jsx(mt,{})}),r.jsx(it,{children:Array.from({length:17},(W,pe)=>pe+1).map(W=>r.jsx(Pe,{value:W.toString(),children:W},W))})]}),r.jsx("span",{className:"text-sm",children:"to week:"}),r.jsxs(ht,{value:zt.toString(),onValueChange:W=>Ci(parseInt(W)),children:[r.jsx(at,{className:"w-20",children:r.jsx(mt,{})}),r.jsx(it,{children:Array.from({length:17},(W,pe)=>pe+1).filter(W=>W>=Ke).map(W=>r.jsx(Pe,{value:W.toString(),children:W},W))})]})]})]}),Mn==="specific"&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Z,{variant:"outline",size:"sm",onClick:ss,className:"text-xs",children:"Select All"}),r.jsx(Z,{variant:"outline",size:"sm",onClick:Ur,className:"text-xs",children:"Clear All"}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[ll.length," weeks selected"]})]}),r.jsx("div",{className:"grid grid-cols-9 gap-2",children:Array.from({length:17},(W,pe)=>pe+1).map(W=>r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Pv,{id:`week-${W}`,checked:ll.includes(W),onCheckedChange:()=>_n(W)}),r.jsx("label",{htmlFor:`week-${W}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:W})]},W))})]}),r.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(Qn,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Sync Summary"})]}),r.jsx("div",{className:"text-sm text-blue-700",children:(()=>{const W=Zt();return`Will sync ${W.length} week${W.length!==1?"s":""} (${W.join(", ")}) across ${n.length} conference${n.length!==1?"s":""} = ${W.length*n.length} total operations`})()})]})]})]}),p&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium",children:"Synchronizing team rosters..."}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(F),"%"]})]}),r.jsx(tr,{value:F,className:"w-full"})]}),r.jsxs(Q,{children:[r.jsxs(oe,{children:[r.jsxs(le,{className:"text-lg",children:["Team Rosters Synchronization - ",Ht.season_name]}),r.jsxs(_e,{children:["Sync weekly team roster data from Sleeper API using matchups endpoint for ",n.length," conference",n.length!==1?"s":""," across selected weeks"]})]}),r.jsxs(ee,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(em,{className:"h-5 w-5 text-blue-600"}),r.jsx("h4",{className:"font-semibold",children:"Roster Data"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Fetches weekly roster information including:"}),r.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[r.jsx("li",{children:"• Player assignments to teams by week"}),r.jsx("li",{children:"• Active roster compositions"}),r.jsx("li",{children:"• Team-player relationships over time"}),r.jsx("li",{children:"• Historical roster tracking"})]})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Bi,{className:"h-5 w-5 text-green-600"}),r.jsx("h4",{className:"font-semibold",children:"Data Mapping"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Uses existing data for accurate mapping:"}),r.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[r.jsx("li",{children:"• Maps roster_id to team_id via junction table"}),r.jsx("li",{children:"• Maps sleeper_player_id to player_id"}),r.jsx("li",{children:"• Creates weekly roster assignments"}),r.jsxs("li",{children:["• Processes ",n.length*17," total operations"]})]})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Sync Process Overview:"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[r.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded",children:[r.jsx("div",{className:"text-sm font-medium text-blue-800",children:"Step 1: API Calls"}),r.jsx("div",{className:"text-xs text-blue-600",children:"Fetch matchups for each league & week"})]}),r.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded",children:[r.jsx("div",{className:"text-sm font-medium text-yellow-800",children:"Step 2: Data Mapping"}),r.jsx("div",{className:"text-xs text-yellow-600",children:"Map roster_id & player_id to database"})]}),r.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 rounded",children:[r.jsx("div",{className:"text-sm font-medium text-green-800",children:"Step 3: Store Rosters"}),r.jsx("div",{className:"text-xs text-green-600",children:"Save weekly roster assignments"})]})]})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Conferences to Process:"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:n.map(W=>r.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded",children:[r.jsx(se,{variant:"outline",className:"text-xs",children:W.league_id}),r.jsx("span",{className:"text-sm truncate",children:W.conference_name})]},W.id))}),r.jsxs("div",{className:"mt-2 text-xs text-muted-foreground",children:["Total operations: ",n.length," leagues × ",Zt().length," weeks = ",n.length*Zt().length," API calls"]})]}),r.jsxs(Le,{className:"mt-4",children:[r.jsx(Ve,{className:"h-4 w-4"}),r.jsxs(Ie,{children:[r.jsx("strong",{children:"Note:"}),` This sync processes team rosters for the selected weeks across all conferences using the matchups endpoint. The "players" array from each matchup entry contains all players on that team's roster for that specific week. Weeks that don't exist yet (future weeks) will be skipped automatically.`]})]})]})]}),q&&r.jsxs(Q,{children:[r.jsxs(oe,{children:[r.jsx(le,{className:"text-lg",children:"Team Rosters Sync Results"}),r.jsx(_e,{children:"Results from the last team rosters synchronization"})]}),r.jsx(ee,{children:r.jsxs("div",{className:"p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[q.success?r.jsx(Cl,{className:"h-5 w-5 text-green-600"}):r.jsx(Ve,{className:"h-5 w-5 text-red-600"}),r.jsx("span",{className:"font-medium",children:"Team Rosters Synchronization"})]}),r.jsx("div",{className:"text-sm",children:q.success?r.jsx("span",{className:"text-green-600",children:"Success"}):r.jsx("span",{className:"text-red-600",children:"Failed"})})]}),q.success&&r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 text-sm text-muted-foreground",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Created:"}),r.jsx("div",{className:"text-lg font-semibold text-green-600",children:q.rosters_created})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Updated:"}),r.jsx("div",{className:"text-lg font-semibold text-blue-600",children:q.rosters_updated})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Players:"}),r.jsx("div",{className:"text-lg font-semibold text-purple-600",children:q.players_processed})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Leagues:"}),r.jsx("div",{className:"text-lg font-semibold text-orange-600",children:q.leagues_processed})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Weeks:"}),r.jsx("div",{className:"text-lg font-semibold text-teal-600",children:q.weeks_processed})]})]}),q.error&&r.jsx("div",{className:"text-sm text-red-600 mt-1",children:q.error})]})})]})]})}),r.jsx(Fe,{value:"conferences",children:n.length===0?r.jsxs(Le,{children:[r.jsx(Ve,{className:"h-4 w-4"}),r.jsx(Ie,{children:"No conferences available. Please add leagues in the League Manager tab first."})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center gap-4",children:O&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx(er,{className:"h-4 w-4"}),"Last sync: ",O]})}),r.jsx(Z,{onClick:as,disabled:c||!o||n.length===0,children:c?r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:"h-4 w-4 mr-2 animate-spin"}),"Syncing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(xt,{className:"h-4 w-4 mr-2"}),"Sync Conference Data"]})})]}),c&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium",children:"Synchronizing conferences..."}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(_),"%"]})]}),r.jsx(tr,{value:_,className:"w-full"})]}),r.jsxs(Q,{children:[r.jsxs(oe,{children:[r.jsxs(le,{className:"text-lg",children:["Conference Synchronization - ",Ht==null?void 0:Ht.season_name]}),r.jsx(_e,{children:"Sync conference data from Sleeper API to update league information"})]}),r.jsx(ee,{children:r.jsxs("div",{className:"mb-4",children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Conferences to Process:"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:n.map(W=>r.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded",children:[r.jsx(se,{variant:"outline",className:"text-xs",children:W.league_id}),r.jsx("span",{className:"text-sm truncate",children:W.conference_name})]},W.id))})]})})]}),U.length>0&&r.jsxs(Q,{children:[r.jsx(oe,{children:r.jsx(le,{className:"text-lg",children:"Sync Results"})}),r.jsx(ee,{children:r.jsxs(rn,{children:[r.jsx(an,{children:r.jsxs(ke,{children:[r.jsx(ie,{children:"League ID"}),r.jsx(ie,{children:"Status"}),r.jsx(ie,{children:"Details"})]})}),r.jsx(on,{children:U.map((W,pe)=>r.jsxs(ke,{children:[r.jsx(ne,{className:"font-medium",children:W.league_id}),r.jsx(ne,{children:W.success?r.jsx(se,{variant:"default",children:"Success"}):r.jsx(se,{variant:"destructive",children:"Failed"})}),r.jsx(ne,{children:W.success?r.jsx("span",{className:"text-green-600",children:"Updated successfully"}):r.jsx("span",{className:"text-red-600",children:W.error})})]},pe))})]})})]})]})}),r.jsx(Fe,{value:"teams",children:n.length===0?r.jsxs(Le,{children:[r.jsx(Ve,{className:"h-4 w-4"}),r.jsx(Ie,{children:"No conferences available for team synchronization. Please add leagues in the League Manager tab first."})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center gap-4",children:V&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx(er,{className:"h-4 w-4"}),"Last teams sync: ",V]})}),r.jsx(Z,{onClick:Ns,disabled:u||!o||n.length===0,children:u?r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:"h-4 w-4 mr-2 animate-spin"}),"Syncing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Sync Teams"]})})]}),u&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium",children:"Synchronizing teams..."}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(P),"%"]})]}),r.jsx(tr,{value:P,className:"w-full"})]}),r.jsxs(Q,{children:[r.jsxs(oe,{children:[r.jsxs(le,{className:"text-lg",children:["Teams Synchronization - ",Ht==null?void 0:Ht.season_name]}),r.jsx(_e,{children:"Sync team data from Sleeper API including owners, team names, and roster mappings"})]}),r.jsx(ee,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Vt,{className:"h-5 w-5 text-blue-600"}),r.jsx("h4",{className:"font-semibold",children:"Team Data"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Creates teams and junction records:"}),r.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[r.jsx("li",{children:"• Team names and owner information"}),r.jsx("li",{children:"• Avatar/logo URLs"}),r.jsx("li",{children:"• Roster ID mappings"}),r.jsx("li",{children:"• Conference relationships"})]})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Bi,{className:"h-5 w-5 text-green-600"}),r.jsx("h4",{className:"font-semibold",children:"Data Structure"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Updates database tables:"}),r.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[r.jsx("li",{children:"• Teams table (team info)"}),r.jsx("li",{children:"• Junction table (team-conference mapping)"}),r.jsx("li",{children:"• Roster ID associations"}),r.jsx("li",{children:"• Active status tracking"})]})]})]})})]}),k.length>0&&r.jsxs(Q,{children:[r.jsx(oe,{children:r.jsx(le,{className:"text-lg",children:"Teams Sync Results"})}),r.jsx(ee,{children:r.jsxs(rn,{children:[r.jsx(an,{children:r.jsxs(ke,{children:[r.jsx(ie,{children:"League ID"}),r.jsx(ie,{children:"Status"}),r.jsx(ie,{children:"Teams Created"}),r.jsx(ie,{children:"Junction Records"}),r.jsx(ie,{children:"Details"})]})}),r.jsx(on,{children:k.map((W,pe)=>r.jsxs(ke,{children:[r.jsx(ne,{className:"font-medium",children:W.league_id}),r.jsx(ne,{children:W.success?r.jsx(se,{variant:"default",children:"Success"}):r.jsx(se,{variant:"destructive",children:"Failed"})}),r.jsx(ne,{children:W.success?W.teams_created:0}),r.jsx(ne,{children:W.success?W.junction_records_created:0}),r.jsx(ne,{children:W.success?r.jsx("span",{className:"text-green-600",children:"Updated successfully"}):r.jsx("span",{className:"text-red-600",children:W.error})})]},pe))})]})})]})]})}),r.jsx(Fe,{value:"matchups",children:n.length===0?r.jsxs(Le,{children:[r.jsx(Ve,{className:"h-4 w-4"}),r.jsx(Ie,{children:"No conferences available for matchup synchronization. Please add leagues in the League Manager tab first."})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center gap-4",children:fe&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx(er,{className:"h-4 w-4"}),"Last matchups sync: ",fe]})}),r.jsx(Z,{onClick:Oa,disabled:j||!o||n.length===0,children:j?r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:"h-4 w-4 mr-2 animate-spin"}),"Syncing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:"h-4 w-4 mr-2"}),"Sync Matchups"]})})]}),j&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium",children:"Synchronizing matchups..."}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(D),"%"]})]}),r.jsx(tr,{value:D,className:"w-full"})]}),r.jsxs(Q,{children:[r.jsxs(oe,{children:[r.jsxs(le,{className:"text-lg",children:["Matchups Synchronization - ",Ht==null?void 0:Ht.season_name]}),r.jsx(_e,{children:"Sync matchup data from Sleeper API for all weeks across all conferences"})]}),r.jsx(ee,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Je,{className:"h-5 w-5 text-blue-600"}),r.jsx("h4",{className:"font-semibold",children:"Matchup Data"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Processes matchup information:"}),r.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[r.jsx("li",{children:"• Team matchups for all weeks"}),r.jsx("li",{children:"• Scores and results"}),r.jsx("li",{children:"• Winner determination"}),r.jsx("li",{children:"• Playoff vs regular season"})]})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Qn,{className:"h-5 w-5 text-green-600"}),r.jsx("h4",{className:"font-semibold",children:"Season Coverage"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Covers the entire season:"}),r.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[r.jsx("li",{children:"• Weeks 1-17 for each conference"}),r.jsx("li",{children:"• Regular season and playoffs"}),r.jsxs("li",{children:["• ",n.length*17," total operations"]}),r.jsx("li",{children:"• Automatic status detection"})]})]})]})})]}),R&&r.jsxs(Q,{children:[r.jsx(oe,{children:r.jsx(le,{className:"text-lg",children:"Matchups Sync Results"})}),r.jsx(ee,{children:r.jsxs("div",{className:"p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[R.success?r.jsx(Cl,{className:"h-5 w-5 text-green-600"}):r.jsx(Ve,{className:"h-5 w-5 text-red-600"}),r.jsx("span",{className:"font-medium",children:"Matchups Synchronization"})]}),r.jsx("div",{className:"text-sm",children:R.success?r.jsx("span",{className:"text-green-600",children:"Success"}):r.jsx("span",{className:"text-red-600",children:"Failed"})})]}),R.success&&r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-muted-foreground",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Created:"}),r.jsx("div",{className:"text-lg font-semibold text-green-600",children:R.matchups_created})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Updated:"}),r.jsx("div",{className:"text-lg font-semibold text-blue-600",children:R.matchups_updated})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Leagues:"}),r.jsx("div",{className:"text-lg font-semibold text-orange-600",children:R.leagues_processed})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Weeks:"}),r.jsx("div",{className:"text-lg font-semibold text-purple-600",children:R.weeks_processed})]})]}),R.error&&r.jsx("div",{className:"text-sm text-red-600 mt-1",children:R.error})]})})]})]})}),r.jsx(Fe,{value:"draft",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center gap-4",children:me&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx(er,{className:"h-4 w-4"}),"Last draft sync: ",me]})}),r.jsx(Z,{onClick:Ks,disabled:w,children:w?r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:"h-4 w-4 mr-2 animate-spin"}),"Syncing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(au,{className:"h-4 w-4 mr-2"}),"Sync Draft Results"]})})]}),w&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium",children:"Synchronizing draft results..."}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(I),"%"]})]}),r.jsx(tr,{value:I,className:"w-full"})]}),r.jsxs(Q,{children:[r.jsxs(oe,{children:[r.jsx(le,{className:"text-lg",children:"Draft Results Synchronization"}),r.jsx(_e,{children:"Sync draft results from Sleeper API for all conferences and seasons"})]}),r.jsxs(ee,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(au,{className:"h-5 w-5 text-blue-600"}),r.jsx("h4",{className:"font-semibold",children:"Draft Data"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Processes draft information:"}),r.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[r.jsx("li",{children:"• Draft picks by round and position"}),r.jsx("li",{children:"• Player information and positions"}),r.jsx("li",{children:"• Team assignments"}),r.jsx("li",{children:"• Historical draft tracking"})]})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Bi,{className:"h-5 w-5 text-green-600"}),r.jsx("h4",{className:"font-semibold",children:"Data Processing"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Updates draft results table:"}),r.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[r.jsx("li",{children:"• Maps roster IDs to team IDs"}),r.jsx("li",{children:"• Processes all conferences"}),r.jsx("li",{children:"• Handles multiple seasons"}),r.jsx("li",{children:"• Clears and refreshes data"})]})]})]}),r.jsxs(Le,{children:[r.jsx(Ve,{className:"h-4 w-4"}),r.jsxs(Ie,{children:[r.jsx("strong",{children:"Note:"})," This sync processes draft results for all conferences and seasons. It will clear existing draft data and repopulate it with the latest information from Sleeper API."]})]})]})]}),L&&r.jsxs(Q,{children:[r.jsx(oe,{children:r.jsx(le,{className:"text-lg",children:"Draft Sync Results"})}),r.jsx(ee,{children:r.jsxs("div",{className:"p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[L.success?r.jsx(Cl,{className:"h-5 w-5 text-green-600"}):r.jsx(Ve,{className:"h-5 w-5 text-red-600"}),r.jsx("span",{className:"font-medium",children:"Draft Synchronization"})]}),r.jsx("div",{className:"text-sm",children:L.success?r.jsx("span",{className:"text-green-600",children:"Success"}):r.jsx("span",{className:"text-red-600",children:"Failed"})})]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:L.message}),L.error&&r.jsx("div",{className:"text-sm text-red-600 mt-1",children:L.error})]})})]})]})}),r.jsx(Fe,{value:"players",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center gap-4",children:te&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx(er,{className:"h-4 w-4"}),"Last players sync: ",te]})}),r.jsx(Z,{onClick:Ia,disabled:m,children:m?r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:"h-4 w-4 mr-2 animate-spin"}),"Syncing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(ho,{className:"h-4 w-4 mr-2"}),"Sync Players"]})})]}),m&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium",children:"Synchronizing players..."}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(T),"%"]})]}),r.jsx(tr,{value:T,className:"w-full"})]}),r.jsxs(Q,{children:[r.jsxs(oe,{children:[r.jsx(le,{className:"text-lg",children:"Players Synchronization"}),r.jsx(_e,{children:"Sync all NFL players data from Sleeper API - this operation is independent of conferences"})]}),r.jsxs(ee,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(ho,{className:"h-5 w-5 text-blue-600"}),r.jsx("h4",{className:"font-semibold",children:"Player Data"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Syncs comprehensive player information:"}),r.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[r.jsx("li",{children:"• Names and positions"}),r.jsx("li",{children:"• NFL team affiliations"}),r.jsx("li",{children:"• Physical attributes"}),r.jsx("li",{children:"• Injury status"}),r.jsx("li",{children:"• College and experience"})]})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Bi,{className:"h-5 w-5 text-green-600"}),r.jsx("h4",{className:"font-semibold",children:"Data Management"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Updates player database:"}),r.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[r.jsx("li",{children:"• Creates new player records"}),r.jsx("li",{children:"• Updates existing player info"}),r.jsx("li",{children:"• Maintains Sleeper ID mappings"}),r.jsx("li",{children:"• Processes thousands of players"})]})]})]}),r.jsxs(Le,{children:[r.jsx(Ve,{className:"h-4 w-4"}),r.jsxs(Ie,{children:[r.jsx("strong",{children:"Note:"})," This sync processes all NFL players from Sleeper API. It can take several minutes to complete and will update or create thousands of player records."]})]})]})]}),b&&r.jsxs(Q,{children:[r.jsx(oe,{children:r.jsx(le,{className:"text-lg",children:"Players Sync Results"})}),r.jsx(ee,{children:r.jsxs("div",{className:"p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[b.success?r.jsx(Cl,{className:"h-5 w-5 text-green-600"}):r.jsx(Ve,{className:"h-5 w-5 text-red-600"}),r.jsx("span",{className:"font-medium",children:"Players Synchronization"})]}),r.jsx("div",{className:"text-sm",children:b.success?r.jsx("span",{className:"text-green-600",children:"Success"}):r.jsx("span",{className:"text-red-600",children:"Failed"})})]}),b.success&&r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Created:"}),r.jsx("div",{className:"text-lg font-semibold text-green-600",children:b.players_created})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Updated:"}),r.jsx("div",{className:"text-lg font-semibold text-blue-600",children:b.players_updated})]})]}),b.error&&r.jsx("div",{className:"text-sm text-red-600 mt-1",children:b.error})]})})]})]})})]})]})]})]})})},Fi=async(e,t)=>(console.log(`Placeholder Update: ${e}`,t),{error:null}),jl=async(e,t)=>(console.log(`Placeholder Create: ${e}`,t),{error:null});function iB(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return h.useMemo(()=>s=>{t.forEach(a=>a(s))},t)}const ah=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function tl(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Rv(e){return"nodeType"in e}function Dn(e){var t,n;return e?tl(e)?e:Rv(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Av(e){const{Document:t}=Dn(e);return e instanceof t}function Zc(e){return tl(e)?!1:e instanceof Dn(e).HTMLElement}function gT(e){return e instanceof Dn(e).SVGElement}function nl(e){return e?tl(e)?e.document:Rv(e)?Av(e)?e:Zc(e)||gT(e)?e.ownerDocument:document:document:document}const zs=ah?h.useLayoutEffect:h.useEffect;function ih(e){const t=h.useRef(e);return zs(()=>{t.current=e}),h.useCallback(function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return t.current==null?void 0:t.current(...s)},[])}function oB(){const e=h.useRef(null),t=h.useCallback((s,a)=>{e.current=setInterval(s,a)},[]),n=h.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Ec(e,t){t===void 0&&(t=[e]);const n=h.useRef(e);return zs(()=>{n.current!==e&&(n.current=e)},t),n}function ed(e,t){const n=h.useRef();return h.useMemo(()=>{const s=e(n.current);return n.current=s,s},[...t])}function Zu(e){const t=ih(e),n=h.useRef(null),s=h.useCallback(a=>{a!==n.current&&(t==null||t(a,n.current)),n.current=a},[]);return[n,s]}function ef(e){const t=h.useRef();return h.useEffect(()=>{t.current=e},[e]),t.current}let Sm={};function td(e,t){return h.useMemo(()=>{if(t)return t;const n=Sm[e]==null?0:Sm[e]+1;return Sm[e]=n,e+"-"+n},[e,t])}function xT(e){return function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),a=1;a<n;a++)s[a-1]=arguments[a];return s.reduce((i,o)=>{const l=Object.entries(o);for(const[c,d]of l){const u=i[c];u!=null&&(i[c]=u+e*d)}return i},{...t})}}const xo=xT(1),Cc=xT(-1);function lB(e){return"clientX"in e&&"clientY"in e}function oh(e){if(!e)return!1;const{KeyboardEvent:t}=Dn(e.target);return t&&e instanceof t}function cB(e){if(!e)return!1;const{TouchEvent:t}=Dn(e.target);return t&&e instanceof t}function tf(e){if(cB(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return lB(e)?{x:e.clientX,y:e.clientY}:null}const Mr=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Mr.Translate.toString(e),Mr.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:s}=e;return t+" "+n+"ms "+s}}}),V0="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function dB(e){return e.matches(V0)?e:e.querySelector(V0)}const uB={display:"none"};function fB(e){let{id:t,value:n}=e;return Me.createElement("div",{id:t,style:uB},n)}function hB(e){let{id:t,announcement:n,ariaLiveType:s="assertive"}=e;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Me.createElement("div",{id:t,style:a,role:"status","aria-live":s,"aria-atomic":!0},n)}function mB(){const[e,t]=h.useState("");return{announce:h.useCallback(s=>{s!=null&&t(s)},[]),announcement:e}}const vT=h.createContext(null);function pB(e){const t=h.useContext(vT);h.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function gB(){const[e]=h.useState(()=>new Set),t=h.useCallback(s=>(e.add(s),()=>e.delete(s)),[e]);return[h.useCallback(s=>{let{type:a,event:i}=s;e.forEach(o=>{var l;return(l=o[a])==null?void 0:l.call(o,i)})},[e]),t]}const xB={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},vB={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function yB(e){let{announcements:t=vB,container:n,hiddenTextDescribedById:s,screenReaderInstructions:a=xB}=e;const{announce:i,announcement:o}=mB(),l=td("DndLiveRegion"),[c,d]=h.useState(!1);if(h.useEffect(()=>{d(!0)},[]),pB(h.useMemo(()=>({onDragStart(f){let{active:m}=f;i(t.onDragStart({active:m}))},onDragMove(f){let{active:m,over:g}=f;t.onDragMove&&i(t.onDragMove({active:m,over:g}))},onDragOver(f){let{active:m,over:g}=f;i(t.onDragOver({active:m,over:g}))},onDragEnd(f){let{active:m,over:g}=f;i(t.onDragEnd({active:m,over:g}))},onDragCancel(f){let{active:m,over:g}=f;i(t.onDragCancel({active:m,over:g}))}}),[i,t])),!c)return null;const u=Me.createElement(Me.Fragment,null,Me.createElement(fB,{id:s,value:a.draggable}),Me.createElement(hB,{id:l,announcement:o}));return n?vs.createPortal(u,n):u}var Bt;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Bt||(Bt={}));function nf(){}function sf(e,t){return h.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function yT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return h.useMemo(()=>[...t].filter(s=>s!=null),[...t])}const Ws=Object.freeze({x:0,y:0});function wT(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function wB(e,t){const n=tf(e);if(!n)return"0 0";const s={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return s.x+"% "+s.y+"%"}function jT(e,t){let{data:{value:n}}=e,{data:{value:s}}=t;return n-s}function jB(e,t){let{data:{value:n}}=e,{data:{value:s}}=t;return s-n}function z0(e){let{left:t,top:n,height:s,width:a}=e;return[{x:t,y:n},{x:t+a,y:n},{x:t,y:n+s},{x:t+a,y:n+s}]}function _T(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function W0(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const bT=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=e;const a=W0(t,t.left,t.top),i=[];for(const o of s){const{id:l}=o,c=n.get(l);if(c){const d=wT(W0(c),a);i.push({id:l,data:{droppableContainer:o,value:d}})}}return i.sort(jT)},_B=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=e;const a=z0(t),i=[];for(const o of s){const{id:l}=o,c=n.get(l);if(c){const d=z0(c),u=a.reduce((m,g,j)=>m+wT(d[j],g),0),f=Number((u/4).toFixed(4));i.push({id:l,data:{droppableContainer:o,value:f}})}}return i.sort(jT)};function bB(e,t){const n=Math.max(t.top,e.top),s=Math.max(t.left,e.left),a=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),o=a-s,l=i-n;if(s<a&&n<i){const c=t.width*t.height,d=e.width*e.height,u=o*l,f=u/(c+d-u);return Number(f.toFixed(4))}return 0}const SB=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=e;const a=[];for(const i of s){const{id:o}=i,l=n.get(o);if(l){const c=bB(l,t);c>0&&a.push({id:o,data:{droppableContainer:i,value:c}})}}return a.sort(jB)};function NB(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function ST(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Ws}function EB(e){return function(n){for(var s=arguments.length,a=new Array(s>1?s-1:0),i=1;i<s;i++)a[i-1]=arguments[i];return a.reduce((o,l)=>({...o,top:o.top+e*l.y,bottom:o.bottom+e*l.y,left:o.left+e*l.x,right:o.right+e*l.x}),{...n})}}const CB=EB(1);function NT(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function TB(e,t,n){const s=NT(t);if(!s)return e;const{scaleX:a,scaleY:i,x:o,y:l}=s,c=e.left-o-(1-a)*parseFloat(n),d=e.top-l-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),u=a?e.width/a:e.width,f=i?e.height/i:e.height;return{width:u,height:f,top:d,right:c+u,bottom:d+f,left:c}}const kB={ignoreTransform:!1};function sl(e,t){t===void 0&&(t=kB);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:d,transformOrigin:u}=Dn(e).getComputedStyle(e);d&&(n=TB(n,d,u))}const{top:s,left:a,width:i,height:o,bottom:l,right:c}=n;return{top:s,left:a,width:i,height:o,bottom:l,right:c}}function H0(e){return sl(e,{ignoreTransform:!0})}function PB(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function RB(e,t){return t===void 0&&(t=Dn(e).getComputedStyle(e)),t.position==="fixed"}function AB(e,t){t===void 0&&(t=Dn(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const i=t[a];return typeof i=="string"?n.test(i):!1})}function lh(e,t){const n=[];function s(a){if(t!=null&&n.length>=t||!a)return n;if(Av(a)&&a.scrollingElement!=null&&!n.includes(a.scrollingElement))return n.push(a.scrollingElement),n;if(!Zc(a)||gT(a)||n.includes(a))return n;const i=Dn(e).getComputedStyle(a);return a!==e&&AB(a,i)&&n.push(a),RB(a,i)?n:s(a.parentNode)}return e?s(e):n}function ET(e){const[t]=lh(e,1);return t??null}function Nm(e){return!ah||!e?null:tl(e)?e:Rv(e)?Av(e)||e===nl(e).scrollingElement?window:Zc(e)?e:null:null}function CT(e){return tl(e)?e.scrollX:e.scrollLeft}function TT(e){return tl(e)?e.scrollY:e.scrollTop}function vg(e){return{x:CT(e),y:TT(e)}}var Yt;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Yt||(Yt={}));function kT(e){return!ah||!e?!1:e===document.scrollingElement}function PT(e){const t={x:0,y:0},n=kT(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},s={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},a=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,o=e.scrollTop>=s.y,l=e.scrollLeft>=s.x;return{isTop:a,isLeft:i,isBottom:o,isRight:l,maxScroll:s,minScroll:t}}const $B={x:.2,y:.2};function DB(e,t,n,s,a){let{top:i,left:o,right:l,bottom:c}=n;s===void 0&&(s=10),a===void 0&&(a=$B);const{isTop:d,isBottom:u,isLeft:f,isRight:m}=PT(e),g={x:0,y:0},j={x:0,y:0},v={height:t.height*a.y,width:t.width*a.x};return!d&&i<=t.top+v.height?(g.y=Yt.Backward,j.y=s*Math.abs((t.top+v.height-i)/v.height)):!u&&c>=t.bottom-v.height&&(g.y=Yt.Forward,j.y=s*Math.abs((t.bottom-v.height-c)/v.height)),!m&&l>=t.right-v.width?(g.x=Yt.Forward,j.x=s*Math.abs((t.right-v.width-l)/v.width)):!f&&o<=t.left+v.width&&(g.x=Yt.Backward,j.x=s*Math.abs((t.left+v.width-o)/v.width)),{direction:g,speed:j}}function MB(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:o}=window;return{top:0,left:0,right:i,bottom:o,width:i,height:o}}const{top:t,left:n,right:s,bottom:a}=e.getBoundingClientRect();return{top:t,left:n,right:s,bottom:a,width:e.clientWidth,height:e.clientHeight}}function RT(e){return e.reduce((t,n)=>xo(t,vg(n)),Ws)}function LB(e){return e.reduce((t,n)=>t+CT(n),0)}function IB(e){return e.reduce((t,n)=>t+TT(n),0)}function AT(e,t){if(t===void 0&&(t=sl),!e)return;const{top:n,left:s,bottom:a,right:i}=t(e);ET(e)&&(a<=0||i<=0||n>=window.innerHeight||s>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const OB=[["x",["left","right"],LB],["y",["top","bottom"],IB]];class $v{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const s=lh(n),a=RT(s);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,o,l]of OB)for(const c of o)Object.defineProperty(this,c,{get:()=>{const d=l(s),u=a[i]-d;return this.rect[c]+u},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Hl{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var s;return(s=this.target)==null?void 0:s.removeEventListener(...n)})},this.target=t}add(t,n,s){var a;(a=this.target)==null||a.addEventListener(t,n,s),this.listeners.push([t,n,s])}}function FB(e){const{EventTarget:t}=Dn(e);return e instanceof t?e:nl(e)}function Em(e,t){const n=Math.abs(e.x),s=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+s**2)>t:"x"in t&&"y"in t?n>t.x&&s>t.y:"x"in t?n>t.x:"y"in t?s>t.y:!1}var ms;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(ms||(ms={}));function q0(e){e.preventDefault()}function BB(e){e.stopPropagation()}var De;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(De||(De={}));const $T={start:[De.Space,De.Enter],cancel:[De.Esc],end:[De.Space,De.Enter,De.Tab]},UB=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case De.Right:return{...n,x:n.x+25};case De.Left:return{...n,x:n.x-25};case De.Down:return{...n,y:n.y+25};case De.Up:return{...n,y:n.y-25}}};class ch{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Hl(nl(n)),this.windowListeners=new Hl(Dn(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ms.Resize,this.handleCancel),this.windowListeners.add(ms.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ms.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,s=t.node.current;s&&AT(s),n(Ws)}handleKeyDown(t){if(oh(t)){const{active:n,context:s,options:a}=this.props,{keyboardCodes:i=$T,coordinateGetter:o=UB,scrollBehavior:l="smooth"}=a,{code:c}=t;if(i.end.includes(c)){this.handleEnd(t);return}if(i.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:d}=s.current,u=d?{x:d.left,y:d.top}:Ws;this.referenceCoordinates||(this.referenceCoordinates=u);const f=o(t,{active:n,context:s.current,currentCoordinates:u});if(f){const m=Cc(f,u),g={x:0,y:0},{scrollableAncestors:j}=s.current;for(const v of j){const w=t.code,{isTop:x,isRight:p,isLeft:y,isBottom:_,maxScroll:S,minScroll:P}=PT(v),C=MB(v),T={x:Math.min(w===De.Right?C.right-C.width/2:C.right,Math.max(w===De.Right?C.left:C.left+C.width/2,f.x)),y:Math.min(w===De.Down?C.bottom-C.height/2:C.bottom,Math.max(w===De.Down?C.top:C.top+C.height/2,f.y))},A=w===De.Right&&!p||w===De.Left&&!y,D=w===De.Down&&!_||w===De.Up&&!x;if(A&&T.x!==f.x){const $=v.scrollLeft+m.x,I=w===De.Right&&$<=S.x||w===De.Left&&$>=P.x;if(I&&!m.y){v.scrollTo({left:$,behavior:l});return}I?g.x=v.scrollLeft-$:g.x=w===De.Right?v.scrollLeft-S.x:v.scrollLeft-P.x,g.x&&v.scrollBy({left:-g.x,behavior:l});break}else if(D&&T.y!==f.y){const $=v.scrollTop+m.y,I=w===De.Down&&$<=S.y||w===De.Up&&$>=P.y;if(I&&!m.x){v.scrollTo({top:$,behavior:l});return}I?g.y=v.scrollTop-$:g.y=w===De.Down?v.scrollTop-S.y:v.scrollTop-P.y,g.y&&v.scrollBy({top:-g.y,behavior:l});break}}this.handleMove(t,xo(Cc(f,this.referenceCoordinates),g))}}}handleMove(t,n){const{onMove:s}=this.props;t.preventDefault(),s(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}ch.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:s=$T,onActivation:a}=t,{active:i}=n;const{code:o}=e.nativeEvent;if(s.start.includes(o)){const l=i.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),a==null||a({event:e.nativeEvent}),!0)}return!1}}];function K0(e){return!!(e&&"distance"in e)}function G0(e){return!!(e&&"delay"in e)}class Dv{constructor(t,n,s){var a;s===void 0&&(s=FB(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:i}=t,{target:o}=i;this.props=t,this.events=n,this.document=nl(o),this.documentListeners=new Hl(this.document),this.listeners=new Hl(s),this.windowListeners=new Hl(Dn(o)),this.initialCoordinates=(a=tf(i))!=null?a:Ws,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:s}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(ms.Resize,this.handleCancel),this.windowListeners.add(ms.DragStart,q0),this.windowListeners.add(ms.VisibilityChange,this.handleCancel),this.windowListeners.add(ms.ContextMenu,q0),this.documentListeners.add(ms.Keydown,this.handleKeydown),n){if(s!=null&&s({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(G0(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(K0(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:s,onPending:a}=this.props;a(s,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(ms.Click,BB,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ms.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:s,initialCoordinates:a,props:i}=this,{onMove:o,options:{activationConstraint:l}}=i;if(!a)return;const c=(n=tf(t))!=null?n:Ws,d=Cc(a,c);if(!s&&l){if(K0(l)){if(l.tolerance!=null&&Em(d,l.tolerance))return this.handleCancel();if(Em(d,l.distance))return this.handleStart()}if(G0(l)&&Em(d,l.tolerance))return this.handleCancel();this.handlePending(l,d);return}t.cancelable&&t.preventDefault(),o(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===De.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const VB={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class dh extends Dv{constructor(t){const{event:n}=t,s=nl(n.target);super(t,VB,s)}}dh.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;return!n.isPrimary||n.button!==0?!1:(s==null||s({event:n}),!0)}}];const zB={move:{name:"mousemove"},end:{name:"mouseup"}};var yg;(function(e){e[e.RightClick=2]="RightClick"})(yg||(yg={}));class WB extends Dv{constructor(t){super(t,zB,nl(t.event.target))}}WB.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;return n.button===yg.RightClick?!1:(s==null||s({event:n}),!0)}}];const Cm={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class HB extends Dv{constructor(t){super(t,Cm)}static setup(){return window.addEventListener(Cm.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Cm.move.name,t)};function t(){}}}HB.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;const{touches:a}=n;return a.length>1?!1:(s==null||s({event:n}),!0)}}];var ql;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(ql||(ql={}));var rf;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(rf||(rf={}));function qB(e){let{acceleration:t,activator:n=ql.Pointer,canScroll:s,draggingRect:a,enabled:i,interval:o=5,order:l=rf.TreeOrder,pointerCoordinates:c,scrollableAncestors:d,scrollableAncestorRects:u,delta:f,threshold:m}=e;const g=GB({delta:f,disabled:!i}),[j,v]=oB(),w=h.useRef({x:0,y:0}),x=h.useRef({x:0,y:0}),p=h.useMemo(()=>{switch(n){case ql.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case ql.DraggableRect:return a}},[n,a,c]),y=h.useRef(null),_=h.useCallback(()=>{const P=y.current;if(!P)return;const C=w.current.x*x.current.x,T=w.current.y*x.current.y;P.scrollBy(C,T)},[]),S=h.useMemo(()=>l===rf.TreeOrder?[...d].reverse():d,[l,d]);h.useEffect(()=>{if(!i||!d.length||!p){v();return}for(const P of S){if((s==null?void 0:s(P))===!1)continue;const C=d.indexOf(P),T=u[C];if(!T)continue;const{direction:A,speed:D}=DB(P,T,p,t,m);for(const $ of["x","y"])g[$][A[$]]||(D[$]=0,A[$]=0);if(D.x>0||D.y>0){v(),y.current=P,j(_,o),w.current=D,x.current=A;return}}w.current={x:0,y:0},x.current={x:0,y:0},v()},[t,_,s,v,i,o,JSON.stringify(p),JSON.stringify(g),j,d,S,u,JSON.stringify(m)])}const KB={x:{[Yt.Backward]:!1,[Yt.Forward]:!1},y:{[Yt.Backward]:!1,[Yt.Forward]:!1}};function GB(e){let{delta:t,disabled:n}=e;const s=ef(t);return ed(a=>{if(n||!s||!a)return KB;const i={x:Math.sign(t.x-s.x),y:Math.sign(t.y-s.y)};return{x:{[Yt.Backward]:a.x[Yt.Backward]||i.x===-1,[Yt.Forward]:a.x[Yt.Forward]||i.x===1},y:{[Yt.Backward]:a.y[Yt.Backward]||i.y===-1,[Yt.Forward]:a.y[Yt.Forward]||i.y===1}}},[n,t,s])}function YB(e,t){const n=t!=null?e.get(t):void 0,s=n?n.node.current:null;return ed(a=>{var i;return t==null?null:(i=s??a)!=null?i:null},[s,t])}function QB(e,t){return h.useMemo(()=>e.reduce((n,s)=>{const{sensor:a}=s,i=a.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,s)}));return[...n,...i]},[]),[e,t])}var Tc;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Tc||(Tc={}));var wg;(function(e){e.Optimized="optimized"})(wg||(wg={}));const Y0=new Map;function XB(e,t){let{dragging:n,dependencies:s,config:a}=t;const[i,o]=h.useState(null),{frequency:l,measure:c,strategy:d}=a,u=h.useRef(e),f=w(),m=Ec(f),g=h.useCallback(function(x){x===void 0&&(x=[]),!m.current&&o(p=>p===null?x:p.concat(x.filter(y=>!p.includes(y))))},[m]),j=h.useRef(null),v=ed(x=>{if(f&&!n)return Y0;if(!x||x===Y0||u.current!==e||i!=null){const p=new Map;for(let y of e){if(!y)continue;if(i&&i.length>0&&!i.includes(y.id)&&y.rect.current){p.set(y.id,y.rect.current);continue}const _=y.node.current,S=_?new $v(c(_),_):null;y.rect.current=S,S&&p.set(y.id,S)}return p}return x},[e,i,n,f,c]);return h.useEffect(()=>{u.current=e},[e]),h.useEffect(()=>{f||g()},[n,f]),h.useEffect(()=>{i&&i.length>0&&o(null)},[JSON.stringify(i)]),h.useEffect(()=>{f||typeof l!="number"||j.current!==null||(j.current=setTimeout(()=>{g(),j.current=null},l))},[l,f,g,...s]),{droppableRects:v,measureDroppableContainers:g,measuringScheduled:i!=null};function w(){switch(d){case Tc.Always:return!1;case Tc.BeforeDragging:return n;default:return!n}}}function Mv(e,t){return ed(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function JB(e,t){return Mv(e,t)}function ZB(e){let{callback:t,disabled:n}=e;const s=ih(t),a=h.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(s)},[s,n]);return h.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function uh(e){let{callback:t,disabled:n}=e;const s=ih(t),a=h.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(s)},[n]);return h.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function eU(e){return new $v(sl(e),e)}function Q0(e,t,n){t===void 0&&(t=eU);const[s,a]=h.useState(null);function i(){a(c=>{if(!e)return null;if(e.isConnected===!1){var d;return(d=c??n)!=null?d:null}const u=t(e);return JSON.stringify(c)===JSON.stringify(u)?c:u})}const o=ZB({callback(c){if(e)for(const d of c){const{type:u,target:f}=d;if(u==="childList"&&f instanceof HTMLElement&&f.contains(e)){i();break}}}}),l=uh({callback:i});return zs(()=>{i(),e?(l==null||l.observe(e),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),o==null||o.disconnect())},[e]),s}function tU(e){const t=Mv(e);return ST(e,t)}const X0=[];function nU(e){const t=h.useRef(e),n=ed(s=>e?s&&s!==X0&&e&&t.current&&e.parentNode===t.current.parentNode?s:lh(e):X0,[e]);return h.useEffect(()=>{t.current=e},[e]),n}function sU(e){const[t,n]=h.useState(null),s=h.useRef(e),a=h.useCallback(i=>{const o=Nm(i.target);o&&n(l=>l?(l.set(o,vg(o)),new Map(l)):null)},[]);return h.useEffect(()=>{const i=s.current;if(e!==i){o(i);const l=e.map(c=>{const d=Nm(c);return d?(d.addEventListener("scroll",a,{passive:!0}),[d,vg(d)]):null}).filter(c=>c!=null);n(l.length?new Map(l):null),s.current=e}return()=>{o(e),o(i)};function o(l){l.forEach(c=>{const d=Nm(c);d==null||d.removeEventListener("scroll",a)})}},[a,e]),h.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,o)=>xo(i,o),Ws):RT(e):Ws,[e,t])}function J0(e,t){t===void 0&&(t=[]);const n=h.useRef(null);return h.useEffect(()=>{n.current=null},t),h.useEffect(()=>{const s=e!==Ws;s&&!n.current&&(n.current=e),!s&&n.current&&(n.current=null)},[e]),n.current?Cc(e,n.current):Ws}function rU(e){h.useEffect(()=>{if(!ah)return;const t=e.map(n=>{let{sensor:s}=n;return s.setup==null?void 0:s.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function aU(e,t){return h.useMemo(()=>e.reduce((n,s)=>{let{eventName:a,handler:i}=s;return n[a]=o=>{i(o,t)},n},{}),[e,t])}function DT(e){return h.useMemo(()=>e?PB(e):null,[e])}const Z0=[];function iU(e,t){t===void 0&&(t=sl);const[n]=e,s=DT(n?Dn(n):null),[a,i]=h.useState(Z0);function o(){i(()=>e.length?e.map(c=>kT(c)?s:new $v(t(c),c)):Z0)}const l=uh({callback:o});return zs(()=>{l==null||l.disconnect(),o(),e.forEach(c=>l==null?void 0:l.observe(c))},[e]),a}function MT(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Zc(t)?t:e}function oU(e){let{measure:t}=e;const[n,s]=h.useState(null),a=h.useCallback(d=>{for(const{target:u}of d)if(Zc(u)){s(f=>{const m=t(u);return f?{...f,width:m.width,height:m.height}:m});break}},[t]),i=uh({callback:a}),o=h.useCallback(d=>{const u=MT(d);i==null||i.disconnect(),u&&(i==null||i.observe(u)),s(u?t(u):null)},[t,i]),[l,c]=Zu(o);return h.useMemo(()=>({nodeRef:l,rect:n,setRef:c}),[n,l,c])}const lU=[{sensor:dh,options:{}},{sensor:ch,options:{}}],cU={current:{}},du={draggable:{measure:H0},droppable:{measure:H0,strategy:Tc.WhileDragging,frequency:wg.Optimized},dragOverlay:{measure:sl}};class Kl extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,s;return(n=(s=this.get(t))==null?void 0:s.node.current)!=null?n:void 0}}const dU={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Kl,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:nf},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:du,measureDroppableContainers:nf,windowRect:null,measuringScheduled:!1},LT={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:nf,draggableNodes:new Map,over:null,measureDroppableContainers:nf},nd=h.createContext(LT),IT=h.createContext(dU);function uU(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Kl}}}function fU(e,t){switch(t.type){case Bt.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Bt.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Bt.DragEnd:case Bt.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Bt.RegisterDroppable:{const{element:n}=t,{id:s}=n,a=new Kl(e.droppable.containers);return a.set(s,n),{...e,droppable:{...e.droppable,containers:a}}}case Bt.SetDroppableDisabled:{const{id:n,key:s,disabled:a}=t,i=e.droppable.containers.get(n);if(!i||s!==i.key)return e;const o=new Kl(e.droppable.containers);return o.set(n,{...i,disabled:a}),{...e,droppable:{...e.droppable,containers:o}}}case Bt.UnregisterDroppable:{const{id:n,key:s}=t,a=e.droppable.containers.get(n);if(!a||s!==a.key)return e;const i=new Kl(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function hU(e){let{disabled:t}=e;const{active:n,activatorEvent:s,draggableNodes:a}=h.useContext(nd),i=ef(s),o=ef(n==null?void 0:n.id);return h.useEffect(()=>{if(!t&&!s&&i&&o!=null){if(!oh(i)||document.activeElement===i.target)return;const l=a.get(o);if(!l)return;const{activatorNode:c,node:d}=l;if(!c.current&&!d.current)return;requestAnimationFrame(()=>{for(const u of[c.current,d.current]){if(!u)continue;const f=dB(u);if(f){f.focus();break}}})}},[s,t,a,o,i]),null}function OT(e,t){let{transform:n,...s}=t;return e!=null&&e.length?e.reduce((a,i)=>i({transform:a,...s}),n):n}function mU(e){return h.useMemo(()=>({draggable:{...du.draggable,...e==null?void 0:e.draggable},droppable:{...du.droppable,...e==null?void 0:e.droppable},dragOverlay:{...du.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function pU(e){let{activeNode:t,measure:n,initialRect:s,config:a=!0}=e;const i=h.useRef(!1),{x:o,y:l}=typeof a=="boolean"?{x:a,y:a}:a;zs(()=>{if(!o&&!l||!t){i.current=!1;return}if(i.current||!s)return;const d=t==null?void 0:t.node.current;if(!d||d.isConnected===!1)return;const u=n(d),f=ST(u,s);if(o||(f.x=0),l||(f.y=0),i.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const m=ET(d);m&&m.scrollBy({top:f.y,left:f.x})}},[t,o,l,s,n])}const fh=h.createContext({...Ws,scaleX:1,scaleY:1});var Zr;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Zr||(Zr={}));const FT=h.memo(function(t){var n,s,a,i;let{id:o,accessibility:l,autoScroll:c=!0,children:d,sensors:u=lU,collisionDetection:f=SB,measuring:m,modifiers:g,...j}=t;const v=h.useReducer(fU,void 0,uU),[w,x]=v,[p,y]=gB(),[_,S]=h.useState(Zr.Uninitialized),P=_===Zr.Initialized,{draggable:{active:C,nodes:T,translate:A},droppable:{containers:D}}=w,$=C!=null?T.get(C):null,I=h.useRef({initial:null,translated:null}),M=h.useMemo(()=>{var Wt;return C!=null?{id:C,data:(Wt=$==null?void 0:$.data)!=null?Wt:cU,rect:I}:null},[C,$]),F=h.useRef(null),[J,U]=h.useState(null),[z,k]=h.useState(null),N=Ec(j,Object.values(j)),b=td("DndDescribedBy",o),E=h.useMemo(()=>D.getEnabled(),[D]),R=mU(m),{droppableRects:B,measureDroppableContainers:L,measuringScheduled:G}=XB(E,{dragging:P,dependencies:[A.x,A.y],config:R.droppable}),q=YB(T,C),H=h.useMemo(()=>z?tf(z):null,[z]),O=jh(),Y=JB(q,R.draggable.measure);pU({activeNode:C!=null?T.get(C):null,config:O.layoutShiftCompensation,initialRect:Y,measure:R.draggable.measure});const V=Q0(q,R.draggable.measure,Y),K=Q0(q?q.parentElement:null),te=h.useRef({activatorEvent:null,active:null,activeNode:q,collisionRect:null,collisions:null,droppableRects:B,draggableNodes:T,draggingNode:null,draggingNodeRect:null,droppableContainers:D,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ue=D.getNodeFor((n=te.current.over)==null?void 0:n.id),fe=oU({measure:R.dragOverlay.measure}),ce=(s=fe.nodeRef.current)!=null?s:q,me=P?(a=fe.rect)!=null?a:V:null,we=!!(fe.nodeRef.current&&fe.rect),qe=tU(we?null:V),de=DT(ce?Dn(ce):null),Se=nU(P?ue??q:null),tt=iU(Se),We=OT(g,{transform:{x:A.x-qe.x,y:A.y-qe.y,scaleX:1,scaleY:1},activatorEvent:z,active:M,activeNodeRect:V,containerNodeRect:K,draggingNodeRect:me,over:te.current.over,overlayNodeRect:fe.rect,scrollableAncestors:Se,scrollableAncestorRects:tt,windowRect:de}),Br=H?xo(H,A):null,Xt=sU(Se),od=J0(Xt),ol=J0(Xt,[V]),qs=xo(We,od),Mn=me?CB(me,We):null,je=M&&Mn?f({active:M,collisionRect:Mn,droppableRects:B,droppableContainers:E,pointerCoordinates:Br}):null,Ke=_T(je,"id"),[Jt,zt]=h.useState(null),Ci=we?We:xo(We,ol),ll=NB(Ci,(i=Jt==null?void 0:Jt.rect)!=null?i:null,V),La=h.useRef(null),St=h.useCallback((Wt,wn)=>{let{sensor:jn,options:Ss}=wn;if(F.current==null)return;const Zt=T.get(F.current);if(!Zt)return;const _n=Wt.nativeEvent,ss=new jn({active:F.current,activeNode:Zt,event:_n,options:Ss,context:te,onAbort(Ot){if(!T.get(Ot))return;const{onDragAbort:as}=N.current,Ns={id:Ot};as==null||as(Ns),p({type:"onDragAbort",event:Ns})},onPending(Ot,rs,as,Ns){if(!T.get(Ot))return;const{onDragPending:Oa}=N.current,Ks={id:Ot,constraint:rs,initialCoordinates:as,offset:Ns};Oa==null||Oa(Ks),p({type:"onDragPending",event:Ks})},onStart(Ot){const rs=F.current;if(rs==null)return;const as=T.get(rs);if(!as)return;const{onDragStart:Ns}=N.current,Ia={activatorEvent:_n,active:{id:rs,data:as.data,rect:I}};vs.unstable_batchedUpdates(()=>{Ns==null||Ns(Ia),S(Zr.Initializing),x({type:Bt.DragStart,initialCoordinates:Ot,active:rs}),p({type:"onDragStart",event:Ia}),U(La.current),k(_n)})},onMove(Ot){x({type:Bt.DragMove,coordinates:Ot})},onEnd:Ur(Bt.DragEnd),onCancel:Ur(Bt.DragCancel)});La.current=ss;function Ur(Ot){return async function(){const{active:as,collisions:Ns,over:Ia,scrollAdjustedTranslate:Oa}=te.current;let Ks=null;if(as&&Oa){const{cancelDrop:Ht}=N.current;Ks={activatorEvent:_n,active:as,collisions:Ns,delta:Oa,over:Ia},Ot===Bt.DragEnd&&typeof Ht=="function"&&await Promise.resolve(Ht(Ks))&&(Ot=Bt.DragCancel)}F.current=null,vs.unstable_batchedUpdates(()=>{x({type:Ot}),S(Zr.Uninitialized),zt(null),U(null),k(null),La.current=null;const Ht=Ot===Bt.DragEnd?"onDragEnd":"onDragCancel";if(Ks){const W=N.current[Ht];W==null||W(Ks),p({type:Ht,event:Ks})}})}}},[T]),vh=h.useCallback((Wt,wn)=>(jn,Ss)=>{const Zt=jn.nativeEvent,_n=T.get(Ss);if(F.current!==null||!_n||Zt.dndKit||Zt.defaultPrevented)return;const ss={active:_n};Wt(jn,wn.options,ss)===!0&&(Zt.dndKit={capturedBy:wn.sensor},F.current=Ss,St(jn,wn))},[T,St]),cl=QB(u,vh);rU(u),zs(()=>{V&&_===Zr.Initializing&&S(Zr.Initialized)},[V,_]),h.useEffect(()=>{const{onDragMove:Wt}=N.current,{active:wn,activatorEvent:jn,collisions:Ss,over:Zt}=te.current;if(!wn||!jn)return;const _n={active:wn,activatorEvent:jn,collisions:Ss,delta:{x:qs.x,y:qs.y},over:Zt};vs.unstable_batchedUpdates(()=>{Wt==null||Wt(_n),p({type:"onDragMove",event:_n})})},[qs.x,qs.y]),h.useEffect(()=>{const{active:Wt,activatorEvent:wn,collisions:jn,droppableContainers:Ss,scrollAdjustedTranslate:Zt}=te.current;if(!Wt||F.current==null||!wn||!Zt)return;const{onDragOver:_n}=N.current,ss=Ss.get(Ke),Ur=ss&&ss.rect.current?{id:ss.id,rect:ss.rect.current,data:ss.data,disabled:ss.disabled}:null,Ot={active:Wt,activatorEvent:wn,collisions:jn,delta:{x:Zt.x,y:Zt.y},over:Ur};vs.unstable_batchedUpdates(()=>{zt(Ur),_n==null||_n(Ot),p({type:"onDragOver",event:Ot})})},[Ke]),zs(()=>{te.current={activatorEvent:z,active:M,activeNode:q,collisionRect:Mn,collisions:je,droppableRects:B,draggableNodes:T,draggingNode:ce,draggingNodeRect:me,droppableContainers:D,over:Jt,scrollableAncestors:Se,scrollAdjustedTranslate:qs},I.current={initial:me,translated:Mn}},[M,q,je,Mn,T,ce,me,B,D,Jt,Se,qs]),qB({...O,delta:A,draggingRect:Mn,pointerCoordinates:Br,scrollableAncestors:Se,scrollableAncestorRects:tt});const yh=h.useMemo(()=>({active:M,activeNode:q,activeNodeRect:V,activatorEvent:z,collisions:je,containerNodeRect:K,dragOverlay:fe,draggableNodes:T,droppableContainers:D,droppableRects:B,over:Jt,measureDroppableContainers:L,scrollableAncestors:Se,scrollableAncestorRects:tt,measuringConfiguration:R,measuringScheduled:G,windowRect:de}),[M,q,V,z,je,K,fe,T,D,B,Jt,L,Se,tt,R,G,de]),wh=h.useMemo(()=>({activatorEvent:z,activators:cl,active:M,activeNodeRect:V,ariaDescribedById:{draggable:b},dispatch:x,draggableNodes:T,over:Jt,measureDroppableContainers:L}),[z,cl,M,V,x,b,T,Jt,L]);return Me.createElement(vT.Provider,{value:y},Me.createElement(nd.Provider,{value:wh},Me.createElement(IT.Provider,{value:yh},Me.createElement(fh.Provider,{value:ll},d)),Me.createElement(hU,{disabled:(l==null?void 0:l.restoreFocus)===!1})),Me.createElement(yB,{...l,hiddenTextDescribedById:b}));function jh(){const Wt=(J==null?void 0:J.autoScrollEnabled)===!1,wn=typeof c=="object"?c.enabled===!1:c===!1,jn=P&&!Wt&&!wn;return typeof c=="object"?{...c,enabled:jn}:{enabled:jn}}}),gU=h.createContext(null),ej="button",xU="Draggable";function vU(e){let{id:t,data:n,disabled:s=!1,attributes:a}=e;const i=td(xU),{activators:o,activatorEvent:l,active:c,activeNodeRect:d,ariaDescribedById:u,draggableNodes:f,over:m}=h.useContext(nd),{role:g=ej,roleDescription:j="draggable",tabIndex:v=0}=a??{},w=(c==null?void 0:c.id)===t,x=h.useContext(w?fh:gU),[p,y]=Zu(),[_,S]=Zu(),P=aU(o,t),C=Ec(n);zs(()=>(f.set(t,{id:t,key:i,node:p,activatorNode:_,data:C}),()=>{const A=f.get(t);A&&A.key===i&&f.delete(t)}),[f,t]);const T=h.useMemo(()=>({role:g,tabIndex:v,"aria-disabled":s,"aria-pressed":w&&g===ej?!0:void 0,"aria-roledescription":j,"aria-describedby":u.draggable}),[s,g,v,w,j,u.draggable]);return{active:c,activatorEvent:l,activeNodeRect:d,attributes:T,isDragging:w,listeners:s?void 0:P,node:p,over:m,setNodeRef:y,setActivatorNodeRef:S,transform:x}}function BT(){return h.useContext(IT)}const yU="Droppable",wU={timeout:25};function jU(e){let{data:t,disabled:n=!1,id:s,resizeObserverConfig:a}=e;const i=td(yU),{active:o,dispatch:l,over:c,measureDroppableContainers:d}=h.useContext(nd),u=h.useRef({disabled:n}),f=h.useRef(!1),m=h.useRef(null),g=h.useRef(null),{disabled:j,updateMeasurementsFor:v,timeout:w}={...wU,...a},x=Ec(v??s),p=h.useCallback(()=>{if(!f.current){f.current=!0;return}g.current!=null&&clearTimeout(g.current),g.current=setTimeout(()=>{d(Array.isArray(x.current)?x.current:[x.current]),g.current=null},w)},[w]),y=uh({callback:p,disabled:j||!o}),_=h.useCallback((T,A)=>{y&&(A&&(y.unobserve(A),f.current=!1),T&&y.observe(T))},[y]),[S,P]=Zu(_),C=Ec(t);return h.useEffect(()=>{!y||!S.current||(y.disconnect(),f.current=!1,y.observe(S.current))},[S,y]),h.useEffect(()=>(l({type:Bt.RegisterDroppable,element:{id:s,key:i,disabled:n,node:S,rect:m,data:C}}),()=>l({type:Bt.UnregisterDroppable,key:i,id:s})),[s]),h.useEffect(()=>{n!==u.current.disabled&&(l({type:Bt.SetDroppableDisabled,id:s,key:i,disabled:n}),u.current.disabled=n)},[s,i,n,l]),{active:o,rect:m,isOver:(c==null?void 0:c.id)===s,node:S,over:c,setNodeRef:P}}function _U(e){let{animation:t,children:n}=e;const[s,a]=h.useState(null),[i,o]=h.useState(null),l=ef(n);return!n&&!s&&l&&a(l),zs(()=>{if(!i)return;const c=s==null?void 0:s.key,d=s==null?void 0:s.props.id;if(c==null||d==null){a(null);return}Promise.resolve(t(d,i)).then(()=>{a(null)})},[t,s,i]),Me.createElement(Me.Fragment,null,n,s?h.cloneElement(s,{ref:o}):null)}const bU={x:0,y:0,scaleX:1,scaleY:1};function SU(e){let{children:t}=e;return Me.createElement(nd.Provider,{value:LT},Me.createElement(fh.Provider,{value:bU},t))}const NU={position:"fixed",touchAction:"none"},EU=e=>oh(e)?"transform 250ms ease":void 0,CU=h.forwardRef((e,t)=>{let{as:n,activatorEvent:s,adjustScale:a,children:i,className:o,rect:l,style:c,transform:d,transition:u=EU}=e;if(!l)return null;const f=a?d:{...d,scaleX:1,scaleY:1},m={...NU,width:l.width,height:l.height,top:l.top,left:l.left,transform:Mr.Transform.toString(f),transformOrigin:a&&s?wB(s,l):void 0,transition:typeof u=="function"?u(s):u,...c};return Me.createElement(n,{className:o,style:m,ref:t},i)}),TU=e=>t=>{let{active:n,dragOverlay:s}=t;const a={},{styles:i,className:o}=e;if(i!=null&&i.active)for(const[l,c]of Object.entries(i.active))c!==void 0&&(a[l]=n.node.style.getPropertyValue(l),n.node.style.setProperty(l,c));if(i!=null&&i.dragOverlay)for(const[l,c]of Object.entries(i.dragOverlay))c!==void 0&&s.node.style.setProperty(l,c);return o!=null&&o.active&&n.node.classList.add(o.active),o!=null&&o.dragOverlay&&s.node.classList.add(o.dragOverlay),function(){for(const[c,d]of Object.entries(a))n.node.style.setProperty(c,d);o!=null&&o.active&&n.node.classList.remove(o.active)}},kU=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:Mr.Transform.toString(t)},{transform:Mr.Transform.toString(n)}]},PU={duration:250,easing:"ease",keyframes:kU,sideEffects:TU({styles:{active:{opacity:"0"}}})};function RU(e){let{config:t,draggableNodes:n,droppableContainers:s,measuringConfiguration:a}=e;return ih((i,o)=>{if(t===null)return;const l=n.get(i);if(!l)return;const c=l.node.current;if(!c)return;const d=MT(o);if(!d)return;const{transform:u}=Dn(o).getComputedStyle(o),f=NT(u);if(!f)return;const m=typeof t=="function"?t:AU(t);return AT(c,a.draggable.measure),m({active:{id:i,data:l.data,node:c,rect:a.draggable.measure(c)},draggableNodes:n,dragOverlay:{node:o,rect:a.dragOverlay.measure(d)},droppableContainers:s,measuringConfiguration:a,transform:f})})}function AU(e){const{duration:t,easing:n,sideEffects:s,keyframes:a}={...PU,...e};return i=>{let{active:o,dragOverlay:l,transform:c,...d}=i;if(!t)return;const u={x:l.rect.left-o.rect.left,y:l.rect.top-o.rect.top},f={scaleX:c.scaleX!==1?o.rect.width*c.scaleX/l.rect.width:1,scaleY:c.scaleY!==1?o.rect.height*c.scaleY/l.rect.height:1},m={x:c.x-u.x,y:c.y-u.y,...f},g=a({...d,active:o,dragOverlay:l,transform:{initial:c,final:m}}),[j]=g,v=g[g.length-1];if(JSON.stringify(j)===JSON.stringify(v))return;const w=s==null?void 0:s({active:o,dragOverlay:l,...d}),x=l.node.animate(g,{duration:t,easing:n,fill:"forwards"});return new Promise(p=>{x.onfinish=()=>{w==null||w(),p()}})}}let tj=0;function $U(e){return h.useMemo(()=>{if(e!=null)return tj++,tj},[e])}const UT=Me.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:s,style:a,transition:i,modifiers:o,wrapperElement:l="div",className:c,zIndex:d=999}=e;const{activatorEvent:u,active:f,activeNodeRect:m,containerNodeRect:g,draggableNodes:j,droppableContainers:v,dragOverlay:w,over:x,measuringConfiguration:p,scrollableAncestors:y,scrollableAncestorRects:_,windowRect:S}=BT(),P=h.useContext(fh),C=$U(f==null?void 0:f.id),T=OT(o,{activatorEvent:u,active:f,activeNodeRect:m,containerNodeRect:g,draggingNodeRect:w.rect,over:x,overlayNodeRect:w.rect,scrollableAncestors:y,scrollableAncestorRects:_,transform:P,windowRect:S}),A=Mv(m),D=RU({config:s,draggableNodes:j,droppableContainers:v,measuringConfiguration:p}),$=A?w.setRef:void 0;return Me.createElement(SU,null,Me.createElement(_U,{animation:D},f&&C?Me.createElement(CU,{key:C,id:f.id,ref:$,as:l,activatorEvent:u,adjustScale:t,className:c,transition:i,rect:A,style:{zIndex:d,...a},transform:T},n):null))});function VT(e,t,n){const s=e.slice();return s.splice(n<0?s.length+n:n,0,s.splice(t,1)[0]),s}function DU(e,t){return e.reduce((n,s,a)=>{const i=t.get(s);return i&&(n[a]=i),n},Array(e.length))}function Bd(e){return e!==null&&e>=0}function MU(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function LU(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const hh=e=>{let{rects:t,activeIndex:n,overIndex:s,index:a}=e;const i=VT(t,s,n),o=t[a],l=i[a];return!l||!o?null:{x:l.left-o.left,y:l.top-o.top,scaleX:l.width/o.width,scaleY:l.height/o.height}},zT="Sortable",WT=Me.createContext({activeIndex:-1,containerId:zT,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:hh,disabled:{draggable:!1,droppable:!1}});function HT(e){let{children:t,id:n,items:s,strategy:a=hh,disabled:i=!1}=e;const{active:o,dragOverlay:l,droppableRects:c,over:d,measureDroppableContainers:u}=BT(),f=td(zT,n),m=l.rect!==null,g=h.useMemo(()=>s.map(P=>typeof P=="object"&&"id"in P?P.id:P),[s]),j=o!=null,v=o?g.indexOf(o.id):-1,w=d?g.indexOf(d.id):-1,x=h.useRef(g),p=!MU(g,x.current),y=w!==-1&&v===-1||p,_=LU(i);zs(()=>{p&&j&&u(g)},[p,g,j,u]),h.useEffect(()=>{x.current=g},[g]);const S=h.useMemo(()=>({activeIndex:v,containerId:f,disabled:_,disableTransforms:y,items:g,overIndex:w,useDragOverlay:m,sortedRects:DU(g,c),strategy:a}),[v,f,_.draggable,_.droppable,y,g,w,c,m,a]);return Me.createElement(WT.Provider,{value:S},t)}const IU=e=>{let{id:t,items:n,activeIndex:s,overIndex:a}=e;return VT(n,s,a).indexOf(t)},OU=e=>{let{containerId:t,isSorting:n,wasDragging:s,index:a,items:i,newIndex:o,previousItems:l,previousContainerId:c,transition:d}=e;return!d||!s||l!==i&&a===o?!1:n?!0:o!==a&&t===c},FU={duration:200,easing:"ease"},qT="transform",BU=Mr.Transition.toString({property:qT,duration:0,easing:"linear"}),UU={roleDescription:"sortable"};function VU(e){let{disabled:t,index:n,node:s,rect:a}=e;const[i,o]=h.useState(null),l=h.useRef(n);return zs(()=>{if(!t&&n!==l.current&&s.current){const c=a.current;if(c){const d=sl(s.current,{ignoreTransform:!0}),u={x:c.left-d.left,y:c.top-d.top,scaleX:c.width/d.width,scaleY:c.height/d.height};(u.x||u.y)&&o(u)}}n!==l.current&&(l.current=n)},[t,n,s,a]),h.useEffect(()=>{i&&o(null)},[i]),i}function KT(e){let{animateLayoutChanges:t=OU,attributes:n,disabled:s,data:a,getNewIndex:i=IU,id:o,strategy:l,resizeObserverConfig:c,transition:d=FU}=e;const{items:u,containerId:f,activeIndex:m,disabled:g,disableTransforms:j,sortedRects:v,overIndex:w,useDragOverlay:x,strategy:p}=h.useContext(WT),y=zU(s,g),_=u.indexOf(o),S=h.useMemo(()=>({sortable:{containerId:f,index:_,items:u},...a}),[f,a,_,u]),P=h.useMemo(()=>u.slice(u.indexOf(o)),[u,o]),{rect:C,node:T,isOver:A,setNodeRef:D}=jU({id:o,data:S,disabled:y.droppable,resizeObserverConfig:{updateMeasurementsFor:P,...c}}),{active:$,activatorEvent:I,activeNodeRect:M,attributes:F,setNodeRef:J,listeners:U,isDragging:z,over:k,setActivatorNodeRef:N,transform:b}=vU({id:o,data:S,attributes:{...UU,...n},disabled:y.draggable}),E=iB(D,J),R=!!$,B=R&&!j&&Bd(m)&&Bd(w),L=!x&&z,G=L&&B?b:null,H=B?G??(l??p)({rects:v,activeNodeRect:M,activeIndex:m,overIndex:w,index:_}):null,O=Bd(m)&&Bd(w)?i({id:o,items:u,activeIndex:m,overIndex:w}):_,Y=$==null?void 0:$.id,V=h.useRef({activeId:Y,items:u,newIndex:O,containerId:f}),K=u!==V.current.items,te=t({active:$,containerId:f,isDragging:z,isSorting:R,id:o,index:_,items:u,newIndex:V.current.newIndex,previousItems:V.current.items,previousContainerId:V.current.containerId,transition:d,wasDragging:V.current.activeId!=null}),ue=VU({disabled:!te,index:_,node:T,rect:C});return h.useEffect(()=>{R&&V.current.newIndex!==O&&(V.current.newIndex=O),f!==V.current.containerId&&(V.current.containerId=f),u!==V.current.items&&(V.current.items=u)},[R,O,f,u]),h.useEffect(()=>{if(Y===V.current.activeId)return;if(Y&&!V.current.activeId){V.current.activeId=Y;return}const ce=setTimeout(()=>{V.current.activeId=Y},50);return()=>clearTimeout(ce)},[Y]),{active:$,activeIndex:m,attributes:F,data:S,rect:C,index:_,newIndex:O,items:u,isOver:A,isSorting:R,isDragging:z,listeners:U,node:T,overIndex:w,over:k,setNodeRef:E,setActivatorNodeRef:N,setDroppableNodeRef:D,setDraggableNodeRef:J,transform:ue??H,transition:fe()};function fe(){if(ue||K&&V.current.newIndex===_)return BU;if(!(L&&!oh(I)||!d)&&(R||te))return Mr.Transition.toString({...d,property:qT})}}function zU(e,t){var n,s;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(s=e==null?void 0:e.droppable)!=null?s:t.droppable}}function af(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const WU=[De.Down,De.Right,De.Up,De.Left],GT=(e,t)=>{let{context:{active:n,collisionRect:s,droppableRects:a,droppableContainers:i,over:o,scrollableAncestors:l}}=t;if(WU.includes(e.code)){if(e.preventDefault(),!n||!s)return;const c=[];i.getEnabled().forEach(f=>{if(!f||f!=null&&f.disabled)return;const m=a.get(f.id);if(m)switch(e.code){case De.Down:s.top<m.top&&c.push(f);break;case De.Up:s.top>m.top&&c.push(f);break;case De.Left:s.left>m.left&&c.push(f);break;case De.Right:s.left<m.left&&c.push(f);break}});const d=_B({collisionRect:s,droppableRects:a,droppableContainers:c});let u=_T(d,"id");if(u===(o==null?void 0:o.id)&&d.length>1&&(u=d[1].id),u!=null){const f=i.get(n.id),m=i.get(u),g=m?a.get(m.id):null,j=m==null?void 0:m.node.current;if(j&&g&&f&&m){const w=lh(j).some((P,C)=>l[C]!==P),x=YT(f,m),p=HU(f,m),y=w||!x?{x:0,y:0}:{x:p?s.width-g.width:0,y:p?s.height-g.height:0},_={x:g.left,y:g.top};return y.x&&y.y?_:Cc(_,y)}}}};function YT(e,t){return!af(e)||!af(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function HU(e,t){return!af(e)||!af(t)||!YT(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const nj=({team:e,matchupId:t,teamPosition:n,isWinner:s,allTeams:a,onTeamChange:i})=>{var _;const[o,l]=h.useState(!1),[c,d]=h.useState(((_=e==null?void 0:e.id)==null?void 0:_.toString())||"");h.useEffect(()=>{var S;d(((S=e==null?void 0:e.id)==null?void 0:S.toString())||"")},[e==null?void 0:e.id]);const u=()=>{const S=parseInt(c);S&&S!==(e==null?void 0:e.id)&&i(t,n,S),l(!1)},f=()=>{var S;d(((S=e==null?void 0:e.id)==null?void 0:S.toString())||""),l(!1)},m=`${t}-${n}`,{attributes:g,listeners:j,setNodeRef:v,transform:w,transition:x,isDragging:p}=KT({id:m,data:{type:"team",team:e,matchupId:t,teamPosition:n}}),y={transform:Mr.Transform.toString(w),transition:x,opacity:p?.5:1};return o?r.jsxs("div",{className:"flex items-center gap-2 p-2 rounded border border-blue-200 bg-blue-50",children:[r.jsx("div",{className:"flex-1",children:r.jsxs(ht,{value:c,onValueChange:d,children:[r.jsx(at,{className:"h-8 text-xs",children:r.jsx(mt,{placeholder:"Select team..."})}),r.jsx(it,{children:a.map(S=>r.jsx(Pe,{value:S.id.toString(),children:r.jsxs("div",{className:"flex items-center gap-2",children:[S.team_logo_url&&r.jsx("img",{src:S.team_logo_url,alt:S.team_name,className:"w-4 h-4 rounded-full"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs font-medium",children:S.team_name}),r.jsx("div",{className:"text-xs text-gray-500",children:S.owner_name})]})]})},S.id))})]})}),r.jsx(Z,{size:"sm",onClick:u,className:"h-6 w-6 p-0",children:r.jsx(qo,{className:"h-3 w-3"})}),r.jsx(Z,{size:"sm",variant:"ghost",onClick:f,className:"h-6 w-6 p-0",children:r.jsx(Si,{className:"h-3 w-3"})})]}):r.jsxs("div",{ref:v,style:y,className:`flex items-center gap-2 p-2 rounded transition-colors group
        ${p?"bg-blue-50 border border-blue-200":"hover:bg-gray-50"}
        ${s?"bg-green-50 border border-green-200":""}
      `,children:[r.jsx("div",{...g,...j,className:"cursor-grab hover:cursor-grabbing",children:r.jsx(gN,{className:"h-3 w-3 text-gray-400"})}),(e==null?void 0:e.team_logo_url)&&r.jsx("img",{src:e.team_logo_url,alt:e.team_name,className:"w-5 h-5 rounded-full"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"text-sm font-medium truncate",children:(e==null?void 0:e.team_name)||`Team ${n==="team1"?"1":"2"}`}),r.jsx("div",{className:"text-xs text-gray-500 truncate",children:e==null?void 0:e.owner_name})]}),r.jsx(Z,{size:"sm",variant:"ghost",onClick:()=>l(!0),className:"h-6 w-6 p-0 opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsx(xi,{className:"h-3 w-3"})})]})},qU=({matchup:e,teams:t,allTeams:n,conferences:s,onToggleOverride:a,onUpdateScores:i,onTeamChange:o})=>{const l=t.find(y=>y.id===e.team1_id),c=t.find(y=>y.id===e.team2_id);s.find(y=>y.id===e.conference_id);const[d,u]=h.useState(!1),[f,m]=h.useState(e.team1_score),[g,j]=h.useState(e.team2_score);h.useEffect(()=>{m(e.team1_score),j(e.team2_score)},[e.team1_score,e.team2_score]);const v=e.winning_team_id===e.team1_id,w=e.winning_team_id===e.team2_id,x=()=>{i(e.id,f,g),u(!1)},p=()=>{m(e.team1_score),j(e.team2_score),u(!1)};return r.jsxs(ke,{className:`transition-colors ${e.manual_override?"bg-orange-50 border-orange-200":""}`,children:[r.jsx(ne,{className:"w-24",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-sm font-medium",children:["#",e.id]}),r.jsx("div",{className:"flex flex-col gap-1",children:e.manual_override&&r.jsx(se,{variant:"outline",className:"text-xs text-orange-600 border-orange-300 px-1 py-0",children:"Override"})})]})}),r.jsx(ne,{className:"w-48",children:r.jsx(nj,{team:l,matchupId:e.id,teamPosition:"team1",isWinner:v,allTeams:n,onTeamChange:o})}),r.jsx(ne,{className:"w-32 text-center",children:d?r.jsxs("div",{className:"flex items-center gap-1 justify-center",children:[r.jsx(Rt,{type:"number",value:f,onChange:y=>m(parseFloat(y.target.value)||0),className:"w-12 h-6 text-xs text-center px-1",step:"0.1"}),r.jsx("span",{className:"text-xs text-gray-400",children:"-"}),r.jsx(Rt,{type:"number",value:g,onChange:y=>j(parseFloat(y.target.value)||0),className:"w-12 h-6 text-xs text-center px-1",step:"0.1"}),r.jsx(Z,{size:"sm",onClick:x,className:"h-6 w-6 p-0",children:r.jsx(qo,{className:"h-3 w-3"})}),r.jsx(Z,{size:"sm",variant:"ghost",onClick:p,className:"h-6 w-6 p-0",children:r.jsx(Si,{className:"h-3 w-3"})})]}):r.jsxs("div",{className:"flex items-center gap-1 justify-center cursor-pointer hover:bg-gray-100 px-2 py-1 rounded",onClick:()=>u(!0),children:[r.jsx("span",{className:`text-sm font-bold ${v?"text-green-600":""}`,children:e.team1_score}),r.jsx("span",{className:"text-xs text-gray-400",children:"-"}),r.jsx("span",{className:`text-sm font-bold ${w?"text-green-600":""}`,children:e.team2_score}),r.jsx(xi,{className:"h-3 w-3 text-gray-400 ml-1"})]})}),r.jsx(ne,{className:"w-48",children:r.jsx(nj,{team:c,matchupId:e.id,teamPosition:"team2",isWinner:w,allTeams:n,onTeamChange:o})}),r.jsx(ne,{className:"w-24",children:r.jsx("div",{className:"text-xs text-gray-500 text-center",children:e.matchup_status})}),r.jsx(ne,{className:"w-24 text-center",children:r.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>a(e.id),className:"h-6 px-2 text-xs",children:r.jsx(xi,{className:"h-3 w-3"})})})]})},KU=()=>{const[e,t]=h.useState([]),[n,s]=h.useState([]),[a,i]=h.useState([]),[o,l]=h.useState([]),[c,d]=h.useState(""),[u,f]=h.useState(""),[m,g]=h.useState(!1),[j,v]=h.useState(!1),[w,x]=h.useState(!1),[p,y]=h.useState(null),{toast:_}=dn(),S=yT(sf(dh),sf(ch,{coordinateGetter:GT})),P=async(b,E,R,B)=>{var L,G;try{console.log(`Fetching Sleeper scores for teams ${b} and ${E} for week ${B}`),console.log(`Note: Matchup conference_id ${R} will be ignored - checking each team's actual conference`);const[q,H]=await Promise.all([ae.getTeamConferenceJunctions({filters:[{column:"team_id",operator:"eq",value:b}]}),ae.getTeamConferenceJunctions({filters:[{column:"team_id",operator:"eq",value:E}]})]),O=(L=q.data)==null?void 0:L[0],Y=(G=H.data)==null?void 0:G[0];if(!O||!Y)return console.warn(`Missing junction data - Team ${b}: ${O?"found":"missing"}, Team ${E}: ${Y?"found":"missing"}`),{team1Score:0,team2Score:0};console.log(`Team ${b} junction:`,{conference_id:O.conference_id,roster_id:O.roster_id}),console.log(`Team ${E} junction:`,{conference_id:Y.conference_id,roster_id:Y.roster_id});const V=n.find(fe=>fe.id===O.conference_id),K=n.find(fe=>fe.id===Y.conference_id);if(!V||!K)return console.warn(`Missing conference data - Team ${b} conference: ${V?"found":"missing"}, Team ${E} conference: ${K?"found":"missing"}`),{team1Score:0,team2Score:0};console.log(`Team ${b} in conference "${V.conference_name}" (league_id: ${V.league_id})`),console.log(`Team ${E} in conference "${K.conference_name}" (league_id: ${K.league_id})`);let te=0,ue=0;try{console.log(`Fetching Team ${b} score from league ${V.league_id}, week ${B}`);const ce=(await Qe.fetchMatchups(V.league_id,B)).find(me=>me.roster_id===O.roster_id);te=(ce==null?void 0:ce.points)||0,console.log(`Team ${b} score from Sleeper: ${te} (roster_id: ${O.roster_id})`)}catch(fe){console.error(`Error fetching Team ${b} score from league ${V.league_id}:`,fe)}try{console.log(`Fetching Team ${E} score from league ${K.league_id}, week ${B}`);const ce=(await Qe.fetchMatchups(K.league_id,B)).find(me=>me.roster_id===Y.roster_id);ue=(ce==null?void 0:ce.points)||0,console.log(`Team ${E} score from Sleeper: ${ue} (roster_id: ${Y.roster_id})`)}catch(fe){console.error(`Error fetching Team ${E} score from league ${K.league_id}:`,fe)}return console.log(`✅ Final scores - Team ${b}: ${te}, Team ${E}: ${ue}`),console.log("✅ This properly handles interconference matchups by checking each team's actual conference"),{team1Score:te,team2Score:ue}}catch(q){return console.error("Error fetching Sleeper scores:",q),{team1Score:0,team2Score:0}}};h.useEffect(()=>{T(),D(),C()},[]),h.useEffect(()=>{c&&A()},[c]),h.useEffect(()=>{c&&u&&n.length>0&&$()},[c,u,n]);const C=async()=>{try{const b=await Qe.getCurrentNFLWeek();console.log(`Setting current week to: ${b}`),b<=12?f(b.toString()):f("1")}catch(b){console.error("Error loading current week:",b),f("1")}},T=async()=>{try{const b=await ae.getSeasons({limit:100,orderBy:{column:"season_year",ascending:!1}});if(b.error)throw new Error(b.error);const R=(b.data||[]).map(L=>({id:L.id,season_year:parseInt(L.season_year),season_name:L.season_name,is_current_season:L.is_current}));t(R);const B=R.find(L=>L.is_current_season);B&&d(B.id.toString())}catch(b){console.error("Error loading seasons:",b),_({title:"Error",description:"Failed to load seasons",variant:"destructive"})}},A=async()=>{try{const{data:b,error:E}=await ae.getConferences({filters:[{column:"season_id",operator:"eq",value:parseInt(c)}]});if(E)throw new Error(E);s(b||[])}catch(b){console.error("Error loading conferences:",b),_({title:"Error",description:"Failed to load conferences",variant:"destructive"})}},D=async()=>{try{const b=await ae.getTeams({limit:100,orderBy:{column:"team_name",ascending:!0}});if(b.error)throw new Error(b.error);const E=b.data||[],R=await ae.getTeamConferenceJunctions({limit:1e3,orderBy:{column:"team_id",ascending:!0}});if(R.error)throw new Error(R.error);const B=R.data||[],L=E.map(G=>{const q=B.find(H=>H.team_id===G.id);return{id:G.id,team_name:G.team_name,owner_name:G.owner_name,team_logo_url:G.team_logourl||"",conference_id:(q==null?void 0:q.conference_id)||0}});i(L)}catch(b){console.error("Error loading teams:",b),_({title:"Error",description:"Failed to load teams",variant:"destructive"})}},$=async()=>{g(!0),console.log(`Loading regular season matchups for season ${c}, week ${u}`),console.log("Available conferences:",n.map(b=>({id:b.id,name:b.conference_name})));try{const b=n.map(R=>R.id);console.log("Conference IDs to query:",b);const E=[];for(const R of b){console.log(`Fetching regular season matchups for conference ${R}`);const{data:B,error:L}=await ae.getMatchups({filters:[{column:"conference_id",operator:"eq",value:R},{column:"week",operator:"eq",value:parseInt(u)},{column:"is_playoff",operator:"eq",value:!1}],orderBy:{column:"id",ascending:!0}});if(L)throw console.error(`Error fetching matchups for conference ${R}:`,L),new Error(L);const G=B||[];console.log(`Found ${G.length} regular season matchups for conference ${R}`);const q=n.find(O=>O.id===R),H=G.map(O=>(console.log(`Loaded regular season matchup ${O.id}:`,{teams:`${O.team1_id} vs ${O.team2_id}`,scores:`${O.team1_score} - ${O.team2_score}`,status:O.matchup_status,manual_override:O.manual_override}),{...O,conference_name:q==null?void 0:q.conference_name}));E.push(...H)}E.sort((R,B)=>R.conference_id!==B.conference_id?R.conference_id-B.conference_id:R.id-B.id),console.log(`Total regular season matchups loaded: ${E.length}`),console.log("Regular season matchups breakdown by status:",{pending:E.filter(R=>R.matchup_status==="pending").length,complete:E.filter(R=>R.matchup_status==="complete").length,manual_overrides:E.filter(R=>R.manual_override).length}),l(E)}catch(b){console.error("Error loading regular season matchups:",b),_({title:"Error",description:`Failed to load regular season matchups: ${b}`,variant:"destructive"})}finally{g(!1)}},I=b=>{y(b.active.id)},M=async b=>{const{active:E,over:R}=b;if(y(null),!R||E.id===R.id)return;const B=E.data.current,L=R.data.current;if((B==null?void 0:B.type)==="team"&&(L==null?void 0:L.type)==="team"){const G=B.matchupId,q=B.teamPosition,H=L.matchupId,O=L.teamPosition;if(G===H&&q===O)return;const Y=[...o],V=Y.find(fe=>fe.id===G),K=Y.find(fe=>fe.id===H);if(!V||!K)return;const te=q==="team1"?V.team1_id:V.team2_id,ue=O==="team1"?K.team1_id:K.team2_id;q==="team1"?V.team1_id=ue:V.team2_id=ue,O==="team1"?K.team1_id=te:K.team2_id=te;try{const fe=await P(V.team1_id,V.team2_id,V.conference_id,V.week);console.log(`🎯 DRAG DEBUG - Active matchup ${V.id}: Setting scores ${fe.team1Score} vs ${fe.team2Score}`),V.team1_score=fe.team1Score,V.team2_score=fe.team2Score,fe.team1Score>fe.team2Score?V.winning_team_id=V.team1_id:fe.team2Score>fe.team1Score?V.winning_team_id=V.team2_id:V.winning_team_id=null,console.log(`🏆 DRAG WINNER - Active matchup ${V.id}: Winner=${V.winning_team_id}`);const ce=await P(K.team1_id,K.team2_id,K.conference_id,K.week);console.log(`🎯 DRAG DEBUG - Over matchup ${K.id}: Setting scores ${ce.team1Score} vs ${ce.team2Score}`),K.team1_score=ce.team1Score,K.team2_score=ce.team2Score,ce.team1Score>ce.team2Score?K.winning_team_id=K.team1_id:ce.team2Score>ce.team1Score?K.winning_team_id=K.team2_id:K.winning_team_id=null,console.log(`🏆 DRAG WINNER - Over matchup ${K.id}: Winner=${K.winning_team_id}`),console.log(`Fetched Sleeper scores - Active matchup: ${fe.team1Score} vs ${fe.team2Score}, Over matchup: ${ce.team1Score} vs ${ce.team2Score}`)}catch(fe){console.warn("Failed to fetch Sleeper scores, using 0:",fe),V.team1_score=0,V.team2_score=0,V.winning_team_id=null,K.team1_score=0,K.team2_score=0,K.winning_team_id=null}V.winning_team_id=null,V.manual_override=!0,V.matchup_status="pending",K.winning_team_id=null,K.manual_override=!0,K.matchup_status="pending",console.log(`Teams swapped between matchups ${G} and ${H}`),console.log(`Active matchup now has teams ${V.team1_id} vs ${V.team2_id}`),console.log(`Over matchup now has teams ${K.team1_id} vs ${K.team2_id}`),l(Y),x(!0),_({title:"Teams Swapped",description:"Team matchups have been updated with current scores. Remember to save your changes.",duration:3e3})}},F=b=>{var E;console.log(`Toggling manual override for matchup ${b}`),l(R=>R.map(B=>{if(B.id===b){const L=!B.manual_override;return console.log(`Matchup ${b} manual override: ${B.manual_override} -> ${L}`),{...B,manual_override:L,status:L?B.matchup_status:"pending"}}return B})),x(!0),_({title:"Override Toggled",description:`Manual override ${(E=o.find(R=>R.id===b))!=null&&E.manual_override?"removed":"enabled"} for matchup ${b}`,duration:2e3})},J=(b,E,R)=>{console.log(`Updating scores for matchup ${b}: Team 1 = ${E}, Team 2 = ${R}`),l(B=>B.map(L=>{if(L.id===b){let G=null;return E>R?G=L.team1_id:R>E&&(G=L.team2_id),console.log(`🏆 WINNER CALC - Matchup ${b}: Team1(${L.team1_id})=${E}, Team2(${L.team2_id})=${R}, Winner=${G}`),{...L,team1_score:E,team2_score:R,winning_team_id:G,manual_override:!0,matchup_status:"complete"}}return L})),x(!0),_({title:"Scores Updated",description:`Matchup ${b} scores updated. Remember to save changes.`,duration:2e3})},U=async(b,E,R)=>{console.log(`Changing team for regular season matchup ${b}, position ${E} to team ${R}`),l(G=>G.map(q=>{if(q.id===b){const H={...q,manual_override:!0};return E==="team1"?H.team1_id=R:H.team2_id=R,console.log(`Updated regular season matchup ${b}: team1_id=${H.team1_id}, team2_id=${H.team2_id}`),H}return q}));const B=o.find(G=>G.id===b);if(B)try{const G=E==="team1"?R:B.team1_id,q=E==="team2"?R:B.team2_id;console.log(`Fetching regular season scores for updated matchup ${b}: team1=${G}, team2=${q}, week=${B.week}`);const{team1Score:H,team2Score:O}=await P(G,q,B.conference_id,B.week);l(Y=>Y.map(V=>{if(V.id===b){let K=null;return H>O?K=G:O>H&&(K=q),console.log(`🏆 REGULAR SEASON TEAM CHANGE WINNER - Matchup ${b}: Team1(${G})=${H}, Team2(${q})=${O}, Winner=${K}`),{...V,team1_score:H,team2_score:O,winning_team_id:K}}return V})),console.log(`✅ Updated regular season matchup ${b} with scores: ${H} - ${O}`)}catch(G){console.error(`Error fetching regular season scores for matchup ${b}:`,G),l(q=>q.map(H=>H.id===b?{...H,team1_score:0,team2_score:0,winning_team_id:null}:H))}x(!0);const L=a.find(G=>G.id===R);_({title:"Team Changed",description:`Regular season matchup ${b} ${E} changed to ${L==null?void 0:L.team_name}. Scores updated automatically. Remember to save changes.`,duration:3e3})},z=async()=>{var B;v(!0),console.log("Starting save operation for",o.length,"regular season matchups");let b=0,E=0;const R=[];try{for(const L of o){if(console.log(`Updating regular season matchup ${L.id}:`,{conference_id:L.conference_id,week:L.week,team1_id:L.team1_id,team2_id:L.team2_id,team1_score:L.team1_score,team2_score:L.team2_score,winning_team_id:L.winning_team_id,manual_override:L.manual_override,status:L.manual_override?"complete":L.matchup_status}),!L.id||L.conference_id<=0||L.week<=0){console.error(`Invalid matchup data for ID ${L.id}:`,{id:L.id,conference_id:L.conference_id,week:L.week}),E++,R.push(L.id);continue}let G=null;L.team1_score>L.team2_score?G=L.team1_id:L.team2_score>L.team1_score&&(G=L.team2_id),console.log(`🏆 SAVE WINNER - Matchup ${L.id}: Team1(${L.team1_id})=${L.team1_score}, Team2(${L.team2_id})=${L.team2_score}, Calculated Winner=${G}`);const q={conference_id:L.conference_id,week:((B=L.week)==null?void 0:B.toString())||"1",team1_id:L.team1_id||0,team2_id:L.team2_id||0,is_playoff:!1,team1_score:L.team1_score||0,team2_score:L.team2_score||0,winning_team_id:G,manual_override:L.manual_override||!1,matchup_status:L.manual_override?"complete":L.matchup_status||"pending",notes:L.notes||""};console.log(`Sending update for regular season matchup ${L.id} with data:`,q);const H=await ae.updateMatchup(L.id,q);if(H.error){console.error(`❌ Failed to update regular season matchup ${L.id}:`,H.error),console.error("❌ Update data was:",q),console.error("❌ Matchup object:",L),E++,R.push(L.id);continue}else console.log(`✅ Successfully updated regular season matchup ${L.id}`),console.log("✅ UPDATE RESULT:",H.data);console.log(`Successfully updated regular season matchup ${L.id}`),b++}console.log(`Save operation completed: ${b} successes, ${E} failures`),E>0?(console.error("Failed matchup IDs:",R),_({title:"Partial Success",description:`${b} regular season matchups updated successfully, ${E} failed. Check console for details.`,variant:"destructive"})):(x(!1),_({title:"Success",description:`All ${b} regular season matchups updated successfully`})),console.log("Reloading regular season matchups to verify changes persisted..."),await $()}catch(L){console.error("Critical error during save operation:",L),_({title:"Error",description:`Failed to save regular season matchup changes: ${L}`,variant:"destructive"})}finally{v(!1),console.log("Save operation completed, saving state reset")}},k=()=>{$(),x(!1)},N=Array.from({length:12},(b,E)=>E+1);return r.jsxs("div",{className:"space-y-6",children:[r.jsx(Q,{children:r.jsxs(ee,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Season"}),r.jsxs(ht,{value:c,onValueChange:d,children:[r.jsx(at,{children:r.jsx(mt,{placeholder:"Select season..."})}),r.jsx(it,{children:e.map(b=>r.jsxs(Pe,{value:b.id.toString(),children:[b.season_name,b.is_current_season&&r.jsx(se,{variant:"secondary",className:"ml-2",children:"Current"})]},b.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Week (Regular Season)"}),r.jsxs(ht,{value:u,onValueChange:f,disabled:!c,children:[r.jsx(at,{children:r.jsx(mt,{placeholder:"Select week..."})}),r.jsx(it,{children:N.map(b=>r.jsxs(Pe,{value:b.toString(),children:["Week ",b]},b))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Status"}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),r.jsxs("span",{children:[o.length," Total"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),r.jsxs("span",{children:[o.filter(b=>b.manual_override).length," Override"]})]})]})]}),r.jsx("div",{className:"space-y-2 flex items-end",children:w&&r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Z,{onClick:z,disabled:j,className:"flex items-center gap-2",children:[j?r.jsx(wt,{className:"h-4 w-4 animate-spin"}):r.jsx(Rf,{className:"h-4 w-4"}),"Save"]}),r.jsxs(Z,{variant:"outline",onClick:k,className:"flex items-center gap-2",children:[r.jsx(xN,{className:"h-4 w-4"}),"Reset"]})]})})]}),w&&r.jsxs(Le,{className:"mb-4",children:[r.jsx(yN,{className:"h-4 w-4"}),r.jsx(Ie,{children:"You have unsaved changes. Remember to save your modifications."})]})]})}),m?r.jsx(Q,{children:r.jsx(ee,{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(wt,{className:"h-6 w-6 animate-spin"}),r.jsx("span",{children:"Loading regular season matchups..."})]})})}):o.length===0&&u?r.jsx(Q,{children:r.jsx(ee,{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Vt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Regular Season Matchups Found"}),r.jsx("p",{className:"text-gray-600",children:"No regular season matchups found for the selected week. They may need to be created first."})]})})}):o.length>0?r.jsx(Q,{children:r.jsx(ee,{className:"p-0",children:r.jsxs(FT,{sensors:S,collisionDetection:bT,onDragStart:I,onDragEnd:M,children:[r.jsx(HT,{items:o.flatMap(b=>[`${b.id}-team1`,`${b.id}-team2`]),strategy:hh,children:r.jsxs(rn,{children:[r.jsx(an,{children:r.jsxs(ke,{children:[r.jsx(ie,{className:"w-24",children:"Match"}),r.jsx(ie,{className:"w-48",children:"Team 1"}),r.jsx(ie,{className:"w-32 text-center",children:"Score"}),r.jsx(ie,{className:"w-48",children:"Team 2"}),r.jsx(ie,{className:"w-24 text-center",children:"Status"}),r.jsx(ie,{className:"w-24 text-center",children:"Actions"})]})}),r.jsx(on,{children:n.map(b=>{const E=o.filter(R=>R.conference_id===b.id);return E.length===0?null:r.jsxs(Me.Fragment,{children:[r.jsx(ke,{children:r.jsx(ne,{colSpan:6,className:"bg-gray-50 font-medium text-sm py-2",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Vt,{className:"h-4 w-4 text-blue-600"}),b.conference_name,r.jsxs(se,{variant:"secondary",className:"text-xs",children:[E.length," matchups"]})]})})}),E.map(R=>r.jsx(qU,{matchup:R,teams:a,allTeams:a,conferences:n,onToggleOverride:F,onUpdateScores:J,onTeamChange:U},R.id))]},b.id)})})]})}),r.jsx(UT,{children:p?r.jsx("div",{className:"bg-white p-2 rounded-lg border-2 border-blue-400 shadow-lg",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-4 h-4 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx(Vt,{className:"h-2 w-2 text-blue-600"})}),r.jsx("span",{className:"text-xs font-medium",children:"Moving team..."})]})}):null})]})})}):r.jsx(Q,{children:r.jsx(ee,{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Vt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select Filters"}),r.jsx("p",{className:"text-gray-600",children:"Please select a season and week to manage regular season matchups across all conferences."})]})})})]})},sj=({team:e,bracketId:t,teamPosition:n,isWinner:s,allTeams:a,onTeamChange:i})=>{var _;const[o,l]=h.useState(!1),[c,d]=h.useState(((_=e==null?void 0:e.id)==null?void 0:_.toString())||"");h.useEffect(()=>{var S;d(((S=e==null?void 0:e.id)==null?void 0:S.toString())||"")},[e==null?void 0:e.id]);const u=()=>{const S=parseInt(c);S&&S!==(e==null?void 0:e.id)&&i(t,n,S),l(!1)},f=()=>{var S;d(((S=e==null?void 0:e.id)==null?void 0:S.toString())||""),l(!1)},m=`${t}-${n}`,{attributes:g,listeners:j,setNodeRef:v,transform:w,transition:x,isDragging:p}=KT({id:m,data:{type:"team",team:e,bracketId:t,teamPosition:n}}),y={transform:Mr.Transform.toString(w),transition:x,opacity:p?.5:1};return o?r.jsxs("div",{className:"flex items-center gap-2 p-2 rounded border border-blue-200 bg-blue-50",children:[r.jsx("div",{className:"flex-1",children:r.jsxs(ht,{value:c,onValueChange:d,children:[r.jsx(at,{className:"h-8 text-xs",children:r.jsx(mt,{placeholder:"Select team..."})}),r.jsx(it,{children:a.map(S=>r.jsx(Pe,{value:S.id.toString(),children:r.jsxs("div",{className:"flex items-center gap-2",children:[S.team_logo_url&&r.jsx("img",{src:S.team_logo_url,alt:S.team_name,className:"w-4 h-4 rounded-full"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs font-medium",children:S.team_name}),r.jsx("div",{className:"text-xs text-gray-500",children:S.owner_name})]})]})},S.id))})]})}),r.jsx(Z,{size:"sm",onClick:u,className:"h-6 w-6 p-0",children:r.jsx(qo,{className:"h-3 w-3"})}),r.jsx(Z,{size:"sm",variant:"ghost",onClick:f,className:"h-6 w-6 p-0",children:r.jsx(Si,{className:"h-3 w-3"})})]}):r.jsxs("div",{ref:v,style:y,className:`flex items-center gap-2 p-2 rounded transition-colors group
        ${p?"bg-blue-50 border border-blue-200":"hover:bg-gray-50"}
        ${s?"bg-green-50 border border-green-200":""}
      `,children:[r.jsx("div",{...g,...j,className:"cursor-grab hover:cursor-grabbing",children:r.jsx(gN,{className:"h-3 w-3 text-gray-400"})}),(e==null?void 0:e.team_logo_url)&&r.jsx("img",{src:e.team_logo_url,alt:e.team_name,className:"w-5 h-5 rounded-full"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"text-sm font-medium truncate",children:(e==null?void 0:e.team_name)||`Team ${n==="team1"?"1":"2"}`}),r.jsx("div",{className:"text-xs text-gray-500 truncate",children:e==null?void 0:e.owner_name})]}),r.jsx(Z,{size:"sm",variant:"ghost",onClick:()=>l(!0),className:"h-6 w-6 p-0 opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsx(xi,{className:"h-3 w-3"})})]})},GU=({bracket:e,teams:t,allTeams:n,onToggleOverride:s,onUpdateScores:a,onUpdateTeams:i,onTeamChange:o})=>{const l=t.find(y=>y.id===e.team1_id),c=t.find(y=>y.id===e.team2_id),[d,u]=h.useState(!1),[f,m]=h.useState(e.team1_score||0),[g,j]=h.useState(e.team2_score||0);h.useEffect(()=>{m(e.team1_score||0),j(e.team2_score||0)},[e.team1_score,e.team2_score]);const v=e.winning_team_id===e.team1_id,w=e.winning_team_id===e.team2_id,x=()=>{a(e.id,f,g),u(!1)},p=()=>{m(e.team1_score||0),j(e.team2_score||0),u(!1)};return r.jsxs(ke,{className:`transition-colors ${e.manual_override?"bg-orange-50 border-orange-200":""}`,children:[r.jsx(ne,{className:"w-32",children:r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsxs("span",{className:"text-sm font-medium",children:["#",e.id]}),r.jsx("div",{className:"text-xs text-gray-500",children:e.playoff_round_name||`Round ${e.round}`}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Week ",e.week]}),e.manual_override&&r.jsx(se,{variant:"outline",className:"text-xs text-orange-600 border-orange-300 px-1 py-0",children:"Override"}),e.is_bye&&r.jsx(se,{variant:"secondary",className:"text-xs px-1 py-0",children:"Bye"})]})}),r.jsx(ne,{className:"w-48",children:r.jsx(sj,{team:l,bracketId:e.id,teamPosition:"team1",isWinner:v,allTeams:n,onTeamChange:o})}),r.jsx(ne,{className:"w-32 text-center",children:d?r.jsxs("div",{className:"flex items-center gap-1 justify-center",children:[r.jsx(Rt,{type:"number",value:f,onChange:y=>m(parseFloat(y.target.value)||0),className:"w-12 h-6 text-xs text-center px-1",step:"0.1"}),r.jsx("span",{className:"text-xs text-gray-400",children:"-"}),r.jsx(Rt,{type:"number",value:g,onChange:y=>j(parseFloat(y.target.value)||0),className:"w-12 h-6 text-xs text-center px-1",step:"0.1"}),r.jsx(Z,{size:"sm",onClick:x,className:"h-6 w-6 p-0",children:r.jsx(qo,{className:"h-3 w-3"})}),r.jsx(Z,{size:"sm",variant:"ghost",onClick:p,className:"h-6 w-6 p-0",children:r.jsx(Si,{className:"h-3 w-3"})})]}):r.jsxs("div",{className:"flex items-center gap-1 justify-center cursor-pointer hover:bg-gray-100 px-2 py-1 rounded",onClick:()=>u(!0),children:[r.jsx("span",{className:`text-sm font-bold ${v?"text-green-600":""}`,children:e.team1_score||0}),r.jsx("span",{className:"text-xs text-gray-400",children:"-"}),r.jsx("span",{className:`text-sm font-bold ${w?"text-green-600":""}`,children:e.team2_score||0}),r.jsx(xi,{className:"h-3 w-3 text-gray-400 ml-1"})]})}),r.jsx(ne,{className:"w-48",children:r.jsx(sj,{team:c,bracketId:e.id,teamPosition:"team2",isWinner:w,allTeams:n,onTeamChange:o})}),r.jsx(ne,{className:"w-24 text-center",children:r.jsxs("div",{className:"text-xs text-gray-500",children:[r.jsxs("div",{children:["#",e.team1_seed]}),r.jsx("div",{children:"vs"}),r.jsxs("div",{children:["#",e.team2_seed]})]})}),r.jsx(ne,{className:"w-24 text-center",children:r.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>s(e.id),className:"h-6 px-2 text-xs",children:r.jsx(xi,{className:"h-3 w-3"})})})]})},YU=()=>{const[e,t]=h.useState([]),[n,s]=h.useState([]),[a,i]=h.useState([]),[o,l]=h.useState(""),[c,d]=h.useState(""),[u,f]=h.useState(!1),[m,g]=h.useState(!1),[j,v]=h.useState(!1),[w,x]=h.useState(null),{toast:p}=dn(),y=yT(sf(dh),sf(ch,{coordinateGetter:GT})),_=async(k,N,b)=>{var E,R,B,L;try{console.log(`Fetching playoff scores for teams ${k} and ${N} for week ${b}`);const[G,q]=await Promise.all([ae.getTeamConferenceJunctions({filters:[{column:"team_id",operator:"eq",value:k}]}),ae.getTeamConferenceJunctions({filters:[{column:"team_id",operator:"eq",value:N}]})]),H=(E=G.data)==null?void 0:E[0],O=(R=q.data)==null?void 0:R[0];if(!H||!O)return console.warn(`Missing junction data - Team ${k}: ${H?"found":"missing"}, Team ${N}: ${O?"found":"missing"}`),{team1Score:0,team2Score:0};const[Y,V]=await Promise.all([ae.getConferences({filters:[{column:"id",operator:"eq",value:H.conference_id}]}),ae.getConferences({filters:[{column:"id",operator:"eq",value:O.conference_id}]})]),K=(B=Y.data)==null?void 0:B[0],te=(L=V.data)==null?void 0:L[0];if(!K||!te)return console.warn(`Missing conference data - Team ${k} conference: ${K?"found":"missing"}, Team ${N} conference: ${te?"found":"missing"}`),{team1Score:0,team2Score:0};console.log(`Team ${k} in conference "${K.conference_name}" (league_id: ${K.league_id})`),console.log(`Team ${N} in conference "${te.conference_name}" (league_id: ${te.league_id})`);let ue=0,fe=0;const{SleeperApiService:ce}=await Dr(async()=>{const{SleeperApiService:me}=await Promise.resolve().then(()=>fg);return{SleeperApiService:me}},void 0);try{console.log(`Fetching Team ${k} playoff score from league ${K.league_id}, week ${b}`);const we=(await ce.fetchMatchups(K.league_id,b)).find(qe=>qe.roster_id===H.roster_id);ue=(we==null?void 0:we.points)||0,console.log(`Team ${k} playoff score from Sleeper: ${ue} (roster_id: ${H.roster_id})`)}catch(me){console.error(`Error fetching Team ${k} playoff score from league ${K.league_id}:`,me)}try{console.log(`Fetching Team ${N} playoff score from league ${te.league_id}, week ${b}`);const we=(await ce.fetchMatchups(te.league_id,b)).find(qe=>qe.roster_id===O.roster_id);fe=(we==null?void 0:we.points)||0,console.log(`Team ${N} playoff score from Sleeper: ${fe} (roster_id: ${O.roster_id})`)}catch(me){console.error(`Error fetching Team ${N} playoff score from league ${te.league_id}:`,me)}return console.log(`✅ Final playoff scores - Team ${k}: ${ue}, Team ${N}: ${fe}`),{team1Score:ue,team2Score:fe}}catch(G){return console.error("Error fetching playoff scores:",G),{team1Score:0,team2Score:0}}};h.useEffect(()=>{P(),C(),S()},[]),h.useEffect(()=>{o&&c&&T()},[o,c]);const S=async()=>{try{d("14")}catch(k){console.error("Error setting default playoff week:",k),d("14")}},P=async()=>{try{const k=await ae.getSeasons({limit:100,orderBy:{column:"season_year",ascending:!1}});if(k.error)throw new Error(k.error);const b=(k.data||[]).map(R=>({id:R.id,season_year:parseInt(R.season_year),season_name:R.season_name,is_current_season:R.is_current}));t(b);const E=b.find(R=>R.is_current_season);E&&l(E.id.toString())}catch(k){console.error("Error loading seasons:",k),p({title:"Error",description:"Failed to load seasons",variant:"destructive"})}},C=async()=>{try{const k=await ae.getTeams({limit:100,orderBy:{column:"team_name",ascending:!0}});if(k.error)throw new Error(k.error);const b=(k.data||[]).map(E=>({id:E.id,team_name:E.team_name,owner_name:E.owner_name,team_logo_url:E.team_logourl||""}));s(b)}catch(k){console.error("Error loading teams:",k),p({title:"Error",description:"Failed to load teams",variant:"destructive"})}},T=async()=>{f(!0),console.log(`Loading playoff brackets for season ${o}, week ${c}`);try{const{data:k,error:N}=await ae.getPlayoffBrackets({filters:[{column:"season_id",operator:"eq",value:parseInt(o)},{column:"week",operator:"eq",value:parseInt(c)}],orderBy:{column:"matchup_number",ascending:!0}});if(N)throw console.error("Error fetching playoff brackets:",N),new Error(N);const b=k||[];console.log(`Found ${b.length} playoff brackets`);const E=b.map(R=>({...R,manual_override:!1}));console.log("Playoff brackets breakdown:",{total:E.length,byes:E.filter(R=>R.is_bye).length,completed:E.filter(R=>R.winning_team_id).length}),i(E)}catch(k){console.error("Error loading playoff brackets:",k),p({title:"Error",description:`Failed to load playoff brackets: ${k}`,variant:"destructive"})}finally{f(!1)}},A=k=>{x(k.active.id)},D=async k=>{const{active:N,over:b}=k;if(x(null),!b||N.id===b.id)return;const E=N.data.current,R=b.data.current;if((E==null?void 0:E.type)==="team"&&(R==null?void 0:R.type)==="team"){const B=E.bracketId,L=E.teamPosition,G=R.bracketId,q=R.teamPosition;if(B===G&&L===q)return;const H=[...a],O=H.find(te=>te.id===B),Y=H.find(te=>te.id===G);if(!O||!Y)return;const V=L==="team1"?O.team1_id:O.team2_id,K=q==="team1"?Y.team1_id:Y.team2_id;L==="team1"?O.team1_id=K:O.team2_id=K,q==="team1"?Y.team1_id=V:Y.team2_id=V,O.manual_override=!0,Y.manual_override=!0;try{const te=await _(O.team1_id,O.team2_id,O.week);O.team1_score=te.team1Score,O.team2_score=te.team2Score,te.team1Score>te.team2Score?O.winning_team_id=O.team1_id:te.team2Score>te.team1Score?O.winning_team_id=O.team2_id:O.winning_team_id=null;const ue=await _(Y.team1_id,Y.team2_id,Y.week);Y.team1_score=ue.team1Score,Y.team2_score=ue.team2Score,ue.team1Score>ue.team2Score?Y.winning_team_id=Y.team1_id:ue.team2Score>ue.team1Score?Y.winning_team_id=Y.team2_id:Y.winning_team_id=null,console.log(`✅ Updated playoff scores - Active bracket: ${te.team1Score} - ${te.team2Score}, Over bracket: ${ue.team1Score} - ${ue.team2Score}`)}catch(te){console.error("Error fetching playoff scores after team swap:",te),O.team1_score=0,O.team2_score=0,O.winning_team_id=null,Y.team1_score=0,Y.team2_score=0,Y.winning_team_id=null}console.log(`Teams swapped between playoff brackets ${B} and ${G}`),console.log(`Active bracket now has teams ${O.team1_id} vs ${O.team2_id}`),console.log(`Over bracket now has teams ${Y.team1_id} vs ${Y.team2_id}`),i(H),v(!0),p({title:"Teams Swapped",description:"Playoff matchup teams have been updated with current scores. Remember to save your changes.",duration:3e3})}},$=k=>{var N;console.log(`Toggling manual override for playoff bracket ${k}`),i(b=>b.map(E=>{if(E.id===k){const R=!E.manual_override;return console.log(`Playoff bracket ${k} manual override: ${E.manual_override} -> ${R}`),{...E,manual_override:R}}return E})),v(!0),p({title:"Override Toggled",description:`Manual override ${(N=a.find(b=>b.id===k))!=null&&N.manual_override?"removed":"enabled"} for playoff bracket ${k}`,duration:2e3})},I=(k,N,b)=>{console.log(`Updating scores for playoff bracket ${k}: Team 1 = ${N}, Team 2 = ${b}`),i(E=>E.map(R=>{if(R.id===k){let B=null;return N>b?B=R.team1_id:b>N&&(B=R.team2_id),console.log(`🏆 PLAYOFF WINNER CALC - Bracket ${k}: Team1(${R.team1_id})=${N}, Team2(${R.team2_id})=${b}, Winner=${B}`),{...R,team1_score:N,team2_score:b,winning_team_id:B,manual_override:!0}}return R})),v(!0),p({title:"Playoff Scores Updated",description:`Playoff bracket ${k} scores updated. Remember to save changes.`,duration:2e3})},M=(k,N,b)=>{i(E=>E.map(R=>R.id===k?{...R,team1_id:N,team2_id:b,manual_override:!0}:R)),v(!0)},F=async(k,N,b)=>{console.log(`Changing team for playoff bracket ${k}, position ${N} to team ${b}`),i(B=>B.map(L=>{if(L.id===k){const G={...L,manual_override:!0};return N==="team1"?G.team1_id=b:G.team2_id=b,console.log(`Updated bracket ${k}: team1_id=${G.team1_id}, team2_id=${G.team2_id}`),G}return L}));const E=a.find(B=>B.id===k);if(E)try{const B=N==="team1"?b:E.team1_id,L=N==="team2"?b:E.team2_id;console.log(`Fetching playoff scores for updated bracket ${k}: team1=${B}, team2=${L}, week=${E.week}`);const{team1Score:G,team2Score:q}=await _(B,L,E.week);i(H=>H.map(O=>{if(O.id===k){let Y=null;return G>q?Y=B:q>G&&(Y=L),console.log(`🏆 TEAM CHANGE WINNER - Bracket ${k}: Team1(${B})=${G}, Team2(${L})=${q}, Winner=${Y}`),{...O,team1_score:G,team2_score:q,winning_team_id:Y}}return O})),console.log(`✅ Updated bracket ${k} with scores: ${G} - ${q}`)}catch(B){console.error(`Error fetching playoff scores for bracket ${k}:`,B),i(L=>L.map(G=>G.id===k?{...G,team1_score:0,team2_score:0,winning_team_id:null}:G))}v(!0);const R=n.find(B=>B.id===b);p({title:"Team Changed",description:`Playoff bracket ${k} ${N} changed to ${R==null?void 0:R.team_name}. Scores updated automatically. Remember to save changes.`,duration:3e3})},J=async()=>{g(!0),console.log("Starting save operation for",a.length,"playoff brackets");let k=0,N=0;const b=[];try{for(const E of a){if(console.log(`Updating playoff bracket ${E.id}:`,{season_id:E.season_id,round:E.round,team1_id:E.team1_id,team2_id:E.team2_id,team1_score:E.team1_score,team2_score:E.team2_score,winning_team_id:E.winning_team_id,manual_override:E.manual_override}),!E.id||E.season_id<=0){console.error(`Invalid bracket data for ID ${E.id}:`,{id:E.id,season_id:E.season_id}),N++,b.push(E.id);continue}let R=null;E.team1_score&&E.team2_score&&(E.team1_score>E.team2_score?R=E.team1_id:E.team2_score>E.team1_score&&(R=E.team2_id)),console.log(`🏆 PLAYOFF SAVE WINNER - Bracket ${E.id}: Team1(${E.team1_id})=${E.team1_score}, Team2(${E.team2_id})=${E.team2_score}, Calculated Winner=${R}`);const B={season_id:E.season_id,round:E.round,team1_seed:E.team1_seed,team2_seed:E.team2_seed,team1_id:E.team1_id,team2_id:E.team2_id,winning_team_id:R,playoff_round_name:E.playoff_round_name||null,is_bye:E.is_bye||!1,matchup_number:E.matchup_number||null,week:E.week,team1_score:E.team1_score||0,team2_score:E.team2_score||0};console.log(`Sending update for playoff bracket ${E.id} with data:`,B);const L=await ae.updatePlayoffBracket(E.id,B);if(L.error){console.error(`❌ Failed to update playoff bracket ${E.id}:`,L.error),console.error("❌ Update data was:",B),console.error("❌ Bracket object:",E),N++,b.push(E.id);continue}else console.log(`✅ Successfully updated playoff bracket ${E.id}`),console.log("✅ UPDATE RESULT:",L.data);console.log(`Successfully updated playoff bracket ${E.id}`),k++}console.log(`Save operation completed: ${k} successes, ${N} failures`),N>0?(console.error("Failed bracket IDs:",b),p({title:"Partial Success",description:`${k} playoff brackets updated successfully, ${N} failed. Check console for details.`,variant:"destructive"})):(v(!1),p({title:"Success",description:`All ${k} playoff brackets updated successfully`})),console.log("Reloading playoff brackets to verify changes persisted..."),await T()}catch(E){console.error("Critical error during save operation:",E),p({title:"Error",description:`Failed to save playoff bracket changes: ${E}`,variant:"destructive"})}finally{g(!1),console.log("Save operation completed, saving state reset")}},U=()=>{T(),v(!1)},z=Array.from({length:6},(k,N)=>N+13);return r.jsxs("div",{className:"space-y-6",children:[r.jsx(Q,{children:r.jsxs(ee,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Season"}),r.jsxs(ht,{value:o,onValueChange:l,children:[r.jsx(at,{children:r.jsx(mt,{placeholder:"Select season..."})}),r.jsx(it,{children:e.map(k=>r.jsxs(Pe,{value:k.id.toString(),children:[k.season_name,k.is_current_season&&r.jsx(se,{variant:"secondary",className:"ml-2",children:"Current"})]},k.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Week (Playoffs)"}),r.jsxs(ht,{value:c,onValueChange:d,disabled:!o,children:[r.jsx(at,{children:r.jsx(mt,{placeholder:"Select week..."})}),r.jsx(it,{children:z.map(k=>r.jsxs(Pe,{value:k.toString(),children:["Week ",k]},k))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Status"}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),r.jsxs("span",{children:[a.length," Total"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),r.jsxs("span",{children:[a.filter(k=>k.manual_override).length," Override"]})]})]})]}),r.jsx("div",{className:"space-y-2 flex items-end",children:j&&r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Z,{onClick:J,disabled:m,className:"flex items-center gap-2",children:[m?r.jsx(wt,{className:"h-4 w-4 animate-spin"}):r.jsx(Rf,{className:"h-4 w-4"}),"Save"]}),r.jsxs(Z,{variant:"outline",onClick:U,className:"flex items-center gap-2",children:[r.jsx(xN,{className:"h-4 w-4"}),"Reset"]})]})})]}),j&&r.jsxs(Le,{className:"mb-4",children:[r.jsx(yN,{className:"h-4 w-4"}),r.jsx(Ie,{children:"You have unsaved changes. Remember to save your modifications."})]})]})}),u?r.jsx(Q,{children:r.jsx(ee,{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(wt,{className:"h-6 w-6 animate-spin"}),r.jsx("span",{children:"Loading playoff brackets..."})]})})}):a.length===0&&c?r.jsx(Q,{children:r.jsx(ee,{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx(xt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Playoff Brackets Found"}),r.jsx("p",{className:"text-gray-600",children:"No playoff brackets found for the selected week. They may need to be created first."})]})})}):a.length>0?r.jsx(Q,{children:r.jsx(ee,{className:"p-0",children:r.jsxs(FT,{sensors:y,collisionDetection:bT,onDragStart:A,onDragEnd:D,children:[r.jsx(HT,{items:a.flatMap(k=>[`${k.id}-team1`,`${k.id}-team2`]),strategy:hh,children:r.jsxs(rn,{children:[r.jsx(an,{children:r.jsxs(ke,{children:[r.jsx(ie,{className:"w-32",children:"Bracket"}),r.jsx(ie,{className:"w-48",children:"Team 1"}),r.jsx(ie,{className:"w-32 text-center",children:"Score"}),r.jsx(ie,{className:"w-48",children:"Team 2"}),r.jsx(ie,{className:"w-24 text-center",children:"Seeds"}),r.jsx(ie,{className:"w-24 text-center",children:"Actions"})]})}),r.jsx(on,{children:a.map(k=>r.jsx(GU,{bracket:k,teams:n,allTeams:n,onToggleOverride:$,onUpdateScores:I,onUpdateTeams:M,onTeamChange:F},k.id))})]})}),r.jsx(UT,{children:w?r.jsx("div",{className:"bg-white p-2 rounded-lg border-2 border-purple-400 shadow-lg",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-4 h-4 bg-purple-100 rounded-full flex items-center justify-center",children:r.jsx(xt,{className:"h-2 w-2 text-purple-600"})}),r.jsx("span",{className:"text-xs font-medium",children:"Moving playoff team..."})]})}):null})]})})}):r.jsx(Q,{children:r.jsx(ee,{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx(xt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select Filters"}),r.jsx("p",{className:"text-gray-600",children:"Please select a season and week to manage playoff brackets."})]})})})]})},QU=()=>r.jsx("div",{className:"space-y-6",children:r.jsxs(Q,{children:[r.jsxs(oe,{children:[r.jsxs(le,{className:"flex items-center gap-2",children:[r.jsx(Qn,{className:"h-5 w-5"}),"Matchups & Overrides Management"]}),r.jsx(_e,{children:"Manage regular season and playoff matchups, scores, and overrides across all conferences"})]}),r.jsx(ee,{children:r.jsxs(Fr,{defaultValue:"regular-season",className:"space-y-6",children:[r.jsxs(mr,{className:"grid w-full grid-cols-2",children:[r.jsxs(Oe,{value:"regular-season",className:"flex items-center gap-2",children:[r.jsx(Qn,{className:"h-4 w-4"}),"Regular Season"]}),r.jsxs(Oe,{value:"playoffs",className:"flex items-center gap-2",children:[r.jsx(xt,{className:"h-4 w-4"}),"Playoffs"]})]}),r.jsx(Fe,{value:"regular-season",children:r.jsx(KU,{})}),r.jsx(Fe,{value:"playoffs",children:r.jsx(YU,{})})]})})]})}),XU=()=>{const[e,t]=h.useState([]),[n,s]=h.useState(null),[a,i]=h.useState(null),[o,l]=h.useState(!1),[c,d]=h.useState(!1),[u,f]=h.useState({playoff_teams:10,first_round_byes:6,playoff_start_week:14,reseed:!0}),{toast:m}=dn();h.useEffect(()=>{g()},[]),h.useEffect(()=>{n&&j()},[n]);const g=async()=>{try{const p=await ae.getSeasons({orderBy:{column:"season_year",ascending:!1}});if(p.error)throw new Error("Failed to load seasons");t(p.data);const y=p.data.find(_=>_.is_current);y&&s(y.id)}catch(p){console.error("Error loading seasons:",p),m({title:"Error",description:"Failed to load seasons",variant:"destructive"})}},j=async()=>{if(n){l(!0);try{const p=await ae.getPlayoffFormats({filters:[{column:"season_id",operator:"eq",value:n},{column:"is_active",operator:"eq",value:!0}]});if(p.error)throw new Error("Failed to load playoff format");if(p.data.length>0){const y=p.data[0];i(y),f({playoff_teams:y.playoff_teams,first_round_byes:y.week_14_byes,playoff_start_week:y.playoff_start_week,reseed:y.reseed})}else i(null),f({playoff_teams:10,first_round_byes:6,playoff_start_week:14,reseed:!0})}catch(p){console.error("Error loading playoff format:",p),m({title:"Error",description:"Failed to load playoff format",variant:"destructive"})}finally{l(!1)}}},v=async()=>{if(!n){m({title:"Error",description:"Please select a season",variant:"destructive"});return}d(!0);try{const p={season_id:n,playoff_teams:u.playoff_teams,week_14_byes:u.first_round_byes,playoff_start_week:u.playoff_start_week,reseed:u.reseed,championship_week:17,is_active:!0};let y;if(a?y=await ae.updatePlayoffFormat(a.id,p):y=await ae.createPlayoffFormat(p),y.error)throw new Error("Failed to save playoff format");i(y.data),m({title:"Success",description:"Playoff format saved successfully"}),await j()}catch(p){console.error("Error saving playoff format:",p),m({title:"Error",description:"Failed to save playoff format",variant:"destructive"})}finally{d(!1)}},w=(p,y)=>{f(_=>({..._,[p]:y}))},x=e.find(p=>p.id===n);return r.jsx("div",{className:"space-y-6",children:r.jsxs(Q,{children:[r.jsxs(oe,{children:[r.jsxs(le,{className:"flex items-center gap-2",children:[r.jsx(xt,{className:"h-5 w-5"}),"Playoff Format Management"]}),r.jsx(_e,{children:"Configure playoff settings for each season including teams, byes, and format rules"})]}),r.jsxs(ee,{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ut,{htmlFor:"season-select",children:"Season"}),r.jsxs(ht,{value:(n==null?void 0:n.toString())||"",onValueChange:p=>s(parseInt(p)),children:[r.jsx(at,{children:r.jsx(mt,{placeholder:"Select a season"})}),r.jsx(it,{children:e.map(p=>r.jsxs(Pe,{value:p.id.toString(),children:[p.season_name," (",p.season_year,")",p.is_current&&" - Current"]},p.id))})]})]}),n&&r.jsxs(r.Fragment,{children:[o?r.jsxs("div",{className:"flex items-center justify-center py-8",children:[r.jsx(Je,{className:"h-6 w-6 animate-spin"}),r.jsx("span",{className:"ml-2",children:"Loading playoff format..."})]}):r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ut,{htmlFor:"playoff-teams",children:"Playoff Teams"}),r.jsx(Rt,{id:"playoff-teams",type:"number",min:"4",max:"16",value:u.playoff_teams,onChange:p=>w("playoff_teams",parseInt(p.target.value)),placeholder:"Number of teams in playoffs"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Total number of teams that make the playoffs"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ut,{htmlFor:"first-round-byes",children:"First Round Byes"}),r.jsx(Rt,{id:"first-round-byes",type:"number",min:"0",max:"8",value:u.first_round_byes,onChange:p=>w("first_round_byes",parseInt(p.target.value)),placeholder:"Number of teams with first round byes"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Number of top-seeded teams that skip the first round"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ut,{htmlFor:"playoff-start-week",children:"Playoff Start Week"}),r.jsx(Rt,{id:"playoff-start-week",type:"number",min:"1",max:"18",value:u.playoff_start_week,onChange:p=>w("playoff_start_week",parseInt(p.target.value)),placeholder:"Week when playoffs begin"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"NFL week when playoff games start"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ut,{children:"Playoff Reseeding"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Pv,{id:"reseed",checked:u.reseed,onCheckedChange:p=>w("reseed",p)}),r.jsx(ut,{htmlFor:"reseed",className:"text-sm font-normal",children:"Reseed teams after each playoff round"})]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"If checked, teams are reseeded after each round (highest seed plays lowest seed)"})]})]}),a&&!o&&r.jsx(Le,{children:r.jsxs(Ie,{children:[r.jsxs("strong",{children:["Current Settings for ",x==null?void 0:x.season_name,":"]}),r.jsx("br",{}),"Playoff Teams: ",a.playoff_teams," | First Round Byes: ",a.week_14_byes," | Start Week: ",a.playoff_start_week," | Reseed: ",a.reseed?"Yes":"No"]})}),r.jsx("div",{className:"flex justify-end",children:r.jsxs(Z,{onClick:v,disabled:c||o,className:"flex items-center gap-2",children:[c?r.jsx(Je,{className:"h-4 w-4 animate-spin"}):r.jsx(Rf,{className:"h-4 w-4"}),c?"Saving...":"Save Playoff Format"]})})]})]})]})})};var mh="Switch",[JU,uH]=ns(mh),[ZU,eV]=JU(mh),QT=h.forwardRef((e,t)=>{const{__scopeSwitch:n,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...f}=e,[m,g]=h.useState(null),j=Ge(t,y=>g(y)),v=h.useRef(!1),w=m?u||!!m.closest("form"):!0,[x,p]=Rr({prop:a,defaultProp:i??!1,onChange:d,caller:mh});return r.jsxs(ZU,{scope:n,checked:x,disabled:l,children:[r.jsx(ye.button,{type:"button",role:"switch","aria-checked":x,"aria-required":o,"data-state":ek(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:j,onClick:ve(e.onClick,y=>{p(_=>!_),w&&(v.current=y.isPropagationStopped(),v.current||y.stopPropagation())})}),w&&r.jsx(ZT,{control:m,bubbles:!v.current,name:s,value:c,checked:x,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});QT.displayName=mh;var XT="SwitchThumb",JT=h.forwardRef((e,t)=>{const{__scopeSwitch:n,...s}=e,a=eV(XT,n);return r.jsx(ye.span,{"data-state":ek(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})});JT.displayName=XT;var tV="SwitchBubbleInput",ZT=h.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:s=!0,...a},i)=>{const o=h.useRef(null),l=Ge(o,i),c=gv(n),d=Qx(t);return h.useEffect(()=>{const u=o.current;if(!u)return;const f=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&g){const j=new Event("click",{bubbles:s});g.call(u,n),u.dispatchEvent(j)}},[c,n,s]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:l,style:{...a.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});ZT.displayName=tV;function ek(e){return e?"checked":"unchecked"}var tk=QT,nV=JT;const nk=h.forwardRef(({className:e,...t},n)=>r.jsx(tk,{className:xe("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:r.jsx(nV,{className:xe("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));nk.displayName=tk.displayName;class sV{constructor(){ds(this,"schedule",{enabled:!1,dayOfWeek:2,hour:9,minute:0,timezone:"America/New_York"});ds(this,"syncStatus",{id:"",status:"idle",progress:0,currentStep:"Waiting for next sync",processedMatchups:0,totalMatchups:0,errors:[]});ds(this,"syncHistory",[]);ds(this,"scheduleTimer",null);ds(this,"statusListeners",[]);ds(this,"historyListeners",[]);this.loadSettings(),this.scheduleNextSync()}getSchedule(){return{...this.schedule}}updateSchedule(t){this.schedule={...this.schedule,...t},this.saveSettings(),this.scheduleNextSync(),this.notifyStatusListeners()}getStatus(){return{...this.syncStatus}}getHistory(){return[...this.syncHistory]}async runManualSync(){if(this.syncStatus.status==="running")throw new Error("Sync is already running");await this.executeSync(!0)}onStatusChange(t){return this.statusListeners.push(t),()=>{this.statusListeners=this.statusListeners.filter(n=>n!==t)}}onHistoryChange(t){return this.historyListeners.push(t),()=>{this.historyListeners=this.historyListeners.filter(n=>n!==t)}}loadSettings(){try{const t=localStorage.getItem("weeklyAutoSyncSchedule");t&&(this.schedule={...this.schedule,...JSON.parse(t)});const n=localStorage.getItem("weeklyAutoSyncHistory");n&&(this.syncHistory=JSON.parse(n).map(s=>({...s,timestamp:new Date(s.timestamp)})))}catch(t){console.error("Failed to load sync settings:",t)}}saveSettings(){try{localStorage.setItem("weeklyAutoSyncSchedule",JSON.stringify(this.schedule)),localStorage.setItem("weeklyAutoSyncHistory",JSON.stringify(this.syncHistory))}catch(t){console.error("Failed to save sync settings:",t)}}scheduleNextSync(){if(this.scheduleTimer&&(clearTimeout(this.scheduleTimer),this.scheduleTimer=null),!this.schedule.enabled){this.updateSyncStatus({status:"idle",currentStep:"Automatic sync disabled",nextRunTime:void 0});return}const t=this.calculateNextRunTime(),n=new Date,s=t.getTime()-n.getTime();s>0&&(this.scheduleTimer=setTimeout(()=>{this.executeSync(!1)},s),this.updateSyncStatus({status:"scheduled",currentStep:"Scheduled for next run",nextRunTime:t}))}calculateNextRunTime(){const t=new Date,n=new Date(t);n.setHours(this.schedule.hour,this.schedule.minute,0,0);const s=t.getDay();let i=this.schedule.dayOfWeek-s;return(i<0||i===0&&t.getTime()>=n.getTime())&&(i+=7),n.setDate(n.getDate()+i),n}async executeSync(t){var l,c;const n=`sync_${Date.now()}`,s=new Date;this.updateSyncStatus({id:n,status:"running",startTime:s,progress:0,currentStep:"Initializing sync...",processedMatchups:0,totalMatchups:0,errors:[]});const a=[];let i=0,o=0;try{this.updateSyncStatus({currentStep:"Fetching active conferences...",progress:10});const{data:d}=await window.ezsite.apis.tablePage(12820,{PageNo:1,PageSize:100,Filters:[{name:"is_active",op:"Equal",value:!0}]});if(!((l=d==null?void 0:d.List)!=null&&l.length))throw new Error("No active conferences found");const{data:u}=await window.ezsite.apis.tablePage(12818,{PageNo:1,PageSize:1,Filters:[{name:"is_current_season",op:"Equal",value:!0}]});if(!((c=u==null?void 0:u.List)!=null&&c.length))throw new Error("No current season found");const f=u.List[0];this.updateSyncStatus({currentStep:"Fetching pending matchups...",progress:20});const{data:m}=await window.ezsite.apis.tablePage(13329,{PageNo:1,PageSize:1e3,Filters:[{name:"status",op:"Equal",value:"pending"},{name:"week",op:"Equal",value:f.current_week}]}),g=(m==null?void 0:m.List)||[];this.updateSyncStatus({totalMatchups:g.length,progress:30});for(const x of d.List){this.updateSyncStatus({currentStep:`Processing ${x.conference_name}...`,progress:30+i/g.length*40});try{const p=g.filter(y=>y.conference_id===x.id);for(const y of p)await this.processMatchup(y,x,f),i++,this.updateSyncStatus({processedMatchups:i,progress:30+i/g.length*40});await this.updateTeamRecords(x.id,f.id),o++}catch(p){const y=`Error processing ${x.conference_name}: ${p}`;a.push(y),console.error(y)}}this.updateSyncStatus({currentStep:"Finalizing sync...",progress:90});const j=new Date,v=j.getTime()-s.getTime(),w={id:n,timestamp:s,status:a.length>0?i>0?"partial":"failed":"success",duration:v,matchupsProcessed:i,recordsUpdated:o,errors:[...a],details:t?"Manual sync":"Scheduled sync"};this.syncHistory.unshift(w),this.syncHistory=this.syncHistory.slice(0,100),this.saveSettings(),this.notifyHistoryListeners(),this.updateSyncStatus({status:a.length>0?"failed":"completed",endTime:j,progress:100,currentStep:`Sync completed ${a.length>0?"with errors":"successfully"}`,errors:[...a],lastRunTime:s}),t||setTimeout(()=>this.scheduleNextSync(),5e3),a.length===0?da({title:"Sync Completed",description:`Processed ${i} matchups successfully`}):da({title:"Sync Completed with Errors",description:`Processed ${i} matchups with ${a.length} errors`,variant:"destructive"})}catch(d){const u=`Sync failed: ${d}`;a.push(u),this.updateSyncStatus({status:"failed",endTime:new Date,progress:0,currentStep:"Sync failed",errors:[...a]}),console.error("Sync execution failed:",d),da({title:"Sync Failed",description:u,variant:"destructive"}),t||setTimeout(()=>this.scheduleNextSync(),6e4)}}async processMatchup(t,n,s){var a,i,o,l;try{const c=await Qe.getMatchups(n.league_id,t.week);if(!(c!=null&&c.length))throw new Error(`No Sleeper matchups found for week ${t.week}`);if(!c.find(x=>x.matchup_id===parseInt(t.sleeper_matchup_id)))throw new Error(`Sleeper matchup not found for ID ${t.sleeper_matchup_id}`);const{data:u}=await window.ezsite.apis.tablePage(12853,{PageNo:1,PageSize:1,Filters:[{name:"team_id",op:"Equal",value:t.team_1_id},{name:"conference_id",op:"Equal",value:n.id}]}),{data:f}=await window.ezsite.apis.tablePage(12853,{PageNo:1,PageSize:1,Filters:[{name:"team_id",op:"Equal",value:t.team_2_id},{name:"conference_id",op:"Equal",value:n.id}]});if(!((a=u==null?void 0:u.List)!=null&&a.length)||!((i=f==null?void 0:f.List)!=null&&i.length))throw new Error("Could not find team junction records");const m=u.List[0].roster_id,g=f.List[0].roster_id,j=((o=c.find(x=>x.roster_id===parseInt(m)))==null?void 0:o.points)||0,v=((l=c.find(x=>x.roster_id===parseInt(g)))==null?void 0:l.points)||0;let w=null;j>v?w=t.team_1_id:v>j&&(w=t.team_2_id),await window.ezsite.apis.tableUpdate(13329,{id:t.id,team_1_score:j,team_2_score:v,winner_id:w,status:"complete",is_manual_override:!1})}catch(c){throw new Error(`Failed to process matchup ${t.id}: ${c}`)}}async updateTeamRecords(t,n){var s,a,i;try{const{data:o}=await window.ezsite.apis.tablePage(13329,{PageNo:1,PageSize:1e3,Filters:[{name:"conference_id",op:"Equal",value:t},{name:"status",op:"Equal",value:"complete"}]});if(!((s=o==null?void 0:o.List)!=null&&s.length))return;const{data:l}=await window.ezsite.apis.tablePage(12853,{PageNo:1,PageSize:100,Filters:[{name:"conference_id",op:"Equal",value:t}]});if(!((a=l==null?void 0:l.List)!=null&&a.length))return;for(const c of l.List){const d=c.team_id,u=o.List.filter(_=>_.team_1_id===d||_.team_2_id===d);let f=0,m=0,g=0,j=0,v=0;for(const _ of u){const S=_.team_1_id===d,P=S?_.team_1_score:_.team_2_score,C=S?_.team_2_score:_.team_1_score;j+=P,v+=C,_.winner_id===d?f++:_.winner_id===null?g++:m++}const w=f+m+g,x=w>0?f/w:0,{data:p}=await window.ezsite.apis.tablePage(13768,{PageNo:1,PageSize:1,Filters:[{name:"team_id",op:"Equal",value:d},{name:"conference_id",op:"Equal",value:t},{name:"season_id",op:"Equal",value:n}]}),y={team_id:d,conference_id:t,season_id:n,wins:f,losses:m,ties:g,points_for:j,points_against:v,win_percentage:x,last_updated:new Date().toISOString()};(i=p==null?void 0:p.List)!=null&&i.length?await window.ezsite.apis.tableUpdate(13768,{id:p.List[0].id,...y}):await window.ezsite.apis.tableCreate(13768,y)}}catch(o){throw new Error(`Failed to update team records: ${o}`)}}updateSyncStatus(t){this.syncStatus={...this.syncStatus,...t},this.notifyStatusListeners()}notifyStatusListeners(){this.statusListeners.forEach(t=>{try{t(this.getStatus())}catch(n){console.error("Error notifying status listener:",n)}})}notifyHistoryListeners(){this.historyListeners.forEach(t=>{try{t(this.getHistory())}catch(n){console.error("Error notifying history listener:",n)}})}}const Wa=new sV,rV=()=>{const[e,t]=h.useState(Wa.getSchedule()),[n,s]=h.useState(Wa.getStatus()),[a,i]=h.useState(Wa.getHistory()),[o,l]=h.useState(!1),[c,d]=h.useState("overview");h.useEffect(()=>{const x=Wa.onStatusChange(s),p=Wa.onHistoryChange(i);return()=>{x(),p()}},[]);const u=x=>{const p={...e,...x};t(p),Wa.updateSchedule(x),da({title:"Schedule Updated",description:"Auto-sync schedule has been updated successfully."})},f=async()=>{if(n.status==="running"){da({title:"Sync Already Running",description:"Please wait for the current sync to complete.",variant:"destructive"});return}l(!0);try{await Wa.runManualSync(),da({title:"Manual Sync Started",description:"Sync has been initiated manually."})}catch(x){da({title:"Sync Failed",description:`Failed to start manual sync: ${x}`,variant:"destructive"})}finally{l(!1)}},m=x=>{switch(x){case"completed":case"success":return"bg-green-500";case"running":return"bg-blue-500";case"failed":return"bg-red-500";case"partial":return"bg-yellow-500";case"scheduled":return"bg-purple-500";default:return"bg-gray-500"}},g=x=>{switch(x){case"completed":case"success":return r.jsx(Cl,{className:"w-4 h-4"});case"running":return r.jsx(Je,{className:"w-4 h-4 animate-spin"});case"failed":return r.jsx(E$,{className:"w-4 h-4"});case"partial":return r.jsx(Ve,{className:"w-4 h-4"});case"scheduled":return r.jsx(er,{className:"w-4 h-4"});default:return r.jsx(nD,{className:"w-4 h-4"})}},j=x=>{const p=Math.floor(x/1e3),y=Math.floor(p/60),_=Math.floor(y/60);return _>0?`${_}h ${y%60}m ${p%60}s`:y>0?`${y}m ${p%60}s`:`${p}s`},v=x=>x?new Date(x).toLocaleString():"N/A",w=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Auto-Sync Manager"}),r.jsx("p",{className:"text-muted-foreground",children:"Manage automatic weekly synchronization with Sleeper API"})]}),r.jsxs(Z,{onClick:f,disabled:o||n.status==="running",className:"gap-2",children:[o||n.status==="running"?r.jsx(Je,{className:"w-4 h-4 animate-spin"}):r.jsx(rD,{className:"w-4 h-4"}),o||n.status==="running"?"Syncing...":"Run Manual Sync"]})]}),r.jsxs(Fr,{value:c,onValueChange:d,className:"w-full",children:[r.jsxs(mr,{className:"grid w-full grid-cols-4",children:[r.jsxs(Oe,{value:"overview",className:"gap-2",children:[r.jsx(Do,{className:"w-4 h-4"}),"Overview"]}),r.jsxs(Oe,{value:"schedule",className:"gap-2",children:[r.jsx(Qn,{className:"w-4 h-4"}),"Schedule"]}),r.jsxs(Oe,{value:"monitoring",className:"gap-2",children:[r.jsx(y$,{className:"w-4 h-4"}),"Monitoring"]}),r.jsxs(Oe,{value:"history",className:"gap-2",children:[r.jsx(B$,{className:"w-4 h-4"}),"History"]})]}),r.jsxs(Fe,{value:"overview",className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs(Q,{children:[r.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(le,{className:"text-sm font-medium",children:"Sync Status"}),g(n.status)]}),r.jsxs(ee,{children:[r.jsx("div",{className:"text-2xl font-bold capitalize",children:n.status}),r.jsx("p",{className:"text-xs text-muted-foreground",children:n.currentStep})]})]}),r.jsxs(Q,{children:[r.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(le,{className:"text-sm font-medium",children:"Auto-Sync"}),r.jsx(Bu,{className:"w-4 h-4"})]}),r.jsxs(ee,{children:[r.jsx("div",{className:"text-2xl font-bold",children:e.enabled?"Enabled":"Disabled"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:e.enabled?`${w[e.dayOfWeek]} at ${e.hour}:${e.minute.toString().padStart(2,"0")}`:"Manual only"})]})]}),r.jsxs(Q,{children:[r.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(le,{className:"text-sm font-medium",children:"Last Run"}),r.jsx(_D,{className:"w-4 h-4"})]}),r.jsxs(ee,{children:[r.jsx("div",{className:"text-2xl font-bold",children:n.lastRunTime?v(n.lastRunTime).split(" ")[1]:"Never"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:n.lastRunTime?v(n.lastRunTime).split(" ")[0]:"No previous runs"})]})]}),r.jsxs(Q,{children:[r.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(le,{className:"text-sm font-medium",children:"Next Run"}),r.jsx(er,{className:"w-4 h-4"})]}),r.jsxs(ee,{children:[r.jsx("div",{className:"text-2xl font-bold",children:n.nextRunTime?v(n.nextRunTime).split(" ")[1]:"N/A"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:n.nextRunTime?v(n.nextRunTime).split(" ")[0]:"No scheduled runs"})]})]})]}),n.status==="running"&&r.jsxs(Q,{children:[r.jsx(oe,{children:r.jsxs(le,{className:"flex items-center gap-2",children:[r.jsx(Je,{className:"w-5 h-5 animate-spin"}),"Sync in Progress"]})}),r.jsxs(ee,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:n.currentStep}),r.jsxs("span",{children:[n.progress,"%"]})]}),r.jsx(tr,{value:n.progress,className:"h-2"})]}),r.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[r.jsxs("span",{children:["Matchups: ",n.processedMatchups," / ",n.totalMatchups]}),r.jsxs("span",{children:["Started: ",v(n.startTime)]})]})]})]}),n.errors.length>0&&r.jsxs(Le,{variant:"destructive",children:[r.jsx(Ve,{className:"h-4 w-4"}),r.jsxs(Ie,{children:[r.jsx("div",{className:"font-medium",children:"Sync Errors:"}),r.jsx("ul",{className:"mt-1 space-y-1",children:n.errors.map((x,p)=>r.jsxs("li",{className:"text-sm",children:["• ",x]},p))})]})]})]}),r.jsx(Fe,{value:"schedule",className:"space-y-4",children:r.jsxs(Q,{children:[r.jsx(oe,{children:r.jsx(le,{children:"Sync Schedule Configuration"})}),r.jsxs(ee,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(ut,{htmlFor:"enable-sync",children:"Enable Automatic Sync"}),r.jsx(nk,{id:"enable-sync",checked:e.enabled,onCheckedChange:x=>u({enabled:x})})]}),e.enabled&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ut,{htmlFor:"day-of-week",children:"Day of Week"}),r.jsxs(ht,{value:e.dayOfWeek.toString(),onValueChange:x=>u({dayOfWeek:parseInt(x)}),children:[r.jsx(at,{children:r.jsx(mt,{placeholder:"Select day"})}),r.jsx(it,{children:w.map((x,p)=>r.jsx(Pe,{value:p.toString(),children:x},p))})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ut,{htmlFor:"hour",children:"Hour (24-hour format)"}),r.jsx(Rt,{id:"hour",type:"number",min:"0",max:"23",value:e.hour,onChange:x=>u({hour:parseInt(x.target.value)||0})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ut,{htmlFor:"minute",children:"Minute"}),r.jsx(Rt,{id:"minute",type:"number",min:"0",max:"59",value:e.minute,onChange:x=>u({minute:parseInt(x.target.value)||0})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ut,{htmlFor:"timezone",children:"Timezone"}),r.jsxs(ht,{value:e.timezone,onValueChange:x=>u({timezone:x}),children:[r.jsx(at,{children:r.jsx(mt,{placeholder:"Select timezone"})}),r.jsxs(it,{children:[r.jsx(Pe,{value:"America/New_York",children:"Eastern Time"}),r.jsx(Pe,{value:"America/Chicago",children:"Central Time"}),r.jsx(Pe,{value:"America/Denver",children:"Mountain Time"}),r.jsx(Pe,{value:"America/Los_Angeles",children:"Pacific Time"})]})]})]})]}),r.jsxs(Le,{children:[r.jsx(Ve,{className:"h-4 w-4"}),r.jsxs(Ie,{children:[r.jsx("strong",{children:"Note:"})," Automatic sync will only run when the browser is open and active. For production use, consider implementing server-side scheduling."]})]})]})]})}),r.jsx(Fe,{value:"monitoring",className:"space-y-4",children:r.jsxs(Q,{children:[r.jsx(oe,{children:r.jsx(le,{children:"Real-time Monitoring"})}),r.jsx(ee,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ut,{children:"Current Status"}),r.jsx(se,{variant:"outline",className:`${m(n.status)} text-white`,children:n.status})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ut,{children:"Current Step"}),r.jsx("p",{className:"text-sm",children:n.currentStep})]})]}),n.status==="running"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ut,{children:"Progress"}),r.jsx(tr,{value:n.progress,className:"h-2"}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.progress,"% complete"]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(ut,{children:"Processed Matchups"}),r.jsx("p",{className:"text-2xl font-bold",children:n.processedMatchups})]}),r.jsxs("div",{children:[r.jsx(ut,{children:"Total Matchups"}),r.jsx("p",{className:"text-2xl font-bold",children:n.totalMatchups})]})]})]}),n.startTime&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(ut,{children:"Started At"}),r.jsx("p",{className:"text-sm",children:v(n.startTime)})]}),n.endTime&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(ut,{children:"Completed At"}),r.jsx("p",{className:"text-sm",children:v(n.endTime)})]})]})})]})}),r.jsx(Fe,{value:"history",className:"space-y-4",children:r.jsxs(Q,{children:[r.jsx(oe,{children:r.jsx(le,{children:"Sync History"})}),r.jsx(ee,{children:r.jsx("div",{className:"rounded-md border",children:r.jsxs(rn,{children:[r.jsx(an,{children:r.jsxs(ke,{children:[r.jsx(ie,{children:"Timestamp"}),r.jsx(ie,{children:"Status"}),r.jsx(ie,{children:"Duration"}),r.jsx(ie,{children:"Matchups"}),r.jsx(ie,{children:"Records"}),r.jsx(ie,{children:"Errors"}),r.jsx(ie,{children:"Details"})]})}),r.jsx(on,{children:a.length===0?r.jsx(ke,{children:r.jsx(ne,{colSpan:7,className:"text-center text-muted-foreground",children:"No sync history available"})}):a.map(x=>r.jsxs(ke,{children:[r.jsx(ne,{children:v(x.timestamp)}),r.jsx(ne,{children:r.jsx(se,{variant:"outline",className:`${m(x.status)} text-white`,children:x.status})}),r.jsx(ne,{children:j(x.duration)}),r.jsx(ne,{children:x.matchupsProcessed}),r.jsx(ne,{children:x.recordsUpdated}),r.jsx(ne,{children:x.errors.length>0?r.jsx(se,{variant:"destructive",children:x.errors.length}):r.jsx("span",{className:"text-green-600",children:"None"})}),r.jsx(ne,{className:"max-w-xs truncate",children:x.details})]},x.id))})]})})})]})})]})]})},aV=()=>{const[e,t]=h.useState(!1),[n,s]=h.useState(""),[a,i]=h.useState(""),[o,l]=h.useState(null),[c,d]=h.useState(!0),{toast:u}=dn(),f="gladleague2025";h.useEffect(()=>{const j=sessionStorage.getItem("admin_authenticated"),v=sessionStorage.getItem("admin_login_time");if(j==="true"&&v){const w=new Date(v);(new Date().getTime()-w.getTime())/(1e3*60*60)<8?(t(!0),l(localStorage.getItem("admin_last_login"))):(sessionStorage.removeItem("admin_authenticated"),sessionStorage.removeItem("admin_login_time"))}d(!1)},[]);const m=j=>{if(j.preventDefault(),n===f){const v=new Date;t(!0),i(""),sessionStorage.setItem("admin_authenticated","true"),sessionStorage.setItem("admin_login_time",v.toISOString()),localStorage.setItem("admin_last_login",v.toLocaleString()),l(v.toLocaleString()),u({title:"Admin Access Granted",description:"Welcome to the admin panel"})}else i("Invalid password"),u({title:"Access Denied",description:"Invalid admin password",variant:"destructive"})},g=()=>{t(!1),s(""),sessionStorage.removeItem("admin_authenticated"),sessionStorage.removeItem("admin_login_time"),u({title:"Logged Out",description:"Admin session ended"})};return c?r.jsx("div",{className:"container mx-auto px-4 py-8","data-id":"ao89vvru5",children:r.jsx("div",{className:"flex items-center justify-center min-h-[400px]","data-id":"pml7mynqn",children:r.jsx("div",{className:"animate-spin h-8 w-8 border-b-2 border-blue-600 rounded-full","data-id":"10jeltn5k"})})}):e?r.jsxs("div",{className:"container mx-auto px-4 py-8","data-id":"zucmgzvwq",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8","data-id":"lro5ngqd4",children:[r.jsxs("div",{"data-id":"noo7qh20h",children:[r.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3","data-id":"fmj1jcz8o",children:[r.jsx(Bu,{className:"h-8 w-8 text-blue-600","data-id":"bdjtdbfnt"}),"Admin Panel"]}),r.jsx("p",{className:"text-muted-foreground mt-2","data-id":"amn1082i4",children:"Manage leagues, sync data, and perform administrative tasks"})]}),r.jsxs("div",{className:"flex items-center gap-4","data-id":"nw6oaovvh",children:[o&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground","data-id":"1kqkbfoj2",children:[r.jsx(er,{className:"h-4 w-4","data-id":"u85cv9ybo"}),"Last login: ",o]}),r.jsxs(se,{variant:"secondary",className:"flex items-center gap-1","data-id":"u49kieuap",children:[r.jsx(Do,{className:"h-3 w-3","data-id":"fzemdjhv1"}),"Admin Active"]}),r.jsx(Z,{variant:"outline",onClick:g,"data-id":"ssqzxi57s",children:"Logout"})]})]}),r.jsxs(Fr,{defaultValue:"league-manager",className:"space-y-6","data-id":"ojttqdptv",children:[r.jsxs(mr,{className:"grid w-full grid-cols-5","data-id":"55g8xnp5m",children:[r.jsxs(Oe,{value:"league-manager",className:"flex items-center gap-2","data-id":"mudt4s949",children:[r.jsx(Bu,{className:"h-4 w-4","data-id":"vq59l6i0o"}),"League Manager"]}),r.jsxs(Oe,{value:"data-sync",className:"flex items-center gap-2","data-id":"x1ln07h9l",children:[r.jsx(Bi,{className:"h-4 w-4","data-id":"gwzxvoplp"}),"Data Sync"]}),r.jsxs(Oe,{value:"matchups-management",className:"flex items-center gap-2","data-id":"kq8s7gvio",children:[r.jsx(Qn,{className:"h-4 w-4","data-id":"930hxto7y"}),"Matchups & Overrides"]}),r.jsxs(Oe,{value:"playoff-format",className:"flex items-center gap-2",children:[r.jsx(xt,{className:"h-4 w-4"}),"Playoff Format"]}),r.jsxs(Oe,{value:"auto-sync",className:"flex items-center gap-2","data-id":"ufa49dbo7",children:[r.jsx(g$,{className:"h-4 w-4","data-id":"xv3rcuk8d"}),"Auto-Sync"]})]}),r.jsx(Fe,{value:"league-manager","data-id":"9y7vx68ag",children:r.jsx(eB,{"data-id":"jqk7s5yut"})}),r.jsx(Fe,{value:"data-sync","data-id":"mbmsyjmjw",children:r.jsx(aB,{"data-id":"r02lgxd37"})}),r.jsx(Fe,{value:"matchups-management","data-id":"2im6bg2ok",children:r.jsx(QU,{"data-id":"ddqsho0df"})}),r.jsx(Fe,{value:"playoff-format",children:r.jsx(XU,{})}),r.jsx(Fe,{value:"auto-sync","data-id":"cr5xmlzdc",children:r.jsx(rV,{"data-id":"5st9c4lq3"})})]})]}):r.jsx("div",{className:"container mx-auto px-4 py-8","data-id":"sep77enuq",children:r.jsx("div",{className:"max-w-md mx-auto","data-id":"qkcxfcevx",children:r.jsxs(Q,{"data-id":"7bka3yyd5",children:[r.jsxs(oe,{className:"text-center","data-id":"alhddkb9x",children:[r.jsx("div",{className:"flex justify-center mb-4","data-id":"20czuz7s8",children:r.jsx(xc,{className:"h-12 w-12 text-blue-600","data-id":"uj6wfwcyd"})}),r.jsxs(le,{className:"flex items-center gap-2 justify-center","data-id":"easa7srw9",children:[r.jsx(q$,{className:"h-5 w-5","data-id":"srgo1x52n"}),"Admin Access Required"]}),r.jsx(_e,{"data-id":"dw6h33z8z",children:"Enter the admin password to access the admin panel"})]}),r.jsx(ee,{"data-id":"p54cgo0pa",children:r.jsxs("form",{onSubmit:m,className:"space-y-4","data-id":"nu7k5xnra",children:[r.jsxs("div",{className:"space-y-2","data-id":"rtr62f4xb",children:[r.jsx(ut,{htmlFor:"password","data-id":"nell7jvlm",children:"Admin Password"}),r.jsx(Rt,{id:"password",type:"password",value:n,onChange:j=>s(j.target.value),placeholder:"Enter admin password",className:"w-full","data-id":"hjlpnn2yv"})]}),a&&r.jsx(Le,{variant:"destructive","data-id":"4zu7gxwp4",children:r.jsx(Ie,{"data-id":"js05q0hn6",children:a})}),r.jsx(Z,{type:"submit",className:"w-full","data-id":"tthln8jfy",children:"Access Admin Panel"})]})})]})})})},sk=h.createContext({});function iV(e){const t=h.useRef(null);return t.current===null&&(t.current=e()),t.current}const Lv=typeof window<"u",oV=Lv?h.useLayoutEffect:h.useEffect,Iv=h.createContext(null);function Ov(e,t){e.indexOf(t)===-1&&e.push(t)}function Fv(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Lr=(e,t,n)=>n>t?t:n<e?e:n;let Bv=()=>{};const Ir={},rk=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function ak(e){return typeof e=="object"&&e!==null}const ik=e=>/^0[^.\s]+$/u.test(e);function Uv(e){let t;return()=>(t===void 0&&(t=e()),t)}const ws=e=>e,lV=(e,t)=>n=>t(e(n)),sd=(...e)=>e.reduce(lV),kc=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class Vv{constructor(){this.subscriptions=[]}add(t){return Ov(this.subscriptions,t),()=>Fv(this.subscriptions,t)}notify(t,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,s);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const lr=e=>e*1e3,cr=e=>e/1e3;function ok(e,t){return t?e*(1e3/t):0}const lk=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,cV=1e-7,dV=12;function uV(e,t,n,s,a){let i,o,l=0;do o=t+(n-t)/2,i=lk(o,s,a)-e,i>0?n=o:t=o;while(Math.abs(i)>cV&&++l<dV);return o}function rd(e,t,n,s){if(e===t&&n===s)return ws;const a=i=>uV(i,0,1,e,n);return i=>i===0||i===1?i:lk(a(i),t,s)}const ck=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,dk=e=>t=>1-e(1-t),uk=rd(.33,1.53,.69,.99),zv=dk(uk),fk=ck(zv),hk=e=>(e*=2)<1?.5*zv(e):.5*(2-Math.pow(2,-10*(e-1))),Wv=e=>1-Math.sin(Math.acos(e)),mk=dk(Wv),pk=ck(Wv),fV=rd(.42,0,1,1),hV=rd(0,0,.58,1),gk=rd(.42,0,.58,1),mV=e=>Array.isArray(e)&&typeof e[0]!="number",xk=e=>Array.isArray(e)&&typeof e[0]=="number",pV={linear:ws,easeIn:fV,easeInOut:gk,easeOut:hV,circIn:Wv,circInOut:pk,circOut:mk,backIn:zv,backInOut:fk,backOut:uk,anticipate:hk},gV=e=>typeof e=="string",rj=e=>{if(xk(e)){Bv(e.length===4);const[t,n,s,a]=e;return rd(t,n,s,a)}else if(gV(e))return pV[e];return e},Ud=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function xV(e,t){let n=new Set,s=new Set,a=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(u){o.has(u)&&(d.schedule(u),e()),u(l)}const d={schedule:(u,f=!1,m=!1)=>{const j=m&&a?n:s;return f&&o.add(u),j.has(u)||j.add(u),u},cancel:u=>{s.delete(u),o.delete(u)},process:u=>{if(l=u,a){i=!0;return}a=!0,[n,s]=[s,n],n.forEach(c),n.clear(),a=!1,i&&(i=!1,d.process(u))}};return d}const vV=40;function vk(e,t){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Ud.reduce((y,_)=>(y[_]=xV(i),y),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:u,update:f,preRender:m,render:g,postRender:j}=o,v=()=>{const y=Ir.useManualTiming?a.timestamp:performance.now();n=!1,Ir.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(y-a.timestamp,vV),1)),a.timestamp=y,a.isProcessing=!0,l.process(a),c.process(a),d.process(a),u.process(a),f.process(a),m.process(a),g.process(a),j.process(a),a.isProcessing=!1,n&&t&&(s=!1,e(v))},w=()=>{n=!0,s=!0,a.isProcessing||e(v)};return{schedule:Ud.reduce((y,_)=>{const S=o[_];return y[_]=(P,C=!1,T=!1)=>(n||w(),S.schedule(P,C,T)),y},{}),cancel:y=>{for(let _=0;_<Ud.length;_++)o[Ud[_]].cancel(y)},state:a,steps:o}}const{schedule:vt,cancel:Ea,state:sn,steps:Tm}=vk(typeof requestAnimationFrame<"u"?requestAnimationFrame:ws,!0);let uu;function yV(){uu=void 0}const Vn={now:()=>(uu===void 0&&Vn.set(sn.isProcessing||Ir.useManualTiming?sn.timestamp:performance.now()),uu),set:e=>{uu=e,queueMicrotask(yV)}},yk=e=>t=>typeof t=="string"&&t.startsWith(e),Hv=yk("--"),wV=yk("var(--"),qv=e=>wV(e)?jV.test(e.split("/*")[0].trim()):!1,jV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,rl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Pc={...rl,transform:e=>Lr(0,1,e)},Vd={...rl,default:1},Gl=e=>Math.round(e*1e5)/1e5,Kv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function _V(e){return e==null}const bV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Gv=(e,t)=>n=>!!(typeof n=="string"&&bV.test(n)&&n.startsWith(e)||t&&!_V(n)&&Object.prototype.hasOwnProperty.call(n,t)),wk=(e,t,n)=>s=>{if(typeof s!="string")return s;const[a,i,o,l]=s.match(Kv);return{[e]:parseFloat(a),[t]:parseFloat(i),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},SV=e=>Lr(0,255,e),km={...rl,transform:e=>Math.round(SV(e))},ei={test:Gv("rgb","red"),parse:wk("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+km.transform(e)+", "+km.transform(t)+", "+km.transform(n)+", "+Gl(Pc.transform(s))+")"};function NV(e){let t="",n="",s="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,s+=s,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const jg={test:Gv("#"),parse:NV,transform:ei.transform},ad=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Yr=ad("deg"),dr=ad("%"),be=ad("px"),EV=ad("vh"),CV=ad("vw"),aj={...dr,parse:e=>dr.parse(e)/100,transform:e=>dr.transform(e*100)},to={test:Gv("hsl","hue"),parse:wk("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+dr.transform(Gl(t))+", "+dr.transform(Gl(n))+", "+Gl(Pc.transform(s))+")"},Dt={test:e=>ei.test(e)||jg.test(e)||to.test(e),parse:e=>ei.test(e)?ei.parse(e):to.test(e)?to.parse(e):jg.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ei.transform(e):to.transform(e),getAnimatableNone:e=>{const t=Dt.parse(e);return t.alpha=0,Dt.transform(t)}},TV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function kV(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Kv))==null?void 0:t.length)||0)+(((n=e.match(TV))==null?void 0:n.length)||0)>0}const jk="number",_k="color",PV="var",RV="var(",ij="${}",AV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Rc(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},a=[];let i=0;const l=t.replace(AV,c=>(Dt.test(c)?(s.color.push(i),a.push(_k),n.push(Dt.parse(c))):c.startsWith(RV)?(s.var.push(i),a.push(PV),n.push(c)):(s.number.push(i),a.push(jk),n.push(parseFloat(c))),++i,ij)).split(ij);return{values:n,split:l,indexes:s,types:a}}function bk(e){return Rc(e).values}function Sk(e){const{split:t,types:n}=Rc(e),s=t.length;return a=>{let i="";for(let o=0;o<s;o++)if(i+=t[o],a[o]!==void 0){const l=n[o];l===jk?i+=Gl(a[o]):l===_k?i+=Dt.transform(a[o]):i+=a[o]}return i}}const $V=e=>typeof e=="number"?0:Dt.test(e)?Dt.getAnimatableNone(e):e;function DV(e){const t=bk(e);return Sk(e)(t.map($V))}const Ca={test:kV,parse:bk,createTransformer:Sk,getAnimatableNone:DV};function Pm(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function MV({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let a=0,i=0,o=0;if(!t)a=i=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;a=Pm(c,l,e+1/3),i=Pm(c,l,e),o=Pm(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:s}}function of(e,t){return n=>n>0?t:e}const jt=(e,t,n)=>e+(t-e)*n,Rm=(e,t,n)=>{const s=e*e,a=n*(t*t-s)+s;return a<0?0:Math.sqrt(a)},LV=[jg,ei,to],IV=e=>LV.find(t=>t.test(e));function oj(e){const t=IV(e);if(!t)return!1;let n=t.parse(e);return t===to&&(n=MV(n)),n}const lj=(e,t)=>{const n=oj(e),s=oj(t);if(!n||!s)return of(e,t);const a={...n};return i=>(a.red=Rm(n.red,s.red,i),a.green=Rm(n.green,s.green,i),a.blue=Rm(n.blue,s.blue,i),a.alpha=jt(n.alpha,s.alpha,i),ei.transform(a))},_g=new Set(["none","hidden"]);function OV(e,t){return _g.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function FV(e,t){return n=>jt(e,t,n)}function Yv(e){return typeof e=="number"?FV:typeof e=="string"?qv(e)?of:Dt.test(e)?lj:VV:Array.isArray(e)?Nk:typeof e=="object"?Dt.test(e)?lj:BV:of}function Nk(e,t){const n=[...e],s=n.length,a=e.map((i,o)=>Yv(i)(i,t[o]));return i=>{for(let o=0;o<s;o++)n[o]=a[o](i);return n}}function BV(e,t){const n={...e,...t},s={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(s[a]=Yv(e[a])(e[a],t[a]));return a=>{for(const i in s)n[i]=s[i](a);return n}}function UV(e,t){const n=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],o=e.indexes[i][s[i]],l=e.values[o]??0;n[a]=l,s[i]++}return n}const VV=(e,t)=>{const n=Ca.createTransformer(t),s=Rc(e),a=Rc(t);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?_g.has(e)&&!a.values.length||_g.has(t)&&!s.values.length?OV(e,t):sd(Nk(UV(s,a),a.values),n):of(e,t)};function Ek(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?jt(e,t,n):Yv(e)(e,t)}const zV=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>vt.update(t,n),stop:()=>Ea(t),now:()=>sn.isProcessing?sn.timestamp:Vn.now()}},Ck=(e,t,n=10)=>{let s="";const a=Math.max(Math.round(t/n),2);for(let i=0;i<a;i++)s+=Math.round(e(i/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},lf=2e4;function Qv(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<lf;)t+=n,s=e.next(t);return t>=lf?1/0:t}function WV(e,t=100,n){const s=n({...e,keyframes:[0,t]}),a=Math.min(Qv(s),lf);return{type:"keyframes",ease:i=>s.next(a*i).value/t,duration:cr(a)}}const HV=5;function Tk(e,t,n){const s=Math.max(t-HV,0);return ok(n-e(s),t-s)}const Ct={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Am=.001;function qV({duration:e=Ct.duration,bounce:t=Ct.bounce,velocity:n=Ct.velocity,mass:s=Ct.mass}){let a,i,o=1-t;o=Lr(Ct.minDamping,Ct.maxDamping,o),e=Lr(Ct.minDuration,Ct.maxDuration,cr(e)),o<1?(a=d=>{const u=d*o,f=u*e,m=u-n,g=bg(d,o),j=Math.exp(-f);return Am-m/g*j},i=d=>{const f=d*o*e,m=f*n+n,g=Math.pow(o,2)*Math.pow(d,2)*e,j=Math.exp(-f),v=bg(Math.pow(d,2),o);return(-a(d)+Am>0?-1:1)*((m-g)*j)/v}):(a=d=>{const u=Math.exp(-d*e),f=(d-n)*e+1;return-Am+u*f},i=d=>{const u=Math.exp(-d*e),f=(n-d)*(e*e);return u*f});const l=5/e,c=GV(a,i,l);if(e=lr(e),isNaN(c))return{stiffness:Ct.stiffness,damping:Ct.damping,duration:e};{const d=Math.pow(c,2)*s;return{stiffness:d,damping:o*2*Math.sqrt(s*d),duration:e}}}const KV=12;function GV(e,t,n){let s=n;for(let a=1;a<KV;a++)s=s-e(s)/t(s);return s}function bg(e,t){return e*Math.sqrt(1-t*t)}const YV=["duration","bounce"],QV=["stiffness","damping","mass"];function cj(e,t){return t.some(n=>e[n]!==void 0)}function XV(e){let t={velocity:Ct.velocity,stiffness:Ct.stiffness,damping:Ct.damping,mass:Ct.mass,isResolvedFromDuration:!1,...e};if(!cj(e,QV)&&cj(e,YV))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,i=2*Lr(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:Ct.mass,stiffness:a,damping:i}}else{const n=qV(e);t={...t,...n,mass:Ct.mass},t.isResolvedFromDuration=!0}return t}function cf(e=Ct.visualDuration,t=Ct.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:a}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:d,mass:u,duration:f,velocity:m,isResolvedFromDuration:g}=XV({...n,velocity:-cr(n.velocity||0)}),j=m||0,v=d/(2*Math.sqrt(c*u)),w=o-i,x=cr(Math.sqrt(c/u)),p=Math.abs(w)<5;s||(s=p?Ct.restSpeed.granular:Ct.restSpeed.default),a||(a=p?Ct.restDelta.granular:Ct.restDelta.default);let y;if(v<1){const S=bg(x,v);y=P=>{const C=Math.exp(-v*x*P);return o-C*((j+v*x*w)/S*Math.sin(S*P)+w*Math.cos(S*P))}}else if(v===1)y=S=>o-Math.exp(-x*S)*(w+(j+x*w)*S);else{const S=x*Math.sqrt(v*v-1);y=P=>{const C=Math.exp(-v*x*P),T=Math.min(S*P,300);return o-C*((j+v*x*w)*Math.sinh(T)+S*w*Math.cosh(T))/S}}const _={calculatedDuration:g&&f||null,next:S=>{const P=y(S);if(g)l.done=S>=f;else{let C=S===0?j:0;v<1&&(C=S===0?lr(j):Tk(y,S,P));const T=Math.abs(C)<=s,A=Math.abs(o-P)<=a;l.done=T&&A}return l.value=l.done?o:P,l},toString:()=>{const S=Math.min(Qv(_),lf),P=Ck(C=>_.next(S*C).value,S,30);return S+"ms "+P},toTransition:()=>{}};return _}cf.applyToOptions=e=>{const t=WV(e,100,cf);return e.ease=t.ease,e.duration=lr(t.duration),e.type="keyframes",e};function Sg({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const f=e[0],m={done:!1,value:f},g=T=>l!==void 0&&T<l||c!==void 0&&T>c,j=T=>l===void 0?c:c===void 0||Math.abs(l-T)<Math.abs(c-T)?l:c;let v=n*t;const w=f+v,x=o===void 0?w:o(w);x!==w&&(v=x-f);const p=T=>-v*Math.exp(-T/s),y=T=>x+p(T),_=T=>{const A=p(T),D=y(T);m.done=Math.abs(A)<=d,m.value=m.done?x:D};let S,P;const C=T=>{g(m.value)&&(S=T,P=cf({keyframes:[m.value,j(m.value)],velocity:Tk(y,T,m.value),damping:a,stiffness:i,restDelta:d,restSpeed:u}))};return C(0),{calculatedDuration:null,next:T=>{let A=!1;return!P&&S===void 0&&(A=!0,_(T),C(T)),S!==void 0&&T>=S?P.next(T-S):(!A&&_(T),m)}}}function JV(e,t,n){const s=[],a=n||Ir.mix||Ek,i=e.length-1;for(let o=0;o<i;o++){let l=a(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||ws:t;l=sd(c,l)}s.push(l)}return s}function ZV(e,t,{clamp:n=!0,ease:s,mixer:a}={}){const i=e.length;if(Bv(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=JV(t,s,a),c=l.length,d=u=>{if(o&&u<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(u<e[f+1]);f++);const m=kc(e[f],e[f+1],u);return l[f](m)};return n?u=>d(Lr(e[0],e[i-1],u)):d}function ez(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const a=kc(0,t,s);e.push(jt(n,1,a))}}function tz(e){const t=[0];return ez(t,e.length-1),t}function nz(e,t){return e.map(n=>n*t)}function sz(e,t){return e.map(()=>t||gk).splice(0,e.length-1)}function Yl({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const a=mV(s)?s.map(rj):rj(s),i={done:!1,value:t[0]},o=nz(n&&n.length===t.length?n:tz(t),e),l=ZV(o,t,{ease:Array.isArray(a)?a:sz(t,a)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const rz=e=>e!==null;function Xv(e,{repeat:t,repeatType:n="loop"},s,a=1){const i=e.filter(rz),l=a<0||t&&n!=="loop"&&t%2===1?0:i.length-1;return!l||s===void 0?i[l]:s}const az={decay:Sg,inertia:Sg,tween:Yl,keyframes:Yl,spring:cf};function kk(e){typeof e.type=="string"&&(e.type=az[e.type])}class Jv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const iz=e=>e/100;class Zv extends Jv{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,a;const{motionValue:n}=this.options;n&&n.updatedAt!==Vn.now()&&this.tick(Vn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(s=this.options).onStop)==null||a.call(s))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;kk(t);const{type:n=Yl,repeat:s=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=t;let{keyframes:l}=t;const c=n||Yl;c!==Yl&&typeof l[0]!="number"&&(this.mixKeyframes=sd(iz,Ek(l[0],l[1])),l=[0,100]);const d=c({...t,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=Qv(d));const{calculatedDuration:u}=d;this.calculatedDuration=u,this.resolvedDuration=u+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=d}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:a,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return s.next(0);const{delay:d=0,keyframes:u,repeat:f,repeatType:m,repeatDelay:g,type:j,onUpdate:v,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const x=this.currentTime-d*(this.playbackSpeed>=0?1:-1),p=this.playbackSpeed>=0?x<0:x>a;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let y=this.currentTime,_=s;if(f){const T=Math.min(this.currentTime,a)/l;let A=Math.floor(T),D=T%1;!D&&T>=1&&(D=1),D===1&&A--,A=Math.min(A,f+1),!!(A%2)&&(m==="reverse"?(D=1-D,g&&(D-=g/l)):m==="mirror"&&(_=o)),y=Lr(0,1,D)*l}const S=p?{done:!1,value:u[0]}:_.next(y);i&&(S.value=i(S.value));let{done:P}=S;!p&&c!==null&&(P=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return C&&j!==Sg&&(S.value=Xv(u,this.options,w,this.speed)),v&&v(S.value),C&&this.finish(),S}then(t,n){return this.finished.then(t,n)}get duration(){return cr(this.calculatedDuration)}get time(){return cr(this.currentTime)}set time(t){var n;t=lr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Vn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=cr(this.currentTime))}play(){var a,i;if(this.isStopped)return;const{driver:t=zV,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(a=this.options).onPlay)==null||i.call(a);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Vn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function oz(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ti=e=>e*180/Math.PI,Ng=e=>{const t=ti(Math.atan2(e[1],e[0]));return Eg(t)},lz={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Ng,rotateZ:Ng,skewX:e=>ti(Math.atan(e[1])),skewY:e=>ti(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Eg=e=>(e=e%360,e<0&&(e+=360),e),dj=Ng,uj=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),fj=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),cz={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:uj,scaleY:fj,scale:e=>(uj(e)+fj(e))/2,rotateX:e=>Eg(ti(Math.atan2(e[6],e[5]))),rotateY:e=>Eg(ti(Math.atan2(-e[2],e[0]))),rotateZ:dj,rotate:dj,skewX:e=>ti(Math.atan(e[4])),skewY:e=>ti(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Cg(e){return e.includes("scale")?1:0}function Tg(e,t){if(!e||e==="none")return Cg(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=cz,a=n;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=lz,a=l}if(!a)return Cg(t);const i=s[t],o=a[1].split(",").map(uz);return typeof i=="function"?i(o):o[i]}const dz=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Tg(n,t)};function uz(e){return parseFloat(e.trim())}const al=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],il=new Set(al),hj=e=>e===rl||e===be,fz=new Set(["x","y","z"]),hz=al.filter(e=>!fz.has(e));function mz(e){const t=[];return hz.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const di={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Tg(t,"x"),y:(e,{transform:t})=>Tg(t,"y")};di.translateX=di.x;di.translateY=di.y;const ui=new Set;let kg=!1,Pg=!1,Rg=!1;function Pk(){if(Pg){const e=Array.from(ui).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const a=mz(s);a.length&&(n.set(s,a),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([i,o])=>{var l;(l=s.getValue(i))==null||l.set(o)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Pg=!1,kg=!1,ui.forEach(e=>e.complete(Rg)),ui.clear()}function Rk(){ui.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Pg=!0)})}function pz(){Rg=!0,Rk(),Pk(),Rg=!1}class ey{constructor(t,n,s,a,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(ui.add(this),kg||(kg=!0,vt.read(Rk),vt.resolveKeyframes(Pk))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:a}=this;if(t[0]===null){const i=a==null?void 0:a.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(s&&n){const l=s.readValue(n,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),a&&i===void 0&&a.set(t[0])}oz(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ui.delete(this)}cancel(){this.state==="scheduled"&&(ui.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const gz=e=>e.startsWith("--");function xz(e,t,n){gz(t)?e.style.setProperty(t,n):e.style[t]=n}const vz=Uv(()=>window.ScrollTimeline!==void 0),yz={};function wz(e,t){const n=Uv(e);return()=>yz[t]??n()}const Ak=wz(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Pl=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,mj={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Pl([0,.65,.55,1]),circOut:Pl([.55,0,1,.45]),backIn:Pl([.31,.01,.66,-.59]),backOut:Pl([.33,1.53,.69,.99])};function $k(e,t){if(e)return typeof e=="function"?Ak()?Ck(e,t):"ease-out":xk(e)?Pl(e):Array.isArray(e)?e.map(n=>$k(n,t)||mj.easeOut):mj[e]}function jz(e,t,n,{delay:s=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const u={[t]:n};c&&(u.offset=c);const f=$k(l,a);Array.isArray(f)&&(u.easing=f);const m={delay:s,duration:a,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return d&&(m.pseudoElement=d),e.animate(u,m)}function Dk(e){return typeof e=="function"&&"applyToOptions"in e}function _z({type:e,...t}){return Dk(e)&&Ak()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class bz extends Jv{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:s,keyframes:a,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,Bv(typeof t.type!="string");const d=_z(t);this.animation=jz(n,s,a,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=Xv(a,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(u):xz(n,s,u),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,s;const t=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return cr(Number(t))}get time(){return cr(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=lr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&vz()?(this.animation.timeline=t,ws):n(this)}}const Mk={anticipate:hk,backInOut:fk,circInOut:pk};function Sz(e){return e in Mk}function Nz(e){typeof e.ease=="string"&&Sz(e.ease)&&(e.ease=Mk[e.ease])}const pj=10;class Ez extends bz{constructor(t){Nz(t),kk(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:a,element:i,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const l=new Zv({...o,autoplay:!1}),c=lr(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-pj).value,l.sample(c).value,pj),l.stop()}}const gj=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ca.test(e)||e==="0")&&!e.startsWith("url("));function Cz(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function Tz(e,t,n,s){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=gj(a,t),l=gj(i,t);return!o||!l?!1:Cz(e)||(n==="spring"||Dk(n))&&s}const kz=new Set(["opacity","clipPath","filter","transform"]),Pz=Uv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Rz(e){var u;const{motionValue:t,name:n,repeatDelay:s,repeatType:a,damping:i,type:o}=e;if(!(((u=t==null?void 0:t.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=t.owner.getProps();return Pz()&&n&&kz.has(n)&&(n!=="transform"||!d)&&!c&&!s&&a!=="mirror"&&i!==0&&o!=="inertia"}const Az=40;class $z extends Jv{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:u,...f}){var j;super(),this.stop=()=>{var v,w;this._animation&&(this._animation.stop(),(v=this.stopTimeline)==null||v.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=Vn.now();const m={autoplay:t,delay:n,type:s,repeat:a,repeatDelay:i,repeatType:o,name:c,motionValue:d,element:u,...f},g=(u==null?void 0:u.KeyframeResolver)||ey;this.keyframeResolver=new g(l,(v,w,x)=>this.onKeyframesResolved(v,w,m,!x),c,d,u),(j=this.keyframeResolver)==null||j.scheduleResolve()}onKeyframesResolved(t,n,s,a){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:u}=s;this.resolvedAt=Vn.now(),Tz(t,i,o,l)||((Ir.instantAnimations||!c)&&(u==null||u(Xv(t,s,n))),t[0]=t[t.length-1],s.duration=0,s.repeat=0);const m={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Az?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},g=!d&&Rz(m)?new Ez({...m,element:m.motionValue.owner.current}):new Zv(m);g.finished.then(()=>this.notifyFinished()).catch(ws),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),pz()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const Dz=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Mz(e){const t=Dz.exec(e);if(!t)return[,];const[,n,s,a]=t;return[`--${n??s}`,a]}function Lk(e,t,n=1){const[s,a]=Mz(e);if(!s)return;const i=window.getComputedStyle(t).getPropertyValue(s);if(i){const o=i.trim();return rk(o)?parseFloat(o):o}return qv(a)?Lk(a,t,n+1):a}function ty(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const Ik=new Set(["width","height","top","left","right","bottom",...al]),Lz={test:e=>e==="auto",parse:e=>e},Ok=e=>t=>t.test(e),Fk=[rl,be,dr,Yr,CV,EV,Lz],xj=e=>Fk.find(Ok(e));function Iz(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||ik(e):!0}const Oz=new Set(["brightness","contrast","saturate","opacity"]);function Fz(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(Kv)||[];if(!s)return e;const a=n.replace(s,"");let i=Oz.has(t)?1:0;return s!==n&&(i*=100),t+"("+i+a+")"}const Bz=/\b([a-z-]*)\(.*?\)/gu,Ag={...Ca,getAnimatableNone:e=>{const t=e.match(Bz);return t?t.map(Fz).join(" "):e}},vj={...rl,transform:Math.round},Uz={rotate:Yr,rotateX:Yr,rotateY:Yr,rotateZ:Yr,scale:Vd,scaleX:Vd,scaleY:Vd,scaleZ:Vd,skew:Yr,skewX:Yr,skewY:Yr,distance:be,translateX:be,translateY:be,translateZ:be,x:be,y:be,z:be,perspective:be,transformPerspective:be,opacity:Pc,originX:aj,originY:aj,originZ:be},ny={borderWidth:be,borderTopWidth:be,borderRightWidth:be,borderBottomWidth:be,borderLeftWidth:be,borderRadius:be,radius:be,borderTopLeftRadius:be,borderTopRightRadius:be,borderBottomRightRadius:be,borderBottomLeftRadius:be,width:be,maxWidth:be,height:be,maxHeight:be,top:be,right:be,bottom:be,left:be,padding:be,paddingTop:be,paddingRight:be,paddingBottom:be,paddingLeft:be,margin:be,marginTop:be,marginRight:be,marginBottom:be,marginLeft:be,backgroundPositionX:be,backgroundPositionY:be,...Uz,zIndex:vj,fillOpacity:Pc,strokeOpacity:Pc,numOctaves:vj},Vz={...ny,color:Dt,backgroundColor:Dt,outlineColor:Dt,fill:Dt,stroke:Dt,borderColor:Dt,borderTopColor:Dt,borderRightColor:Dt,borderBottomColor:Dt,borderLeftColor:Dt,filter:Ag,WebkitFilter:Ag},Bk=e=>Vz[e];function Uk(e,t){let n=Bk(e);return n!==Ag&&(n=Ca),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const zz=new Set(["auto","none","0"]);function Wz(e,t,n){let s=0,a;for(;s<e.length&&!a;){const i=e[s];typeof i=="string"&&!zz.has(i)&&Rc(i).values.length&&(a=e[s]),s++}if(a&&n)for(const i of t)e[i]=Uk(n,a)}class Hz extends ey{constructor(t,n,s,a,i){super(t,n,s,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="string"&&(d=d.trim(),qv(d))){const u=Lk(d,n.current);u!==void 0&&(t[c]=u),c===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!Ik.has(s)||t.length!==2)return;const[a,i]=t,o=xj(a),l=xj(i);if(o!==l)if(hj(o)&&hj(l))for(let c=0;c<t.length;c++){const d=t[c];typeof d=="string"&&(t[c]=parseFloat(d))}else di[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let a=0;a<t.length;a++)(t[a]===null||Iz(t[a]))&&s.push(a);s.length&&Wz(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=di[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(s,a).jump(a,!1)}measureEndState(){var l;const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const i=s.length-1,o=s[i];s[i]=di[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{t.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function qz(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const a=(n==null?void 0:n[e])??s.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const Vk=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Kz(e){return ak(e)&&"offsetHeight"in e}const yj=30,Gz=e=>!isNaN(parseFloat(e));class Yz{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,a=!0)=>{var o,l;const i=Vn.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty();a&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Vn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Gz(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Vv);const s=this.events[t].add(n);return t==="change"?()=>{s(),vt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Vn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>yj)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,yj);return ok(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Bo(e,t){return new Yz(e,t)}const{schedule:sy}=vk(queueMicrotask,!1),ks={x:!1,y:!1};function zk(){return ks.x||ks.y}function Qz(e){return e==="x"||e==="y"?ks[e]?null:(ks[e]=!0,()=>{ks[e]=!1}):ks.x||ks.y?null:(ks.x=ks.y=!0,()=>{ks.x=ks.y=!1})}function Wk(e,t){const n=qz(e),s=new AbortController,a={passive:!0,...t,signal:s.signal};return[n,a,()=>s.abort()]}function wj(e){return!(e.pointerType==="touch"||zk())}function Xz(e,t,n={}){const[s,a,i]=Wk(e,n),o=l=>{if(!wj(l))return;const{target:c}=l,d=t(c,l);if(typeof d!="function"||!c)return;const u=f=>{wj(f)&&(d(f),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,a)};return s.forEach(l=>{l.addEventListener("pointerenter",o,a)}),i}const Hk=(e,t)=>t?e===t?!0:Hk(e,t.parentElement):!1,ry=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Jz=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Zz(e){return Jz.has(e.tagName)||e.tabIndex!==-1}const fu=new WeakSet;function jj(e){return t=>{t.key==="Enter"&&e(t)}}function $m(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const e8=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=jj(()=>{if(fu.has(n))return;$m(n,"down");const a=jj(()=>{$m(n,"up")}),i=()=>$m(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function _j(e){return ry(e)&&!zk()}function t8(e,t,n={}){const[s,a,i]=Wk(e,n),o=l=>{const c=l.currentTarget;if(!_j(l))return;fu.add(c);const d=t(c,l),u=(g,j)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",m),fu.has(c)&&fu.delete(c),_j(g)&&typeof d=="function"&&d(g,{success:j})},f=g=>{u(g,c===window||c===document||n.useGlobalTarget||Hk(c,g.target))},m=g=>{u(g,!1)};window.addEventListener("pointerup",f,a),window.addEventListener("pointercancel",m,a)};return s.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),Kz(l)&&(l.addEventListener("focus",d=>e8(d,a)),!Zz(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function qk(e){return ak(e)&&"ownerSVGElement"in e}function n8(e){return qk(e)&&e.tagName==="svg"}const vn=e=>!!(e&&e.getVelocity),s8=[...Fk,Dt,Ca],r8=e=>s8.find(Ok(e)),Kk=h.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function a8(e=!0){const t=h.useContext(Iv);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=t,i=h.useId();h.useEffect(()=>{if(e)return a(i)},[e]);const o=h.useCallback(()=>e&&s&&s(i),[i,s,e]);return!n&&s?[!1,o]:[!0]}const Gk=h.createContext({strict:!1}),bj={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Uo={};for(const e in bj)Uo[e]={isEnabled:t=>bj[e].some(n=>!!t[n])};function i8(e){for(const t in e)Uo[t]={...Uo[t],...e[t]}}const o8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function df(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||o8.has(e)}let Yk=e=>!df(e);function l8(e){typeof e=="function"&&(Yk=t=>t.startsWith("on")?!df(t):e(t))}try{l8(require("@emotion/is-prop-valid").default)}catch{}function c8(e,t,n){const s={};for(const a in e)a==="values"&&typeof e.values=="object"||(Yk(a)||n===!0&&df(a)||!t&&!df(a)||e.draggable&&a.startsWith("onDrag"))&&(s[a]=e[a]);return s}const ph=h.createContext({});function gh(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Ac(e){return typeof e=="string"||Array.isArray(e)}const ay=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],iy=["initial",...ay];function xh(e){return gh(e.animate)||iy.some(t=>Ac(e[t]))}function Qk(e){return!!(xh(e)||e.variants)}function d8(e,t){if(xh(e)){const{initial:n,animate:s}=e;return{initial:n===!1||Ac(n)?n:void 0,animate:Ac(s)?s:void 0}}return e.inherit!==!1?t:{}}function u8(e){const{initial:t,animate:n}=d8(e,h.useContext(ph));return h.useMemo(()=>({initial:t,animate:n}),[Sj(t),Sj(n)])}function Sj(e){return Array.isArray(e)?e.join(" "):e}const $c={};function f8(e){for(const t in e)$c[t]=e[t],Hv(t)&&($c[t].isCSSVariable=!0)}function Xk(e,{layout:t,layoutId:n}){return il.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!$c[e]||e==="opacity")}const h8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},m8=al.length;function p8(e,t,n){let s="",a=!0;for(let i=0;i<m8;i++){const o=al[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const d=Vk(l,ny[o]);if(!c){a=!1;const u=h8[o]||o;s+=`${u}(${d}) `}n&&(t[o]=d)}}return s=s.trim(),n?s=n(t,a?"":s):a&&(s="none"),s}function oy(e,t,n){const{style:s,vars:a,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const d=t[c];if(il.has(c)){o=!0;continue}else if(Hv(c)){a[c]=d;continue}else{const u=Vk(d,ny[c]);c.startsWith("origin")?(l=!0,i[c]=u):s[c]=u}}if(t.transform||(o||n?s.transform=p8(t,e.transform,n):s.transform&&(s.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=i;s.transformOrigin=`${c} ${d} ${u}`}}const ly=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Jk(e,t,n){for(const s in t)!vn(t[s])&&!Xk(s,n)&&(e[s]=t[s])}function g8({transformTemplate:e},t){return h.useMemo(()=>{const n=ly();return oy(n,t,e),Object.assign({},n.vars,n.style)},[t])}function x8(e,t){const n=e.style||{},s={};return Jk(s,n,e),Object.assign(s,g8(e,t)),s}function v8(e,t){const n={},s=x8(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const y8={offset:"stroke-dashoffset",array:"stroke-dasharray"},w8={offset:"strokeDashoffset",array:"strokeDasharray"};function j8(e,t,n=1,s=0,a=!0){e.pathLength=1;const i=a?y8:w8;e[i.offset]=be.transform(-s);const o=be.transform(t),l=be.transform(n);e[i.array]=`${o} ${l}`}function Zk(e,{attrX:t,attrY:n,attrScale:s,pathLength:a,pathSpacing:i=1,pathOffset:o=0,...l},c,d,u){if(oy(e,l,d),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:m}=e;f.transform&&(m.transform=f.transform,delete f.transform),(m.transform||f.transformOrigin)&&(m.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),m.transform&&(m.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),s!==void 0&&(f.scale=s),a!==void 0&&j8(f,a,i,o,!1)}const eP=()=>({...ly(),attrs:{}}),tP=e=>typeof e=="string"&&e.toLowerCase()==="svg";function _8(e,t,n,s){const a=h.useMemo(()=>{const i=eP();return Zk(i,t,tP(s),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};Jk(i,e.style,e),a.style={...i,...a.style}}return a}const b8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function cy(e){return typeof e!="string"||e.includes("-")?!1:!!(b8.indexOf(e)>-1||/[A-Z]/u.test(e))}function S8(e,t,n,{latestValues:s},a,i=!1){const l=(cy(e)?_8:v8)(t,s,a,e),c=c8(t,typeof e=="string",i),d=e!==h.Fragment?{...c,...l,ref:n}:{},{children:u}=t,f=h.useMemo(()=>vn(u)?u.get():u,[u]);return h.createElement(e,{...d,children:f})}function Nj(e){const t=[{},{}];return e==null||e.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function dy(e,t,n,s){if(typeof t=="function"){const[a,i]=Nj(s);t=t(n!==void 0?n:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=Nj(s);t=t(n!==void 0?n:e.custom,a,i)}return t}function hu(e){return vn(e)?e.get():e}function N8({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,a){return{latestValues:E8(n,s,a,e),renderState:t()}}function E8(e,t,n,s){const a={},i=s(e,{});for(const m in i)a[m]=hu(i[m]);let{initial:o,animate:l}=e;const c=xh(e),d=Qk(e);t&&d&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const f=u?l:o;if(f&&typeof f!="boolean"&&!gh(f)){const m=Array.isArray(f)?f:[f];for(let g=0;g<m.length;g++){const j=dy(e,m[g]);if(j){const{transitionEnd:v,transition:w,...x}=j;for(const p in x){let y=x[p];if(Array.isArray(y)){const _=u?y.length-1:0;y=y[_]}y!==null&&(a[p]=y)}for(const p in v)a[p]=v[p]}}}return a}const nP=e=>(t,n)=>{const s=h.useContext(ph),a=h.useContext(Iv),i=()=>N8(e,t,s,a);return n?i():iV(i)};function uy(e,t,n){var i;const{style:s}=e,a={};for(const o in s)(vn(s[o])||t.style&&vn(t.style[o])||Xk(o,e)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(a[o]=s[o]);return a}const C8=nP({scrapeMotionValuesFromProps:uy,createRenderState:ly});function sP(e,t,n){const s=uy(e,t,n);for(const a in e)if(vn(e[a])||vn(t[a])){const i=al.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[i]=e[a]}return s}const T8=nP({scrapeMotionValuesFromProps:sP,createRenderState:eP}),k8=Symbol.for("motionComponentSymbol");function no(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function P8(e,t,n){return h.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):no(n)&&(n.current=s))},[t])}const fy=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),R8="framerAppearId",rP="data-"+fy(R8),aP=h.createContext({});function A8(e,t,n,s,a){var v,w;const{visualElement:i}=h.useContext(ph),o=h.useContext(Gk),l=h.useContext(Iv),c=h.useContext(Kk).reducedMotion,d=h.useRef(null);s=s||o.renderer,!d.current&&s&&(d.current=s(e,{visualState:t,parent:i,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const u=d.current,f=h.useContext(aP);u&&!u.projection&&a&&(u.type==="html"||u.type==="svg")&&$8(d.current,n,a,f);const m=h.useRef(!1);h.useInsertionEffect(()=>{u&&m.current&&u.update(n,l)});const g=n[rP],j=h.useRef(!!g&&!((v=window.MotionHandoffIsComplete)!=null&&v.call(window,g))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,g)));return oV(()=>{u&&(m.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),j.current&&u.animationState&&u.animationState.animateChanges())}),h.useEffect(()=>{u&&(!j.current&&u.animationState&&u.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)==null||x.call(window,g)}),j.current=!1))}),u}function $8(e,t,n,s){const{layoutId:a,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:iP(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||l&&no(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:s,crossfade:u,layoutScroll:c,layoutRoot:d})}function iP(e){if(e)return e.options.allowProjection!==!1?e.projection:iP(e.parent)}function Dm(e,{forwardMotionProps:t=!1}={},n,s){n&&i8(n);const a=cy(e)?T8:C8;function i(l,c){let d;const u={...h.useContext(Kk),...l,layoutId:D8(l)},{isStatic:f}=u,m=u8(l),g=a(l,f);if(!f&&Lv){M8();const j=L8(u);d=j.MeasureLayout,m.visualElement=A8(e,g,u,s,j.ProjectionNode)}return r.jsxs(ph.Provider,{value:m,children:[d&&m.visualElement?r.jsx(d,{visualElement:m.visualElement,...u}):null,S8(e,l,P8(g,m.visualElement,c),g,f,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=h.forwardRef(i);return o[k8]=e,o}function D8({layoutId:e}){const t=h.useContext(sk).id;return t&&e!==void 0?t+"-"+e:e}function M8(e,t){h.useContext(Gk).strict}function L8(e){const{drag:t,layout:n}=Uo;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function I8(e,t){if(typeof Proxy>"u")return Dm;const n=new Map,s=(i,o)=>Dm(i,o,e,t),a=(i,o)=>s(i,o);return new Proxy(a,{get:(i,o)=>o==="create"?s:(n.has(o)||n.set(o,Dm(o,void 0,e,t)),n.get(o))})}function oP({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function O8({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function F8(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Mm(e){return e===void 0||e===1}function $g({scale:e,scaleX:t,scaleY:n}){return!Mm(e)||!Mm(t)||!Mm(n)}function Ya(e){return $g(e)||lP(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function lP(e){return Ej(e.x)||Ej(e.y)}function Ej(e){return e&&e!=="0%"}function uf(e,t,n){const s=e-n,a=t*s;return n+a}function Cj(e,t,n,s,a){return a!==void 0&&(e=uf(e,a,s)),uf(e,n,s)+t}function Dg(e,t=0,n=1,s,a){e.min=Cj(e.min,t,n,s,a),e.max=Cj(e.max,t,n,s,a)}function cP(e,{x:t,y:n}){Dg(e.x,t.translate,t.scale,t.originPoint),Dg(e.y,n.translate,n.scale,n.originPoint)}const Tj=.999999999999,kj=1.0000000000001;function B8(e,t,n,s=!1){const a=n.length;if(!a)return;t.x=t.y=1;let i,o;for(let l=0;l<a;l++){i=n[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ro(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,cP(e,o)),s&&Ya(i.latestValues)&&ro(e,i.latestValues))}t.x<kj&&t.x>Tj&&(t.x=1),t.y<kj&&t.y>Tj&&(t.y=1)}function so(e,t){e.min=e.min+t,e.max=e.max+t}function Pj(e,t,n,s,a=.5){const i=jt(e.min,e.max,a);Dg(e,t,n,i,s)}function ro(e,t){Pj(e.x,t.x,t.scaleX,t.scale,t.originX),Pj(e.y,t.y,t.scaleY,t.scale,t.originY)}function dP(e,t){return oP(F8(e.getBoundingClientRect(),t))}function U8(e,t,n){const s=dP(e,n),{scroll:a}=t;return a&&(so(s.x,a.offset.x),so(s.y,a.offset.y)),s}const Rj=()=>({translate:0,scale:1,origin:0,originPoint:0}),ao=()=>({x:Rj(),y:Rj()}),Aj=()=>({min:0,max:0}),Pt=()=>({x:Aj(),y:Aj()}),Mg={current:null},uP={current:!1};function V8(){if(uP.current=!0,!!Lv)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Mg.current=e.matches;e.addEventListener("change",t),t()}else Mg.current=!1}const z8=new WeakMap;function W8(e,t,n){for(const s in t){const a=t[s],i=n[s];if(vn(a))e.addValue(s,a);else if(vn(i))e.addValue(s,Bo(a,{owner:e}));else if(i!==a)if(e.hasValue(s)){const o=e.getValue(s);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=e.getStaticValue(s);e.addValue(s,Bo(o!==void 0?o:a,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const $j=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class H8{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ey,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Vn.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,vt.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=xh(n),this.isVariantNode=Qk(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in f){const g=f[m];c[m]!==void 0&&vn(g)&&g.set(c[m],!1)}}mount(t){this.current=t,z8.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),uP.current||V8(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Mg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ea(this.notifyUpdate),Ea(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=il.has(t);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&vt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Uo){const n=Uo[t];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[t]&&a&&s(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Pt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<$j.length;s++){const a=$j[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=t[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=W8(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=Bo(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(rk(s)||ik(s))?s=parseFloat(s):!r8(s)&&Ca.test(n)&&(s=Uk(t,n)),this.setBaseTarget(t,vn(s)?s.get():s)),vn(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var i;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const o=dy(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(s=o[t])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!vn(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Vv),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){sy.render(this.render)}}class fP extends H8{constructor(){super(...arguments),this.KeyframeResolver=Hz}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;vn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function hP(e,{style:t,vars:n},s,a){const i=e.style;let o;for(o in t)i[o]=t[o];a==null||a.applyProjectionStyles(i,s);for(o in n)i.setProperty(o,n[o])}function q8(e){return window.getComputedStyle(e)}class K8 extends fP{constructor(){super(...arguments),this.type="html",this.renderInstance=hP}readValueFromInstance(t,n){var s;if(il.has(n))return(s=this.projection)!=null&&s.isProjecting?Cg(n):dz(t,n);{const a=q8(t),i=(Hv(n)?a.getPropertyValue(n):a[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return dP(t,n)}build(t,n,s){oy(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return uy(t,n,s)}}const mP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function G8(e,t,n,s){hP(e,t,void 0,s);for(const a in t.attrs)e.setAttribute(mP.has(a)?a:fy(a),t.attrs[a])}class Y8 extends fP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Pt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(il.has(n)){const s=Bk(n);return s&&s.default||0}return n=mP.has(n)?n:fy(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return sP(t,n,s)}build(t,n,s){Zk(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,a){G8(t,n,s,a)}mount(t){this.isSVGTag=tP(t.tagName),super.mount(t)}}const Q8=(e,t)=>cy(e)?new Y8(t):new K8(t,{allowProjection:e!==h.Fragment});function Dc(e,t,n){const s=e.getProps();return dy(s,t,n!==void 0?n:s.custom,e)}const Lg=e=>Array.isArray(e);function X8(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Bo(n))}function J8(e){return Lg(e)?e[e.length-1]||0:e}function Z8(e,t){const n=Dc(e,t);let{transitionEnd:s={},transition:a={},...i}=n||{};i={...i,...s};for(const o in i){const l=J8(i[o]);X8(e,o,l)}}function eW(e){return!!(vn(e)&&e.add)}function Ig(e,t){const n=e.getValue("willChange");if(eW(n))return n.add(t);if(!n&&Ir.WillChange){const s=new Ir.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function pP(e){return e.props[rP]}const tW=e=>e!==null;function nW(e,{repeat:t,repeatType:n="loop"},s){const a=e.filter(tW),i=t&&n!=="loop"&&t%2===1?0:a.length-1;return a[i]}const sW={type:"spring",stiffness:500,damping:25,restSpeed:10},rW=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),aW={type:"keyframes",duration:.8},iW={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},oW=(e,{keyframes:t})=>t.length>2?aW:il.has(e)?e.startsWith("scale")?rW(t[1]):sW:iW;function lW({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const hy=(e,t,n,s={},a,i)=>o=>{const l=ty(s,e)||{},c=l.delay||s.delay||0;let{elapsed:d=0}=s;d=d-lr(c);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:m=>{t.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:a};lW(l)||Object.assign(u,oW(e,u)),u.duration&&(u.duration=lr(u.duration)),u.repeatDelay&&(u.repeatDelay=lr(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(f=!0)),(Ir.instantAnimations||Ir.skipAnimations)&&(f=!0,u.duration=0,u.delay=0),u.allowFlatten=!l.type&&!l.ease,f&&!i&&t.get()!==void 0){const m=nW(u.keyframes,l);if(m!==void 0){vt.update(()=>{u.onUpdate(m),u.onComplete()});return}}return l.isSync?new Zv(u):new $z(u)};function cW({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function gP(e,t,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=t;s&&(i=s);const c=[],d=a&&e.animationState&&e.animationState.getState()[a];for(const u in l){const f=e.getValue(u,e.latestValues[u]??null),m=l[u];if(m===void 0||d&&cW(d,u))continue;const g={delay:n,...ty(i||{},u)},j=f.get();if(j!==void 0&&!f.isAnimating&&!Array.isArray(m)&&m===j&&!g.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const x=pP(e);if(x){const p=window.MotionHandoffAnimation(x,u,vt);p!==null&&(g.startTime=p,v=!0)}}Ig(e,u),f.start(hy(u,f,m,e.shouldReduceMotion&&Ik.has(u)?{type:!1}:g,e,v));const w=f.animation;w&&c.push(w)}return o&&Promise.all(c).then(()=>{vt.update(()=>{o&&Z8(e,o)})}),c}function Og(e,t,n={}){var c;const s=Dc(e,t,n.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const i=s?()=>Promise.all(gP(e,s,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:m}=a;return dW(e,t,d,u,f,m,n)}:()=>Promise.resolve(),{when:l}=a;if(l){const[d,u]=l==="beforeChildren"?[i,o]:[o,i];return d().then(()=>u())}else return Promise.all([i(),o(n.delay)])}function dW(e,t,n=0,s=0,a=0,i=1,o){const l=[],c=e.variantChildren.size,d=(c-1)*a,u=typeof s=="function",f=u?m=>s(m,c):i===1?(m=0)=>m*a:(m=0)=>d-m*a;return Array.from(e.variantChildren).sort(uW).forEach((m,g)=>{m.notify("AnimationStart",t),l.push(Og(m,t,{...o,delay:n+(u?0:s)+f(g)}).then(()=>m.notify("AnimationComplete",t)))}),Promise.all(l)}function uW(e,t){return e.sortNodePosition(t)}function fW(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const a=t.map(i=>Og(e,i,n));s=Promise.all(a)}else if(typeof t=="string")s=Og(e,t,n);else{const a=typeof t=="function"?Dc(e,t,n.custom):t;s=Promise.all(gP(e,a,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function xP(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const hW=iy.length;function vP(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?vP(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<hW;n++){const s=iy[n],a=e.props[s];(Ac(a)||a===!1)&&(t[s]=a)}return t}const mW=[...ay].reverse(),pW=ay.length;function gW(e){return t=>Promise.all(t.map(({animation:n,options:s})=>fW(e,n,s)))}function xW(e){let t=gW(e),n=Dj(),s=!0;const a=c=>(d,u)=>{var m;const f=Dc(e,u,c==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);if(f){const{transition:g,transitionEnd:j,...v}=f;d={...d,...v,...j}}return d};function i(c){t=c(e)}function o(c){const{props:d}=e,u=vP(e.parent)||{},f=[],m=new Set;let g={},j=1/0;for(let w=0;w<pW;w++){const x=mW[w],p=n[x],y=d[x]!==void 0?d[x]:u[x],_=Ac(y),S=x===c?p.isActive:null;S===!1&&(j=w);let P=y===u[x]&&y!==d[x]&&_;if(P&&s&&e.manuallyAnimateOnMount&&(P=!1),p.protectedKeys={...g},!p.isActive&&S===null||!y&&!p.prevProp||gh(y)||typeof y=="boolean")continue;const C=vW(p.prevProp,y);let T=C||x===c&&p.isActive&&!P&&_||w>j&&_,A=!1;const D=Array.isArray(y)?y:[y];let $=D.reduce(a(x),{});S===!1&&($={});const{prevResolvedValues:I={}}=p,M={...I,...$},F=z=>{T=!0,m.has(z)&&(A=!0,m.delete(z)),p.needsAnimating[z]=!0;const k=e.getValue(z);k&&(k.liveStyle=!1)};for(const z in M){const k=$[z],N=I[z];if(g.hasOwnProperty(z))continue;let b=!1;Lg(k)&&Lg(N)?b=!xP(k,N):b=k!==N,b?k!=null?F(z):m.add(z):k!==void 0&&m.has(z)?F(z):p.protectedKeys[z]=!0}p.prevProp=y,p.prevResolvedValues=$,p.isActive&&(g={...g,...$}),s&&e.blockInitialAnimation&&(T=!1),T&&(!(P&&C)||A)&&f.push(...D.map(z=>({animation:z,options:{type:x}})))}if(m.size){const w={};if(typeof d.initial!="boolean"){const x=Dc(e,Array.isArray(d.initial)?d.initial[0]:d.initial);x&&x.transition&&(w.transition=x.transition)}m.forEach(x=>{const p=e.getBaseTarget(x),y=e.getValue(x);y&&(y.liveStyle=!0),w[x]=p??null}),f.push({animation:w})}let v=!!f.length;return s&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(v=!1),s=!1,v?t(f):Promise.resolve()}function l(c,d){var f;if(n[c].isActive===d)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(m=>{var g;return(g=m.animationState)==null?void 0:g.setActive(c,d)}),n[c].isActive=d;const u=o(c);for(const m in n)n[m].protectedKeys={};return u}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=Dj(),s=!0}}}function vW(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!xP(t,e):!1}function Ha(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Dj(){return{animate:Ha(!0),whileInView:Ha(),whileHover:Ha(),whileTap:Ha(),whileDrag:Ha(),whileFocus:Ha(),exit:Ha()}}class Ma{constructor(t){this.isMounted=!1,this.node=t}update(){}}class yW extends Ma{constructor(t){super(t),t.animationState||(t.animationState=xW(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();gh(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let wW=0;class jW extends Ma{constructor(){super(...arguments),this.id=wW++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const _W={animation:{Feature:yW},exit:{Feature:jW}};function Mc(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function id(e){return{point:{x:e.pageX,y:e.pageY}}}const bW=e=>t=>ry(t)&&e(t,id(t));function Ql(e,t,n,s){return Mc(e,t,bW(n),s)}const yP=1e-4,SW=1-yP,NW=1+yP,wP=.01,EW=0-wP,CW=0+wP;function kn(e){return e.max-e.min}function TW(e,t,n){return Math.abs(e-t)<=n}function Mj(e,t,n,s=.5){e.origin=s,e.originPoint=jt(t.min,t.max,e.origin),e.scale=kn(n)/kn(t),e.translate=jt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=SW&&e.scale<=NW||isNaN(e.scale))&&(e.scale=1),(e.translate>=EW&&e.translate<=CW||isNaN(e.translate))&&(e.translate=0)}function Xl(e,t,n,s){Mj(e.x,t.x,n.x,s?s.originX:void 0),Mj(e.y,t.y,n.y,s?s.originY:void 0)}function Lj(e,t,n){e.min=n.min+t.min,e.max=e.min+kn(t)}function kW(e,t,n){Lj(e.x,t.x,n.x),Lj(e.y,t.y,n.y)}function Ij(e,t,n){e.min=t.min-n.min,e.max=e.min+kn(t)}function Jl(e,t,n){Ij(e.x,t.x,n.x),Ij(e.y,t.y,n.y)}function fs(e){return[e("x"),e("y")]}const jP=({current:e})=>e?e.ownerDocument.defaultView:null,Oj=(e,t)=>Math.abs(e-t);function PW(e,t){const n=Oj(e.x,t.x),s=Oj(e.y,t.y);return Math.sqrt(n**2+s**2)}class _P{constructor(t,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Im(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,j=PW(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!j)return;const{point:v}=m,{timestamp:w}=sn;this.history.push({...v,timestamp:w});const{onStart:x,onMove:p}=this.handlers;g||(x&&x(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),p&&p(this.lastMoveEvent,m)},this.handlePointerMove=(m,g)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Lm(g,this.transformPagePoint),vt.update(this.updatePoint,!0)},this.handlePointerUp=(m,g)=>{this.end();const{onEnd:j,onSessionEnd:v,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Im(m.type==="pointercancel"?this.lastMoveEventInfo:Lm(g,this.transformPagePoint),this.history);this.startEvent&&j&&j(m,x),v&&v(m,x)},!ry(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=o,this.contextWindow=a||window;const l=id(t),c=Lm(l,this.transformPagePoint),{point:d}=c,{timestamp:u}=sn;this.history=[{...d,timestamp:u}];const{onSessionStart:f}=n;f&&f(t,Im(c,this.history)),this.removeListeners=sd(Ql(this.contextWindow,"pointermove",this.handlePointerMove),Ql(this.contextWindow,"pointerup",this.handlePointerUp),Ql(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ea(this.updatePoint)}}function Lm(e,t){return t?{point:t(e.point)}:e}function Fj(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Im({point:e},t){return{point:e,delta:Fj(e,bP(t)),offset:Fj(e,RW(t)),velocity:AW(t,.1)}}function RW(e){return e[0]}function bP(e){return e[e.length-1]}function AW(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const a=bP(e);for(;n>=0&&(s=e[n],!(a.timestamp-s.timestamp>lr(t)));)n--;if(!s)return{x:0,y:0};const i=cr(a.timestamp-s.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-s.x)/i,y:(a.y-s.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function $W(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?jt(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?jt(n,e,s.max):Math.min(e,n)),e}function Bj(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function DW(e,{top:t,left:n,bottom:s,right:a}){return{x:Bj(e.x,n,a),y:Bj(e.y,t,s)}}function Uj(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function MW(e,t){return{x:Uj(e.x,t.x),y:Uj(e.y,t.y)}}function LW(e,t){let n=.5;const s=kn(e),a=kn(t);return a>s?n=kc(t.min,t.max-s,e.min):s>a&&(n=kc(e.min,e.max-a,t.min)),Lr(0,1,n)}function IW(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Fg=.35;function OW(e=Fg){return e===!1?e=0:e===!0&&(e=Fg),{x:Vj(e,"left","right"),y:Vj(e,"top","bottom")}}function Vj(e,t,n){return{min:zj(e,t),max:zj(e,n)}}function zj(e,t){return typeof e=="number"?e:e[t]||0}const FW=new WeakMap;class BW{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Pt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(id(f).point)},o=(f,m)=>{const{drag:g,dragPropagation:j,onDragStart:v}=this.getProps();if(g&&!j&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Qz(g),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),fs(x=>{let p=this.getAxisMotionValue(x).get()||0;if(dr.test(p)){const{projection:y}=this.visualElement;if(y&&y.layout){const _=y.layout.layoutBox[x];_&&(p=kn(_)*(parseFloat(p)/100))}}this.originPoint[x]=p}),v&&vt.postRender(()=>v(f,m)),Ig(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},l=(f,m)=>{this.latestPointerEvent=f,this.latestPanInfo=m;const{dragPropagation:g,dragDirectionLock:j,onDirectionLock:v,onDrag:w}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:x}=m;if(j&&this.currentDirection===null){this.currentDirection=UW(x),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",m.point,x),this.updateAxis("y",m.point,x),this.visualElement.render(),w&&w(f,m)},c=(f,m)=>{this.latestPointerEvent=f,this.latestPanInfo=m,this.stop(f,m),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>fs(f=>{var m;return this.getAnimationState(f)==="paused"&&((m=this.getAxisMotionValue(f).animation)==null?void 0:m.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new _P(t,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:s,contextWindow:jP(this.visualElement)})}stop(t,n){const s=t||this.latestPointerEvent,a=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!a||!s)return;const{velocity:o}=a;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&vt.postRender(()=>l(s,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:a}=this.getProps();if(!s||!zd(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(o=$W(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,a=this.constraints;t&&no(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=DW(s.layoutBox,t):this.constraints=!1,this.elastic=OW(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&fs(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=IW(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!no(t))return!1;const s=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=U8(s,a.root,this.visualElement.getTransformPagePoint());let o=MW(a.layout.layoutBox,i);if(n){const l=n(O8(o));this.hasMutatedConstraints=!!l,l&&(o=oP(l))}return o}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=fs(u=>{if(!zd(u,n,this.currentDirection))return;let f=c&&c[u]||{};o&&(f={min:0,max:0});const m=a?200:1e6,g=a?40:1e7,j={type:"inertia",velocity:s?t[u]:0,bounceStiffness:m,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(u,j)});return Promise.all(d).then(l)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return Ig(this.visualElement,t),s.start(hy(t,s,0,n,this.visualElement,!1))}stopAnimation(){fs(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){fs(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){fs(n=>{const{drag:s}=this.getProps();if(!zd(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(n);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[n];i.set(t[n]-jt(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!no(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};fs(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();a[o]=LW({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),fs(o=>{if(!zd(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(jt(c,d,a[o]))})}addListeners(){if(!this.visualElement.current)return;FW.set(this.visualElement,this);const t=this.visualElement.current,n=Ql(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();no(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),vt.read(s);const o=Mc(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(fs(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=c[u].translate,f.set(f.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=Fg,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function zd(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function UW(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class VW extends Ma{constructor(t){super(t),this.removeGroupControls=ws,this.removeListeners=ws,this.controls=new BW(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ws}unmount(){this.removeGroupControls(),this.removeListeners()}}const Wj=e=>(t,n)=>{e&&vt.postRender(()=>e(t,n))};class zW extends Ma{constructor(){super(...arguments),this.removePointerDownListener=ws}onPointerDown(t){this.session=new _P(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:jP(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:Wj(t),onStart:Wj(n),onMove:s,onEnd:(i,o)=>{delete this.session,a&&vt.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=Ql(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const mu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Hj(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const _l={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(be.test(e))e=parseFloat(e);else return e;const n=Hj(e,t.target.x),s=Hj(e,t.target.y);return`${n}% ${s}%`}},WW={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,a=Ca.parse(e);if(a.length>5)return s;const i=Ca.createTransformer(e),o=typeof a[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;a[0+o]/=l,a[1+o]/=c;const d=jt(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=d),typeof a[3+o]=="number"&&(a[3+o]/=d),i(a)}};let qj=!1;class HW extends h.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:i}=t;f8(qW),i&&(n.group&&n.group.add(i),s&&s.register&&a&&s.register(i),qj&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),mu.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:a,isPresent:i}=this.props,{projection:o}=s;return o&&(o.isPresent=i,qj=!0,a||t.layoutDependency!==n||n===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||vt.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),sy.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function SP(e){const[t,n]=a8(),s=h.useContext(sk);return r.jsx(HW,{...e,layoutGroup:s,switchLayoutGroup:h.useContext(aP),isPresent:t,safeToRemove:n})}const qW={borderRadius:{..._l,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:_l,borderTopRightRadius:_l,borderBottomLeftRadius:_l,borderBottomRightRadius:_l,boxShadow:WW};function KW(e,t,n){const s=vn(e)?e:Bo(e);return s.start(hy("",s,t,n)),s.animation}const GW=(e,t)=>e.depth-t.depth;class YW{constructor(){this.children=[],this.isDirty=!1}add(t){Ov(this.children,t),this.isDirty=!0}remove(t){Fv(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(GW),this.isDirty=!1,this.children.forEach(t)}}function QW(e,t){const n=Vn.now(),s=({timestamp:a})=>{const i=a-n;i>=t&&(Ea(s),e(i-t))};return vt.setup(s,!0),()=>Ea(s)}const NP=["TopLeft","TopRight","BottomLeft","BottomRight"],XW=NP.length,Kj=e=>typeof e=="string"?parseFloat(e):e,Gj=e=>typeof e=="number"||be.test(e);function JW(e,t,n,s,a,i){a?(e.opacity=jt(0,n.opacity??1,ZW(s)),e.opacityExit=jt(t.opacity??1,0,e7(s))):i&&(e.opacity=jt(t.opacity??1,n.opacity??1,s));for(let o=0;o<XW;o++){const l=`border${NP[o]}Radius`;let c=Yj(t,l),d=Yj(n,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||Gj(c)===Gj(d)?(e[l]=Math.max(jt(Kj(c),Kj(d),s),0),(dr.test(d)||dr.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||n.rotate)&&(e.rotate=jt(t.rotate||0,n.rotate||0,s))}function Yj(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const ZW=EP(0,.5,mk),e7=EP(.5,.95,ws);function EP(e,t,n){return s=>s<e?0:s>t?1:n(kc(e,t,s))}function Qj(e,t){e.min=t.min,e.max=t.max}function us(e,t){Qj(e.x,t.x),Qj(e.y,t.y)}function Xj(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Jj(e,t,n,s,a){return e-=t,e=uf(e,1/n,s),a!==void 0&&(e=uf(e,1/a,s)),e}function t7(e,t=0,n=1,s=.5,a,i=e,o=e){if(dr.test(t)&&(t=parseFloat(t),t=jt(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=jt(i.min,i.max,s);e===i&&(l-=t),e.min=Jj(e.min,t,n,l,a),e.max=Jj(e.max,t,n,l,a)}function Zj(e,t,[n,s,a],i,o){t7(e,t[n],t[s],t[a],t.scale,i,o)}const n7=["x","scaleX","originX"],s7=["y","scaleY","originY"];function e_(e,t,n,s){Zj(e.x,t,n7,n?n.x:void 0,s?s.x:void 0),Zj(e.y,t,s7,n?n.y:void 0,s?s.y:void 0)}function t_(e){return e.translate===0&&e.scale===1}function CP(e){return t_(e.x)&&t_(e.y)}function n_(e,t){return e.min===t.min&&e.max===t.max}function r7(e,t){return n_(e.x,t.x)&&n_(e.y,t.y)}function s_(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function TP(e,t){return s_(e.x,t.x)&&s_(e.y,t.y)}function r_(e){return kn(e.x)/kn(e.y)}function a_(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class a7{constructor(){this.members=[]}add(t){Ov(this.members,t),t.scheduleRender()}remove(t){if(Fv(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){s=i;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function i7(e,t,n){let s="";const a=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((a||i||o)&&(s=`translate3d(${a}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:d,rotate:u,rotateX:f,rotateY:m,skewX:g,skewY:j}=n;d&&(s=`perspective(${d}px) ${s}`),u&&(s+=`rotate(${u}deg) `),f&&(s+=`rotateX(${f}deg) `),m&&(s+=`rotateY(${m}deg) `),g&&(s+=`skewX(${g}deg) `),j&&(s+=`skewY(${j}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(s+=`scale(${l}, ${c})`),s||"none"}const Om=["","X","Y","Z"],o7=1e3;let l7=0;function Fm(e,t,n,s){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),s&&(s[e]=0))}function kP(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=pP(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",vt,!(a||i))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&kP(s)}function PP({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(o={},l=t==null?void 0:t()){this.id=l7++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(u7),this.nodes.forEach(p7),this.nodes.forEach(g7),this.nodes.forEach(f7)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new YW)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Vv),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=qk(o)&&!n8(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let u,f=0;const m=()=>this.root.updateBlockedByResize=!1;vt.read(()=>{f=window.innerWidth}),e(o,()=>{const g=window.innerWidth;g!==f&&(f=g,this.root.updateBlockedByResize=!0,u&&u(),u=QW(m,250),mu.hasAnimatedSinceResize&&(mu.hasAnimatedSinceResize=!1,this.nodes.forEach(l_)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:m,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||d.getDefaultTransition()||j7,{onLayoutAnimationStart:v,onLayoutAnimationComplete:w}=d.getProps(),x=!this.targetLayout||!TP(this.targetLayout,g),p=!f&&m;if(this.options.layoutRoot||this.resumeFrom||p||f&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const y={...ty(j,"layout"),onPlay:v,onComplete:w};(d.shouldReduceMotion||this.options.layoutRoot)&&(y.delay=0,y.type=!1),this.startAnimation(y),this.setAnimationOrigin(u,p)}else f||l_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ea(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(x7),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&kP(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(i_);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(o_);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(m7),this.nodes.forEach(c7),this.nodes.forEach(d7)):this.nodes.forEach(o_),this.clearAllSnapshots();const l=Vn.now();sn.delta=Lr(0,1e3/60,l-sn.timestamp),sn.timestamp=l,sn.isProcessing=!0,Tm.update.process(sn),Tm.preRender.process(sn),Tm.render.process(sn),sn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,sy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(h7),this.sharedNodes.forEach(v7)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,vt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){vt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!kn(this.snapshot.measuredBox.x)&&!kn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Pt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!CP(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||Ya(this.latestValues)||u)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),_7(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return Pt();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(b7))){const{scroll:u}=this.root;u&&(so(l.x,u.offset.x),so(l.y,u.offset.y))}return l}removeElementScroll(o){var c;const l=Pt();if(us(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:f,options:m}=u;u!==this.root&&f&&m.layoutScroll&&(f.wasRoot&&us(l,o),so(l.x,f.offset.x),so(l.y,f.offset.y))}return l}applyTransform(o,l=!1){const c=Pt();us(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&ro(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Ya(u.latestValues)&&ro(c,u.latestValues)}return Ya(this.latestValues)&&ro(c,this.latestValues),c}removeTransform(o){const l=Pt();us(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Ya(d.latestValues))continue;$g(d.latestValues)&&d.updateSnapshot();const u=Pt(),f=d.measurePageBox();us(u,f),e_(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return Ya(this.latestValues)&&e_(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==sn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var m;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:f}=this.options;if(!(!this.layout||!(u||f))){if(this.resolvedRelativeTargetAt=sn.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pt(),this.relativeTargetOrigin=Pt(),Jl(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),us(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Pt(),this.targetWithTransforms=Pt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),kW(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):us(this.target,this.layout.layoutBox),cP(this.target,this.targetDelta)):us(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pt(),this.relativeTargetOrigin=Pt(),Jl(this.relativeTargetOrigin,this.target,g.target),us(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||$g(this.parent.latestValues)||lP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var j;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(j=this.parent)!=null&&j.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===sn.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;us(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;B8(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Pt());const{target:g}=o;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Xj(this.prevProjectionDelta.x,this.projectionDelta.x),Xj(this.prevProjectionDelta.y,this.projectionDelta.y)),Xl(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!a_(this.projectionDelta.x,this.prevProjectionDelta.x)||!a_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ao(),this.projectionDelta=ao(),this.projectionDeltaWithTransform=ao()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},f=ao();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=Pt(),g=c?c.source:void 0,j=this.layout?this.layout.source:void 0,v=g!==j,w=this.getStack(),x=!w||w.members.length<=1,p=!!(v&&!x&&this.options.crossfade===!0&&!this.path.some(w7));this.animationProgress=0;let y;this.mixTargetDelta=_=>{const S=_/1e3;c_(f.x,o.x,S),c_(f.y,o.y,S),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Jl(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),y7(this.relativeTarget,this.relativeTargetOrigin,m,S),y&&r7(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=Pt()),us(y,this.relativeTarget)),v&&(this.animationValues=u,JW(u,d,this.latestValues,S,p,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(Ea(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=vt.update(()=>{mu.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Bo(0)),this.currentAnimation=KW(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(o7),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&RP(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Pt();const f=kn(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const m=kn(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+m}us(l,c),ro(l,u),Xl(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new a7),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&Fm("z",o,d,this.animationValues);for(let u=0;u<Om.length;u++)Fm(`rotate${Om[u]}`,o,d,this.animationValues),Fm(`skew${Om[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=hu(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=hu(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Ya(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=d.animationValues||d.latestValues;this.applyTransformsToTarget();let f=i7(this.projectionDeltaWithTransform,this.treeScale,u);c&&(f=c(u,f)),o.transform=f;const{x:m,y:g}=this.projectionDelta;o.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,d.animationValues?o.opacity=d===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=d===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const j in $c){if(u[j]===void 0)continue;const{correct:v,applyTo:w,isCSSVariable:x}=$c[j],p=f==="none"?u[j]:v(u[j],d);if(w){const y=w.length;for(let _=0;_<y;_++)o[w[_]]=p}else x?this.options.visualElement.renderState.vars[j]=p:o[j]=p}this.options.layoutId&&(o.pointerEvents=d===this?hu(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(i_),this.root.sharedNodes.clear()}}}function c7(e){e.updateLayout()}function d7(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?fs(f=>{const m=o?t.measuredBox[f]:t.layoutBox[f],g=kn(m);m.min=s[f].min,m.max=m.min+g}):RP(i,t.layoutBox,s)&&fs(f=>{const m=o?t.measuredBox[f]:t.layoutBox[f],g=kn(s[f]);m.max=m.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+g)});const l=ao();Xl(l,s,t.layoutBox);const c=ao();o?Xl(c,e.applyTransform(a,!0),t.measuredBox):Xl(c,s,t.layoutBox);const d=!CP(l);let u=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:g}=f;if(m&&g){const j=Pt();Jl(j,t.layoutBox,m.layoutBox);const v=Pt();Jl(v,s,g.layoutBox),TP(j,v)||(u=!0),f.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=j,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function u7(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function f7(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function h7(e){e.clearSnapshot()}function i_(e){e.clearMeasurements()}function o_(e){e.isLayoutDirty=!1}function m7(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function l_(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function p7(e){e.resolveTargetDelta()}function g7(e){e.calcProjection()}function x7(e){e.resetSkewAndRotation()}function v7(e){e.removeLeadSnapshot()}function c_(e,t,n){e.translate=jt(t.translate,0,n),e.scale=jt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function d_(e,t,n,s){e.min=jt(t.min,n.min,s),e.max=jt(t.max,n.max,s)}function y7(e,t,n,s){d_(e.x,t.x,n.x,s),d_(e.y,t.y,n.y,s)}function w7(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const j7={duration:.45,ease:[.4,0,.1,1]},u_=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),f_=u_("applewebkit/")&&!u_("chrome/")?Math.round:ws;function h_(e){e.min=f_(e.min),e.max=f_(e.max)}function _7(e){h_(e.x),h_(e.y)}function RP(e,t,n){return e==="position"||e==="preserve-aspect"&&!TW(r_(t),r_(n),.2)}function b7(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const S7=PP({attachResizeListener:(e,t)=>Mc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Bm={current:void 0},AP=PP({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Bm.current){const e=new S7({});e.mount(window),e.setOptions({layoutScroll:!0}),Bm.current=e}return Bm.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),N7={pan:{Feature:zW},drag:{Feature:VW,ProjectionNode:AP,MeasureLayout:SP}};function m_(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,i=s[a];i&&vt.postRender(()=>i(t,id(t)))}class E7 extends Ma{mount(){const{current:t}=this.node;t&&(this.unmount=Xz(t,(n,s)=>(m_(this.node,s,"Start"),a=>m_(this.node,a,"End"))))}unmount(){}}class C7 extends Ma{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=sd(Mc(this.node.current,"focus",()=>this.onFocus()),Mc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function p_(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),i=s[a];i&&vt.postRender(()=>i(t,id(t)))}class T7 extends Ma{mount(){const{current:t}=this.node;t&&(this.unmount=t8(t,(n,s)=>(p_(this.node,s,"Start"),(a,{success:i})=>p_(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Bg=new WeakMap,Um=new WeakMap,k7=e=>{const t=Bg.get(e.target);t&&t(e)},P7=e=>{e.forEach(k7)};function R7({root:e,...t}){const n=e||document;Um.has(n)||Um.set(n,{});const s=Um.get(n),a=JSON.stringify(t);return s[a]||(s[a]=new IntersectionObserver(P7,{root:e,...t})),s[a]}function A7(e,t,n){const s=R7(t);return Bg.set(e,n),s.observe(e),()=>{Bg.delete(e),s.unobserve(e)}}const $7={some:0,all:1};class D7 extends Ma{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:$7[a]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),m=d?u:f;m&&m(c)};return A7(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(M7(t,n))&&this.startObserver()}unmount(){}}function M7({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const L7={inView:{Feature:D7},tap:{Feature:T7},focus:{Feature:C7},hover:{Feature:E7}},I7={layout:{ProjectionNode:AP,MeasureLayout:SP}},O7={..._W,...L7,...N7,...I7},Wd=I8(O7,Q8),F7=()=>{const e=Xo();return h.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:r.jsxs(Wd.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center space-y-6 p-8",children:[r.jsx(Wd.div,{initial:{scale:.5},animate:{scale:1},transition:{duration:.5,delay:.2},children:r.jsx("h1",{className:"text-8xl font-bold text-primary",children:"404"})}),r.jsxs(Wd.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},className:"space-y-4",children:[r.jsx("h2",{className:"text-2xl font-semibold tracking-tight",children:"Page Not Found"}),r.jsx("p",{className:"text-muted-foreground",children:"Sorry, the page you are looking for does not exist or has been removed."})]}),r.jsx(Wd.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.6},children:r.jsx(Z,{asChild:!0,variant:"default",size:"lg",children:r.jsx("a",{href:"/",children:"Back to Home"})})})]})})};class Is{static convertEzSiteOptions(t){const n={};return t.PageNo&&t.PageSize&&(n.offset=(t.PageNo-1)*t.PageSize,n.limit=t.PageSize),t.OrderByField&&(n.orderBy={column:t.OrderByField,ascending:t.IsAsc!==!1}),t.Filters&&Array.isArray(t.Filters)&&(n.filters=t.Filters.map(s=>({column:s.name,operator:Is.convertEzSiteOperator(s.op),value:s.value}))),n}static convertEzSiteOperator(t){return{Equal:"eq",NotEqual:"neq",GreaterThan:"gt",GreaterThanOrEqual:"gte",LessThan:"lt",LessThanOrEqual:"lte",Contains:"ilike",In:"in",IsNull:"is",IsNotNull:"not"}[t]||"eq"}static getTableName(t){return{12818:"seasons",12820:"conferences",12852:"teams",12853:"team_conference_junction",13329:"matchups",13768:"team_records",12870:"players",draft_results:"draft_results",transactions:"transactions",playoff_bracket:"playoff_bracket",matchup_admin_override:"matchup_admin_override",team_rosters:"team_rosters"}[t.toString()]||t.toString()}static async tablePage(t,n={}){const s=Is.getTableName(t),a=Is.convertEzSiteOptions(n),i=await ae.queryTable(s,a);return{data:{List:i.data,TotalCount:i.count||0},error:i.error}}static async tableCreate(t,n){const s=Is.getTableName(t),a={...n};delete a.ID;const i=await ae.createRecord(s,a);return{data:i.data,error:i.error}}static async tableUpdate(t,n){const s=Is.getTableName(t);if(!n.ID&&!n.id)return{error:"Missing ID for update operation"};const a=n.ID||n.id,i={...n};delete i.ID,delete i.id;const o=await ae.updateRecord(s,a,i);return{data:o.data,error:o.error}}static async tableDelete(t,n){const s=Is.getTableName(t);if(!n.ID&&!n.id)return{error:"Missing ID for delete operation"};const a=n.ID||n.id;return{data:null,error:(await ae.deleteRecord(s,a)).error}}}const B7={tablePage:Is.tablePage,tableCreate:Is.tableCreate,tableUpdate:Is.tableUpdate,tableDelete:Is.tableDelete},U7=new _I,V7=()=>(h.useEffect(()=>{window.ezsite||(window.ezsite={apis:B7});const e=document.createElement("script");return e.src="https://studio.pickaxe.co/api/embed/bundle.js",e.defer=!0,document.head.appendChild(e),()=>{const t=document.querySelector('script[src="https://studio.pickaxe.co/api/embed/bundle.js"]');t&&t.remove()}},[]),r.jsx(SI,{client:U7,children:r.jsx(JL,{children:r.jsx(zF,{children:r.jsxs(bO,{children:[r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx(P5,{}),r.jsx("main",{className:"container mx-auto px-4 py-6",children:r.jsxs(gO,{children:[r.jsx(On,{path:"/",element:r.jsx(M5,{})}),r.jsx(On,{path:"/standings",element:r.jsx(O5,{})}),r.jsx(On,{path:"/matchups",element:r.jsx(K5,{})}),r.jsx(On,{path:"/teams",element:r.jsx(c6,{})}),r.jsx(On,{path:"/teams/:teamId",element:r.jsx(T6,{})}),r.jsx(On,{path:"/players",element:r.jsx(P6,{})}),r.jsx(On,{path:"/players/:playerId",element:r.jsx(O6,{})}),r.jsx(On,{path:"/transactions",element:r.jsx(F6,{})}),r.jsx(On,{path:"/draft",element:r.jsx(B6,{})}),r.jsx(On,{path:"/rules",element:r.jsx(G6,{})}),r.jsx(On,{path:"/conferences",element:r.jsx(Q6,{})}),r.jsx(On,{path:"/admin",element:r.jsx(aV,{})}),r.jsx(On,{path:"*",element:r.jsx(F7,{})})]})})]}),r.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:r.jsx("div",{id:"deployment-f277b3b5-018e-4ef6-a37c-d2fd421a7ba5"})}),r.jsx(fM,{})]})})})}));IS(document.getElementById("root")).render(r.jsx(V7,{}));
