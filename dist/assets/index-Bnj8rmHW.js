var gP=Object.defineProperty;var oy=e=>{throw TypeError(e)};var xP=(e,t,n)=>t in e?gP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var On=(e,t,n)=>xP(e,typeof t!="symbol"?t+"":t,n),xf=(e,t,n)=>t.has(e)||oy("Cannot "+n);var J=(e,t,n)=>(xf(e,t,"read from private field"),n?n.call(e):t.get(e)),ze=(e,t,n)=>t.has(e)?oy("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),_e=(e,t,n,s)=>(xf(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),mn=(e,t,n)=>(xf(e,t,"access private method"),n);var ad=(e,t,n,s)=>({set _(a){_e(e,t,a,n)},get _(){return J(e,t,s)}});function vP(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(s,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var _s=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function yP(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function s(){return this instanceof s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var a=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:function(){return e[s]}})}),n}var vb={exports:{}},lh={},yb={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dc=Symbol.for("react.element"),wP=Symbol.for("react.portal"),jP=Symbol.for("react.fragment"),bP=Symbol.for("react.strict_mode"),_P=Symbol.for("react.profiler"),SP=Symbol.for("react.provider"),NP=Symbol.for("react.context"),CP=Symbol.for("react.forward_ref"),EP=Symbol.for("react.suspense"),TP=Symbol.for("react.memo"),kP=Symbol.for("react.lazy"),ly=Symbol.iterator;function PP(e){return e===null||typeof e!="object"?null:(e=ly&&e[ly]||e["@@iterator"],typeof e=="function"?e:null)}var wb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jb=Object.assign,bb={};function Oo(e,t,n){this.props=e,this.context=t,this.refs=bb,this.updater=n||wb}Oo.prototype.isReactComponent={};Oo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Oo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function _b(){}_b.prototype=Oo.prototype;function Pg(e,t,n){this.props=e,this.context=t,this.refs=bb,this.updater=n||wb}var Rg=Pg.prototype=new _b;Rg.constructor=Pg;jb(Rg,Oo.prototype);Rg.isPureReactComponent=!0;var cy=Array.isArray,Sb=Object.prototype.hasOwnProperty,Ag={current:null},Nb={key:!0,ref:!0,__self:!0,__source:!0};function Cb(e,t,n){var s,a={},i=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Sb.call(t,s)&&!Nb.hasOwnProperty(s)&&(a[s]=t[s]);var l=arguments.length-2;if(l===1)a.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)a[s]===void 0&&(a[s]=l[s]);return{$$typeof:Dc,type:e,key:i,ref:o,props:a,_owner:Ag.current}}function RP(e,t){return{$$typeof:Dc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Dg(e){return typeof e=="object"&&e!==null&&e.$$typeof===Dc}function AP(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var dy=/\/+/g;function vf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?AP(""+e.key):t.toString(36)}function Bd(e,t,n,s,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Dc:case wP:o=!0}}if(o)return o=e,a=a(o),e=s===""?"."+vf(o,0):s,cy(a)?(n="",e!=null&&(n=e.replace(dy,"$&/")+"/"),Bd(a,t,n,"",function(d){return d})):a!=null&&(Dg(a)&&(a=RP(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(dy,"$&/")+"/")+e)),t.push(a)),1;if(o=0,s=s===""?".":s+":",cy(e))for(var l=0;l<e.length;l++){i=e[l];var c=s+vf(i,l);o+=Bd(i,t,n,c,a)}else if(c=PP(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=s+vf(i,l++),o+=Bd(i,t,n,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function id(e,t,n){if(e==null)return e;var s=[],a=0;return Bd(e,s,"","",function(i){return t.call(n,i,a++)}),s}function DP(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Dn={current:null},zd={transition:null},$P={ReactCurrentDispatcher:Dn,ReactCurrentBatchConfig:zd,ReactCurrentOwner:Ag};function Eb(){throw Error("act(...) is not supported in production builds of React.")}Ae.Children={map:id,forEach:function(e,t,n){id(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return id(e,function(){t++}),t},toArray:function(e){return id(e,function(t){return t})||[]},only:function(e){if(!Dg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ae.Component=Oo;Ae.Fragment=jP;Ae.Profiler=_P;Ae.PureComponent=Pg;Ae.StrictMode=bP;Ae.Suspense=EP;Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$P;Ae.act=Eb;Ae.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=jb({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Ag.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Sb.call(t,c)&&!Nb.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:Dc,type:e.type,key:a,ref:i,props:s,_owner:o}};Ae.createContext=function(e){return e={$$typeof:NP,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:SP,_context:e},e.Consumer=e};Ae.createElement=Cb;Ae.createFactory=function(e){var t=Cb.bind(null,e);return t.type=e,t};Ae.createRef=function(){return{current:null}};Ae.forwardRef=function(e){return{$$typeof:CP,render:e}};Ae.isValidElement=Dg;Ae.lazy=function(e){return{$$typeof:kP,_payload:{_status:-1,_result:e},_init:DP}};Ae.memo=function(e,t){return{$$typeof:TP,type:e,compare:t===void 0?null:t}};Ae.startTransition=function(e){var t=zd.transition;zd.transition={};try{e()}finally{zd.transition=t}};Ae.unstable_act=Eb;Ae.useCallback=function(e,t){return Dn.current.useCallback(e,t)};Ae.useContext=function(e){return Dn.current.useContext(e)};Ae.useDebugValue=function(){};Ae.useDeferredValue=function(e){return Dn.current.useDeferredValue(e)};Ae.useEffect=function(e,t){return Dn.current.useEffect(e,t)};Ae.useId=function(){return Dn.current.useId()};Ae.useImperativeHandle=function(e,t,n){return Dn.current.useImperativeHandle(e,t,n)};Ae.useInsertionEffect=function(e,t){return Dn.current.useInsertionEffect(e,t)};Ae.useLayoutEffect=function(e,t){return Dn.current.useLayoutEffect(e,t)};Ae.useMemo=function(e,t){return Dn.current.useMemo(e,t)};Ae.useReducer=function(e,t,n){return Dn.current.useReducer(e,t,n)};Ae.useRef=function(e){return Dn.current.useRef(e)};Ae.useState=function(e){return Dn.current.useState(e)};Ae.useSyncExternalStore=function(e,t,n){return Dn.current.useSyncExternalStore(e,t,n)};Ae.useTransition=function(){return Dn.current.useTransition()};Ae.version="18.3.1";yb.exports=Ae;var m=yb.exports;const $e=xb(m),$g=vP({__proto__:null,default:$e},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IP=m,MP=Symbol.for("react.element"),LP=Symbol.for("react.fragment"),OP=Object.prototype.hasOwnProperty,FP=IP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,UP={key:!0,ref:!0,__self:!0,__source:!0};function Tb(e,t,n){var s,a={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)OP.call(t,s)&&!UP.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:MP,type:e,key:i,ref:o,props:a,_owner:FP.current}}lh.Fragment=LP;lh.jsx=Tb;lh.jsxs=Tb;vb.exports=lh;var r=vb.exports,kb={exports:{}},ss={},Pb={exports:{}},Rb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,S){var T=D.length;D.push(S);e:for(;0<T;){var P=T-1>>>1,F=D[P];if(0<a(F,S))D[P]=S,D[T]=F,T=P;else break e}}function n(D){return D.length===0?null:D[0]}function s(D){if(D.length===0)return null;var S=D[0],T=D.pop();if(T!==S){D[0]=T;e:for(var P=0,F=D.length,I=F>>>1;P<I;){var G=2*(P+1)-1,le=D[G],X=G+1,W=D[X];if(0>a(le,T))X<F&&0>a(W,le)?(D[P]=W,D[X]=T,P=X):(D[P]=le,D[G]=T,P=G);else if(X<F&&0>a(W,T))D[P]=W,D[X]=T,P=X;else break e}}return S}function a(D,S){var T=D.sortIndex-S.sortIndex;return T!==0?T:D.id-S.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,f=3,g=!1,j=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(D){for(var S=n(d);S!==null;){if(S.callback===null)s(d);else if(S.startTime<=D)s(d),S.sortIndex=S.expirationTime,t(c,S);else break;S=n(d)}}function b(D){if(v=!1,y(D),!j)if(n(c)!==null)j=!0,L(_);else{var S=n(d);S!==null&&U(b,S.startTime-D)}}function _(D,S){j=!1,v&&(v=!1,p(N),N=-1),g=!0;var T=f;try{for(y(S),h=n(c);h!==null&&(!(h.expirationTime>S)||D&&!A());){var P=h.callback;if(typeof P=="function"){h.callback=null,f=h.priorityLevel;var F=P(h.expirationTime<=S);S=e.unstable_now(),typeof F=="function"?h.callback=F:h===n(c)&&s(c),y(S)}else s(c);h=n(c)}if(h!==null)var I=!0;else{var G=n(d);G!==null&&U(b,G.startTime-S),I=!1}return I}finally{h=null,f=T,g=!1}}var E=!1,C=null,N=-1,k=5,R=-1;function A(){return!(e.unstable_now()-R<k)}function $(){if(C!==null){var D=e.unstable_now();R=D;var S=!0;try{S=C(!0,D)}finally{S?M():(E=!1,C=null)}}else E=!1}var M;if(typeof x=="function")M=function(){x($)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,B=V.port2;V.port1.onmessage=$,M=function(){B.postMessage(null)}}else M=function(){w($,0)};function L(D){C=D,E||(E=!0,M())}function U(D,S){N=w(function(){D(e.unstable_now())},S)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){j||g||(j=!0,L(_))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(D){switch(f){case 1:case 2:case 3:var S=3;break;default:S=f}var T=f;f=S;try{return D()}finally{f=T}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,S){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var T=f;f=D;try{return S()}finally{f=T}},e.unstable_scheduleCallback=function(D,S,T){var P=e.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?P+T:P):T=P,D){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=T+F,D={id:u++,callback:S,priorityLevel:D,startTime:T,expirationTime:F,sortIndex:-1},T>P?(D.sortIndex=T,t(d,D),n(c)===null&&D===n(d)&&(v?(p(N),N=-1):v=!0,U(b,T-P))):(D.sortIndex=F,t(c,D),j||g||(j=!0,L(_))),D},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(D){var S=f;return function(){var T=f;f=S;try{return D.apply(this,arguments)}finally{f=T}}}})(Rb);Pb.exports=Rb;var BP=Pb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zP=m,ts=BP;function re(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ab=new Set,Gl={};function bi(e,t){So(e,t),So(e+"Capture",t)}function So(e,t){for(Gl[e]=t,e=0;e<t.length;e++)Ab.add(t[e])}var Ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$m=Object.prototype.hasOwnProperty,VP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,uy={},hy={};function WP(e){return $m.call(hy,e)?!0:$m.call(uy,e)?!1:VP.test(e)?hy[e]=!0:(uy[e]=!0,!1)}function HP(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qP(e,t,n,s){if(t===null||typeof t>"u"||HP(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function $n(e,t,n,s,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var hn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){hn[e]=new $n(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];hn[t]=new $n(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){hn[e]=new $n(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){hn[e]=new $n(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){hn[e]=new $n(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){hn[e]=new $n(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){hn[e]=new $n(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){hn[e]=new $n(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){hn[e]=new $n(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ig=/[\-:]([a-z])/g;function Mg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ig,Mg);hn[t]=new $n(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ig,Mg);hn[t]=new $n(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ig,Mg);hn[t]=new $n(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){hn[e]=new $n(e,1,!1,e.toLowerCase(),null,!1,!1)});hn.xlinkHref=new $n("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){hn[e]=new $n(e,1,!1,e.toLowerCase(),null,!0,!0)});function Lg(e,t,n,s){var a=hn.hasOwnProperty(t)?hn[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(qP(t,n,a,s)&&(n=null),s||a===null?WP(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,s=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var Br=zP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,od=Symbol.for("react.element"),zi=Symbol.for("react.portal"),Vi=Symbol.for("react.fragment"),Og=Symbol.for("react.strict_mode"),Im=Symbol.for("react.profiler"),Db=Symbol.for("react.provider"),$b=Symbol.for("react.context"),Fg=Symbol.for("react.forward_ref"),Mm=Symbol.for("react.suspense"),Lm=Symbol.for("react.suspense_list"),Ug=Symbol.for("react.memo"),Xr=Symbol.for("react.lazy"),Ib=Symbol.for("react.offscreen"),fy=Symbol.iterator;function al(e){return e===null||typeof e!="object"?null:(e=fy&&e[fy]||e["@@iterator"],typeof e=="function"?e:null)}var yt=Object.assign,yf;function vl(e){if(yf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);yf=t&&t[1]||""}return`
`+yf+e}var wf=!1;function jf(e,t){if(!e||wf)return"";wf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var s=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){s=d}e.call(t.prototype)}else{try{throw Error()}catch(d){s=d}e()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=s.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{wf=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?vl(e):""}function KP(e){switch(e.tag){case 5:return vl(e.type);case 16:return vl("Lazy");case 13:return vl("Suspense");case 19:return vl("SuspenseList");case 0:case 2:case 15:return e=jf(e.type,!1),e;case 11:return e=jf(e.type.render,!1),e;case 1:return e=jf(e.type,!0),e;default:return""}}function Om(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Vi:return"Fragment";case zi:return"Portal";case Im:return"Profiler";case Og:return"StrictMode";case Mm:return"Suspense";case Lm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $b:return(e.displayName||"Context")+".Consumer";case Db:return(e._context.displayName||"Context")+".Provider";case Fg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ug:return t=e.displayName||null,t!==null?t:Om(e.type)||"Memo";case Xr:t=e._payload,e=e._init;try{return Om(e(t))}catch{}}return null}function GP(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Om(t);case 8:return t===Og?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Sa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Mb(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function QP(e){var t=Mb(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ld(e){e._valueTracker||(e._valueTracker=QP(e))}function Lb(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=Mb(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function du(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Fm(e,t){var n=t.checked;return yt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function my(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=Sa(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ob(e,t){t=t.checked,t!=null&&Lg(e,"checked",t,!1)}function Um(e,t){Ob(e,t);var n=Sa(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Bm(e,t.type,n):t.hasOwnProperty("defaultValue")&&Bm(e,t.type,Sa(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function py(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Bm(e,t,n){(t!=="number"||du(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var yl=Array.isArray;function ao(e,t,n,s){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Sa(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function zm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(re(91));return yt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function gy(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(re(92));if(yl(n)){if(1<n.length)throw Error(re(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Sa(n)}}function Fb(e,t){var n=Sa(t.value),s=Sa(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function xy(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ub(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ub(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var cd,Bb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(cd=cd||document.createElement("div"),cd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=cd.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ql(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Nl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},YP=["Webkit","ms","Moz","O"];Object.keys(Nl).forEach(function(e){YP.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Nl[t]=Nl[e]})});function zb(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Nl.hasOwnProperty(e)&&Nl[e]?(""+t).trim():t+"px"}function Vb(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,a=zb(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,a):e[n]=a}}var JP=yt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wm(e,t){if(t){if(JP[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(re(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(re(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(re(61))}if(t.style!=null&&typeof t.style!="object")throw Error(re(62))}}function Hm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qm=null;function Bg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Km=null,io=null,oo=null;function vy(e){if(e=Mc(e)){if(typeof Km!="function")throw Error(re(280));var t=e.stateNode;t&&(t=fh(t),Km(e.stateNode,e.type,t))}}function Wb(e){io?oo?oo.push(e):oo=[e]:io=e}function Hb(){if(io){var e=io,t=oo;if(oo=io=null,vy(e),t)for(e=0;e<t.length;e++)vy(t[e])}}function qb(e,t){return e(t)}function Kb(){}var bf=!1;function Gb(e,t,n){if(bf)return e(t,n);bf=!0;try{return qb(e,t,n)}finally{bf=!1,(io!==null||oo!==null)&&(Kb(),Hb())}}function Yl(e,t){var n=e.stateNode;if(n===null)return null;var s=fh(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(re(231,t,typeof n));return n}var Gm=!1;if(Ar)try{var il={};Object.defineProperty(il,"passive",{get:function(){Gm=!0}}),window.addEventListener("test",il,il),window.removeEventListener("test",il,il)}catch{Gm=!1}function XP(e,t,n,s,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(u){this.onError(u)}}var Cl=!1,uu=null,hu=!1,Qm=null,ZP={onError:function(e){Cl=!0,uu=e}};function e2(e,t,n,s,a,i,o,l,c){Cl=!1,uu=null,XP.apply(ZP,arguments)}function t2(e,t,n,s,a,i,o,l,c){if(e2.apply(this,arguments),Cl){if(Cl){var d=uu;Cl=!1,uu=null}else throw Error(re(198));hu||(hu=!0,Qm=d)}}function _i(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Qb(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function yy(e){if(_i(e)!==e)throw Error(re(188))}function n2(e){var t=e.alternate;if(!t){if(t=_i(e),t===null)throw Error(re(188));return t!==e?null:e}for(var n=e,s=t;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(s=a.return,s!==null){n=s;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return yy(a),e;if(i===s)return yy(a),t;i=i.sibling}throw Error(re(188))}if(n.return!==s.return)n=a,s=i;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,s=i;break}if(l===s){o=!0,s=a,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,s=a;break}if(l===s){o=!0,s=i,n=a;break}l=l.sibling}if(!o)throw Error(re(189))}}if(n.alternate!==s)throw Error(re(190))}if(n.tag!==3)throw Error(re(188));return n.stateNode.current===n?e:t}function Yb(e){return e=n2(e),e!==null?Jb(e):null}function Jb(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Jb(e);if(t!==null)return t;e=e.sibling}return null}var Xb=ts.unstable_scheduleCallback,wy=ts.unstable_cancelCallback,s2=ts.unstable_shouldYield,r2=ts.unstable_requestPaint,Pt=ts.unstable_now,a2=ts.unstable_getCurrentPriorityLevel,zg=ts.unstable_ImmediatePriority,Zb=ts.unstable_UserBlockingPriority,fu=ts.unstable_NormalPriority,i2=ts.unstable_LowPriority,e_=ts.unstable_IdlePriority,ch=null,cr=null;function o2(e){if(cr&&typeof cr.onCommitFiberRoot=="function")try{cr.onCommitFiberRoot(ch,e,void 0,(e.current.flags&128)===128)}catch{}}var Bs=Math.clz32?Math.clz32:d2,l2=Math.log,c2=Math.LN2;function d2(e){return e>>>=0,e===0?32:31-(l2(e)/c2|0)|0}var dd=64,ud=4194304;function wl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mu(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,a=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~a;l!==0?s=wl(l):(i&=o,i!==0&&(s=wl(i)))}else o=n&~a,o!==0?s=wl(o):i!==0&&(s=wl(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-Bs(t),a=1<<n,s|=e[n],t&=~a;return s}function u2(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function h2(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Bs(i),l=1<<o,c=a[o];c===-1?(!(l&n)||l&s)&&(a[o]=u2(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Ym(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function t_(){var e=dd;return dd<<=1,!(dd&4194240)&&(dd=64),e}function _f(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function $c(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Bs(t),e[t]=n}function f2(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-Bs(n),i=1<<a;t[a]=0,s[a]=-1,e[a]=-1,n&=~i}}function Vg(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-Bs(n),a=1<<s;a&t|e[s]&t&&(e[s]|=t),n&=~a}}var Je=0;function n_(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var s_,Wg,r_,a_,i_,Jm=!1,hd=[],ma=null,pa=null,ga=null,Jl=new Map,Xl=new Map,na=[],m2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jy(e,t){switch(e){case"focusin":case"focusout":ma=null;break;case"dragenter":case"dragleave":pa=null;break;case"mouseover":case"mouseout":ga=null;break;case"pointerover":case"pointerout":Jl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xl.delete(t.pointerId)}}function ol(e,t,n,s,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Mc(t),t!==null&&Wg(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function p2(e,t,n,s,a){switch(t){case"focusin":return ma=ol(ma,e,t,n,s,a),!0;case"dragenter":return pa=ol(pa,e,t,n,s,a),!0;case"mouseover":return ga=ol(ga,e,t,n,s,a),!0;case"pointerover":var i=a.pointerId;return Jl.set(i,ol(Jl.get(i)||null,e,t,n,s,a)),!0;case"gotpointercapture":return i=a.pointerId,Xl.set(i,ol(Xl.get(i)||null,e,t,n,s,a)),!0}return!1}function o_(e){var t=Xa(e.target);if(t!==null){var n=_i(t);if(n!==null){if(t=n.tag,t===13){if(t=Qb(n),t!==null){e.blockedOn=t,i_(e.priority,function(){r_(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);qm=s,n.target.dispatchEvent(s),qm=null}else return t=Mc(n),t!==null&&Wg(t),e.blockedOn=n,!1;t.shift()}return!0}function by(e,t,n){Vd(e)&&n.delete(t)}function g2(){Jm=!1,ma!==null&&Vd(ma)&&(ma=null),pa!==null&&Vd(pa)&&(pa=null),ga!==null&&Vd(ga)&&(ga=null),Jl.forEach(by),Xl.forEach(by)}function ll(e,t){e.blockedOn===t&&(e.blockedOn=null,Jm||(Jm=!0,ts.unstable_scheduleCallback(ts.unstable_NormalPriority,g2)))}function Zl(e){function t(a){return ll(a,e)}if(0<hd.length){ll(hd[0],e);for(var n=1;n<hd.length;n++){var s=hd[n];s.blockedOn===e&&(s.blockedOn=null)}}for(ma!==null&&ll(ma,e),pa!==null&&ll(pa,e),ga!==null&&ll(ga,e),Jl.forEach(t),Xl.forEach(t),n=0;n<na.length;n++)s=na[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<na.length&&(n=na[0],n.blockedOn===null);)o_(n),n.blockedOn===null&&na.shift()}var lo=Br.ReactCurrentBatchConfig,pu=!0;function x2(e,t,n,s){var a=Je,i=lo.transition;lo.transition=null;try{Je=1,Hg(e,t,n,s)}finally{Je=a,lo.transition=i}}function v2(e,t,n,s){var a=Je,i=lo.transition;lo.transition=null;try{Je=4,Hg(e,t,n,s)}finally{Je=a,lo.transition=i}}function Hg(e,t,n,s){if(pu){var a=Xm(e,t,n,s);if(a===null)Df(e,t,s,gu,n),jy(e,s);else if(p2(a,e,t,n,s))s.stopPropagation();else if(jy(e,s),t&4&&-1<m2.indexOf(e)){for(;a!==null;){var i=Mc(a);if(i!==null&&s_(i),i=Xm(e,t,n,s),i===null&&Df(e,t,s,gu,n),i===a)break;a=i}a!==null&&s.stopPropagation()}else Df(e,t,s,null,n)}}var gu=null;function Xm(e,t,n,s){if(gu=null,e=Bg(s),e=Xa(e),e!==null)if(t=_i(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Qb(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return gu=e,null}function l_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(a2()){case zg:return 1;case Zb:return 4;case fu:case i2:return 16;case e_:return 536870912;default:return 16}default:return 16}}var da=null,qg=null,Wd=null;function c_(){if(Wd)return Wd;var e,t=qg,n=t.length,s,a="value"in da?da.value:da.textContent,i=a.length;for(e=0;e<n&&t[e]===a[e];e++);var o=n-e;for(s=1;s<=o&&t[n-s]===a[i-s];s++);return Wd=a.slice(e,1<s?1-s:void 0)}function Hd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function fd(){return!0}function _y(){return!1}function rs(e){function t(n,s,a,i,o){this._reactName=n,this._targetInst=a,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?fd:_y,this.isPropagationStopped=_y,this}return yt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=fd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=fd)},persist:function(){},isPersistent:fd}),t}var Fo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kg=rs(Fo),Ic=yt({},Fo,{view:0,detail:0}),y2=rs(Ic),Sf,Nf,cl,dh=yt({},Ic,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cl&&(cl&&e.type==="mousemove"?(Sf=e.screenX-cl.screenX,Nf=e.screenY-cl.screenY):Nf=Sf=0,cl=e),Sf)},movementY:function(e){return"movementY"in e?e.movementY:Nf}}),Sy=rs(dh),w2=yt({},dh,{dataTransfer:0}),j2=rs(w2),b2=yt({},Ic,{relatedTarget:0}),Cf=rs(b2),_2=yt({},Fo,{animationName:0,elapsedTime:0,pseudoElement:0}),S2=rs(_2),N2=yt({},Fo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),C2=rs(N2),E2=yt({},Fo,{data:0}),Ny=rs(E2),T2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},k2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},P2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function R2(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=P2[e])?!!t[e]:!1}function Gg(){return R2}var A2=yt({},Ic,{key:function(e){if(e.key){var t=T2[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Hd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?k2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gg,charCode:function(e){return e.type==="keypress"?Hd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),D2=rs(A2),$2=yt({},dh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cy=rs($2),I2=yt({},Ic,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gg}),M2=rs(I2),L2=yt({},Fo,{propertyName:0,elapsedTime:0,pseudoElement:0}),O2=rs(L2),F2=yt({},dh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),U2=rs(F2),B2=[9,13,27,32],Qg=Ar&&"CompositionEvent"in window,El=null;Ar&&"documentMode"in document&&(El=document.documentMode);var z2=Ar&&"TextEvent"in window&&!El,d_=Ar&&(!Qg||El&&8<El&&11>=El),Ey=" ",Ty=!1;function u_(e,t){switch(e){case"keyup":return B2.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function h_(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wi=!1;function V2(e,t){switch(e){case"compositionend":return h_(t);case"keypress":return t.which!==32?null:(Ty=!0,Ey);case"textInput":return e=t.data,e===Ey&&Ty?null:e;default:return null}}function W2(e,t){if(Wi)return e==="compositionend"||!Qg&&u_(e,t)?(e=c_(),Wd=qg=da=null,Wi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return d_&&t.locale!=="ko"?null:t.data;default:return null}}var H2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ky(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!H2[e.type]:t==="textarea"}function f_(e,t,n,s){Wb(s),t=xu(t,"onChange"),0<t.length&&(n=new Kg("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Tl=null,ec=null;function q2(e){S_(e,0)}function uh(e){var t=Ki(e);if(Lb(t))return e}function K2(e,t){if(e==="change")return t}var m_=!1;if(Ar){var Ef;if(Ar){var Tf="oninput"in document;if(!Tf){var Py=document.createElement("div");Py.setAttribute("oninput","return;"),Tf=typeof Py.oninput=="function"}Ef=Tf}else Ef=!1;m_=Ef&&(!document.documentMode||9<document.documentMode)}function Ry(){Tl&&(Tl.detachEvent("onpropertychange",p_),ec=Tl=null)}function p_(e){if(e.propertyName==="value"&&uh(ec)){var t=[];f_(t,ec,e,Bg(e)),Gb(q2,t)}}function G2(e,t,n){e==="focusin"?(Ry(),Tl=t,ec=n,Tl.attachEvent("onpropertychange",p_)):e==="focusout"&&Ry()}function Q2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return uh(ec)}function Y2(e,t){if(e==="click")return uh(t)}function J2(e,t){if(e==="input"||e==="change")return uh(t)}function X2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vs=typeof Object.is=="function"?Object.is:X2;function tc(e,t){if(Vs(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var a=n[s];if(!$m.call(t,a)||!Vs(e[a],t[a]))return!1}return!0}function Ay(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Dy(e,t){var n=Ay(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ay(n)}}function g_(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?g_(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function x_(){for(var e=window,t=du();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=du(e.document)}return t}function Yg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Z2(e){var t=x_(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&g_(n.ownerDocument.documentElement,n)){if(s!==null&&Yg(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(s.start,a);s=s.end===void 0?i:Math.min(s.end,a),!e.extend&&i>s&&(a=s,s=i,i=a),a=Dy(n,i);var o=Dy(n,s);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var eR=Ar&&"documentMode"in document&&11>=document.documentMode,Hi=null,Zm=null,kl=null,ep=!1;function $y(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ep||Hi==null||Hi!==du(s)||(s=Hi,"selectionStart"in s&&Yg(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),kl&&tc(kl,s)||(kl=s,s=xu(Zm,"onSelect"),0<s.length&&(t=new Kg("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Hi)))}function md(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var qi={animationend:md("Animation","AnimationEnd"),animationiteration:md("Animation","AnimationIteration"),animationstart:md("Animation","AnimationStart"),transitionend:md("Transition","TransitionEnd")},kf={},v_={};Ar&&(v_=document.createElement("div").style,"AnimationEvent"in window||(delete qi.animationend.animation,delete qi.animationiteration.animation,delete qi.animationstart.animation),"TransitionEvent"in window||delete qi.transitionend.transition);function hh(e){if(kf[e])return kf[e];if(!qi[e])return e;var t=qi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in v_)return kf[e]=t[n];return e}var y_=hh("animationend"),w_=hh("animationiteration"),j_=hh("animationstart"),b_=hh("transitionend"),__=new Map,Iy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ra(e,t){__.set(e,t),bi(t,[e])}for(var Pf=0;Pf<Iy.length;Pf++){var Rf=Iy[Pf],tR=Rf.toLowerCase(),nR=Rf[0].toUpperCase()+Rf.slice(1);Ra(tR,"on"+nR)}Ra(y_,"onAnimationEnd");Ra(w_,"onAnimationIteration");Ra(j_,"onAnimationStart");Ra("dblclick","onDoubleClick");Ra("focusin","onFocus");Ra("focusout","onBlur");Ra(b_,"onTransitionEnd");So("onMouseEnter",["mouseout","mouseover"]);So("onMouseLeave",["mouseout","mouseover"]);So("onPointerEnter",["pointerout","pointerover"]);So("onPointerLeave",["pointerout","pointerover"]);bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bi("onBeforeInput",["compositionend","keypress","textInput","paste"]);bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sR=new Set("cancel close invalid load scroll toggle".split(" ").concat(jl));function My(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,t2(s,t,void 0,e),e.currentTarget=null}function S_(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],a=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;My(a,l,d),i=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;My(a,l,d),i=c}}}if(hu)throw e=Qm,hu=!1,Qm=null,e}function ot(e,t){var n=t[ap];n===void 0&&(n=t[ap]=new Set);var s=e+"__bubble";n.has(s)||(N_(t,e,2,!1),n.add(s))}function Af(e,t,n){var s=0;t&&(s|=4),N_(n,e,s,t)}var pd="_reactListening"+Math.random().toString(36).slice(2);function nc(e){if(!e[pd]){e[pd]=!0,Ab.forEach(function(n){n!=="selectionchange"&&(sR.has(n)||Af(n,!1,e),Af(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[pd]||(t[pd]=!0,Af("selectionchange",!1,t))}}function N_(e,t,n,s){switch(l_(t)){case 1:var a=x2;break;case 4:a=v2;break;default:a=Hg}n=a.bind(null,t,n,e),a=void 0,!Gm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Df(e,t,n,s,a){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Xa(l),o===null)return;if(c=o.tag,c===5||c===6){s=i=o;continue e}l=l.parentNode}}s=s.return}Gb(function(){var d=i,u=Bg(n),h=[];e:{var f=__.get(e);if(f!==void 0){var g=Kg,j=e;switch(e){case"keypress":if(Hd(n)===0)break e;case"keydown":case"keyup":g=D2;break;case"focusin":j="focus",g=Cf;break;case"focusout":j="blur",g=Cf;break;case"beforeblur":case"afterblur":g=Cf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Sy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=j2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=M2;break;case y_:case w_:case j_:g=S2;break;case b_:g=O2;break;case"scroll":g=y2;break;case"wheel":g=U2;break;case"copy":case"cut":case"paste":g=C2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Cy}var v=(t&4)!==0,w=!v&&e==="scroll",p=v?f!==null?f+"Capture":null:f;v=[];for(var x=d,y;x!==null;){y=x;var b=y.stateNode;if(y.tag===5&&b!==null&&(y=b,p!==null&&(b=Yl(x,p),b!=null&&v.push(sc(x,b,y)))),w)break;x=x.return}0<v.length&&(f=new g(f,j,null,n,u),h.push({event:f,listeners:v}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",f&&n!==qm&&(j=n.relatedTarget||n.fromElement)&&(Xa(j)||j[Dr]))break e;if((g||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,g?(j=n.relatedTarget||n.toElement,g=d,j=j?Xa(j):null,j!==null&&(w=_i(j),j!==w||j.tag!==5&&j.tag!==6)&&(j=null)):(g=null,j=d),g!==j)){if(v=Sy,b="onMouseLeave",p="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(v=Cy,b="onPointerLeave",p="onPointerEnter",x="pointer"),w=g==null?f:Ki(g),y=j==null?f:Ki(j),f=new v(b,x+"leave",g,n,u),f.target=w,f.relatedTarget=y,b=null,Xa(u)===d&&(v=new v(p,x+"enter",j,n,u),v.target=y,v.relatedTarget=w,b=v),w=b,g&&j)t:{for(v=g,p=j,x=0,y=v;y;y=ki(y))x++;for(y=0,b=p;b;b=ki(b))y++;for(;0<x-y;)v=ki(v),x--;for(;0<y-x;)p=ki(p),y--;for(;x--;){if(v===p||p!==null&&v===p.alternate)break t;v=ki(v),p=ki(p)}v=null}else v=null;g!==null&&Ly(h,f,g,v,!1),j!==null&&w!==null&&Ly(h,w,j,v,!0)}}e:{if(f=d?Ki(d):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var _=K2;else if(ky(f))if(m_)_=J2;else{_=Q2;var E=G2}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=Y2);if(_&&(_=_(e,d))){f_(h,_,n,u);break e}E&&E(e,f,d),e==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&Bm(f,"number",f.value)}switch(E=d?Ki(d):window,e){case"focusin":(ky(E)||E.contentEditable==="true")&&(Hi=E,Zm=d,kl=null);break;case"focusout":kl=Zm=Hi=null;break;case"mousedown":ep=!0;break;case"contextmenu":case"mouseup":case"dragend":ep=!1,$y(h,n,u);break;case"selectionchange":if(eR)break;case"keydown":case"keyup":$y(h,n,u)}var C;if(Qg)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Wi?u_(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(d_&&n.locale!=="ko"&&(Wi||N!=="onCompositionStart"?N==="onCompositionEnd"&&Wi&&(C=c_()):(da=u,qg="value"in da?da.value:da.textContent,Wi=!0)),E=xu(d,N),0<E.length&&(N=new Ny(N,e,null,n,u),h.push({event:N,listeners:E}),C?N.data=C:(C=h_(n),C!==null&&(N.data=C)))),(C=z2?V2(e,n):W2(e,n))&&(d=xu(d,"onBeforeInput"),0<d.length&&(u=new Ny("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:d}),u.data=C))}S_(h,t)})}function sc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function xu(e,t){for(var n=t+"Capture",s=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Yl(e,n),i!=null&&s.unshift(sc(e,i,a)),i=Yl(e,t),i!=null&&s.push(sc(e,i,a))),e=e.return}return s}function ki(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ly(e,t,n,s,a){for(var i=t._reactName,o=[];n!==null&&n!==s;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&d!==null&&(l=d,a?(c=Yl(n,i),c!=null&&o.unshift(sc(n,c,l))):a||(c=Yl(n,i),c!=null&&o.push(sc(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var rR=/\r\n?/g,aR=/\u0000|\uFFFD/g;function Oy(e){return(typeof e=="string"?e:""+e).replace(rR,`
`).replace(aR,"")}function gd(e,t,n){if(t=Oy(t),Oy(e)!==t&&n)throw Error(re(425))}function vu(){}var tp=null,np=null;function sp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var rp=typeof setTimeout=="function"?setTimeout:void 0,iR=typeof clearTimeout=="function"?clearTimeout:void 0,Fy=typeof Promise=="function"?Promise:void 0,oR=typeof queueMicrotask=="function"?queueMicrotask:typeof Fy<"u"?function(e){return Fy.resolve(null).then(e).catch(lR)}:rp;function lR(e){setTimeout(function(){throw e})}function $f(e,t){var n=t,s=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(s===0){e.removeChild(a),Zl(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=a}while(n);Zl(t)}function xa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Uy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Uo=Math.random().toString(36).slice(2),ir="__reactFiber$"+Uo,rc="__reactProps$"+Uo,Dr="__reactContainer$"+Uo,ap="__reactEvents$"+Uo,cR="__reactListeners$"+Uo,dR="__reactHandles$"+Uo;function Xa(e){var t=e[ir];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Dr]||n[ir]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Uy(e);e!==null;){if(n=e[ir])return n;e=Uy(e)}return t}e=n,n=e.parentNode}return null}function Mc(e){return e=e[ir]||e[Dr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ki(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(re(33))}function fh(e){return e[rc]||null}var ip=[],Gi=-1;function Aa(e){return{current:e}}function lt(e){0>Gi||(e.current=ip[Gi],ip[Gi]=null,Gi--)}function st(e,t){Gi++,ip[Gi]=e.current,e.current=t}var Na={},jn=Aa(Na),Hn=Aa(!1),fi=Na;function No(e,t){var n=e.type.contextTypes;if(!n)return Na;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function qn(e){return e=e.childContextTypes,e!=null}function yu(){lt(Hn),lt(jn)}function By(e,t,n){if(jn.current!==Na)throw Error(re(168));st(jn,t),st(Hn,n)}function C_(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(re(108,GP(e)||"Unknown",a));return yt({},n,s)}function wu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Na,fi=jn.current,st(jn,e),st(Hn,Hn.current),!0}function zy(e,t,n){var s=e.stateNode;if(!s)throw Error(re(169));n?(e=C_(e,t,fi),s.__reactInternalMemoizedMergedChildContext=e,lt(Hn),lt(jn),st(jn,e)):lt(Hn),st(Hn,n)}var Nr=null,mh=!1,If=!1;function E_(e){Nr===null?Nr=[e]:Nr.push(e)}function uR(e){mh=!0,E_(e)}function Da(){if(!If&&Nr!==null){If=!0;var e=0,t=Je;try{var n=Nr;for(Je=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Nr=null,mh=!1}catch(a){throw Nr!==null&&(Nr=Nr.slice(e+1)),Xb(zg,Da),a}finally{Je=t,If=!1}}return null}var Qi=[],Yi=0,ju=null,bu=0,xs=[],vs=0,mi=null,Tr=1,kr="";function Ka(e,t){Qi[Yi++]=bu,Qi[Yi++]=ju,ju=e,bu=t}function T_(e,t,n){xs[vs++]=Tr,xs[vs++]=kr,xs[vs++]=mi,mi=e;var s=Tr;e=kr;var a=32-Bs(s)-1;s&=~(1<<a),n+=1;var i=32-Bs(t)+a;if(30<i){var o=a-a%5;i=(s&(1<<o)-1).toString(32),s>>=o,a-=o,Tr=1<<32-Bs(t)+a|n<<a|s,kr=i+e}else Tr=1<<i|n<<a|s,kr=e}function Jg(e){e.return!==null&&(Ka(e,1),T_(e,1,0))}function Xg(e){for(;e===ju;)ju=Qi[--Yi],Qi[Yi]=null,bu=Qi[--Yi],Qi[Yi]=null;for(;e===mi;)mi=xs[--vs],xs[vs]=null,kr=xs[--vs],xs[vs]=null,Tr=xs[--vs],xs[vs]=null}var Xn=null,Jn=null,dt=!1,Os=null;function k_(e,t){var n=ys(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Vy(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Xn=e,Jn=xa(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Xn=e,Jn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=mi!==null?{id:Tr,overflow:kr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ys(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Xn=e,Jn=null,!0):!1;default:return!1}}function op(e){return(e.mode&1)!==0&&(e.flags&128)===0}function lp(e){if(dt){var t=Jn;if(t){var n=t;if(!Vy(e,t)){if(op(e))throw Error(re(418));t=xa(n.nextSibling);var s=Xn;t&&Vy(e,t)?k_(s,n):(e.flags=e.flags&-4097|2,dt=!1,Xn=e)}}else{if(op(e))throw Error(re(418));e.flags=e.flags&-4097|2,dt=!1,Xn=e}}}function Wy(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Xn=e}function xd(e){if(e!==Xn)return!1;if(!dt)return Wy(e),dt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!sp(e.type,e.memoizedProps)),t&&(t=Jn)){if(op(e))throw P_(),Error(re(418));for(;t;)k_(e,t),t=xa(t.nextSibling)}if(Wy(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(re(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Jn=xa(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Jn=null}}else Jn=Xn?xa(e.stateNode.nextSibling):null;return!0}function P_(){for(var e=Jn;e;)e=xa(e.nextSibling)}function Co(){Jn=Xn=null,dt=!1}function Zg(e){Os===null?Os=[e]:Os.push(e)}var hR=Br.ReactCurrentBatchConfig;function dl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(re(309));var s=n.stateNode}if(!s)throw Error(re(147,e));var a=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(re(284));if(!n._owner)throw Error(re(290,e))}return e}function vd(e,t){throw e=Object.prototype.toString.call(t),Error(re(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Hy(e){var t=e._init;return t(e._payload)}function R_(e){function t(p,x){if(e){var y=p.deletions;y===null?(p.deletions=[x],p.flags|=16):y.push(x)}}function n(p,x){if(!e)return null;for(;x!==null;)t(p,x),x=x.sibling;return null}function s(p,x){for(p=new Map;x!==null;)x.key!==null?p.set(x.key,x):p.set(x.index,x),x=x.sibling;return p}function a(p,x){return p=ja(p,x),p.index=0,p.sibling=null,p}function i(p,x,y){return p.index=y,e?(y=p.alternate,y!==null?(y=y.index,y<x?(p.flags|=2,x):y):(p.flags|=2,x)):(p.flags|=1048576,x)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,x,y,b){return x===null||x.tag!==6?(x=zf(y,p.mode,b),x.return=p,x):(x=a(x,y),x.return=p,x)}function c(p,x,y,b){var _=y.type;return _===Vi?u(p,x,y.props.children,b,y.key):x!==null&&(x.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Xr&&Hy(_)===x.type)?(b=a(x,y.props),b.ref=dl(p,x,y),b.return=p,b):(b=Xd(y.type,y.key,y.props,null,p.mode,b),b.ref=dl(p,x,y),b.return=p,b)}function d(p,x,y,b){return x===null||x.tag!==4||x.stateNode.containerInfo!==y.containerInfo||x.stateNode.implementation!==y.implementation?(x=Vf(y,p.mode,b),x.return=p,x):(x=a(x,y.children||[]),x.return=p,x)}function u(p,x,y,b,_){return x===null||x.tag!==7?(x=di(y,p.mode,b,_),x.return=p,x):(x=a(x,y),x.return=p,x)}function h(p,x,y){if(typeof x=="string"&&x!==""||typeof x=="number")return x=zf(""+x,p.mode,y),x.return=p,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case od:return y=Xd(x.type,x.key,x.props,null,p.mode,y),y.ref=dl(p,null,x),y.return=p,y;case zi:return x=Vf(x,p.mode,y),x.return=p,x;case Xr:var b=x._init;return h(p,b(x._payload),y)}if(yl(x)||al(x))return x=di(x,p.mode,y,null),x.return=p,x;vd(p,x)}return null}function f(p,x,y,b){var _=x!==null?x.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return _!==null?null:l(p,x,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case od:return y.key===_?c(p,x,y,b):null;case zi:return y.key===_?d(p,x,y,b):null;case Xr:return _=y._init,f(p,x,_(y._payload),b)}if(yl(y)||al(y))return _!==null?null:u(p,x,y,b,null);vd(p,y)}return null}function g(p,x,y,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return p=p.get(y)||null,l(x,p,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case od:return p=p.get(b.key===null?y:b.key)||null,c(x,p,b,_);case zi:return p=p.get(b.key===null?y:b.key)||null,d(x,p,b,_);case Xr:var E=b._init;return g(p,x,y,E(b._payload),_)}if(yl(b)||al(b))return p=p.get(y)||null,u(x,p,b,_,null);vd(x,b)}return null}function j(p,x,y,b){for(var _=null,E=null,C=x,N=x=0,k=null;C!==null&&N<y.length;N++){C.index>N?(k=C,C=null):k=C.sibling;var R=f(p,C,y[N],b);if(R===null){C===null&&(C=k);break}e&&C&&R.alternate===null&&t(p,C),x=i(R,x,N),E===null?_=R:E.sibling=R,E=R,C=k}if(N===y.length)return n(p,C),dt&&Ka(p,N),_;if(C===null){for(;N<y.length;N++)C=h(p,y[N],b),C!==null&&(x=i(C,x,N),E===null?_=C:E.sibling=C,E=C);return dt&&Ka(p,N),_}for(C=s(p,C);N<y.length;N++)k=g(C,p,N,y[N],b),k!==null&&(e&&k.alternate!==null&&C.delete(k.key===null?N:k.key),x=i(k,x,N),E===null?_=k:E.sibling=k,E=k);return e&&C.forEach(function(A){return t(p,A)}),dt&&Ka(p,N),_}function v(p,x,y,b){var _=al(y);if(typeof _!="function")throw Error(re(150));if(y=_.call(y),y==null)throw Error(re(151));for(var E=_=null,C=x,N=x=0,k=null,R=y.next();C!==null&&!R.done;N++,R=y.next()){C.index>N?(k=C,C=null):k=C.sibling;var A=f(p,C,R.value,b);if(A===null){C===null&&(C=k);break}e&&C&&A.alternate===null&&t(p,C),x=i(A,x,N),E===null?_=A:E.sibling=A,E=A,C=k}if(R.done)return n(p,C),dt&&Ka(p,N),_;if(C===null){for(;!R.done;N++,R=y.next())R=h(p,R.value,b),R!==null&&(x=i(R,x,N),E===null?_=R:E.sibling=R,E=R);return dt&&Ka(p,N),_}for(C=s(p,C);!R.done;N++,R=y.next())R=g(C,p,N,R.value,b),R!==null&&(e&&R.alternate!==null&&C.delete(R.key===null?N:R.key),x=i(R,x,N),E===null?_=R:E.sibling=R,E=R);return e&&C.forEach(function($){return t(p,$)}),dt&&Ka(p,N),_}function w(p,x,y,b){if(typeof y=="object"&&y!==null&&y.type===Vi&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case od:e:{for(var _=y.key,E=x;E!==null;){if(E.key===_){if(_=y.type,_===Vi){if(E.tag===7){n(p,E.sibling),x=a(E,y.props.children),x.return=p,p=x;break e}}else if(E.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Xr&&Hy(_)===E.type){n(p,E.sibling),x=a(E,y.props),x.ref=dl(p,E,y),x.return=p,p=x;break e}n(p,E);break}else t(p,E);E=E.sibling}y.type===Vi?(x=di(y.props.children,p.mode,b,y.key),x.return=p,p=x):(b=Xd(y.type,y.key,y.props,null,p.mode,b),b.ref=dl(p,x,y),b.return=p,p=b)}return o(p);case zi:e:{for(E=y.key;x!==null;){if(x.key===E)if(x.tag===4&&x.stateNode.containerInfo===y.containerInfo&&x.stateNode.implementation===y.implementation){n(p,x.sibling),x=a(x,y.children||[]),x.return=p,p=x;break e}else{n(p,x);break}else t(p,x);x=x.sibling}x=Vf(y,p.mode,b),x.return=p,p=x}return o(p);case Xr:return E=y._init,w(p,x,E(y._payload),b)}if(yl(y))return j(p,x,y,b);if(al(y))return v(p,x,y,b);vd(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,x!==null&&x.tag===6?(n(p,x.sibling),x=a(x,y),x.return=p,p=x):(n(p,x),x=zf(y,p.mode,b),x.return=p,p=x),o(p)):n(p,x)}return w}var Eo=R_(!0),A_=R_(!1),_u=Aa(null),Su=null,Ji=null,ex=null;function tx(){ex=Ji=Su=null}function nx(e){var t=_u.current;lt(_u),e._currentValue=t}function cp(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function co(e,t){Su=e,ex=Ji=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Vn=!0),e.firstContext=null)}function Ss(e){var t=e._currentValue;if(ex!==e)if(e={context:e,memoizedValue:t,next:null},Ji===null){if(Su===null)throw Error(re(308));Ji=e,Su.dependencies={lanes:0,firstContext:e}}else Ji=Ji.next=e;return t}var Za=null;function sx(e){Za===null?Za=[e]:Za.push(e)}function D_(e,t,n,s){var a=t.interleaved;return a===null?(n.next=n,sx(t)):(n.next=a.next,a.next=n),t.interleaved=n,$r(e,s)}function $r(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Zr=!1;function rx(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $_(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function va(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,Ue&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,$r(e,n)}return a=s.interleaved,a===null?(t.next=t,sx(s)):(t.next=a.next,a.next=t),s.interleaved=t,$r(e,n)}function qd(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Vg(e,n)}}function qy(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?a=i=t:i=i.next=t}else a=i=t;n={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Nu(e,t,n,s){var a=e.updateQueue;Zr=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var h=a.baseState;o=0,u=d=c=null,l=i;do{var f=l.lane,g=l.eventTime;if((s&f)===f){u!==null&&(u=u.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var j=e,v=l;switch(f=t,g=n,v.tag){case 1:if(j=v.payload,typeof j=="function"){h=j.call(g,h,f);break e}h=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=v.payload,f=typeof j=="function"?j.call(g,h,f):j,f==null)break e;h=yt({},h,f);break e;case 2:Zr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=a.effects,f===null?a.effects=[l]:f.push(l))}else g={eventTime:g,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=g,c=h):u=u.next=g,o|=f;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;f=l,l=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(!0);if(u===null&&(c=h),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);gi|=o,e.lanes=o,e.memoizedState=h}}function Ky(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=n,typeof a!="function")throw Error(re(191,a));a.call(s)}}}var Lc={},dr=Aa(Lc),ac=Aa(Lc),ic=Aa(Lc);function ei(e){if(e===Lc)throw Error(re(174));return e}function ax(e,t){switch(st(ic,t),st(ac,e),st(dr,Lc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Vm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Vm(t,e)}lt(dr),st(dr,t)}function To(){lt(dr),lt(ac),lt(ic)}function I_(e){ei(ic.current);var t=ei(dr.current),n=Vm(t,e.type);t!==n&&(st(ac,e),st(dr,n))}function ix(e){ac.current===e&&(lt(dr),lt(ac))}var mt=Aa(0);function Cu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Mf=[];function ox(){for(var e=0;e<Mf.length;e++)Mf[e]._workInProgressVersionPrimary=null;Mf.length=0}var Kd=Br.ReactCurrentDispatcher,Lf=Br.ReactCurrentBatchConfig,pi=0,vt=null,Ot=null,Qt=null,Eu=!1,Pl=!1,oc=0,fR=0;function pn(){throw Error(re(321))}function lx(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Vs(e[n],t[n]))return!1;return!0}function cx(e,t,n,s,a,i){if(pi=i,vt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Kd.current=e===null||e.memoizedState===null?xR:vR,e=n(s,a),Pl){i=0;do{if(Pl=!1,oc=0,25<=i)throw Error(re(301));i+=1,Qt=Ot=null,t.updateQueue=null,Kd.current=yR,e=n(s,a)}while(Pl)}if(Kd.current=Tu,t=Ot!==null&&Ot.next!==null,pi=0,Qt=Ot=vt=null,Eu=!1,t)throw Error(re(300));return e}function dx(){var e=oc!==0;return oc=0,e}function tr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?vt.memoizedState=Qt=e:Qt=Qt.next=e,Qt}function Ns(){if(Ot===null){var e=vt.alternate;e=e!==null?e.memoizedState:null}else e=Ot.next;var t=Qt===null?vt.memoizedState:Qt.next;if(t!==null)Qt=t,Ot=e;else{if(e===null)throw Error(re(310));Ot=e,e={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},Qt===null?vt.memoizedState=Qt=e:Qt=Qt.next=e}return Qt}function lc(e,t){return typeof t=="function"?t(e):t}function Of(e){var t=Ns(),n=t.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=e;var s=Ot,a=s.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}s.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,s=s.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((pi&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=s):c=c.next=h,vt.lanes|=u,gi|=u}d=d.next}while(d!==null&&d!==i);c===null?o=s:c.next=l,Vs(s,t.memoizedState)||(Vn=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){a=e;do i=a.lane,vt.lanes|=i,gi|=i,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ff(e){var t=Ns(),n=t.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=e;var s=n.dispatch,a=n.pending,i=t.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Vs(i,t.memoizedState)||(Vn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,s]}function M_(){}function L_(e,t){var n=vt,s=Ns(),a=t(),i=!Vs(s.memoizedState,a);if(i&&(s.memoizedState=a,Vn=!0),s=s.queue,ux(U_.bind(null,n,s,e),[e]),s.getSnapshot!==t||i||Qt!==null&&Qt.memoizedState.tag&1){if(n.flags|=2048,cc(9,F_.bind(null,n,s,a,t),void 0,null),Xt===null)throw Error(re(349));pi&30||O_(n,t,a)}return a}function O_(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=vt.updateQueue,t===null?(t={lastEffect:null,stores:null},vt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function F_(e,t,n,s){t.value=n,t.getSnapshot=s,B_(t)&&z_(e)}function U_(e,t,n){return n(function(){B_(t)&&z_(e)})}function B_(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Vs(e,n)}catch{return!0}}function z_(e){var t=$r(e,1);t!==null&&zs(t,e,1,-1)}function Gy(e){var t=tr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lc,lastRenderedState:e},t.queue=e,e=e.dispatch=gR.bind(null,vt,e),[t.memoizedState,e]}function cc(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=vt.updateQueue,t===null?(t={lastEffect:null,stores:null},vt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function V_(){return Ns().memoizedState}function Gd(e,t,n,s){var a=tr();vt.flags|=e,a.memoizedState=cc(1|t,n,void 0,s===void 0?null:s)}function ph(e,t,n,s){var a=Ns();s=s===void 0?null:s;var i=void 0;if(Ot!==null){var o=Ot.memoizedState;if(i=o.destroy,s!==null&&lx(s,o.deps)){a.memoizedState=cc(t,n,i,s);return}}vt.flags|=e,a.memoizedState=cc(1|t,n,i,s)}function Qy(e,t){return Gd(8390656,8,e,t)}function ux(e,t){return ph(2048,8,e,t)}function W_(e,t){return ph(4,2,e,t)}function H_(e,t){return ph(4,4,e,t)}function q_(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function K_(e,t,n){return n=n!=null?n.concat([e]):null,ph(4,4,q_.bind(null,t,e),n)}function hx(){}function G_(e,t){var n=Ns();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&lx(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function Q_(e,t){var n=Ns();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&lx(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function Y_(e,t,n){return pi&21?(Vs(n,t)||(n=t_(),vt.lanes|=n,gi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Vn=!0),e.memoizedState=n)}function mR(e,t){var n=Je;Je=n!==0&&4>n?n:4,e(!0);var s=Lf.transition;Lf.transition={};try{e(!1),t()}finally{Je=n,Lf.transition=s}}function J_(){return Ns().memoizedState}function pR(e,t,n){var s=wa(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},X_(e))Z_(t,n);else if(n=D_(e,t,n,s),n!==null){var a=An();zs(n,e,s,a),eS(n,t,s)}}function gR(e,t,n){var s=wa(e),a={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(X_(e))Z_(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(a.hasEagerState=!0,a.eagerState=l,Vs(l,o)){var c=t.interleaved;c===null?(a.next=a,sx(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}n=D_(e,t,a,s),n!==null&&(a=An(),zs(n,e,s,a),eS(n,t,s))}}function X_(e){var t=e.alternate;return e===vt||t!==null&&t===vt}function Z_(e,t){Pl=Eu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function eS(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Vg(e,n)}}var Tu={readContext:Ss,useCallback:pn,useContext:pn,useEffect:pn,useImperativeHandle:pn,useInsertionEffect:pn,useLayoutEffect:pn,useMemo:pn,useReducer:pn,useRef:pn,useState:pn,useDebugValue:pn,useDeferredValue:pn,useTransition:pn,useMutableSource:pn,useSyncExternalStore:pn,useId:pn,unstable_isNewReconciler:!1},xR={readContext:Ss,useCallback:function(e,t){return tr().memoizedState=[e,t===void 0?null:t],e},useContext:Ss,useEffect:Qy,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Gd(4194308,4,q_.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Gd(4194308,4,e,t)},useInsertionEffect:function(e,t){return Gd(4,2,e,t)},useMemo:function(e,t){var n=tr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=tr();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=pR.bind(null,vt,e),[s.memoizedState,e]},useRef:function(e){var t=tr();return e={current:e},t.memoizedState=e},useState:Gy,useDebugValue:hx,useDeferredValue:function(e){return tr().memoizedState=e},useTransition:function(){var e=Gy(!1),t=e[0];return e=mR.bind(null,e[1]),tr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=vt,a=tr();if(dt){if(n===void 0)throw Error(re(407));n=n()}else{if(n=t(),Xt===null)throw Error(re(349));pi&30||O_(s,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,Qy(U_.bind(null,s,i,e),[e]),s.flags|=2048,cc(9,F_.bind(null,s,i,n,t),void 0,null),n},useId:function(){var e=tr(),t=Xt.identifierPrefix;if(dt){var n=kr,s=Tr;n=(s&~(1<<32-Bs(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=oc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=fR++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},vR={readContext:Ss,useCallback:G_,useContext:Ss,useEffect:ux,useImperativeHandle:K_,useInsertionEffect:W_,useLayoutEffect:H_,useMemo:Q_,useReducer:Of,useRef:V_,useState:function(){return Of(lc)},useDebugValue:hx,useDeferredValue:function(e){var t=Ns();return Y_(t,Ot.memoizedState,e)},useTransition:function(){var e=Of(lc)[0],t=Ns().memoizedState;return[e,t]},useMutableSource:M_,useSyncExternalStore:L_,useId:J_,unstable_isNewReconciler:!1},yR={readContext:Ss,useCallback:G_,useContext:Ss,useEffect:ux,useImperativeHandle:K_,useInsertionEffect:W_,useLayoutEffect:H_,useMemo:Q_,useReducer:Ff,useRef:V_,useState:function(){return Ff(lc)},useDebugValue:hx,useDeferredValue:function(e){var t=Ns();return Ot===null?t.memoizedState=e:Y_(t,Ot.memoizedState,e)},useTransition:function(){var e=Ff(lc)[0],t=Ns().memoizedState;return[e,t]},useMutableSource:M_,useSyncExternalStore:L_,useId:J_,unstable_isNewReconciler:!1};function As(e,t){if(e&&e.defaultProps){t=yt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function dp(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:yt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var gh={isMounted:function(e){return(e=e._reactInternals)?_i(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=An(),a=wa(e),i=Pr(s,a);i.payload=t,n!=null&&(i.callback=n),t=va(e,i,a),t!==null&&(zs(t,e,a,s),qd(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=An(),a=wa(e),i=Pr(s,a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=va(e,i,a),t!==null&&(zs(t,e,a,s),qd(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=An(),s=wa(e),a=Pr(n,s);a.tag=2,t!=null&&(a.callback=t),t=va(e,a,s),t!==null&&(zs(t,e,s,n),qd(t,e,s))}};function Yy(e,t,n,s,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,o):t.prototype&&t.prototype.isPureReactComponent?!tc(n,s)||!tc(a,i):!0}function tS(e,t,n){var s=!1,a=Na,i=t.contextType;return typeof i=="object"&&i!==null?i=Ss(i):(a=qn(t)?fi:jn.current,s=t.contextTypes,i=(s=s!=null)?No(e,a):Na),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=gh,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Jy(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&gh.enqueueReplaceState(t,t.state,null)}function up(e,t,n,s){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},rx(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Ss(i):(i=qn(t)?fi:jn.current,a.context=No(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(dp(e,t,i,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&gh.enqueueReplaceState(a,a.state,null),Nu(e,n,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function ko(e,t){try{var n="",s=t;do n+=KP(s),s=s.return;while(s);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Uf(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function hp(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var wR=typeof WeakMap=="function"?WeakMap:Map;function nS(e,t,n){n=Pr(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){Pu||(Pu=!0,bp=s),hp(e,t)},n}function sS(e,t,n){n=Pr(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;n.payload=function(){return s(a)},n.callback=function(){hp(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){hp(e,t),typeof s!="function"&&(ya===null?ya=new Set([this]):ya.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Xy(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new wR;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(n)||(a.add(n),e=$R.bind(null,e,t,n),t.then(e,e))}function Zy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ew(e,t,n,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Pr(-1,1),t.tag=2,va(n,t,1))),n.lanes|=1),e)}var jR=Br.ReactCurrentOwner,Vn=!1;function Tn(e,t,n,s){t.child=e===null?A_(t,null,n,s):Eo(t,e.child,n,s)}function tw(e,t,n,s,a){n=n.render;var i=t.ref;return co(t,a),s=cx(e,t,n,s,i,a),n=dx(),e!==null&&!Vn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ir(e,t,a)):(dt&&n&&Jg(t),t.flags|=1,Tn(e,t,s,a),t.child)}function nw(e,t,n,s,a){if(e===null){var i=n.type;return typeof i=="function"&&!wx(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,rS(e,t,i,s,a)):(e=Xd(n.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:tc,n(o,s)&&e.ref===t.ref)return Ir(e,t,a)}return t.flags|=1,e=ja(i,s),e.ref=t.ref,e.return=t,t.child=e}function rS(e,t,n,s,a){if(e!==null){var i=e.memoizedProps;if(tc(i,s)&&e.ref===t.ref)if(Vn=!1,t.pendingProps=s=i,(e.lanes&a)!==0)e.flags&131072&&(Vn=!0);else return t.lanes=e.lanes,Ir(e,t,a)}return fp(e,t,n,s,a)}function aS(e,t,n){var s=t.pendingProps,a=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},st(Zi,Gn),Gn|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,st(Zi,Gn),Gn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:n,st(Zi,Gn),Gn|=s}else i!==null?(s=i.baseLanes|n,t.memoizedState=null):s=n,st(Zi,Gn),Gn|=s;return Tn(e,t,a,n),t.child}function iS(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function fp(e,t,n,s,a){var i=qn(n)?fi:jn.current;return i=No(t,i),co(t,a),n=cx(e,t,n,s,i,a),s=dx(),e!==null&&!Vn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ir(e,t,a)):(dt&&s&&Jg(t),t.flags|=1,Tn(e,t,n,a),t.child)}function sw(e,t,n,s,a){if(qn(n)){var i=!0;wu(t)}else i=!1;if(co(t,a),t.stateNode===null)Qd(e,t),tS(t,n,s),up(t,n,s,a),s=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Ss(d):(d=qn(n)?fi:jn.current,d=No(t,d));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==d)&&Jy(t,o,s,d),Zr=!1;var f=t.memoizedState;o.state=f,Nu(t,s,o,a),c=t.memoizedState,l!==s||f!==c||Hn.current||Zr?(typeof u=="function"&&(dp(t,n,u,s),c=t.memoizedState),(l=Zr||Yy(t,n,l,s,f,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=d,s=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,$_(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:As(t.type,l),o.props=d,h=t.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ss(c):(c=qn(n)?fi:jn.current,c=No(t,c));var g=n.getDerivedStateFromProps;(u=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&Jy(t,o,s,c),Zr=!1,f=t.memoizedState,o.state=f,Nu(t,s,o,a);var j=t.memoizedState;l!==h||f!==j||Hn.current||Zr?(typeof g=="function"&&(dp(t,n,g,s),j=t.memoizedState),(d=Zr||Yy(t,n,d,s,f,j,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,j,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,j,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=j),o.props=s,o.state=j,o.context=c,s=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),s=!1)}return mp(e,t,n,s,i,a)}function mp(e,t,n,s,a,i){iS(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return a&&zy(t,n,!1),Ir(e,t,i);s=t.stateNode,jR.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=Eo(t,e.child,null,i),t.child=Eo(t,null,l,i)):Tn(e,t,l,i),t.memoizedState=s.state,a&&zy(t,n,!0),t.child}function oS(e){var t=e.stateNode;t.pendingContext?By(e,t.pendingContext,t.pendingContext!==t.context):t.context&&By(e,t.context,!1),ax(e,t.containerInfo)}function rw(e,t,n,s,a){return Co(),Zg(a),t.flags|=256,Tn(e,t,n,s),t.child}var pp={dehydrated:null,treeContext:null,retryLane:0};function gp(e){return{baseLanes:e,cachePool:null,transitions:null}}function lS(e,t,n){var s=t.pendingProps,a=mt.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),st(mt,a&1),e===null)return lp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,i?(s=t.mode,i=t.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=yh(o,s,0,null),e=di(e,s,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=gp(n),t.memoizedState=pp,e):fx(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return bR(e,t,o,s,l,a,n);if(i){i=s.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=ja(a,c),s.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=ja(l,i):(i=di(i,o,n,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,o=e.child.memoizedState,o=o===null?gp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=pp,s}return i=e.child,e=i.sibling,s=ja(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function fx(e,t){return t=yh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function yd(e,t,n,s){return s!==null&&Zg(s),Eo(t,e.child,null,n),e=fx(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function bR(e,t,n,s,a,i,o){if(n)return t.flags&256?(t.flags&=-257,s=Uf(Error(re(422))),yd(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,a=t.mode,s=yh({mode:"visible",children:s.children},a,0,null),i=di(i,a,o,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&Eo(t,e.child,null,o),t.child.memoizedState=gp(o),t.memoizedState=pp,i);if(!(t.mode&1))return yd(e,t,o,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var l=s.dgst;return s=l,i=Error(re(419)),s=Uf(i,s,void 0),yd(e,t,o,s)}if(l=(o&e.childLanes)!==0,Vn||l){if(s=Xt,s!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,$r(e,a),zs(s,e,a,-1))}return yx(),s=Uf(Error(re(421))),yd(e,t,o,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=IR.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Jn=xa(a.nextSibling),Xn=t,dt=!0,Os=null,e!==null&&(xs[vs++]=Tr,xs[vs++]=kr,xs[vs++]=mi,Tr=e.id,kr=e.overflow,mi=t),t=fx(t,s.children),t.flags|=4096,t)}function aw(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),cp(e.return,t,n)}function Bf(e,t,n,s,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=a)}function cS(e,t,n){var s=t.pendingProps,a=s.revealOrder,i=s.tail;if(Tn(e,t,s.children,n),s=mt.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&aw(e,n,t);else if(e.tag===19)aw(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(st(mt,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&Cu(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Bf(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Cu(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Bf(t,!0,n,null,i);break;case"together":Bf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ir(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),gi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(re(153));if(t.child!==null){for(e=t.child,n=ja(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ja(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function _R(e,t,n){switch(t.tag){case 3:oS(t),Co();break;case 5:I_(t);break;case 1:qn(t.type)&&wu(t);break;case 4:ax(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;st(_u,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(st(mt,mt.current&1),t.flags|=128,null):n&t.child.childLanes?lS(e,t,n):(st(mt,mt.current&1),e=Ir(e,t,n),e!==null?e.sibling:null);st(mt,mt.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return cS(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),st(mt,mt.current),s)break;return null;case 22:case 23:return t.lanes=0,aS(e,t,n)}return Ir(e,t,n)}var dS,xp,uS,hS;dS=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};xp=function(){};uS=function(e,t,n,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,ei(dr.current);var i=null;switch(n){case"input":a=Fm(e,a),s=Fm(e,s),i=[];break;case"select":a=yt({},a,{value:void 0}),s=yt({},s,{value:void 0}),i=[];break;case"textarea":a=zm(e,a),s=zm(e,s),i=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=vu)}Wm(n,s);var o;n=null;for(d in a)if(!s.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Gl.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in s){var c=s[d];if(l=a!=null?a[d]:void 0,s.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Gl.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ot("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};hS=function(e,t,n,s){n!==s&&(t.flags|=4)};function ul(e,t){if(!dt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function gn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function SR(e,t,n){var s=t.pendingProps;switch(Xg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gn(t),null;case 1:return qn(t.type)&&yu(),gn(t),null;case 3:return s=t.stateNode,To(),lt(Hn),lt(jn),ox(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(xd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Os!==null&&(Np(Os),Os=null))),xp(e,t),gn(t),null;case 5:ix(t);var a=ei(ic.current);if(n=t.type,e!==null&&t.stateNode!=null)uS(e,t,n,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(re(166));return gn(t),null}if(e=ei(dr.current),xd(t)){s=t.stateNode,n=t.type;var i=t.memoizedProps;switch(s[ir]=t,s[rc]=i,e=(t.mode&1)!==0,n){case"dialog":ot("cancel",s),ot("close",s);break;case"iframe":case"object":case"embed":ot("load",s);break;case"video":case"audio":for(a=0;a<jl.length;a++)ot(jl[a],s);break;case"source":ot("error",s);break;case"img":case"image":case"link":ot("error",s),ot("load",s);break;case"details":ot("toggle",s);break;case"input":my(s,i),ot("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},ot("invalid",s);break;case"textarea":gy(s,i),ot("invalid",s)}Wm(n,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?s.textContent!==l&&(i.suppressHydrationWarning!==!0&&gd(s.textContent,l,e),a=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&gd(s.textContent,l,e),a=["children",""+l]):Gl.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ot("scroll",s)}switch(n){case"input":ld(s),py(s,i,!0);break;case"textarea":ld(s),xy(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=vu)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ub(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(n,{is:s.is}):(e=o.createElement(n),n==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,n),e[ir]=t,e[rc]=s,dS(e,t,!1,!1),t.stateNode=e;e:{switch(o=Hm(n,s),n){case"dialog":ot("cancel",e),ot("close",e),a=s;break;case"iframe":case"object":case"embed":ot("load",e),a=s;break;case"video":case"audio":for(a=0;a<jl.length;a++)ot(jl[a],e);a=s;break;case"source":ot("error",e),a=s;break;case"img":case"image":case"link":ot("error",e),ot("load",e),a=s;break;case"details":ot("toggle",e),a=s;break;case"input":my(e,s),a=Fm(e,s),ot("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=yt({},s,{value:void 0}),ot("invalid",e);break;case"textarea":gy(e,s),a=zm(e,s),ot("invalid",e);break;default:a=s}Wm(n,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Vb(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Bb(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ql(e,c):typeof c=="number"&&Ql(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Gl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ot("scroll",e):c!=null&&Lg(e,i,c,o))}switch(n){case"input":ld(e),py(e,s,!1);break;case"textarea":ld(e),xy(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Sa(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?ao(e,!!s.multiple,i,!1):s.defaultValue!=null&&ao(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=vu)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return gn(t),null;case 6:if(e&&t.stateNode!=null)hS(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(re(166));if(n=ei(ic.current),ei(dr.current),xd(t)){if(s=t.stateNode,n=t.memoizedProps,s[ir]=t,(i=s.nodeValue!==n)&&(e=Xn,e!==null))switch(e.tag){case 3:gd(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&gd(s.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[ir]=t,t.stateNode=s}return gn(t),null;case 13:if(lt(mt),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(dt&&Jn!==null&&t.mode&1&&!(t.flags&128))P_(),Co(),t.flags|=98560,i=!1;else if(i=xd(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(re(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(re(317));i[ir]=t}else Co(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;gn(t),i=!1}else Os!==null&&(Np(Os),Os=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||mt.current&1?Ut===0&&(Ut=3):yx())),t.updateQueue!==null&&(t.flags|=4),gn(t),null);case 4:return To(),xp(e,t),e===null&&nc(t.stateNode.containerInfo),gn(t),null;case 10:return nx(t.type._context),gn(t),null;case 17:return qn(t.type)&&yu(),gn(t),null;case 19:if(lt(mt),i=t.memoizedState,i===null)return gn(t),null;if(s=(t.flags&128)!==0,o=i.rendering,o===null)if(s)ul(i,!1);else{if(Ut!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Cu(e),o!==null){for(t.flags|=128,ul(i,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)i=n,e=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return st(mt,mt.current&1|2),t.child}e=e.sibling}i.tail!==null&&Pt()>Po&&(t.flags|=128,s=!0,ul(i,!1),t.lanes=4194304)}else{if(!s)if(e=Cu(o),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ul(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!dt)return gn(t),null}else 2*Pt()-i.renderingStartTime>Po&&n!==1073741824&&(t.flags|=128,s=!0,ul(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Pt(),t.sibling=null,n=mt.current,st(mt,s?n&1|2:n&1),t):(gn(t),null);case 22:case 23:return vx(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Gn&1073741824&&(gn(t),t.subtreeFlags&6&&(t.flags|=8192)):gn(t),null;case 24:return null;case 25:return null}throw Error(re(156,t.tag))}function NR(e,t){switch(Xg(t),t.tag){case 1:return qn(t.type)&&yu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return To(),lt(Hn),lt(jn),ox(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ix(t),null;case 13:if(lt(mt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(re(340));Co()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return lt(mt),null;case 4:return To(),null;case 10:return nx(t.type._context),null;case 22:case 23:return vx(),null;case 24:return null;default:return null}}var wd=!1,yn=!1,CR=typeof WeakSet=="function"?WeakSet:Set,ue=null;function Xi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){St(e,t,s)}else n.current=null}function vp(e,t,n){try{n()}catch(s){St(e,t,s)}}var iw=!1;function ER(e,t){if(tp=pu,e=x_(),Yg(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var a=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,f=null;t:for(;;){for(var g;h!==n||a!==0&&h.nodeType!==3||(l=o+a),h!==i||s!==0&&h.nodeType!==3||(c=o+s),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===e)break t;if(f===n&&++d===a&&(l=o),f===i&&++u===s&&(c=o),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(np={focusedElem:e,selectionRange:n},pu=!1,ue=t;ue!==null;)if(t=ue,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ue=e;else for(;ue!==null;){t=ue;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var v=j.memoizedProps,w=j.memoizedState,p=t.stateNode,x=p.getSnapshotBeforeUpdate(t.elementType===t.type?v:As(t.type,v),w);p.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(b){St(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,ue=e;break}ue=t.return}return j=iw,iw=!1,j}function Rl(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&vp(t,n,i)}a=a.next}while(a!==s)}}function xh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function yp(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function fS(e){var t=e.alternate;t!==null&&(e.alternate=null,fS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ir],delete t[rc],delete t[ap],delete t[cR],delete t[dR])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function mS(e){return e.tag===5||e.tag===3||e.tag===4}function ow(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||mS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wp(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=vu));else if(s!==4&&(e=e.child,e!==null))for(wp(e,t,n),e=e.sibling;e!==null;)wp(e,t,n),e=e.sibling}function jp(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(jp(e,t,n),e=e.sibling;e!==null;)jp(e,t,n),e=e.sibling}var ln=null,Ms=!1;function Wr(e,t,n){for(n=n.child;n!==null;)pS(e,t,n),n=n.sibling}function pS(e,t,n){if(cr&&typeof cr.onCommitFiberUnmount=="function")try{cr.onCommitFiberUnmount(ch,n)}catch{}switch(n.tag){case 5:yn||Xi(n,t);case 6:var s=ln,a=Ms;ln=null,Wr(e,t,n),ln=s,Ms=a,ln!==null&&(Ms?(e=ln,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ln.removeChild(n.stateNode));break;case 18:ln!==null&&(Ms?(e=ln,n=n.stateNode,e.nodeType===8?$f(e.parentNode,n):e.nodeType===1&&$f(e,n),Zl(e)):$f(ln,n.stateNode));break;case 4:s=ln,a=Ms,ln=n.stateNode.containerInfo,Ms=!0,Wr(e,t,n),ln=s,Ms=a;break;case 0:case 11:case 14:case 15:if(!yn&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&vp(n,t,o),a=a.next}while(a!==s)}Wr(e,t,n);break;case 1:if(!yn&&(Xi(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(l){St(n,t,l)}Wr(e,t,n);break;case 21:Wr(e,t,n);break;case 22:n.mode&1?(yn=(s=yn)||n.memoizedState!==null,Wr(e,t,n),yn=s):Wr(e,t,n);break;default:Wr(e,t,n)}}function lw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new CR),t.forEach(function(s){var a=MR.bind(null,e,s);n.has(s)||(n.add(s),s.then(a,a))})}}function Ts(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var a=n[s];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:ln=l.stateNode,Ms=!1;break e;case 3:ln=l.stateNode.containerInfo,Ms=!0;break e;case 4:ln=l.stateNode.containerInfo,Ms=!0;break e}l=l.return}if(ln===null)throw Error(re(160));pS(i,o,a),ln=null,Ms=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){St(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)gS(t,e),t=t.sibling}function gS(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ts(t,e),er(e),s&4){try{Rl(3,e,e.return),xh(3,e)}catch(v){St(e,e.return,v)}try{Rl(5,e,e.return)}catch(v){St(e,e.return,v)}}break;case 1:Ts(t,e),er(e),s&512&&n!==null&&Xi(n,n.return);break;case 5:if(Ts(t,e),er(e),s&512&&n!==null&&Xi(n,n.return),e.flags&32){var a=e.stateNode;try{Ql(a,"")}catch(v){St(e,e.return,v)}}if(s&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Ob(a,i),Hm(l,o);var d=Hm(l,i);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?Vb(a,h):u==="dangerouslySetInnerHTML"?Bb(a,h):u==="children"?Ql(a,h):Lg(a,u,h,d)}switch(l){case"input":Um(a,i);break;case"textarea":Fb(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?ao(a,!!i.multiple,g,!1):f!==!!i.multiple&&(i.defaultValue!=null?ao(a,!!i.multiple,i.defaultValue,!0):ao(a,!!i.multiple,i.multiple?[]:"",!1))}a[rc]=i}catch(v){St(e,e.return,v)}}break;case 6:if(Ts(t,e),er(e),s&4){if(e.stateNode===null)throw Error(re(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(v){St(e,e.return,v)}}break;case 3:if(Ts(t,e),er(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Zl(t.containerInfo)}catch(v){St(e,e.return,v)}break;case 4:Ts(t,e),er(e);break;case 13:Ts(t,e),er(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(gx=Pt())),s&4&&lw(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(yn=(d=yn)||u,Ts(t,e),yn=d):Ts(t,e),er(e),s&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(ue=e,u=e.child;u!==null;){for(h=ue=u;ue!==null;){switch(f=ue,g=f.child,f.tag){case 0:case 11:case 14:case 15:Rl(4,f,f.return);break;case 1:Xi(f,f.return);var j=f.stateNode;if(typeof j.componentWillUnmount=="function"){s=f,n=f.return;try{t=s,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(v){St(s,n,v)}}break;case 5:Xi(f,f.return);break;case 22:if(f.memoizedState!==null){dw(h);continue}}g!==null?(g.return=f,ue=g):dw(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{a=h.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=zb("display",o))}catch(v){St(e,e.return,v)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(v){St(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ts(t,e),er(e),s&4&&lw(e);break;case 21:break;default:Ts(t,e),er(e)}}function er(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(mS(n)){var s=n;break e}n=n.return}throw Error(re(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(Ql(a,""),s.flags&=-33);var i=ow(e);jp(e,i,a);break;case 3:case 4:var o=s.stateNode.containerInfo,l=ow(e);wp(e,l,o);break;default:throw Error(re(161))}}catch(c){St(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function TR(e,t,n){ue=e,xS(e)}function xS(e,t,n){for(var s=(e.mode&1)!==0;ue!==null;){var a=ue,i=a.child;if(a.tag===22&&s){var o=a.memoizedState!==null||wd;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||yn;l=wd;var d=yn;if(wd=o,(yn=c)&&!d)for(ue=a;ue!==null;)o=ue,c=o.child,o.tag===22&&o.memoizedState!==null?uw(a):c!==null?(c.return=o,ue=c):uw(a);for(;i!==null;)ue=i,xS(i),i=i.sibling;ue=a,wd=l,yn=d}cw(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,ue=i):cw(e)}}function cw(e){for(;ue!==null;){var t=ue;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:yn||xh(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!yn)if(n===null)s.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:As(t.type,n.memoizedProps);s.componentDidUpdate(a,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Ky(t,i,s);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ky(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Zl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}yn||t.flags&512&&yp(t)}catch(f){St(t,t.return,f)}}if(t===e){ue=null;break}if(n=t.sibling,n!==null){n.return=t.return,ue=n;break}ue=t.return}}function dw(e){for(;ue!==null;){var t=ue;if(t===e){ue=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ue=n;break}ue=t.return}}function uw(e){for(;ue!==null;){var t=ue;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{xh(4,t)}catch(c){St(t,n,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(c){St(t,a,c)}}var i=t.return;try{yp(t)}catch(c){St(t,i,c)}break;case 5:var o=t.return;try{yp(t)}catch(c){St(t,o,c)}}}catch(c){St(t,t.return,c)}if(t===e){ue=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ue=l;break}ue=t.return}}var kR=Math.ceil,ku=Br.ReactCurrentDispatcher,mx=Br.ReactCurrentOwner,js=Br.ReactCurrentBatchConfig,Ue=0,Xt=null,Dt=null,un=0,Gn=0,Zi=Aa(0),Ut=0,dc=null,gi=0,vh=0,px=0,Al=null,Bn=null,gx=0,Po=1/0,_r=null,Pu=!1,bp=null,ya=null,jd=!1,ua=null,Ru=0,Dl=0,_p=null,Yd=-1,Jd=0;function An(){return Ue&6?Pt():Yd!==-1?Yd:Yd=Pt()}function wa(e){return e.mode&1?Ue&2&&un!==0?un&-un:hR.transition!==null?(Jd===0&&(Jd=t_()),Jd):(e=Je,e!==0||(e=window.event,e=e===void 0?16:l_(e.type)),e):1}function zs(e,t,n,s){if(50<Dl)throw Dl=0,_p=null,Error(re(185));$c(e,n,s),(!(Ue&2)||e!==Xt)&&(e===Xt&&(!(Ue&2)&&(vh|=n),Ut===4&&sa(e,un)),Kn(e,s),n===1&&Ue===0&&!(t.mode&1)&&(Po=Pt()+500,mh&&Da()))}function Kn(e,t){var n=e.callbackNode;h2(e,t);var s=mu(e,e===Xt?un:0);if(s===0)n!==null&&wy(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&wy(n),t===1)e.tag===0?uR(hw.bind(null,e)):E_(hw.bind(null,e)),oR(function(){!(Ue&6)&&Da()}),n=null;else{switch(n_(s)){case 1:n=zg;break;case 4:n=Zb;break;case 16:n=fu;break;case 536870912:n=e_;break;default:n=fu}n=NS(n,vS.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function vS(e,t){if(Yd=-1,Jd=0,Ue&6)throw Error(re(327));var n=e.callbackNode;if(uo()&&e.callbackNode!==n)return null;var s=mu(e,e===Xt?un:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Au(e,s);else{t=s;var a=Ue;Ue|=2;var i=wS();(Xt!==e||un!==t)&&(_r=null,Po=Pt()+500,ci(e,t));do try{AR();break}catch(l){yS(e,l)}while(!0);tx(),ku.current=i,Ue=a,Dt!==null?t=0:(Xt=null,un=0,t=Ut)}if(t!==0){if(t===2&&(a=Ym(e),a!==0&&(s=a,t=Sp(e,a))),t===1)throw n=dc,ci(e,0),sa(e,s),Kn(e,Pt()),n;if(t===6)sa(e,s);else{if(a=e.current.alternate,!(s&30)&&!PR(a)&&(t=Au(e,s),t===2&&(i=Ym(e),i!==0&&(s=i,t=Sp(e,i))),t===1))throw n=dc,ci(e,0),sa(e,s),Kn(e,Pt()),n;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(re(345));case 2:Ga(e,Bn,_r);break;case 3:if(sa(e,s),(s&130023424)===s&&(t=gx+500-Pt(),10<t)){if(mu(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){An(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=rp(Ga.bind(null,e,Bn,_r),t);break}Ga(e,Bn,_r);break;case 4:if(sa(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var o=31-Bs(s);i=1<<o,o=t[o],o>a&&(a=o),s&=~i}if(s=a,s=Pt()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*kR(s/1960))-s,10<s){e.timeoutHandle=rp(Ga.bind(null,e,Bn,_r),s);break}Ga(e,Bn,_r);break;case 5:Ga(e,Bn,_r);break;default:throw Error(re(329))}}}return Kn(e,Pt()),e.callbackNode===n?vS.bind(null,e):null}function Sp(e,t){var n=Al;return e.current.memoizedState.isDehydrated&&(ci(e,t).flags|=256),e=Au(e,t),e!==2&&(t=Bn,Bn=n,t!==null&&Np(t)),e}function Np(e){Bn===null?Bn=e:Bn.push.apply(Bn,e)}function PR(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var a=n[s],i=a.getSnapshot;a=a.value;try{if(!Vs(i(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function sa(e,t){for(t&=~px,t&=~vh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Bs(t),s=1<<n;e[n]=-1,t&=~s}}function hw(e){if(Ue&6)throw Error(re(327));uo();var t=mu(e,0);if(!(t&1))return Kn(e,Pt()),null;var n=Au(e,t);if(e.tag!==0&&n===2){var s=Ym(e);s!==0&&(t=s,n=Sp(e,s))}if(n===1)throw n=dc,ci(e,0),sa(e,t),Kn(e,Pt()),n;if(n===6)throw Error(re(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ga(e,Bn,_r),Kn(e,Pt()),null}function xx(e,t){var n=Ue;Ue|=1;try{return e(t)}finally{Ue=n,Ue===0&&(Po=Pt()+500,mh&&Da())}}function xi(e){ua!==null&&ua.tag===0&&!(Ue&6)&&uo();var t=Ue;Ue|=1;var n=js.transition,s=Je;try{if(js.transition=null,Je=1,e)return e()}finally{Je=s,js.transition=n,Ue=t,!(Ue&6)&&Da()}}function vx(){Gn=Zi.current,lt(Zi)}function ci(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,iR(n)),Dt!==null)for(n=Dt.return;n!==null;){var s=n;switch(Xg(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&yu();break;case 3:To(),lt(Hn),lt(jn),ox();break;case 5:ix(s);break;case 4:To();break;case 13:lt(mt);break;case 19:lt(mt);break;case 10:nx(s.type._context);break;case 22:case 23:vx()}n=n.return}if(Xt=e,Dt=e=ja(e.current,null),un=Gn=t,Ut=0,dc=null,px=vh=gi=0,Bn=Al=null,Za!==null){for(t=0;t<Za.length;t++)if(n=Za[t],s=n.interleaved,s!==null){n.interleaved=null;var a=s.next,i=n.pending;if(i!==null){var o=i.next;i.next=a,s.next=o}n.pending=s}Za=null}return e}function yS(e,t){do{var n=Dt;try{if(tx(),Kd.current=Tu,Eu){for(var s=vt.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Eu=!1}if(pi=0,Qt=Ot=vt=null,Pl=!1,oc=0,mx.current=null,n===null||n.return===null){Ut=1,dc=t,Dt=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=un,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=Zy(o);if(g!==null){g.flags&=-257,ew(g,o,l,i,t),g.mode&1&&Xy(i,d,t),t=g,c=d;var j=t.updateQueue;if(j===null){var v=new Set;v.add(c),t.updateQueue=v}else j.add(c);break e}else{if(!(t&1)){Xy(i,d,t),yx();break e}c=Error(re(426))}}else if(dt&&l.mode&1){var w=Zy(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),ew(w,o,l,i,t),Zg(ko(c,l));break e}}i=c=ko(c,l),Ut!==4&&(Ut=2),Al===null?Al=[i]:Al.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=nS(i,c,t);qy(i,p);break e;case 1:l=c;var x=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ya===null||!ya.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=sS(i,l,t);qy(i,b);break e}}i=i.return}while(i!==null)}bS(n)}catch(_){t=_,Dt===n&&n!==null&&(Dt=n=n.return);continue}break}while(!0)}function wS(){var e=ku.current;return ku.current=Tu,e===null?Tu:e}function yx(){(Ut===0||Ut===3||Ut===2)&&(Ut=4),Xt===null||!(gi&268435455)&&!(vh&268435455)||sa(Xt,un)}function Au(e,t){var n=Ue;Ue|=2;var s=wS();(Xt!==e||un!==t)&&(_r=null,ci(e,t));do try{RR();break}catch(a){yS(e,a)}while(!0);if(tx(),Ue=n,ku.current=s,Dt!==null)throw Error(re(261));return Xt=null,un=0,Ut}function RR(){for(;Dt!==null;)jS(Dt)}function AR(){for(;Dt!==null&&!s2();)jS(Dt)}function jS(e){var t=SS(e.alternate,e,Gn);e.memoizedProps=e.pendingProps,t===null?bS(e):Dt=t,mx.current=null}function bS(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=NR(n,t),n!==null){n.flags&=32767,Dt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ut=6,Dt=null;return}}else if(n=SR(n,t,Gn),n!==null){Dt=n;return}if(t=t.sibling,t!==null){Dt=t;return}Dt=t=e}while(t!==null);Ut===0&&(Ut=5)}function Ga(e,t,n){var s=Je,a=js.transition;try{js.transition=null,Je=1,DR(e,t,n,s)}finally{js.transition=a,Je=s}return null}function DR(e,t,n,s){do uo();while(ua!==null);if(Ue&6)throw Error(re(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(re(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(f2(e,i),e===Xt&&(Dt=Xt=null,un=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||jd||(jd=!0,NS(fu,function(){return uo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=js.transition,js.transition=null;var o=Je;Je=1;var l=Ue;Ue|=4,mx.current=null,ER(e,n),gS(n,e),Z2(np),pu=!!tp,np=tp=null,e.current=n,TR(n),r2(),Ue=l,Je=o,js.transition=i}else e.current=n;if(jd&&(jd=!1,ua=e,Ru=a),i=e.pendingLanes,i===0&&(ya=null),o2(n.stateNode),Kn(e,Pt()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],s(a.value,{componentStack:a.stack,digest:a.digest});if(Pu)throw Pu=!1,e=bp,bp=null,e;return Ru&1&&e.tag!==0&&uo(),i=e.pendingLanes,i&1?e===_p?Dl++:(Dl=0,_p=e):Dl=0,Da(),null}function uo(){if(ua!==null){var e=n_(Ru),t=js.transition,n=Je;try{if(js.transition=null,Je=16>e?16:e,ua===null)var s=!1;else{if(e=ua,ua=null,Ru=0,Ue&6)throw Error(re(331));var a=Ue;for(Ue|=4,ue=e.current;ue!==null;){var i=ue,o=i.child;if(ue.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(ue=d;ue!==null;){var u=ue;switch(u.tag){case 0:case 11:case 15:Rl(8,u,i)}var h=u.child;if(h!==null)h.return=u,ue=h;else for(;ue!==null;){u=ue;var f=u.sibling,g=u.return;if(fS(u),u===d){ue=null;break}if(f!==null){f.return=g,ue=f;break}ue=g}}}var j=i.alternate;if(j!==null){var v=j.child;if(v!==null){j.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}ue=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ue=o;else e:for(;ue!==null;){if(i=ue,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Rl(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,ue=p;break e}ue=i.return}}var x=e.current;for(ue=x;ue!==null;){o=ue;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,ue=y;else e:for(o=x;ue!==null;){if(l=ue,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:xh(9,l)}}catch(_){St(l,l.return,_)}if(l===o){ue=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,ue=b;break e}ue=l.return}}if(Ue=a,Da(),cr&&typeof cr.onPostCommitFiberRoot=="function")try{cr.onPostCommitFiberRoot(ch,e)}catch{}s=!0}return s}finally{Je=n,js.transition=t}}return!1}function fw(e,t,n){t=ko(n,t),t=nS(e,t,1),e=va(e,t,1),t=An(),e!==null&&($c(e,1,t),Kn(e,t))}function St(e,t,n){if(e.tag===3)fw(e,e,n);else for(;t!==null;){if(t.tag===3){fw(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ya===null||!ya.has(s))){e=ko(n,e),e=sS(t,e,1),t=va(t,e,1),e=An(),t!==null&&($c(t,1,e),Kn(t,e));break}}t=t.return}}function $R(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=An(),e.pingedLanes|=e.suspendedLanes&n,Xt===e&&(un&n)===n&&(Ut===4||Ut===3&&(un&130023424)===un&&500>Pt()-gx?ci(e,0):px|=n),Kn(e,t)}function _S(e,t){t===0&&(e.mode&1?(t=ud,ud<<=1,!(ud&130023424)&&(ud=4194304)):t=1);var n=An();e=$r(e,t),e!==null&&($c(e,t,n),Kn(e,n))}function IR(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),_S(e,n)}function MR(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(re(314))}s!==null&&s.delete(t),_S(e,n)}var SS;SS=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Hn.current)Vn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Vn=!1,_R(e,t,n);Vn=!!(e.flags&131072)}else Vn=!1,dt&&t.flags&1048576&&T_(t,bu,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Qd(e,t),e=t.pendingProps;var a=No(t,jn.current);co(t,n),a=cx(null,t,s,e,a,n);var i=dx();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,qn(s)?(i=!0,wu(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,rx(t),a.updater=gh,t.stateNode=a,a._reactInternals=t,up(t,s,e,n),t=mp(null,t,s,!0,i,n)):(t.tag=0,dt&&i&&Jg(t),Tn(null,t,a,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Qd(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=OR(s),e=As(s,e),a){case 0:t=fp(null,t,s,e,n);break e;case 1:t=sw(null,t,s,e,n);break e;case 11:t=tw(null,t,s,e,n);break e;case 14:t=nw(null,t,s,As(s.type,e),n);break e}throw Error(re(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:As(s,a),fp(e,t,s,a,n);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:As(s,a),sw(e,t,s,a,n);case 3:e:{if(oS(t),e===null)throw Error(re(387));s=t.pendingProps,i=t.memoizedState,a=i.element,$_(e,t),Nu(t,s,null,n);var o=t.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=ko(Error(re(423)),t),t=rw(e,t,s,n,a);break e}else if(s!==a){a=ko(Error(re(424)),t),t=rw(e,t,s,n,a);break e}else for(Jn=xa(t.stateNode.containerInfo.firstChild),Xn=t,dt=!0,Os=null,n=A_(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Co(),s===a){t=Ir(e,t,n);break e}Tn(e,t,s,n)}t=t.child}return t;case 5:return I_(t),e===null&&lp(t),s=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,sp(s,a)?o=null:i!==null&&sp(s,i)&&(t.flags|=32),iS(e,t),Tn(e,t,o,n),t.child;case 6:return e===null&&lp(t),null;case 13:return lS(e,t,n);case 4:return ax(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Eo(t,null,s,n):Tn(e,t,s,n),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:As(s,a),tw(e,t,s,a,n);case 7:return Tn(e,t,t.pendingProps,n),t.child;case 8:return Tn(e,t,t.pendingProps.children,n),t.child;case 12:return Tn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,st(_u,s._currentValue),s._currentValue=o,i!==null)if(Vs(i.value,o)){if(i.children===a.children&&!Hn.current){t=Ir(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=Pr(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),cp(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(re(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),cp(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Tn(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,co(t,n),a=Ss(a),s=s(a),t.flags|=1,Tn(e,t,s,n),t.child;case 14:return s=t.type,a=As(s,t.pendingProps),a=As(s.type,a),nw(e,t,s,a,n);case 15:return rS(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:As(s,a),Qd(e,t),t.tag=1,qn(s)?(e=!0,wu(t)):e=!1,co(t,n),tS(t,s,a),up(t,s,a,n),mp(null,t,s,!0,e,n);case 19:return cS(e,t,n);case 22:return aS(e,t,n)}throw Error(re(156,t.tag))};function NS(e,t){return Xb(e,t)}function LR(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ys(e,t,n,s){return new LR(e,t,n,s)}function wx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function OR(e){if(typeof e=="function")return wx(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Fg)return 11;if(e===Ug)return 14}return 2}function ja(e,t){var n=e.alternate;return n===null?(n=ys(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Xd(e,t,n,s,a,i){var o=2;if(s=e,typeof e=="function")wx(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Vi:return di(n.children,a,i,t);case Og:o=8,a|=8;break;case Im:return e=ys(12,n,t,a|2),e.elementType=Im,e.lanes=i,e;case Mm:return e=ys(13,n,t,a),e.elementType=Mm,e.lanes=i,e;case Lm:return e=ys(19,n,t,a),e.elementType=Lm,e.lanes=i,e;case Ib:return yh(n,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Db:o=10;break e;case $b:o=9;break e;case Fg:o=11;break e;case Ug:o=14;break e;case Xr:o=16,s=null;break e}throw Error(re(130,e==null?e:typeof e,""))}return t=ys(o,n,t,a),t.elementType=e,t.type=s,t.lanes=i,t}function di(e,t,n,s){return e=ys(7,e,s,t),e.lanes=n,e}function yh(e,t,n,s){return e=ys(22,e,s,t),e.elementType=Ib,e.lanes=n,e.stateNode={isHidden:!1},e}function zf(e,t,n){return e=ys(6,e,null,t),e.lanes=n,e}function Vf(e,t,n){return t=ys(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function FR(e,t,n,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_f(0),this.expirationTimes=_f(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_f(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function jx(e,t,n,s,a,i,o,l,c){return e=new FR(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ys(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},rx(i),e}function UR(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zi,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function CS(e){if(!e)return Na;e=e._reactInternals;e:{if(_i(e)!==e||e.tag!==1)throw Error(re(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(qn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(re(171))}if(e.tag===1){var n=e.type;if(qn(n))return C_(e,n,t)}return t}function ES(e,t,n,s,a,i,o,l,c){return e=jx(n,s,!0,e,a,i,o,l,c),e.context=CS(null),n=e.current,s=An(),a=wa(n),i=Pr(s,a),i.callback=t??null,va(n,i,a),e.current.lanes=a,$c(e,a,s),Kn(e,s),e}function wh(e,t,n,s){var a=t.current,i=An(),o=wa(a);return n=CS(n),t.context===null?t.context=n:t.pendingContext=n,t=Pr(i,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=va(a,t,o),e!==null&&(zs(e,a,o,i),qd(e,a,o)),o}function Du(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function mw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function bx(e,t){mw(e,t),(e=e.alternate)&&mw(e,t)}function BR(){return null}var TS=typeof reportError=="function"?reportError:function(e){console.error(e)};function _x(e){this._internalRoot=e}jh.prototype.render=_x.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(re(409));wh(e,t,null,null)};jh.prototype.unmount=_x.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xi(function(){wh(null,e,null,null)}),t[Dr]=null}};function jh(e){this._internalRoot=e}jh.prototype.unstable_scheduleHydration=function(e){if(e){var t=a_();e={blockedOn:null,target:e,priority:t};for(var n=0;n<na.length&&t!==0&&t<na[n].priority;n++);na.splice(n,0,e),n===0&&o_(e)}};function Sx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function bh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function pw(){}function zR(e,t,n,s,a){if(a){if(typeof s=="function"){var i=s;s=function(){var d=Du(o);i.call(d)}}var o=ES(t,s,e,0,null,!1,!1,"",pw);return e._reactRootContainer=o,e[Dr]=o.current,nc(e.nodeType===8?e.parentNode:e),xi(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var l=s;s=function(){var d=Du(c);l.call(d)}}var c=jx(e,0,!1,null,null,!1,!1,"",pw);return e._reactRootContainer=c,e[Dr]=c.current,nc(e.nodeType===8?e.parentNode:e),xi(function(){wh(t,c,n,s)}),c}function _h(e,t,n,s,a){var i=n._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=Du(o);l.call(c)}}wh(t,o,e,a)}else o=zR(n,t,e,a,s);return Du(o)}s_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=wl(t.pendingLanes);n!==0&&(Vg(t,n|1),Kn(t,Pt()),!(Ue&6)&&(Po=Pt()+500,Da()))}break;case 13:xi(function(){var s=$r(e,1);if(s!==null){var a=An();zs(s,e,1,a)}}),bx(e,1)}};Wg=function(e){if(e.tag===13){var t=$r(e,134217728);if(t!==null){var n=An();zs(t,e,134217728,n)}bx(e,134217728)}};r_=function(e){if(e.tag===13){var t=wa(e),n=$r(e,t);if(n!==null){var s=An();zs(n,e,t,s)}bx(e,t)}};a_=function(){return Je};i_=function(e,t){var n=Je;try{return Je=e,t()}finally{Je=n}};Km=function(e,t,n){switch(t){case"input":if(Um(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var a=fh(s);if(!a)throw Error(re(90));Lb(s),Um(s,a)}}}break;case"textarea":Fb(e,n);break;case"select":t=n.value,t!=null&&ao(e,!!n.multiple,t,!1)}};qb=xx;Kb=xi;var VR={usingClientEntryPoint:!1,Events:[Mc,Ki,fh,Wb,Hb,xx]},hl={findFiberByHostInstance:Xa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},WR={bundleType:hl.bundleType,version:hl.version,rendererPackageName:hl.rendererPackageName,rendererConfig:hl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Br.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Yb(e),e===null?null:e.stateNode},findFiberByHostInstance:hl.findFiberByHostInstance||BR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bd.isDisabled&&bd.supportsFiber)try{ch=bd.inject(WR),cr=bd}catch{}}ss.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VR;ss.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sx(t))throw Error(re(200));return UR(e,t,null,n)};ss.createRoot=function(e,t){if(!Sx(e))throw Error(re(299));var n=!1,s="",a=TS;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=jx(e,1,!1,null,null,n,!1,s,a),e[Dr]=t.current,nc(e.nodeType===8?e.parentNode:e),new _x(t)};ss.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(re(188)):(e=Object.keys(e).join(","),Error(re(268,e)));return e=Yb(t),e=e===null?null:e.stateNode,e};ss.flushSync=function(e){return xi(e)};ss.hydrate=function(e,t,n){if(!bh(t))throw Error(re(200));return _h(null,e,t,!0,n)};ss.hydrateRoot=function(e,t,n){if(!Sx(e))throw Error(re(405));var s=n!=null&&n.hydratedSources||null,a=!1,i="",o=TS;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=ES(t,null,e,1,n??null,a,!1,i,o),e[Dr]=t.current,nc(e),s)for(e=0;e<s.length;e++)n=s[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new jh(t)};ss.render=function(e,t,n){if(!bh(t))throw Error(re(200));return _h(null,e,t,!1,n)};ss.unmountComponentAtNode=function(e){if(!bh(e))throw Error(re(40));return e._reactRootContainer?(xi(function(){_h(null,null,e,!1,function(){e._reactRootContainer=null,e[Dr]=null})}),!0):!1};ss.unstable_batchedUpdates=xx;ss.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!bh(n))throw Error(re(200));if(e==null||e._reactInternals===void 0)throw Error(re(38));return _h(e,t,n,!1,s)};ss.version="18.3.1-next-f1338f8080-20240426";function kS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kS)}catch(e){console.error(e)}}kS(),kb.exports=ss;var ws=kb.exports;const HR=xb(ws);var PS,gw=ws;PS=gw.createRoot,gw.hydrateRoot;const qR=1,KR=1e6;let Wf=0;function GR(){return Wf=(Wf+1)%Number.MAX_SAFE_INTEGER,Wf.toString()}const Hf=new Map,xw=e=>{if(Hf.has(e))return;const t=setTimeout(()=>{Hf.delete(e),$l({type:"REMOVE_TOAST",toastId:e})},KR);Hf.set(e,t)},QR=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,qR)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?xw(n):e.toasts.forEach(s=>{xw(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Zd=[];let eu={toasts:[]};function $l(e){eu=QR(eu,e),Zd.forEach(t=>{t(eu)})}function ha({...e}){const t=GR(),n=a=>$l({type:"UPDATE_TOAST",toast:{...a,id:t}}),s=()=>$l({type:"DISMISS_TOAST",toastId:t});return $l({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||s()}}}),{id:t,dismiss:s,update:n}}function en(){const[e,t]=m.useState(eu);return m.useEffect(()=>(Zd.push(t),()=>{const n=Zd.indexOf(t);n>-1&&Zd.splice(n,1)}),[e]),{...e,toast:ha,dismiss:n=>$l({type:"DISMISS_TOAST",toastId:n})}}function xe(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function vw(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function RS(...e){return t=>{let n=!1;const s=e.map(a=>{const i=vw(a,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let a=0;a<s.length;a++){const i=s[a];typeof i=="function"?i():vw(e[a],null)}}}}function Ke(...e){return m.useCallback(RS(...e),e)}function YR(e,t){const n=m.createContext(t),s=i=>{const{children:o,...l}=i,c=m.useMemo(()=>l,Object.values(l));return r.jsx(n.Provider,{value:c,children:o})};s.displayName=e+"Provider";function a(i){const o=m.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[s,a]}function as(e,t=[]){let n=[];function s(i,o){const l=m.createContext(o),c=n.length;n=[...n,o];const d=h=>{var p;const{scope:f,children:g,...j}=h,v=((p=f==null?void 0:f[e])==null?void 0:p[c])||l,w=m.useMemo(()=>j,Object.values(j));return r.jsx(v.Provider,{value:w,children:g})};d.displayName=i+"Provider";function u(h,f){var v;const g=((v=f==null?void 0:f[e])==null?void 0:v[c])||l,j=m.useContext(g);if(j)return j;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=n.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,JR(a,...t)]}function JR(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function Ro(e){const t=ZR(e),n=m.forwardRef((s,a)=>{const{children:i,...o}=s,l=m.Children.toArray(i),c=l.find(tA);if(c){const d=c.props.children,u=l.map(h=>h===c?m.Children.count(d)>1?m.Children.only(null):m.isValidElement(d)?d.props.children:null:h);return r.jsx(t,{...o,ref:a,children:m.isValidElement(d)?m.cloneElement(d,void 0,u):null})}return r.jsx(t,{...o,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}var XR=Ro("Slot");function ZR(e){const t=m.forwardRef((n,s)=>{const{children:a,...i}=n;if(m.isValidElement(a)){const o=sA(a),l=nA(i,a.props);return a.type!==m.Fragment&&(l.ref=s?RS(s,o):o),m.cloneElement(a,l)}return m.Children.count(a)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var AS=Symbol("radix.slottable");function eA(e){const t=({children:n})=>r.jsx(r.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=AS,t}function tA(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===AS}function nA(e,t){const n={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?n[s]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(n[s]=a):s==="style"?n[s]={...a,...i}:s==="className"&&(n[s]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function sA(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Nx(e){const t=e+"CollectionProvider",[n,s]=as(t),[a,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:w,children:p}=v,x=$e.useRef(null),y=$e.useRef(new Map).current;return r.jsx(a,{scope:w,itemMap:y,collectionRef:x,children:p})};o.displayName=t;const l=e+"CollectionSlot",c=Ro(l),d=$e.forwardRef((v,w)=>{const{scope:p,children:x}=v,y=i(l,p),b=Ke(w,y.collectionRef);return r.jsx(c,{ref:b,children:x})});d.displayName=l;const u=e+"CollectionItemSlot",h="data-radix-collection-item",f=Ro(u),g=$e.forwardRef((v,w)=>{const{scope:p,children:x,...y}=v,b=$e.useRef(null),_=Ke(w,b),E=i(u,p);return $e.useEffect(()=>(E.itemMap.set(b,{ref:b,...y}),()=>void E.itemMap.delete(b))),r.jsx(f,{[h]:"",ref:_,children:x})});g.displayName=u;function j(v){const w=i(e+"CollectionConsumer",v);return $e.useCallback(()=>{const x=w.collectionRef.current;if(!x)return[];const y=Array.from(x.querySelectorAll(`[${h}]`));return Array.from(w.itemMap.values()).sort((E,C)=>y.indexOf(E.ref.current)-y.indexOf(C.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:d,ItemSlot:g},j,s]}var rA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ve=rA.reduce((e,t)=>{const n=Ro(`Primitive.${t}`),s=m.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:i})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function DS(e,t){e&&ws.flushSync(()=>e.dispatchEvent(t))}function ns(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}function aA(e,t=globalThis==null?void 0:globalThis.document){const n=ns(e);m.useEffect(()=>{const s=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var iA="DismissableLayer",Cp="dismissableLayer.update",oA="dismissableLayer.pointerDownOutside",lA="dismissableLayer.focusOutside",yw,$S=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Oc=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=m.useContext($S),[u,h]=m.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),j=Ke(t,C=>h(C)),v=Array.from(d.layers),[w]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),p=v.indexOf(w),x=u?v.indexOf(u):-1,y=d.layersWithOutsidePointerEventsDisabled.size>0,b=x>=p,_=dA(C=>{const N=C.target,k=[...d.branches].some(R=>R.contains(N));!b||k||(a==null||a(C),o==null||o(C),C.defaultPrevented||l==null||l())},f),E=uA(C=>{const N=C.target;[...d.branches].some(R=>R.contains(N))||(i==null||i(C),o==null||o(C),C.defaultPrevented||l==null||l())},f);return aA(C=>{x===d.layers.size-1&&(s==null||s(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},f),m.useEffect(()=>{if(u)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(yw=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),ww(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=yw)}},[u,f,n,d]),m.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),ww())},[u,d]),m.useEffect(()=>{const C=()=>g({});return document.addEventListener(Cp,C),()=>document.removeEventListener(Cp,C)},[]),r.jsx(ve.div,{...c,ref:j,style:{pointerEvents:y?b?"auto":"none":void 0,...e.style},onFocusCapture:xe(e.onFocusCapture,E.onFocusCapture),onBlurCapture:xe(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:xe(e.onPointerDownCapture,_.onPointerDownCapture)})});Oc.displayName=iA;var cA="DismissableLayerBranch",IS=m.forwardRef((e,t)=>{const n=m.useContext($S),s=m.useRef(null),a=Ke(t,s);return m.useEffect(()=>{const i=s.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),r.jsx(ve.div,{...e,ref:a})});IS.displayName=cA;function dA(e,t=globalThis==null?void 0:globalThis.document){const n=ns(e),s=m.useRef(!1),a=m.useRef(()=>{});return m.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let c=function(){MS(oA,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function uA(e,t=globalThis==null?void 0:globalThis.document){const n=ns(e),s=m.useRef(!1);return m.useEffect(()=>{const a=i=>{i.target&&!s.current&&MS(lA,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function ww(){const e=new CustomEvent(Cp);document.dispatchEvent(e)}function MS(e,t,n,{discrete:s}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),s?DS(a,i):a.dispatchEvent(i)}var hA=Oc,fA=IS,Rt=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},mA="Portal",Fc=m.forwardRef((e,t)=>{var l;const{container:n,...s}=e,[a,i]=m.useState(!1);Rt(()=>i(!0),[]);const o=n||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?HR.createPortal(r.jsx(ve.div,{...s,ref:t}),o):null});Fc.displayName=mA;function pA(e,t){return m.useReducer((n,s)=>t[n][s]??n,e)}var xr=e=>{const{present:t,children:n}=e,s=gA(t),a=typeof n=="function"?n({present:s.isPresent}):m.Children.only(n),i=Ke(s.ref,xA(a));return typeof n=="function"||s.isPresent?m.cloneElement(a,{ref:i}):null};xr.displayName="Presence";function gA(e){const[t,n]=m.useState(),s=m.useRef(null),a=m.useRef(e),i=m.useRef("none"),o=e?"mounted":"unmounted",[l,c]=pA(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const d=_d(s.current);i.current=l==="mounted"?d:"none"},[l]),Rt(()=>{const d=s.current,u=a.current;if(u!==e){const f=i.current,g=_d(d);e?c("MOUNT"):g==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&f!==g?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Rt(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,h=g=>{const v=_d(s.current).includes(g.animationName);if(g.target===t&&v&&(c("ANIMATION_END"),!a.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},f=g=>{g.target===t&&(i.current=_d(s.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(d=>{s.current=d?getComputedStyle(d):null,n(d)},[])}}function _d(e){return(e==null?void 0:e.animationName)||"none"}function xA(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var vA=$g[" useInsertionEffect ".trim().toString()]||Rt;function Mr({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[a,i,o]=yA({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:a;{const u=m.useRef(e!==void 0);m.useEffect(()=>{const h=u.current;h!==l&&console.warn(`${s} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,s])}const d=m.useCallback(u=>{var h;if(l){const f=wA(u)?u(e):u;f!==e&&((h=o.current)==null||h.call(o,f))}else i(u)},[l,e,i,o]);return[c,d]}function yA({defaultProp:e,onChange:t}){const[n,s]=m.useState(e),a=m.useRef(n),i=m.useRef(t);return vA(()=>{i.current=t},[t]),m.useEffect(()=>{var o;a.current!==n&&((o=i.current)==null||o.call(i,n),a.current=n)},[n,a]),[n,s,i]}function wA(e){return typeof e=="function"}var LS=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),jA="VisuallyHidden",Sh=m.forwardRef((e,t)=>r.jsx(ve.span,{...e,ref:t,style:{...LS,...e.style}}));Sh.displayName=jA;var bA=Sh,Cx="ToastProvider",[Ex,_A,SA]=Nx("Toast"),[OS,D7]=as("Toast",[SA]),[NA,Nh]=OS(Cx),FS=e=>{const{__scopeToast:t,label:n="Notification",duration:s=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=m.useState(null),[d,u]=m.useState(0),h=m.useRef(!1),f=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Cx}\`. Expected non-empty \`string\`.`),r.jsx(Ex.Provider,{scope:t,children:r.jsx(NA,{scope:t,label:n,duration:s,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:m.useCallback(()=>u(g=>g+1),[]),onToastRemove:m.useCallback(()=>u(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};FS.displayName=Cx;var US="ToastViewport",CA=["F8"],Ep="toast.viewportPause",Tp="toast.viewportResume",BS=m.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:s=CA,label:a="Notifications ({hotkey})",...i}=e,o=Nh(US,n),l=_A(n),c=m.useRef(null),d=m.useRef(null),u=m.useRef(null),h=m.useRef(null),f=Ke(t,h,o.onViewportChange),g=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=o.toastCount>0;m.useEffect(()=>{const w=p=>{var y;s.length!==0&&s.every(b=>p[b]||p.code===b)&&((y=h.current)==null||y.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[s]),m.useEffect(()=>{const w=c.current,p=h.current;if(j&&w&&p){const x=()=>{if(!o.isClosePausedRef.current){const E=new CustomEvent(Ep);p.dispatchEvent(E),o.isClosePausedRef.current=!0}},y=()=>{if(o.isClosePausedRef.current){const E=new CustomEvent(Tp);p.dispatchEvent(E),o.isClosePausedRef.current=!1}},b=E=>{!w.contains(E.relatedTarget)&&y()},_=()=>{w.contains(document.activeElement)||y()};return w.addEventListener("focusin",x),w.addEventListener("focusout",b),w.addEventListener("pointermove",x),w.addEventListener("pointerleave",_),window.addEventListener("blur",x),window.addEventListener("focus",y),()=>{w.removeEventListener("focusin",x),w.removeEventListener("focusout",b),w.removeEventListener("pointermove",x),w.removeEventListener("pointerleave",_),window.removeEventListener("blur",x),window.removeEventListener("focus",y)}}},[j,o.isClosePausedRef]);const v=m.useCallback(({tabbingDirection:w})=>{const x=l().map(y=>{const b=y.ref.current,_=[b,...FA(b)];return w==="forwards"?_:_.reverse()});return(w==="forwards"?x.reverse():x).flat()},[l]);return m.useEffect(()=>{const w=h.current;if(w){const p=x=>{var _,E,C;const y=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!y){const N=document.activeElement,k=x.shiftKey;if(x.target===w&&k){(_=d.current)==null||_.focus();return}const $=v({tabbingDirection:k?"backwards":"forwards"}),M=$.findIndex(V=>V===N);qf($.slice(M+1))?x.preventDefault():k?(E=d.current)==null||E.focus():(C=u.current)==null||C.focus()}};return w.addEventListener("keydown",p),()=>w.removeEventListener("keydown",p)}},[l,v]),r.jsxs(fA,{ref:c,role:"region","aria-label":a.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:j?void 0:"none"},children:[j&&r.jsx(kp,{ref:d,onFocusFromOutsideViewport:()=>{const w=v({tabbingDirection:"forwards"});qf(w)}}),r.jsx(Ex.Slot,{scope:n,children:r.jsx(ve.ol,{tabIndex:-1,...i,ref:f})}),j&&r.jsx(kp,{ref:u,onFocusFromOutsideViewport:()=>{const w=v({tabbingDirection:"backwards"});qf(w)}})]})});BS.displayName=US;var zS="ToastFocusProxy",kp=m.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:s,...a}=e,i=Nh(zS,n);return r.jsx(Sh,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&s()}})});kp.displayName=zS;var Uc="Toast",EA="toast.swipeStart",TA="toast.swipeMove",kA="toast.swipeCancel",PA="toast.swipeEnd",VS=m.forwardRef((e,t)=>{const{forceMount:n,open:s,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=Mr({prop:s,defaultProp:a??!0,onChange:i,caller:Uc});return r.jsx(xr,{present:n||l,children:r.jsx(DA,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:ns(e.onPause),onResume:ns(e.onResume),onSwipeStart:xe(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:xe(e.onSwipeMove,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:xe(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:xe(e.onSwipeEnd,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});VS.displayName=Uc;var[RA,AA]=OS(Uc,{onClose(){}}),DA=m.forwardRef((e,t)=>{const{__scopeToast:n,type:s="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:g,...j}=e,v=Nh(Uc,n),[w,p]=m.useState(null),x=Ke(t,V=>p(V)),y=m.useRef(null),b=m.useRef(null),_=a||v.duration,E=m.useRef(0),C=m.useRef(_),N=m.useRef(0),{onToastAdd:k,onToastRemove:R}=v,A=ns(()=>{var B;(w==null?void 0:w.contains(document.activeElement))&&((B=v.viewport)==null||B.focus()),o()}),$=m.useCallback(V=>{!V||V===1/0||(window.clearTimeout(N.current),E.current=new Date().getTime(),N.current=window.setTimeout(A,V))},[A]);m.useEffect(()=>{const V=v.viewport;if(V){const B=()=>{$(C.current),d==null||d()},L=()=>{const U=new Date().getTime()-E.current;C.current=C.current-U,window.clearTimeout(N.current),c==null||c()};return V.addEventListener(Ep,L),V.addEventListener(Tp,B),()=>{V.removeEventListener(Ep,L),V.removeEventListener(Tp,B)}}},[v.viewport,_,c,d,$]),m.useEffect(()=>{i&&!v.isClosePausedRef.current&&$(_)},[i,_,v.isClosePausedRef,$]),m.useEffect(()=>(k(),()=>R()),[k,R]);const M=m.useMemo(()=>w?YS(w):null,[w]);return v.viewport?r.jsxs(r.Fragment,{children:[M&&r.jsx($A,{__scopeToast:n,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:M}),r.jsx(RA,{scope:n,onClose:A,children:ws.createPortal(r.jsx(Ex.ItemSlot,{scope:n,children:r.jsx(hA,{asChild:!0,onEscapeKeyDown:xe(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||A(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(ve.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...j,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:xe(e.onKeyDown,V=>{V.key==="Escape"&&(l==null||l(V.nativeEvent),V.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,A()))}),onPointerDown:xe(e.onPointerDown,V=>{V.button===0&&(y.current={x:V.clientX,y:V.clientY})}),onPointerMove:xe(e.onPointerMove,V=>{if(!y.current)return;const B=V.clientX-y.current.x,L=V.clientY-y.current.y,U=!!b.current,D=["left","right"].includes(v.swipeDirection),S=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,T=D?S(0,B):0,P=D?0:S(0,L),F=V.pointerType==="touch"?10:2,I={x:T,y:P},G={originalEvent:V,delta:I};U?(b.current=I,Sd(TA,h,G,{discrete:!1})):jw(I,v.swipeDirection,F)?(b.current=I,Sd(EA,u,G,{discrete:!1}),V.target.setPointerCapture(V.pointerId)):(Math.abs(B)>F||Math.abs(L)>F)&&(y.current=null)}),onPointerUp:xe(e.onPointerUp,V=>{const B=b.current,L=V.target;if(L.hasPointerCapture(V.pointerId)&&L.releasePointerCapture(V.pointerId),b.current=null,y.current=null,B){const U=V.currentTarget,D={originalEvent:V,delta:B};jw(B,v.swipeDirection,v.swipeThreshold)?Sd(PA,g,D,{discrete:!0}):Sd(kA,f,D,{discrete:!0}),U.addEventListener("click",S=>S.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),$A=e=>{const{__scopeToast:t,children:n,...s}=e,a=Nh(Uc,t),[i,o]=m.useState(!1),[l,c]=m.useState(!1);return LA(()=>o(!0)),m.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:r.jsx(Fc,{asChild:!0,children:r.jsx(Sh,{...s,children:i&&r.jsxs(r.Fragment,{children:[a.label," ",n]})})})},IA="ToastTitle",WS=m.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return r.jsx(ve.div,{...s,ref:t})});WS.displayName=IA;var MA="ToastDescription",HS=m.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return r.jsx(ve.div,{...s,ref:t})});HS.displayName=MA;var qS="ToastAction",KS=m.forwardRef((e,t)=>{const{altText:n,...s}=e;return n.trim()?r.jsx(QS,{altText:n,asChild:!0,children:r.jsx(Tx,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${qS}\`. Expected non-empty \`string\`.`),null)});KS.displayName=qS;var GS="ToastClose",Tx=m.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e,a=AA(GS,n);return r.jsx(QS,{asChild:!0,children:r.jsx(ve.button,{type:"button",...s,ref:t,onClick:xe(e.onClick,a.onClose)})})});Tx.displayName=GS;var QS=m.forwardRef((e,t)=>{const{__scopeToast:n,altText:s,...a}=e;return r.jsx(ve.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...a,ref:t})});function YS(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),OA(s)){const a=s.ariaHidden||s.hidden||s.style.display==="none",i=s.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=s.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...YS(s))}}),t}function Sd(e,t,n,{discrete:s}){const a=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),s?DS(a,i):a.dispatchEvent(i)}var jw=(e,t,n=0)=>{const s=Math.abs(e.x),a=Math.abs(e.y),i=s>a;return t==="left"||t==="right"?i&&s>n:!i&&a>n};function LA(e=()=>{}){const t=ns(e);Rt(()=>{let n=0,s=0;return n=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(s)}},[t])}function OA(e){return e.nodeType===e.ELEMENT_NODE}function FA(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function qf(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var UA=FS,JS=BS,XS=VS,ZS=WS,eN=HS,tN=KS,nN=Tx;function sN(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=sN(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function rN(){for(var e,t,n=0,s="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=sN(e))&&(s&&(s+=" "),s+=t);return s}const bw=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,_w=rN,Bo=(e,t)=>n=>{var s;if((t==null?void 0:t.variants)==null)return _w(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(d=>{const u=n==null?void 0:n[d],h=i==null?void 0:i[d];if(u===null)return null;const f=bw(u)||bw(h);return a[d][f]}),l=n&&Object.entries(n).reduce((d,u)=>{let[h,f]=u;return f===void 0||(d[h]=f),d},{}),c=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((d,u)=>{let{class:h,className:f,...g}=u;return Object.entries(g).every(j=>{let[v,w]=j;return Array.isArray(w)?w.includes({...i,...l}[v]):{...i,...l}[v]===w})?[...d,h,f]:d},[]);return _w(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zA=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),Sw=e=>{const t=zA(e);return t.charAt(0).toUpperCase()+t.slice(1)},aN=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),VA=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var WA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:i,iconNode:o,...l},c)=>m.createElement("svg",{ref:c,...WA,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:aN("lucide",a),...!i&&!VA(l)&&{"aria-hidden":"true"},...l},[...o.map(([d,u])=>m.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=(e,t)=>{const n=m.forwardRef(({className:s,...a},i)=>m.createElement(HA,{ref:i,iconNode:t,className:aN(`lucide-${BA(Sw(e))}`,`lucide-${e}`,s),...a}));return n.displayName=Sw(e),n};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Us=pe("activity",qA);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],GA=pe("arrow-left-right",KA);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Il=pe("arrow-left",QA);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Kf=pe("arrow-right",YA);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],Pi=pe("arrow-up-down",JA);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],ZA=pe("bot",XA);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]],tD=pe("bug",eD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],sD=pe("calculator",nD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Zn=pe("calendar",rD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],iD=pe("chart-column",aD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],kx=pe("check",oD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ch=pe("chevron-down",lD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Px=pe("chevron-up",cD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],We=pe("circle-alert",dD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Pn=pe("circle-check-big",uD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],fD=pe("circle-x",hD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Qn=pe("clock",mD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]],gD=pe("cog",pD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Er=pe("database",xD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Pp=pe("dollar-sign",vD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Rx=pe("external-link",yD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],uc=pe("file-text",wD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],iN=pe("funnel",jD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],_D=pe("grip-vertical",bD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],ND=pe("history",SD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],ED=pe("house",CD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Nw=pe("info",TD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],dn=pe("loader-circle",kD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],RD=pe("lock",PD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],DD=pe("menu",AD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=[["path",{d:"M5 12h14",key:"1ays0h"}]],ID=pe("minus",$D);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],LD=pe("moon",MD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],FD=pe("pause",OD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],BD=pe("play",UD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],$u=pe("plus",zD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ye=pe("refresh-cw",VD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],HD=pe("rocket",WD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],oN=pe("rotate-ccw",qD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],lN=pe("save",KD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ax=pe("search",GD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],Gf=pe("server",QD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Iu=pe("settings",YD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ur=pe("shield",JD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Mu=pe("square-pen",XD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],cN=pe("star",ZD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e$=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],t$=pe("sun",e$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n$=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],hc=pe("swords",n$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],tu=pe("target",s$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r$=[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]],a$=pe("test-tube",r$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i$=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],o$=pe("timer",i$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l$=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Bc=pe("trending-up",l$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c$=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ml=pe("triangle-alert",c$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],$t=pe("trophy",d$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],Ll=pe("user-check",u$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h$=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],f$=pe("user",h$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Zt=pe("users",m$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p$=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Eh=pe("x",p$),Dx="-",g$=e=>{const t=v$(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:o=>{const l=o.split(Dx);return l[0]===""&&l.length!==1&&l.shift(),dN(l,t)||x$(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&s[o]?[...c,...s[o]]:c}}},dN=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),a=s?dN(e.slice(1),s):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(Dx);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},Cw=/^\[(.+)\]$/,x$=e=>{if(Cw.test(e)){const t=Cw.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},v$=e=>{const{theme:t,prefix:n}=e,s={nextPart:new Map,validators:[]};return w$(Object.entries(e.classGroups),n).forEach(([i,o])=>{Rp(o,s,i,t)}),s},Rp=(e,t,n,s)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:Ew(t,a);i.classGroupId=n;return}if(typeof a=="function"){if(y$(a)){Rp(a(s),t,n,s);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([i,o])=>{Rp(o,Ew(t,i),n,s)})})},Ew=(e,t)=>{let n=e;return t.split(Dx).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},y$=e=>e.isThemeGetter,w$=(e,t)=>t?e.map(([n,s])=>{const a=s.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[n,a]}):e,j$=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const a=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,s=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=s.get(i))!==void 0)return a(i,o),o},set(i,o){n.has(i)?n.set(i,o):a(i,o)}}},uN="!",b$=e=>{const{separator:t,experimentalParseClassName:n}=e,s=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let d=0,u=0,h;for(let w=0;w<l.length;w++){let p=l[w];if(d===0){if(p===a&&(s||l.slice(w,w+i)===t)){c.push(l.slice(u,w)),u=w+i;continue}if(p==="/"){h=w;continue}}p==="["?d++:p==="]"&&d--}const f=c.length===0?l:l.substring(u),g=f.startsWith(uN),j=g?f.substring(1):f,v=h&&h>u?h-u:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:j,maybePostfixModifierPosition:v}};return n?l=>n({className:l,parseClassName:o}):o},_$=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(s=>{s[0]==="["?(t.push(...n.sort(),s),n=[]):n.push(s)}),t.push(...n.sort()),t},S$=e=>({cache:j$(e.cacheSize),parseClassName:b$(e),...g$(e)}),N$=/\s+/,C$=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(N$);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:g}=n(d);let j=!!g,v=s(j?f.substring(0,g):f);if(!v){if(!j){l=d+(l.length>0?" "+l:l);continue}if(v=s(f),!v){l=d+(l.length>0?" "+l:l);continue}j=!1}const w=_$(u).join(":"),p=h?w+uN:w,x=p+v;if(i.includes(x))continue;i.push(x);const y=a(v,j);for(let b=0;b<y.length;++b){const _=y[b];i.push(p+_)}l=d+(l.length>0?" "+l:l)}return l};function E$(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=hN(t))&&(s&&(s+=" "),s+=n);return s}const hN=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=hN(e[s]))&&(n&&(n+=" "),n+=t);return n};function T$(e,...t){let n,s,a,i=o;function o(c){const d=t.reduce((u,h)=>h(u),e());return n=S$(d),s=n.cache.get,a=n.cache.set,i=l,l(c)}function l(c){const d=s(c);if(d)return d;const u=C$(c,n);return a(c,u),u}return function(){return i(E$.apply(null,arguments))}}const it=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},fN=/^\[(?:([a-z-]+):)?(.+)\]$/i,k$=/^\d+\/\d+$/,P$=new Set(["px","full","screen"]),R$=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,A$=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,D$=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,$$=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,I$=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,wr=e=>ho(e)||P$.has(e)||k$.test(e),Hr=e=>zo(e,"length",V$),ho=e=>!!e&&!Number.isNaN(Number(e)),Qf=e=>zo(e,"number",ho),fl=e=>!!e&&Number.isInteger(Number(e)),M$=e=>e.endsWith("%")&&ho(e.slice(0,-1)),Te=e=>fN.test(e),qr=e=>R$.test(e),L$=new Set(["length","size","percentage"]),O$=e=>zo(e,L$,mN),F$=e=>zo(e,"position",mN),U$=new Set(["image","url"]),B$=e=>zo(e,U$,H$),z$=e=>zo(e,"",W$),ml=()=>!0,zo=(e,t,n)=>{const s=fN.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):n(s[2]):!1},V$=e=>A$.test(e)&&!D$.test(e),mN=()=>!1,W$=e=>$$.test(e),H$=e=>I$.test(e),q$=()=>{const e=it("colors"),t=it("spacing"),n=it("blur"),s=it("brightness"),a=it("borderColor"),i=it("borderRadius"),o=it("borderSpacing"),l=it("borderWidth"),c=it("contrast"),d=it("grayscale"),u=it("hueRotate"),h=it("invert"),f=it("gap"),g=it("gradientColorStops"),j=it("gradientColorStopPositions"),v=it("inset"),w=it("margin"),p=it("opacity"),x=it("padding"),y=it("saturate"),b=it("scale"),_=it("sepia"),E=it("skew"),C=it("space"),N=it("translate"),k=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",Te,t],$=()=>[Te,t],M=()=>["",wr,Hr],V=()=>["auto",ho,Te],B=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["solid","dashed","dotted","double","none"],U=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],S=()=>["","0",Te],T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],P=()=>[ho,Te];return{cacheSize:500,separator:":",theme:{colors:[ml],spacing:[wr,Hr],blur:["none","",qr,Te],brightness:P(),borderColor:[e],borderRadius:["none","","full",qr,Te],borderSpacing:$(),borderWidth:M(),contrast:P(),grayscale:S(),hueRotate:P(),invert:S(),gap:$(),gradientColorStops:[e],gradientColorStopPositions:[M$,Hr],inset:A(),margin:A(),opacity:P(),padding:$(),saturate:P(),scale:P(),sepia:S(),skew:P(),space:$(),translate:$()},classGroups:{aspect:[{aspect:["auto","square","video",Te]}],container:["container"],columns:[{columns:[qr]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...B(),Te]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",fl,Te]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Te]}],grow:[{grow:S()}],shrink:[{shrink:S()}],order:[{order:["first","last","none",fl,Te]}],"grid-cols":[{"grid-cols":[ml]}],"col-start-end":[{col:["auto",{span:["full",fl,Te]},Te]}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":[ml]}],"row-start-end":[{row:["auto",{span:[fl,Te]},Te]}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Te]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Te]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Te,t]}],"min-w":[{"min-w":[Te,t,"min","max","fit"]}],"max-w":[{"max-w":[Te,t,"none","full","min","max","fit","prose",{screen:[qr]},qr]}],h:[{h:[Te,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Te,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Te,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Te,t,"auto","min","max","fit"]}],"font-size":[{text:["base",qr,Hr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Qf]}],"font-family":[{font:[ml]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Te]}],"line-clamp":[{"line-clamp":["none",ho,Qf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",wr,Te]}],"list-image":[{"list-image":["none",Te]}],"list-style-type":[{list:["none","disc","decimal",Te]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",wr,Hr]}],"underline-offset":[{"underline-offset":["auto",wr,Te]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...B(),F$]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",O$]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},B$]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[j]}],"gradient-via-pos":[{via:[j]}],"gradient-to-pos":[{to:[j]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[...L(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:L()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...L()]}],"outline-offset":[{"outline-offset":[wr,Te]}],"outline-w":[{outline:[wr,Hr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[wr,Hr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",qr,z$]}],"shadow-color":[{shadow:[ml]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":[...U(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":U()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",qr,Te]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[y]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Te]}],duration:[{duration:P()}],ease:[{ease:["linear","in","out","in-out",Te]}],delay:[{delay:P()}],animate:[{animate:["none","spin","ping","pulse","bounce",Te]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[fl,Te]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Te]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Te]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Te]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[wr,Hr,Qf]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},K$=T$(q$);function me(...e){return K$(rN(e))}const G$=UA,pN=m.forwardRef(({className:e,...t},n)=>r.jsx(JS,{ref:n,className:me("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));pN.displayName=JS.displayName;const Q$=Bo("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),gN=m.forwardRef(({className:e,variant:t,...n},s)=>r.jsx(XS,{ref:s,className:me(Q$({variant:t}),e),...n}));gN.displayName=XS.displayName;const Y$=m.forwardRef(({className:e,...t},n)=>r.jsx(tN,{ref:n,className:me("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));Y$.displayName=tN.displayName;const xN=m.forwardRef(({className:e,...t},n)=>r.jsx(nN,{ref:n,className:me("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:r.jsx(Eh,{className:"h-4 w-4"})}));xN.displayName=nN.displayName;const vN=m.forwardRef(({className:e,...t},n)=>r.jsx(ZS,{ref:n,className:me("text-sm font-semibold [&+div]:text-xs",e),...t}));vN.displayName=ZS.displayName;const yN=m.forwardRef(({className:e,...t},n)=>r.jsx(eN,{ref:n,className:me("text-sm opacity-90",e),...t}));yN.displayName=eN.displayName;function J$(){const{toasts:e}=en();return r.jsxs(G$,{children:[e.map(function({id:t,title:n,description:s,action:a,...i}){return r.jsxs(gN,{...i,children:[r.jsxs("div",{className:"grid gap-1",children:[n&&r.jsx(vN,{children:n}),s&&r.jsx(yN,{children:s})]}),a,r.jsx(xN,{})]},t)}),r.jsx(pN,{})]})}var X$=$g[" useId ".trim().toString()]||(()=>{}),Z$=0;function Rr(e){const[t,n]=m.useState(X$());return Rt(()=>{n(s=>s??String(Z$++))},[e]),t?`radix-${t}`:""}const eI=["top","right","bottom","left"],Ca=Math.min,Yn=Math.max,Lu=Math.round,Nd=Math.floor,hr=e=>({x:e,y:e}),tI={left:"right",right:"left",bottom:"top",top:"bottom"},nI={start:"end",end:"start"};function Ap(e,t,n){return Yn(e,Ca(t,n))}function Lr(e,t){return typeof e=="function"?e(t):e}function Or(e){return e.split("-")[0]}function Vo(e){return e.split("-")[1]}function $x(e){return e==="x"?"y":"x"}function Ix(e){return e==="y"?"height":"width"}const sI=new Set(["top","bottom"]);function lr(e){return sI.has(Or(e))?"y":"x"}function Mx(e){return $x(lr(e))}function rI(e,t,n){n===void 0&&(n=!1);const s=Vo(e),a=Mx(e),i=Ix(a);let o=a==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Ou(o)),[o,Ou(o)]}function aI(e){const t=Ou(e);return[Dp(e),t,Dp(t)]}function Dp(e){return e.replace(/start|end/g,t=>nI[t])}const Tw=["left","right"],kw=["right","left"],iI=["top","bottom"],oI=["bottom","top"];function lI(e,t,n){switch(e){case"top":case"bottom":return n?t?kw:Tw:t?Tw:kw;case"left":case"right":return t?iI:oI;default:return[]}}function cI(e,t,n,s){const a=Vo(e);let i=lI(Or(e),n==="start",s);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(Dp)))),i}function Ou(e){return e.replace(/left|right|bottom|top/g,t=>tI[t])}function dI(e){return{top:0,right:0,bottom:0,left:0,...e}}function wN(e){return typeof e!="number"?dI(e):{top:e,right:e,bottom:e,left:e}}function Fu(e){const{x:t,y:n,width:s,height:a}=e;return{width:s,height:a,top:n,left:t,right:t+s,bottom:n+a,x:t,y:n}}function Pw(e,t,n){let{reference:s,floating:a}=e;const i=lr(t),o=Mx(t),l=Ix(o),c=Or(t),d=i==="y",u=s.x+s.width/2-a.width/2,h=s.y+s.height/2-a.height/2,f=s[l]/2-a[l]/2;let g;switch(c){case"top":g={x:u,y:s.y-a.height};break;case"bottom":g={x:u,y:s.y+s.height};break;case"right":g={x:s.x+s.width,y:h};break;case"left":g={x:s.x-a.width,y:h};break;default:g={x:s.x,y:s.y}}switch(Vo(t)){case"start":g[o]-=f*(n&&d?-1:1);break;case"end":g[o]+=f*(n&&d?-1:1);break}return g}const uI=async(e,t,n)=>{const{placement:s="bottom",strategy:a="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:h}=Pw(d,s,c),f=s,g={},j=0;for(let v=0;v<l.length;v++){const{name:w,fn:p}=l[v],{x,y,data:b,reset:_}=await p({x:u,y:h,initialPlacement:s,placement:f,strategy:a,middlewareData:g,rects:d,platform:o,elements:{reference:e,floating:t}});u=x??u,h=y??h,g={...g,[w]:{...g[w],...b}},_&&j<=50&&(j++,typeof _=="object"&&(_.placement&&(f=_.placement),_.rects&&(d=_.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):_.rects),{x:u,y:h}=Pw(d,f,c)),v=-1)}return{x:u,y:h,placement:f,strategy:a,middlewareData:g}};async function fc(e,t){var n;t===void 0&&(t={});const{x:s,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:f=!1,padding:g=0}=Lr(t,e),j=wN(g),w=l[f?h==="floating"?"reference":"floating":h],p=Fu(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),x=h==="floating"?{x:s,y:a,width:o.floating.width,height:o.floating.height}:o.reference,y=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),b=await(i.isElement==null?void 0:i.isElement(y))?await(i.getScale==null?void 0:i.getScale(y))||{x:1,y:1}:{x:1,y:1},_=Fu(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:y,strategy:c}):x);return{top:(p.top-_.top+j.top)/b.y,bottom:(_.bottom-p.bottom+j.bottom)/b.y,left:(p.left-_.left+j.left)/b.x,right:(_.right-p.right+j.right)/b.x}}const hI=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=Lr(e,t)||{};if(d==null)return{};const h=wN(u),f={x:n,y:s},g=Mx(a),j=Ix(g),v=await o.getDimensions(d),w=g==="y",p=w?"top":"left",x=w?"bottom":"right",y=w?"clientHeight":"clientWidth",b=i.reference[j]+i.reference[g]-f[g]-i.floating[j],_=f[g]-i.reference[g],E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let C=E?E[y]:0;(!C||!await(o.isElement==null?void 0:o.isElement(E)))&&(C=l.floating[y]||i.floating[j]);const N=b/2-_/2,k=C/2-v[j]/2-1,R=Ca(h[p],k),A=Ca(h[x],k),$=R,M=C-v[j]-A,V=C/2-v[j]/2+N,B=Ap($,V,M),L=!c.arrow&&Vo(a)!=null&&V!==B&&i.reference[j]/2-(V<$?R:A)-v[j]/2<0,U=L?V<$?V-$:V-M:0;return{[g]:f[g]+U,data:{[g]:B,centerOffset:V-B-U,...L&&{alignmentOffset:U}},reset:L}}}),fI=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:v=!0,...w}=Lr(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const p=Or(a),x=lr(l),y=Or(l)===l,b=await(c.isRTL==null?void 0:c.isRTL(d.floating)),_=f||(y||!v?[Ou(l)]:aI(l)),E=j!=="none";!f&&E&&_.push(...cI(l,v,j,b));const C=[l,..._],N=await fc(t,w),k=[];let R=((s=i.flip)==null?void 0:s.overflows)||[];if(u&&k.push(N[p]),h){const V=rI(a,o,b);k.push(N[V[0]],N[V[1]])}if(R=[...R,{placement:a,overflows:k}],!k.every(V=>V<=0)){var A,$;const V=(((A=i.flip)==null?void 0:A.index)||0)+1,B=C[V];if(B&&(!(h==="alignment"?x!==lr(B):!1)||R.every(D=>D.overflows[0]>0&&lr(D.placement)===x)))return{data:{index:V,overflows:R},reset:{placement:B}};let L=($=R.filter(U=>U.overflows[0]<=0).sort((U,D)=>U.overflows[1]-D.overflows[1])[0])==null?void 0:$.placement;if(!L)switch(g){case"bestFit":{var M;const U=(M=R.filter(D=>{if(E){const S=lr(D.placement);return S===x||S==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(S=>S>0).reduce((S,T)=>S+T,0)]).sort((D,S)=>D[1]-S[1])[0])==null?void 0:M[0];U&&(L=U);break}case"initialPlacement":L=l;break}if(a!==L)return{reset:{placement:L}}}return{}}}};function Rw(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Aw(e){return eI.some(t=>e[t]>=0)}const mI=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:s="referenceHidden",...a}=Lr(e,t);switch(s){case"referenceHidden":{const i=await fc(t,{...a,elementContext:"reference"}),o=Rw(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Aw(o)}}}case"escaped":{const i=await fc(t,{...a,altBoundary:!0}),o=Rw(i,n.floating);return{data:{escapedOffsets:o,escaped:Aw(o)}}}default:return{}}}}},jN=new Set(["left","top"]);async function pI(e,t){const{placement:n,platform:s,elements:a}=e,i=await(s.isRTL==null?void 0:s.isRTL(a.floating)),o=Or(n),l=Vo(n),c=lr(n)==="y",d=jN.has(o)?-1:1,u=i&&c?-1:1,h=Lr(t,e);let{mainAxis:f,crossAxis:g,alignmentAxis:j}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof j=="number"&&(g=l==="end"?j*-1:j),c?{x:g*u,y:f*d}:{x:f*d,y:g*u}}const gI=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await pI(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},xI=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:w=>{let{x:p,y:x}=w;return{x:p,y:x}}},...c}=Lr(e,t),d={x:n,y:s},u=await fc(t,c),h=lr(Or(a)),f=$x(h);let g=d[f],j=d[h];if(i){const w=f==="y"?"top":"left",p=f==="y"?"bottom":"right",x=g+u[w],y=g-u[p];g=Ap(x,g,y)}if(o){const w=h==="y"?"top":"left",p=h==="y"?"bottom":"right",x=j+u[w],y=j-u[p];j=Ap(x,j,y)}const v=l.fn({...t,[f]:g,[h]:j});return{...v,data:{x:v.x-n,y:v.y-s,enabled:{[f]:i,[h]:o}}}}}},vI=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Lr(e,t),u={x:n,y:s},h=lr(a),f=$x(h);let g=u[f],j=u[h];const v=Lr(l,t),w=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const y=f==="y"?"height":"width",b=i.reference[f]-i.floating[y]+w.mainAxis,_=i.reference[f]+i.reference[y]-w.mainAxis;g<b?g=b:g>_&&(g=_)}if(d){var p,x;const y=f==="y"?"width":"height",b=jN.has(Or(a)),_=i.reference[h]-i.floating[y]+(b&&((p=o.offset)==null?void 0:p[h])||0)+(b?0:w.crossAxis),E=i.reference[h]+i.reference[y]+(b?0:((x=o.offset)==null?void 0:x[h])||0)-(b?w.crossAxis:0);j<_?j=_:j>E&&(j=E)}return{[f]:g,[h]:j}}}},yI=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=Lr(e,t),u=await fc(t,d),h=Or(a),f=Vo(a),g=lr(a)==="y",{width:j,height:v}=i.floating;let w,p;h==="top"||h==="bottom"?(w=h,p=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(p=h,w=f==="end"?"top":"bottom");const x=v-u.top-u.bottom,y=j-u.left-u.right,b=Ca(v-u[w],x),_=Ca(j-u[p],y),E=!t.middlewareData.shift;let C=b,N=_;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(N=y),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(C=x),E&&!f){const R=Yn(u.left,0),A=Yn(u.right,0),$=Yn(u.top,0),M=Yn(u.bottom,0);g?N=j-2*(R!==0||A!==0?R+A:Yn(u.left,u.right)):C=v-2*($!==0||M!==0?$+M:Yn(u.top,u.bottom))}await c({...t,availableWidth:N,availableHeight:C});const k=await o.getDimensions(l.floating);return j!==k.width||v!==k.height?{reset:{rects:!0}}:{}}}};function Th(){return typeof window<"u"}function Wo(e){return bN(e)?(e.nodeName||"").toLowerCase():"#document"}function es(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function vr(e){var t;return(t=(bN(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function bN(e){return Th()?e instanceof Node||e instanceof es(e).Node:!1}function Ws(e){return Th()?e instanceof Element||e instanceof es(e).Element:!1}function gr(e){return Th()?e instanceof HTMLElement||e instanceof es(e).HTMLElement:!1}function Dw(e){return!Th()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof es(e).ShadowRoot}const wI=new Set(["inline","contents"]);function zc(e){const{overflow:t,overflowX:n,overflowY:s,display:a}=Hs(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!wI.has(a)}const jI=new Set(["table","td","th"]);function bI(e){return jI.has(Wo(e))}const _I=[":popover-open",":modal"];function kh(e){return _I.some(t=>{try{return e.matches(t)}catch{return!1}})}const SI=["transform","translate","scale","rotate","perspective"],NI=["transform","translate","scale","rotate","perspective","filter"],CI=["paint","layout","strict","content"];function Lx(e){const t=Ox(),n=Ws(e)?Hs(e):e;return SI.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||NI.some(s=>(n.willChange||"").includes(s))||CI.some(s=>(n.contain||"").includes(s))}function EI(e){let t=Ea(e);for(;gr(t)&&!Ao(t);){if(Lx(t))return t;if(kh(t))return null;t=Ea(t)}return null}function Ox(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const TI=new Set(["html","body","#document"]);function Ao(e){return TI.has(Wo(e))}function Hs(e){return es(e).getComputedStyle(e)}function Ph(e){return Ws(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ea(e){if(Wo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Dw(e)&&e.host||vr(e);return Dw(t)?t.host:t}function _N(e){const t=Ea(e);return Ao(t)?e.ownerDocument?e.ownerDocument.body:e.body:gr(t)&&zc(t)?t:_N(t)}function mc(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=_N(e),i=a===((s=e.ownerDocument)==null?void 0:s.body),o=es(a);if(i){const l=$p(o);return t.concat(o,o.visualViewport||[],zc(a)?a:[],l&&n?mc(l):[])}return t.concat(a,mc(a,[],n))}function $p(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function SN(e){const t=Hs(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const a=gr(e),i=a?e.offsetWidth:n,o=a?e.offsetHeight:s,l=Lu(n)!==i||Lu(s)!==o;return l&&(n=i,s=o),{width:n,height:s,$:l}}function Fx(e){return Ws(e)?e:e.contextElement}function fo(e){const t=Fx(e);if(!gr(t))return hr(1);const n=t.getBoundingClientRect(),{width:s,height:a,$:i}=SN(t);let o=(i?Lu(n.width):n.width)/s,l=(i?Lu(n.height):n.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const kI=hr(0);function NN(e){const t=es(e);return!Ox()||!t.visualViewport?kI:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function PI(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==es(e)?!1:t}function vi(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),i=Fx(e);let o=hr(1);t&&(s?Ws(s)&&(o=fo(s)):o=fo(e));const l=PI(i,n,s)?NN(i):hr(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,u=a.width/o.x,h=a.height/o.y;if(i){const f=es(i),g=s&&Ws(s)?es(s):s;let j=f,v=$p(j);for(;v&&s&&g!==j;){const w=fo(v),p=v.getBoundingClientRect(),x=Hs(v),y=p.left+(v.clientLeft+parseFloat(x.paddingLeft))*w.x,b=p.top+(v.clientTop+parseFloat(x.paddingTop))*w.y;c*=w.x,d*=w.y,u*=w.x,h*=w.y,c+=y,d+=b,j=es(v),v=$p(j)}}return Fu({width:u,height:h,x:c,y:d})}function Ux(e,t){const n=Ph(e).scrollLeft;return t?t.left+n:vi(vr(e)).left+n}function CN(e,t,n){n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=s.left+t.scrollLeft-(n?0:Ux(e,s)),i=s.top+t.scrollTop;return{x:a,y:i}}function RI(e){let{elements:t,rect:n,offsetParent:s,strategy:a}=e;const i=a==="fixed",o=vr(s),l=t?kh(t.floating):!1;if(s===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},d=hr(1);const u=hr(0),h=gr(s);if((h||!h&&!i)&&((Wo(s)!=="body"||zc(o))&&(c=Ph(s)),gr(s))){const g=vi(s);d=fo(s),u.x=g.x+s.clientLeft,u.y=g.y+s.clientTop}const f=o&&!h&&!i?CN(o,c,!0):hr(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+u.x+f.x,y:n.y*d.y-c.scrollTop*d.y+u.y+f.y}}function AI(e){return Array.from(e.getClientRects())}function DI(e){const t=vr(e),n=Ph(e),s=e.ownerDocument.body,a=Yn(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),i=Yn(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let o=-n.scrollLeft+Ux(e);const l=-n.scrollTop;return Hs(s).direction==="rtl"&&(o+=Yn(t.clientWidth,s.clientWidth)-a),{width:a,height:i,x:o,y:l}}function $I(e,t){const n=es(e),s=vr(e),a=n.visualViewport;let i=s.clientWidth,o=s.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=Ox();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}const II=new Set(["absolute","fixed"]);function MI(e,t){const n=vi(e,!0,t==="fixed"),s=n.top+e.clientTop,a=n.left+e.clientLeft,i=gr(e)?fo(e):hr(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,d=s*i.y;return{width:o,height:l,x:c,y:d}}function $w(e,t,n){let s;if(t==="viewport")s=$I(e,n);else if(t==="document")s=DI(vr(e));else if(Ws(t))s=MI(t,n);else{const a=NN(e);s={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Fu(s)}function EN(e,t){const n=Ea(e);return n===t||!Ws(n)||Ao(n)?!1:Hs(n).position==="fixed"||EN(n,t)}function LI(e,t){const n=t.get(e);if(n)return n;let s=mc(e,[],!1).filter(l=>Ws(l)&&Wo(l)!=="body"),a=null;const i=Hs(e).position==="fixed";let o=i?Ea(e):e;for(;Ws(o)&&!Ao(o);){const l=Hs(o),c=Lx(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&II.has(a.position)||zc(o)&&!c&&EN(e,o))?s=s.filter(u=>u!==o):a=l,o=Ea(o)}return t.set(e,s),s}function OI(e){let{element:t,boundary:n,rootBoundary:s,strategy:a}=e;const o=[...n==="clippingAncestors"?kh(t)?[]:LI(t,this._c):[].concat(n),s],l=o[0],c=o.reduce((d,u)=>{const h=$w(t,u,a);return d.top=Yn(h.top,d.top),d.right=Ca(h.right,d.right),d.bottom=Ca(h.bottom,d.bottom),d.left=Yn(h.left,d.left),d},$w(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function FI(e){const{width:t,height:n}=SN(e);return{width:t,height:n}}function UI(e,t,n){const s=gr(t),a=vr(t),i=n==="fixed",o=vi(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=hr(0);function d(){c.x=Ux(a)}if(s||!s&&!i)if((Wo(t)!=="body"||zc(a))&&(l=Ph(t)),s){const g=vi(t,!0,i,t);c.x=g.x+t.clientLeft,c.y=g.y+t.clientTop}else a&&d();i&&!s&&a&&d();const u=a&&!s&&!i?CN(a,l):hr(0),h=o.left+l.scrollLeft-c.x-u.x,f=o.top+l.scrollTop-c.y-u.y;return{x:h,y:f,width:o.width,height:o.height}}function Yf(e){return Hs(e).position==="static"}function Iw(e,t){if(!gr(e)||Hs(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return vr(e)===n&&(n=n.ownerDocument.body),n}function TN(e,t){const n=es(e);if(kh(e))return n;if(!gr(e)){let a=Ea(e);for(;a&&!Ao(a);){if(Ws(a)&&!Yf(a))return a;a=Ea(a)}return n}let s=Iw(e,t);for(;s&&bI(s)&&Yf(s);)s=Iw(s,t);return s&&Ao(s)&&Yf(s)&&!Lx(s)?n:s||EI(e)||n}const BI=async function(e){const t=this.getOffsetParent||TN,n=this.getDimensions,s=await n(e.floating);return{reference:UI(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function zI(e){return Hs(e).direction==="rtl"}const VI={convertOffsetParentRelativeRectToViewportRelativeRect:RI,getDocumentElement:vr,getClippingRect:OI,getOffsetParent:TN,getElementRects:BI,getClientRects:AI,getDimensions:FI,getScale:fo,isElement:Ws,isRTL:zI};function kN(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function WI(e,t){let n=null,s;const a=vr(e);function i(){var l;clearTimeout(s),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=e.getBoundingClientRect(),{left:u,top:h,width:f,height:g}=d;if(l||t(),!f||!g)return;const j=Nd(h),v=Nd(a.clientWidth-(u+f)),w=Nd(a.clientHeight-(h+g)),p=Nd(u),y={rootMargin:-j+"px "+-v+"px "+-w+"px "+-p+"px",threshold:Yn(0,Ca(1,c))||1};let b=!0;function _(E){const C=E[0].intersectionRatio;if(C!==c){if(!b)return o();C?o(!1,C):s=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!kN(d,e.getBoundingClientRect())&&o(),b=!1}try{n=new IntersectionObserver(_,{...y,root:a.ownerDocument})}catch{n=new IntersectionObserver(_,y)}n.observe(e)}return o(!0),i}function HI(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,d=Fx(e),u=a||i?[...d?mc(d):[],...mc(t)]:[];u.forEach(p=>{a&&p.addEventListener("scroll",n,{passive:!0}),i&&p.addEventListener("resize",n)});const h=d&&l?WI(d,n):null;let f=-1,g=null;o&&(g=new ResizeObserver(p=>{let[x]=p;x&&x.target===d&&g&&(g.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var y;(y=g)==null||y.observe(t)})),n()}),d&&!c&&g.observe(d),g.observe(t));let j,v=c?vi(e):null;c&&w();function w(){const p=vi(e);v&&!kN(v,p)&&n(),v=p,j=requestAnimationFrame(w)}return n(),()=>{var p;u.forEach(x=>{a&&x.removeEventListener("scroll",n),i&&x.removeEventListener("resize",n)}),h==null||h(),(p=g)==null||p.disconnect(),g=null,c&&cancelAnimationFrame(j)}}const qI=gI,KI=xI,GI=fI,QI=yI,YI=mI,Mw=hI,JI=vI,XI=(e,t,n)=>{const s=new Map,a={platform:VI,...n},i={...a.platform,_c:s};return uI(e,t,{...a,platform:i})};var ZI=typeof document<"u",eM=function(){},nu=ZI?m.useLayoutEffect:eM;function Uu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!Uu(e[s],t[s]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,a[s]))return!1;for(s=n;s--!==0;){const i=a[s];if(!(i==="_owner"&&e.$$typeof)&&!Uu(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function PN(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Lw(e,t){const n=PN(e);return Math.round(t*n)/n}function Jf(e){const t=m.useRef(e);return nu(()=>{t.current=e}),t}function tM(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,h]=m.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,g]=m.useState(s);Uu(f,s)||g(s);const[j,v]=m.useState(null),[w,p]=m.useState(null),x=m.useCallback(D=>{D!==E.current&&(E.current=D,v(D))},[]),y=m.useCallback(D=>{D!==C.current&&(C.current=D,p(D))},[]),b=i||j,_=o||w,E=m.useRef(null),C=m.useRef(null),N=m.useRef(u),k=c!=null,R=Jf(c),A=Jf(a),$=Jf(d),M=m.useCallback(()=>{if(!E.current||!C.current)return;const D={placement:t,strategy:n,middleware:f};A.current&&(D.platform=A.current),XI(E.current,C.current,D).then(S=>{const T={...S,isPositioned:$.current!==!1};V.current&&!Uu(N.current,T)&&(N.current=T,ws.flushSync(()=>{h(T)}))})},[f,t,n,A,$]);nu(()=>{d===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,h(D=>({...D,isPositioned:!1})))},[d]);const V=m.useRef(!1);nu(()=>(V.current=!0,()=>{V.current=!1}),[]),nu(()=>{if(b&&(E.current=b),_&&(C.current=_),b&&_){if(R.current)return R.current(b,_,M);M()}},[b,_,M,R,k]);const B=m.useMemo(()=>({reference:E,floating:C,setReference:x,setFloating:y}),[x,y]),L=m.useMemo(()=>({reference:b,floating:_}),[b,_]),U=m.useMemo(()=>{const D={position:n,left:0,top:0};if(!L.floating)return D;const S=Lw(L.floating,u.x),T=Lw(L.floating,u.y);return l?{...D,transform:"translate("+S+"px, "+T+"px)",...PN(L.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:S,top:T}},[n,l,L.floating,u.x,u.y]);return m.useMemo(()=>({...u,update:M,refs:B,elements:L,floatingStyles:U}),[u,M,B,L,U])}const nM=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:a}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?Mw({element:s.current,padding:a}).fn(n):{}:s?Mw({element:s,padding:a}).fn(n):{}}}},sM=(e,t)=>({...qI(e),options:[e,t]}),rM=(e,t)=>({...KI(e),options:[e,t]}),aM=(e,t)=>({...JI(e),options:[e,t]}),iM=(e,t)=>({...GI(e),options:[e,t]}),oM=(e,t)=>({...QI(e),options:[e,t]}),lM=(e,t)=>({...YI(e),options:[e,t]}),cM=(e,t)=>({...nM(e),options:[e,t]});var dM="Arrow",RN=m.forwardRef((e,t)=>{const{children:n,width:s=10,height:a=5,...i}=e;return r.jsx(ve.svg,{...i,ref:t,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});RN.displayName=dM;var uM=RN;function Bx(e){const[t,n]=m.useState(void 0);return Rt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var zx="Popper",[AN,Rh]=as(zx),[hM,DN]=AN(zx),$N=e=>{const{__scopePopper:t,children:n}=e,[s,a]=m.useState(null);return r.jsx(hM,{scope:t,anchor:s,onAnchorChange:a,children:n})};$N.displayName=zx;var IN="PopperAnchor",MN=m.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:s,...a}=e,i=DN(IN,n),o=m.useRef(null),l=Ke(t,o);return m.useEffect(()=>{i.onAnchorChange((s==null?void 0:s.current)||o.current)}),s?null:r.jsx(ve.div,{...a,ref:l})});MN.displayName=IN;var Vx="PopperContent",[fM,mM]=AN(Vx),LN=m.forwardRef((e,t)=>{var W,q,K,O,ae,oe;const{__scopePopper:n,side:s="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:g="optimized",onPlaced:j,...v}=e,w=DN(Vx,n),[p,x]=m.useState(null),y=Ke(t,de=>x(de)),[b,_]=m.useState(null),E=Bx(b),C=(E==null?void 0:E.width)??0,N=(E==null?void 0:E.height)??0,k=s+(i!=="center"?"-"+i:""),R=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},A=Array.isArray(d)?d:[d],$=A.length>0,M={padding:R,boundary:A.filter(gM),altBoundary:$},{refs:V,floatingStyles:B,placement:L,isPositioned:U,middlewareData:D}=tM({strategy:"fixed",placement:k,whileElementsMounted:(...de)=>HI(...de,{animationFrame:g==="always"}),elements:{reference:w.anchor},middleware:[sM({mainAxis:a+N,alignmentAxis:o}),c&&rM({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?aM():void 0,...M}),c&&iM({...M}),oM({...M,apply:({elements:de,rects:ge,availableWidth:we,availableHeight:Ie})=>{const{width:He,height:tn}=ge.reference,ce=de.floating.style;ce.setProperty("--radix-popper-available-width",`${we}px`),ce.setProperty("--radix-popper-available-height",`${Ie}px`),ce.setProperty("--radix-popper-anchor-width",`${He}px`),ce.setProperty("--radix-popper-anchor-height",`${tn}px`)}}),b&&cM({element:b,padding:l}),xM({arrowWidth:C,arrowHeight:N}),f&&lM({strategy:"referenceHidden",...M})]}),[S,T]=UN(L),P=ns(j);Rt(()=>{U&&(P==null||P())},[U,P]);const F=(W=D.arrow)==null?void 0:W.x,I=(q=D.arrow)==null?void 0:q.y,G=((K=D.arrow)==null?void 0:K.centerOffset)!==0,[le,X]=m.useState();return Rt(()=>{p&&X(window.getComputedStyle(p).zIndex)},[p]),r.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:U?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:le,"--radix-popper-transform-origin":[(O=D.transformOrigin)==null?void 0:O.x,(ae=D.transformOrigin)==null?void 0:ae.y].join(" "),...((oe=D.hide)==null?void 0:oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(fM,{scope:n,placedSide:S,onArrowChange:_,arrowX:F,arrowY:I,shouldHideArrow:G,children:r.jsx(ve.div,{"data-side":S,"data-align":T,...v,ref:y,style:{...v.style,animation:U?void 0:"none"}})})})});LN.displayName=Vx;var ON="PopperArrow",pM={top:"bottom",right:"left",bottom:"top",left:"right"},FN=m.forwardRef(function(t,n){const{__scopePopper:s,...a}=t,i=mM(ON,s),o=pM[i.placedSide];return r.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:r.jsx(uM,{...a,ref:n,style:{...a.style,display:"block"}})})});FN.displayName=ON;function gM(e){return e!==null}var xM=e=>({name:"transformOrigin",options:e,fn(t){var w,p,x;const{placement:n,rects:s,middlewareData:a}=t,o=((w=a.arrow)==null?void 0:w.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=UN(n),h={start:"0%",center:"50%",end:"100%"}[u],f=(((p=a.arrow)==null?void 0:p.x)??0)+l/2,g=(((x=a.arrow)==null?void 0:x.y)??0)+c/2;let j="",v="";return d==="bottom"?(j=o?h:`${f}px`,v=`${-c}px`):d==="top"?(j=o?h:`${f}px`,v=`${s.floating.height+c}px`):d==="right"?(j=`${-c}px`,v=o?h:`${g}px`):d==="left"&&(j=`${s.floating.width+c}px`,v=o?h:`${g}px`),{data:{x:j,y:v}}}});function UN(e){const[t,n="center"]=e.split("-");return[t,n]}var vM=$N,BN=MN,zN=LN,VN=FN,[Ah,$7]=as("Tooltip",[Rh]),Wx=Rh(),WN="TooltipProvider",yM=700,Ow="tooltip.open",[wM,HN]=Ah(WN),qN=e=>{const{__scopeTooltip:t,delayDuration:n=yM,skipDelayDuration:s=300,disableHoverableContent:a=!1,children:i}=e,o=m.useRef(!0),l=m.useRef(!1),c=m.useRef(0);return m.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),r.jsx(wM,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:m.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:m.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,s)},[s]),isPointerInTransitRef:l,onPointerInTransitChange:m.useCallback(d=>{l.current=d},[]),disableHoverableContent:a,children:i})};qN.displayName=WN;var KN="Tooltip",[I7,Vc]=Ah(KN),Ip="TooltipTrigger",jM=m.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,a=Vc(Ip,n),i=HN(Ip,n),o=Wx(n),l=m.useRef(null),c=Ke(t,l,a.onTriggerChange),d=m.useRef(!1),u=m.useRef(!1),h=m.useCallback(()=>d.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),r.jsx(BN,{asChild:!0,...o,children:r.jsx(ve.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...s,ref:c,onPointerMove:xe(e.onPointerMove,f=>{f.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),u.current=!0)}),onPointerLeave:xe(e.onPointerLeave,()=>{a.onTriggerLeave(),u.current=!1}),onPointerDown:xe(e.onPointerDown,()=>{a.open&&a.onClose(),d.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:xe(e.onFocus,()=>{d.current||a.onOpen()}),onBlur:xe(e.onBlur,a.onClose),onClick:xe(e.onClick,a.onClose)})})});jM.displayName=Ip;var Hx="TooltipPortal",[bM,_M]=Ah(Hx,{forceMount:void 0}),GN=e=>{const{__scopeTooltip:t,forceMount:n,children:s,container:a}=e,i=Vc(Hx,t);return r.jsx(bM,{scope:t,forceMount:n,children:r.jsx(xr,{present:n||i.open,children:r.jsx(Fc,{asChild:!0,container:a,children:s})})})};GN.displayName=Hx;var Do="TooltipContent",QN=m.forwardRef((e,t)=>{const n=_M(Do,e.__scopeTooltip),{forceMount:s=n.forceMount,side:a="top",...i}=e,o=Vc(Do,e.__scopeTooltip);return r.jsx(xr,{present:s||o.open,children:o.disableHoverableContent?r.jsx(YN,{side:a,...i,ref:t}):r.jsx(SM,{side:a,...i,ref:t})})}),SM=m.forwardRef((e,t)=>{const n=Vc(Do,e.__scopeTooltip),s=HN(Do,e.__scopeTooltip),a=m.useRef(null),i=Ke(t,a),[o,l]=m.useState(null),{trigger:c,onClose:d}=n,u=a.current,{onPointerInTransitChange:h}=s,f=m.useCallback(()=>{l(null),h(!1)},[h]),g=m.useCallback((j,v)=>{const w=j.currentTarget,p={x:j.clientX,y:j.clientY},x=kM(p,w.getBoundingClientRect()),y=PM(p,x),b=RM(v.getBoundingClientRect()),_=DM([...y,...b]);l(_),h(!0)},[h]);return m.useEffect(()=>()=>f(),[f]),m.useEffect(()=>{if(c&&u){const j=w=>g(w,u),v=w=>g(w,c);return c.addEventListener("pointerleave",j),u.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",j),u.removeEventListener("pointerleave",v)}}},[c,u,g,f]),m.useEffect(()=>{if(o){const j=v=>{const w=v.target,p={x:v.clientX,y:v.clientY},x=(c==null?void 0:c.contains(w))||(u==null?void 0:u.contains(w)),y=!AM(p,o);x?f():y&&(f(),d())};return document.addEventListener("pointermove",j),()=>document.removeEventListener("pointermove",j)}},[c,u,o,d,f]),r.jsx(YN,{...e,ref:i})}),[NM,CM]=Ah(KN,{isInside:!1}),EM=eA("TooltipContent"),YN=m.forwardRef((e,t)=>{const{__scopeTooltip:n,children:s,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=Vc(Do,n),d=Wx(n),{onClose:u}=c;return m.useEffect(()=>(document.addEventListener(Ow,u),()=>document.removeEventListener(Ow,u)),[u]),m.useEffect(()=>{if(c.trigger){const h=f=>{const g=f.target;g!=null&&g.contains(c.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,u]),r.jsx(Oc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:r.jsxs(zN,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[r.jsx(EM,{children:s}),r.jsx(NM,{scope:n,isInside:!0,children:r.jsx(bA,{id:c.contentId,role:"tooltip",children:a||s})})]})})});QN.displayName=Do;var JN="TooltipArrow",TM=m.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,a=Wx(n);return CM(JN,n).isInside?null:r.jsx(VN,{...a,...s,ref:t})});TM.displayName=JN;function kM(e,t){const n=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,s,a,i)){case i:return"left";case a:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function PM(e,t,n=5){const s=[];switch(t){case"top":s.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":s.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":s.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":s.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return s}function RM(e){const{top:t,right:n,bottom:s,left:a}=e;return[{x:a,y:t},{x:n,y:t},{x:n,y:s},{x:a,y:s}]}function AM(e,t){const{x:n,y:s}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],d=l.x,u=l.y,h=c.x,f=c.y;u>s!=f>s&&n<(h-d)*(s-u)/(f-u)+d&&(a=!a)}return a}function DM(e){const t=e.slice();return t.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),$M(t)}function $M(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const a=e[s];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const n=[];for(let s=e.length-1;s>=0;s--){const a=e[s];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))n.pop();else break}n.push(a)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var IM=qN,MM=GN,XN=QN;const LM=IM,OM=m.forwardRef(({className:e,sideOffset:t=4,...n},s)=>r.jsx(MM,{children:r.jsx(XN,{ref:s,sideOffset:t,className:me("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n})}));OM.displayName=XN.displayName;var Dh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},$h=typeof window>"u"||"Deno"in globalThis;function Ds(){}function FM(e,t){return typeof e=="function"?e(t):e}function UM(e){return typeof e=="number"&&e>=0&&e!==1/0}function BM(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Mp(e,t){return typeof e=="function"?e(t):e}function zM(e,t){return typeof e=="function"?e(t):e}function Fw(e,t){const{type:n="all",exact:s,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(s){if(t.queryHash!==qx(o,t.options))return!1}else if(!gc(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function Uw(e,t){const{exact:n,status:s,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(pc(t.options.mutationKey)!==pc(i))return!1}else if(!gc(t.options.mutationKey,i))return!1}return!(s&&t.state.status!==s||a&&!a(t))}function qx(e,t){return((t==null?void 0:t.queryKeyHashFn)||pc)(e)}function pc(e){return JSON.stringify(e,(t,n)=>Lp(n)?Object.keys(n).sort().reduce((s,a)=>(s[a]=n[a],s),{}):n)}function gc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>gc(e[n],t[n])):!1}function ZN(e,t){if(e===t)return e;const n=Bw(e)&&Bw(t);if(n||Lp(e)&&Lp(t)){const s=n?e:Object.keys(e),a=s.length,i=n?t:Object.keys(t),o=i.length,l=n?[]:{},c=new Set(s);let d=0;for(let u=0;u<o;u++){const h=n?u:i[u];(!n&&c.has(h)||n)&&e[h]===void 0&&t[h]===void 0?(l[h]=void 0,d++):(l[h]=ZN(e[h],t[h]),l[h]===e[h]&&e[h]!==void 0&&d++)}return a===o&&d===a?e:l}return t}function Bw(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Lp(e){if(!zw(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!zw(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function zw(e){return Object.prototype.toString.call(e)==="[object Object]"}function VM(e){return new Promise(t=>{setTimeout(t,e)})}function WM(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?ZN(e,t):t}function HM(e,t,n=0){const s=[...e,t];return n&&s.length>n?s.slice(1):s}function qM(e,t,n=0){const s=[t,...e];return n&&s.length>n?s.slice(0,-1):s}var Kx=Symbol();function e1(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Kx?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var si,aa,go,cb,KM=(cb=class extends Dh{constructor(){super();ze(this,si);ze(this,aa);ze(this,go);_e(this,go,t=>{if(!$h&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){J(this,aa)||this.setEventListener(J(this,go))}onUnsubscribe(){var t;this.hasListeners()||((t=J(this,aa))==null||t.call(this),_e(this,aa,void 0))}setEventListener(t){var n;_e(this,go,t),(n=J(this,aa))==null||n.call(this),_e(this,aa,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){J(this,si)!==t&&(_e(this,si,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof J(this,si)=="boolean"?J(this,si):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},si=new WeakMap,aa=new WeakMap,go=new WeakMap,cb),t1=new KM,xo,ia,vo,db,GM=(db=class extends Dh{constructor(){super();ze(this,xo,!0);ze(this,ia);ze(this,vo);_e(this,vo,t=>{if(!$h&&window.addEventListener){const n=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){J(this,ia)||this.setEventListener(J(this,vo))}onUnsubscribe(){var t;this.hasListeners()||((t=J(this,ia))==null||t.call(this),_e(this,ia,void 0))}setEventListener(t){var n;_e(this,vo,t),(n=J(this,ia))==null||n.call(this),_e(this,ia,t(this.setOnline.bind(this)))}setOnline(t){J(this,xo)!==t&&(_e(this,xo,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return J(this,xo)}},xo=new WeakMap,ia=new WeakMap,vo=new WeakMap,db),Bu=new GM;function QM(){let e,t;const n=new Promise((a,i)=>{e=a,t=i});n.status="pending",n.catch(()=>{});function s(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{s({status:"fulfilled",value:a}),e(a)},n.reject=a=>{s({status:"rejected",reason:a}),t(a)},n}function YM(e){return Math.min(1e3*2**e,3e4)}function n1(e){return(e??"online")==="online"?Bu.isOnline():!0}var s1=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Xf(e){return e instanceof s1}function r1(e){let t=!1,n=0,s=!1,a;const i=QM(),o=v=>{var w;s||(f(new s1(v)),(w=e.abort)==null||w.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>t1.isFocused()&&(e.networkMode==="always"||Bu.isOnline())&&e.canRun(),u=()=>n1(e.networkMode)&&e.canRun(),h=v=>{var w;s||(s=!0,(w=e.onSuccess)==null||w.call(e,v),a==null||a(),i.resolve(v))},f=v=>{var w;s||(s=!0,(w=e.onError)==null||w.call(e,v),a==null||a(),i.reject(v))},g=()=>new Promise(v=>{var w;a=p=>{(s||d())&&v(p)},(w=e.onPause)==null||w.call(e)}).then(()=>{var v;a=void 0,s||(v=e.onContinue)==null||v.call(e)}),j=()=>{if(s)return;let v;const w=n===0?e.initialPromise:void 0;try{v=w??e.fn()}catch(p){v=Promise.reject(p)}Promise.resolve(v).then(h).catch(p=>{var E;if(s)return;const x=e.retry??($h?0:3),y=e.retryDelay??YM,b=typeof y=="function"?y(n,p):y,_=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,p);if(t||!_){f(p);return}n++,(E=e.onFail)==null||E.call(e,n,p),VM(b).then(()=>d()?void 0:g()).then(()=>{t?f(p):j()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?j():g().then(j),i)}}var JM=e=>setTimeout(e,0);function XM(){let e=[],t=0,n=l=>{l()},s=l=>{l()},a=JM;const i=l=>{t?e.push(l):a(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{s(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{a=l}}}var kn=XM(),ri,ub,a1=(ub=class{constructor(){ze(this,ri)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),UM(this.gcTime)&&_e(this,ri,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??($h?1/0:5*60*1e3))}clearGcTimeout(){J(this,ri)&&(clearTimeout(J(this,ri)),_e(this,ri,void 0))}},ri=new WeakMap,ub),yo,ai,ps,ii,vn,Rc,oi,$s,jr,hb,ZM=(hb=class extends a1{constructor(t){super();ze(this,$s);ze(this,yo);ze(this,ai);ze(this,ps);ze(this,ii);ze(this,vn);ze(this,Rc);ze(this,oi);_e(this,oi,!1),_e(this,Rc,t.defaultOptions),this.setOptions(t.options),this.observers=[],_e(this,ii,t.client),_e(this,ps,J(this,ii).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,_e(this,yo,tL(this.options)),this.state=t.state??J(this,yo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=J(this,vn))==null?void 0:t.promise}setOptions(t){this.options={...J(this,Rc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&J(this,ps).remove(this)}setData(t,n){const s=WM(this.state.data,t,this.options);return mn(this,$s,jr).call(this,{data:s,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),s}setState(t,n){mn(this,$s,jr).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var s,a;const n=(s=J(this,vn))==null?void 0:s.promise;return(a=J(this,vn))==null||a.cancel(t),n?n.then(Ds).catch(Ds):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(J(this,yo))}isActive(){return this.observers.some(t=>zM(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Kx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Mp(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!BM(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=J(this,vn))==null||n.continue()}onOnline(){var n;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=J(this,vn))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),J(this,ps).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(J(this,vn)&&(J(this,oi)?J(this,vn).cancel({revert:!0}):J(this,vn).cancelRetry()),this.scheduleGc()),J(this,ps).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||mn(this,$s,jr).call(this,{type:"invalidate"})}fetch(t,n){var d,u,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(J(this,vn))return J(this,vn).continueRetry(),J(this,vn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(g=>g.options.queryFn);f&&this.setOptions(f.options)}const s=new AbortController,a=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(_e(this,oi,!0),s.signal)})},i=()=>{const f=e1(this.options,n),j=(()=>{const v={client:J(this,ii),queryKey:this.queryKey,meta:this.meta};return a(v),v})();return _e(this,oi,!1),this.options.persister?this.options.persister(f,j,this):f(j)},l=(()=>{const f={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:J(this,ii),state:this.state,fetchFn:i};return a(f),f})();(d=this.options.behavior)==null||d.onFetch(l,this),_e(this,ai,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=l.fetchOptions)==null?void 0:u.meta))&&mn(this,$s,jr).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta});const c=f=>{var g,j,v,w;Xf(f)&&f.silent||mn(this,$s,jr).call(this,{type:"error",error:f}),Xf(f)||((j=(g=J(this,ps).config).onError)==null||j.call(g,f,this),(w=(v=J(this,ps).config).onSettled)==null||w.call(v,this.state.data,f,this)),this.scheduleGc()};return _e(this,vn,r1({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:s.abort.bind(s),onSuccess:f=>{var g,j,v,w;if(f===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(p){c(p);return}(j=(g=J(this,ps).config).onSuccess)==null||j.call(g,f,this),(w=(v=J(this,ps).config).onSettled)==null||w.call(v,f,this.state.error,this),this.scheduleGc()},onError:c,onFail:(f,g)=>{mn(this,$s,jr).call(this,{type:"failed",failureCount:f,error:g})},onPause:()=>{mn(this,$s,jr).call(this,{type:"pause"})},onContinue:()=>{mn(this,$s,jr).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),J(this,vn).start()}},yo=new WeakMap,ai=new WeakMap,ps=new WeakMap,ii=new WeakMap,vn=new WeakMap,Rc=new WeakMap,oi=new WeakMap,$s=new WeakSet,jr=function(t){const n=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...eL(s.data,this.options),fetchMeta:t.meta??null};case"success":return _e(this,ai,void 0),{...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return Xf(a)&&a.revert&&J(this,ai)?{...J(this,ai),fetchStatus:"idle"}:{...s,error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=n(this.state),kn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),J(this,ps).notify({query:this,type:"updated",action:t})})},hb);function eL(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:n1(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function tL(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,s=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var nr,fb,nL=(fb=class extends Dh{constructor(t={}){super();ze(this,nr);this.config=t,_e(this,nr,new Map)}build(t,n,s){const a=n.queryKey,i=n.queryHash??qx(a,n);let o=this.get(i);return o||(o=new ZM({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(n),state:s,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){J(this,nr).has(t.queryHash)||(J(this,nr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=J(this,nr).get(t.queryHash);n&&(t.destroy(),n===t&&J(this,nr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){kn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return J(this,nr).get(t)}getAll(){return[...J(this,nr).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(s=>Fw(n,s))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(s=>Fw(t,s)):n}notify(t){kn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){kn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){kn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},nr=new WeakMap,fb),sr,En,li,rr,Gr,mb,sL=(mb=class extends a1{constructor(t){super();ze(this,rr);ze(this,sr);ze(this,En);ze(this,li);this.mutationId=t.mutationId,_e(this,En,t.mutationCache),_e(this,sr,[]),this.state=t.state||rL(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){J(this,sr).includes(t)||(J(this,sr).push(t),this.clearGcTimeout(),J(this,En).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){_e(this,sr,J(this,sr).filter(n=>n!==t)),this.scheduleGc(),J(this,En).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){J(this,sr).length||(this.state.status==="pending"?this.scheduleGc():J(this,En).remove(this))}continue(){var t;return((t=J(this,li))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,l,c,d,u,h,f,g,j,v,w,p,x,y,b,_,E,C,N;const n=()=>{mn(this,rr,Gr).call(this,{type:"continue"})};_e(this,li,r1({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(k,R)=>{mn(this,rr,Gr).call(this,{type:"failed",failureCount:k,error:R})},onPause:()=>{mn(this,rr,Gr).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>J(this,En).canRun(this)}));const s=this.state.status==="pending",a=!J(this,li).canStart();try{if(s)n();else{mn(this,rr,Gr).call(this,{type:"pending",variables:t,isPaused:a}),await((o=(i=J(this,En).config).onMutate)==null?void 0:o.call(i,t,this));const R=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));R!==this.state.context&&mn(this,rr,Gr).call(this,{type:"pending",context:R,variables:t,isPaused:a})}const k=await J(this,li).start();return await((u=(d=J(this,En).config).onSuccess)==null?void 0:u.call(d,k,t,this.state.context,this)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,k,t,this.state.context)),await((j=(g=J(this,En).config).onSettled)==null?void 0:j.call(g,k,null,this.state.variables,this.state.context,this)),await((w=(v=this.options).onSettled)==null?void 0:w.call(v,k,null,t,this.state.context)),mn(this,rr,Gr).call(this,{type:"success",data:k}),k}catch(k){try{throw await((x=(p=J(this,En).config).onError)==null?void 0:x.call(p,k,t,this.state.context,this)),await((b=(y=this.options).onError)==null?void 0:b.call(y,k,t,this.state.context)),await((E=(_=J(this,En).config).onSettled)==null?void 0:E.call(_,void 0,k,this.state.variables,this.state.context,this)),await((N=(C=this.options).onSettled)==null?void 0:N.call(C,void 0,k,t,this.state.context)),k}finally{mn(this,rr,Gr).call(this,{type:"error",error:k})}}finally{J(this,En).runNext(this)}}},sr=new WeakMap,En=new WeakMap,li=new WeakMap,rr=new WeakSet,Gr=function(t){const n=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),kn.batch(()=>{J(this,sr).forEach(s=>{s.onMutationUpdate(t)}),J(this,En).notify({mutation:this,type:"updated",action:t})})},mb);function rL(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Cr,Is,Ac,pb,aL=(pb=class extends Dh{constructor(t={}){super();ze(this,Cr);ze(this,Is);ze(this,Ac);this.config=t,_e(this,Cr,new Set),_e(this,Is,new Map),_e(this,Ac,0)}build(t,n,s){const a=new sL({mutationCache:this,mutationId:++ad(this,Ac)._,options:t.defaultMutationOptions(n),state:s});return this.add(a),a}add(t){J(this,Cr).add(t);const n=Cd(t);if(typeof n=="string"){const s=J(this,Is).get(n);s?s.push(t):J(this,Is).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(J(this,Cr).delete(t)){const n=Cd(t);if(typeof n=="string"){const s=J(this,Is).get(n);if(s)if(s.length>1){const a=s.indexOf(t);a!==-1&&s.splice(a,1)}else s[0]===t&&J(this,Is).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Cd(t);if(typeof n=="string"){const s=J(this,Is).get(n),a=s==null?void 0:s.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var s;const n=Cd(t);if(typeof n=="string"){const a=(s=J(this,Is).get(n))==null?void 0:s.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){kn.batch(()=>{J(this,Cr).forEach(t=>{this.notify({type:"removed",mutation:t})}),J(this,Cr).clear(),J(this,Is).clear()})}getAll(){return Array.from(J(this,Cr))}find(t){const n={exact:!0,...t};return this.getAll().find(s=>Uw(n,s))}findAll(t={}){return this.getAll().filter(n=>Uw(t,n))}notify(t){kn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return kn.batch(()=>Promise.all(t.map(n=>n.continue().catch(Ds))))}},Cr=new WeakMap,Is=new WeakMap,Ac=new WeakMap,pb);function Cd(e){var t;return(t=e.options.scope)==null?void 0:t.id}function Vw(e){return{onFetch:(t,n)=>{var u,h,f,g,j;const s=t.options,a=(f=(h=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((g=t.state.data)==null?void 0:g.pages)||[],o=((j=t.state.data)==null?void 0:j.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let v=!1;const w=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},p=e1(t.options,t.fetchOptions),x=async(y,b,_)=>{if(v)return Promise.reject();if(b==null&&y.pages.length)return Promise.resolve(y);const C=(()=>{const A={client:t.client,queryKey:t.queryKey,pageParam:b,direction:_?"backward":"forward",meta:t.options.meta};return w(A),A})(),N=await p(C),{maxPages:k}=t.options,R=_?qM:HM;return{pages:R(y.pages,N,k),pageParams:R(y.pageParams,b,k)}};if(a&&i.length){const y=a==="backward",b=y?iL:Ww,_={pages:i,pageParams:o},E=b(s,_);l=await x(_,E,y)}else{const y=e??i.length;do{const b=c===0?o[0]??s.initialPageParam:Ww(s,l);if(c>0&&b==null)break;l=await x(l,b),c++}while(c<y)}return l};t.options.persister?t.fetchFn=()=>{var v,w;return(w=(v=t.options).persister)==null?void 0:w.call(v,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=d}}}function Ww(e,{pages:t,pageParams:n}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,n[s],n):void 0}function iL(e,{pages:t,pageParams:n}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,n[0],n):void 0}var bt,oa,la,wo,jo,ca,bo,_o,gb,oL=(gb=class{constructor(e={}){ze(this,bt);ze(this,oa);ze(this,la);ze(this,wo);ze(this,jo);ze(this,ca);ze(this,bo);ze(this,_o);_e(this,bt,e.queryCache||new nL),_e(this,oa,e.mutationCache||new aL),_e(this,la,e.defaultOptions||{}),_e(this,wo,new Map),_e(this,jo,new Map),_e(this,ca,0)}mount(){ad(this,ca)._++,J(this,ca)===1&&(_e(this,bo,t1.subscribe(async e=>{e&&(await this.resumePausedMutations(),J(this,bt).onFocus())})),_e(this,_o,Bu.subscribe(async e=>{e&&(await this.resumePausedMutations(),J(this,bt).onOnline())})))}unmount(){var e,t;ad(this,ca)._--,J(this,ca)===0&&((e=J(this,bo))==null||e.call(this),_e(this,bo,void 0),(t=J(this,_o))==null||t.call(this),_e(this,_o,void 0))}isFetching(e){return J(this,bt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return J(this,oa).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=J(this,bt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=J(this,bt).build(this,t),s=n.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Mp(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return J(this,bt).findAll(e).map(({queryKey:t,state:n})=>{const s=n.data;return[t,s]})}setQueryData(e,t,n){const s=this.defaultQueryOptions({queryKey:e}),a=J(this,bt).get(s.queryHash),i=a==null?void 0:a.state.data,o=FM(t,i);if(o!==void 0)return J(this,bt).build(this,s).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return kn.batch(()=>J(this,bt).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=J(this,bt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=J(this,bt);kn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=J(this,bt);return kn.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},s=kn.batch(()=>J(this,bt).findAll(e).map(a=>a.cancel(n)));return Promise.all(s).then(Ds).catch(Ds)}invalidateQueries(e,t={}){return kn.batch(()=>(J(this,bt).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},s=kn.batch(()=>J(this,bt).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,n);return n.throwOnError||(i=i.catch(Ds)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(Ds)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=J(this,bt).build(this,t);return n.isStaleByTime(Mp(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ds).catch(Ds)}fetchInfiniteQuery(e){return e.behavior=Vw(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ds).catch(Ds)}ensureInfiniteQueryData(e){return e.behavior=Vw(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Bu.isOnline()?J(this,oa).resumePausedMutations():Promise.resolve()}getQueryCache(){return J(this,bt)}getMutationCache(){return J(this,oa)}getDefaultOptions(){return J(this,la)}setDefaultOptions(e){_e(this,la,e)}setQueryDefaults(e,t){J(this,wo).set(pc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...J(this,wo).values()],n={};return t.forEach(s=>{gc(e,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(e,t){J(this,jo).set(pc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...J(this,jo).values()],n={};return t.forEach(s=>{gc(e,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...J(this,la).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=qx(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Kx&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...J(this,la).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){J(this,bt).clear(),J(this,oa).clear()}},bt=new WeakMap,oa=new WeakMap,la=new WeakMap,wo=new WeakMap,jo=new WeakMap,ca=new WeakMap,bo=new WeakMap,_o=new WeakMap,gb),lL=m.createContext(void 0),cL=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(lL.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xc(){return xc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},xc.apply(this,arguments)}var fa;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(fa||(fa={}));const Hw="popstate";function dL(e){e===void 0&&(e={});function t(s,a){let{pathname:i,search:o,hash:l}=s.location;return Op("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:zu(a)}return hL(t,n,null,e)}function It(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function i1(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function uL(){return Math.random().toString(36).substr(2,8)}function qw(e,t){return{usr:e.state,key:e.key,idx:t}}function Op(e,t,n,s){return n===void 0&&(n=null),xc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ho(t):t,{state:n,key:t&&t.key||s||uL()})}function zu(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Ho(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function hL(e,t,n,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:i=!1}=s,o=a.history,l=fa.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(xc({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function h(){l=fa.Pop;let w=u(),p=w==null?null:w-d;d=w,c&&c({action:l,location:v.location,delta:p})}function f(w,p){l=fa.Push;let x=Op(v.location,w,p);d=u()+1;let y=qw(x,d),b=v.createHref(x);try{o.pushState(y,"",b)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;a.location.assign(b)}i&&c&&c({action:l,location:v.location,delta:1})}function g(w,p){l=fa.Replace;let x=Op(v.location,w,p);d=u();let y=qw(x,d),b=v.createHref(x);o.replaceState(y,"",b),i&&c&&c({action:l,location:v.location,delta:0})}function j(w){let p=a.location.origin!=="null"?a.location.origin:a.location.href,x=typeof w=="string"?w:zu(w);return x=x.replace(/ $/,"%20"),It(p,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,p)}let v={get action(){return l},get location(){return e(a,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Hw,h),c=w,()=>{a.removeEventListener(Hw,h),c=null}},createHref(w){return t(a,w)},createURL:j,encodeLocation(w){let p=j(w);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:f,replace:g,go(w){return o.go(w)}};return v}var Kw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Kw||(Kw={}));function fL(e,t,n){return n===void 0&&(n="/"),mL(e,t,n)}function mL(e,t,n,s){let a=typeof t=="string"?Ho(t):t,i=Gx(a.pathname||"/",n);if(i==null)return null;let o=o1(e);pL(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=EL(i);l=SL(o[c],d)}return l}function o1(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(It(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let d=ba([s,c.relativePath]),u=n.concat(c);i.children&&i.children.length>0&&(It(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),o1(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:bL(d,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of l1(i.path))a(i,o,c)}),t}function l1(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(s.length===0)return a?[i,""]:[i];let o=l1(s.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function pL(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:_L(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const gL=/^:[\w-]+$/,xL=3,vL=2,yL=1,wL=10,jL=-2,Gw=e=>e==="*";function bL(e,t){let n=e.split("/"),s=n.length;return n.some(Gw)&&(s+=jL),t&&(s+=vL),n.filter(a=>!Gw(a)).reduce((a,i)=>a+(gL.test(i)?xL:i===""?yL:wL),s)}function _L(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function SL(e,t,n){let{routesMeta:s}=e,a={},i="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],d=l===s.length-1,u=i==="/"?t:t.slice(i.length)||"/",h=NL({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),f=c.route;if(!h)return null;Object.assign(a,h.params),o.push({params:a,pathname:ba([i,h.pathname]),pathnameBase:RL(ba([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=ba([i,h.pathnameBase]))}return o}function NL(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=CL(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:s.reduce((d,u,h)=>{let{paramName:f,isOptional:g}=u;if(f==="*"){let v=l[h]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const j=l[h];return g&&!j?d[f]=void 0:d[f]=(j||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function CL(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),i1(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function EL(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return i1(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Gx(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function TL(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:a=""}=typeof e=="string"?Ho(e):e;return{pathname:n?n.startsWith("/")?n:kL(n,t):t,search:AL(s),hash:DL(a)}}function kL(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Zf(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function PL(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function c1(e,t){let n=PL(e);return t?n.map((s,a)=>a===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function d1(e,t,n,s){s===void 0&&(s=!1);let a;typeof e=="string"?a=Ho(e):(a=xc({},e),It(!a.pathname||!a.pathname.includes("?"),Zf("?","pathname","search",a)),It(!a.pathname||!a.pathname.includes("#"),Zf("#","pathname","hash",a)),It(!a.search||!a.search.includes("#"),Zf("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=n;else{let h=t.length-1;if(!s&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;a.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=TL(a,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const ba=e=>e.join("/").replace(/\/\/+/g,"/"),RL=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),AL=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,DL=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function $L(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const u1=["post","put","patch","delete"];new Set(u1);const IL=["get",...u1];new Set(IL);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vc(){return vc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},vc.apply(this,arguments)}const Qx=m.createContext(null),ML=m.createContext(null),Si=m.createContext(null),Ih=m.createContext(null),$a=m.createContext({outlet:null,matches:[],isDataRoute:!1}),h1=m.createContext(null);function LL(e,t){let{relative:n}=t===void 0?{}:t;Wc()||It(!1);let{basename:s,navigator:a}=m.useContext(Si),{hash:i,pathname:o,search:l}=p1(e,{relative:n}),c=o;return s!=="/"&&(c=o==="/"?s:ba([s,o])),a.createHref({pathname:c,search:l,hash:i})}function Wc(){return m.useContext(Ih)!=null}function qo(){return Wc()||It(!1),m.useContext(Ih).location}function f1(e){m.useContext(Si).static||m.useLayoutEffect(e)}function OL(){let{isDataRoute:e}=m.useContext($a);return e?JL():FL()}function FL(){Wc()||It(!1);let e=m.useContext(Qx),{basename:t,future:n,navigator:s}=m.useContext(Si),{matches:a}=m.useContext($a),{pathname:i}=qo(),o=JSON.stringify(c1(a,n.v7_relativeSplatPath)),l=m.useRef(!1);return f1(()=>{l.current=!0}),m.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){s.go(d);return}let h=d1(d,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:ba([t,h.pathname])),(u.replace?s.replace:s.push)(h,u.state,u)},[t,s,o,i,e])}function m1(){let{matches:e}=m.useContext($a),t=e[e.length-1];return t?t.params:{}}function p1(e,t){let{relative:n}=t===void 0?{}:t,{future:s}=m.useContext(Si),{matches:a}=m.useContext($a),{pathname:i}=qo(),o=JSON.stringify(c1(a,s.v7_relativeSplatPath));return m.useMemo(()=>d1(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function UL(e,t){return BL(e,t)}function BL(e,t,n,s){Wc()||It(!1);let{navigator:a}=m.useContext(Si),{matches:i}=m.useContext($a),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=qo(),u;if(t){var h;let w=typeof t=="string"?Ho(t):t;c==="/"||(h=w.pathname)!=null&&h.startsWith(c)||It(!1),u=w}else u=d;let f=u.pathname||"/",g=f;if(c!=="/"){let w=c.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(w.length).join("/")}let j=fL(e,{pathname:g}),v=qL(j&&j.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:ba([c,a.encodeLocation?a.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:ba([c,a.encodeLocation?a.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n,s);return t&&v?m.createElement(Ih.Provider,{value:{location:vc({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:fa.Pop}},v):v}function zL(){let e=YL(),t=$L(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),n?m.createElement("pre",{style:a},n):null,null)}const VL=m.createElement(zL,null);class WL extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?m.createElement($a.Provider,{value:this.props.routeContext},m.createElement(h1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function HL(e){let{routeContext:t,match:n,children:s}=e,a=m.useContext(Qx);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement($a.Provider,{value:t},s)}function qL(e,t,n,s){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=s)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(a=n)==null?void 0:a.errors;if(l!=null){let u=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);u>=0||It(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(n&&s&&s.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:f,errors:g}=n,j=h.route.loader&&f[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||j){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,h,f)=>{let g,j=!1,v=null,w=null;n&&(g=l&&h.route.id?l[h.route.id]:void 0,v=h.route.errorElement||VL,c&&(d<0&&f===0?(XL("route-fallback"),j=!0,w=null):d===f&&(j=!0,w=h.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,f+1)),x=()=>{let y;return g?y=v:j?y=w:h.route.Component?y=m.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=u,m.createElement(HL,{match:h,routeContext:{outlet:u,matches:p,isDataRoute:n!=null},children:y})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?m.createElement(WL,{location:n.location,revalidation:n.revalidation,component:v,error:g,children:x(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):x()},null)}var g1=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(g1||{}),x1=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(x1||{});function KL(e){let t=m.useContext(Qx);return t||It(!1),t}function GL(e){let t=m.useContext(ML);return t||It(!1),t}function QL(e){let t=m.useContext($a);return t||It(!1),t}function v1(e){let t=QL(),n=t.matches[t.matches.length-1];return n.route.id||It(!1),n.route.id}function YL(){var e;let t=m.useContext(h1),n=GL(),s=v1();return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function JL(){let{router:e}=KL(g1.UseNavigateStable),t=v1(x1.UseNavigateStable),n=m.useRef(!1);return f1(()=>{n.current=!0}),m.useCallback(function(a,i){i===void 0&&(i={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,vc({fromRouteId:t},i)))},[e,t])}const Qw={};function XL(e,t,n){Qw[e]||(Qw[e]=!0)}function ZL(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Un(e){It(!1)}function eO(e){let{basename:t="/",children:n=null,location:s,navigationType:a=fa.Pop,navigator:i,static:o=!1,future:l}=e;Wc()&&It(!1);let c=t.replace(/^\/*/,"/"),d=m.useMemo(()=>({basename:c,navigator:i,static:o,future:vc({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof s=="string"&&(s=Ho(s));let{pathname:u="/",search:h="",hash:f="",state:g=null,key:j="default"}=s,v=m.useMemo(()=>{let w=Gx(u,c);return w==null?null:{location:{pathname:w,search:h,hash:f,state:g,key:j},navigationType:a}},[c,u,h,f,g,j,a]);return v==null?null:m.createElement(Si.Provider,{value:d},m.createElement(Ih.Provider,{children:n,value:v}))}function tO(e){let{children:t,location:n}=e;return UL(Fp(t),n)}new Promise(()=>{});function Fp(e,t){t===void 0&&(t=[]);let n=[];return m.Children.forEach(e,(s,a)=>{if(!m.isValidElement(s))return;let i=[...t,a];if(s.type===m.Fragment){n.push.apply(n,Fp(s.props.children,i));return}s.type!==Un&&It(!1),!s.props.index||!s.props.children||It(!1);let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=Fp(s.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Up(){return Up=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Up.apply(this,arguments)}function nO(e,t){if(e==null)return{};var n={},s=Object.keys(e),a,i;for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function sO(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function rO(e,t){return e.button===0&&(!t||t==="_self")&&!sO(e)}const aO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],iO="6";try{window.__reactRouterVersion=iO}catch{}const oO="startTransition",Yw=$g[oO];function lO(e){let{basename:t,children:n,future:s,window:a}=e,i=m.useRef();i.current==null&&(i.current=dL({window:a,v5Compat:!0}));let o=i.current,[l,c]=m.useState({action:o.action,location:o.location}),{v7_startTransition:d}=s||{},u=m.useCallback(h=>{d&&Yw?Yw(()=>c(h)):c(h)},[c,d]);return m.useLayoutEffect(()=>o.listen(u),[o,u]),m.useEffect(()=>ZL(s),[s]),m.createElement(eO,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:s})}const cO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lt=m.forwardRef(function(t,n){let{onClick:s,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:h}=t,f=nO(t,aO),{basename:g}=m.useContext(Si),j,v=!1;if(typeof d=="string"&&dO.test(d)&&(j=d,cO))try{let y=new URL(window.location.href),b=d.startsWith("//")?new URL(y.protocol+d):new URL(d),_=Gx(b.pathname,g);b.origin===y.origin&&_!=null?d=_+b.search+b.hash:v=!0}catch{}let w=LL(d,{relative:a}),p=uO(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:h});function x(y){s&&s(y),y.defaultPrevented||p(y)}return m.createElement("a",Up({},f,{href:j||w,onClick:v||i?s:x,ref:n,target:c}))});var Jw;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Jw||(Jw={}));var Xw;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Xw||(Xw={}));function uO(e,t){let{target:n,replace:s,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=OL(),d=qo(),u=p1(e,{relative:o});return m.useCallback(h=>{if(rO(h,n)){h.preventDefault();let f=s!==void 0?s:zu(d)===zu(u);c(e,{replace:f,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,s,a,n,e,i,o,l])}const hO="modulepreload",fO=function(e){return"/"+e},Zw={},Ni=function(t,n,s){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(n.map(c=>{if(c=fO(c),c in Zw)return;Zw[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":hO,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((f,g)=>{h.addEventListener("load",f),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},mO=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ni(async()=>{const{default:s}=await Promise.resolve().then(()=>Ko);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)};class Yx extends Error{constructor(t,n="FunctionsError",s){super(t),this.name=n,this.context=s}}class pO extends Yx{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class e0 extends Yx{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class t0 extends Yx{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Bp;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Bp||(Bp={}));var gO=function(e,t,n,s){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};class xO{constructor(t,{headers:n={},customFetch:s,region:a=Bp.Any}={}){this.url=t,this.headers=n,this.region=a,this.fetch=mO(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var s;return gO(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:o}=n;let l={},{region:c}=n;c||(c=this.region);const d=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let u;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const h=yield this.fetch(d.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:u}).catch(v=>{throw new pO(v)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new e0(h);if(!h.ok)throw new t0(h);let g=((s=h.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),j;return g==="application/json"?j=yield h.json():g==="application/octet-stream"?j=yield h.blob():g==="text/event-stream"?j=h:g==="multipart/form-data"?j=yield h.formData():j=yield h.text(),{data:j,error:null,response:h}}catch(a){return{data:null,error:a,response:a instanceof t0||a instanceof e0?a.context:void 0}}})}}var zn={},Jx={},Mh={},Hc={},Lh={},Oh={},vO=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},$o=vO();const yO=$o.fetch,y1=$o.fetch.bind($o),w1=$o.Headers,wO=$o.Request,jO=$o.Response,Ko=Object.freeze(Object.defineProperty({__proto__:null,Headers:w1,Request:wO,Response:jO,default:y1,fetch:yO},Symbol.toStringTag,{value:"Module"})),bO=yP(Ko);var Fh={};Object.defineProperty(Fh,"__esModule",{value:!0});let _O=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Fh.default=_O;var j1=_s&&_s.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Oh,"__esModule",{value:!0});const SO=j1(bO),NO=j1(Fh);let CO=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=SO.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const s=this.fetch;let a=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let d=null,u=null,h=null,f=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const p=await i.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=p:u=JSON.parse(p))}const v=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),w=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");v&&w&&w.length>1&&(h=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(d={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,f=406,g="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const v=await i.text();try{d=JSON.parse(v),Array.isArray(d)&&i.status===404&&(u=[],d=null,f=200,g="OK")}catch{i.status===404&&v===""?(f=204,g="No Content"):d={message:v}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,f=200,g="OK"),d&&this.shouldThrowOnError)throw new NO.default(d)}return{error:d,data:u,count:h,status:f,statusText:g}});return this.shouldThrowOnError||(a=a.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,n)}returns(){return this}overrideTypes(){return this}};Oh.default=CO;var EO=_s&&_s.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Lh,"__esModule",{value:!0});const TO=EO(Oh);let kO=class extends TO.default{select(t){let n=!1;const s=(t??"*").split("").map(a=>/\s/.test(a)&&!n?"":(a==='"'&&(n=!n),a)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:s,foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:s=n}={}){const a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,n,{foreignTable:s,referencedTable:a=s}={}){const i=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:s=!1,buffers:a=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,s?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Lh.default=kO;var PO=_s&&_s.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Hc,"__esModule",{value:!0});const RO=PO(Lh);let AO=class extends RO.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const s=Array.from(new Set(n)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${s})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:s,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const o=s===void 0?"":`(${s})`;return this.url.searchParams.append(t,`${i}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,s])=>{this.url.searchParams.append(n,`eq.${s}`)}),this}not(t,n,s){return this.url.searchParams.append(t,`not.${n}.${s}`),this}or(t,{foreignTable:n,referencedTable:s=n}={}){const a=s?`${s}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,n,s){return this.url.searchParams.append(t,`${n}.${s}`),this}};Hc.default=AO;var DO=_s&&_s.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Mh,"__esModule",{value:!0});const pl=DO(Hc);let $O=class{constructor(t,{headers:n={},schema:s,fetch:a}){this.url=t,this.headers=n,this.schema=s,this.fetch=a}select(t,{head:n=!1,count:s}={}){const a=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),s&&(this.headers.Prefer=`count=${s}`),new pl.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:s=!0}={}){const a="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),s||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new pl.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:s=!1,count:a,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${s?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new pl.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const s="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),this.headers.Prefer=a.join(","),new pl.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",s=[];return t&&s.push(`count=${t}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new pl.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Mh.default=$O;var Uh={},Bh={};Object.defineProperty(Bh,"__esModule",{value:!0});Bh.version=void 0;Bh.version="0.0.0-automated";Object.defineProperty(Uh,"__esModule",{value:!0});Uh.DEFAULT_HEADERS=void 0;const IO=Bh;Uh.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${IO.version}`};var b1=_s&&_s.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Jx,"__esModule",{value:!0});const MO=b1(Mh),LO=b1(Hc),OO=Uh;let FO=class _1{constructor(t,{headers:n={},schema:s,fetch:a}={}){this.url=t,this.headers=Object.assign(Object.assign({},OO.DEFAULT_HEADERS),n),this.schemaName=s,this.fetch=a}from(t){const n=new URL(`${this.url}/${t}`);return new MO.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new _1(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:s=!1,get:a=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;s||a?(o=s?"HEAD":"GET",Object.entries(n).filter(([u,h])=>h!==void 0).map(([u,h])=>[u,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([u,h])=>{l.searchParams.append(u,h)})):(o="POST",c=n);const d=Object.assign({},this.headers);return i&&(d.Prefer=`count=${i}`),new LO.default({method:o,url:l,headers:d,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Jx.default=FO;var Go=_s&&_s.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zn,"__esModule",{value:!0});zn.PostgrestError=zn.PostgrestBuilder=zn.PostgrestTransformBuilder=zn.PostgrestFilterBuilder=zn.PostgrestQueryBuilder=zn.PostgrestClient=void 0;const S1=Go(Jx);zn.PostgrestClient=S1.default;const N1=Go(Mh);zn.PostgrestQueryBuilder=N1.default;const C1=Go(Hc);zn.PostgrestFilterBuilder=C1.default;const E1=Go(Lh);zn.PostgrestTransformBuilder=E1.default;const T1=Go(Oh);zn.PostgrestBuilder=T1.default;const k1=Go(Fh);zn.PostgrestError=k1.default;var UO=zn.default={PostgrestClient:S1.default,PostgrestQueryBuilder:N1.default,PostgrestFilterBuilder:C1.default,PostgrestTransformBuilder:E1.default,PostgrestBuilder:T1.default,PostgrestError:k1.default};const{PostgrestClient:BO,PostgrestQueryBuilder:B7,PostgrestFilterBuilder:z7,PostgrestTransformBuilder:V7,PostgrestBuilder:W7,PostgrestError:H7}=UO;function zO(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const VO=zO(),WO="2.11.15",HO=`realtime-js/${WO}`,qO="1.0.0",P1=1e4,KO=1e3;var Ol;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ol||(Ol={}));var xn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(xn||(xn={}));var Ls;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ls||(Ls={}));var zp;(function(e){e.websocket="websocket"})(zp||(zp={}));var Ja;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ja||(Ja={}));class GO{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),s=new TextDecoder;return this._decodeBroadcast(t,n,s)}_decodeBroadcast(t,n,s){const a=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=s.decode(t.slice(o,o+a));o=o+a;const c=s.decode(t.slice(o,o+i));o=o+i;const d=JSON.parse(s.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class R1{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var et;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(et||(et={}));const n0=(e,t,n={})=>{var s;const a=(s=n.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(t).reduce((i,o)=>(i[o]=QO(o,e,t,a),i),{})},QO=(e,t,n,s)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=n[e];return i&&!s.includes(i)?A1(i,o):Vp(o)},A1=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return ZO(t,n)}switch(e){case et.bool:return YO(t);case et.float4:case et.float8:case et.int2:case et.int4:case et.int8:case et.numeric:case et.oid:return JO(t);case et.json:case et.jsonb:return XO(t);case et.timestamp:return e4(t);case et.abstime:case et.date:case et.daterange:case et.int4range:case et.int8range:case et.money:case et.reltime:case et.text:case et.time:case et.timestamptz:case et.timetz:case et.tsrange:case et.tstzrange:return Vp(t);default:return Vp(t)}},Vp=e=>e,YO=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},JO=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},XO=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},ZO=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,s=e[n];if(e[0]==="{"&&s==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>A1(t,l))}return e},e4=e=>typeof e=="string"?e.replace(" ","T"):e,D1=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class em{constructor(t,n,s={},a=P1){this.channel=t,this.event=n,this.payload=s,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var s;return this._hasReceived(t)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var s0;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(s0||(s0={}));class Fl{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Fl.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=Fl.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(s.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Fl.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,s,a){const i=this.cloneDeep(t),o=this.transformState(n),l={},c={};return this.map(i,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const h=i[d];if(h){const f=u.map(w=>w.presence_ref),g=h.map(w=>w.presence_ref),j=u.filter(w=>g.indexOf(w.presence_ref)<0),v=h.filter(w=>f.indexOf(w.presence_ref)<0);j.length>0&&(l[d]=j),v.length>0&&(c[d]=v)}else l[d]=u}),this.syncDiff(i,{joins:l,leaves:c},s,a)}static syncDiff(t,n,s,a){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var d;const u=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),u.length>0){const h=t[l].map(g=>g.presence_ref),f=u.filter(g=>h.indexOf(g.presence_ref)<0);t[l].unshift(...f)}s(l,u,c)}),this.map(o,(l,c)=>{let d=t[l];if(!d)return;const u=c.map(h=>h.presence_ref);d=d.filter(h=>u.indexOf(h.presence_ref)<0),t[l]=d,a(l,d,c),d.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(s=>n(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,s)=>{const a=t[s];return"metas"in a?n[s]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[s]=a,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var r0;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(r0||(r0={}));var a0;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(a0||(a0={}));var Sr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Sr||(Sr={}));class Xx{constructor(t,n={config:{}},s){this.topic=t,this.params=n,this.socket=s,this.bindings={},this.state=xn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new em(this,Ls.join,this.params,this.timeout),this.rejoinTimer=new R1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=xn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=xn.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=xn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=xn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ls.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new Fl(this),this.broadcastEndpointURL=D1(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var s,a;if(this.socket.isConnected()||this.socket.connect(),this.state==xn.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(u=>t==null?void 0:t(Sr.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(Sr.CLOSED));const c={},d={broadcast:i,presence:o,postgres_changes:(a=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(u=>u.filter))!==null&&a!==void 0?a:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var h;if(this.socket.setAuth(),u===void 0){t==null||t(Sr.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,g=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,j=[];for(let v=0;v<g;v++){const w=f[v],{filter:{event:p,schema:x,table:y,filter:b}}=w,_=u&&u[v];if(_&&_.event===p&&_.schema===x&&_.table===y&&_.filter===b)j.push(Object.assign(Object.assign({},w),{id:_.id}));else{this.unsubscribe(),this.state=xn.errored,t==null||t(Sr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,t&&t(Sr.SUBSCRIBED);return}}).receive("error",u=>{this.state=xn.errored,t==null||t(Sr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Sr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,s){return this._on(t,n,s)}async send(t,n={}){var s,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const d=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=xn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ls.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(a=>{s=new em(this,Ls.leave,{},t),s.receive("ok",()=>{n(),a("ok")}).receive("timeout",()=>{n(),a("timed out")}).receive("error",()=>{a("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,s){const a=new AbortController,i=setTimeout(()=>a.abort(),s),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(i),o}_push(t,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new em(this,t,n,s);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,n,s){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,s){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=Ls;if(s&&[l,c,d,u].indexOf(o)>=0&&s!==this._joinRef())return;let f=this._onMessage(o,n,s);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(g=>{var j,v,w;return((j=g.filter)===null||j===void 0?void 0:j.event)==="*"||((w=(v=g.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(g=>g.callback(f,s)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var j,v,w,p,x,y;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const b=g.id,_=(j=g.filter)===null||j===void 0?void 0:j.event;return b&&((v=n.ids)===null||v===void 0?void 0:v.includes(b))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const b=(x=(p=g==null?void 0:g.filter)===null||p===void 0?void 0:p.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return b==="*"||b===((y=n==null?void 0:n.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof f=="object"&&"ids"in f){const j=f.data,{schema:v,table:w,commit_timestamp:p,type:x,errors:y}=j;f=Object.assign(Object.assign({},{schema:v,table:w,commit_timestamp:p,eventType:x,new:{},old:{},errors:y}),this._getPayloadRecords(j))}g.callback(f,s)})}_isClosed(){return this.state===xn.closed}_isJoined(){return this.state===xn.joined}_isJoining(){return this.state===xn.joining}_isLeaving(){return this.state===xn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,s){const a=t.toLocaleLowerCase(),i={type:a,filter:n,callback:s};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,n){const s=t.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&Xx.isEqual(a.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const s in t)if(t[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ls.close,{},t)}_onError(t){this._on(Ls.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=xn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=n0(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=n0(t.columns,t.old_record)),n}}const i0=()=>{},t4=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class n4{constructor(t,n){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=P1,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=i0,this.ref=0,this.logger=i0,this.conn=null,this.sendBuffer=[],this.serializer=new GO,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>Ni(async()=>{const{default:c}=await Promise.resolve().then(()=>Ko);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${zp.websocket}`,this.httpEndpoint=D1(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const a=(s=n==null?void 0:n.params)===null||s===void 0?void 0:s.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new R1(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=VO),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:qO}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(s=>s.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,s){this.logger(t,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Ol.connecting:return Ja.Connecting;case Ol.open:return Ja.Open;case Ol.closing:return Ja.Closing;default:return Ja.Closed}}isConnected(){return this.connectionState()===Ja.Open}channel(t,n={config:{}}){const s=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===s);if(a)return a;{const i=new Xx(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:s,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${s} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const a={access_token:n,version:HO};n&&s.updateJoinPayload(a),s.joinedOnce&&s._isJoined()&&s._push(Ls.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(KO,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:s,event:a,payload:i,ref:o}=n;s==="phoenix"&&a==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${s} ${a} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(s)).forEach(l=>l._trigger(a,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ls.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const s=t.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${t}${s}${a}`}_workerObjectUrl(t){let n;if(t)n=t;else{const s=new Blob([t4],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}}class Zx extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Gt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class s4 extends Zx{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Wp extends Zx{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var r4=function(e,t,n,s){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};const $1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ni(async()=>{const{default:s}=await Promise.resolve().then(()=>Ko);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},a4=()=>r4(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ni(()=>Promise.resolve().then(()=>Ko),void 0)).Response:Response}),Hp=e=>{if(Array.isArray(e))return e.map(n=>Hp(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,s])=>{const a=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=Hp(s)}),t};var Ci=function(e,t,n,s){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};const tm=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),i4=(e,t,n)=>Ci(void 0,void 0,void 0,function*(){const s=yield a4();e instanceof s&&!(n!=null&&n.noResolveJson)?e.json().then(a=>{t(new s4(tm(a),e.status||500))}).catch(a=>{t(new Wp(tm(a),a))}):t(new Wp(tm(e),e))}),o4=(e,t,n,s)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s&&(a.body=JSON.stringify(s)),Object.assign(Object.assign({},a),n))};function qc(e,t,n,s,a,i){return Ci(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,o4(t,s,a,i)).then(c=>{if(!c.ok)throw c;return s!=null&&s.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>i4(c,l,s))})})}function Vu(e,t,n,s){return Ci(this,void 0,void 0,function*(){return qc(e,"GET",t,n,s)})}function ea(e,t,n,s,a){return Ci(this,void 0,void 0,function*(){return qc(e,"POST",t,s,a,n)})}function l4(e,t,n,s,a){return Ci(this,void 0,void 0,function*(){return qc(e,"PUT",t,s,a,n)})}function c4(e,t,n,s){return Ci(this,void 0,void 0,function*(){return qc(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function I1(e,t,n,s,a){return Ci(this,void 0,void 0,function*(){return qc(e,"DELETE",t,s,a,n)})}var Fn=function(e,t,n,s){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};const d4={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},o0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class u4{constructor(t,n={},s,a){this.url=t,this.headers=n,this.bucketId=s,this.fetch=$1(a)}uploadOrUpdate(t,n,s,a){return Fn(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},o0),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=s,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const d=this._removeEmptyFolders(n),u=this._getFinalPath(d),h=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:d,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(Gt(i))return{data:null,error:i};throw i}})}upload(t,n,s){return Fn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,s)})}uploadToSignedUrl(t,n,s,a){return Fn(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let c;const d=Object.assign({upsert:o0.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.append("cacheControl",d.cacheControl)):(c=s,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:u}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(Gt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return Fn(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t);const a=Object.assign({},this.headers);n!=null&&n.upsert&&(a["x-upsert"]="true");const i=yield ea(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Zx("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(s){if(Gt(s))return{data:null,error:s};throw s}})}update(t,n,s){return Fn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,s)})}move(t,n,s){return Fn(this,void 0,void 0,function*(){try{return{data:yield ea(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Gt(a))return{data:null,error:a};throw a}})}copy(t,n,s){return Fn(this,void 0,void 0,function*(){try{return{data:{path:(yield ea(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Gt(a))return{data:null,error:a};throw a}})}createSignedUrl(t,n,s){return Fn(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield ea(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:n},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(Gt(a))return{data:null,error:a};throw a}})}createSignedUrls(t,n,s){return Fn(this,void 0,void 0,function*(){try{const a=yield ea(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(Gt(a))return{data:null,error:a};throw a}})}download(t,n){return Fn(this,void 0,void 0,function*(){const a=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Vu(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Gt(l))return{data:null,error:l};throw l}})}info(t){return Fn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const s=yield Vu(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Hp(s),error:null}}catch(s){if(Gt(s))return{data:null,error:s};throw s}})}exists(t){return Fn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield c4(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(Gt(s)&&s instanceof Wp){const a=s.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:s}}throw s}})}getPublicUrl(t,n){const s=this._getFinalPath(t),a=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&a.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&a.push(c);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${s}${d}`)}}}remove(t){return Fn(this,void 0,void 0,function*(){try{return{data:yield I1(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Gt(n))return{data:null,error:n};throw n}})}list(t,n,s){return Fn(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},d4),n),{prefix:t||""});return{data:yield ea(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},s),error:null}}catch(a){if(Gt(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const h4="2.7.1",f4={"X-Client-Info":`storage-js/${h4}`};var Ri=function(e,t,n,s){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};class m4{constructor(t,n={},s){this.url=t,this.headers=Object.assign(Object.assign({},f4),n),this.fetch=$1(s)}listBuckets(){return Ri(this,void 0,void 0,function*(){try{return{data:yield Vu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Gt(t))return{data:null,error:t};throw t}})}getBucket(t){return Ri(this,void 0,void 0,function*(){try{return{data:yield Vu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Gt(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Ri(this,void 0,void 0,function*(){try{return{data:yield ea(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(Gt(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return Ri(this,void 0,void 0,function*(){try{return{data:yield l4(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(Gt(s))return{data:null,error:s};throw s}})}emptyBucket(t){return Ri(this,void 0,void 0,function*(){try{return{data:yield ea(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Gt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ri(this,void 0,void 0,function*(){try{return{data:yield I1(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Gt(n))return{data:null,error:n};throw n}})}}class p4 extends m4{constructor(t,n={},s){super(t,n,s)}from(t){return new u4(this.url,this.headers,t,this.fetch)}}const g4="2.51.0";let bl="";typeof Deno<"u"?bl="deno":typeof document<"u"?bl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?bl="react-native":bl="node";const x4={"X-Client-Info":`supabase-js-${bl}/${g4}`},v4={headers:x4},y4={schema:"public"},w4={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},j4={};var b4=function(e,t,n,s){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};const _4=e=>{let t;return e?t=e:typeof fetch>"u"?t=y1:t=fetch,(...n)=>t(...n)},S4=()=>typeof Headers>"u"?w1:Headers,N4=(e,t,n)=>{const s=_4(n),a=S4();return(i,o)=>b4(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let d=new a(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),s(i,Object.assign(Object.assign({},o),{headers:d}))})};var C4=function(e,t,n,s){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};function E4(e){return e.endsWith("/")?e:e+"/"}function T4(e,t){var n,s;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:d,realtime:u,global:h}=t,f={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},u),o),global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(s=l==null?void 0:l.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>C4(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const M1="2.71.0",Ui=30*1e3,qp=3,nm=qp*Ui,k4="http://localhost:9999",P4="supabase.auth.token",R4={"X-Client-Info":`gotrue-js/${M1}`},Kp="X-Supabase-Api-Version",L1={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},A4=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,D4=10*60*1e3;class ev extends Error{constructor(t,n,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function Se(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class $4 extends ev{constructor(t,n,s){super(t,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function I4(e){return Se(e)&&e.name==="AuthApiError"}class O1 extends ev{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Ia extends ev{constructor(t,n,s,a){super(t,s,a),this.name=n,this.status=s}}class Qr extends Ia{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function M4(e){return Se(e)&&e.name==="AuthSessionMissingError"}class Ed extends Ia{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Td extends Ia{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class kd extends Ia{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function L4(e){return Se(e)&&e.name==="AuthImplicitGrantRedirectError"}class l0 extends Ia{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Gp extends Ia{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function sm(e){return Se(e)&&e.name==="AuthRetryableFetchError"}class c0 extends Ia{constructor(t,n,s){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class Qp extends Ia{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Wu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),d0=` 	
\r=`.split(""),O4=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<d0.length;t+=1)e[d0[t].charCodeAt(0)]=-2;for(let t=0;t<Wu.length;t+=1)e[Wu[t].charCodeAt(0)]=t;return e})();function u0(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n(Wu[s]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n(Wu[s]),t.queuedBits-=6}}function F1(e,t,n){const s=O4[e];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function h0(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{B4(o,s,n)};for(let o=0;o<e.length;o+=1)F1(e.charCodeAt(o),a,i);return t.join("")}function F4(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function U4(e,t){for(let n=0;n<e.length;n+=1){let s=e.charCodeAt(n);if(s>55295&&s<=56319){const a=(s-55296)*1024&65535;s=(e.charCodeAt(n+1)-56320&65535|a)+65536,n+=1}F4(s,t)}}function B4(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let s=1;s<6;s+=1)if(!(e>>7-s&1)){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function z4(e){const t=[],n={queue:0,queuedBits:0},s=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)F1(e.charCodeAt(a),n,s);return new Uint8Array(t)}function V4(e){const t=[];return U4(e,n=>t.push(n)),new Uint8Array(t)}function W4(e){const t=[],n={queue:0,queuedBits:0},s=a=>{t.push(a)};return e.forEach(a=>u0(a,n,s)),u0(null,n,s),t.join("")}function H4(e){return Math.round(Date.now()/1e3)+e}function q4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ks=()=>typeof window<"u"&&typeof document<"u",Va={tested:!1,writable:!1},U1=()=>{if(!ks())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Va.tested)return Va.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Va.tested=!0,Va.writable=!0}catch{Va.tested=!0,Va.writable=!1}return Va.writable};function K4(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return n.searchParams.forEach((s,a)=>{t[a]=s}),t}const B1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ni(async()=>{const{default:s}=await Promise.resolve().then(()=>Ko);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},G4=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Bi=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Wa=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Kr=async(e,t)=>{await e.removeItem(t)};class zh{constructor(){this.promise=new zh.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}zh.promiseConstructor=Promise;function rm(e){const t=e.split(".");if(t.length!==3)throw new Qp("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!A4.test(t[s]))throw new Qp("JWT not in base64url format");return{header:JSON.parse(h0(t[0])),payload:JSON.parse(h0(t[1])),signature:z4(t[2]),raw:{header:t[0],payload:t[1]}}}async function Q4(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Y4(e,t){return new Promise((s,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){s(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function J4(e){return("0"+e.toString(16)).substr(-2)}function X4(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let a="";for(let i=0;i<56;i++)a+=n.charAt(Math.floor(Math.random()*s));return a}return crypto.getRandomValues(t),Array.from(t,J4).join("")}async function Z4(e){const n=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(s);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function eF(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Z4(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ai(e,t,n=!1){const s=X4();let a=s;n&&(a+="/PASSWORD_RECOVERY"),await Bi(e,`${t}-code-verifier`,a);const i=await eF(s);return[i,s===i?"plain":"s256"]}const tF=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function nF(e){const t=e.headers.get(Kp);if(!t||!t.match(tF))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function sF(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function rF(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const aF=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Di(e){if(!aF.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function am(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}var iF=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n};const Qa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),oF=[502,503,504];async function f0(e){var t;if(!G4(e))throw new Gp(Qa(e),0);if(oF.includes(e.status))throw new Gp(Qa(e),e.status);let n;try{n=await e.json()}catch(i){throw new O1(Qa(i),i)}let s;const a=nF(e);if(a&&a.getTime()>=L1["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new c0(Qa(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new Qr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new c0(Qa(n),e.status,n.weak_password.reasons);throw new $4(Qa(n),e.status||500,s)}const lF=(e,t,n,s)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(s),Object.assign(Object.assign({},a),n))};async function Re(e,t,n,s){var a;const i=Object.assign({},s==null?void 0:s.headers);i[Kp]||(i[Kp]=L1["2024-01-01"].name),s!=null&&s.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const o=(a=s==null?void 0:s.query)!==null&&a!==void 0?a:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await cF(e,t,n+l,{headers:i,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(c):{data:Object.assign({},c),error:null}}async function cF(e,t,n,s,a,i){const o=lF(t,s,a,i);let l;try{l=await e(n,Object.assign({},o))}catch(c){throw console.error(c),new Gp(Qa(c),0)}if(l.ok||await f0(l),s!=null&&s.noResolveJson)return l;try{return await l.json()}catch(c){await f0(c)}}function br(e){var t;let n=null;fF(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=H4(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:s},error:null}}function m0(e){const t=br(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ra(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function dF(e){return{data:e,error:null}}function uF(e){const{action_link:t,email_otp:n,hashed_token:s,redirect_to:a,verification_type:i}=e,o=iF(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:s,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function hF(e){return e}function fF(e){return e.access_token&&e.refresh_token&&e.expires_in}const im=["global","local","others"];var mF=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n};class pF{constructor({url:t="",headers:n={},fetch:s}){this.url=t,this.headers=n,this.fetch=B1(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=im[0]){if(im.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${im.join(", ")}`);try{return await Re(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Se(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,n={}){try{return await Re(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ra})}catch(s){if(Se(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:n}=t,s=mF(t,["options"]),a=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(a.new_email=s==null?void 0:s.newEmail,delete a.newEmail),await Re(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:uF,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Se(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Re(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ra})}catch(n){if(Se(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,s,a,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await Re(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:hF});if(u.error)throw u.error;const h=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(j=>{const v=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(j.split(";")[1].split("=")[1]);d[`${w}Page`]=v}),d.total=parseInt(f)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(Se(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){Di(t);try{return await Re(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ra})}catch(n){if(Se(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Di(t);try{return await Re(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:ra})}catch(s){if(Se(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,n=!1){Di(t);try{return await Re(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:ra})}catch(s){if(Se(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){Di(t.userId);try{const{data:n,error:s}=await Re(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:s}}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Di(t.userId),Di(t.id);try{return{data:await Re(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Se(n))return{data:null,error:n};throw n}}}function p0(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function gF(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const $i={debug:!!(globalThis&&U1()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class z1 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class xF extends z1{}async function vF(e,t,n){$i.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),$i.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async a=>{if(a){$i.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await n()}finally{$i.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw $i.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new xF(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if($i.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}gF();const yF={url:k4,storageKey:P4,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:R4,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function g0(e,t,n){return await n()}const Ii={};class yc{constructor(t){var n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=yc.nextInstanceID,yc.nextInstanceID+=1,this.instanceID>0&&ks()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},yF),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new pF({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=B1(a.fetch),this.lock=a.lock||g0,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:ks()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=vF:this.lock=g0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:U1()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=p0(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=p0(this.memoryStorage)),ks()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=Ii[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Ii[this.storageKey]=Object.assign(Object.assign({},Ii[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Ii[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ii[this.storageKey]=Object.assign(Object.assign({},Ii[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${M1}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=K4(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),ks()&&this.detectSessionInUrl&&s!=="none"){const{data:a,error:i}=await this._getSessionFromURL(n,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),L4(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Se(n)?{error:n}:{error:new O1("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,s,a;try{const i=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:br}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(Se(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,s,a;try{let i;if("email"in t){const{email:u,password:h,options:f}=t;let g=null,j=null;this.flowType==="pkce"&&([g,j]=await Ai(this.storage,this.storageKey)),i=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:g,code_challenge_method:j},xform:br})}else if("phone"in t){const{phone:u,password:h,options:f}=t;i=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},channel:(a=f==null?void 0:f.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:br})}else throw new Td("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(Se(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:l}=t;n=await Re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:m0})}else if("phone"in t){const{phone:i,password:o,options:l}=t;n=await Re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:m0})}else throw new Td("You must provide either an email or phone number and a password");const{data:s,error:a}=n;return a?{data:{user:null,session:null},error:a}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Ed}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:a})}catch(n){if(Se(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,s,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,s,a,i,o,l,c,d,u,h,f,g;let j,v;if("message"in t)j=t.message,v=t.signature;else{const{chain:w,wallet:p,statement:x,options:y}=t;let b;if(ks())if(typeof p=="object")b=p;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))b=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=p}const _=new URL((n=y==null?void 0:y.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in b&&b.signIn){const E=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),x?{statement:x}:null));let C;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")C=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)C=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)j=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),v=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${_.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(a=(s=y==null?void 0:y.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((d=y==null?void 0:y.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((h=(u=y==null?void 0:y.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...y.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const E=await b.signMessage(new TextEncoder().encode(j),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=E}}try{const{data:w,error:p}=await Re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:W4(v)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:br});if(p)throw p;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Ed}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:p})}catch(w){if(Se(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const n=await Wa(this.storage,`${this.storageKey}-code-verifier`),[s,a]=(n??"").split("/");try{const{data:i,error:o}=await Re(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:br});if(await Kr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ed}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(Se(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:s,token:a,access_token:i,nonce:o}=t,l=await Re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:br}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Ed}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(n){if(Se(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,s,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await Ai(this.storage,this.storageKey));const{error:h}=await Re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:u}=await Re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new Td("You must provide either an email or phone number.")}catch(l){if(Se(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,s;try{let a,i;"options"in t&&(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:l}=await Re(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:br});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(Se(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var n,s,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Ai(this.storage,this.storageKey)),await Re(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:dF})}catch(i){if(Se(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:s}=t;if(s)throw s;if(!n)throw new Qr;const{error:a}=await Re(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(Se(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:s,type:a,options:i}=t,{error:o}=await Re(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:s,type:a,options:i}=t,{data:o,error:l}=await Re(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Td("You must provide either an email or phone number and a type")}catch(n){if(Se(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Wa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<nm:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.userStorage){const o=await Wa(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=am()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,d,u)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:t},error:null}}const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ra}):await this._useSession(async n=>{var s,a,i;const{data:o,error:l}=n;if(l)throw l;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Qr}:await Re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:ra})})}catch(n){if(Se(n))return M4(n)&&(await this._removeSession(),await Kr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async s=>{const{data:a,error:i}=s;if(i)throw i;if(!a.session)throw new Qr;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Ai(this.storage,this.storageKey));const{data:d,error:u}=await Re(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:ra});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if(Se(s))return{data:{user:null},error:s};throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Qr;const n=Date.now()/1e3;let s=n,a=!0,i=null;const{payload:o}=rm(t.access_token);if(o.exp&&(s=o.exp,a=s<=n),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(Se(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var s;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(t!=null&&t.refresh_token))throw new Qr;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Se(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!ks())throw new kd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new kd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new l0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new kd("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new l0("No code detected.");const{data:x,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=t;if(!i||!l||!o||!d)throw new kd("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(l);let f=u+h;c&&(f=parseInt(c));const g=f-u;g*1e3<=Ui&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const j=f-h;u-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,f,u):u-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,f,u);const{data:v,error:w}=await this._getUser(i);if(w)throw w;const p={provider_token:s,provider_refresh_token:a,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:d,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:t.type},error:null}}catch(s){if(Se(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Wa(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:a,error:i}=n;if(i)return{error:i};const o=(s=a.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(I4(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Kr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=q4(),s={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async n=>{var s,a;try{const{data:{session:i},error:o}=n;if(o)throw o;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let s=null,a=null;this.flowType==="pkce"&&([s,a]=await Ai(this.storage,this.storageKey,!0));try{return await Re(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(Se(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Se(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:s,error:a}=await this._useSession(async i=>{var o,l,c,d,u;const{data:h,error:f}=i;if(f)throw f;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Re(this.fetch,"GET",g,{headers:this.headers,jwt:(u=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return ks()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:t.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(Se(s))return{data:{provider:t.provider,url:null},error:s};throw s}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var s,a;const{data:i,error:o}=n;if(o)throw o;return await Re(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await Y4(async a=>(a>0&&await Q4(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await Re(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:br})),(a,i)=>{const o=200*Math.pow(2,a);return i&&sm(i)&&Date.now()+o-s<Ui})}catch(s){if(this._debug(n,"error",s),Se(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",s),ks()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const a=await Wa(this.storage,this.storageKey);if(a&&this.userStorage){let o=await Wa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await Bi(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:am()}else if(a&&!a.user&&!a.user){const o=await Wa(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await Kr(this.storage,this.storageKey+"-user"),await Bi(this.storage,this.storageKey,a)):a.user=am()}if(this._debug(s,"session from storage",a),!this._isValidSession(a)){this._debug(s,"session is not valid"),a!==null&&await this._removeSession();return}const i=((n=a.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<nm;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${nm}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),sm(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(s,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(s,"error",a),console.error(a);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var n,s;if(!t)throw new Qr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new zh;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Qr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),Se(i)){const o={session:null,error:i};return sm(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,n,s=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await Bi(this.userStorage,this.storageKey+"-user",{user:n.user});const a=Object.assign({},n);delete a.user;const i=structuredClone(a);await Bi(this.storage,this.storageKey,i)}else{const a=structuredClone(n);await Bi(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Kr(this.storage,this.storageKey),await Kr(this.storage,this.storageKey+"-code-verifier"),await Kr(this.storage,this.storageKey+"-user"),this.userStorage&&await Kr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ks()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ui);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((s.expires_at*1e3-t)/Ui);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Ui}ms, refresh threshold is ${qp} ticks`),a<=qp&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof z1)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ks()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,s){const a=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&a.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&a.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,o]=await Ai(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(s!=null&&s.queryParams){const i=new URLSearchParams(s.queryParams);a.push(i.toString())}return s!=null&&s.skipBrowserRedirect&&a.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var s;const{data:a,error:i}=n;return i?{data:null,error:i}:await Re(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var s,a;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:d}=await Re(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:a,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await Re(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(Se(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:a,error:i}=n;return i?{data:null,error:i}:await Re(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(Se(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:s}=await this._challenge({factorId:t.factorId});return s?{data:null,error:s}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const s=(t==null?void 0:t.factors)||[],a=s.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=s.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:s,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,s;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=rm(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((s=(n=a.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,n={keys:[]}){let s=n.keys.find(l=>l.kid===t);if(s)return s;const a=Date.now();if(s=this.jwks.keys.find(l=>l.kid===t),s&&this.jwks_cached_at+D4>a)return s;const{data:i,error:o}=await Re(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,s=i.keys.find(l=>l.kid===t),!s)?null:s}async getClaims(t,n={}){try{let s=t;if(!s){const{data:g,error:j}=await this.getSession();if(j||!g.session)return{data:null,error:j};s=g.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=rm(s);n!=null&&n.allowExpired||sF(i.exp);const d=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!d){const{error:g}=await this.getUser(s);if(g)throw g;return{data:{claims:i,header:a,signature:o},error:null}}const u=rF(a.alg),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,V4(`${l}.${c}`)))throw new Qp("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(s){if(Se(s))return{data:null,error:s};throw s}}}yc.nextInstanceID=0;const wF=yc;class jF extends wF{constructor(t){super(t)}}var bF=function(e,t,n,s){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};class _F{constructor(t,n,s){var a,i,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=E4(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:y4,realtime:j4,auth:Object.assign(Object.assign({},w4),{storageKey:d}),global:v4},h=T4(s??{},u);this.storageKey=(a=h.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=N4(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new BO(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new xO(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new p4(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},s={}){return this.rest.rpc(t,n,s)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return bF(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(n=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:a,storageKey:i,flowType:o,lock:l,debug:c},d,u){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new jF({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:a,flowType:o,lock:l,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new n4(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(t,n,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const SF=(e,t,n)=>new _F(e,t,n),NF="https://pmtssnzfepkcqpziknbz.supabase.co",CF="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBtdHNzbnpmZXBrY3FwemlrbmJ6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIwMzQ5MDQsImV4cCI6MjA2NzYxMDkwNH0.KNIFrGxC-XaJFzN0m69NX85bMQR2XgCj0JDxfbPcHS0",tt=SF(NF,CF),Ve={SEASONS:"seasons",CONFERENCES:"conferences",TEAMS:"teams",TEAM_CONFERENCE_JUNCTION:"team_conference_junction",MATCHUPS:"matchups",TEAM_RECORDS:"team_records",PLAYERS:"players",DRAFT_RESULTS:"draft_results",MATCHUP_ADMIN_OVERRIDE:"matchup_admin_override",PLAYOFF_BRACKET:"playoff_bracket",TEAM_ROSTERS:"team_rosters",TRANSACTIONS:"transactions"},EF=Object.freeze(Object.defineProperty({__proto__:null,TABLES:Ve,supabase:tt},Symbol.toStringTag,{value:"Module"}));class ie{static async queryTable(t,n={}){try{let s=tt.from(t).select("*",{count:"exact"});n.filters&&n.filters.forEach(l=>{s=this.applyFilter(s,l)}),n.orderBy&&(s=s.order(n.orderBy.column,{ascending:n.orderBy.ascending})),n.limit&&(s=s.limit(n.limit)),n.offset&&(s=s.range(n.offset,n.offset+(n.limit||100)-1));const{data:a,error:i,count:o}=await s;return i?(console.error(`Error querying ${t}:`,i),{data:[],error:i}):{data:a||[],count:o||0}}catch(s){return console.error(`Error in queryTable for ${t}:`,s),{data:[],error:s}}}static async createRecord(t,n){try{const{data:s,error:a}=await tt.from(t).insert(n).select().single();return a?(console.error(`Error creating record in ${t}:`,a),{data:null,error:a}):{data:s,error:null}}catch(s){return console.error(`Error in createRecord for ${t}:`,s),{data:null,error:s}}}static async updateRecord(t,n,s){try{const{data:a,error:i}=await tt.from(t).update(s).eq("id",n).select().single();return i?(console.error(`Error updating record in ${t}:`,i),{data:null,error:i}):{data:a,error:null}}catch(a){return console.error(`Error in updateRecord for ${t}:`,a),{data:null,error:a}}}static async deleteRecord(t,n){try{const{error:s}=await tt.from(t).delete().eq("id",n);return s?(console.error(`Error deleting record from ${t}:`,s),{error:s}):{error:null}}catch(s){return console.error(`Error in deleteRecord for ${t}:`,s),{error:s}}}static applyFilter(t,n){const{column:s,operator:a,value:i}=n;switch(a){case"eq":return t.eq(s,i);case"neq":return t.neq(s,i);case"gt":return t.gt(s,i);case"gte":return t.gte(s,i);case"lt":return t.lt(s,i);case"lte":return t.lte(s,i);case"like":return t.like(s,i);case"ilike":return t.ilike(s,i);case"in":return t.in(s,i);case"is":return t.is(s,i);case"not":return t.not(s,i);default:return t}}static async getSeasons(t){return this.queryTable(Ve.SEASONS,t)}static async createSeason(t){return this.createRecord(Ve.SEASONS,t)}static async updateSeason(t,n){return this.updateRecord(Ve.SEASONS,t,n)}static async getConferences(t){return this.queryTable(Ve.CONFERENCES,t)}static async createConference(t){return this.createRecord(Ve.CONFERENCES,t)}static async updateConference(t,n){return this.updateRecord(Ve.CONFERENCES,t,n)}static async getTeams(t){return this.queryTable(Ve.TEAMS,t)}static async createTeam(t){return this.createRecord(Ve.TEAMS,t)}static async updateTeam(t,n){return this.updateRecord(Ve.TEAMS,t,n)}static async getTeamConferenceJunctions(t){return this.queryTable(Ve.TEAM_CONFERENCE_JUNCTION,t)}static async createTeamConferenceJunction(t){return this.createRecord(Ve.TEAM_CONFERENCE_JUNCTION,t)}static async getMatchups(t){return this.queryTable(Ve.MATCHUPS,t)}static async createMatchup(t){return this.createRecord(Ve.MATCHUPS,t)}static async updateMatchup(t,n){return this.updateRecord(Ve.MATCHUPS,t,n)}static async getTeamRecords(t){return this.queryTable(Ve.TEAM_RECORDS,t)}static async createTeamRecord(t){return this.createRecord(Ve.TEAM_RECORDS,t)}static async updateTeamRecord(t,n){return this.updateRecord(Ve.TEAM_RECORDS,t,n)}static async deleteTeamRecord(t){return this.deleteRecord(Ve.TEAM_RECORDS,t)}static async getPlayers(t){try{let n=tt.from(Ve.PLAYERS).select("*",{count:"exact"});t!=null&&t.filters&&t.filters.forEach(o=>{n=this.applyFilter(n,o)}),t!=null&&t.orderBy&&(n=n.order(t.orderBy.column,{ascending:t.orderBy.ascending})),n=n.range(0,14999);const{data:s,error:a,count:i}=await n;return a?(console.error(`Error querying ${Ve.PLAYERS}:`,a),{data:[],error:a}):{data:s||[],count:i||0}}catch(n){return console.error("Error in getPlayers:",n),{data:[],error:n}}}static async createPlayer(t){return this.createRecord(Ve.PLAYERS,t)}static async updatePlayer(t,n){return this.updateRecord(Ve.PLAYERS,t,n)}static async getAllPlayersForMapping(t){try{const n=[];let a=0,i=!0;for(;i;){let o=tt.from(Ve.PLAYERS).select("*");t&&t.forEach(d=>{o=this.applyFilter(o,d)}),o=o.order("sleeper_id",{ascending:!0}),o=o.range(a,a+1e3-1);const{data:l,error:c}=await o;if(c)throw console.error("Error in getAllPlayersForMapping:",c),c;l&&l.length>0?(n.push(...l),l.length<1e3?i=!1:a+=1e3):i=!1}return n}catch(n){throw console.error("Error in getAllPlayersForMapping:",n),n}}static async getPlayersAsSleeperFormat(){try{const t=await this.getPlayers();if(!t.data)throw new Error("Failed to fetch players from database");const n={};return t.data.forEach(s=>{var a;if(s.sleeper_id){const i=s.player_name.split(" "),o=i[0]||"",l=i.slice(1).join(" ")||"";n[s.sleeper_id]={player_id:s.sleeper_id,first_name:o,last_name:l,position:s.position||"",team:s.nfl_team||"",jersey_number:s.number||0,status:s.playing_status||"",injury_status:s.injury_status||"",age:s.age||0,height:((a=s.height)==null?void 0:a.toString())||"",weight:s.weight||0,years_exp:0,college:s.college||""}}}),n}catch(t){throw console.error("Error fetching players from database:",t),t}}static async getDraftResults(t){return this.queryTable(Ve.DRAFT_RESULTS,t)}static async createDraftResult(t){return this.createRecord(Ve.DRAFT_RESULTS,t)}static async getMatchupAdminOverrides(t){return this.queryTable(Ve.MATCHUP_ADMIN_OVERRIDE,t)}static async createMatchupAdminOverride(t){return this.createRecord(Ve.MATCHUP_ADMIN_OVERRIDE,t)}static async updateMatchupAdminOverride(t,n){return this.updateRecord(Ve.MATCHUP_ADMIN_OVERRIDE,t,n)}static async deleteMatchupAdminOverride(t){return this.deleteRecord(Ve.MATCHUP_ADMIN_OVERRIDE,t)}static async getTransactions(t){return this.queryTable(Ve.TRANSACTIONS,t)}static async createTransaction(t){return this.createRecord(Ve.TRANSACTIONS,t)}}const TF=Object.freeze(Object.defineProperty({__proto__:null,DatabaseService:ie},Symbol.toStringTag,{value:"Module"})),V1=m.createContext(void 0),kF=({children:e})=>{const[t,n]=m.useState(2025),[s,a]=m.useState(null),[i,o]=m.useState("light"),[l,c]=m.useState([]),[d,u]=m.useState(!0),[h,f]=m.useState(null),g=async()=>{try{u(!0),f(null);const p=await ie.getSeasons({orderBy:{column:"season_year",ascending:!1}});if(p.error)throw new Error(p.error);const x=p.data||[],y=await ie.getConferences();if(y.error)throw new Error(y.error);const b=y.data||[],_=x.map(C=>{const N=b.filter(k=>k.season_id===C.id).map(k=>({id:k.conference_name.toLowerCase().replace(/[^a-z0-9]/g,""),name:k.conference_name,leagueId:k.league_id,status:k.status,seasonId:k.season_id,dbConferenceId:k.id}));return{year:parseInt(C.season_year),conferences:N,seasonId:C.id,isCurrent:C.is_current}});c(_);const E=_.find(C=>C.isCurrent);E&&t!==E.year&&n(E.year)}catch(p){console.error("Failed to load season data:",p),f(p instanceof Error?p.message:"Failed to load season data"),c([{year:2024,conferences:[{id:"mars",name:"The Legions of Mars",leagueId:"1072580179844857856"},{id:"jupiter",name:"The Guardians of Jupiter",leagueId:"1072593839715667968"},{id:"vulcan",name:"Vulcan's Oathsworn",leagueId:"1072593416955015168"}]},{year:2025,conferences:[{id:"mars",name:"The Legions of Mars",leagueId:"1204854057169072128"},{id:"jupiter",name:"The Guardians of Jupiter",leagueId:"1204857692007440384"},{id:"vulcan",name:"Vulcan's Oathsworn",leagueId:"1204857608989577216"}]}])}finally{u(!1)}};m.useEffect(()=>{g()},[]);const j=()=>{o(p=>p==="light"?"dark":"light")},v=l.find(p=>p.year===t)||l.find(p=>p.isCurrent)||l[0]||{year:t,conferences:[]},w={selectedSeason:t,selectedConference:s,theme:i,setSelectedSeason:n,setSelectedConference:a,toggleTheme:j,seasonConfigs:l,currentSeasonConfig:v,loading:d,error:h,refreshSeasonData:g};return r.jsx(V1.Provider,{value:w,children:r.jsx("div",{className:i,children:e})})},Gs=()=>{const e=m.useContext(V1);if(!e)throw new Error("useApp must be used within an AppProvider");return e},PF=Bo("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),se=m.forwardRef(({className:e,variant:t,size:n,asChild:s=!1,...a},i)=>{const o=s?XR:"button";return r.jsx(o,{className:me(PF({variant:t,size:n,className:e})),ref:i,...a})});se.displayName="Button";var om="focusScope.autoFocusOnMount",lm="focusScope.autoFocusOnUnmount",x0={bubbles:!1,cancelable:!0},RF="FocusScope",tv=m.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=m.useState(null),d=ns(a),u=ns(i),h=m.useRef(null),f=Ke(t,v=>c(v)),g=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(s){let v=function(y){if(g.paused||!l)return;const b=y.target;l.contains(b)?h.current=b:Yr(h.current,{select:!0})},w=function(y){if(g.paused||!l)return;const b=y.relatedTarget;b!==null&&(l.contains(b)||Yr(h.current,{select:!0}))},p=function(y){if(document.activeElement===document.body)for(const _ of y)_.removedNodes.length>0&&Yr(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",w);const x=new MutationObserver(p);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",w),x.disconnect()}}},[s,l,g.paused]),m.useEffect(()=>{if(l){y0.add(g);const v=document.activeElement;if(!l.contains(v)){const p=new CustomEvent(om,x0);l.addEventListener(om,d),l.dispatchEvent(p),p.defaultPrevented||(AF(LF(W1(l)),{select:!0}),document.activeElement===v&&Yr(l))}return()=>{l.removeEventListener(om,d),setTimeout(()=>{const p=new CustomEvent(lm,x0);l.addEventListener(lm,u),l.dispatchEvent(p),p.defaultPrevented||Yr(v??document.body,{select:!0}),l.removeEventListener(lm,u),y0.remove(g)},0)}}},[l,d,u,g]);const j=m.useCallback(v=>{if(!n&&!s||g.paused)return;const w=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,p=document.activeElement;if(w&&p){const x=v.currentTarget,[y,b]=DF(x);y&&b?!v.shiftKey&&p===b?(v.preventDefault(),n&&Yr(y,{select:!0})):v.shiftKey&&p===y&&(v.preventDefault(),n&&Yr(b,{select:!0})):p===x&&v.preventDefault()}},[n,s,g.paused]);return r.jsx(ve.div,{tabIndex:-1,...o,ref:f,onKeyDown:j})});tv.displayName=RF;function AF(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(Yr(s,{select:t}),document.activeElement!==n)return}function DF(e){const t=W1(e),n=v0(t,e),s=v0(t.reverse(),e);return[n,s]}function W1(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function v0(e,t){for(const n of e)if(!$F(n,{upTo:t}))return n}function $F(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function IF(e){return e instanceof HTMLInputElement&&"select"in e}function Yr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&IF(e)&&t&&e.select()}}var y0=MF();function MF(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=w0(e,t),e.unshift(t)},remove(t){var n;e=w0(e,t),(n=e[0])==null||n.resume()}}}function w0(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function LF(e){return e.filter(t=>t.tagName!=="A")}var cm=0;function H1(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??j0()),document.body.insertAdjacentElement("beforeend",e[1]??j0()),cm++,()=>{cm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),cm--}},[])}function j0(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var or=function(){return or=Object.assign||function(t){for(var n,s=1,a=arguments.length;s<a;s++){n=arguments[s];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},or.apply(this,arguments)};function q1(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n}function OF(e,t,n){if(n||arguments.length===2)for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}var su="right-scroll-bar-position",ru="width-before-scroll-bar",FF="with-scroll-bars-hidden",UF="--removed-body-scroll-bar-size";function dm(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function BF(e,t){var n=m.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var a=n.value;a!==s&&(n.value=s,n.callback(s,a))}}}})[0];return n.callback=t,n.facade}var zF=typeof window<"u"?m.useLayoutEffect:m.useEffect,b0=new WeakMap;function VF(e,t){var n=BF(null,function(s){return e.forEach(function(a){return dm(a,s)})});return zF(function(){var s=b0.get(n);if(s){var a=new Set(s),i=new Set(e),o=n.current;a.forEach(function(l){i.has(l)||dm(l,null)}),i.forEach(function(l){a.has(l)||dm(l,o)})}b0.set(n,e)},[e]),n}function WF(e){return e}function HF(e,t){t===void 0&&(t=WF);var n=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,s);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(s=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){s=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),n}}}};return a}function qF(e){e===void 0&&(e={});var t=HF(null);return t.options=or({async:!0,ssr:!1},e),t}var K1=function(e){var t=e.sideCar,n=q1(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return m.createElement(s,or({},n))};K1.isSideCarExport=!0;function KF(e,t){return e.useMedium(t),K1}var G1=qF(),um=function(){},Vh=m.forwardRef(function(e,t){var n=m.useRef(null),s=m.useState({onScrollCapture:um,onWheelCapture:um,onTouchMoveCapture:um}),a=s[0],i=s[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,h=e.shards,f=e.sideCar,g=e.noRelative,j=e.noIsolation,v=e.inert,w=e.allowPinchZoom,p=e.as,x=p===void 0?"div":p,y=e.gapMode,b=q1(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=f,E=VF([n,t]),C=or(or({},b),a);return m.createElement(m.Fragment,null,u&&m.createElement(_,{sideCar:G1,removeScrollBar:d,shards:h,noRelative:g,noIsolation:j,inert:v,setCallbacks:i,allowPinchZoom:!!w,lockRef:n,gapMode:y}),o?m.cloneElement(m.Children.only(l),or(or({},C),{ref:E})):m.createElement(x,or({},C,{className:c,ref:E}),l))});Vh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Vh.classNames={fullWidth:ru,zeroRight:su};var GF=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function QF(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=GF();return t&&e.setAttribute("nonce",t),e}function YF(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function JF(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var XF=function(){var e=0,t=null;return{add:function(n){e==0&&(t=QF())&&(YF(t,n),JF(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},ZF=function(){var e=XF();return function(t,n){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Q1=function(){var e=ZF(),t=function(n){var s=n.styles,a=n.dynamic;return e(s,a),null};return t},e5={left:0,top:0,right:0,gap:0},hm=function(e){return parseInt(e||"",10)||0},t5=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[hm(n),hm(s),hm(a)]},n5=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return e5;var t=t5(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},s5=Q1(),mo="data-scroll-locked",r5=function(e,t,n,s){var a=e.left,i=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(FF,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(mo,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(su,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(ru,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(su," .").concat(su,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(ru," .").concat(ru,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(mo,`] {
    `).concat(UF,": ").concat(l,`px;
  }
`)},_0=function(){var e=parseInt(document.body.getAttribute(mo)||"0",10);return isFinite(e)?e:0},a5=function(){m.useEffect(function(){return document.body.setAttribute(mo,(_0()+1).toString()),function(){var e=_0()-1;e<=0?document.body.removeAttribute(mo):document.body.setAttribute(mo,e.toString())}},[])},i5=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;a5();var i=m.useMemo(function(){return n5(a)},[a]);return m.createElement(s5,{styles:r5(i,!t,a,n?"":"!important")})},Yp=!1;if(typeof window<"u")try{var Pd=Object.defineProperty({},"passive",{get:function(){return Yp=!0,!0}});window.addEventListener("test",Pd,Pd),window.removeEventListener("test",Pd,Pd)}catch{Yp=!1}var Mi=Yp?{passive:!1}:!1,o5=function(e){return e.tagName==="TEXTAREA"},Y1=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!o5(e)&&n[t]==="visible")},l5=function(e){return Y1(e,"overflowY")},c5=function(e){return Y1(e,"overflowX")},S0=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=J1(e,s);if(a){var i=X1(e,s),o=i[1],l=i[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},d5=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},u5=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},J1=function(e,t){return e==="v"?l5(t):c5(t)},X1=function(e,t){return e==="v"?d5(t):u5(t)},h5=function(e,t){return e==="h"&&t==="rtl"?-1:1},f5=function(e,t,n,s,a){var i=h5(e,window.getComputedStyle(t).direction),o=i*s,l=n.target,c=t.contains(l),d=!1,u=o>0,h=0,f=0;do{if(!l)break;var g=X1(e,l),j=g[0],v=g[1],w=g[2],p=v-w-i*j;(j||p)&&J1(e,l)&&(h+=p,f+=j);var x=l.parentNode;l=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&Math.abs(h)<1||!u&&Math.abs(f)<1)&&(d=!0),d},Rd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},N0=function(e){return[e.deltaX,e.deltaY]},C0=function(e){return e&&"current"in e?e.current:e},m5=function(e,t){return e[0]===t[0]&&e[1]===t[1]},p5=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},g5=0,Li=[];function x5(e){var t=m.useRef([]),n=m.useRef([0,0]),s=m.useRef(),a=m.useState(g5++)[0],i=m.useState(Q1)[0],o=m.useRef(e);m.useEffect(function(){o.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var v=OF([e.lockRef.current],(e.shards||[]).map(C0),!0).filter(Boolean);return v.forEach(function(w){return w.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),v.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(v,w){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var p=Rd(v),x=n.current,y="deltaX"in v?v.deltaX:x[0]-p[0],b="deltaY"in v?v.deltaY:x[1]-p[1],_,E=v.target,C=Math.abs(y)>Math.abs(b)?"h":"v";if("touches"in v&&C==="h"&&E.type==="range")return!1;var N=S0(C,E);if(!N)return!0;if(N?_=C:(_=C==="v"?"h":"v",N=S0(C,E)),!N)return!1;if(!s.current&&"changedTouches"in v&&(y||b)&&(s.current=_),!_)return!0;var k=s.current||_;return f5(k,w,v,k==="h"?y:b)},[]),c=m.useCallback(function(v){var w=v;if(!(!Li.length||Li[Li.length-1]!==i)){var p="deltaY"in w?N0(w):Rd(w),x=t.current.filter(function(_){return _.name===w.type&&(_.target===w.target||w.target===_.shadowParent)&&m5(_.delta,p)})[0];if(x&&x.should){w.cancelable&&w.preventDefault();return}if(!x){var y=(o.current.shards||[]).map(C0).filter(Boolean).filter(function(_){return _.contains(w.target)}),b=y.length>0?l(w,y[0]):!o.current.noIsolation;b&&w.cancelable&&w.preventDefault()}}},[]),d=m.useCallback(function(v,w,p,x){var y={name:v,delta:w,target:p,should:x,shadowParent:v5(p)};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(b){return b!==y})},1)},[]),u=m.useCallback(function(v){n.current=Rd(v),s.current=void 0},[]),h=m.useCallback(function(v){d(v.type,N0(v),v.target,l(v,e.lockRef.current))},[]),f=m.useCallback(function(v){d(v.type,Rd(v),v.target,l(v,e.lockRef.current))},[]);m.useEffect(function(){return Li.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Mi),document.addEventListener("touchmove",c,Mi),document.addEventListener("touchstart",u,Mi),function(){Li=Li.filter(function(v){return v!==i}),document.removeEventListener("wheel",c,Mi),document.removeEventListener("touchmove",c,Mi),document.removeEventListener("touchstart",u,Mi)}},[]);var g=e.removeScrollBar,j=e.inert;return m.createElement(m.Fragment,null,j?m.createElement(i,{styles:p5(a)}):null,g?m.createElement(i5,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function v5(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const y5=KF(G1,x5);var nv=m.forwardRef(function(e,t){return m.createElement(Vh,or({},e,{ref:t,sideCar:y5}))});nv.classNames=Vh.classNames;var w5=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Oi=new WeakMap,Ad=new WeakMap,Dd={},fm=0,Z1=function(e){return e&&(e.host||Z1(e.parentNode))},j5=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=Z1(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},b5=function(e,t,n,s){var a=j5(t,Array.isArray(e)?e:[e]);Dd[n]||(Dd[n]=new WeakMap);var i=Dd[n],o=[],l=new Set,c=new Set(a),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};a.forEach(d);var u=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))u(f);else try{var g=f.getAttribute(s),j=g!==null&&g!=="false",v=(Oi.get(f)||0)+1,w=(i.get(f)||0)+1;Oi.set(f,v),i.set(f,w),o.push(f),v===1&&j&&Ad.set(f,!0),w===1&&f.setAttribute(n,"true"),j||f.setAttribute(s,"true")}catch(p){console.error("aria-hidden: cannot operate on ",f,p)}})};return u(t),l.clear(),fm++,function(){o.forEach(function(h){var f=Oi.get(h)-1,g=i.get(h)-1;Oi.set(h,f),i.set(h,g),f||(Ad.has(h)||h.removeAttribute(s),Ad.delete(h)),g||h.removeAttribute(n)}),fm--,fm||(Oi=new WeakMap,Oi=new WeakMap,Ad=new WeakMap,Dd={})}},eC=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=w5(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live], script"))),b5(s,a,n,"aria-hidden")):function(){return null}},Wh="Dialog",[tC,q7]=as(Wh),[_5,Qs]=tC(Wh),nC=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=m.useRef(null),c=m.useRef(null),[d,u]=Mr({prop:s,defaultProp:a??!1,onChange:i,caller:Wh});return r.jsx(_5,{scope:t,triggerRef:l,contentRef:c,contentId:Rr(),titleId:Rr(),descriptionId:Rr(),open:d,onOpenChange:u,onOpenToggle:m.useCallback(()=>u(h=>!h),[u]),modal:o,children:n})};nC.displayName=Wh;var sC="DialogTrigger",rC=m.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=Qs(sC,n),i=Ke(t,a.triggerRef);return r.jsx(ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":av(a.open),...s,ref:i,onClick:xe(e.onClick,a.onOpenToggle)})});rC.displayName=sC;var sv="DialogPortal",[S5,aC]=tC(sv,{forceMount:void 0}),iC=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:a}=e,i=Qs(sv,t);return r.jsx(S5,{scope:t,forceMount:n,children:m.Children.map(s,o=>r.jsx(xr,{present:n||i.open,children:r.jsx(Fc,{asChild:!0,container:a,children:o})}))})};iC.displayName=sv;var Hu="DialogOverlay",oC=m.forwardRef((e,t)=>{const n=aC(Hu,e.__scopeDialog),{forceMount:s=n.forceMount,...a}=e,i=Qs(Hu,e.__scopeDialog);return i.modal?r.jsx(xr,{present:s||i.open,children:r.jsx(C5,{...a,ref:t})}):null});oC.displayName=Hu;var N5=Ro("DialogOverlay.RemoveScroll"),C5=m.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=Qs(Hu,n);return r.jsx(nv,{as:N5,allowPinchZoom:!0,shards:[a.contentRef],children:r.jsx(ve.div,{"data-state":av(a.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),yi="DialogContent",lC=m.forwardRef((e,t)=>{const n=aC(yi,e.__scopeDialog),{forceMount:s=n.forceMount,...a}=e,i=Qs(yi,e.__scopeDialog);return r.jsx(xr,{present:s||i.open,children:i.modal?r.jsx(E5,{...a,ref:t}):r.jsx(T5,{...a,ref:t})})});lC.displayName=yi;var E5=m.forwardRef((e,t)=>{const n=Qs(yi,e.__scopeDialog),s=m.useRef(null),a=Ke(t,n.contentRef,s);return m.useEffect(()=>{const i=s.current;if(i)return eC(i)},[]),r.jsx(cC,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:xe(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:xe(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:xe(e.onFocusOutside,i=>i.preventDefault())})}),T5=m.forwardRef((e,t)=>{const n=Qs(yi,e.__scopeDialog),s=m.useRef(!1),a=m.useRef(!1);return r.jsx(cC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),cC=m.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=Qs(yi,n),c=m.useRef(null),d=Ke(t,c);return H1(),r.jsxs(r.Fragment,{children:[r.jsx(tv,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:r.jsx(Oc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":av(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(k5,{titleId:l.titleId}),r.jsx(R5,{contentRef:c,descriptionId:l.descriptionId})]})]})}),rv="DialogTitle",dC=m.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=Qs(rv,n);return r.jsx(ve.h2,{id:a.titleId,...s,ref:t})});dC.displayName=rv;var uC="DialogDescription",hC=m.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=Qs(uC,n);return r.jsx(ve.p,{id:a.descriptionId,...s,ref:t})});hC.displayName=uC;var fC="DialogClose",mC=m.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=Qs(fC,n);return r.jsx(ve.button,{type:"button",...s,ref:t,onClick:xe(e.onClick,()=>a.onOpenChange(!1))})});mC.displayName=fC;function av(e){return e?"open":"closed"}var pC="DialogTitleWarning",[K7,gC]=YR(pC,{contentName:yi,titleName:rv,docsSlug:"dialog"}),k5=({titleId:e})=>{const t=gC(pC),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},P5="DialogDescriptionWarning",R5=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${gC(P5).contentName}}.`;return m.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},xC=nC,vC=rC,yC=iC,Hh=oC,qh=lC,Kh=dC,Gh=hC,wC=mC;const A5=xC,D5=vC,$5=yC,jC=m.forwardRef(({className:e,...t},n)=>r.jsx(Hh,{className:me("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));jC.displayName=Hh.displayName;const I5=Bo("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),bC=m.forwardRef(({side:e="right",className:t,children:n,...s},a)=>r.jsxs($5,{children:[r.jsx(jC,{}),r.jsxs(qh,{ref:a,className:me(I5({side:e}),t),...s,children:[r.jsxs(wC,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[r.jsx(Eh,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]}),n]})]}));bC.displayName=qh.displayName;const M5=m.forwardRef(({className:e,...t},n)=>r.jsx(Kh,{ref:n,className:me("text-lg font-semibold text-foreground",e),...t}));M5.displayName=Kh.displayName;const L5=m.forwardRef(({className:e,...t},n)=>r.jsx(Gh,{ref:n,className:me("text-sm text-muted-foreground",e),...t}));L5.displayName=Gh.displayName;function E0(e,[t,n]){return Math.min(n,Math.max(t,e))}var O5=m.createContext(void 0);function iv(e){const t=m.useContext(O5);return e||t||"ltr"}function ov(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var F5=[" ","Enter","ArrowUp","ArrowDown"],U5=[" ","Enter"],wi="Select",[Qh,Yh,B5]=Nx(wi),[Qo,G7]=as(wi,[B5,Rh]),Jh=Rh(),[z5,Ma]=Qo(wi),[V5,W5]=Qo(wi),_C=e=>{const{__scopeSelect:t,children:n,open:s,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:h,disabled:f,required:g,form:j}=e,v=Jh(t),[w,p]=m.useState(null),[x,y]=m.useState(null),[b,_]=m.useState(!1),E=iv(d),[C,N]=Mr({prop:s,defaultProp:a??!1,onChange:i,caller:wi}),[k,R]=Mr({prop:o,defaultProp:l,onChange:c,caller:wi}),A=m.useRef(null),$=w?j||!!w.closest("form"):!0,[M,V]=m.useState(new Set),B=Array.from(M).map(L=>L.props.value).join(";");return r.jsx(vM,{...v,children:r.jsxs(z5,{required:g,scope:t,trigger:w,onTriggerChange:p,valueNode:x,onValueNodeChange:y,valueNodeHasChildren:b,onValueNodeHasChildrenChange:_,contentId:Rr(),value:k,onValueChange:R,open:C,onOpenChange:N,dir:E,triggerPointerDownPosRef:A,disabled:f,children:[r.jsx(Qh.Provider,{scope:t,children:r.jsx(V5,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(L=>{V(U=>new Set(U).add(L))},[]),onNativeOptionRemove:m.useCallback(L=>{V(U=>{const D=new Set(U);return D.delete(L),D})},[]),children:n})}),$?r.jsxs(KC,{"aria-hidden":!0,required:g,tabIndex:-1,name:u,autoComplete:h,value:k,onChange:L=>R(L.target.value),disabled:f,form:j,children:[k===void 0?r.jsx("option",{value:""}):null,Array.from(M)]},B):null]})})};_C.displayName=wi;var SC="SelectTrigger",NC=m.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:s=!1,...a}=e,i=Jh(n),o=Ma(SC,n),l=o.disabled||s,c=Ke(t,o.onTriggerChange),d=Yh(n),u=m.useRef("touch"),[h,f,g]=QC(v=>{const w=d().filter(y=>!y.disabled),p=w.find(y=>y.value===o.value),x=YC(w,v,p);x!==void 0&&o.onValueChange(x.value)}),j=v=>{l||(o.onOpenChange(!0),g()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return r.jsx(BN,{asChild:!0,...i,children:r.jsx(ve.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":GC(o.value)?"":void 0,...a,ref:c,onClick:xe(a.onClick,v=>{v.currentTarget.focus(),u.current!=="mouse"&&j(v)}),onPointerDown:xe(a.onPointerDown,v=>{u.current=v.pointerType;const w=v.target;w.hasPointerCapture(v.pointerId)&&w.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(j(v),v.preventDefault())}),onKeyDown:xe(a.onKeyDown,v=>{const w=h.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&f(v.key),!(w&&v.key===" ")&&F5.includes(v.key)&&(j(),v.preventDefault())})})})});NC.displayName=SC;var CC="SelectValue",EC=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:a,children:i,placeholder:o="",...l}=e,c=Ma(CC,n),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,h=Ke(t,c.onValueNodeChange);return Rt(()=>{d(u)},[d,u]),r.jsx(ve.span,{...l,ref:h,style:{pointerEvents:"none"},children:GC(c.value)?r.jsx(r.Fragment,{children:o}):i})});EC.displayName=CC;var H5="SelectIcon",TC=m.forwardRef((e,t)=>{const{__scopeSelect:n,children:s,...a}=e;return r.jsx(ve.span,{"aria-hidden":!0,...a,ref:t,children:s||""})});TC.displayName=H5;var q5="SelectPortal",kC=e=>r.jsx(Fc,{asChild:!0,...e});kC.displayName=q5;var ji="SelectContent",PC=m.forwardRef((e,t)=>{const n=Ma(ji,e.__scopeSelect),[s,a]=m.useState();if(Rt(()=>{a(new DocumentFragment)},[]),!n.open){const i=s;return i?ws.createPortal(r.jsx(RC,{scope:e.__scopeSelect,children:r.jsx(Qh.Slot,{scope:e.__scopeSelect,children:r.jsx("div",{children:e.children})})}),i):null}return r.jsx(AC,{...e,ref:t})});PC.displayName=ji;var Ps=10,[RC,La]=Qo(ji),K5="SelectContentImpl",G5=Ro("SelectContent.RemoveScroll"),AC=m.forwardRef((e,t)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:g,sticky:j,hideWhenDetached:v,avoidCollisions:w,...p}=e,x=Ma(ji,n),[y,b]=m.useState(null),[_,E]=m.useState(null),C=Ke(t,W=>b(W)),[N,k]=m.useState(null),[R,A]=m.useState(null),$=Yh(n),[M,V]=m.useState(!1),B=m.useRef(!1);m.useEffect(()=>{if(y)return eC(y)},[y]),H1();const L=m.useCallback(W=>{const[q,...K]=$().map(oe=>oe.ref.current),[O]=K.slice(-1),ae=document.activeElement;for(const oe of W)if(oe===ae||(oe==null||oe.scrollIntoView({block:"nearest"}),oe===q&&_&&(_.scrollTop=0),oe===O&&_&&(_.scrollTop=_.scrollHeight),oe==null||oe.focus(),document.activeElement!==ae))return},[$,_]),U=m.useCallback(()=>L([N,y]),[L,N,y]);m.useEffect(()=>{M&&U()},[M,U]);const{onOpenChange:D,triggerPointerDownPosRef:S}=x;m.useEffect(()=>{if(y){let W={x:0,y:0};const q=O=>{var ae,oe;W={x:Math.abs(Math.round(O.pageX)-(((ae=S.current)==null?void 0:ae.x)??0)),y:Math.abs(Math.round(O.pageY)-(((oe=S.current)==null?void 0:oe.y)??0))}},K=O=>{W.x<=10&&W.y<=10?O.preventDefault():y.contains(O.target)||D(!1),document.removeEventListener("pointermove",q),S.current=null};return S.current!==null&&(document.addEventListener("pointermove",q),document.addEventListener("pointerup",K,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",q),document.removeEventListener("pointerup",K,{capture:!0})}}},[y,D,S]),m.useEffect(()=>{const W=()=>D(!1);return window.addEventListener("blur",W),window.addEventListener("resize",W),()=>{window.removeEventListener("blur",W),window.removeEventListener("resize",W)}},[D]);const[T,P]=QC(W=>{const q=$().filter(ae=>!ae.disabled),K=q.find(ae=>ae.ref.current===document.activeElement),O=YC(q,W,K);O&&setTimeout(()=>O.ref.current.focus())}),F=m.useCallback((W,q,K)=>{const O=!B.current&&!K;(x.value!==void 0&&x.value===q||O)&&(k(W),O&&(B.current=!0))},[x.value]),I=m.useCallback(()=>y==null?void 0:y.focus(),[y]),G=m.useCallback((W,q,K)=>{const O=!B.current&&!K;(x.value!==void 0&&x.value===q||O)&&A(W)},[x.value]),le=s==="popper"?Jp:DC,X=le===Jp?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:g,sticky:j,hideWhenDetached:v,avoidCollisions:w}:{};return r.jsx(RC,{scope:n,content:y,viewport:_,onViewportChange:E,itemRefCallback:F,selectedItem:N,onItemLeave:I,itemTextRefCallback:G,focusSelectedItem:U,selectedItemText:R,position:s,isPositioned:M,searchRef:T,children:r.jsx(nv,{as:G5,allowPinchZoom:!0,children:r.jsx(tv,{asChild:!0,trapped:x.open,onMountAutoFocus:W=>{W.preventDefault()},onUnmountAutoFocus:xe(a,W=>{var q;(q=x.trigger)==null||q.focus({preventScroll:!0}),W.preventDefault()}),children:r.jsx(Oc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:W=>W.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:r.jsx(le,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:W=>W.preventDefault(),...p,...X,onPlaced:()=>V(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...p.style},onKeyDown:xe(p.onKeyDown,W=>{const q=W.ctrlKey||W.altKey||W.metaKey;if(W.key==="Tab"&&W.preventDefault(),!q&&W.key.length===1&&P(W.key),["ArrowUp","ArrowDown","Home","End"].includes(W.key)){let O=$().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);if(["ArrowUp","End"].includes(W.key)&&(O=O.slice().reverse()),["ArrowUp","ArrowDown"].includes(W.key)){const ae=W.target,oe=O.indexOf(ae);O=O.slice(oe+1)}setTimeout(()=>L(O)),W.preventDefault()}})})})})})})});AC.displayName=K5;var Q5="SelectItemAlignedPosition",DC=m.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:s,...a}=e,i=Ma(ji,n),o=La(ji,n),[l,c]=m.useState(null),[d,u]=m.useState(null),h=Ke(t,C=>u(C)),f=Yh(n),g=m.useRef(!1),j=m.useRef(!0),{viewport:v,selectedItem:w,selectedItemText:p,focusSelectedItem:x}=o,y=m.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&v&&w&&p){const C=i.trigger.getBoundingClientRect(),N=d.getBoundingClientRect(),k=i.valueNode.getBoundingClientRect(),R=p.getBoundingClientRect();if(i.dir!=="rtl"){const ae=R.left-N.left,oe=k.left-ae,de=C.left-oe,ge=C.width+de,we=Math.max(ge,N.width),Ie=window.innerWidth-Ps,He=E0(oe,[Ps,Math.max(Ps,Ie-we)]);l.style.minWidth=ge+"px",l.style.left=He+"px"}else{const ae=N.right-R.right,oe=window.innerWidth-k.right-ae,de=window.innerWidth-C.right-oe,ge=C.width+de,we=Math.max(ge,N.width),Ie=window.innerWidth-Ps,He=E0(oe,[Ps,Math.max(Ps,Ie-we)]);l.style.minWidth=ge+"px",l.style.right=He+"px"}const A=f(),$=window.innerHeight-Ps*2,M=v.scrollHeight,V=window.getComputedStyle(d),B=parseInt(V.borderTopWidth,10),L=parseInt(V.paddingTop,10),U=parseInt(V.borderBottomWidth,10),D=parseInt(V.paddingBottom,10),S=B+L+M+D+U,T=Math.min(w.offsetHeight*5,S),P=window.getComputedStyle(v),F=parseInt(P.paddingTop,10),I=parseInt(P.paddingBottom,10),G=C.top+C.height/2-Ps,le=$-G,X=w.offsetHeight/2,W=w.offsetTop+X,q=B+L+W,K=S-q;if(q<=G){const ae=A.length>0&&w===A[A.length-1].ref.current;l.style.bottom="0px";const oe=d.clientHeight-v.offsetTop-v.offsetHeight,de=Math.max(le,X+(ae?I:0)+oe+U),ge=q+de;l.style.height=ge+"px"}else{const ae=A.length>0&&w===A[0].ref.current;l.style.top="0px";const de=Math.max(G,B+v.offsetTop+(ae?F:0)+X)+K;l.style.height=de+"px",v.scrollTop=q-G+v.offsetTop}l.style.margin=`${Ps}px 0`,l.style.minHeight=T+"px",l.style.maxHeight=$+"px",s==null||s(),requestAnimationFrame(()=>g.current=!0)}},[f,i.trigger,i.valueNode,l,d,v,w,p,i.dir,s]);Rt(()=>y(),[y]);const[b,_]=m.useState();Rt(()=>{d&&_(window.getComputedStyle(d).zIndex)},[d]);const E=m.useCallback(C=>{C&&j.current===!0&&(y(),x==null||x(),j.current=!1)},[y,x]);return r.jsx(J5,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:E,children:r.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:r.jsx(ve.div,{...a,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});DC.displayName=Q5;var Y5="SelectPopperPosition",Jp=m.forwardRef((e,t)=>{const{__scopeSelect:n,align:s="start",collisionPadding:a=Ps,...i}=e,o=Jh(n);return r.jsx(zN,{...o,...i,ref:t,align:s,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Jp.displayName=Y5;var[J5,lv]=Qo(ji,{}),Xp="SelectViewport",$C=m.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:s,...a}=e,i=La(Xp,n),o=lv(Xp,n),l=Ke(t,i.onViewportChange),c=m.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),r.jsx(Qh.Slot,{scope:n,children:r.jsx(ve.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:xe(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&h){const g=Math.abs(c.current-u.scrollTop);if(g>0){const j=window.innerHeight-Ps*2,v=parseFloat(h.style.minHeight),w=parseFloat(h.style.height),p=Math.max(v,w);if(p<j){const x=p+g,y=Math.min(j,x),b=x-y;h.style.height=y+"px",h.style.bottom==="0px"&&(u.scrollTop=b>0?b:0,h.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});$C.displayName=Xp;var IC="SelectGroup",[X5,Z5]=Qo(IC),e3=m.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,a=Rr();return r.jsx(X5,{scope:n,id:a,children:r.jsx(ve.div,{role:"group","aria-labelledby":a,...s,ref:t})})});e3.displayName=IC;var MC="SelectLabel",LC=m.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,a=Z5(MC,n);return r.jsx(ve.div,{id:a.id,...s,ref:t})});LC.displayName=MC;var qu="SelectItem",[t3,OC]=Qo(qu),FC=m.forwardRef((e,t)=>{const{__scopeSelect:n,value:s,disabled:a=!1,textValue:i,...o}=e,l=Ma(qu,n),c=La(qu,n),d=l.value===s,[u,h]=m.useState(i??""),[f,g]=m.useState(!1),j=Ke(t,x=>{var y;return(y=c.itemRefCallback)==null?void 0:y.call(c,x,s,a)}),v=Rr(),w=m.useRef("touch"),p=()=>{a||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(t3,{scope:n,value:s,disabled:a,textId:v,isSelected:d,onItemTextChange:m.useCallback(x=>{h(y=>y||((x==null?void 0:x.textContent)??"").trim())},[]),children:r.jsx(Qh.ItemSlot,{scope:n,value:s,disabled:a,textValue:u,children:r.jsx(ve.div,{role:"option","aria-labelledby":v,"data-highlighted":f?"":void 0,"aria-selected":d&&f,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:j,onFocus:xe(o.onFocus,()=>g(!0)),onBlur:xe(o.onBlur,()=>g(!1)),onClick:xe(o.onClick,()=>{w.current!=="mouse"&&p()}),onPointerUp:xe(o.onPointerUp,()=>{w.current==="mouse"&&p()}),onPointerDown:xe(o.onPointerDown,x=>{w.current=x.pointerType}),onPointerMove:xe(o.onPointerMove,x=>{var y;w.current=x.pointerType,a?(y=c.onItemLeave)==null||y.call(c):w.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:xe(o.onPointerLeave,x=>{var y;x.currentTarget===document.activeElement&&((y=c.onItemLeave)==null||y.call(c))}),onKeyDown:xe(o.onKeyDown,x=>{var b;((b=c.searchRef)==null?void 0:b.current)!==""&&x.key===" "||(U5.includes(x.key)&&p(),x.key===" "&&x.preventDefault())})})})})});FC.displayName=qu;var _l="SelectItemText",UC=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:a,...i}=e,o=Ma(_l,n),l=La(_l,n),c=OC(_l,n),d=W5(_l,n),[u,h]=m.useState(null),f=Ke(t,p=>h(p),c.onItemTextChange,p=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,p,c.value,c.disabled)}),g=u==null?void 0:u.textContent,j=m.useMemo(()=>r.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:v,onNativeOptionRemove:w}=d;return Rt(()=>(v(j),()=>w(j)),[v,w,j]),r.jsxs(r.Fragment,{children:[r.jsx(ve.span,{id:c.textId,...i,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ws.createPortal(i.children,o.valueNode):null]})});UC.displayName=_l;var BC="SelectItemIndicator",zC=m.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return OC(BC,n).isSelected?r.jsx(ve.span,{"aria-hidden":!0,...s,ref:t}):null});zC.displayName=BC;var Zp="SelectScrollUpButton",VC=m.forwardRef((e,t)=>{const n=La(Zp,e.__scopeSelect),s=lv(Zp,e.__scopeSelect),[a,i]=m.useState(!1),o=Ke(t,s.onScrollButtonChange);return Rt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?r.jsx(HC,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});VC.displayName=Zp;var eg="SelectScrollDownButton",WC=m.forwardRef((e,t)=>{const n=La(eg,e.__scopeSelect),s=lv(eg,e.__scopeSelect),[a,i]=m.useState(!1),o=Ke(t,s.onScrollButtonChange);return Rt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?r.jsx(HC,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});WC.displayName=eg;var HC=m.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:s,...a}=e,i=La("SelectScrollButton",n),o=m.useRef(null),l=Yh(n),c=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),Rt(()=>{var u;const d=l().find(h=>h.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),r.jsx(ve.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:xe(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:xe(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:xe(a.onPointerLeave,()=>{c()})})}),n3="SelectSeparator",qC=m.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return r.jsx(ve.div,{"aria-hidden":!0,...s,ref:t})});qC.displayName=n3;var tg="SelectArrow",s3=m.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,a=Jh(n),i=Ma(tg,n),o=La(tg,n);return i.open&&o.position==="popper"?r.jsx(VN,{...a,...s,ref:t}):null});s3.displayName=tg;var r3="SelectBubbleInput",KC=m.forwardRef(({__scopeSelect:e,value:t,...n},s)=>{const a=m.useRef(null),i=Ke(s,a),o=ov(t);return m.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&u){const h=new Event("change",{bubbles:!0});u.call(l,t),l.dispatchEvent(h)}},[o,t]),r.jsx(ve.select,{...n,style:{...LS,...n.style},ref:i,defaultValue:t})});KC.displayName=r3;function GC(e){return e===""||e===void 0}function QC(e){const t=ns(e),n=m.useRef(""),s=m.useRef(0),a=m.useCallback(o=>{const l=n.current+o;t(l),function c(d){n.current=d,window.clearTimeout(s.current),d!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=m.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,a,i]}function YC(e,t,n){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=a3(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function a3(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var i3=_C,JC=NC,o3=EC,l3=TC,c3=kC,XC=PC,d3=$C,ZC=LC,eE=FC,u3=UC,h3=zC,tE=VC,nE=WC,sE=qC;const Nt=i3,Ct=o3,gt=m.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(JC,{ref:s,className:me("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,r.jsx(l3,{asChild:!0,children:r.jsx(Ch,{className:"h-4 w-4 opacity-50"})})]}));gt.displayName=JC.displayName;const rE=m.forwardRef(({className:e,...t},n)=>r.jsx(tE,{ref:n,className:me("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(Px,{className:"h-4 w-4"})}));rE.displayName=tE.displayName;const aE=m.forwardRef(({className:e,...t},n)=>r.jsx(nE,{ref:n,className:me("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(Ch,{className:"h-4 w-4"})}));aE.displayName=nE.displayName;const xt=m.forwardRef(({className:e,children:t,position:n="popper",...s},a)=>r.jsx(c3,{children:r.jsxs(XC,{ref:a,className:me("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...s,children:[r.jsx(rE,{}),r.jsx(d3,{className:me("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),r.jsx(aE,{})]})}));xt.displayName=XC.displayName;const f3=m.forwardRef(({className:e,...t},n)=>r.jsx(ZC,{ref:n,className:me("px-2 py-1.5 text-sm font-semibold",e),...t}));f3.displayName=ZC.displayName;const Pe=m.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(eE,{ref:s,className:me("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(h3,{children:r.jsx(kx,{className:"h-4 w-4"})})}),r.jsx(u3,{children:t})]}));Pe.displayName=eE.displayName;const m3=m.forwardRef(({className:e,...t},n)=>r.jsx(sE,{ref:n,className:me("-mx-1 my-1 h-px bg-muted",e),...t}));m3.displayName=sE.displayName;const p3=Bo("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function te({className:e,variant:t,...n}){return r.jsx("div",{className:me(p3({variant:t}),e),...n})}const g3=()=>{var j;const[e,t]=m.useState(!1),n=qo(),{selectedSeason:s,selectedConference:a,theme:i,setSelectedSeason:o,setSelectedConference:l,toggleTheme:c,seasonConfigs:d,currentSeasonConfig:u}=Gs(),h=[{path:"/",label:"Home",icon:ED},{path:"/standings",label:"Standings",icon:$t},{path:"/matchups",label:"Matchups",icon:hc},{path:"/teams",label:"Teams",icon:Zt},{path:"/players",label:"Players",icon:Ll},{path:"/draft",label:"Draft Results",icon:ur},{path:"/rules",label:"League Rules",icon:uc},{path:"/admin",label:"Admin",icon:gD}],f=v=>v==="/"?n.pathname==="/":n.pathname.startsWith(v),g=({isMobile:v=!1})=>r.jsx(r.Fragment,{children:h.map(w=>{const p=w.icon,x=f(w.path);return r.jsxs(Lt,{to:w.path,onClick:()=>v&&t(!1),className:`flex items-center space-x-2 px-3 py-2 rounded-md ${w.path==="/admin"?"text-xs opacity-75":"text-sm"} font-medium transition-colors ${x?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-accent"}`,children:[r.jsx(p,{className:w.path==="/admin"?"h-3 w-3":"h-4 w-4"}),r.jsx("span",{className:w.path==="/admin"?"text-xs":"",children:w.label})]},w.path)})});return r.jsxs("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:[r.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[r.jsx("div",{className:"flex items-center space-x-4",children:r.jsxs(Lt,{to:"/",className:"flex items-center space-x-2",children:[r.jsx(ur,{className:"h-8 w-8 text-primary"}),r.jsx("div",{className:"hidden sm:block",children:r.jsx("h1",{className:"text-xl font-bold",children:"Gladiator League"})})]})}),r.jsx("nav",{className:"hidden lg:flex items-center space-x-1",children:r.jsx(g,{})}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(Nt,{value:s.toString(),onValueChange:v=>o(parseInt(v)),children:[r.jsx(gt,{className:"w-20",children:r.jsx(Ct,{})}),r.jsx(xt,{children:d.map(v=>r.jsx(Pe,{value:v.year.toString(),children:v.year},v.year))})]}),r.jsxs(Nt,{value:a||"all",onValueChange:v=>l(v==="all"?null:v),children:[r.jsx(gt,{className:"w-40",children:r.jsx(Ct,{})}),r.jsxs(xt,{children:[r.jsx(Pe,{value:"all",children:"All Conferences"}),u.conferences.map(v=>r.jsx(Pe,{value:v.id,children:v.name},v.id))]})]}),r.jsx(se,{variant:"ghost",size:"icon",onClick:c,children:i==="light"?r.jsx(LD,{className:"h-4 w-4"}):r.jsx(t$,{className:"h-4 w-4"})}),r.jsxs(A5,{open:e,onOpenChange:t,children:[r.jsx(D5,{asChild:!0,className:"lg:hidden",children:r.jsx(se,{variant:"ghost",size:"icon",children:r.jsx(DD,{className:"h-4 w-4"})})}),r.jsx(bC,{side:"right",className:"w-64",children:r.jsxs("div",{className:"flex flex-col space-y-4 mt-8",children:[r.jsxs("div",{className:"flex items-center space-x-2 pb-4 border-b",children:[r.jsx(ur,{className:"h-6 w-6 text-primary"}),r.jsxs("div",{children:[r.jsx("h2",{className:"font-semibold",children:"Gladiator League"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Fantasy Football"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Navigation"}),r.jsx(g,{isMobile:!0})]}),r.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium mb-2",children:"Season"}),r.jsxs(Nt,{value:s.toString(),onValueChange:v=>o(parseInt(v)),children:[r.jsx(gt,{children:r.jsx(Ct,{})}),r.jsx(xt,{children:d.map(v=>r.jsx(Pe,{value:v.year.toString(),children:v.year},v.year))})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium mb-2",children:"Conference"}),r.jsxs(Nt,{value:a||"all",onValueChange:v=>l(v==="all"?null:v),children:[r.jsx(gt,{children:r.jsx(Ct,{})}),r.jsxs(xt,{children:[r.jsx(Pe,{value:"all",children:"All Conferences"}),u.conferences.map(v=>r.jsx(Pe,{value:v.id,children:v.name},v.id))]})]})]})]})]})})]})]})]}),(a||s!==2025)&&r.jsx("div",{className:"border-t bg-accent/50",children:r.jsx("div",{className:"container py-2",children:r.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Active filters:"}),s!==2025&&r.jsxs(te,{variant:"secondary",children:[s," Season"]}),a&&r.jsx(te,{variant:"secondary",children:(j=u.conferences.find(v=>v.id===a))==null?void 0:j.name})]})})})]})},H=m.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:me("rounded-xl border bg-card text-card-foreground shadow",e),...t}));H.displayName="Card";const Z=m.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:me("flex flex-col space-y-1.5 p-6",e),...t}));Z.displayName="CardHeader";const ee=m.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:me("font-semibold leading-none tracking-tight",e),...t}));ee.displayName="CardTitle";const he=m.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:me("text-sm text-muted-foreground",e),...t}));he.displayName="CardDescription";const Q=m.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:me("p-6 pt-0",e),...t}));Q.displayName="CardContent";const x3=m.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:me("flex items-center p-6 pt-0",e),...t}));x3.displayName="CardFooter";const v3=Bo("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Oe=m.forwardRef(({className:e,variant:t,...n},s)=>r.jsx("div",{ref:s,role:"alert",className:me(v3({variant:t}),e),...n}));Oe.displayName="Alert";const ng=m.forwardRef(({className:e,...t},n)=>r.jsx("h5",{ref:n,className:me("mb-1 font-medium leading-none tracking-tight",e),...t}));ng.displayName="AlertTitle";const Fe=m.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:me("text-sm [&_p]:leading-relaxed",e),...t}));Fe.displayName="AlertDescription";class wc{static async getStandingsData(t,n){try{console.log(`StandingsService: Fetching standings for season ${t}, conference ${n||"all"}`);const s=[{column:"season_id",operator:"eq",value:t}];n&&s.push({column:"conference_id",operator:"eq",value:n});const a=await ie.getTeamRecords({filters:s});if(a.error)throw new Error(`Failed to fetch team records: ${a.error}`);const i=a.data||[];if(console.log(`StandingsService: Found ${i.length} team records`),i.length===0)return console.log("StandingsService: No team records found, returning empty array"),[];const o=[...new Set(i.map(w=>w.team_id))],l=[...new Set(i.map(w=>w.conference_id))],[c,d]=await Promise.all([ie.getTeams({filters:[{column:"id",operator:"in",value:o}]}),ie.getConferences({filters:[{column:"id",operator:"in",value:l}]})]);if(c.error)throw new Error(`Failed to fetch teams: ${c.error}`);if(d.error)throw new Error(`Failed to fetch conferences: ${d.error}`);const u=c.data||[],h=d.data||[],f=new Map;u.forEach(w=>f.set(w.id,w));const g=new Map;h.forEach(w=>g.set(w.id,w));const j=i.map(w=>{const p=f.get(w.team_id),x=g.get(w.conference_id),y=w.wins||0,b=w.losses||0,_=0,E=y+b+_,C=E>0?y/E:0;return{team_id:w.team_id,team_name:(p==null?void 0:p.team_name)||`Team ${w.team_id}`,owner_name:(p==null?void 0:p.owner_name)||"Unknown Owner",conference_name:(x==null?void 0:x.conference_name)||"Unknown Conference",wins:y,losses:b,ties:_,points_for:w.points_for||0,points_against:w.points_against||0,point_diff:w.point_diff||(w.points_for||0)-(w.points_against||0),win_percentage:C,conference_rank:0,overall_rank:0,playoff_eligible:!1,is_conference_champion:!1}});j.sort((w,p)=>p.win_percentage!==w.win_percentage?p.win_percentage-w.win_percentage:p.points_for-w.points_for),j.forEach((w,p)=>{w.overall_rank=p+1});const v=new Map;return j.forEach(w=>{v.has(w.conference_name)||v.set(w.conference_name,[]),v.get(w.conference_name).push(w)}),v.forEach((w,p)=>{w.sort((x,y)=>y.win_percentage!==x.win_percentage?y.win_percentage-x.win_percentage:y.points_for-x.points_for),w.forEach((x,y)=>{x.conference_rank=y+1,x.playoff_eligible=y<2,x.is_conference_champion=y===0})}),console.log(`StandingsService: Returning ${j.length} standings records`),j}catch(s){throw console.error("StandingsService: Error fetching standings data:",s),s}}static async getConferenceStandings(t,n){return this.getStandingsData(t,n)}static async getLeagueStandings(t){return this.getStandingsData(t)}static formatRecord(t,n,s=0){return s>0?`${t}-${n}-${s}`:`${t}-${n}`}static formatPoints(t){return t.toFixed(1)}}const y3=e=>{const{seasonYear:t,conferenceId:n,limit:s,autoRefresh:a=!1,refreshInterval:i=3e4}=e,[o,l]=m.useState([]),[c,d]=m.useState(!0),[u,h]=m.useState(null),f=async()=>{if(!t){d(!1);return}try{d(!0),h(null);let g=await wc.getStandingsData(t,n);s&&s>0&&(g=g.slice(0,s)),l(g)}catch(g){const j=g instanceof Error?g.message:"An error occurred while fetching standings";h(j),console.error("Error fetching standings:",g)}finally{d(!1)}};return m.useEffect(()=>{t?f():d(!1)},[t,n,s]),m.useEffect(()=>{if(a&&i>0&&t){const g=setInterval(f,i);return()=>clearInterval(g)}},[a,i,t,n,s]),{standings:o,loading:c,error:u,refetch:f}},w3=["QB","RB","RB","WR","WR","WR","TE","FLEX","SUPER_FLEX","K","DEF"];class nt{static async fetchLeagueRosters(t){try{console.log(`Fetching rosters for league: ${t}`);const n=await fetch(`${this.baseUrl}/league/${t}/rosters`);if(!n.ok)throw new Error(`Failed to fetch rosters: ${n.status} ${n.statusText}`);const s=await n.json();return console.log(`Fetched ${s.length} rosters for league ${t}`),s}catch(n){throw console.error("Error fetching league rosters:",n),n}}static async fetchAllPlayers(){try{console.log("Fetching all NFL players data...");const t=await fetch(`${this.baseUrl}/players/nfl`);if(!t.ok)throw new Error(`Failed to fetch players: ${t.status} ${t.statusText}`);const n=await t.json();return console.log(`Fetched ${Object.keys(n).length} players from Sleeper API`),n}catch(t){throw console.error("Error fetching players:",t),t}}static organizeRoster(t,n){const s=(t.starters||[]).map((i,o)=>{const l=n[i],c=w3[o]||"BENCH";return{playerId:i,position:(l==null?void 0:l.position)||"UNK",slotPosition:c}}),a=(t.players||[]).filter(i=>!(t.starters||[]).includes(i)&&!(t.reserve||[]).includes(i));return{starters:s,bench:a,ir:t.reserve||[]}}static async getTeamRosterData(t,n){try{const[s,a]=await Promise.all([this.fetchLeagueRosters(t),(async()=>{const{DatabaseService:l}=await Ni(async()=>{const{DatabaseService:u}=await Promise.resolve().then(()=>TF);return{DatabaseService:u}},void 0),c=await l.getAllPlayersForMapping([{column:"playing_status",operator:"eq",value:"Active"},{column:"position",operator:"in",value:["QB","RB","WR","TE","K","DEF"]}]),d={};return c.forEach(u=>{var h;if(u.sleeper_id){const f=u.player_name.split(" "),g=f[0]||"",j=f.slice(1).join(" ")||"";d[u.sleeper_id]={player_id:u.sleeper_id,first_name:g,last_name:j,position:u.position||"",team:u.nfl_team||"",jersey_number:u.number||0,status:u.playing_status||"",injury_status:u.injury_status||"",age:u.age||0,height:((h=u.height)==null?void 0:h.toString())||"",weight:u.weight||0,years_exp:0,college:u.college||""}}}),d})()]),i=s.find(l=>l.roster_id===n);if(!i)throw new Error(`Roster with ID ${n} not found in league ${t}`);const o=this.organizeRoster(i,a);return{roster:i,organizedRoster:o,allPlayers:a}}catch(s){throw console.error("Error getting team roster data:",s),s}}static getPlayerName(t){return t&&`${t.first_name||""} ${t.last_name||""}`.trim()||"Unknown Player"}static calculatePointsPerGame(t,n){return n===0?0:t/n}static formatPoints(t,n=0){return t+n/100}static async fetchMatchups(t,n){try{console.log(` Fetching matchups for league: ${t}, week: ${n}`);const s=await fetch(`${this.baseUrl}/league/${t}/matchups/${n}`);if(!s.ok)throw new Error(`Failed to fetch matchups: ${s.status} ${s.statusText}`);const a=await s.json();if(console.log(` Fetched ${a.length} matchups for league ${t}, week ${n}`),a.length>0){const i={totalMatchups:a.length,matchupsWithPoints:a.filter(o=>o.points>0).length,matchupsWithZeroPoints:a.filter(o=>o.points===0).length,matchupsWithNullPoints:a.filter(o=>o.points===null||o.points===void 0).length,pointsRange:{min:Math.min(...a.map(o=>o.points||0)),max:Math.max(...a.map(o=>o.points||0)),average:a.reduce((o,l)=>o+(l.points||0),0)/a.length},playersPointsAvailability:{withPlayersPoints:a.filter(o=>o.players_points&&Object.keys(o.players_points).length>0).length,withStartersPoints:a.filter(o=>o.starters_points&&o.starters_points.length>0).length},sampleMatchup:{rosterId:a[0].roster_id,points:a[0].points,playersPointsKeys:Object.keys(a[0].players_points||{}).length,startersPointsLength:(a[0].starters_points||[]).length,matchupId:a[0].matchup_id}};console.log(` Points analysis for league ${t}, week ${n}:`,i),i.matchupsWithPoints===0&&(console.warn(` No matchups with points > 0 found for league ${t}, week ${n}`),console.warn(" This could indicate: week hasn't started, games in progress, or API delay")),i.playersPointsAvailability.withPlayersPoints===0&&console.warn(` No player-level points data available for league ${t}, week ${n}`)}else console.warn(` No matchup data returned for league ${t}, week ${n}`);return a}catch(s){throw console.error(` Error fetching matchups for league ${t}, week ${n}:`,s),s}}static async fetchLeague(t){try{console.log(`Fetching league info: ${t}`);const n=await fetch(`${this.baseUrl}/league/${t}`);if(!n.ok)throw new Error(`Failed to fetch league: ${n.status} ${n.statusText}`);const s=await n.json();return console.log(`Fetched league info for ${t}`),s}catch(n){throw console.error("Error fetching league:",n),n}}static async fetchLeagueUsers(t){try{console.log(`Fetching users for league: ${t}`);const n=await fetch(`${this.baseUrl}/league/${t}/users`);if(!n.ok)throw new Error(`Failed to fetch users: ${n.status} ${n.statusText}`);const s=await n.json();return console.log(`Fetched ${s.length} users for league ${t}`),s}catch(n){throw console.error("Error fetching league users:",n),n}}static organizeMatchups(t,n,s){const a=new Map;return t.forEach(i=>{a.has(i.matchup_id)||a.set(i.matchup_id,[]),a.get(i.matchup_id).push(i)}),Array.from(a.entries()).filter(([i,o])=>o.length===2).map(([i,o])=>({matchup_id:i,teams:o.map(l=>{const c=n.find(u=>u.roster_id===l.roster_id),d=c?s.find(u=>u.user_id===c.owner_id):null;return{roster_id:l.roster_id,points:l.points,owner:d,roster:c}})}))}static async getCurrentNFLWeek(){try{console.log("Fetching current NFL week from Sleeper API...");const t=await fetch(`${this.baseUrl}/state/nfl`);if(!t.ok)throw new Error(`Failed to fetch NFL state: ${t.status} ${t.statusText}`);const n=await t.json();return console.log("NFL State from Sleeper:",n),console.log(`Current NFL week: ${n.week}`),n.week||1}catch(t){return console.error("Error fetching current NFL week:",t),console.warn("Falling back to default week 1"),1}}static async getNFLState(){try{console.log("Fetching NFL state from Sleeper API...");const t=await fetch(`${this.baseUrl}/state/nfl`);if(!t.ok)throw new Error(`Failed to fetch NFL state: ${t.status} ${t.statusText}`);const n=await t.json();return console.log("NFL State from Sleeper:",n),n}catch(t){throw console.error("Error fetching NFL state:",t),t}}}On(nt,"baseUrl","https://api.sleeper.app/v1");const j3=()=>{var U,D;const[e,t]=m.useState(1),[n,s]=m.useState([]),[a,i]=m.useState([]),[o,l]=m.useState(!0),[c,d]=m.useState(!0),[u,h]=m.useState(null),[f,g]=m.useState(null),{selectedSeason:j,selectedConference:v,currentSeasonConfig:w,seasonConfigs:p,loading:x,error:y,refreshSeasonData:b}=Gs();w==null||w.year;const{standings:_,loading:E,error:C,refetch:N}=y3({seasonYear:w!=null&&w.seasonId?typeof w.seasonId=="string"?parseInt(w.seasonId):w.seasonId:void 0,conferenceId:v==="all"||v===null||(U=w==null?void 0:w.conferences.find(S=>S.id===v))==null?void 0:U.dbConferenceId,limit:5,autoRefresh:!0,refreshInterval:6e4});m.useEffect(()=>{(async()=>{try{const T=await nt.getCurrentNFLWeek();t(T===0?1:T)}catch(T){console.error("Error loading current week:",T),t(1)}})()},[]);const k=async(S,T)=>{const P=[];for(const F of S){if(!F.dbConferenceId)continue;const I=await ie.getMatchups({filters:[{column:"conference_id",operator:"eq",value:F.dbConferenceId},{column:"week",operator:"eq",value:T}]});if(I.error||!I.data)continue;const G=await ie.getTeams({});if(G.error||!G.data)continue;const le=new Map;G.data.forEach(X=>{le.set(X.id,X.team_name)});for(const X of I.data){const W=le.get(X.team1_id)||"Unknown Team",q=le.get(X.team2_id)||"Unknown Team";P.push({matchup_id:X.id,conference:{conference_name:F.name,league_id:F.leagueId},teams:[{team:{team_name:W},points:X.team1_score||0},{team:{team_name:q},points:X.team2_score||0}],status:X.team1_score&&X.team2_score?"completed":"upcoming"})}}return P},R=async()=>{if(!(!w||e===0)){l(!0),h(null);try{const S=v==="all"||v===null?w.conferences:w.conferences.filter(P=>P.id===v),T=await k(S,e);s(T)}catch(S){console.error("Error loading matchups:",S),h(S instanceof Error?S.message:"Failed to load matchups")}finally{l(!1)}}};m.useEffect(()=>{R()},[e,v,w]);const A=async()=>{if(w){d(!0),g(null);try{const S=v==="all"||v===null?w.conferences:w.conferences.filter(W=>W.id===v),T=S.filter(W=>W.dbConferenceId).map(W=>W.dbConferenceId);if(T.length===0){i([]);return}const P=await ie.getTransactions({filters:[{column:"conference_id",operator:"in",value:T}],orderBy:{column:"created_at",ascending:!1},limit:10});if(P.error||!P.data)throw new Error(P.error||"Failed to fetch transactions");const F=await ie.getTeams({}),I=await ie.getTeamConferenceJunctions({filters:[{column:"conference_id",operator:"in",value:T}]}),G=await ie.getAllPlayersForMapping([{column:"playing_status",operator:"eq",value:"Active"},{column:"position",operator:"in",value:["QB","RB","WR","TE"]}]),le=new Map;G.forEach(W=>{W.sleeper_id&&le.set(String(W.sleeper_id),W.player_name)});const X=await Promise.all(P.data.map(async W=>{let q={};try{q=typeof W.data=="string"?JSON.parse(W.data):W.data||{}}catch(ce){console.warn("Failed to parse transaction data:",ce)}const K=S.find(ce=>ce.dbConferenceId===W.conference_id),O=ce=>{var Et;const Ee=(Et=I.data)==null?void 0:Et.find(Be=>Be.roster_id.toString()===ce.toString()&&Be.conference_id===W.conference_id);if(Ee&&F.data){const Be=F.data.find(zr=>zr.id===Ee.team_id);return(Be==null?void 0:Be.team_name)||"Unknown Team"}return"Unknown Team"};let ae="Unknown Team";q.roster_ids&&q.roster_ids.length>0&&(ae=O(q.roster_ids[0]));const oe=[],de=[],ge=ce=>{const Ee=String(ce);return le.get(Ee)||`Player ${Ee}`};if(q.adds)for(const[ce,Ee]of Object.entries(q.adds)){const Et=ge(ce),Be=O(Ee),zr=q.settings&&q.settings.waiver_bid&&q.settings.waiver_bid[ce];oe.push({name:Et,team:Be,bidAmount:zr||null})}if(q.drops)for(const[ce,Ee]of Object.entries(q.drops)){const Et=ge(ce),Be=O(Ee);de.push({name:Et,team:Be})}let we="";const Ie=q.type||W.type,He=new Set;switch(q.roster_ids&&q.roster_ids.forEach(ce=>{const Ee=O(ce);Ee!=="Unknown Team"&&He.add(Ee)}),Ie){case"trade":if(oe.length>0||de.length>0){const ce=[];oe.forEach(Ee=>ce.push(`${Ee.name} to ${Ee.team}`)),de.forEach(Ee=>ce.push(`${Ee.name} from ${Ee.team}`)),He.size>1?we=`Trade between ${Array.from(He).join(" and ")}: ${ce.join(", ")}`:we=`${ae} trade: ${ce.join(", ")}`}else q.draft_picks&&q.draft_picks.length>0?we=`Trade involving ${q.draft_picks.map(Ee=>`${Ee.season} Round ${Ee.round} pick`).join(", ")}`:we=`Trade between ${Array.from(He).join(" and ")}`;break;case"waiver":oe.length>0&&de.length>0?we=`${ae} claimed ${oe.map(ce=>ce.name).join(", ")} from waivers, dropped ${de.map(ce=>ce.name).join(", ")}`:oe.length>0?we=`${ae} claimed ${oe.map(ce=>ce.name).join(", ")} from waivers`:de.length>0?we=`${ae} dropped ${de.map(ce=>ce.name).join(", ")} to waivers`:we=`${ae} made a waiver claim`;break;case"free_agent":oe.length>0&&de.length>0?we=`${ae} added ${oe.map(ce=>ce.name).join(", ")}, dropped ${de.map(ce=>ce.name).join(", ")}`:oe.length>0?we=`${ae} added ${oe.map(ce=>ce.name).join(", ")} from free agency`:de.length>0?we=`${ae} dropped ${de.map(ce=>ce.name).join(", ")}`:we=`${ae} made a free agent transaction`;break;default:we=`${ae} completed a ${Ie||"transaction"}`}const tn=q.type==="trade"?"trade":q.type==="waiver"?"waiver":q.type==="free_agent"?"free_agent":"commissioner";return{id:W.id.toString(),type:tn,date:new Date(W.created_at||new Date),details:we,teams:[ae],players:{added:oe.map(ce=>({id:"",name:ce.name,team:ce.team,bidAmount:ce.bidAmount})),dropped:de.map(ce=>({id:"",name:ce.name,team:ce.team}))},week:q.leg||0,status:"completed",rosterIds:q.roster_ids||[],draftPicks:q.draft_picks||[],waiverBudget:q.waiver_budget||[]}}));i(X)}catch(S){console.error("Error loading transactions:",S),g(S instanceof Error?S.message:"Failed to load transactions")}finally{d(!1)}}};if(m.useEffect(()=>{A()},[v,w]),x)return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(dn,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Loading Gladiator League"}),r.jsx("p",{className:"text-muted-foreground",children:"Connecting to Supabase database..."})]})});if(y)return r.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:r.jsxs(H,{className:"w-full max-w-md",children:[r.jsx(Z,{children:r.jsxs(ee,{className:"flex items-center gap-2 text-destructive",children:[r.jsx(We,{className:"h-5 w-5"}),"Connection Error"]})}),r.jsxs(Q,{className:"space-y-4",children:[r.jsx(Oe,{children:r.jsx(Fe,{children:y})}),r.jsxs(se,{onClick:b,className:"w-full",children:[r.jsx(Ye,{className:"h-4 w-4 mr-2"}),"Retry Connection"]})]})]})});if(!p||p.length===0)return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(dn,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Loading Season Configuration"}),r.jsx("p",{className:"text-muted-foreground",children:"Setting up league data..."})]})});if(!w||!w.conferences||w.conferences.length===0)return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(dn,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Loading Conferences"}),r.jsx("p",{className:"text-muted-foreground",children:"Setting up conference data..."})]})});const $=S=>{switch(S){case"live":return r.jsx(te,{className:"bg-green-500 hover:bg-green-600 text-xs",children:"Live"});case"completed":return r.jsx(te,{variant:"secondary",className:"text-xs",children:"Final"});case"upcoming":return r.jsx(te,{variant:"outline",className:"text-xs",children:"Upcoming"});default:return r.jsx(te,{variant:"secondary",className:"text-xs",children:S})}},M=S=>{switch(S){case"trade":return"";case"waiver":return"";case"free_agent":return"";case"commissioner":return"";default:return""}},V=()=>E?r.jsxs("div",{className:"flex items-center justify-center p-8",children:[r.jsx(dn,{className:"h-6 w-6 animate-spin text-primary"}),r.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:"Loading standings..."})]}):C?r.jsxs("div",{className:"text-center p-8",children:[r.jsxs("p",{className:"text-sm text-red-600 mb-4",children:["Error loading standings: ",C]}),r.jsx(se,{variant:"outline",size:"sm",onClick:N,children:"Try Again"})]}):!_||_.length===0?r.jsx("div",{className:"text-center p-8",children:r.jsx("p",{className:"text-sm text-muted-foreground",children:"No standings data available"})}):r.jsx("div",{className:"space-y-3",children:_.map(S=>r.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-accent/50",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("div",{className:"flex items-center space-x-1",children:[S.overall_rank===1&&r.jsx(cN,{className:"h-4 w-4 text-yellow-500"}),r.jsxs("span",{className:"font-semibold w-6",children:["#",S.overall_rank]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:S.team_name}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[S.owner_name,"  ",S.conference_name]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"font-semibold",children:wc.formatRecord(S.wins,S.losses,S.ties)}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[wc.formatPoints(S.points_for)," pts"]})]})]},S.team_id))}),B=()=>o?r.jsxs("div",{className:"flex items-center justify-center p-8",children:[r.jsx(dn,{className:"h-6 w-6 animate-spin text-primary"}),r.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:"Loading matchups..."})]}):u?r.jsxs("div",{className:"text-center p-8",children:[r.jsxs("p",{className:"text-sm text-red-600 mb-4",children:["Error loading matchups: ",u]}),r.jsx(se,{variant:"outline",size:"sm",onClick:R,children:"Try Again"})]}):!n||n.length===0?r.jsx("div",{className:"text-center p-8",children:r.jsxs("p",{className:"text-sm text-muted-foreground",children:["No matchups found for week ",e]})}):r.jsx("div",{className:"space-y-2",children:n.map(S=>{var T,P,F,I,G,le;return r.jsxs("div",{className:"p-2 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx(te,{variant:"outline",className:"text-xs",children:S.conference.conference_name}),$(S.status)]}),r.jsxs("div",{className:"grid grid-cols-3 gap-2 items-center text-sm",children:[r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"font-medium truncate text-xs",children:((P=(T=S.teams[0])==null?void 0:T.team)==null?void 0:P.team_name)||"Team 1"}),r.jsx("p",{className:"text-sm font-bold",children:S.status==="upcoming"?"--":(F=S.teams[0])==null?void 0:F.points.toFixed(1)})]}),r.jsx("div",{className:"text-center text-muted-foreground font-semibold text-xs",children:"VS"}),r.jsxs("div",{className:"text-left",children:[r.jsx("p",{className:"font-medium truncate text-xs",children:((G=(I=S.teams[1])==null?void 0:I.team)==null?void 0:G.team_name)||"Team 2"}),r.jsx("p",{className:"text-sm font-bold",children:S.status==="upcoming"?"--":(le=S.teams[1])==null?void 0:le.points.toFixed(1)})]})]})]},S.matchup_id)})}),L=()=>c?r.jsxs("div",{className:"flex items-center justify-center p-8",children:[r.jsx(dn,{className:"h-6 w-6 animate-spin text-primary"}),r.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:"Loading transactions..."})]}):f?r.jsxs("div",{className:"text-center p-8",children:[r.jsxs("p",{className:"text-sm text-red-600 mb-4",children:["Error loading transactions: ",f]}),r.jsx(se,{variant:"outline",size:"sm",onClick:A,children:"Try Again"})]}):!a||a.length===0?r.jsx("div",{className:"text-center p-8",children:r.jsx("p",{className:"text-sm text-muted-foreground",children:"No recent transactions found"})}):r.jsx("div",{className:"space-y-3",children:a.map(S=>r.jsxs("div",{className:"p-3 rounded-lg border bg-card hover:bg-accent/50 transition-colors",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"text-base",children:M(S.type)}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(te,{variant:"outline",className:"text-xs",children:S.type.replace("_"," ").toUpperCase()}),r.jsxs("span",{className:"text-xs text-muted-foreground",children:["Week ",S.week]})]})]}),r.jsx("span",{className:"text-xs text-muted-foreground",children:S.date.toLocaleDateString()})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"flex items-center space-x-2",children:r.jsx("span",{className:"text-sm font-medium",children:S.teams[0]})}),(S.players.added.length>0||S.players.dropped.length>0)&&r.jsxs("div",{className:"space-y-2",children:[S.players.added.length>0&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[r.jsxs(te,{variant:"secondary",className:"text-xs bg-green-100 text-green-800",children:["+",S.players.added.length]}),r.jsx("span",{className:"text-xs font-medium text-green-700",children:"Added"})]}),r.jsx("div",{className:"ml-1 space-y-1",children:S.players.added.map((T,P)=>r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"font-medium",children:T.name}),r.jsxs("div",{className:"flex items-center space-x-1",children:[T.bidAmount&&r.jsxs(te,{variant:"secondary",className:"text-xs bg-blue-100 text-blue-800",children:["$",T.bidAmount]}),r.jsx(te,{variant:"outline",className:"text-xs",children:T.team})]})]},P))})]}),S.players.dropped.length>0&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[r.jsxs(te,{variant:"secondary",className:"text-xs bg-red-100 text-red-800",children:["-",S.players.dropped.length]}),r.jsx("span",{className:"text-xs font-medium text-red-700",children:"Dropped"})]}),r.jsx("div",{className:"ml-1 space-y-1",children:S.players.dropped.map((T,P)=>r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"font-medium",children:T.name}),r.jsx(te,{variant:"outline",className:"text-xs",children:T.team})]},P))})]})]})]})]},S.id))});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"relative overflow-hidden rounded-lg bg-gradient-to-br from-primary/10 via-primary/5 to-background border",children:[r.jsx("div",{className:"absolute inset-0 bg-grid-white/10 [mask-image:linear-gradient(0deg,white,rgba(255,255,255,0.6))]"}),r.jsx("div",{className:"relative px-6 py-12 sm:px-12",children:r.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(ur,{className:"h-12 w-12 text-primary"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"Gladiator League"}),r.jsx("p",{className:"text-lg text-muted-foreground",children:"Fantasy Football Championship"})]})]}),r.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl",children:"Welcome to the ultimate fantasy football experience. Track your teams across three competitive conferences in real-time."}),r.jsxs("div",{className:"flex items-center space-x-2 mt-4",children:[r.jsxs(te,{variant:"outline",children:[j," Season"]}),r.jsxs(te,{variant:"outline",children:["Week ",e]}),v!=="all"&&w&&r.jsx(te,{variant:"secondary",children:(D=w.conferences.find(S=>S.id===v))==null?void 0:D.name})]})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs(H,{className:"lg:col-span-2",children:[r.jsxs(Z,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx($t,{className:"h-5 w-5 text-primary"}),r.jsx(ee,{children:"League Standings"})]}),r.jsx(Lt,{to:"/standings",children:r.jsxs(se,{variant:"ghost",size:"sm",children:["View All ",r.jsx(Kf,{className:"ml-1 h-4 w-4"})]})})]}),r.jsx(he,{children:"Top 5 teams across all conferences"})]}),r.jsx(Q,{children:V()})]}),r.jsxs(H,{children:[r.jsxs(Z,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(hc,{className:"h-5 w-5 text-primary"}),r.jsxs(ee,{children:["Week ",e]})]}),r.jsx(Lt,{to:"/matchups",children:r.jsx(se,{variant:"ghost",size:"sm",children:r.jsx(Kf,{className:"h-4 w-4"})})})]}),r.jsx(he,{children:"Current matchups"})]}),r.jsx(Q,{children:B()})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(H,{children:[r.jsxs(Z,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Us,{className:"h-5 w-5 text-primary"}),r.jsx(ee,{children:"Recent Transactions"})]}),r.jsx(Lt,{to:"/transactions",children:r.jsxs(se,{variant:"ghost",size:"sm",children:["View All ",r.jsx(Kf,{className:"ml-1 h-4 w-4"})]})})]}),r.jsx(he,{children:"Latest roster moves across all conferences"})]}),r.jsx(Q,{children:L()})]}),r.jsxs(H,{children:[r.jsxs(Z,{children:[r.jsxs(ee,{className:"flex items-center space-x-2",children:[r.jsx(Zt,{className:"h-5 w-5 text-primary"}),r.jsx("span",{children:"Quick Actions"})]}),r.jsx(he,{children:"Navigate to key sections of the league"})]}),r.jsx(Q,{children:r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsx(Lt,{to:"/standings",children:r.jsxs(se,{variant:"outline",className:"w-full h-16 flex flex-col space-y-1",children:[r.jsx($t,{className:"h-5 w-5"}),r.jsx("span",{className:"text-xs",children:"Standings"})]})}),r.jsx(Lt,{to:"/matchups",children:r.jsxs(se,{variant:"outline",className:"w-full h-16 flex flex-col space-y-1",children:[r.jsx(hc,{className:"h-5 w-5"}),r.jsx("span",{className:"text-xs",children:"Matchups"})]})}),r.jsx(Lt,{to:"/teams",children:r.jsxs(se,{variant:"outline",className:"w-full h-16 flex flex-col space-y-1",children:[r.jsx(Zt,{className:"h-5 w-5"}),r.jsx("span",{className:"text-xs",children:"Teams"})]})}),r.jsx(Lt,{to:"/players",children:r.jsxs(se,{variant:"outline",className:"w-full h-16 flex flex-col space-y-1",children:[r.jsx(Us,{className:"h-5 w-5"}),r.jsx("span",{className:"text-xs",children:"Players"})]})}),r.jsx(Lt,{to:"/draft",children:r.jsxs(se,{variant:"outline",className:"w-full h-16 flex flex-col space-y-1",children:[r.jsx(ur,{className:"h-5 w-5"}),r.jsx("span",{className:"text-xs",children:"Draft Results"})]})}),r.jsx(Lt,{to:"/rules",children:r.jsxs(se,{variant:"outline",className:"w-full h-16 flex flex-col space-y-1",children:[r.jsx(Zn,{className:"h-5 w-5"}),r.jsx("span",{className:"text-xs",children:"League Rules"})]})})]})})]})]}),r.jsxs(H,{children:[r.jsxs(Z,{children:[r.jsx(ee,{children:"League Information"}),r.jsx(he,{children:"Current season details and conference structure"})]}),r.jsx(Q,{children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:w==null?void 0:w.conferences.map(S=>r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsx("h4",{className:"font-semibold mb-2",children:S.name}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"12 teams  14-week season"}),r.jsx(te,{variant:"outline",className:"text-xs",children:S.status})]},S.id))})})]})]})},Bt=m.forwardRef(({className:e,...t},n)=>r.jsx("div",{className:"relative w-full overflow-auto",children:r.jsx("table",{ref:n,className:me("w-full caption-bottom text-sm",e),...t})}));Bt.displayName="Table";const zt=m.forwardRef(({className:e,...t},n)=>r.jsx("thead",{ref:n,className:me("[&_tr]:border-b",e),...t}));zt.displayName="TableHeader";const Vt=m.forwardRef(({className:e,...t},n)=>r.jsx("tbody",{ref:n,className:me("[&_tr:last-child]:border-0",e),...t}));Vt.displayName="TableBody";const b3=m.forwardRef(({className:e,...t},n)=>r.jsx("tfoot",{ref:n,className:me("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));b3.displayName="TableFooter";const be=m.forwardRef(({className:e,...t},n)=>r.jsx("tr",{ref:n,className:me("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));be.displayName="TableRow";const ne=m.forwardRef(({className:e,...t},n)=>r.jsx("th",{ref:n,className:me("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));ne.displayName="TableHead";const Y=m.forwardRef(({className:e,...t},n)=>r.jsx("td",{ref:n,className:me("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));Y.displayName="TableCell";const _3=m.forwardRef(({className:e,...t},n)=>r.jsx("caption",{ref:n,className:me("mt-4 text-sm text-muted-foreground",e),...t}));_3.displayName="TableCaption";const S3=()=>{var _,E;const{selectedSeason:e,selectedConference:t,currentSeasonConfig:n,loading:s}=Gs(),[a,i]=m.useState(null),[o,l]=m.useState([]),[c,d]=m.useState(!0),[u,h]=m.useState(null),[f,g]=m.useState(!1),{toast:j}=en(),v=async()=>{try{d(!0),h(null),console.log(`Fetching standings data for season ${e} and conference ${t||"all"}...`);const C=n;if(!C)throw new Error(`No season configuration found for year ${e}`);const N=C.seasonId,k=typeof N=="string"?parseInt(N):N;console.log(`Using season ID ${k} for year ${e}`);let R;if(t){const $=C.conferences.find(M=>M.id===t);if($){const M=await ie.getConferences({filters:[{column:"season_id",operator:"eq",value:k},{column:"conference_name",operator:"eq",value:$.name}]});if(M.error)throw new Error(`Conferences fetch error: ${M.error}`);const V=M.data||[];V.length>0&&(R=typeof V[0].id=="string"?parseInt(V[0].id):V[0].id)}}const A=await wc.getStandingsData(k,R);console.log("Standings data from service:",A),l(A)}catch(C){console.error("Error fetching standings:",C),h(C instanceof Error?C.message:"Failed to fetch standings data"),j({title:"Error",description:"Failed to fetch standings data. Please try again.",variant:"destructive"})}finally{d(!1)}},w=async()=>{try{g(!0);const C=n;if(!C)throw new Error(`No season configuration found for year ${e}`);const N=C.seasonId,k=typeof N=="string"?parseInt(N):N;let R;if(t){const A=C.conferences.find($=>$.id===t);if(A){const $=await ie.getConferences({filters:[{column:"season_id",operator:"eq",value:k},{column:"conference_name",operator:"eq",value:A.name}]});if($.error)throw new Error(`Conferences fetch error: ${$.error}`);const M=$.data||[];M.length>0&&(R=typeof M[0].id=="string"?parseInt(M[0].id):M[0].id)}}console.log("Team records refresh triggered for season:",k,"conference:",R),await v(),j({title:"Success",description:"Standings refreshed successfully"})}catch(C){console.error("Error refreshing standings:",C),j({title:"Error",description:"Failed to refresh standings data",variant:"destructive"})}finally{g(!1)}};m.useEffect(()=>{!s&&n&&v()},[e,t,s,n]);const p=C=>{let N="desc";a&&a.key===C&&a.direction==="desc"&&(N="asc"),i({key:C,direction:N})},x=$e.useMemo(()=>{let C=[...o];return a!==null?C.sort((N,k)=>{const R=N[a.key],A=k[a.key];return R<A?a.direction==="asc"?-1:1:R>A?a.direction==="asc"?1:-1:0}):C.sort((N,k)=>N.wins!==k.wins?k.wins-N.wins:k.points_for-N.points_for),C},[o,a]),y=(C,N)=>{const k=C+N;if(k===0)return"outline";const R=C/k;return R>=.7?"default":R>=.5?"secondary":"destructive"},b=(C,N)=>N?r.jsxs(te,{variant:"default",className:"bg-yellow-500 text-white",children:[r.jsx($t,{className:"w-3 h-3 mr-1"}),"Champion"]}):C?r.jsx(te,{variant:"default",className:"bg-green-500",children:"Playoff"}):null;return s||c?r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(dn,{className:"h-6 w-6 animate-spin"}),r.jsxs("span",{children:["Loading ",s?"season data":"standings","..."]})]})}):u?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx($t,{className:"h-6 w-6 text-primary"}),r.jsx("h1",{className:"text-3xl font-bold",children:"League Standings"})]}),r.jsxs("p",{className:"text-muted-foreground",children:[e," Season  ",t?(_=n.conferences.find(C=>C.id===t))==null?void 0:_.name:"All Conferences"]})]}),r.jsxs(H,{children:[r.jsxs(Z,{children:[r.jsx(ee,{children:"Error Loading Standings"}),r.jsx(he,{children:"Unable to fetch standings data"})]}),r.jsx(Q,{children:r.jsxs("div",{className:"text-center space-y-4",children:[r.jsx("p",{className:"text-muted-foreground",children:u}),r.jsx(se,{onClick:v,children:"Try Again"})]})})]})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx($t,{className:"h-6 w-6 text-primary"}),r.jsx("h1",{className:"text-3xl font-bold",children:"League Standings"})]}),r.jsxs(se,{variant:"outline",onClick:w,disabled:f,className:"flex items-center gap-2",children:[r.jsx(Ye,{className:`h-4 w-4 ${f?"animate-spin":""}`}),f?"Refreshing...":"Refresh"]})]}),r.jsxs("p",{className:"text-muted-foreground",children:[e," Season  ",t?(E=n.conferences.find(C=>C.id===t))==null?void 0:E.name:"All Conferences"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(H,{children:r.jsxs(Z,{className:"pb-2",children:[r.jsx(he,{children:"Total Teams"}),r.jsx(ee,{className:"text-2xl",children:o.length})]})}),r.jsx(H,{children:r.jsxs(Z,{className:"pb-2",children:[r.jsx(he,{children:"Highest Scoring Team"}),r.jsx(ee,{className:"text-xl",children:o.length>0&&o.reduce((C,N)=>C.points_for>N.points_for?C:N).team_name})]})}),r.jsx(H,{children:r.jsxs(Z,{className:"pb-2",children:[r.jsx(he,{children:"Playoff Teams"}),r.jsx(ee,{className:"text-2xl",children:o.filter(C=>C.playoff_eligible).length})]})})]}),r.jsxs(H,{children:[r.jsxs(Z,{children:[r.jsx(ee,{children:"Team Standings"}),r.jsxs(he,{children:["Click column headers to sort. Current standings for the ",e," season."]})]}),r.jsx(Q,{children:r.jsx("div",{className:"rounded-md border",children:r.jsxs(Bt,{children:[r.jsx(zt,{children:r.jsxs(be,{children:[r.jsx(ne,{className:"w-12",children:r.jsxs(se,{variant:"ghost",size:"sm",onClick:()=>p("overall_rank"),children:["Rank ",r.jsx(Pi,{className:"ml-1 h-3 w-3"})]})}),r.jsx(ne,{children:r.jsxs(se,{variant:"ghost",size:"sm",onClick:()=>p("team_name"),children:["Team ",r.jsx(Pi,{className:"ml-1 h-3 w-3"})]})}),r.jsx(ne,{className:"hidden md:table-cell",children:"Owner"}),r.jsx(ne,{className:"hidden lg:table-cell",children:"Conference"}),r.jsx(ne,{children:r.jsxs(se,{variant:"ghost",size:"sm",onClick:()=>p("wins"),children:["Record ",r.jsx(Pi,{className:"ml-1 h-3 w-3"})]})}),r.jsx(ne,{className:"text-right",children:r.jsxs(se,{variant:"ghost",size:"sm",onClick:()=>p("points_for"),children:["PF ",r.jsx(Pi,{className:"ml-1 h-3 w-3"})]})}),r.jsx(ne,{className:"text-right hidden sm:table-cell",children:r.jsxs(se,{variant:"ghost",size:"sm",onClick:()=>p("points_against"),children:["PA ",r.jsx(Pi,{className:"ml-1 h-3 w-3"})]})}),r.jsx(ne,{className:"text-right hidden md:table-cell",children:r.jsxs(se,{variant:"ghost",size:"sm",onClick:()=>p("win_percentage"),children:["Win% ",r.jsx(Pi,{className:"ml-1 h-3 w-3"})]})}),r.jsx(ne,{className:"hidden lg:table-cell",children:"Status"})]})}),r.jsx(Vt,{children:x.map((C,N)=>r.jsxs(be,{className:"hover:bg-muted/50",children:[r.jsx(Y,{className:"font-medium",children:r.jsxs("div",{className:"flex items-center space-x-1",children:[C.overall_rank===1&&r.jsx($t,{className:"h-4 w-4 text-yellow-500"}),r.jsx("span",{children:C.overall_rank})]})}),r.jsxs(Y,{children:[r.jsx("div",{className:"font-medium",children:C.team_name}),r.jsx("div",{className:"text-sm text-muted-foreground md:hidden",children:C.owner_name})]}),r.jsx(Y,{className:"hidden md:table-cell",children:C.owner_name}),r.jsx(Y,{className:"hidden lg:table-cell",children:r.jsx(te,{variant:"outline",className:"text-xs",children:C.conference_name})}),r.jsx(Y,{children:r.jsxs(te,{variant:y(C.wins,C.losses),children:[C.wins,"-",C.losses,C.ties>0&&`-${C.ties}`]})}),r.jsx(Y,{className:"text-right font-mono",children:C.points_for.toFixed(1)}),r.jsx(Y,{className:"text-right font-mono hidden sm:table-cell",children:C.points_against.toFixed(1)}),r.jsxs(Y,{className:"text-right font-mono hidden md:table-cell",children:[(C.win_percentage*100).toFixed(1),"%"]}),r.jsx(Y,{className:"hidden lg:table-cell",children:r.jsxs("div",{className:"flex items-center space-x-1",children:[b(C.playoff_eligible,C.is_conference_champion),r.jsxs(te,{variant:"outline",className:"text-xs",children:["C",C.conference_rank]})]})})]},C.team_id))})]})})})]})]})};var Xh="Collapsible",[N3,Q7]=as(Xh),[C3,cv]=N3(Xh),iE=m.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:s,defaultOpen:a,disabled:i,onOpenChange:o,...l}=e,[c,d]=Mr({prop:s,defaultProp:a??!1,onChange:o,caller:Xh});return r.jsx(C3,{scope:n,disabled:i,contentId:Rr(),open:c,onOpenToggle:m.useCallback(()=>d(u=>!u),[d]),children:r.jsx(ve.div,{"data-state":uv(c),"data-disabled":i?"":void 0,...l,ref:t})})});iE.displayName=Xh;var oE="CollapsibleTrigger",E3=m.forwardRef((e,t)=>{const{__scopeCollapsible:n,...s}=e,a=cv(oE,n);return r.jsx(ve.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":uv(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...s,ref:t,onClick:xe(e.onClick,a.onOpenToggle)})});E3.displayName=oE;var dv="CollapsibleContent",lE=m.forwardRef((e,t)=>{const{forceMount:n,...s}=e,a=cv(dv,e.__scopeCollapsible);return r.jsx(xr,{present:n||a.open,children:({present:i})=>r.jsx(T3,{...s,ref:t,present:i})})});lE.displayName=dv;var T3=m.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:s,children:a,...i}=e,o=cv(dv,n),[l,c]=m.useState(s),d=m.useRef(null),u=Ke(t,d),h=m.useRef(0),f=h.current,g=m.useRef(0),j=g.current,v=o.open||l,w=m.useRef(v),p=m.useRef(void 0);return m.useEffect(()=>{const x=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(x)},[]),Rt(()=>{const x=d.current;if(x){p.current=p.current||{transitionDuration:x.style.transitionDuration,animationName:x.style.animationName},x.style.transitionDuration="0s",x.style.animationName="none";const y=x.getBoundingClientRect();h.current=y.height,g.current=y.width,w.current||(x.style.transitionDuration=p.current.transitionDuration,x.style.animationName=p.current.animationName),c(s)}},[o.open,s]),r.jsx(ve.div,{"data-state":uv(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!v,...i,ref:u,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":j?`${j}px`:void 0,...e.style},children:v&&a})});function uv(e){return e?"open":"closed"}var k3=iE;const P3=k3,R3=lE;class A3{static async getHybridMatchups(t,n,s){try{console.log(" Getting hybrid matchups:",{seasonId:t,week:n,conferenceId:s});const a=await this.getDatabaseMatchups(t,n,s);if(console.log(` Found ${a.length} database matchups`),a.length===0)return console.warn("No database matchups found for the specified criteria"),[];const i=await this.getConferences(t),o=await this.getTeams(),l=await this.getTeamConferenceJunctions();console.log(` Loaded ${i.length} conferences, ${o.length} teams`);const c=[];for(const d of a)try{console.log(` Processing matchup: Team ${d.team1_id} vs Team ${d.team2_id}`);const u=i.find(k=>k.id===d.conference_id);if(!u){console.warn(`Conference ${d.conference_id} not found for matchup ${d.id}`);continue}const h=o.find(k=>k.id===d.team1_id),f=o.find(k=>k.id===d.team2_id);if(!h||!f){console.warn(`Teams not found: team1_id=${d.team1_id}, team2_id=${d.team2_id}`);continue}let g=l.find(k=>k.team_id===h.id&&k.conference_id===u.id),j=l.find(k=>k.team_id===f.id&&k.conference_id===u.id);if(g||(console.log(` Team ${h.id} not in conference ${u.id}, searching home conference`),g=l.find(k=>k.team_id===h.id),g&&console.log(` Found team ${h.id} in conference ${g.conference_id}`)),j||(console.log(` Team ${f.id} not in conference ${u.id}, searching home conference`),j=l.find(k=>k.team_id===f.id),j&&console.log(` Found team ${f.id} in conference ${j.conference_id}`)),!g||!j){console.warn(`Roster mappings not found for teams ${h.id}, ${f.id} (searched all conferences)`);continue}const v=g.conference_id!==j.conference_id;let w,p,x,y,b,_;if(v){console.log(` Processing interconference matchup: Team ${h.id} (conf ${g.conference_id}) vs Team ${f.id} (conf ${j.conference_id})`);const k=i.find(U=>U.id===g.conference_id),R=i.find(U=>U.id===j.conference_id);if(!k||!R){console.warn("Conference details not found for interconference matchup");continue}const[A,$]=await Promise.all([nt.fetchMatchups(k.league_id,parseInt(d.week)),nt.fetchMatchups(R.league_id,parseInt(d.week))]),[M,V]=await Promise.all([nt.fetchLeagueRosters(k.league_id),nt.fetchLeagueRosters(R.league_id)]),[B,L]=await Promise.all([nt.fetchLeagueUsers(k.league_id),nt.fetchLeagueUsers(R.league_id)]);w=A.find(U=>U.roster_id===g.roster_id),p=$.find(U=>U.roster_id===j.roster_id),x=M,y=V,b=B,_=L}else{const k=await nt.fetchMatchups(u.league_id,parseInt(d.week)),R=await nt.fetchLeagueRosters(u.league_id),A=await nt.fetchLeagueUsers(u.league_id);w=k.find($=>$.roster_id===g.roster_id),p=k.find($=>$.roster_id===j.roster_id),x=R,y=R,b=A,_=A}if(!w||!p){console.warn(`Sleeper matchups not found for roster IDs ${g.roster_id}, ${j.roster_id}`);continue}if(!v&&w.matchup_id!==p.matchup_id){console.warn(`Teams are not matched against each other in Sleeper: ${w.matchup_id} vs ${p.matchup_id}`);continue}const E=await this.buildMatchupTeamsFromDatabaseInterconference(h,f,w,p,x,y,b,_,g.roster_id,j.roster_id),C=this.determineMatchupStatusFromSleeper(w,p),N={matchup_id:w.matchup_id||0,conference:u,teams:E,status:C,rawData:{dbMatchup:d,team1SleeperMatchup:w,team2SleeperMatchup:p,isOverride:d.manual_override||!1}};c.push(N),console.log(` Successfully processed matchup ${d.id}`)}catch(u){console.error(`Error processing matchup ${d.id}:`,u)}return console.log(` Processed ${c.length} hybrid matchups from ${a.length} database records`),c}catch(a){return console.error("Error in getHybridMatchups:",a),[]}}static async getConferences(t){try{return(await ie.getConferences({filters:[{column:"season_id",operator:"eq",value:t}],limit:50})).data||[]}catch(n){return console.error("Error in getConferences:",n),[]}}static async getTeams(){try{return(await ie.getTeams({limit:500})).data||[]}catch(t){return console.error("Error in getTeams:",t),[]}}static async getTeamConferenceJunctions(){try{return(await ie.getTeamConferenceJunctions({limit:1e3})).data||[]}catch(t){return console.error("Error in getTeamConferenceJunctions:",t),[]}}static async getDatabaseMatchups(t,n,s){var a,i;try{if(s){console.log(` Filtering matchups for specific conference: ${s}`);const u=[{column:"week",operator:"eq",value:n.toString()},{column:"conference_id",operator:"eq",value:s}],h=await ie.getMatchups({filters:u,limit:100});return console.log(` Found ${((a=h.data)==null?void 0:a.length)||0} matchups for conference ${s}`),h.data||[]}const l=(await this.getConferences(t)).map(u=>u.id);if(l.length===0)return console.warn("No conferences found for season:",t),[];const c=[{column:"week",operator:"eq",value:n.toString()},{column:"conference_id",operator:"in",value:l}],d=await ie.getMatchups({filters:c,limit:100});return console.log(` Found ${((i=d.data)==null?void 0:i.length)||0} matchups for season ${t}, week ${n}`),d.data||[]}catch(o){return console.error("Error in getDatabaseMatchups:",o),[]}}static async getMatchupOverrides(t,n,s){var a;try{console.log("Fetching matchup overrides:",{seasonId:t,week:n,conferenceId:s});const i=[{column:"season_id",operator:"eq",value:t},{column:"week",operator:"eq",value:n},{column:"is_active",operator:"eq",value:!0}];s&&i.push({column:"conference_id",operator:"eq",value:s});const o=await ie.getMatchupAdminOverrides({filters:i,limit:100});return console.log("Matchup overrides found:",((a=o.data)==null?void 0:a.length)||0),o.data||[]}catch(i){return console.error("Error in getMatchupOverrides:",i),[]}}static async getOrganizedMatchups(t,n,s){try{console.log("Getting organized matchups:",{seasonId:t,week:n,conferenceId:s});const a=await this.getDatabaseMatchups(t,n,s),i=await this.getConferences(t),o=await this.getTeams(),l=await this.getMatchupOverrides(t,n,s);return console.log("Found data:",{matchups:a.length,conferences:i.length,teams:o.length,overrides:l.length}),this.getHybridMatchups(t,n,s)}catch(a){return console.error("Error in getOrganizedMatchups:",a),[]}}static async buildMatchupTeamsSimple(t,n,s,a,i){try{const o=[],l=n.find(h=>h.roster_id===t.roster_id);if(!l)return console.warn(`No roster found for roster_id: ${t.roster_id}`),[];const c=s.find(h=>h.user_id===l.owner_id),d=a.find(h=>h.owner_id===l.owner_id),u={roster_id:t.roster_id,points:t.points||0,projected_points:t.projected_points||0,owner:c||null,roster:l||null,team:d||null,players_points:t.players_points||{},starters_points:t.starters_points||[],matchup_starters:t.starters||[]};return o.push(u),o}catch(o){return console.error("Error building simple matchup teams:",o),[]}}static determineMatchupStatusSimple(t){return t.points&&t.points>0?"completed":"upcoming"}static async buildMatchupTeamsFromDatabase(t,n,s,a,i,o,l,c){try{const d=[],u=i.find(w=>w.roster_id===l),h=o.find(w=>w.user_id===(u==null?void 0:u.owner_id)),f={roster_id:l,points:s.points||0,projected_points:s.projected_points||0,owner:h||null,roster:u||null,team:t,players_points:s.players_points||{},starters_points:s.starters_points||[],matchup_starters:s.starters||[]},g=i.find(w=>w.roster_id===c),j=o.find(w=>w.user_id===(g==null?void 0:g.owner_id)),v={roster_id:c,points:a.points||0,projected_points:a.projected_points||0,owner:j||null,roster:g||null,team:n,players_points:a.players_points||{},starters_points:a.starters_points||[],matchup_starters:a.starters||[]};return d.push(f,v),d}catch(d){return console.error("Error building matchup teams from database:",d),[]}}static async buildMatchupTeamsFromDatabaseInterconference(t,n,s,a,i,o,l,c,d,u){try{const h=[],f=i.find(x=>x.roster_id===d),g=l.find(x=>x.user_id===(f==null?void 0:f.owner_id)),j={roster_id:d,points:s.points||0,projected_points:s.projected_points||0,owner:g||null,roster:f||null,team:t,players_points:s.players_points||{},starters_points:s.starters_points||[],matchup_starters:s.starters||[]},v=o.find(x=>x.roster_id===u),w=c.find(x=>x.user_id===(v==null?void 0:v.owner_id)),p={roster_id:u,points:a.points||0,projected_points:a.projected_points||0,owner:w||null,roster:v||null,team:n,players_points:a.players_points||{},starters_points:a.starters_points||[],matchup_starters:a.starters||[]};return h.push(j,p),h}catch(h){return console.error("Error building interconference matchup teams from database:",h),[]}}static determineMatchupStatusFromSleeper(t,n){const s=t.points&&t.points>0,a=n.points&&n.points>0;return s&&a?"completed":s||a?"live":"upcoming"}}const T0=()=>["QB","RB","RB","WR","WR","WR","TE","FLEX","SUPER_FLEX"],k0=e=>({QB:"QB",RB:"RB",WR:"WR",TE:"TE",FLEX:"W/R/T",SUPER_FLEX:"Q/W/R/T",K:"K",DEF:"DEF"})[e]||e,$d=(e,t)=>{const n=t[e];return n?{name:`${n.first_name||""} ${n.last_name||""}`.trim()||"Unknown",position:n.position||"N/A",team:n.team||"N/A"}:{name:"Unknown Player",position:"N/A",team:"N/A"}},D3=()=>{var R;console.log(" MatchupsPage component mounting...");const{selectedSeason:e,selectedConference:t,currentSeasonConfig:n,seasonConfigs:s}=Gs(),{toast:a}=en(),[i,o]=m.useState(1),[l,c]=m.useState(1),[d,u]=m.useState(new Set),[h,f]=m.useState([]),[g,j]=m.useState({}),[v,w]=m.useState(!0),[p,x]=m.useState(!1),[y,b]=m.useState([]),_=async()=>{if(!e||!n||p){console.log(" Skipping matchup fetch - missing data or already refreshing"),w(!1);return}x(!0),b([]);try{console.log(` Fetching matchups for season ${e}, week ${i}, conference: ${t||"all"}`);const A=s.find(B=>B.year===e);if(!A)throw new Error(`Season ${e} not found`);const $=typeof A.seasonId=="string"?parseInt(A.seasonId):A.seasonId||e;let M;if(t){const B=A.conferences.find(L=>L.id===t);M=B==null?void 0:B.dbConferenceId,console.log(` Conference filter: ${t} -> DB conferenceId: ${M}`)}const V=await A3.getHybridMatchups($,i,M);if(console.log(` Loaded ${V.length} matchups`),console.log("Conference filter applied:",{selectedConference:t,conferenceId:M,matchupConferences:V.map(B=>B.conference.conference_name)}),f(V),Object.keys(g).length===0)try{const B=await ie.getAllPlayersForMapping([{column:"playing_status",operator:"eq",value:"Active"},{column:"position",operator:"in",value:["QB","RB","WR","TE","K","DEF"]}]),L={};B.forEach(U=>{var D;if(U.sleeper_id){const S=U.player_name.split(" "),T=S[0]||"",P=S.slice(1).join(" ")||"";L[U.sleeper_id]={player_id:U.sleeper_id,first_name:T,last_name:P,position:U.position||"",team:U.nfl_team||"",jersey_number:U.number||0,status:U.playing_status||"",injury_status:U.injury_status||"",age:U.age||0,height:((D=U.height)==null?void 0:D.toString())||"",weight:U.weight||0,years_exp:0,college:U.college||""}}}),j(L)}catch(B){console.warn("Could not load players data:",B)}}catch(A){console.error("Error fetching matchups:",A);const $=A instanceof Error?A.message:"Unknown error";b([$]),a({title:"Error Loading Matchups",description:`Failed to load matchup data: ${$}`,variant:"destructive"}),f([])}finally{x(!1),w(!1)}},E=async()=>{try{console.log(" Loading current NFL week...");const A=await nt.getCurrentNFLWeek();console.log(` Current NFL week: ${A}`),c(A),o(A)}catch(A){console.error("Error getting current week:",A),c(1),o(1)}};m.useEffect(()=>{E()},[]),m.useEffect(()=>{e&&n?(w(!0),_()):w(!1)},[i,t,e,n]);const C=A=>{const $=new Set(d);$.has(A)?$.delete(A):$.add(A),u($)},N=A=>{switch(A){case"live":return r.jsx(te,{className:"bg-green-500 hover:bg-green-600",children:"Live"});case"completed":return r.jsx(te,{variant:"secondary",children:"Final"});case"upcoming":return r.jsx(te,{variant:"outline",children:"Upcoming"});default:return r.jsx(te,{variant:"secondary",children:A})}},k=A=>{if(A.status!=="completed")return null;const[$,M]=A.teams;return M?$.points>M.points?$:M:$};return v?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(hc,{className:"h-6 w-6 text-primary"}),r.jsx("h1",{className:"text-3xl font-bold",children:"Matchups"})]}),r.jsx(H,{children:r.jsxs(Q,{className:"py-8 text-center",children:[r.jsx(Ye,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-primary"}),r.jsx("p",{children:"Loading matchup data..."})]})})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(hc,{className:"h-6 w-6 text-primary"}),r.jsx("h1",{className:"text-3xl font-bold",children:"Matchups"})]}),r.jsxs("p",{className:"text-muted-foreground",children:[e," Season  Week ",i,"  ",t?((R=n.conferences.find(A=>A.id===t))==null?void 0:R.name)||"Selected Conference":"All Conferences"]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs(Nt,{value:i.toString(),onValueChange:A=>o(parseInt(A)),children:[r.jsx(gt,{className:"w-32",children:r.jsx(Ct,{})}),r.jsx(xt,{children:Array.from({length:18},(A,$)=>$+1).map(A=>r.jsx(Pe,{value:A.toString(),children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("span",{children:["Week ",A]}),A===l&&r.jsx(te,{variant:"outline",className:"text-xs",children:"Current"})]})},A))})]}),i===l&&r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[r.jsx(Qn,{className:"h-4 w-4"}),r.jsx("span",{children:"Current week"})]})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs(se,{variant:"outline",size:"sm",onClick:()=>_(),disabled:p,children:[r.jsx(Ye,{className:`h-4 w-4 ${p?"animate-spin":""}`}),"Refresh"]}),r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[r.jsx(Zt,{className:"h-4 w-4"}),r.jsxs("span",{children:[h.length," matchups"]})]})]})]}),y.length>0&&r.jsxs(H,{className:"border-l-4 border-l-red-500",children:[r.jsx(Z,{className:"pb-2",children:r.jsxs(ee,{className:"text-sm flex items-center space-x-2",children:[r.jsx(We,{className:"h-4 w-4 text-red-500"}),r.jsxs("span",{children:["API Errors (",y.length,")"]})]})}),r.jsx(Q,{children:r.jsx("div",{className:"space-y-1",children:y.map((A,$)=>r.jsx("div",{className:"text-sm text-red-600 bg-red-50 p-2 rounded",children:A},$))})})]}),r.jsxs("div",{className:"grid gap-3",children:[[...h].sort((A,$)=>A.conference.conference_name.localeCompare($.conference.conference_name)).map(A=>{var U,D,S,T,P,F,I,G,le,X,W,q;const[$,M]=A.teams,V=k(A),B=`${A.conference.id}-${A.matchup_id}`,L=d.has(B);return r.jsxs(H,{className:"hover:shadow-md transition-shadow",children:[r.jsx(Z,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ee,{className:"text-base",children:A.conference.conference_name}),N(A.status)]}),r.jsx(se,{variant:"ghost",size:"sm",onClick:()=>C(B),className:"h-8 w-8 p-0",children:L?r.jsx(Px,{className:"h-4 w-4"}):r.jsx(Ch,{className:"h-4 w-4"})})]})}),r.jsxs(Q,{className:"pt-0 space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-3 gap-2 items-center",children:[r.jsxs("div",{className:"text-right space-y-1",children:[r.jsx("div",{className:"font-medium text-sm",children:((U=$.team)==null?void 0:U.team_name)||((D=$.owner)==null?void 0:D.display_name)||((S=$.owner)==null?void 0:S.username)||"Unknown Team"}),r.jsx("div",{className:`text-lg font-bold ${(V==null?void 0:V.roster_id)===$.roster_id?"text-green-600":""}`,children:A.status==="upcoming"?"--":($.points??0).toFixed(1)})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"VS"}),A.status==="completed"&&V&&r.jsx($t,{className:"h-4 w-4 mx-auto mt-1 text-yellow-500"})]}),r.jsxs("div",{className:"text-left space-y-1",children:[r.jsx("div",{className:"font-medium text-sm",children:((T=M==null?void 0:M.team)==null?void 0:T.team_name)||((P=M==null?void 0:M.owner)==null?void 0:P.display_name)||((F=M==null?void 0:M.owner)==null?void 0:F.username)||"TBD"}),r.jsx("div",{className:`text-lg font-bold ${(V==null?void 0:V.roster_id)===(M==null?void 0:M.roster_id)?"text-green-600":""}`,children:A.status==="upcoming"?"--":((M==null?void 0:M.points)??0).toFixed(1)})]})]}),r.jsx(P3,{open:L,children:r.jsx(R3,{className:"space-y-4",children:r.jsx("div",{className:"border-t pt-4",children:r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("h4",{className:"font-semibold text-sm mb-3 flex items-center",children:[r.jsx(Zt,{className:"h-4 w-4 mr-2"}),((I=$.team)==null?void 0:I.team_name)||((G=$.owner)==null?void 0:G.display_name)||"Team 1"," Lineup"]}),$.roster?r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("h5",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide mb-2",children:"Starters"}),r.jsx("div",{className:"space-y-1",children:(le=$.matchup_starters)==null?void 0:le.map((K,O)=>{var we;const ae=$d(K,g),oe=((we=$.players_points)==null?void 0:we[K])||0,ge=T0()[O]||"FLEX";return r.jsxs("div",{className:"flex justify-between items-center py-1 px-2 bg-gray-50 rounded text-xs",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(te,{variant:"outline",className:"text-xs px-1 py-0",children:k0(ge)}),r.jsx("span",{className:"font-medium",children:ae.name}),r.jsxs("span",{className:"text-muted-foreground",children:["(",ae.position," - ",ae.team,")"]})]}),r.jsx("span",{className:"font-bold",children:oe.toFixed(1)})]},`${K}-${O}`)})})]}),$.roster.players&&r.jsxs("div",{children:[r.jsx("h5",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide mb-2",children:"Bench"}),r.jsx("div",{className:"space-y-1",children:$.roster.players.filter(K=>{var O;return!((O=$.matchup_starters)!=null&&O.includes(K))}).map(K=>{var oe;const O=$d(K,g),ae=((oe=$.players_points)==null?void 0:oe[K])||0;return r.jsxs("div",{className:"flex justify-between items-center py-1 px-2 bg-gray-25 rounded text-xs",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"font-medium",children:O.name}),r.jsxs("span",{className:"text-muted-foreground",children:["(",O.position," - ",O.team,")"]})]}),r.jsx("span",{className:"text-muted-foreground",children:ae.toFixed(1)})]},K)})})]})]}):r.jsx("p",{className:"text-sm text-muted-foreground",children:"No roster data available"})]}),M&&r.jsxs("div",{children:[r.jsxs("h4",{className:"font-semibold text-sm mb-3 flex items-center",children:[r.jsx(Zt,{className:"h-4 w-4 mr-2"}),((X=M.team)==null?void 0:X.team_name)||((W=M.owner)==null?void 0:W.display_name)||"Team 2"," Lineup"]}),M.roster?r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("h5",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide mb-2",children:"Starters"}),r.jsx("div",{className:"space-y-1",children:(q=M.matchup_starters)==null?void 0:q.map((K,O)=>{var we;const ae=$d(K,g),oe=((we=M.players_points)==null?void 0:we[K])||0,ge=T0()[O]||"FLEX";return r.jsxs("div",{className:"flex justify-between items-center py-1 px-2 bg-gray-50 rounded text-xs",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(te,{variant:"outline",className:"text-xs px-1 py-0",children:k0(ge)}),r.jsx("span",{className:"font-medium",children:ae.name}),r.jsxs("span",{className:"text-muted-foreground",children:["(",ae.position," - ",ae.team,")"]})]}),r.jsx("span",{className:"font-bold",children:oe.toFixed(1)})]},`${K}-${O}`)})})]}),M.roster.players&&r.jsxs("div",{children:[r.jsx("h5",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide mb-2",children:"Bench"}),r.jsx("div",{className:"space-y-1",children:M.roster.players.filter(K=>{var O;return!((O=M.matchup_starters)!=null&&O.includes(K))}).map(K=>{var oe;const O=$d(K,g),ae=((oe=M.players_points)==null?void 0:oe[K])||0;return r.jsxs("div",{className:"flex justify-between items-center py-1 px-2 bg-gray-25 rounded text-xs",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"font-medium",children:O.name}),r.jsxs("span",{className:"text-muted-foreground",children:["(",O.position," - ",O.team,")"]})]}),r.jsx("span",{className:"text-muted-foreground",children:ae.toFixed(1)})]},K)})})]})]}):r.jsx("p",{className:"text-sm text-muted-foreground",children:"No roster data available"})]})]})})})})]})]},B)}),h.length===0&&r.jsx(H,{children:r.jsxs(Q,{className:"py-8 text-center",children:[r.jsx(We,{className:"h-8 w-8 mx-auto mb-4 text-muted-foreground"}),r.jsx("p",{className:"text-muted-foreground",children:"No matchups found for the selected filters."})]})})]})]})},Jt=m.forwardRef(({className:e,type:t,...n},s)=>r.jsx("input",{type:t,className:me("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...n}));Jt.displayName="Input";var cE={exports:{}},dE={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Io=m;function $3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var I3=typeof Object.is=="function"?Object.is:$3,M3=Io.useState,L3=Io.useEffect,O3=Io.useLayoutEffect,F3=Io.useDebugValue;function U3(e,t){var n=t(),s=M3({inst:{value:n,getSnapshot:t}}),a=s[0].inst,i=s[1];return O3(function(){a.value=n,a.getSnapshot=t,mm(a)&&i({inst:a})},[e,n,t]),L3(function(){return mm(a)&&i({inst:a}),e(function(){mm(a)&&i({inst:a})})},[e]),F3(n),n}function mm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!I3(e,n)}catch{return!0}}function B3(e,t){return t()}var z3=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?B3:U3;dE.useSyncExternalStore=Io.useSyncExternalStore!==void 0?Io.useSyncExternalStore:z3;cE.exports=dE;var V3=cE.exports;function W3(){return V3.useSyncExternalStore(H3,()=>!0,()=>!1)}function H3(){return()=>{}}var hv="Avatar",[q3,Y7]=as(hv),[K3,uE]=q3(hv),hE=m.forwardRef((e,t)=>{const{__scopeAvatar:n,...s}=e,[a,i]=m.useState("idle");return r.jsx(K3,{scope:n,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:r.jsx(ve.span,{...s,ref:t})})});hE.displayName=hv;var fE="AvatarImage",mE=m.forwardRef((e,t)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:a=()=>{},...i}=e,o=uE(fE,n),l=G3(s,i),c=ns(d=>{a(d),o.onImageLoadingStatusChange(d)});return Rt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?r.jsx(ve.img,{...i,ref:t,src:s}):null});mE.displayName=fE;var pE="AvatarFallback",gE=m.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:s,...a}=e,i=uE(pE,n),[o,l]=m.useState(s===void 0);return m.useEffect(()=>{if(s!==void 0){const c=window.setTimeout(()=>l(!0),s);return()=>window.clearTimeout(c)}},[s]),o&&i.imageLoadingStatus!=="loaded"?r.jsx(ve.span,{...a,ref:t}):null});gE.displayName=pE;function P0(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function G3(e,{referrerPolicy:t,crossOrigin:n}){const s=W3(),a=m.useRef(null),i=s?(a.current||(a.current=new window.Image),a.current):null,[o,l]=m.useState(()=>P0(i,e));return Rt(()=>{l(P0(i,e))},[i,e]),Rt(()=>{const c=h=>()=>{l(h)};if(!i)return;const d=c("loaded"),u=c("error");return i.addEventListener("load",d),i.addEventListener("error",u),t&&(i.referrerPolicy=t),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",d),i.removeEventListener("error",u)}},[i,n,t]),o}var xE=hE,vE=mE,yE=gE;const fv=m.forwardRef(({className:e,...t},n)=>r.jsx(xE,{ref:n,className:me("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));fv.displayName=xE.displayName;const mv=m.forwardRef(({className:e,...t},n)=>r.jsx(vE,{ref:n,className:me("aspect-square h-full w-full",e),...t}));mv.displayName=vE.displayName;const pv=m.forwardRef(({className:e,...t},n)=>r.jsx(yE,{ref:n,className:me("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));pv.displayName=yE.displayName;const Q3=()=>{var p;const{selectedSeason:e,selectedConference:t,currentSeasonConfig:n}=Gs(),{toast:s}=en(),[a,i]=m.useState(""),[o,l]=m.useState([]),[c,d]=m.useState(!0),[u,h]=m.useState(null),f=async()=>{var x;d(!0),h(null);try{console.log("Fetching teams data for season:",e);const y=t?n.conferences.filter($=>$.id===t):n.conferences;console.log("Conferences to fetch:",y);const{data:b,error:_}=await window.ezsite.apis.tablePage("12852",{PageNo:1,PageSize:100,OrderByField:"team_name",IsAsc:!0,Filters:[]});if(_)throw new Error(_);const E=(b==null?void 0:b.List)||[];console.log("Database teams:",E);const{data:C,error:N}=await window.ezsite.apis.tablePage("12820",{PageNo:1,PageSize:50,OrderByField:"conference_name",IsAsc:!0,Filters:[]});if(N)throw new Error(N);const k=(C==null?void 0:C.List)||[];console.log("Database conferences:",k);const R=[];for(const $ of y)try{console.log(`Fetching roster data for league: ${$.leagueId}`);const M=await fetch(`https://api.sleeper.app/v1/league/${$.leagueId}/rosters`);if(!M.ok){console.warn(`Failed to fetch roster data for league ${$.leagueId}:`,M.statusText);continue}const V=await M.json();console.log(`Roster data for ${$.name}:`,V),R.push(...V.map(B=>({...B,league_id:$.leagueId})))}catch(M){console.warn(`Error fetching roster data for league ${$.leagueId}:`,M)}console.log("All roster data:",R);const A=[];for(const $ of E){const M=R.find(V=>V.owner_id===$.owner_id);if(M){const V=y.find(L=>L.leagueId===M.league_id),B=g(M.settings.wins,M.settings.losses);A.push({id:$.id.toString(),teamName:$.team_name,ownerName:$.owner_name,coOwnerName:$.co_owner_name||void 0,ownerAvatar:$.team_logo_url||null,conference:(V==null?void 0:V.name)||"Unknown Conference",record:{wins:M.settings.wins,losses:M.settings.losses,ties:M.settings.ties},pointsFor:M.settings.fpts+M.settings.fpts_decimal/100,pointsAgainst:M.settings.fpts_against+M.settings.fpts_against_decimal/100,rank:0,streak:B,rosterCount:((x=M.players)==null?void 0:x.length)||0,waiversCount:M.settings.total_moves||0,tradesCount:0,rosterId:M.roster_id,leagueId:M.league_id})}else console.warn(`No matching roster found for team: ${$.team_name} (owner_id: ${$.owner_id})`)}A.sort(($,M)=>$.record.wins!==M.record.wins?M.record.wins-$.record.wins:M.pointsFor-$.pointsFor),A.forEach(($,M)=>{$.rank=M+1}),console.log("Final combined teams data:",A),l(A)}catch(y){console.error("Error fetching teams data:",y),h(y instanceof Error?y.message:"Failed to load teams data"),s({title:"Error Loading Teams",description:"Failed to load team data. Please try again.",variant:"destructive"})}finally{d(!1)}},g=(x,y)=>x>y?`W${Math.min(x-y,5)}`:y>x?`L${Math.min(y-x,5)}`:"T1";m.useEffect(()=>{f()},[e,t]);const j=o.filter(x=>a===""||x.teamName.toLowerCase().includes(a.toLowerCase())||x.ownerName.toLowerCase().includes(a.toLowerCase())||x.coOwnerName&&x.coOwnerName.toLowerCase().includes(a.toLowerCase())),v=(x,y)=>{const b=x/(x+y);return b>=.7?"default":b>=.5?"secondary":"destructive"},w=x=>x.startsWith("W")?"text-green-600":x.startsWith("L")?"text-red-600":"text-muted-foreground";return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Zt,{className:"h-6 w-6 text-primary"}),r.jsx("h1",{className:"text-3xl font-bold",children:"Teams"})]}),r.jsxs("p",{className:"text-muted-foreground",children:[e," Season  ",t?(p=n.conferences.find(x=>x.id===t))==null?void 0:p.name:"All Conferences","  ",j.length," teams"]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("div",{className:"relative flex-1 max-w-md",children:[r.jsx(Ax,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(Jt,{placeholder:"Search teams or owners...",value:a,onChange:x=>i(x.target.value),className:"pl-10"})]}),r.jsx(se,{variant:"outline",onClick:()=>i(""),children:"Clear"}),r.jsxs(se,{variant:"outline",onClick:f,disabled:c,children:[r.jsx(Ye,{className:`h-4 w-4 mr-2 ${c?"animate-spin":""}`}),"Refresh"]})]}),c&&r.jsx(H,{children:r.jsxs(Q,{className:"py-12 text-center",children:[r.jsx(Ye,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4 animate-spin"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Loading Teams"}),r.jsx("p",{className:"text-muted-foreground",children:"Fetching team data from Sleeper API..."})]})}),u&&!c&&r.jsx(H,{children:r.jsxs(Q,{className:"py-12 text-center",children:[r.jsx(We,{className:"h-12 w-12 mx-auto text-destructive mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Error Loading Teams"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:u}),r.jsxs(se,{onClick:f,children:[r.jsx(Ye,{className:"h-4 w-4 mr-2"}),"Try Again"]})]})}),!c&&!u&&r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.map(x=>r.jsxs(H,{className:"hover:shadow-lg transition-shadow",children:[r.jsx(Z,{className:"pb-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs(fv,{className:"h-12 w-12",children:[r.jsx(mv,{src:x.ownerAvatar||void 0}),r.jsx(pv,{className:"bg-primary/10",children:x.ownerName.split(" ").map(y=>y[0]).join("").toUpperCase()})]}),r.jsxs("div",{children:[r.jsx(ee,{className:"text-lg leading-tight",children:x.teamName}),r.jsxs(he,{children:[x.ownerName,x.coOwnerName&&` & ${x.coOwnerName}`]})]})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[x.rank<=3&&r.jsx($t,{className:"h-4 w-4 text-yellow-500"}),r.jsxs("span",{className:"text-sm font-semibold",children:["#",x.rank]})]})]})}),r.jsxs(Q,{className:"space-y-4",children:[r.jsx(te,{variant:"outline",className:"text-xs",children:x.conference}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Record"}),r.jsxs(te,{variant:v(x.record.wins,x.record.losses),children:[x.record.wins,"-",x.record.losses,x.record.ties>0&&`-${x.record.ties}`]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Streak"}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Bc,{className:`h-4 w-4 ${w(x.streak)}`}),r.jsx("span",{className:`font-semibold ${w(x.streak)}`,children:x.streak})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"Points For"}),r.jsx("p",{className:"font-semibold",children:x.pointsFor.toFixed(1)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"Points Against"}),r.jsx("p",{className:"font-semibold",children:x.pointsAgainst.toFixed(1)})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs text-muted-foreground",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"font-medium",children:x.rosterCount}),r.jsx("p",{children:"Roster"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"font-medium",children:x.waiversCount}),r.jsx("p",{children:"Moves"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("p",{className:"font-medium",children:["#",x.rosterId]}),r.jsx("p",{children:"Roster ID"})]})]}),r.jsx(Lt,{to:`/teams/${x.id}`,className:"w-full",children:r.jsxs(se,{variant:"outline",className:"w-full",children:[r.jsx(Rx,{className:"mr-2 h-4 w-4"}),"View Team Details"]})})]})]},x.id))}),!c&&!u&&j.length===0&&r.jsx(H,{children:r.jsxs(Q,{className:"py-12 text-center",children:[r.jsx(Zt,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No teams found"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:"No teams match your current search criteria."}),r.jsx(se,{variant:"outline",onClick:()=>i(""),children:"Clear Search"})]})}),!c&&!u&&j.length>0&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(H,{children:r.jsxs(Z,{className:"pb-2",children:[r.jsx(he,{children:"Average Points For"}),r.jsx(ee,{className:"text-2xl",children:(j.reduce((x,y)=>x+y.pointsFor,0)/j.length).toFixed(1)})]})}),r.jsx(H,{children:r.jsxs(Z,{className:"pb-2",children:[r.jsx(he,{children:"Most Active Team"}),r.jsx(ee,{className:"text-lg",children:j.reduce((x,y)=>x.waiversCount>y.waiversCount?x:y).teamName})]})}),r.jsx(H,{children:r.jsxs(Z,{className:"pb-2",children:[r.jsx(he,{children:"Total Moves"}),r.jsx(ee,{className:"text-2xl",children:j.reduce((x,y)=>x+y.waiversCount,0)})]})})]})]})};var pm="rovingFocusGroup.onEntryFocus",Y3={bubbles:!1,cancelable:!0},Kc="RovingFocusGroup",[sg,wE,J3]=Nx(Kc),[X3,jE]=as(Kc,[J3]),[Z3,e6]=X3(Kc),bE=m.forwardRef((e,t)=>r.jsx(sg.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(sg.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(t6,{...e,ref:t})})}));bE.displayName=Kc;var t6=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...h}=e,f=m.useRef(null),g=Ke(t,f),j=iv(i),[v,w]=Mr({prop:o,defaultProp:l??null,onChange:c,caller:Kc}),[p,x]=m.useState(!1),y=ns(d),b=wE(n),_=m.useRef(!1),[E,C]=m.useState(0);return m.useEffect(()=>{const N=f.current;if(N)return N.addEventListener(pm,y),()=>N.removeEventListener(pm,y)},[y]),r.jsx(Z3,{scope:n,orientation:s,dir:j,loop:a,currentTabStopId:v,onItemFocus:m.useCallback(N=>w(N),[w]),onItemShiftTab:m.useCallback(()=>x(!0),[]),onFocusableItemAdd:m.useCallback(()=>C(N=>N+1),[]),onFocusableItemRemove:m.useCallback(()=>C(N=>N-1),[]),children:r.jsx(ve.div,{tabIndex:p||E===0?-1:0,"data-orientation":s,...h,ref:g,style:{outline:"none",...e.style},onMouseDown:xe(e.onMouseDown,()=>{_.current=!0}),onFocus:xe(e.onFocus,N=>{const k=!_.current;if(N.target===N.currentTarget&&k&&!p){const R=new CustomEvent(pm,Y3);if(N.currentTarget.dispatchEvent(R),!R.defaultPrevented){const A=b().filter(L=>L.focusable),$=A.find(L=>L.active),M=A.find(L=>L.id===v),B=[$,M,...A].filter(Boolean).map(L=>L.ref.current);NE(B,u)}}_.current=!1}),onBlur:xe(e.onBlur,()=>x(!1))})})}),_E="RovingFocusGroupItem",SE=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=Rr(),d=i||c,u=e6(_E,n),h=u.currentTabStopId===d,f=wE(n),{onFocusableItemAdd:g,onFocusableItemRemove:j,currentTabStopId:v}=u;return m.useEffect(()=>{if(s)return g(),()=>j()},[s,g,j]),r.jsx(sg.ItemSlot,{scope:n,id:d,focusable:s,active:a,children:r.jsx(ve.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...l,ref:t,onMouseDown:xe(e.onMouseDown,w=>{s?u.onItemFocus(d):w.preventDefault()}),onFocus:xe(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:xe(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){u.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const p=r6(w,u.orientation,u.dir);if(p!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let y=f().filter(b=>b.focusable).map(b=>b.ref.current);if(p==="last")y.reverse();else if(p==="prev"||p==="next"){p==="prev"&&y.reverse();const b=y.indexOf(w.currentTarget);y=u.loop?a6(y,b+1):y.slice(b+1)}setTimeout(()=>NE(y))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:v!=null}):o})})});SE.displayName=_E;var n6={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function s6(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function r6(e,t,n){const s=s6(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return n6[s]}function NE(e,t=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:t}),document.activeElement!==n))return}function a6(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var i6=bE,o6=SE,Zh="Tabs",[l6,J7]=as(Zh,[jE]),CE=jE(),[c6,gv]=l6(Zh),EE=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=iv(l),[h,f]=Mr({prop:s,onChange:a,defaultProp:i??"",caller:Zh});return r.jsx(c6,{scope:n,baseId:Rr(),value:h,onValueChange:f,orientation:o,dir:u,activationMode:c,children:r.jsx(ve.div,{dir:u,"data-orientation":o,...d,ref:t})})});EE.displayName=Zh;var TE="TabsList",kE=m.forwardRef((e,t)=>{const{__scopeTabs:n,loop:s=!0,...a}=e,i=gv(TE,n),o=CE(n);return r.jsx(i6,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:s,children:r.jsx(ve.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});kE.displayName=TE;var PE="TabsTrigger",RE=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,disabled:a=!1,...i}=e,o=gv(PE,n),l=CE(n),c=$E(o.baseId,s),d=IE(o.baseId,s),u=s===o.value;return r.jsx(o6,{asChild:!0,...l,focusable:!a,active:u,children:r.jsx(ve.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:xe(e.onMouseDown,h=>{!a&&h.button===0&&h.ctrlKey===!1?o.onValueChange(s):h.preventDefault()}),onKeyDown:xe(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(s)}),onFocus:xe(e.onFocus,()=>{const h=o.activationMode!=="manual";!u&&!a&&h&&o.onValueChange(s)})})})});RE.displayName=PE;var AE="TabsContent",DE=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,forceMount:a,children:i,...o}=e,l=gv(AE,n),c=$E(l.baseId,s),d=IE(l.baseId,s),u=s===l.value,h=m.useRef(u);return m.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),r.jsx(xr,{present:a||u,children:({present:f})=>r.jsx(ve.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:f&&i})})});DE.displayName=AE;function $E(e,t){return`${e}-trigger-${t}`}function IE(e,t){return`${e}-content-${t}`}var d6=EE,ME=kE,LE=RE,OE=DE;const yr=d6,Ys=m.forwardRef(({className:e,...t},n)=>r.jsx(ME,{ref:n,className:me("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));Ys.displayName=ME.displayName;const Ne=m.forwardRef(({className:e,...t},n)=>r.jsx(LE,{ref:n,className:me("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));Ne.displayName=LE.displayName;const Ce=m.forwardRef(({className:e,...t},n)=>r.jsx(OE,{ref:n,className:me("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ce.displayName=OE.displayName;var u6="Separator",R0="horizontal",h6=["horizontal","vertical"],FE=m.forwardRef((e,t)=>{const{decorative:n,orientation:s=R0,...a}=e,i=f6(s)?s:R0,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return r.jsx(ve.div,{"data-orientation":i,...l,...a,ref:t})});FE.displayName=u6;function f6(e){return h6.includes(e)}var UE=FE;const BE=m.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...s},a)=>r.jsx(UE,{ref:a,decorative:n,orientation:t,className:me("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...s}));BE.displayName=UE.displayName;const zE=({transaction:e})=>{const t=()=>{switch(e.type){case"trade":return r.jsx(GA,{className:"h-4 w-4"});case"free_agent":return r.jsx($u,{className:"h-4 w-4"});case"waiver":return r.jsx(Bc,{className:"h-4 w-4"});default:return r.jsx(uc,{className:"h-4 w-4"})}},n=()=>{switch(e.type){case"trade":return"bg-blue-100 text-blue-800";case"free_agent":return"bg-green-100 text-green-800";case"waiver":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},s=()=>{switch(e.status){case"complete":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},a=o=>new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}).format(o),i=o=>{switch(o){case"free_agent":return"Free Agent";case"waiver":return"Waiver";case"trade":return"Trade";default:return o.charAt(0).toUpperCase()+o.slice(1)}};return r.jsxs(H,{className:"mb-4 hover:shadow-md transition-shadow",children:[r.jsx(Z,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:`p-2 rounded-full ${n()}`,children:t()}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(te,{className:n(),children:i(e.type)}),r.jsxs(te,{variant:"outline",children:["Week ",e.week]}),r.jsx(te,{className:s(),children:e.status})]}),r.jsxs("div",{className:"flex items-center space-x-1 mt-1 text-sm text-muted-foreground",children:[r.jsx(Zn,{className:"h-3 w-3"}),r.jsx("span",{children:a(e.date)})]})]})]}),e.waiverBid&&r.jsxs("div",{className:"flex items-center space-x-1 text-sm text-muted-foreground",children:[r.jsx(Pp,{className:"h-3 w-3"}),r.jsxs("span",{children:["$",e.waiverBid]})]})]})}),r.jsx(Q,{className:"pt-0",children:r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{children:r.jsx("p",{className:"text-sm font-medium text-foreground",children:e.details})}),e.teams.length>0&&r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Teams:"}),r.jsx("div",{className:"flex flex-wrap gap-1",children:e.teams.map((o,l)=>r.jsx(te,{variant:"secondary",className:"text-xs",children:o},l))})]}),(e.players.added.length>0||e.players.dropped.length>0)&&r.jsxs("div",{className:"space-y-2",children:[e.players.added.length>0&&r.jsxs("div",{children:[r.jsxs("p",{className:"text-xs text-muted-foreground mb-1 flex items-center",children:[r.jsx($u,{className:"h-3 w-3 mr-1 text-green-600"}),"Added:"]}),r.jsx("div",{className:"space-y-1",children:e.players.added.map((o,l)=>r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"font-medium",children:o.name}),r.jsxs(te,{variant:"outline",className:"text-xs",children:["to ",o.team]})]},l))})]}),e.players.dropped.length>0&&r.jsxs("div",{children:[r.jsxs("p",{className:"text-xs text-muted-foreground mb-1 flex items-center",children:[r.jsx(ID,{className:"h-3 w-3 mr-1 text-red-600"}),"Dropped:"]}),r.jsx("div",{className:"space-y-1",children:e.players.dropped.map((o,l)=>r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"font-medium",children:o.name}),r.jsxs(te,{variant:"outline",className:"text-xs",children:["from ",o.team]})]},l))})]})]}),e.draftPicks.length>0&&r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Draft Picks:"}),r.jsx("div",{className:"space-y-1",children:e.draftPicks.map((o,l)=>r.jsxs("div",{className:"text-sm",children:[r.jsxs("span",{className:"font-medium",children:[o.season," Round ",o.round]}),r.jsxs("span",{className:"text-muted-foreground ml-2",children:["(Roster ",o.previous_owner_id,"  Roster ",o.owner_id,")"]})]},l))})]}),e.waiverBudget.length>0&&r.jsxs("div",{children:[r.jsxs("p",{className:"text-xs text-muted-foreground mb-1 flex items-center",children:[r.jsx(Pp,{className:"h-3 w-3 mr-1"}),"FAAB Transfers:"]}),r.jsx("div",{className:"space-y-1",children:e.waiverBudget.map((o,l)=>r.jsxs("div",{className:"text-sm",children:[r.jsxs("span",{className:"font-medium",children:["$",o.amount]}),r.jsxs("span",{className:"text-muted-foreground ml-2",children:["(Roster ",o.sender,"  Roster ",o.receiver,")"]})]},l))})]}),e.notes&&r.jsxs(r.Fragment,{children:[r.jsx(BE,{}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Notes:"}),r.jsx("p",{className:"text-sm italic text-muted-foreground",children:e.notes})]})]})]})})]})},m6=()=>{const{teamId:e}=m1(),{selectedSeason:t,currentSeasonConfig:n}=Gs(),[s,a]=m.useState("roster"),[i,o]=m.useState(null),[l,c]=m.useState([]),[d,u]=m.useState(!1),[h,f]=m.useState([]),[g,j]=m.useState(!1),[v,w]=m.useState(!0),[p,x]=m.useState(null),{toast:y}=en();m.useEffect(()=>{e&&n&&b(parseInt(e))},[e,n]),m.useEffect(()=>{s==="transactions"&&i&&l.length===0&&_()},[s,i]),m.useEffect(()=>{s==="schedule"&&i&&h.length===0&&E()},[s,i,t]),m.useEffect(()=>{h.length>0&&f([])},[t]);const b=async T=>{try{w(!0),x(null),console.log(`Fetching data for team ID: ${T}`);const P=await ie.getTeams({filters:[{column:"id",operator:"eq",value:T}]});if(P.error||!P.data||P.data.length===0)throw new Error("Team not found");const F=P.data[0];console.log("Team data:",F);const I=await ie.getTeamConferenceJunctions({filters:[{column:"team_id",operator:"eq",value:T}]});if(I.error||!I.data||I.data.length===0)throw new Error("Team conference mapping not found");const G=I.data[0],le=G.roster_id;console.log("Junction data:",G,"Roster ID:",le),console.log("All junctions for this team:",I.data);const X=await ie.getConferences({filters:[{column:"id",operator:"eq",value:G.conference_id}]});if(X.error||!X.data||X.data.length===0)throw new Error("Conference not found");const W=X.data[0];console.log("Conference data:",W),console.log(`Fetching Sleeper data for league ${W.league_id}, roster ${le}`);const q=await nt.getTeamRosterData(W.league_id,le);o({...q,teamData:F,conferenceData:W}),console.log("Successfully loaded team roster data")}catch(P){console.error("Error fetching team data:",P);const F=P instanceof Error?P.message:"Failed to load team data";x(F),y({title:"Error",description:F,variant:"destructive"})}finally{w(!1)}},_=async()=>{if(i)try{u(!0),console.log(`Fetching transactions for team ${i.teamData.team_name} across all conferences`);const T=await ie.getTeamConferenceJunctions({filters:[{column:"team_id",operator:"eq",value:i.teamData.id}]});if(T.error||!T.data||T.data.length===0)throw new Error("Team conference mappings not found");const P=T.data.map(K=>K.conference_id);console.log(`Team participates in conferences: ${P.join(", ")}`);const F=await ie.getTransactions({filters:[{column:"conference_id",operator:"in",value:P}],orderBy:{column:"created_at",ascending:!1}});if(F.error||!F.data)throw new Error(F.error||"Failed to fetch transactions");const I=await ie.getTeams({}),G=await ie.getTeamConferenceJunctions({filters:[{column:"conference_id",operator:"in",value:P}]}),le=await ie.getAllPlayersForMapping(),X=new Map;le.forEach(K=>{K.sleeper_id&&X.set(String(K.sleeper_id),K.player_name)});const q=(await Promise.all(F.data.map(async K=>{var nl,Js,Mn;let O={};try{O=typeof K.data=="string"?JSON.parse(K.data):K.data||{}}catch(ye){console.warn("Failed to parse transaction data:",ye)}const ae=i.teamData.id,oe=K.conference_id,de=O.roster_ids||[],ge=(nl=T.data)==null?void 0:nl.find(ye=>ye.team_id===ae&&ye.conference_id===oe);if(!ge||!de.includes(ge.roster_id))return null;const we=ye=>{var sn;const qe=(sn=G.data)==null?void 0:sn.find(Wt=>Wt.roster_id.toString()===ye.toString()&&Wt.conference_id===K.conference_id);if(qe&&I.data){const Wt=I.data.find(Ei=>Ei.id===qe.team_id);return(Wt==null?void 0:Wt.team_name)||"Unknown Team"}return"Unknown Team"},Ie=[],He=[],tn=ye=>{const qe=String(ye);return X.get(qe)||`Player ${qe}`};if(O.adds)for(const[ye,qe]of Object.entries(O.adds)){const sn=tn(ye),Wt=we(qe);Ie.push({name:sn,team:Wt})}if(O.drops)for(const[ye,qe]of Object.entries(O.drops)){const sn=tn(ye),Wt=we(qe);He.push({name:sn,team:Wt})}let ce="";const Ee=O.type||K.type,Et=new Set;O.roster_ids&&O.roster_ids.forEach(ye=>{const qe=we(ye);qe!=="Unknown Team"&&Et.add(qe)});const Be=i.teamData.team_name,nn=((Mn=(Js=(await ie.getConferences({filters:[{column:"id",operator:"eq",value:K.conference_id}]})).data)==null?void 0:Js[0])==null?void 0:Mn.conference_name)||"Unknown Conference";switch(Ee){case"trade":if(Ie.length>0||He.length>0){const ye=[];Ie.forEach(qe=>ye.push(`${qe.name} to ${qe.team}`)),He.forEach(qe=>ye.push(`${qe.name} from ${qe.team}`)),Et.size>1?ce=`[${nn}] Trade between ${Array.from(Et).join(" and ")}: ${ye.join(", ")}`:ce=`[${nn}] ${Be} trade: ${ye.join(", ")}`}else if(O.draft_picks&&O.draft_picks.length>0){const ye=O.draft_picks.map(qe=>`${qe.season} Round ${qe.round} pick`);ce=`[${nn}] Trade involving ${ye.join(", ")}`}else ce=`[${nn}] Trade between ${Array.from(Et).join(" and ")}`;break;case"waiver":Ie.length>0&&He.length>0?ce=`[${nn}] ${Be} claimed ${Ie.map(ye=>ye.name).join(", ")} from waivers, dropped ${He.map(ye=>ye.name).join(", ")}`:Ie.length>0?ce=`[${nn}] ${Be} claimed ${Ie.map(ye=>ye.name).join(", ")} from waivers`:He.length>0?ce=`[${nn}] ${Be} dropped ${He.map(ye=>ye.name).join(", ")} to waivers`:ce=`[${nn}] ${Be} made a waiver claim`;break;case"free_agent":Ie.length>0&&He.length>0?ce=`[${nn}] ${Be} added ${Ie.map(ye=>ye.name).join(", ")}, dropped ${He.map(ye=>ye.name).join(", ")}`:Ie.length>0?ce=`[${nn}] ${Be} added ${Ie.map(ye=>ye.name).join(", ")} from free agency`:He.length>0?ce=`[${nn}] ${Be} dropped ${He.map(ye=>ye.name).join(", ")}`:ce=`[${nn}] ${Be} made a free agent transaction`;break;default:ce=`[${nn}] ${Be} completed a ${Ee||"transaction"}`}const nd=O.type==="trade"?"trade":O.type==="waiver"?"waiver":O.type==="free_agent"?"free_agent":"commissioner";return{id:K.id.toString(),type:nd,date:new Date(K.created_at||new Date),details:ce,teams:[Be],players:{added:Ie.map(ye=>({id:"",name:ye.name,team:ye.team})),dropped:He.map(ye=>({id:"",name:ye.name,team:ye.team}))},week:O.leg||0,status:"completed",rosterIds:O.roster_ids||[],draftPicks:O.draft_picks||[],waiverBudget:O.waiver_budget||[]}}))).filter(K=>K!==null);c(q),console.log(`Loaded ${q.length} transactions for this team across all conferences`),y({title:"Transactions Loaded",description:`Found ${q.length} transactions for this team across all seasons`})}catch(T){console.error("Error fetching transactions:",T);const P=T instanceof Error?T.message:"Failed to load transactions";y({title:"Error Loading Transactions",description:P,variant:"destructive"})}finally{u(!1)}},E=async()=>{if(!(!i||!n))try{j(!0),console.log(`Fetching schedule for team ${i.teamData.team_name} for season ${t}`);const T=n.conferences.filter(O=>O.dbConferenceId);if(T.length===0){console.log("No conferences found for selected season"),f([]);return}const P=await ie.getTeamConferenceJunctions({filters:[{column:"team_id",operator:"eq",value:i.teamData.id}]});if(P.error||!P.data)throw new Error("Failed to get team conference mappings");const F=T.map(O=>O.dbConferenceId),I=P.data.find(O=>F.includes(O.conference_id));if(!I){console.log(`Team not found in any conference for season ${t}`),f([]);return}const G=await ie.getMatchups({filters:[{column:"conference_id",operator:"eq",value:I.conference_id}],orderBy:{column:"week",ascending:!0}});if(G.error||!G.data)throw new Error(G.error||"Failed to fetch matchups");const le=G.data.filter(O=>O.team1_id===i.teamData.id||O.team2_id===i.teamData.id),X=await ie.getMatchupAdminOverrides({filters:[{column:"conference_id",operator:"eq",value:I.conference_id},{column:"is_active",operator:"eq",value:!0}]}),W=await ie.getTeams({}),q=new Map;W.data&&W.data.forEach(O=>{q.set(O.id,O.team_name)});const K=le.map(O=>{var Et;const ae=(Et=X.data)==null?void 0:Et.find(Be=>Be.conference_id===O.conference_id&&Be.week===parseInt(O.week)&&Be.is_active);let oe,de,ge=!1;if(ae?(oe=ae.override_team1_id,de=ae.override_team2_id,ge=!0):(oe=O.team1_id,de=O.team2_id),oe!==i.teamData.id&&de!==i.teamData.id)return null;const we=oe===i.teamData.id,Ie=we?de:oe,He=q.get(Ie)||"Unknown Team";let tn="TBD",ce=null,Ee=null;return O.team1_score!==null&&O.team2_score!==null&&(we?(ce=O.team1_score,Ee=O.team2_score):(ce=O.team2_score,Ee=O.team1_score),ce>Ee?tn="W":ce<Ee?tn="L":tn="T"),{week:O.week,opponent:He,isHome:we,result:tn,teamScore:ce,opponentScore:Ee,isPlayoff:O.is_playoff||!1,isOverridden:ge,overrideReason:(ae==null?void 0:ae.override_reason)||null,matchupStatus:O.matchup_status||"scheduled"}}).filter(O=>O!==null);f(K),console.log(`Loaded ${K.length} matchups for ${t} season`),y({title:"Schedule Loaded",description:`Found ${K.length} matchups for ${t} season`})}catch(T){console.error("Error fetching schedule:",T);const P=T instanceof Error?T.message:"Failed to load schedule";y({title:"Error Loading Schedule",description:P,variant:"destructive"})}finally{j(!1)}},C=T=>{switch(T){case"QB":return"bg-red-100 text-red-800";case"RB":return"bg-green-100 text-green-800";case"WR":return"bg-blue-100 text-blue-800";case"TE":return"bg-yellow-100 text-yellow-800";case"K":return"bg-purple-100 text-purple-800";case"DEF":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},N=T=>{switch(T){case"FLEX":return"bg-orange-100 text-orange-800";case"SUPER_FLEX":return"bg-pink-100 text-pink-800";default:return"bg-slate-100 text-slate-800"}},k=T=>{if(!T||T==="Active")return null;const P={IR:"destructive",Out:"destructive",Doubtful:"destructive",Questionable:"secondary",Probable:"outline"};return r.jsx(te,{variant:P[T]||"outline",className:"text-xs",children:T})};if(v)return r.jsx("div",{className:"flex items-center justify-center min-h-64",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(dn,{className:"h-6 w-6 animate-spin"}),r.jsx("span",{children:"Loading team data..."})]})});if(p||!i)return r.jsxs("div",{className:"space-y-6",children:[r.jsx(Lt,{to:"/teams",children:r.jsxs(se,{variant:"ghost",className:"mb-4",children:[r.jsx(Il,{className:"mr-2 h-4 w-4"}),"Back to Teams"]})}),r.jsx(H,{children:r.jsx(Q,{className:"flex items-center justify-center min-h-64",children:r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx(We,{className:"h-12 w-12 text-destructive mx-auto"}),r.jsx("h3",{className:"text-lg font-semibold",children:"Error Loading Team"}),r.jsx("p",{className:"text-muted-foreground",children:p||"Team data not available"}),r.jsx(se,{onClick:()=>e&&b(parseInt(e)),children:"Try Again"})]})})})]});const{roster:R,organizedRoster:A,allPlayers:$,teamData:M,conferenceData:V}=i,B=nt.formatPoints(R.settings.fpts,R.settings.fpts_decimal),L=nt.formatPoints(R.settings.fpts_against,R.settings.fpts_against_decimal),U=R.settings.wins+R.settings.losses+R.settings.ties,D=nt.calculatePointsPerGame(B,U),S=U>0?R.settings.wins/U*100:0;return r.jsxs("div",{className:"space-y-6",children:[r.jsx(Lt,{to:"/teams",children:r.jsxs(se,{variant:"ghost",className:"mb-4",children:[r.jsx(Il,{className:"mr-2 h-4 w-4"}),"Back to Teams"]})}),r.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between space-y-4 md:space-y-0",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs(fv,{className:"h-16 w-16",children:[r.jsx(mv,{src:M.team_logo_url||void 0}),r.jsx(pv,{className:"bg-primary/10 text-lg",style:{backgroundColor:M.team_primary_color+"20"},children:M.team_name.split(" ").map(T=>T[0]).join("").toUpperCase()})]}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:M.team_name}),r.jsxs("p",{className:"text-muted-foreground",children:["Owned by ",M.owner_name]}),M.co_owner_name&&r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Co-owner: ",M.co_owner_name]}),r.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[r.jsx(te,{variant:"outline",children:V.conference_name}),r.jsxs(te,{variant:"secondary",children:["Roster #",R.roster_id]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"text-2xl font-bold",children:[R.settings.wins,"-",R.settings.losses]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Record"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:B.toFixed(1)}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Points For"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:D.toFixed(1)}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg/Game"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[S.toFixed(1),"%"]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Win %"})]})]})]}),r.jsxs(yr,{value:s,onValueChange:a,className:"w-full",children:[r.jsxs(Ys,{className:"grid w-full grid-cols-4",children:[r.jsx(Ne,{value:"roster",children:"Roster"}),r.jsx(Ne,{value:"performance",children:"Performance"}),r.jsx(Ne,{value:"transactions",children:"Transactions"}),r.jsx(Ne,{value:"schedule",children:"Schedule"})]}),r.jsxs(Ce,{value:"roster",className:"space-y-4",children:[r.jsxs(H,{children:[r.jsxs(Z,{children:[r.jsxs(ee,{className:"flex items-center space-x-2",children:[r.jsx(cN,{className:"h-5 w-5"}),r.jsx("span",{children:"Starting Lineup"})]}),r.jsx(he,{children:"Current starting players for this roster"})]}),r.jsx(Q,{children:r.jsx("div",{className:"rounded-md border",children:r.jsxs(Bt,{children:[r.jsx(zt,{children:r.jsxs(be,{children:[r.jsx(ne,{children:"Position"}),r.jsx(ne,{children:"Player"}),r.jsx(ne,{children:"NFL Team"}),r.jsx(ne,{children:"Status"})]})}),r.jsx(Vt,{children:A.starters.map((T,P)=>{const F=$[T.playerId];return r.jsxs(be,{children:[r.jsx(Y,{children:r.jsx(te,{className:N(T.slotPosition),children:T.slotPosition})}),r.jsx(Y,{children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"font-medium",children:F?nt.getPlayerName(F):"Unknown Player"}),F&&r.jsx(te,{className:C(F.position),children:F.position})]})}),r.jsx(Y,{children:(F==null?void 0:F.team)||"N/A"}),r.jsx(Y,{children:k(F==null?void 0:F.injury_status)})]},`starter-${P}`)})})]})})})]}),r.jsxs(H,{children:[r.jsxs(Z,{children:[r.jsxs(ee,{className:"flex items-center space-x-2",children:[r.jsx(Zt,{className:"h-5 w-5"}),r.jsxs("span",{children:["Bench (",A.bench.length,")"]})]}),r.jsx(he,{children:"Players available as substitutes"})]}),r.jsx(Q,{children:r.jsx("div",{className:"rounded-md border",children:r.jsxs(Bt,{children:[r.jsx(zt,{children:r.jsxs(be,{children:[r.jsx(ne,{children:"Player"}),r.jsx(ne,{children:"Position"}),r.jsx(ne,{children:"NFL Team"}),r.jsx(ne,{children:"Status"})]})}),r.jsxs(Vt,{children:[A.bench.map(T=>{const P=$[T];return r.jsxs(be,{children:[r.jsx(Y,{className:"font-medium",children:P?nt.getPlayerName(P):"Unknown Player"}),r.jsx(Y,{children:P&&r.jsx(te,{className:C(P.position),children:P.position})}),r.jsx(Y,{children:(P==null?void 0:P.team)||"N/A"}),r.jsx(Y,{children:k(P==null?void 0:P.injury_status)})]},`bench-${T}`)}),A.bench.length===0&&r.jsx(be,{children:r.jsx(Y,{colSpan:4,className:"text-center text-muted-foreground py-4",children:"No bench players"})})]})]})})})]}),A.ir.length>0&&r.jsxs(H,{children:[r.jsxs(Z,{children:[r.jsxs(ee,{className:"flex items-center space-x-2",children:[r.jsx(We,{className:"h-5 w-5"}),r.jsxs("span",{children:["Injured Reserve (",A.ir.length,")"]})]}),r.jsx(he,{children:"Players on injured reserve"})]}),r.jsx(Q,{children:r.jsx("div",{className:"rounded-md border",children:r.jsxs(Bt,{children:[r.jsx(zt,{children:r.jsxs(be,{children:[r.jsx(ne,{children:"Player"}),r.jsx(ne,{children:"Position"}),r.jsx(ne,{children:"NFL Team"}),r.jsx(ne,{children:"Status"})]})}),r.jsx(Vt,{children:A.ir.map(T=>{const P=$[T];return r.jsxs(be,{children:[r.jsx(Y,{className:"font-medium",children:P?nt.getPlayerName(P):"Unknown Player"}),r.jsx(Y,{children:P&&r.jsx(te,{className:C(P.position),children:P.position})}),r.jsx(Y,{children:(P==null?void 0:P.team)||"N/A"}),r.jsx(Y,{children:r.jsx(te,{variant:"destructive",className:"text-xs",children:"IR"})})]},`ir-${T}`)})})]})})})]})]}),r.jsx(Ce,{value:"performance",className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs(H,{children:[r.jsx(Z,{children:r.jsxs(ee,{className:"flex items-center space-x-2",children:[r.jsx($t,{className:"h-5 w-5"}),r.jsx("span",{children:"Season Stats"})]})}),r.jsx(Q,{className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Points For"}),r.jsx("p",{className:"text-2xl font-bold",children:B.toFixed(1)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Points Against"}),r.jsx("p",{className:"text-2xl font-bold",children:L.toFixed(1)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Point Differential"}),r.jsxs("p",{className:`text-2xl font-bold ${B-L>0?"text-green-600":"text-red-600"}`,children:[B-L>0?"+":"",(B-L).toFixed(1)]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Win Percentage"}),r.jsxs("p",{className:"text-2xl font-bold",children:[S.toFixed(1),"%"]})]})]})})]}),r.jsxs(H,{children:[r.jsx(Z,{children:r.jsxs(ee,{className:"flex items-center space-x-2",children:[r.jsx(Bc,{className:"h-5 w-5"}),r.jsx("span",{children:"Team Management"})]})}),r.jsx(Q,{className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Waiver Position"}),r.jsx("p",{className:"text-2xl font-bold",children:R.settings.waiver_position})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Waiver Budget Used"}),r.jsxs("p",{className:"text-2xl font-bold",children:["$",R.settings.waiver_budget_used]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Moves"}),r.jsx("p",{className:"text-2xl font-bold",children:R.settings.total_moves})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Games Played"}),r.jsx("p",{className:"text-2xl font-bold",children:U})]})]})})]})]})}),r.jsxs(Ce,{value:"transactions",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Transaction History"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"All trades, waivers, and roster moves for this team across all seasons"})]}),r.jsx(se,{onClick:_,disabled:d,variant:"outline",size:"sm",children:d?r.jsxs(r.Fragment,{children:[r.jsx(dn,{className:"h-4 w-4 mr-2 animate-spin"}),"Loading..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Ye,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]}),d&&l.length===0?r.jsx(H,{children:r.jsx(Q,{className:"flex items-center justify-center min-h-32",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(dn,{className:"h-6 w-6 animate-spin"}),r.jsx("span",{children:"Loading transactions..."})]})})}):l.length===0?r.jsx(H,{children:r.jsx(Q,{className:"flex items-center justify-center min-h-32",children:r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx(Zn,{className:"h-12 w-12 text-muted-foreground mx-auto"}),r.jsx("h3",{className:"text-lg font-semibold",children:"No Transactions Found"}),r.jsx("p",{className:"text-muted-foreground",children:"This team hasn't made any trades, waiver claims, or free agent pickups this season."}),r.jsx("div",{className:"mt-4",children:r.jsxs(te,{variant:"secondary",children:["Total moves: ",R.settings.total_moves]})})]})})}):r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",l.length," transaction",l.length!==1?"s":""]}),r.jsxs(te,{variant:"secondary",children:["Total moves: ",R.settings.total_moves]})]}),r.jsx("div",{className:"space-y-3",children:l.map(T=>r.jsx(zE,{transaction:T},T.id))})]})]}),r.jsxs(Ce,{value:"schedule",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Season Schedule"}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Complete schedule and results for ",t," season"]})]}),r.jsx(se,{onClick:E,disabled:g,variant:"outline",size:"sm",children:g?r.jsxs(r.Fragment,{children:[r.jsx(dn,{className:"h-4 w-4 mr-2 animate-spin"}),"Loading..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Ye,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]}),g&&h.length===0?r.jsx(H,{children:r.jsx(Q,{className:"flex items-center justify-center min-h-32",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(dn,{className:"h-6 w-6 animate-spin"}),r.jsx("span",{children:"Loading schedule..."})]})})}):h.length===0?r.jsx(H,{children:r.jsx(Q,{className:"flex items-center justify-center min-h-32",children:r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx(Zn,{className:"h-12 w-12 text-muted-foreground mx-auto"}),r.jsx("h3",{className:"text-lg font-semibold",children:"No Schedule Found"}),r.jsxs("p",{className:"text-muted-foreground",children:["No matchups found for this team in the ",t," season."]})]})})}):r.jsxs("div",{className:"space-y-4",children:[r.jsxs(H,{children:[r.jsx(Z,{children:r.jsxs(ee,{className:"flex items-center space-x-2",children:[r.jsx(Zn,{className:"h-5 w-5"}),r.jsxs("span",{children:[t," Season Schedule"]})]})}),r.jsx(Q,{children:r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:h.filter(T=>T.result==="W").length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Wins"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:h.filter(T=>T.result==="L").length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Losses"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:h.filter(T=>T.result==="T").length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Ties"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:h.filter(T=>T.result==="TBD").length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Remaining"})]})]})})]}),r.jsxs(H,{children:[r.jsxs(Z,{children:[r.jsx(ee,{children:"Matchup Results"}),r.jsx(he,{children:"Week-by-week schedule and results"})]}),r.jsx(Q,{children:r.jsx("div",{className:"rounded-md border",children:r.jsxs(Bt,{children:[r.jsx(zt,{children:r.jsxs(be,{children:[r.jsx(ne,{className:"w-16",children:"Week"}),r.jsx(ne,{children:"Opponent"}),r.jsx(ne,{className:"w-16",children:"@/vs"}),r.jsx(ne,{className:"w-20",children:"Result"}),r.jsx(ne,{className:"w-24",children:"Score"}),r.jsx(ne,{className:"w-16",children:"Status"})]})}),r.jsx(Vt,{children:h.map((T,P)=>r.jsxs(be,{children:[r.jsxs(Y,{className:"font-medium",children:[T.week,T.isPlayoff&&r.jsx(te,{variant:"destructive",className:"ml-1 text-xs",children:"PO"})]}),r.jsx(Y,{children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{children:T.opponent}),T.isOverridden&&r.jsx(te,{variant:"outline",className:"text-xs",children:"Override"})]})}),r.jsx(Y,{className:"text-center",children:T.isHome?"vs":"@"}),r.jsx(Y,{children:r.jsx(te,{variant:T.result==="W"?"default":T.result==="L"?"destructive":T.result==="T"?"secondary":"outline",className:"w-8 justify-center",children:T.result})}),r.jsx(Y,{children:T.teamScore!==null&&T.opponentScore!==null?r.jsxs("div",{className:"text-sm",children:[r.jsx("span",{className:T.result==="W"?"font-bold":"",children:T.teamScore}),r.jsx("span",{className:"text-muted-foreground mx-1",children:"-"}),r.jsx("span",{className:T.result==="L"?"font-bold":"",children:T.opponentScore})]}):r.jsx("span",{className:"text-muted-foreground",children:"-"})}),r.jsx(Y,{children:r.jsx(te,{variant:"outline",className:"text-xs",children:T.matchupStatus})})]},`matchup-${P}`))})]})})})]})]})]})]})]})};async function p6(e={},t=1,n=25){try{const{data:{session:s},error:a}=await tt.auth.getSession();if(a)throw console.error("Session error:",a),new Error(`Authentication error: ${a.message}`);console.log("Fetching players directly from database...");let i=tt.from("players").select(`
        id,
        player_name,
        position,
        nfl_team,
        sleeper_id,
        injury_status,
        total_points,
        avg_points,
        is_rostered,
        rostered_by_teams,
        playing_status
      `,{count:"exact"});e.search&&(i=i.or(`player_name.ilike.%${e.search}%,nfl_team.ilike.%${e.search}%`)),e.position&&e.position!=="all"&&(i=i.eq("position",e.position)),e.is_rostered!==""&&(i=i.eq("is_rostered",e.is_rostered));const o=(t-1)*n,l=o+n-1;i=i.range(o,l).order("total_points",{ascending:!1});const{data:c,error:d,count:u}=await i;if(d)throw console.error("Database query error:",d),new Error(`Database error: ${d.message}`);return console.log(` Fetched ${(c==null?void 0:c.length)||0} players (total: ${u})`),{data:c||[],count:u||0}}catch(s){throw console.error("fetchPlayersFromApi error:",s),s}}const g6=()=>{const{selectedSeason:e,selectedConference:t,currentSeasonConfig:n}=Gs(),{toast:s}=en(),[a,i]=m.useState([]),[o,l]=m.useState(0),[c,d]=m.useState(1),u=50,[h,f]=m.useState(!0),[g,j]=m.useState(null),[v,w]=m.useState(""),[p,x]=m.useState("all"),[y,b]=m.useState("all"),_=["QB","RB","WR","TE"];m.useEffect(()=>{(async()=>{f(!0),j(null);try{const k={search:v,position:p,is_rostered:y==="rostered"?!0:y==="free_agent"?!1:""},{data:R,count:A}=await p6(k,c,u);i(R||[]),l(A||0),s({title:"Players Loaded",description:`Found ${A||0} players for ${e} season`})}catch(k){const R=k instanceof Error?k.message:"Failed to fetch players";j(R),s({title:"Error",description:R,variant:"destructive"})}finally{f(!1)}})()},[v,p,y,c,e,t]);const E=N=>{switch(N){case"QB":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"RB":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"WR":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"TE":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},C=(N,k)=>{if(k){const R={IR:"destructive",O:"destructive",D:"destructive",Q:"secondary",P:"outline"};return r.jsx(te,{variant:R[k]||"outline",className:"text-xs",children:k})}return N?r.jsx(te,{variant:"default",className:"text-xs",children:"Rostered"}):r.jsx(te,{variant:"outline",className:"text-xs",children:"FA"})};return h&&a.length===0?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(dn,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Loading Players"}),r.jsx("p",{className:"text-muted-foreground",children:"Fetching player data..."})]})}):g&&a.length===0?r.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:r.jsxs(H,{className:"w-full max-w-md",children:[r.jsx(Z,{children:r.jsx(ee,{className:"flex items-center gap-2 text-destructive",children:"Error Loading Players"})}),r.jsxs(Q,{className:"space-y-4",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:g}),r.jsx(se,{onClick:()=>window.location.reload(),className:"w-full",children:"Retry"})]})]})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ll,{className:"h-6 w-6 text-primary"}),r.jsx("h1",{className:"text-3xl font-bold",children:"Players"})]}),r.jsxs("p",{className:"text-muted-foreground",children:[e," Season  ",o," players"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Ax,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(Jt,{placeholder:"Search players...",value:v,onChange:N=>{w(N.target.value),d(1)},className:"pl-10"})]}),r.jsxs(Nt,{value:p,onValueChange:N=>{x(N),d(1)},children:[r.jsx(gt,{children:r.jsx(Ct,{placeholder:"All Positions"})}),r.jsxs(xt,{children:[r.jsx(Pe,{value:"all",children:"All Positions"}),_.map(N=>r.jsx(Pe,{value:N,children:N},N))]})]}),r.jsxs(Nt,{value:y,onValueChange:N=>{b(N),d(1)},children:[r.jsx(gt,{children:r.jsx(Ct,{placeholder:"All Status"})}),r.jsxs(xt,{children:[r.jsx(Pe,{value:"all",children:"All Status"}),r.jsx(Pe,{value:"rostered",children:"Rostered"}),r.jsx(Pe,{value:"free_agent",children:"Free Agent"})]})]})]}),r.jsx(H,{children:r.jsxs(Q,{className:"pt-6",children:[r.jsx("div",{className:"rounded-md border",children:r.jsxs(Bt,{children:[r.jsx(zt,{children:r.jsxs(be,{children:[r.jsx(ne,{children:"Player"}),r.jsx(ne,{children:"Pos"}),r.jsx(ne,{className:"hidden sm:table-cell",children:"NFL Team"}),r.jsx(ne,{className:"text-right",children:"Points"}),r.jsx(ne,{className:"text-right hidden md:table-cell",children:"Avg"}),r.jsx(ne,{children:"Status"}),r.jsx(ne,{className:"hidden lg:table-cell",children:"Rostered By (Team IDs)"}),r.jsx(ne,{className:"w-10"})]})}),r.jsx(Vt,{children:h?r.jsx(be,{children:r.jsx(Y,{colSpan:8,className:"text-center py-8",children:r.jsx(dn,{className:"h-6 w-6 animate-spin mx-auto"})})}):a.length===0?r.jsx(be,{children:r.jsx(Y,{colSpan:8,className:"text-center py-8",children:"No players found."})}):a.map(N=>r.jsxs(be,{children:[r.jsx(Y,{children:r.jsx("div",{className:"font-medium",children:N.player_name})}),r.jsx(Y,{children:r.jsx(te,{className:E(N.position),children:N.position})}),r.jsx(Y,{className:"hidden sm:table-cell",children:N.nfl_team||"FA"}),r.jsx(Y,{className:"text-right font-mono",children:N.total_points.toFixed(1)}),r.jsx(Y,{className:"text-right font-mono hidden md:table-cell",children:N.avg_points.toFixed(1)}),r.jsx(Y,{children:C(N.is_rostered,N.injury_status)}),r.jsx(Y,{className:"hidden lg:table-cell text-sm",children:N.rostered_by_teams.join(", ")||"N/A"}),r.jsx(Y,{children:r.jsx(Lt,{to:`/players/${N.sleeper_id}`,children:r.jsx(se,{variant:"ghost",size:"sm",children:r.jsx(Rx,{className:"h-4 w-4"})})})})]},N.id))})]})}),r.jsxs("div",{className:"flex items-center justify-between space-x-2 py-4",children:[r.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",Math.min((c-1)*u+1,o)," to ",Math.min(c*u,o)," of ",o," players"]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(se,{variant:"outline",size:"sm",onClick:()=>d(N=>Math.max(1,N-1)),disabled:c===1,children:"Previous"}),r.jsxs("span",{className:"text-sm",children:["Page ",c," of ",Math.ceil(o/u)]}),r.jsx(se,{variant:"outline",size:"sm",onClick:()=>d(N=>N+1),disabled:c*u>=o,children:"Next"})]})]})]})})]})};var xv="Progress",vv=100,[x6,X7]=as(xv),[v6,y6]=x6(xv),VE=m.forwardRef((e,t)=>{const{__scopeProgress:n,value:s=null,max:a,getValueLabel:i=w6,...o}=e;(a||a===0)&&!A0(a)&&console.error(j6(`${a}`,"Progress"));const l=A0(a)?a:vv;s!==null&&!D0(s,l)&&console.error(b6(`${s}`,"Progress"));const c=D0(s,l)?s:null,d=Ku(c)?i(c,l):void 0;return r.jsx(v6,{scope:n,value:c,max:l,children:r.jsx(ve.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Ku(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":qE(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});VE.displayName=xv;var WE="ProgressIndicator",HE=m.forwardRef((e,t)=>{const{__scopeProgress:n,...s}=e,a=y6(WE,n);return r.jsx(ve.div,{"data-state":qE(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...s,ref:t})});HE.displayName=WE;function w6(e,t){return`${Math.round(e/t*100)}%`}function qE(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Ku(e){return typeof e=="number"}function A0(e){return Ku(e)&&!isNaN(e)&&e>0}function D0(e,t){return Ku(e)&&!isNaN(e)&&e<=t&&e>=0}function j6(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${vv}\`.`}function b6(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${vv} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var KE=VE,_6=HE;const ar=m.forwardRef(({className:e,value:t,...n},s)=>r.jsx(KE,{ref:s,className:me("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",e),...n,children:r.jsx(_6,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));ar.displayName=KE.displayName;const S6=()=>{const{playerId:e}=m1(),{selectedSeason:t,selectedConference:n,currentSeasonConfig:s}=Gs(),{toast:a}=en(),[i,o]=m.useState("overview"),[l,c]=m.useState(null),[d,u]=m.useState(!0),[h,f]=m.useState(null),g=async()=>{if(!(!e||!s))try{u(!0),f(null),console.log("Fetching player detail for ID:",e);const p=await ie.getPlayers({filters:[{column:"sleeper_id",operator:"eq",value:e},{column:"playing_status",operator:"eq",value:"Active"},{column:"position",operator:"in",value:["QB","RB","WR","TE"]}]});if(p.error||!p.data||p.data.length===0)throw new Error("Player not found or not active");const x=p.data[0];console.log("Found player:",x);let y=s.conferences;n&&n!=="all"&&(y=s.conferences.filter(L=>L.id===n));const b=y.filter(L=>L.dbConferenceId).map(L=>L.dbConferenceId);if(b.length===0)throw new Error("No valid conference IDs found");const _=await ie.getTeamConferenceJunctions({filters:[{column:"conference_id",operator:"in",value:b}]});if(_.error||!_.data)throw new Error("Failed to fetch team mappings");const E=[...new Set(_.data.map(L=>L.team_id))],C=await ie.getTeams({filters:[{column:"id",operator:"in",value:E}]});if(C.error||!C.data)throw new Error("Failed to fetch teams");const N=await Promise.all(y.map(async L=>{try{if(!L.leagueId)return console.warn(`No league ID for conference ${L.name}`),{conference:L,rosters:[]};const U=await nt.fetchLeagueRosters(L.leagueId);return{conference:L,rosters:U}}catch(U){return console.warn(`Failed to fetch rosters for conference ${L.name}:`,U),{conference:L,rosters:[]}}})),k=[];N.forEach(({conference:L,rosters:U})=>{U.forEach(D=>{var S,T;if(D.players&&D.players.includes(e)){const P=(S=_.data)==null?void 0:S.find(F=>F.conference_id===L.dbConferenceId&&F.roster_id===D.roster_id);if(P){const F=(T=C.data)==null?void 0:T.find(I=>I.id===P.team_id);F&&k.push({conference_id:L.dbConferenceId,conference_name:L.name,team_id:F.id,team_name:F.team_name,owner_name:F.owner_name,roster_id:D.roster_id,league_id:L.leagueId})}}})});const R=[],A=j(),$=[...new Set(k.map(L=>L.league_id))];for(const L of $){const U=k.find(D=>D.league_id===L);if(U)for(let D=1;D<=Math.min(A,17);D++)try{const T=(await nt.fetchMatchups(L,D)).find(P=>P.players&&P.players.includes(e));if(T&&T.players_points){const P=T.players_points[e]||0;R.push({week:D,points:P,league_id:L,conference_name:U.conference_name})}}catch(S){console.warn(`Failed to fetch matchup data for league ${L}, week ${D}:`,S)}}const M={totalPoints:R.reduce((L,U)=>L+U.points,0),gamesPlayed:R.length,bestGame:R.length>0?Math.max(...R.map(L=>L.points)):0,worstGame:R.length>0?Math.min(...R.map(L=>L.points)):0,avgPoints:0,consistency:0,weeklyPerformance:R};if(M.avgPoints=M.gamesPlayed>0?M.totalPoints/M.gamesPlayed:0,M.gamesPlayed>1){const L=M.avgPoints,U=R.reduce((T,P)=>T+Math.pow(P.points-L,2),0)/M.gamesPlayed,D=Math.sqrt(U),S=L>0?D/L:0;M.consistency=Math.max(0,100-S*100)}let V;k.length===0?V="free_agent":k.length===1?V="rostered":V="multi_rostered";const B={id:x.id,sleeper_id:x.sleeper_id,player_name:x.player_name,position:x.position,nfl_team:x.nfl_team||"FA",number:x.number||0,age:x.age||0,height:x.height||0,weight:x.weight||0,college:x.college||"Unknown",playing_status:x.playing_status||"Active",injury_status:x.injury_status,depth_chart:x.depth_chart||1,rostered_by:k,availability_status:V,season_stats:M};c(B),console.log("Loaded player detail:",B),a({title:"Player Loaded",description:`Found ${B.player_name} with ${M.gamesPlayed} games of data`})}catch(p){console.error("Error fetching player data:",p);const x=p instanceof Error?p.message:"Failed to fetch player data";f(x),a({title:"Error Loading Player",description:x,variant:"destructive"})}finally{u(!1)}};m.useEffect(()=>{e&&s&&g()},[e,t,n,s]);const j=()=>{const p=new Date,x=new Date(p.getFullYear(),8,1),y=Math.floor((p.getTime()-x.getTime())/(7*24*60*60*1e3));return Math.min(Math.max(y+1,1),17)},v=p=>{switch(p){case"QB":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"RB":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"WR":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"TE":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},w=p=>{if(!p||p==="Healthy")return null;const x={IR:"destructive",Out:"destructive",Doubtful:"destructive",Questionable:"secondary",Probable:"secondary",Q:"secondary",D:"destructive",O:"destructive"};return r.jsx(te,{variant:x[p]||"outline",children:p})};return d?r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsxs("div",{className:"text-center",children:[r.jsx(dn,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Loading player data..."})]})}):h?r.jsxs("div",{className:"space-y-6",children:[r.jsx(Lt,{to:"/players",children:r.jsxs(se,{variant:"ghost",className:"mb-4",children:[r.jsx(Il,{className:"mr-2 h-4 w-4"}),"Back to Players"]})}),r.jsxs(Oe,{variant:"destructive",children:[r.jsx(We,{className:"h-4 w-4"}),r.jsx(Fe,{children:h})]}),r.jsx("div",{className:"text-center",children:r.jsxs(se,{onClick:g,variant:"outline",children:[r.jsx(Ye,{className:"mr-2 h-4 w-4"}),"Try Again"]})})]}):l?r.jsxs("div",{className:"space-y-6",children:[r.jsx(Lt,{to:"/players",children:r.jsxs(se,{variant:"ghost",className:"mb-4",children:[r.jsx(Il,{className:"mr-2 h-4 w-4"}),"Back to Players"]})}),r.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between space-y-4 md:space-y-0",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"h-16 w-16 bg-primary/10 rounded-full flex items-center justify-center",children:r.jsx(f$,{className:"h-8 w-8 text-primary"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:l.player_name}),r.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[r.jsx(te,{className:v(l.position),children:l.position}),r.jsxs(te,{variant:"outline",children:[l.nfl_team," #",l.number]}),w(l.injury_status)]}),r.jsxs("p",{className:"text-muted-foreground mt-1",children:[l.age," years old  ",l.height,'"", ',l.weight," lbs  ",l.college]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:l.season_stats.totalPoints.toFixed(1)}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Points"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:l.season_stats.avgPoints.toFixed(1)}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg/Game"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:l.season_stats.bestGame.toFixed(1)}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Best Game"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"text-2xl font-bold",children:[l.season_stats.consistency.toFixed(0),"%"]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Consistency"})]})]})]}),l.rostered_by.length>0&&r.jsx(H,{children:r.jsx(Q,{className:"pt-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Currently rostered by:"}),l.rostered_by.map((p,x)=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("p",{className:"font-semibold",children:p.team_name}),r.jsx("span",{className:"text-muted-foreground",children:""}),r.jsx("p",{className:"text-muted-foreground",children:p.owner_name})]}),l.rostered_by.length>1&&r.jsx("p",{className:"text-sm text-blue-600",children:p.conference_name})]}),r.jsx(Lt,{to:`/teams/${p.team_id}`,children:r.jsx(se,{variant:"outline",size:"sm",children:"View Team"})})]},x))]})})}),r.jsxs(yr,{value:i,onValueChange:o,className:"w-full",children:[r.jsxs(Ys,{className:"grid w-full grid-cols-3",children:[r.jsx(Ne,{value:"overview",children:"Overview"}),r.jsx(Ne,{value:"performance",children:"Performance"}),r.jsx(Ne,{value:"details",children:"Details"})]}),r.jsx(Ce,{value:"overview",className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs(H,{children:[r.jsx(Z,{children:r.jsxs(ee,{className:"flex items-center space-x-2",children:[r.jsx($t,{className:"h-5 w-5"}),r.jsx("span",{children:"Season Summary"})]})}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Fantasy Points"}),r.jsx("p",{className:"text-2xl font-bold",children:l.season_stats.totalPoints.toFixed(1)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Games Played"}),r.jsx("p",{className:"text-2xl font-bold",children:l.season_stats.gamesPlayed})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Best Game"}),r.jsx("p",{className:"text-2xl font-bold",children:l.season_stats.bestGame.toFixed(1)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Consistency"}),r.jsxs("p",{className:"text-2xl font-bold",children:[l.season_stats.consistency.toFixed(0),"%"]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:"Availability Status"}),r.jsx("span",{className:"capitalize",children:l.availability_status.replace("_"," ")})]}),r.jsx(ar,{value:l.availability_status==="multi_rostered"?100:l.availability_status==="rostered"?75:25,className:"h-2"})]})]})]}),r.jsxs(H,{children:[r.jsx(Z,{children:r.jsx(ee,{children:"Player Info"})}),r.jsx(Q,{className:"space-y-3",children:r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"Position"}),r.jsx("p",{className:"font-medium",children:l.position})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"NFL Team"}),r.jsx("p",{className:"font-medium",children:l.nfl_team})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"Number"}),r.jsxs("p",{className:"font-medium",children:["#",l.number]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"Depth Chart"}),r.jsx("p",{className:"font-medium",children:l.depth_chart})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"Height"}),r.jsxs("p",{className:"font-medium",children:[l.height,'""']})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"Weight"}),r.jsxs("p",{className:"font-medium",children:[l.weight," lbs"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"College"}),r.jsx("p",{className:"font-medium",children:l.college})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"Age"}),r.jsx("p",{className:"font-medium",children:l.age})]})]})})]})]})}),r.jsx(Ce,{value:"performance",className:"space-y-4",children:r.jsxs(H,{children:[r.jsxs(Z,{children:[r.jsxs(ee,{className:"flex items-center space-x-2",children:[r.jsx(Bc,{className:"h-5 w-5"}),r.jsx("span",{children:"Weekly Performance"})]}),r.jsx(he,{children:"Fantasy points by week across all leagues"})]}),r.jsx(Q,{children:l.season_stats.weeklyPerformance.length>0?r.jsx("div",{className:"rounded-md border",children:r.jsxs(Bt,{children:[r.jsx(zt,{children:r.jsxs(be,{children:[r.jsx(ne,{children:"Week"}),r.jsx(ne,{children:"Conference"}),r.jsx(ne,{className:"text-right",children:"Points"})]})}),r.jsx(Vt,{children:l.season_stats.weeklyPerformance.sort((p,x)=>x.week-p.week).slice(0,10).map((p,x)=>r.jsxs(be,{children:[r.jsxs(Y,{className:"font-medium",children:["Week ",p.week]}),r.jsx(Y,{children:p.conference_name}),r.jsx(Y,{className:"text-right font-mono",children:p.points.toFixed(1)})]},x))})]})}):r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-muted-foreground",children:"No performance data available"})})})]})}),r.jsxs(Ce,{value:"details",className:"space-y-4",children:[r.jsxs(H,{children:[r.jsxs(Z,{children:[r.jsx(ee,{children:"Roster Information"}),r.jsx(he,{children:"Current roster status across all conferences"})]}),r.jsx(Q,{children:l.rostered_by.length>0?r.jsx("div",{className:"space-y-4",children:l.rostered_by.map((p,x)=>r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"font-semibold",children:p.team_name}),r.jsx(te,{variant:"outline",children:p.conference_name})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"Owner"}),r.jsx("p",{className:"font-medium",children:p.owner_name})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"Roster ID"}),r.jsx("p",{className:"font-medium",children:p.roster_id})]})]})]},x))}):r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-muted-foreground",children:"Player is currently a free agent"})})})]}),l.injury_status&&r.jsxs(H,{children:[r.jsx(Z,{children:r.jsxs(ee,{className:"flex items-center space-x-2",children:[r.jsx(We,{className:"h-5 w-5 text-yellow-600"}),r.jsx("span",{children:"Injury Status"})]})}),r.jsx(Q,{children:r.jsxs("div",{className:"flex items-start space-x-3 p-4 border rounded-lg bg-yellow-50 dark:bg-yellow-900/20",children:[r.jsx(We,{className:"h-5 w-5 text-yellow-600 mt-0.5"}),r.jsxs("div",{children:[r.jsxs("h4",{className:"font-semibold text-yellow-800 dark:text-yellow-200",children:["Status: ",l.injury_status]}),r.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"Player is currently listed with an injury designation. Monitor status updates."})]})]})})]})]})]})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsx(Lt,{to:"/players",children:r.jsxs(se,{variant:"ghost",className:"mb-4",children:[r.jsx(Il,{className:"mr-2 h-4 w-4"}),"Back to Players"]})}),r.jsxs(Oe,{children:[r.jsx(We,{className:"h-4 w-4"}),r.jsx(Fe,{children:"Player not found or not available in the current season configuration."})]})]})},N6=()=>{var _,E,C;const{toast:e}=en(),{selectedConference:t,currentSeasonConfig:n,loading:s,error:a}=Gs(),[i,o]=m.useState([]),[l,c]=m.useState([]),[d,u]=m.useState(!0),[h,f]=m.useState(null),[g,j]=m.useState({team:"all",player:"",type:"all",conference:"all"}),v=async()=>{if(!n){u(!1);return}try{u(!0),f(null);const N=t==="all"||t===null?n.conferences:n.conferences.filter(L=>L.id===t),k=N.filter(L=>L.dbConferenceId).map(L=>L.dbConferenceId);if(k.length===0){o([]),c([]);return}const R=await ie.getTransactions({filters:[{column:"conference_id",operator:"in",value:k}],orderBy:{column:"created_at",ascending:!1}});if(R.error||!R.data)throw new Error(R.error||"Failed to fetch transactions");const A=await ie.getTeams({}),$=await ie.getTeamConferenceJunctions({filters:[{column:"conference_id",operator:"in",value:k}]}),M=await ie.getAllPlayersForMapping([{column:"playing_status",operator:"eq",value:"Active"},{column:"position",operator:"in",value:["QB","RB","WR","TE"]}]),V=new Map;M.forEach(L=>{L.sleeper_id&&V.set(String(L.sleeper_id),L.player_name)});const B=await Promise.all(R.data.map(async L=>{let U={};try{U=typeof L.data=="string"?JSON.parse(L.data):L.data||{}}catch(q){console.warn("Failed to parse transaction data:",q)}const D=N.find(q=>q.dbConferenceId===L.conference_id),S=q=>{var O;const K=(O=$.data)==null?void 0:O.find(ae=>ae.roster_id.toString()===q.toString()&&ae.conference_id===L.conference_id);if(K&&A.data){const ae=A.data.find(oe=>oe.id===K.team_id);return(ae==null?void 0:ae.team_name)||"Unknown Team"}return"Unknown Team"};let T="Unknown Team";U.roster_ids&&U.roster_ids.length>0&&(T=S(U.roster_ids[0]));const P=[],F=[],I=q=>{const K=String(q);return V.get(K)||`Player ${K}`};if(U.adds)for(const[q,K]of Object.entries(U.adds)){const O=I(q),ae=S(K);P.push({name:O,team:ae})}if(U.drops)for(const[q,K]of Object.entries(U.drops)){const O=I(q),ae=S(K);F.push({name:O,team:ae})}let G="";const le=U.type||L.type,X=new Set;switch(U.roster_ids&&U.roster_ids.forEach(q=>{const K=S(q);K!=="Unknown Team"&&X.add(K)}),le){case"trade":if(P.length>0||F.length>0){const q=[];P.forEach(K=>q.push(`${K.name} to ${K.team}`)),F.forEach(K=>q.push(`${K.name} from ${K.team}`)),X.size>1?G=`Trade between ${Array.from(X).join(" and ")}: ${q.join(", ")}`:G=`${T} trade: ${q.join(", ")}`}else U.draft_picks&&U.draft_picks.length>0?G=`Trade involving ${U.draft_picks.map(K=>`${K.season} Round ${K.round} pick`).join(", ")}`:G=`Trade between ${Array.from(X).join(" and ")}`;break;case"waiver":P.length>0&&F.length>0?G=`${T} claimed ${P.map(q=>q.name).join(", ")} from waivers, dropped ${F.map(q=>q.name).join(", ")}`:P.length>0?G=`${T} claimed ${P.map(q=>q.name).join(", ")} from waivers`:F.length>0?G=`${T} dropped ${F.map(q=>q.name).join(", ")} to waivers`:G=`${T} made a waiver claim`;break;case"free_agent":P.length>0&&F.length>0?G=`${T} added ${P.map(q=>q.name).join(", ")}, dropped ${F.map(q=>q.name).join(", ")}`:P.length>0?G=`${T} added ${P.map(q=>q.name).join(", ")} from free agency`:F.length>0?G=`${T} dropped ${F.map(q=>q.name).join(", ")}`:G=`${T} made a free agent transaction`;break;default:G=`${T} completed a ${le||"transaction"}`}const W=U.type==="trade"?"trade":U.type==="waiver"?"waiver":U.type==="free_agent"?"free_agent":"commissioner";return{id:L.id.toString(),type:W,date:new Date(L.created_at||new Date),details:G,teams:[T],players:{added:P.map(q=>({id:"",name:q.name,team:q.team})),dropped:F.map(q=>({id:"",name:q.name,team:q.team}))},week:U.leg||0,status:"completed",rosterIds:U.roster_ids||[],draftPicks:U.draft_picks||[],waiverBudget:U.waiver_budget||[],conference:(D==null?void 0:D.name)||"Unknown Conference",conferenceId:L.conference_id.toString()}}));o(B),c(B)}catch(N){console.error("Error fetching transactions:",N),f("Failed to load transactions. Please try again."),e({title:"Error",description:"Failed to load transactions. Please try again.",variant:"destructive"})}finally{u(!1)}},w=()=>{let N=[...i];g.team&&g.team!=="all"&&(N=N.filter(k=>k.teams.some(R=>R.toLowerCase().includes(g.team.toLowerCase())))),g.player&&(N=N.filter(k=>{const R=k.players.added||[],A=k.players.dropped||[];return[...R,...A].some($=>$.name.toLowerCase().includes(g.player.toLowerCase()))})),g.type&&g.type!=="all"&&(N=N.filter(k=>k.type===g.type)),g.conference&&g.conference!=="all"&&(N=N.filter(k=>k.conferenceId===g.conference)),c(N)},p=()=>{j({team:"all",player:"",type:"all",conference:"all"})},x=(N,k)=>{j(R=>({...R,[N]:k}))};m.useEffect(()=>{v()},[n,t]),m.useEffect(()=>{w()},[g,i]);const y=()=>{const N=new Set(i.map(k=>k.type));return Array.from(N).filter(k=>k&&k.trim()!=="")},b=()=>{const N=new Set;return i.forEach(k=>{k.teams.forEach(R=>{R&&R.trim()!==""&&N.add(R)})}),Array.from(N).sort()};return s?r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Transactions"}),r.jsx("p",{className:"text-muted-foreground",children:"All roster moves and trades across conferences"})]})}),r.jsx("div",{className:"grid gap-4",children:[...Array(5)].map((N,k)=>r.jsx(H,{className:"animate-pulse",children:r.jsxs(Q,{className:"p-6",children:[r.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),r.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]})},k))})]}):a?r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Transactions"}),r.jsx("p",{className:"text-muted-foreground",children:"All roster moves and trades across conferences"})]})}),r.jsx(Oe,{variant:"destructive",children:r.jsxs(Fe,{children:["App Error: ",a]})})]}):n?d?r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Transactions"}),r.jsx("p",{className:"text-muted-foreground",children:"All roster moves and trades across conferences"})]})}),r.jsx("div",{className:"grid gap-4",children:[...Array(5)].map((N,k)=>r.jsx(H,{className:"animate-pulse",children:r.jsxs(Q,{className:"p-6",children:[r.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),r.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]})},k))})]}):h?r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Transactions"}),r.jsx("p",{className:"text-muted-foreground",children:"All roster moves and trades across conferences"})]})}),r.jsx(Oe,{variant:"destructive",children:r.jsx(Fe,{children:h})}),r.jsxs(se,{onClick:v,className:"w-full",children:[r.jsx(Ye,{className:"mr-2 h-4 w-4"}),"Try Again"]})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Transactions"}),r.jsx("p",{className:"text-muted-foreground",children:"All roster moves and trades across conferences"})]}),r.jsxs(se,{onClick:v,variant:"outline",size:"sm",children:[r.jsx(Ye,{className:"mr-2 h-4 w-4"}),"Refresh"]})]}),r.jsxs(H,{children:[r.jsxs(Z,{children:[r.jsxs(ee,{className:"flex items-center space-x-2",children:[r.jsx(iN,{className:"h-5 w-5"}),r.jsx("span",{children:"Filters"})]}),r.jsx(he,{children:"Filter transactions by team, player, type, or conference"})]}),r.jsxs(Q,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Team"}),r.jsxs(Nt,{value:g.team,onValueChange:N=>x("team",N),children:[r.jsx(gt,{children:r.jsx(Ct,{placeholder:"All teams"})}),r.jsxs(xt,{children:[r.jsx(Pe,{value:"all",children:"All teams"}),b().filter(N=>N&&N.trim()!=="").map(N=>r.jsx(Pe,{value:N,children:N},N))]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Player"}),r.jsxs("div",{className:"relative",children:[r.jsx(Ax,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(Jt,{placeholder:"Search players...",value:g.player,onChange:N=>x("player",N.target.value),className:"pl-10"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Type"}),r.jsxs(Nt,{value:g.type,onValueChange:N=>x("type",N),children:[r.jsx(gt,{children:r.jsx(Ct,{placeholder:"All types"})}),r.jsxs(xt,{children:[r.jsx(Pe,{value:"all",children:"All types"}),y().filter(N=>N&&N.trim()!=="").map(N=>r.jsx(Pe,{value:N,children:N==="trade"?"Trade":N==="free_agent"?"Free Agent":N==="waiver"?"Waiver":N==="commissioner"?"Commissioner":N},N))]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Conference"}),r.jsxs(Nt,{value:g.conference,onValueChange:N=>x("conference",N),children:[r.jsx(gt,{children:r.jsx(Ct,{placeholder:"All conferences"})}),r.jsxs(xt,{children:[r.jsx(Pe,{value:"all",children:"All conferences"}),(_=n==null?void 0:n.conferences)==null?void 0:_.filter(N=>{var R;const k=((R=N.dbConferenceId)==null?void 0:R.toString())||N.id;return k&&k.trim()!==""}).map(N=>{var R;const k=((R=N.dbConferenceId)==null?void 0:R.toString())||N.id;return r.jsx(Pe,{value:k,children:N.name},k)})]})]})]})]}),r.jsxs("div",{className:"flex items-center justify-between mt-4",children:[r.jsx("div",{className:"flex items-center space-x-2",children:(g.team!=="all"||g.player!==""||g.type!=="all"||g.conference!=="all")&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Active filters:"}),g.team!=="all"&&r.jsxs(te,{variant:"secondary",children:["Team: ",g.team]}),g.player!==""&&r.jsxs(te,{variant:"secondary",children:["Player: ",g.player]}),g.type!=="all"&&r.jsxs(te,{variant:"secondary",children:["Type: ",g.type]}),g.conference!=="all"&&r.jsxs(te,{variant:"secondary",children:["Conference: ",(C=(E=n==null?void 0:n.conferences)==null?void 0:E.filter(N=>{var R;const k=((R=N.dbConferenceId)==null?void 0:R.toString())||N.id;return k&&k.trim()!==""}).find(N=>{var k;return((k=N.dbConferenceId)==null?void 0:k.toString())===g.conference}))==null?void 0:C.name]})]})}),(g.team!=="all"||g.player!==""||g.type!=="all"||g.conference!=="all")&&r.jsx(se,{variant:"outline",size:"sm",onClick:p,children:"Reset Filters"})]})]})]}),r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Us,{className:"h-5 w-5 text-primary"}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:["Showing ",l.length," of ",i.length," transactions"]})]})}),r.jsx("div",{className:"space-y-4",children:l.length>0?l.map((N,k)=>r.jsx(zE,{transaction:N},k)):r.jsx(H,{children:r.jsxs(Q,{className:"p-12 text-center",children:[r.jsx(Us,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No transactions found"}),r.jsx("p",{className:"text-muted-foreground",children:g.team!=="all"||g.player!==""||g.type!=="all"||g.conference!=="all"?"No transactions match your current filters. Try adjusting your search criteria.":"No transactions available at this time."}),(g.team!=="all"||g.player!==""||g.type!=="all"||g.conference!=="all")&&r.jsx(se,{variant:"outline",onClick:p,className:"mt-4",children:"Clear Filters"})]})})})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Transactions"}),r.jsx("p",{className:"text-muted-foreground",children:"All roster moves and trades across conferences"})]})}),r.jsx("div",{className:"grid gap-4",children:[...Array(5)].map((N,k)=>r.jsx(H,{className:"animate-pulse",children:r.jsxs(Q,{className:"p-6",children:[r.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),r.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]})},k))})]})},C6=()=>{var U;const{selectedSeason:e,selectedConference:t}=Gs(),{toast:n}=en(),[s,a]=m.useState(1),[i,o]=m.useState("board"),[l,c]=m.useState(!0),[d,u]=m.useState([]),[h,f]=m.useState([]),[g,j]=m.useState([]),[v,w]=m.useState({}),[p,x]=m.useState([]),[y,b]=m.useState(!1),[_,E]=m.useState(new Set);m.useEffect(()=>{C()},[]),m.useEffect(()=>{e&&g.length>0&&h.length>0&&p.length>0&&Object.keys(v).length>0&&N()},[e,t,g,h,p,v]);const C=async()=>{c(!0);try{const D=await ie.getSeasons({orderBy:{column:"season_year",ascending:!1},limit:50});if(D.error)throw D.error;j(D.data||[]);const S=await ie.getConferences({orderBy:{column:"conference_name",ascending:!0},limit:50});if(S.error)throw S.error;f(S.data||[]);const T=await ie.getTeams({orderBy:{column:"team_name",ascending:!0},limit:100});if(T.error)throw T.error;x(T.data||[]);try{const P=await ie.getAllPlayersForMapping(),F={};P.forEach(I=>{I.sleeper_id&&(F[I.sleeper_id]=I)}),w(F),console.log(` Loaded ${Object.keys(F).length} players from database (${P.length} total players)`)}catch(P){console.warn("Could not load players data from database:",P),w({})}}catch(D){console.error("Error loading initial data:",D),n({title:"Error",description:`Failed to load initial data: ${D}`,variant:"destructive"})}finally{c(!1)}},N=async()=>{var D;if(!e){console.log(" No selectedSeason, skipping draft data load");return}if(g.length===0){console.log(" Seasons not loaded yet, skipping draft data load");return}if(h.length===0){console.log(" Conferences not loaded yet, skipping draft data load");return}if(p.length===0){console.log(" Teams not loaded yet, skipping draft data load");return}if(Object.keys(v).length===0){console.log(" Players not loaded yet, skipping draft data load");return}b(!0);try{if(console.log(` Loading draft data for season ${e}, conference: ${t||"all"}`),console.log(` Available data: seasons=${g.length}, conferences=${h.length}, teams=${p.length}, players=${Object.keys(v).length}`),!g.find(G=>G.season_year===e.toString())){console.warn(` Season ${e} not found in database`),console.log("Available seasons:",g.map(G=>G.season_year)),u([]);return}const T=[{column:"draft_year",operator:"eq",value:e.toString()}];console.log(" Draft query filters:",T);const P=await ie.getDraftResults({filters:T,orderBy:{column:"pick_number",ascending:!0},limit:1e3});if(P.error)throw P.error;console.log(` Loaded ${((D=P.data)==null?void 0:D.length)||0} draft picks`);const F=P.data||[],I=F.map(G=>{const le=h.find(q=>q.league_id===G.league_id),X=v[G.sleeper_id],W=p.find(q=>q.owner_id===G.owner_id);return F.indexOf(G)<3&&console.log(` Processing pick ${G.pick_number}:`,{sleeper_id:G.sleeper_id,player_found:!!X,player_name:X==null?void 0:X.player_name,conference_found:!!le,team_found:!!W}),{...G,conference_name:(le==null?void 0:le.conference_name)||"Unknown Conference",player_name:(X==null?void 0:X.player_name)||"Unknown Player",position:(X==null?void 0:X.position)||"UNK",nfl_team:(X==null?void 0:X.nfl_team)||"UNK",owner_name:(W==null?void 0:W.owner_name)||"Unknown Owner",team_name:(W==null?void 0:W.team_name)||"Unknown Team",conference_id:le==null?void 0:le.id,team_id:W==null?void 0:W.id,player_id:G.sleeper_id}});console.log(` Processed ${I.length} draft picks`),console.log("First few picks:",I.slice(0,3)),u(I)}catch(S){console.error("Error loading draft data:",S),n({title:"Error",description:`Failed to load draft data: ${S}`,variant:"destructive"}),u([])}finally{b(!1)}},k=D=>{const S=new Set(_);S.has(D)?S.delete(D):S.add(D),E(S)},R=()=>{if(!t){const F=g.find(G=>G.season_year===e.toString());if(!F)return console.log(" Season not found for getConferencesToShow"),[];const I=h.filter(G=>G.season_id===F.id);return console.log(` Showing ${I.length} conferences for season ${e}`),I}const S={thelegionsofmars:"The Legions of Mars",theguardiansofjupiter:"The Guardians of Jupiter",vulcansoathsworn:"Vulcan's Oathsworn"}[t];if(!S)return console.log(` Unknown conference ID: ${t}`),[];const T=g.find(F=>F.season_year===e.toString());if(!T)return console.log(" Season not found for specific conference"),[];const P=h.find(F=>F.season_id===T.id&&F.conference_name===S);return console.log(` Selected conference: ${S}, found: ${P?"yes":"no"}`),P?[P]:[]},A=D=>{switch(D){case"QB":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"RB":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"WR":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"TE":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"K":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200";case"DEF":return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},$=D=>{let T=d.filter(P=>P.conference_id===D.id).filter(P=>parseInt(P.round)===s);return T.sort((P,F)=>parseInt(P.draft_slot)-parseInt(F.draft_slot)),r.jsxs(H,{children:[r.jsxs(Z,{children:[r.jsxs(ee,{className:"flex items-center space-x-2",children:[r.jsx(ur,{className:"h-5 w-5"}),r.jsx("span",{children:D.conference_name})]}),r.jsxs(he,{children:["Round ",s,"  ",T.length," picks"]})]}),r.jsx(Q,{children:r.jsx("div",{className:"rounded-md border",children:r.jsxs(Bt,{children:[r.jsx(zt,{children:r.jsxs(be,{children:[r.jsx(ne,{className:"w-16",children:"Pick"}),r.jsx(ne,{className:"w-16",children:"Overall"}),r.jsx(ne,{children:"Player"}),r.jsx(ne,{children:"Position"}),r.jsx(ne,{className:"hidden sm:table-cell",children:"NFL Team"}),r.jsx(ne,{children:"Drafted By"})]})}),r.jsx(Vt,{children:T.length>0?T.map(P=>r.jsxs(be,{children:[r.jsx(Y,{className:"font-medium",children:P.draft_slot}),r.jsx(Y,{className:"font-medium",children:P.pick_number}),r.jsx(Y,{className:"font-semibold",children:P.player_name}),r.jsx(Y,{children:r.jsx(te,{className:A(P.position),children:P.position})}),r.jsx(Y,{className:"hidden sm:table-cell",children:P.nfl_team}),r.jsx(Y,{children:r.jsxs("div",{className:"text-sm",children:[r.jsx("div",{className:"font-medium",children:P.team_name}),r.jsx("div",{className:"text-muted-foreground",children:P.owner_name})]})})]},`${D.id}-${P.pick_number}`)):r.jsx(be,{children:r.jsxs(Y,{colSpan:6,className:"text-center text-muted-foreground py-8",children:["No picks found for round ",s]})})})]})})})]},D.id)},M=()=>{const D=R();return r.jsx("div",{className:"space-y-6",children:D.map(S=>{const T=d.filter(I=>I.conference_id===S.id),P=new Map;T.forEach(I=>{const G=I.team_id;P.has(G)||P.set(G,{team_id:I.team_id,owner_name:I.owner_name,team_name:I.team_name,picks:[]}),P.get(G).picks.push(I)}),P.forEach(I=>{I.picks.sort((G,le)=>{const X=parseInt(G.round),W=parseInt(le.round);return X!==W?X-W:parseInt(G.draft_slot)-parseInt(le.draft_slot)})});const F=Array.from(P.values());return r.jsxs(H,{children:[r.jsx(Z,{children:r.jsxs(ee,{className:"flex items-center space-x-2",children:[r.jsx(Zt,{className:"h-5 w-5"}),r.jsxs("span",{children:[S.conference_name," - Team Draft Summary"]})]})}),r.jsxs(Q,{children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:F.map(I=>{const G=_.has(I.team_id),le=G?I.picks:I.picks.slice(0,8);return r.jsxs(H,{children:[r.jsxs(Z,{className:"pb-2",children:[r.jsx(ee,{className:"text-lg",children:I.team_name}),r.jsxs(he,{children:[I.owner_name,"  ",I.picks.length," picks"]})]}),r.jsx(Q,{children:r.jsxs("div",{className:"space-y-2",children:[le.map(X=>r.jsxs("div",{className:"flex items-center justify-between p-2 rounded-md bg-accent/50",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(te,{variant:"outline",className:"text-xs",children:["R",X.round]}),r.jsx("span",{className:"font-medium text-sm",children:X.player_name}),r.jsx(te,{className:`${A(X.position)} text-xs`,children:X.position})]}),r.jsxs("span",{className:"text-xs text-muted-foreground",children:["#",X.pick_number]})]},X.pick_number)),I.picks.length>8&&r.jsx("div",{className:"flex justify-center pt-2",children:r.jsx(se,{variant:"ghost",size:"sm",onClick:()=>k(I.team_id),className:"text-xs",children:G?r.jsxs(r.Fragment,{children:[r.jsx(Px,{className:"h-3 w-3 mr-1"}),"Show Less"]}):r.jsxs(r.Fragment,{children:[r.jsx(Ch,{className:"h-3 w-3 mr-1"}),"Show All ",I.picks.length," Picks"]})})})]})})]},I.team_id)})}),F.length===0&&r.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[r.jsx(We,{className:"h-8 w-8 mx-auto mb-2"}),r.jsx("p",{children:"No draft picks found for this conference"}),r.jsx("p",{className:"text-sm",children:"Try syncing draft data from the Admin panel"})]})]})]},S.id)})})};if(l)return r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsx("div",{className:"animate-spin h-8 w-8 border-b-2 border-blue-600 rounded-full"})});console.log(" Render debug:",{selectedSeason:e,selectedConference:t,draftPicksCount:d.length,seasonsCount:g.length,conferencesCount:h.length,teamsCount:p.length});const V=R();console.log(" Conferences to show:",V.length);const B=V.reduce((D,S)=>{const T=new Set(d.filter(P=>P.conference_id===S.id).map(P=>P.team_id));return D+T.size},0),L=Math.max(...d.map(D=>parseInt(D.round)),1);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(tu,{className:"h-6 w-6 text-primary"}),r.jsx("h1",{className:"text-3xl font-bold",children:"Draft Results"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("p",{className:"text-muted-foreground",children:[e," Season  ",t?((U=V[0])==null?void 0:U.conference_name)||"Conference":"All Conferences"]}),r.jsxs(se,{variant:"outline",size:"sm",onClick:N,disabled:y,children:[y?r.jsx(Ye,{className:"h-4 w-4 mr-2 animate-spin"}):r.jsx(Ye,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(H,{children:r.jsxs(Z,{className:"pb-2",children:[r.jsx(he,{children:"Total Conferences"}),r.jsx(ee,{className:"text-2xl",children:V.length})]})}),r.jsx(H,{children:r.jsxs(Z,{className:"pb-2",children:[r.jsx(he,{children:"Total Teams"}),r.jsx(ee,{className:"text-2xl",children:B})]})}),r.jsx(H,{children:r.jsxs(Z,{className:"pb-2",children:[r.jsx(he,{children:"Total Picks"}),r.jsx(ee,{className:"text-2xl",children:d.length})]})}),r.jsx(H,{children:r.jsxs(Z,{className:"pb-2",children:[r.jsx(he,{children:"Max Rounds"}),r.jsx(ee,{className:"text-2xl",children:L})]})})]}),d.length===0?r.jsx(H,{children:r.jsxs(Q,{className:"flex flex-col items-center justify-center py-12",children:[r.jsx(We,{className:"h-12 w-12 text-muted-foreground mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Draft Results Found"}),r.jsxs("p",{className:"text-muted-foreground text-center mb-4",children:["No draft picks found for the ",e," season",t?` in ${t}`:"","."]}),r.jsxs("div",{className:"text-sm text-muted-foreground text-center space-y-2",children:[r.jsx("p",{children:"Try:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[r.jsx("li",{children:"Selecting a different season from the dropdown above"}),r.jsx("li",{children:'Choosing "All Conferences" if you have a conference selected'}),r.jsx("li",{children:"Syncing draft data from Admin  Data Sync  Draft Sync"})]})]})]})}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:r.jsx("div",{className:"flex items-center space-x-4",children:r.jsxs(Nt,{value:s.toString(),onValueChange:D=>a(parseInt(D)),children:[r.jsx(gt,{className:"w-32",children:r.jsx(Ct,{})}),r.jsx(xt,{children:Array.from({length:L},(D,S)=>r.jsxs(Pe,{value:(S+1).toString(),children:["Round ",S+1]},S+1))})]})})}),r.jsxs(yr,{value:i,onValueChange:D=>o(D),className:"w-full",children:[r.jsxs(Ys,{children:[r.jsx(Ne,{value:"board",children:"Draft Board"}),r.jsx(Ne,{value:"team",children:"Team View"})]}),r.jsx(Ce,{value:"board",className:"space-y-6",children:V.map(D=>$(D))}),r.jsx(Ce,{value:"team",className:"space-y-6",children:M()})]}),r.jsxs(H,{children:[r.jsxs(Z,{children:[r.jsxs(ee,{className:"flex items-center space-x-2",children:[r.jsx($t,{className:"h-5 w-5"}),r.jsx("span",{children:"Draft Analysis"})]}),r.jsx(he,{children:"Draft insights and position trends"})]}),r.jsx(Q,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold text-green-600",children:d.filter(D=>D.position==="RB").length}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Running Backs Drafted"})]}),r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold",children:d.filter(D=>D.position==="QB").length}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Quarterbacks Drafted"})]}),r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold",children:d.filter(D=>D.position==="WR").length}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Wide Receivers Drafted"})]})]})})]})]})]})},ht={scoring:{passing:{passingYards:{points:1,per:25,description:"1 point per 25 passing yards"},passingTDs:{points:4,per:1,description:"4 points per passing touchdown"},interceptions:{points:-2,per:1,description:"-2 points per interception"},passing2pt:{points:2,per:1,description:"2 points per 2-point conversion"}},rushing:{rushingYards:{points:1,per:10,description:"1 point per 10 rushing yards"},rushingTDs:{points:6,per:1,description:"6 points per rushing touchdown"},rushing2pt:{points:2,per:1,description:"2 points per 2-point conversion"}},receiving:{receivingYards:{points:1,per:10,description:"1 point per 10 receiving yards"},receptions:{points:.5,per:1,description:"0.5 points per reception (PPR)"},receivingTDs:{points:6,per:1,description:"6 points per receiving touchdown"},receiving2pt:{points:2,per:1,description:"2 points per 2-point conversion"}},kicking:{fieldGoals0_39:{points:3,per:1,description:"3 points per field goal (0-39 yards)"},fieldGoals40_49:{points:4,per:1,description:"4 points per field goal (40-49 yards)"},fieldGoals50Plus:{points:5,per:1,description:"5 points per field goal (50+ yards)"},extraPoints:{points:1,per:1,description:"1 point per extra point"},missedFieldGoals:{points:-1,per:1,description:"-1 point per missed field goal"}}},roster:{positions:{QB:1,RB:2,WR:2,TE:1,FLEX:1,K:1,DEF:1,BENCH:6},totalRosterSize:15,irSlots:2,waiverSystem:"FAAB",waiverBudget:100,waiverClearTime:"Wednesday 3:00 AM ET"},schedule:{regularSeasonWeeks:14,playoffWeeks:3,playoffTeams:6,tradeDeadline:"Week 11",seasonStart:"2024-09-05",playoffStart:"2024-12-17"},payouts:{entryFee:50,totalPot:600,firstPlace:300,secondPlace:180,thirdPlace:90,regularSeasonChamp:30}},E6=()=>{const{selectedSeason:e,selectedConference:t,currentSeasonConfig:n}=Gs(),[s,a]=m.useState("scoring"),i=(o,l)=>r.jsxs(H,{children:[r.jsx(Z,{children:r.jsx(ee,{className:"capitalize",children:o})}),r.jsx(Q,{children:r.jsx("div",{className:"rounded-md border",children:r.jsxs(Bt,{children:[r.jsx(zt,{children:r.jsxs(be,{children:[r.jsx(ne,{children:"Statistic"}),r.jsx(ne,{className:"text-right",children:"Points"}),r.jsx(ne,{className:"hidden md:table-cell",children:"Description"})]})}),r.jsx(Vt,{children:Object.entries(l).map(([c,d])=>r.jsxs(be,{children:[r.jsx(Y,{className:"font-medium",children:c.replace(/([A-Z])/g," $1").replace(/^./,u=>u.toUpperCase())}),r.jsx(Y,{className:"text-right font-mono",children:r.jsxs(te,{variant:d.points>0?"default":"destructive",children:[d.points>0?"+":"",d.points]})}),r.jsx(Y,{className:"hidden md:table-cell text-sm text-muted-foreground",children:d.description})]},c))})]})})})]});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(uc,{className:"h-6 w-6 text-primary"}),r.jsx("h1",{className:"text-3xl font-bold",children:"League Rules"})]}),r.jsxs("p",{className:"text-muted-foreground",children:[e," Season  Official rules and regulations for the Gladiator League"]})]}),r.jsxs(Oe,{children:[r.jsx(Nw,{className:"h-4 w-4"}),r.jsx(ng,{children:"League Information"}),r.jsx(Fe,{children:"These rules apply to all three conferences within the Gladiator League. Conference-specific variations are noted where applicable."})]}),r.jsxs(yr,{value:s,onValueChange:a,className:"w-full",children:[r.jsxs(Ys,{className:"grid w-full grid-cols-5",children:[r.jsx(Ne,{value:"scoring",children:"Scoring"}),r.jsx(Ne,{value:"roster",children:"Roster"}),r.jsx(Ne,{value:"schedule",children:"Schedule"}),r.jsx(Ne,{value:"payouts",children:"Payouts"}),r.jsx(Ne,{value:"charter",children:"Charter"})]}),r.jsxs(Ce,{value:"scoring",className:"space-y-6",children:[r.jsxs("div",{className:"grid gap-6",children:[i("passing",ht.scoring.passing),i("rushing",ht.scoring.rushing),i("receiving",ht.scoring.receiving),i("kicking",ht.scoring.kicking)]}),r.jsxs(H,{children:[r.jsx(Z,{children:r.jsxs(ee,{className:"flex items-center space-x-2",children:[r.jsx(Iu,{className:"h-5 w-5"}),r.jsx("span",{children:"Scoring Summary"})]})}),r.jsx(Q,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold",children:"PPR"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"0.5 Points per Reception"})]}),r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold",children:"4/6"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Pass TD / Rush-Rec TD"})]}),r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold",children:"25/10"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Pass Yards / Rush-Rec Yards"})]})]})})]})]}),r.jsxs(Ce,{value:"roster",className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs(H,{children:[r.jsxs(Z,{children:[r.jsxs(ee,{className:"flex items-center space-x-2",children:[r.jsx(Zt,{className:"h-5 w-5"}),r.jsx("span",{children:"Starting Lineup"})]}),r.jsx(he,{children:"Required positions for weekly lineup"})]}),r.jsx(Q,{children:r.jsx("div",{className:"space-y-3",children:Object.entries(ht.roster.positions).map(([o,l])=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(te,{variant:"outline",children:o}),r.jsx("span",{className:"text-sm text-muted-foreground",children:o==="FLEX"?"RB/WR/TE":o==="BENCH"?"Bench Players":o==="DEF"?"Team Defense":o})]}),r.jsx("span",{className:"font-semibold",children:l})]},o))})})]}),r.jsxs(H,{children:[r.jsxs(Z,{children:[r.jsx(ee,{children:"Roster Management"}),r.jsx(he,{children:"Waivers, trades, and roster rules"})]}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Roster Size"}),r.jsx("p",{className:"text-2xl font-bold",children:ht.roster.totalRosterSize})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"IR Slots"}),r.jsx("p",{className:"text-2xl font-bold",children:ht.roster.irSlots})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Waiver System"}),r.jsx("p",{className:"font-semibold",children:ht.roster.waiverSystem})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"FAAB Budget"}),r.jsxs("p",{className:"font-semibold",children:["$",ht.roster.waiverBudget]})]})]}),r.jsxs("div",{className:"pt-4 border-t",children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Waiver Clear Time"}),r.jsx("p",{className:"font-medium",children:ht.roster.waiverClearTime})]})]})]})]}),r.jsxs(H,{children:[r.jsx(Z,{children:r.jsx(ee,{children:"Roster Rules"})}),r.jsx(Q,{children:r.jsx("div",{className:"prose prose-sm max-w-none",children:r.jsxs("ul",{className:"space-y-2",children:[r.jsx("li",{children:"All roster moves are processed through the waiver system except for free agents"}),r.jsx("li",{children:"Players can be dropped and picked up immediately if they clear waivers"}),r.jsx("li",{children:"IR slots can only be used for players with IR, Out, or PUP designations"}),r.jsx("li",{children:"Lineup changes must be made before the player's game starts"}),r.jsx("li",{children:"No trading of FAAB budget between teams"})]})})})]})]}),r.jsxs(Ce,{value:"schedule",className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs(H,{children:[r.jsxs(Z,{children:[r.jsxs(ee,{className:"flex items-center space-x-2",children:[r.jsx(Zn,{className:"h-5 w-5"}),r.jsx("span",{children:"Season Structure"})]}),r.jsx(he,{children:"Regular season and playoff format"})]}),r.jsx(Q,{className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Regular Season"}),r.jsxs("p",{className:"text-2xl font-bold",children:[ht.schedule.regularSeasonWeeks," weeks"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Playoffs"}),r.jsxs("p",{className:"text-2xl font-bold",children:[ht.schedule.playoffWeeks," weeks"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Playoff Teams"}),r.jsxs("p",{className:"text-2xl font-bold",children:[ht.schedule.playoffTeams,"/12"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Trade Deadline"}),r.jsx("p",{className:"font-semibold",children:ht.schedule.tradeDeadline})]})]})})]}),r.jsxs(H,{children:[r.jsxs(Z,{children:[r.jsx(ee,{children:"Important Dates"}),r.jsxs(he,{children:[e," season timeline"]})]}),r.jsxs(Q,{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsx("span",{className:"font-medium",children:"Season Start"}),r.jsx("span",{className:"text-sm",children:new Date(ht.schedule.seasonStart).toLocaleDateString()})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsx("span",{className:"font-medium",children:"Trade Deadline"}),r.jsxs("span",{className:"text-sm",children:["End of ",ht.schedule.tradeDeadline]})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsx("span",{className:"font-medium",children:"Playoffs Begin"}),r.jsx("span",{className:"text-sm",children:new Date(ht.schedule.playoffStart).toLocaleDateString()})]})]})]})]}),r.jsxs(H,{children:[r.jsx(Z,{children:r.jsx(ee,{children:"Playoff Format"})}),r.jsx(Q,{children:r.jsxs("div",{className:"prose prose-sm max-w-none",children:[r.jsx("p",{className:"mb-4",children:"The playoffs consist of the top 6 teams from each conference, with the following bracket:"}),r.jsxs("ul",{className:"space-y-2",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Week 15:"})," Wild Card Round - #3 vs #6, #4 vs #5 (Top 2 teams get bye)"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Week 16:"})," Semifinals - #1 vs lowest remaining seed, #2 vs highest remaining seed"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Week 17:"})," Championship Game - Winners of semifinals"]})]}),r.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:"Seeding is determined by regular season record, with total points as the tiebreaker."})]})})]})]}),r.jsxs(Ce,{value:"payouts",className:"space-y-6",children:[r.jsxs(H,{children:[r.jsxs(Z,{children:[r.jsxs(ee,{className:"flex items-center space-x-2",children:[r.jsx(Pp,{className:"h-5 w-5"}),r.jsx("span",{children:"Prize Structure"})]}),r.jsxs(he,{children:["Entry fee: $",ht.payouts.entryFee," per team  Total pot: $",ht.payouts.totalPot]})]}),r.jsx(Q,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-semibold",children:"Championship Payouts"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-yellow-50 dark:bg-yellow-900/20",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx($t,{className:"h-5 w-5 text-yellow-600"}),r.jsx("span",{className:"font-medium",children:"1st Place"})]}),r.jsxs("span",{className:"font-bold text-lg",children:["$",ht.payouts.firstPlace]})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsx("span",{className:"font-medium",children:"2nd Place"}),r.jsxs("span",{className:"font-bold",children:["$",ht.payouts.secondPlace]})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsx("span",{className:"font-medium",children:"3rd Place"}),r.jsxs("span",{className:"font-bold",children:["$",ht.payouts.thirdPlace]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-semibold",children:"Regular Season Awards"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsx("span",{className:"font-medium",children:"Regular Season Champion"}),r.jsxs("span",{className:"font-bold",children:["$",ht.payouts.regularSeasonChamp]})]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx("p",{children:"Regular season champion is the team with the best record after 14 weeks."}),r.jsx("p",{className:"mt-2",children:"Tiebreakers: Total points scored, then head-to-head record."})]})]})]})]})})]}),r.jsxs(H,{children:[r.jsx(Z,{children:r.jsx(ee,{children:"Payment Rules"})}),r.jsx(Q,{children:r.jsx("div",{className:"prose prose-sm max-w-none",children:r.jsxs("ul",{className:"space-y-2",children:[r.jsx("li",{children:"Entry fees must be paid before the start of Week 1"}),r.jsx("li",{children:"No team can participate in playoffs without paying entry fee"}),r.jsx("li",{children:"Payouts will be distributed within 1 week of season completion"}),r.jsx("li",{children:"All payments handled through league management"})]})})})]})]}),r.jsxs(Ce,{value:"charter",className:"space-y-6",children:[r.jsxs(H,{children:[r.jsxs(Z,{children:[r.jsx(ee,{children:"League Charter"}),r.jsx(he,{children:"Official constitution and bylaws of the Gladiator League"})]}),r.jsxs(Q,{children:[r.jsxs(Oe,{className:"mb-6",children:[r.jsx(Nw,{className:"h-4 w-4"}),r.jsx(ng,{children:"Charter Document"}),r.jsx(Fe,{children:"The complete league charter will be uploaded and displayed here by the league administrator. This section will contain all official rules, policies, and procedures."})]}),r.jsxs("div",{className:"text-center py-12 border-2 border-dashed rounded-lg",children:[r.jsx(uc,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Charter Document"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:"The league charter document will be displayed here when uploaded by an administrator."}),r.jsx(se,{variant:"outline",children:"Contact Admin to Upload Charter"})]})]})]}),r.jsxs(H,{children:[r.jsx(Z,{children:r.jsx(ee,{children:"League History"})}),r.jsx(Q,{children:r.jsxs("div",{className:"prose prose-sm max-w-none",children:[r.jsx("p",{children:"The Gladiator League was founded in 2024 as a premier fantasy football competition consisting of three competitive conferences: Legions of Mars, Guardians of Jupiter, and Vulcan's Oathsworn."}),r.jsx("p",{className:"mt-4",children:"Each conference operates as an independent league while following unified rules and participating in inter-conference competition during special events."})]})})]})]})]})]})},T6=()=>{const{toast:e}=en(),[t,n]=m.useState(!1),[s,a]=m.useState([]),i={2024:["1072580179844857856","1072593839715667968","1072593416955015168"],2025:["1204854057169072128","1204857692007440384","1204857608989577216"]},o={2024:1,2025:2},l=async d=>{try{console.log(`Fetching data for league ID: ${d}`);const u=await fetch(`https://api.sleeper.app/v1/league/${d}`);if(!u.ok)throw new Error(`HTTP error! status: ${u.status}`);const h=await u.json();return console.log(`Data received for league ${d}:`,h),{name:h.name||"",league_id:h.league_id||d,season:h.season||"",draft_id:h.draft_id||"",status:h.status||"",avatar:h.avatar||""}}catch(u){return console.error(`Error fetching data for league ${d}:`,u),null}},c=async()=>{n(!0);const d=[];try{const u=[...i[2024],...i[2025]];for(const f of u){const g=await l(f);g&&d.push(g)}console.log("All fetched data:",d),a(d);const h=d.map(f=>{const g=o[f.season]||0,j=f.avatar?`https://sleepercdn.com/avatars/thumbs/${f.avatar}`:"";return{conference_name:f.name,league_id:f.league_id,season_id:g,draft_id:f.draft_id,status:f.status,league_logo_url:j}});console.log("Conference records to insert:",h);for(const f of h)try{const{error:g}=await window.ezsite.apis.tableCreate("12820",f);if(g)throw console.error("Error inserting conference record:",g),new Error(g)}catch(g){console.error("Failed to insert conference record:",g),e({title:"Error",description:`Failed to insert conference: ${f.conference_name}`,variant:"destructive"})}e({title:"Success",description:`Successfully loaded ${h.length} conferences from Sleeper API`})}catch(u){console.error("Error loading conferences data:",u),e({title:"Error",description:"Failed to load conferences data from Sleeper API",variant:"destructive"})}finally{n(!1)}};return r.jsxs("div",{className:"p-4 space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Conferences Data Loader"}),r.jsx("button",{onClick:c,disabled:t,className:"px-4 py-2 bg-blue-600 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-blue-700 transition-colors",children:t?"Loading...":"Load Conferences Data"})]}),r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsx("p",{children:"This will fetch data from Sleeper API for the following league IDs:"}),r.jsxs("div",{className:"mt-2 space-y-1",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"2024 Season:"})," ",i[2024].join(", ")]}),r.jsxs("div",{children:[r.jsx("strong",{children:"2025 Season:"})," ",i[2025].join(", ")]})]})]}),s.length>0&&r.jsxs("div",{className:"mt-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Loaded Data Preview:"}),r.jsx("div",{className:"space-y-2",children:s.map((d,u)=>r.jsxs("div",{className:"p-3 border rounded-lg bg-gray-50",children:[r.jsx("div",{className:"font-medium",children:d.name}),r.jsxs("div",{className:"text-sm text-gray-600",children:["League ID: ",d.league_id," | Season: ",d.season," | Status: ",d.status]})]},u))})]})]})},k6=()=>{const{toast:e}=en(),[t,n]=m.useState([]),[s,a]=m.useState([]),[i,o]=m.useState(!0),[l,c]=m.useState(!1),d=async()=>{try{const{data:j,error:v}=await window.ezsite.apis.tablePage("12818",{PageNo:1,PageSize:10,OrderByField:"season_year",IsAsc:!0,Filters:[]});if(v)throw new Error(v);a(j.List||[])}catch(j){console.error("Error fetching seasons:",j),e({title:"Error",description:"Failed to load seasons data",variant:"destructive"})}},u=async()=>{try{const{data:j,error:v}=await window.ezsite.apis.tablePage("12820",{PageNo:1,PageSize:50,OrderByField:"conference_name",IsAsc:!0,Filters:[]});if(v)throw new Error(v);n(j.List||[])}catch(j){console.error("Error fetching conferences:",j),e({title:"Error",description:"Failed to load conferences data",variant:"destructive"})}};m.useEffect(()=>{(async()=>{o(!0),await Promise.all([d(),u()]),o(!1)})()},[]);const h=j=>{const v=s.find(w=>w.id===j);return v?v.season_name:`Season ${j}`},f=j=>{switch(j.toLowerCase()){case"in_season":return"bg-green-500";case"complete":return"bg-blue-500";case"drafting":return"bg-orange-500";case"pre_draft":return"bg-yellow-500";default:return"bg-gray-500"}},g=j=>j.replace(/_/g," ").replace(/\b\w/g,v=>v.toUpperCase());return i?r.jsx("div",{className:"container mx-auto px-4 py-8",children:r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"text-lg",children:"Loading conferences..."})})}):r.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-6",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[r.jsx($t,{className:"h-8 w-8 text-yellow-600"}),"Conferences"]}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Fantasy football conferences and leagues"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(se,{variant:"outline",onClick:()=>c(!l),children:[l?"Hide":"Show"," Data Loader"]}),r.jsx(se,{onClick:()=>{u(),e({title:"Refreshed",description:"Conferences data has been refreshed"})},children:"Refresh Data"})]})]}),l&&r.jsx(H,{children:r.jsx(Q,{className:"p-0",children:r.jsx(T6,{})})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(H,{children:r.jsx(Q,{className:"p-6",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Zt,{className:"h-8 w-8 text-blue-600"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:t.length}),r.jsx("div",{className:"text-sm text-gray-600",children:"Total Conferences"})]})]})})}),r.jsx(H,{children:r.jsx(Q,{className:"p-6",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Zn,{className:"h-8 w-8 text-green-600"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:t.filter(j=>j.status==="in_season").length}),r.jsx("div",{className:"text-sm text-gray-600",children:"Active Seasons"})]})]})})}),r.jsx(H,{children:r.jsx(Q,{className:"p-6",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx($t,{className:"h-8 w-8 text-yellow-600"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:s.length}),r.jsx("div",{className:"text-sm text-gray-600",children:"Total Seasons"})]})]})})})]}),r.jsxs(H,{children:[r.jsx(Z,{children:r.jsx(ee,{children:"Conference Details"})}),r.jsx(Q,{children:t.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("p",{className:"text-gray-500 mb-4",children:"No conferences found."}),r.jsx(se,{onClick:()=>c(!0),variant:"outline",children:"Load Conferences Data"})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(Bt,{children:[r.jsx(zt,{children:r.jsxs(be,{children:[r.jsx(ne,{children:"Logo"}),r.jsx(ne,{children:"Conference Name"}),r.jsx(ne,{children:"Season"}),r.jsx(ne,{children:"Status"}),r.jsx(ne,{children:"League ID"}),r.jsx(ne,{children:"Draft ID"}),r.jsx(ne,{children:"Actions"})]})}),r.jsx(Vt,{children:t.map(j=>r.jsxs(be,{children:[r.jsx(Y,{children:j.league_logo_url?r.jsx("img",{src:j.league_logo_url,alt:`${j.conference_name} logo`,className:"w-10 h-10 rounded-full object-cover",onError:v=>{v.target.src="/placeholder.svg"}}):r.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center",children:r.jsx($t,{className:"h-5 w-5 text-gray-400"})})}),r.jsx(Y,{className:"font-medium",children:j.conference_name}),r.jsx(Y,{children:r.jsx(te,{variant:"secondary",children:h(j.season_id)})}),r.jsx(Y,{children:r.jsx(te,{className:`text-white ${f(j.status)}`,children:g(j.status)})}),r.jsx(Y,{className:"font-mono text-sm",children:j.league_id}),r.jsx(Y,{className:"font-mono text-sm",children:j.draft_id||"N/A"}),r.jsx(Y,{children:r.jsx(se,{variant:"ghost",size:"sm",onClick:()=>{window.open(`https://sleeper.app/leagues/${j.league_id}`,"_blank")},children:r.jsx(Rx,{className:"h-4 w-4"})})})]},j.id))})]})})})]})]})};var P6="Label",GE=m.forwardRef((e,t)=>r.jsx(ve.label,{...e,ref:t,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));GE.displayName=P6;var QE=GE;const R6=Bo("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ft=m.forwardRef(({className:e,...t},n)=>r.jsx(QE,{ref:n,className:me(R6(),e),...t}));ft.displayName=QE.displayName;const rg=xC,$0=vC,A6=yC,YE=m.forwardRef(({className:e,...t},n)=>r.jsx(Hh,{ref:n,className:me("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));YE.displayName=Hh.displayName;const Gu=m.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(A6,{children:[r.jsx(YE,{}),r.jsxs(qh,{ref:s,className:me("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,r.jsxs(wC,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(Eh,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Gu.displayName=qh.displayName;const Qu=({className:e,...t})=>r.jsx("div",{className:me("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Qu.displayName="DialogHeader";const Yu=m.forwardRef(({className:e,...t},n)=>r.jsx(Kh,{ref:n,className:me("text-lg font-semibold leading-none tracking-tight",e),...t}));Yu.displayName=Kh.displayName;const ag=m.forwardRef(({className:e,...t},n)=>r.jsx(Gh,{ref:n,className:me("text-sm text-muted-foreground",e),...t}));ag.displayName=Gh.displayName;const D6=()=>{const[e,t]=m.useState([]),[n,s]=m.useState([]),[a,i]=m.useState(null),[o,l]=m.useState(null),[c,d]=m.useState(!1),[u,h]=m.useState(!1),[f,g]=m.useState(!0),[j,v]=m.useState(!1),[w,p]=m.useState(null),{toast:x}=en(),[y,b]=m.useState(""),[_,E]=m.useState(""),[C,N]=m.useState(""),[k,R]=m.useState("");m.useEffect(()=>{A()},[]),m.useEffect(()=>{a&&$()},[a]);const A=async()=>{try{const S=await ie.getSeasons(),T=Array.isArray(S)?S:(S==null?void 0:S.data)||[],P=T.map(I=>({...I,is_current_season:I.is_current_season??!1}));t(P);const F=T.find(I=>I.is_current_season);F?i(F.id):T.length>0&&i(T[0].id)}catch(S){console.error("Error loading seasons:",S),x({title:"Error",description:`Failed to load seasons: ${S}`,variant:"destructive"})}finally{g(!1)}},$=async()=>{var S;if(a)try{const T=await U("load conferences");s(((S=T==null?void 0:T.data)==null?void 0:S.List)||[])}catch(T){console.error("Error loading conferences:",T),x({title:"Error",description:`Failed to load conferences: ${T}`,variant:"destructive"})}},M=async S=>{if(S.preventDefault(),!(!y||!_))try{v(!0);const T=await ie.createSeason({season_year:y,season_name:_,is_current:!1});if(T.error)throw T.error;x({title:"Season Added",description:`${_} has been created successfully`}),b(""),E(""),d(!1),A()}catch(T){console.error("Error adding season:",T),x({title:"Error",description:`Failed to add season: ${T}`,variant:"destructive"})}finally{v(!1)}},V=async S=>{if(S.preventDefault(),!(!C||!k||!a))try{v(!0);const T=await ie.createConference({conference_name:C,league_id:k,season_id:a,draft_id:"",status:"draft",league_logo_url:""});if(T.error)throw T.error;x({title:"League Added",description:`${C} has been created successfully`}),N(""),R(""),h(!1),$()}catch(T){console.error("Error adding league:",T),x({title:"Error",description:`Failed to add league: ${T}`,variant:"destructive"})}finally{v(!1)}},B=async S=>{try{v(!0);const T=await ie.updateConference(S.id,{conference_name:S.conference_name,league_id:S.league_id,season_id:S.season_id,draft_id:S.draft_id,status:S.status,league_logo_url:S.league_logo_url});if(T.error)throw T.error;x({title:"Conference Updated",description:"Conference details have been saved successfully"}),l(null),$()}catch(T){console.error("Error saving conference:",T),x({title:"Error",description:`Failed to save conference: ${T}`,variant:"destructive"})}finally{v(!1)}},L=async S=>{if(S)try{p(S);const T=await fetch(`https://api.sleeper.app/v1/league/${S}`);if(T.ok){const P=await T.json();x({title:"Connection Successful",description:`League "${P.name}" found on Sleeper API`})}else throw new Error(`API returned ${T.status}`)}catch(T){console.error("Error testing connection:",T),x({title:"Connection Failed",description:`Unable to connect to Sleeper API for league ID: ${S}`,variant:"destructive"})}finally{p(null)}},U=async S=>(console.log(`Placeholder: ${S}`),{data:{List:[]},error:null}),D=e.find(S=>S.id===a);return f?r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsx("div",{className:"animate-spin h-8 w-8 border-b-2 border-blue-600 rounded-full"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs(H,{children:[r.jsxs(Z,{children:[r.jsx(ee,{children:"Season Management"}),r.jsx(he,{children:"Select and manage fantasy football seasons"})]}),r.jsx(Q,{children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx(ft,{htmlFor:"season-select",children:"Select Season"}),r.jsxs(Nt,{value:(a==null?void 0:a.toString())||"",onValueChange:S=>i(parseInt(S)),children:[r.jsx(gt,{children:r.jsx(Ct,{placeholder:"Select a season"})}),r.jsx(xt,{children:e.map(S=>r.jsx(Pe,{value:S.id.toString(),children:r.jsxs("div",{className:"flex items-center gap-2",children:[S.season_name,S.is_current_season&&r.jsx(te,{variant:"secondary",className:"text-xs",children:"Current"})]})},S.id))})]})]}),r.jsxs(rg,{open:c,onOpenChange:d,children:[r.jsx($0,{asChild:!0,children:r.jsx(se,{variant:"outline",size:"icon",children:r.jsx($u,{className:"h-4 w-4"})})}),r.jsxs(Gu,{children:[r.jsxs(Qu,{children:[r.jsx(Yu,{children:"Add New Season"}),r.jsx(ag,{children:"Create a new fantasy football season"})]}),r.jsxs("form",{onSubmit:M,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ft,{htmlFor:"season-year",children:"Season Year"}),r.jsx(Jt,{id:"season-year",type:"number",value:y,onChange:S=>b(S.target.value),placeholder:"2025",min:"2020",max:"2030"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ft,{htmlFor:"season-name",children:"Season Name"}),r.jsx(Jt,{id:"season-name",value:_,onChange:S=>E(S.target.value),placeholder:"2025 Season"})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(se,{type:"button",variant:"outline",onClick:()=>d(!1),children:"Cancel"}),r.jsx(se,{type:"submit",disabled:j,children:j?"Adding...":"Add Season"})]})]})]})]})]})})]}),D&&r.jsxs(H,{children:[r.jsx(Z,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(ee,{children:["Conferences - ",D.season_name]}),r.jsxs(he,{children:["Manage league IDs and conference settings for ",D.season_name]})]}),r.jsxs(rg,{open:u,onOpenChange:h,children:[r.jsx($0,{asChild:!0,children:r.jsxs(se,{children:[r.jsx($u,{className:"h-4 w-4 mr-2"}),"Add New League"]})}),r.jsxs(Gu,{children:[r.jsxs(Qu,{children:[r.jsx(Yu,{children:"Add New League"}),r.jsxs(ag,{children:["Add a new conference/league to ",D.season_name]})]}),r.jsxs("form",{onSubmit:V,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ft,{htmlFor:"league-name",children:"League Name"}),r.jsx(Jt,{id:"league-name",value:C,onChange:S=>N(S.target.value),placeholder:"Conference Name"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ft,{htmlFor:"league-id",children:"Sleeper League ID"}),r.jsx(Jt,{id:"league-id",value:k,onChange:S=>R(S.target.value),placeholder:"123456789012345678"})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(se,{type:"button",variant:"outline",onClick:()=>h(!1),children:"Cancel"}),r.jsx(se,{type:"submit",disabled:j,children:j?"Adding...":"Add League"})]})]})]})]})]})}),r.jsx(Q,{children:n.length===0?r.jsx(Oe,{children:r.jsxs(Fe,{children:["No conferences found for ",D.season_name,". Add a new league to get started."]})}):r.jsxs(Bt,{children:[r.jsx(zt,{children:r.jsxs(be,{children:[r.jsx(ne,{children:"Conference Name"}),r.jsx(ne,{children:"League ID"}),r.jsx(ne,{children:"Draft ID"}),r.jsx(ne,{children:"Status"}),r.jsx(ne,{children:"Actions"})]})}),r.jsx(Vt,{children:n.map(S=>r.jsxs(be,{children:[r.jsx(Y,{children:(o==null?void 0:o.id)===S.id?r.jsx(Jt,{value:o.conference_name,onChange:T=>l({...o,conference_name:T.target.value})}):r.jsx("span",{className:"font-medium",children:S.conference_name})}),r.jsx(Y,{children:(o==null?void 0:o.id)===S.id?r.jsx(Jt,{value:o.league_id,onChange:T=>l({...o,league_id:T.target.value})}):r.jsx("code",{className:"text-sm bg-muted px-2 py-1 rounded",children:S.league_id})}),r.jsx(Y,{children:(o==null?void 0:o.id)===S.id?r.jsx(Jt,{value:o.draft_id,onChange:T=>l({...o,draft_id:T.target.value})}):r.jsx("code",{className:"text-sm bg-muted px-2 py-1 rounded",children:S.draft_id||"Not set"})}),r.jsx(Y,{children:r.jsx(te,{variant:S.status==="in_season"?"default":S.status==="complete"?"secondary":"outline",children:S.status})}),r.jsx(Y,{children:r.jsx("div",{className:"flex items-center gap-2",children:(o==null?void 0:o.id)===S.id?r.jsxs(r.Fragment,{children:[r.jsx(se,{size:"sm",onClick:()=>B(o),disabled:j,children:r.jsx(lN,{className:"h-4 w-4"})}),r.jsx(se,{size:"sm",variant:"outline",onClick:()=>l(null),children:"Cancel"})]}):r.jsxs(r.Fragment,{children:[r.jsx(se,{size:"sm",variant:"outline",onClick:()=>l(S),children:r.jsx(Mu,{className:"h-4 w-4"})}),r.jsx(se,{size:"sm",variant:"outline",onClick:()=>L(S.league_id),disabled:w===S.league_id,children:w===S.league_id?r.jsx("div",{className:"animate-spin h-4 w-4 border-b-2 border-blue-600 rounded-full"}):r.jsx(a$,{className:"h-4 w-4"})})]})})})]},S.id))})]})})]})]})};var ef="Checkbox",[$6,Z7]=as(ef),[I6,yv]=$6(ef);function M6(e){const{__scopeCheckbox:t,checked:n,children:s,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:d,value:u="on",internal_do_not_use_render:h}=e,[f,g]=Mr({prop:n,defaultProp:a??!1,onChange:c,caller:ef}),[j,v]=m.useState(null),[w,p]=m.useState(null),x=m.useRef(!1),y=j?!!o||!!j.closest("form"):!0,b={checked:f,disabled:i,setChecked:g,control:j,setControl:v,name:l,form:o,value:u,hasConsumerStoppedPropagationRef:x,required:d,defaultChecked:_a(a)?!1:a,isFormControl:y,bubbleInput:w,setBubbleInput:p};return r.jsx(I6,{scope:t,...b,children:L6(h)?h(b):s})}var JE="CheckboxTrigger",XE=m.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...s},a)=>{const{control:i,value:o,disabled:l,checked:c,required:d,setControl:u,setChecked:h,hasConsumerStoppedPropagationRef:f,isFormControl:g,bubbleInput:j}=yv(JE,e),v=Ke(a,u),w=m.useRef(c);return m.useEffect(()=>{const p=i==null?void 0:i.form;if(p){const x=()=>h(w.current);return p.addEventListener("reset",x),()=>p.removeEventListener("reset",x)}},[i,h]),r.jsx(ve.button,{type:"button",role:"checkbox","aria-checked":_a(c)?"mixed":c,"aria-required":d,"data-state":sT(c),"data-disabled":l?"":void 0,disabled:l,value:o,...s,ref:v,onKeyDown:xe(t,p=>{p.key==="Enter"&&p.preventDefault()}),onClick:xe(n,p=>{h(x=>_a(x)?!0:!x),j&&g&&(f.current=p.isPropagationStopped(),f.current||p.stopPropagation())})})});XE.displayName=JE;var wv=m.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:d,form:u,...h}=e;return r.jsx(M6,{__scopeCheckbox:n,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:d,name:s,form:u,value:c,internal_do_not_use_render:({isFormControl:f})=>r.jsxs(r.Fragment,{children:[r.jsx(XE,{...h,ref:t,__scopeCheckbox:n}),f&&r.jsx(nT,{__scopeCheckbox:n})]})})});wv.displayName=ef;var ZE="CheckboxIndicator",eT=m.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:s,...a}=e,i=yv(ZE,n);return r.jsx(xr,{present:s||_a(i.checked)||i.checked===!0,children:r.jsx(ve.span,{"data-state":sT(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});eT.displayName=ZE;var tT="CheckboxBubbleInput",nT=m.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:s,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:d,value:u,form:h,bubbleInput:f,setBubbleInput:g}=yv(tT,e),j=Ke(n,g),v=ov(i),w=Bx(s);m.useEffect(()=>{const x=f;if(!x)return;const y=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(y,"checked").set,E=!a.current;if(v!==i&&_){const C=new Event("click",{bubbles:E});x.indeterminate=_a(i),_.call(x,_a(i)?!1:i),x.dispatchEvent(C)}},[f,v,i,a]);const p=m.useRef(_a(i)?!1:i);return r.jsx(ve.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??p.current,required:l,disabled:c,name:d,value:u,form:h,...t,tabIndex:-1,ref:j,style:{...t.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});nT.displayName=tT;function L6(e){return typeof e=="function"}function _a(e){return e==="indeterminate"}function sT(e){return _a(e)?"indeterminate":e?"checked":"unchecked"}const rT=m.forwardRef(({className:e,...t},n)=>r.jsx(wv,{ref:n,className:me("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:r.jsx(eT,{className:me("flex items-center justify-center text-current"),children:r.jsx(kx,{className:"h-4 w-4"})})}));rT.displayName=wv.displayName;class aT{static async fetchLeagueDrafts(t){try{console.log(`Fetching drafts for league: ${t}`);const n=await fetch(`${this.baseUrl}/league/${t}/drafts`);if(!n.ok)throw new Error(`Failed to fetch drafts: ${n.status} ${n.statusText}`);const s=await n.json();return console.log(`Fetched ${s.length} drafts for league ${t}`),s}catch(n){throw console.error("Error fetching league drafts:",n),n}}static async fetchDraftPicks(t){try{console.log(`Fetching picks for draft: ${t}`);const n=await fetch(`${this.baseUrl}/draft/${t}/picks`);if(!n.ok)throw new Error(`Failed to fetch draft picks: ${n.status} ${n.statusText}`);const s=await n.json();return console.log(`Fetched ${s.length} picks for draft ${t}`),s}catch(n){throw console.error("Error fetching draft picks:",n),n}}static async getTeamIdFromOwnerMatcher(t,n){var s,a;try{const{data:i,error:o}=await window.ezsite.apis.tablePage(12853,{PageNo:1,PageSize:1,Filters:[{name:"roster_id",op:"Equal",value:t},{name:"conference_id",op:"Equal",value:n},{name:"is_active",op:"Equal",value:!0}]});if(!o&&((s=i==null?void 0:i.List)==null?void 0:s.length)>0){const d=i.List[0].team_id;return console.log(`Found team ID ${d} for roster_id ${t} in conference ${n}`),d}const{data:l,error:c}=await window.ezsite.apis.tablePage(12852,{PageNo:1,PageSize:1,Filters:[{name:"owner_id",op:"Equal",value:t}]});return c?(console.error(`Error finding team for owner_id ${t}:`,c),null):((a=l==null?void 0:l.List)==null?void 0:a.length)>0?(console.log(`Found team ID ${l.List[0].id} for owner_id ${t} (legacy mapping)`),l.List[0].id):(console.warn(`No team found for Sleeper roster_id/owner_id ${t} in conference ${n}`),null)}catch(i){return console.error("Error in getTeamIdFromOwnerMatcher:",i),null}}static async processDraftPicksForDatabase(t,n,s){var a,i;try{console.log(`Processing ${s.length} draft picks for conference ${t}, season ${n}`);const o=[];for(const l of s){const c=await this.getTeamIdFromOwnerMatcher(l.picked_by,t);if(!c){console.warn(`Skipping pick ${l.pick_no} - no team found for roster_id ${l.picked_by}`);continue}o.push({season_id:n,conference_id:t,round:l.round,draft_slot:l.draft_slot,pick_number:l.pick_no,team_id:c,player_id:l.player_id,player_name:l.metadata?`${l.metadata.first_name||""} ${l.metadata.last_name||""}`.trim():"Unknown Player",position:((a=l.metadata)==null?void 0:a.position)||"UNK",nfl_team:((i=l.metadata)==null?void 0:i.team)||"UNK",draft_id:l.draft_id})}return console.log(`Processed ${o.length} draft picks (${s.length-o.length} skipped due to missing team mapping)`),o}catch(o){throw console.error("Error processing draft picks:",o),o}}static async fetchAndStoreDraftResults(){try{console.log(" Starting draft results sync for all conferences...");const{data:t,error:n}=await window.ezsite.apis.tablePage(12820,{PageNo:1,PageSize:50,OrderByField:"id",IsAsc:!0});if(n)throw new Error(`Failed to fetch conferences: ${n}`);const s=(t==null?void 0:t.List)||[];console.log(`Found ${s.length} conferences`);const{data:a,error:i}=await window.ezsite.apis.tablePage(12818,{PageNo:1,PageSize:50,OrderByField:"season_year",IsAsc:!1});if(i)throw new Error(`Failed to fetch seasons: ${i}`);const o=(a==null?void 0:a.List)||[];console.log(`Found ${o.length} seasons`);let l=0;const c=[];for(const d of s)try{console.log(`
 Processing conference: ${d.conference_name} (League ID: ${d.league_id})`);const u=o.find(f=>f.id===d.season_id);if(!u){console.warn(` Season not found for conference ${d.conference_name}`);continue}const h=await this.fetchLeagueDrafts(d.league_id);if(h.length===0){console.warn(` No drafts found for league ${d.league_id}`);continue}for(const f of h){console.log(` Processing draft: ${f.draft_id} for season ${u.season_year}`);const g=await this.fetchDraftPicks(f.draft_id);if(g.length===0){console.warn(` No picks found for draft ${f.draft_id}`);continue}const j=await this.processDraftPicksForDatabase(d.id,u.id,g);console.log(` Clearing existing draft results for conference ${d.id}, season ${u.id}`);const{data:v,error:w}=await window.ezsite.apis.tablePage(27845,{PageNo:1,PageSize:1e3,Filters:[{name:"conference_id",op:"Equal",value:d.id},{name:"season_id",op:"Equal",value:u.id}]});if(!w&&(v!=null&&v.List))for(const p of v.List)await window.ezsite.apis.tableDelete(27845,{ID:p.id});console.log(` Inserting ${j.length} draft picks into database...`);for(const p of j){const{error:x}=await window.ezsite.apis.tableCreate(27845,{season_id:p.season_id,conference_id:p.conference_id,round:p.round,draft_slot:p.draft_slot,pick_number:p.pick_number,team_id:p.team_id,player_id:p.player_id});x?console.error(` Error inserting pick ${p.pick_number}:`,x):l++}c.push({conference:d.conference_name,season:u.season_year,draftId:f.draft_id,picksProcessed:j.length})}}catch(u){console.error(` Error processing conference ${d.conference_name}:`,u),c.push({conference:d.conference_name,error:u.message})}return console.log(`
 Draft sync completed! Total picks processed: ${l}`),{success:!0,message:`Successfully processed ${l} draft picks across ${c.length} conference/season combinations`,data:c}}catch(t){return console.error(" Error in draft sync:",t),{success:!1,message:`Draft sync failed: ${t.message}`}}}}On(aT,"baseUrl","https://api.sleeper.app/v1");const O6=()=>{const[e,t]=m.useState([]),[n,s]=m.useState([]),[a,i]=m.useState([]),[o,l]=m.useState(null),[c,d]=m.useState(!1),[u,h]=m.useState(!1),[f,g]=m.useState(!1),[j,v]=m.useState(!1),[w,p]=m.useState(!1),[x,y]=m.useState(!1),[b,_]=m.useState(0),[E,C]=m.useState(0),[N,k]=m.useState(0),[R,A]=m.useState(0),[$,M]=m.useState(0),[V,B]=m.useState(0),[L,U]=m.useState([]),[D,S]=m.useState([]),[T,P]=m.useState(null),[F,I]=m.useState(null),[G,le]=m.useState(null),[X,W]=m.useState(null),[q,K]=m.useState(null),[O,ae]=m.useState(null),[oe,de]=m.useState(null),[ge,we]=m.useState(null),[Ie,He]=m.useState(null),[tn,ce]=m.useState(null),[Ee,Et]=m.useState(!0),[Be,zr]=m.useState("all"),[nn,nd]=m.useState("all"),[nl,Js]=m.useState("all"),[Mn,ye]=m.useState("all"),[qe,sn]=m.useState(1),[Wt,Ei]=m.useState(17),[sl,Fa]=m.useState([]),{toast:wt}=en();m.useEffect(()=>{hf(),ff(),mf(),pf(),Ht(),bn(),_n(),Cs()},[]),m.useEffect(()=>{o&&rl()},[o]);const hf=async()=>{try{const z=await ie.getSeasons(),fe=Array.isArray(z)?z:(z==null?void 0:z.data)||[];t(fe);const Xe=fe.find(Me=>Me.is_current_season);Xe?l(Xe.id):fe.length>0&&l(fe[0].id)}catch(z){console.error("Error loading seasons:",z),wt({title:"Error",description:`Failed to load seasons: ${z}`,variant:"destructive"})}finally{Et(!1)}},rl=async()=>{if(o)try{const z=await ie.getConferences(),fe=Array.isArray(z)?z:(z==null?void 0:z.data)||[];s(fe)}catch(z){console.error("Error loading conferences:",z),wt({title:"Error",description:`Failed to load conferences: ${z}`,variant:"destructive"})}},ff=()=>{const z=localStorage.getItem("last_data_sync");z&&K(new Date(z).toLocaleString())},mf=()=>{const z=localStorage.getItem("last_teams_sync");z&&ae(new Date(z).toLocaleString())},pf=()=>{const z=localStorage.getItem("last_players_sync");z&&de(new Date(z).toLocaleString())},Ht=()=>{const z=localStorage.getItem("last_matchups_sync");z&&we(new Date(z).toLocaleString())},bn=()=>{const z=localStorage.getItem("last_draft_sync");z&&He(new Date(z).toLocaleString())},_n=()=>{const z=localStorage.getItem("last_rosters_sync");z&&ce(new Date(z).toLocaleString())},Cs=async()=>{try{const z=await ie.getTeams(),fe=Array.isArray(z)?z:(z==null?void 0:z.data)||[];i(fe)}catch(z){console.error("Error loading teams:",z)}},rn=()=>{switch(Mn){case"range":const z=[];for(let fe=qe;fe<=Wt;fe++)z.push(fe);return z;case"specific":return[...sl];case"all":default:return Array.from({length:17},(fe,Xe)=>Xe+1)}},Sn=z=>{Fa(fe=>fe.includes(z)?fe.filter(Xe=>Xe!==z):[...fe,z].sort((Xe,Me)=>Xe-Me))},is=()=>{Fa(Array.from({length:17},(z,fe)=>fe+1))},Vr=()=>{Fa([])};$e.useEffect(()=>{qe>Wt&&Ei(qe)},[qe,Wt]);const Mt=async()=>{var fe,Xe;if(!o||n.length===0){wt({title:"No Data to Sync",description:"Please select a season with conferences to sync rosters",variant:"destructive"});return}const z=rn();if(z.length===0){wt({title:"No Weeks Selected",description:"Please select at least one week to sync",variant:"destructive"});return}y(!0),B(0),W(null);try{console.log("Starting team rosters sync from Sleeper API..."),console.log(`Syncing weeks: ${z.join(", ")}`),B(5);let Me=0,Ze=0,jt=0,rt=0,Tt=0;const Le=n.length*z.length;let Qe=0;for(const Ge of n)try{console.log(`Processing rosters for league ${Ge.league_id}...`);for(const ke of z){try{console.log(`Fetching roster data for league ${Ge.league_id}, week ${ke}...`);const ct=await fetch(`https://api.sleeper.app/v1/league/${Ge.league_id}/matchups/${ke}`);if(!ct.ok){if(ct.status===404){console.log(`No matchups found for league ${Ge.league_id}, week ${ke} (404 - may not exist yet)`);continue}throw new Error(`API returned ${ct.status}: ${ct.statusText}`)}const fn=await ct.json();if(console.log(`Received ${fn.length} roster entries for league ${Ge.league_id}, week ${ke}`),!Array.isArray(fn)||fn.length===0){console.log(`No matchup data available for league ${Ge.league_id}, week ${ke}`);continue}for(const on of fn){if(!on.roster_id||!on.players||!Array.isArray(on.players)){console.warn("Skipping entry with missing roster_id or players array:",on);continue}const Nn=await os(on.roster_id,Ge.id);if(!Nn){console.warn(`Could not find team ID for roster_id ${on.roster_id} in conference ${Ge.id}`);continue}for(const cs of on.players)if(cs)try{const{data:Ln,error:Kt}=await window.ezsite.apis.tablePage(12870,{PageNo:1,PageSize:1,Filters:[{name:"sleeper_player_id",op:"Equal",value:cs}]});if(Kt){console.error(`Error searching for player ${cs}:`,Kt);continue}if(((fe=Ln==null?void 0:Ln.List)==null?void 0:fe.length)>0){const ds=Ln.List[0].id,{data:Zs,error:us}=await window.ezsite.apis.tablePage(27886,{PageNo:1,PageSize:1,Filters:[{name:"team_id",op:"Equal",value:Nn},{name:"player_id",op:"Equal",value:ds},{name:"season_id",op:"Equal",value:o},{name:"week",op:"Equal",value:ke}]});if(us){console.error("Error searching for existing roster record:",us);continue}const rd={team_id:Nn,player_id:ds,season_id:o,week:ke};if(((Xe=Zs==null?void 0:Zs.List)==null?void 0:Xe.length)>0){const hs=Zs.List[0],gf={...rd,ID:hs.id},{error:Cn}=await Fi("tableUpdate");Cn?console.error("Error updating roster record:",Cn):(jt++,Me++)}else{const{error:hs}=await gl("tableCreate");hs?console.error("Error creating roster record:",hs):(Ze++,Me++)}}else console.warn(`Player with sleeper_player_id ${cs} not found in database`)}catch(Ln){console.error(`Error processing player ${cs}:`,Ln)}}Tt++,await new Promise(on=>setTimeout(on,100))}catch(ct){console.error(`Error processing week ${ke} for league ${Ge.league_id}:`,ct)}Qe++;const an=5+Qe/Le*90;B(an)}rt++,console.log(` Completed processing rosters for league ${Ge.league_id}`),await new Promise(ke=>setTimeout(ke,200))}catch(ke){console.error(`Error processing league ${Ge.league_id}:`,ke)}W({success:!0,players_processed:Me,rosters_created:Ze,rosters_updated:jt,leagues_processed:rt,weeks_processed:Tt}),console.log(` Successfully synced rosters: ${Ze} created, ${jt} updated, ${Me} total player assignments`);const at=new Date().toISOString();localStorage.setItem("last_rosters_sync",at),ce(new Date(at).toLocaleString()),wt({title:"Team Rosters Sync Complete",description:`${Ze} rosters created, ${jt} updated across ${rt} leagues`,variant:"default"})}catch(Me){console.error(" Error syncing rosters:",Me),W({success:!1,error:Me.toString(),players_processed:0,rosters_created:0,rosters_updated:0,leagues_processed:0,weeks_processed:0}),wt({title:"Team Rosters Sync Failed",description:`Failed to sync rosters: ${Me}`,variant:"destructive"})}finally{y(!1),B(100)}},os=async(z,fe)=>{var Xe;try{const{data:Me,error:Ze}=await window.ezsite.apis.tablePage(12853,{PageNo:1,PageSize:1,Filters:[{name:"roster_id",op:"Equal",value:z},{name:"conference_id",op:"Equal",value:fe},{name:"is_active",op:"Equal",value:!0}]});return Ze?(console.error(`Error finding team for roster_id ${z}:`,Ze),null):((Xe=Me==null?void 0:Me.List)==null?void 0:Xe.length)>0?Me.List[0].team_id:(console.warn(`No team found for roster_id ${z} in conference ${fe}`),null)}catch(Me){return console.error("Error in getTeamIdFromRosterId:",Me),null}},ls=async()=>{if(!o||n.length===0){wt({title:"No Data to Sync",description:"Please select a season with conferences to sync",variant:"destructive"});return}d(!0),_(0),U([]);const z=[],fe=n.length;for(let jt=0;jt<n.length;jt++){const rt=n[jt];_((jt+1)/fe*100);try{console.log(`Syncing league ${rt.league_id}...`);const Tt=await fetch(`https://api.sleeper.app/v1/league/${rt.league_id}`);if(!Tt.ok)throw new Error(`API returned ${Tt.status}: ${Tt.statusText}`);const Le=await Tt.json();console.log("Sleeper API response:",Le);const Qe={ID:rt.id,conference_name:Le.name||rt.conference_name,league_id:Le.league_id||rt.league_id,season_id:rt.season_id,draft_id:Le.draft_id||rt.draft_id,status:Le.status||rt.status,league_logo_url:Le.avatar?`https://sleepercdn.com/avatars/thumbs/${Le.avatar}`:rt.league_logo_url},{error:at}=await Fi("tableUpdate");if(at)throw at;z.push({league_id:rt.league_id,success:!0,data:Le}),console.log(`Successfully synced league ${rt.league_id}`)}catch(Tt){console.error(`Error syncing league ${rt.league_id}:`,Tt),z.push({league_id:rt.league_id,success:!1,error:Tt.toString()})}await new Promise(Tt=>setTimeout(Tt,200))}U(z),d(!1),_(100);const Xe=new Date().toISOString();localStorage.setItem("last_data_sync",Xe),K(new Date(Xe).toLocaleString()),rl();const Me=z.filter(jt=>jt.success).length,Ze=z.filter(jt=>!jt.success).length;wt({title:"Data Sync Complete",description:`${Me} successful, ${Ze} failed`,variant:Ze>0?"destructive":"default"})},Es=async()=>{var z,fe,Xe,Me;if(!o||n.length===0){wt({title:"No Data to Sync",description:"Please select a season with conferences to sync teams",variant:"destructive"});return}h(!0),C(0),S([]);try{console.log("Starting teams sync from Sleeper API..."),C(5);const Ze=[],jt=n.length;let rt=0,Tt=0;for(let Ge=0;Ge<n.length;Ge++){const ke=n[Ge];C(5+Ge/jt*90);try{console.log(`Processing teams for league ${ke.league_id}...`);const[an,ct,fn]=await Promise.all([fetch(`https://api.sleeper.app/v1/league/${ke.league_id}`),fetch(`https://api.sleeper.app/v1/league/${ke.league_id}/rosters`),fetch(`https://api.sleeper.app/v1/league/${ke.league_id}/users`)]);if(!an.ok||!ct.ok||!fn.ok)throw new Error(`API request failed for league ${ke.league_id}`);const[on,Nn,cs]=await Promise.all([an.json(),ct.json(),fn.json()]);console.log(`Fetched ${Nn.length} rosters and ${cs.length} users for league ${ke.league_id}`);for(const Ln of Nn){const Kt=cs.find(Cn=>Cn.user_id===Ln.owner_id);if(!Kt){console.warn(`No user found for roster ${Ln.roster_id}`);continue}const sd={team_name:((z=Kt.metadata)==null?void 0:z.team_name)||Kt.display_name||Kt.username,owner_name:Kt.display_name||Kt.username,owner_id:Kt.user_id,co_owner_name:"",co_owner_id:"",team_logo_url:Kt.avatar?`https://sleepercdn.com/avatars/thumbs/${Kt.avatar}`:"",team_primary_color:"#1f2937",team_secondary_color:"#6b7280"},{data:ds,error:Zs}=await window.ezsite.apis.tablePage(12852,{PageNo:1,PageSize:1,Filters:[{name:"owner_id",op:"Equal",value:Kt.user_id}]});if(Zs){console.error("Error searching for existing team:",Zs);continue}let us;if(((fe=ds==null?void 0:ds.List)==null?void 0:fe.length)>0){const Cn=ds.List[0],Ti={...sd,ID:Cn.id},{error:za}=await Fi("tableUpdate");if(za){console.error("Error updating team:",za);continue}us=Cn.id}else{const{error:Cn}=await gl("tableCreate");if(Cn){console.error("Error creating team:",Cn);continue}const{data:Ti,error:za}=await window.ezsite.apis.tablePage(12852,{PageNo:1,PageSize:1,Filters:[{name:"owner_id",op:"Equal",value:Kt.user_id}]});if(za||!((Xe=Ti==null?void 0:Ti.List)!=null&&Xe.length)){console.error("Error retrieving new team ID");continue}us=Ti.List[0].id,rt++}const rd={team_id:us,conference_id:ke.id,roster_id:Ln.roster_id.toString(),is_active:!0,joined_date:new Date().toISOString()},{data:hs,error:gf}=await window.ezsite.apis.tablePage(12853,{PageNo:1,PageSize:1,Filters:[{name:"team_id",op:"Equal",value:us},{name:"conference_id",op:"Equal",value:ke.id}]});if(gf){console.error("Error searching for existing junction:",gf);continue}if(((Me=hs==null?void 0:hs.List)==null?void 0:Me.length)>0){const Cn=hs.List[0],Ti={...rd,ID:Cn.id},{error:za}=await Fi("tableUpdate");za&&console.error("Error updating junction:",za)}else{const{error:Cn}=await gl("tableCreate");Cn?console.error("Error creating junction:",Cn):Tt++}}Ze.push({league_id:ke.league_id,success:!0,teams_created:rt,junction_records_created:Tt}),console.log(` Completed teams sync for league ${ke.league_id}`)}catch(an){console.error(`Error syncing teams for league ${ke.league_id}:`,an),Ze.push({league_id:ke.league_id,success:!1,error:an.toString(),teams_created:0,junction_records_created:0})}await new Promise(an=>setTimeout(an,200))}S(Ze),C(100);const Le=new Date().toISOString();localStorage.setItem("last_teams_sync",Le),ae(new Date(Le).toLocaleString()),Cs();const Qe=Ze.filter(Ge=>Ge.success).length,at=Ze.filter(Ge=>!Ge.success).length;wt({title:"Teams Sync Complete",description:`${Qe} successful, ${at} failed`,variant:at>0?"destructive":"default"})}catch(Ze){console.error(" Error syncing teams:",Ze),wt({title:"Teams Sync Failed",description:`Failed to sync teams: ${Ze}`,variant:"destructive"})}finally{h(!1)}},Ua=async()=>{var z;g(!0),k(0),P(null);try{console.log("Starting players sync from Sleeper API..."),k(5);const fe=await fetch("https://api.sleeper.app/v1/players/nfl");if(!fe.ok)throw new Error(`API returned ${fe.status}: ${fe.statusText}`);const Xe=await fe.json(),Me=Object.keys(Xe);console.log(`Fetched ${Me.length} players from Sleeper API`),k(20);let Ze=0,jt=0;const rt=Me.length;for(let Le=0;Le<Me.length;Le++){const Qe=Me[Le],at=Xe[Qe];if(!at)continue;const Ge=20+Le/rt*75;k(Ge);try{const{data:ke,error:an}=await window.ezsite.apis.tablePage(12870,{PageNo:1,PageSize:1,Filters:[{name:"sleeper_player_id",op:"Equal",value:Qe}]});if(an){console.error(`Error searching for player ${Qe}:`,an);continue}const ct={sleeper_player_id:Qe,player_name:`${at.first_name||""} ${at.last_name||""}`.trim()||"Unknown Player",position:at.position||"UNK",team_id:0,nfl_team:at.team||"FA",jersey_number:at.jersey_number||0,status:at.status||"Active",injury_status:at.injury_status||"Healthy",age:at.age||0,height:at.height||"",weight:at.weight||0,years_experience:at.years_exp||0,depth_chart_position:at.depth_chart_position||1,college:at.college||"",is_current_data:!0,last_updated:new Date().toISOString(),data_version:1};if(((z=ke==null?void 0:ke.List)==null?void 0:z.length)>0){const fn=ke.List[0],on={...ct,ID:fn.id},{error:Nn}=await Fi("tableUpdate");Nn?console.error(`Error updating player ${Qe}:`,Nn):jt++}else{const{error:fn}=await gl("tableCreate");fn?console.error(`Error creating player ${Qe}:`,fn):Ze++}}catch(ke){console.error(`Error processing player ${Qe}:`,ke)}Le%100===0&&await new Promise(ke=>setTimeout(ke,50))}P({success:!0,players_created:Ze,players_updated:jt}),console.log(` Successfully synced players: ${Ze} created, ${jt} updated`);const Tt=new Date().toISOString();localStorage.setItem("last_players_sync",Tt),de(new Date(Tt).toLocaleString()),wt({title:"Players Sync Complete",description:`${Ze} players created, ${jt} updated`,variant:"default"})}catch(fe){console.error(" Error syncing players:",fe),P({success:!1,error:fe.toString(),players_created:0,players_updated:0}),wt({title:"Players Sync Failed",description:`Failed to sync players: ${fe}`,variant:"destructive"})}finally{g(!1),k(100)}},Ba=async()=>{var z;if(!o||n.length===0){wt({title:"No Data to Sync",description:"Please select a season with conferences to sync matchups",variant:"destructive"});return}v(!0),A(0),I(null);try{console.log("Starting matchups sync from Sleeper API..."),A(5);let fe=0,Xe=0,Me=0,Ze=0;const jt=n.length*17;let rt=0;for(const Le of n)try{console.log(`Processing matchups for league ${Le.league_id}...`);for(let Qe=1;Qe<=17;Qe++){try{console.log(`Fetching matchups for league ${Le.league_id}, week ${Qe}...`);const Ge=await fetch(`https://api.sleeper.app/v1/league/${Le.league_id}/matchups/${Qe}`);if(!Ge.ok){if(Ge.status===404){console.log(`No matchups found for league ${Le.league_id}, week ${Qe} (404)`);continue}throw new Error(`API returned ${Ge.status}: ${Ge.statusText}`)}const ke=await Ge.json();if(console.log(`Received ${ke.length} matchup entries for league ${Le.league_id}, week ${Qe}`),!Array.isArray(ke)||ke.length===0){console.log(`No matchup data available for league ${Le.league_id}, week ${Qe}`);continue}const an=new Map;ke.forEach(ct=>{an.has(ct.matchup_id)||an.set(ct.matchup_id,[]),an.get(ct.matchup_id).push(ct)});for(const[ct,fn]of an.entries()){if(fn.length!==2){console.warn(`Skipping incomplete matchup ${ct} - only ${fn.length} teams`);continue}const[on,Nn]=fn,cs=await os(on.roster_id.toString(),Le.id),Ln=await os(Nn.roster_id.toString(),Le.id);if(!cs||!Ln){console.warn(`Could not find team IDs for matchup ${ct}`);continue}let Kt=0;on.points>Nn.points?Kt=cs:Nn.points>on.points&&(Kt=Ln);const sd={conference_id:Le.id,week:Qe,team_1_id:cs,team_2_id:Ln,is_playoff:Qe>14,sleeper_matchup_id:ct.toString(),team_1_score:on.points||0,team_2_score:Nn.points||0,winner_id:Kt,is_manual_override:!1,status:on.points>0||Nn.points>0?"complete":"pending",matchup_date:new Date().toISOString(),notes:""},{data:ds,error:Zs}=await window.ezsite.apis.tablePage(13329,{PageNo:1,PageSize:1,Filters:[{name:"conference_id",op:"Equal",value:Le.id},{name:"week",op:"Equal",value:Qe},{name:"sleeper_matchup_id",op:"Equal",value:ct.toString()}]});if(Zs){console.error("Error searching for existing matchup:",Zs);continue}if(((z=ds==null?void 0:ds.List)==null?void 0:z.length)>0){const us=ds.List[0],rd={...sd,ID:us.id},{error:hs}=await Fi("tableUpdate");hs?console.error("Error updating matchup:",hs):Xe++}else{const{error:us}=await gl("tableCreate");us?console.error("Error creating matchup:",us):fe++}}Ze++,await new Promise(ct=>setTimeout(ct,100))}catch(Ge){console.error(`Error processing week ${Qe} for league ${Le.league_id}:`,Ge)}rt++;const at=5+rt/jt*90;A(at)}Me++,console.log(` Completed matchups sync for league ${Le.league_id}`),await new Promise(Qe=>setTimeout(Qe,200))}catch(Qe){console.error(`Error processing league ${Le.league_id}:`,Qe)}I({success:!0,matchups_created:fe,matchups_updated:Xe,leagues_processed:Me,weeks_processed:Ze}),console.log(` Successfully synced matchups: ${fe} created, ${Xe} updated`);const Tt=new Date().toISOString();localStorage.setItem("last_matchups_sync",Tt),we(new Date(Tt).toLocaleString()),wt({title:"Matchups Sync Complete",description:`${fe} matchups created, ${Xe} updated across ${Me} leagues`,variant:"default"})}catch(fe){console.error(" Error syncing matchups:",fe),I({success:!1,error:fe.toString(),matchups_created:0,matchups_updated:0,leagues_processed:0,weeks_processed:0}),wt({title:"Matchups Sync Failed",description:`Failed to sync matchups: ${fe}`,variant:"destructive"})}finally{v(!1),A(100)}},Xs=async()=>{p(!0),M(0),le(null);try{console.log("Starting draft sync from Sleeper API..."),M(5);const z=await aT.fetchAndStoreDraftResults();if(M(100),z.success){le({success:!0,message:z.message,data:z.data});const fe=new Date().toISOString();localStorage.setItem("last_draft_sync",fe),He(new Date(fe).toLocaleString()),wt({title:"Draft Sync Complete",description:z.message,variant:"default"})}else le({success:!1,error:z.message,message:z.message}),wt({title:"Draft Sync Failed",description:z.message,variant:"destructive"})}catch(z){console.error(" Error syncing draft:",z),le({success:!1,error:z.toString(),message:`Draft sync failed: ${z}`}),wt({title:"Draft Sync Failed",description:`Failed to sync draft: ${z}`,variant:"destructive"})}finally{p(!1)}},qt=e.find(z=>z.id===o);return Ee?r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsx("div",{className:"animate-spin h-8 w-8 border-b-2 border-blue-600 rounded-full"})}):r.jsx("div",{className:"space-y-6",children:r.jsxs(H,{children:[r.jsxs(Z,{children:[r.jsxs(ee,{className:"flex items-center gap-2",children:[r.jsx(Er,{className:"h-5 w-5"}),"Data Synchronization"]}),r.jsx(he,{children:"Sync conference, team, and player data from Sleeper API to update database records"})]}),r.jsxs(Q,{children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsx("div",{className:"flex items-center gap-4",children:r.jsx("div",{className:"flex-1",children:r.jsxs(Nt,{value:(o==null?void 0:o.toString())||"",onValueChange:z=>l(parseInt(z)),children:[r.jsx(gt,{className:"w-[200px]",children:r.jsx(Ct,{placeholder:"Select season"})}),r.jsx(xt,{children:e.map(z=>r.jsx(Pe,{value:z.id.toString(),children:z.season_name},z.id))})]})})})}),qt&&r.jsxs(r.Fragment,{children:[n.length===0&&r.jsxs(Oe,{className:"mb-6",children:[r.jsx(We,{className:"h-4 w-4"}),r.jsxs(Fe,{children:["No conferences found for ",qt.season_name,". Conference and Team sync require leagues to be added first, but Player sync can be performed independently."]})]}),r.jsxs(yr,{defaultValue:n.length>0?"conferences":"players",className:"space-y-6",children:[r.jsxs(Ys,{className:"grid w-full grid-cols-6",children:[r.jsxs(Ne,{value:"conferences",className:"flex items-center gap-2",children:[r.jsx($t,{className:"h-4 w-4"}),"Conference Sync"]}),r.jsxs(Ne,{value:"teams",className:"flex items-center gap-2",children:[r.jsx(Zt,{className:"h-4 w-4"}),"Teams Sync"]}),r.jsxs(Ne,{value:"matchups",className:"flex items-center gap-2",children:[r.jsx(Ye,{className:"h-4 w-4"}),"Matchups Sync"]}),r.jsxs(Ne,{value:"draft",className:"flex items-center gap-2",children:[r.jsx(tu,{className:"h-4 w-4"}),"Draft Sync"]}),r.jsxs(Ne,{value:"rosters",className:"flex items-center gap-2",children:[r.jsx(Gf,{className:"h-4 w-4"}),"Team Rosters"]}),r.jsxs(Ne,{value:"players",className:"flex items-center gap-2",children:[r.jsx(Ll,{className:"h-4 w-4"}),"Players Sync"]})]}),r.jsx(Ce,{value:"rosters",children:n.length===0?r.jsxs(Oe,{children:[r.jsx(We,{className:"h-4 w-4"}),r.jsx(Fe,{children:"No conferences available for team rosters synchronization. Please add leagues in the League Manager tab first."})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center gap-4",children:tn&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx(Qn,{className:"h-4 w-4"}),"Last rosters sync: ",tn]})}),r.jsx(se,{onClick:Mt,disabled:x||!o||n.length===0,children:x?r.jsxs(r.Fragment,{children:[r.jsx(Ye,{className:"h-4 w-4 mr-2 animate-spin"}),"Syncing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Gf,{className:"h-4 w-4 mr-2"}),"Sync Team Rosters"]})})]}),r.jsxs(H,{children:[r.jsxs(Z,{children:[r.jsxs(ee,{className:"flex items-center gap-2",children:[r.jsx(iN,{className:"h-5 w-5"}),"Week Filtering Options"]}),r.jsx(he,{children:"Choose which weeks to sync for team rosters data"})]}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs(Nt,{value:Mn,onValueChange:ye,children:[r.jsx(gt,{className:"w-[200px]",children:r.jsx(Ct,{placeholder:"Select sync mode"})}),r.jsxs(xt,{children:[r.jsx(Pe,{value:"all",children:"All Weeks (1-17)"}),r.jsx(Pe,{value:"range",children:"Week Range"}),r.jsx(Pe,{value:"specific",children:"Specific Weeks"})]})]}),Mn==="range"&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm",children:"From week:"}),r.jsxs(Nt,{value:qe.toString(),onValueChange:z=>sn(parseInt(z)),children:[r.jsx(gt,{className:"w-20",children:r.jsx(Ct,{})}),r.jsx(xt,{children:Array.from({length:17},(z,fe)=>fe+1).map(z=>r.jsx(Pe,{value:z.toString(),children:z},z))})]}),r.jsx("span",{className:"text-sm",children:"to week:"}),r.jsxs(Nt,{value:Wt.toString(),onValueChange:z=>Ei(parseInt(z)),children:[r.jsx(gt,{className:"w-20",children:r.jsx(Ct,{})}),r.jsx(xt,{children:Array.from({length:17},(z,fe)=>fe+1).filter(z=>z>=qe).map(z=>r.jsx(Pe,{value:z.toString(),children:z},z))})]})]})]}),Mn==="specific"&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(se,{variant:"outline",size:"sm",onClick:is,className:"text-xs",children:"Select All"}),r.jsx(se,{variant:"outline",size:"sm",onClick:Vr,className:"text-xs",children:"Clear All"}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[sl.length," weeks selected"]})]}),r.jsx("div",{className:"grid grid-cols-9 gap-2",children:Array.from({length:17},(z,fe)=>fe+1).map(z=>r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(rT,{id:`week-${z}`,checked:sl.includes(z),onCheckedChange:()=>Sn(z)}),r.jsx("label",{htmlFor:`week-${z}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:z})]},z))})]}),r.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(Zn,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Sync Summary"})]}),r.jsx("div",{className:"text-sm text-blue-700",children:(()=>{const z=rn();return`Will sync ${z.length} week${z.length!==1?"s":""} (${z.join(", ")}) across ${n.length} conference${n.length!==1?"s":""} = ${z.length*n.length} total operations`})()})]})]})]}),x&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium",children:"Synchronizing team rosters..."}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(V),"%"]})]}),r.jsx(ar,{value:V,className:"w-full"})]}),r.jsxs(H,{children:[r.jsxs(Z,{children:[r.jsxs(ee,{className:"text-lg",children:["Team Rosters Synchronization - ",qt.season_name]}),r.jsxs(he,{children:["Sync weekly team roster data from Sleeper API using matchups endpoint for ",n.length," conference",n.length!==1?"s":""," across selected weeks"]})]}),r.jsxs(Q,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Gf,{className:"h-5 w-5 text-blue-600"}),r.jsx("h4",{className:"font-semibold",children:"Roster Data"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Fetches weekly roster information including:"}),r.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[r.jsx("li",{children:" Player assignments to teams by week"}),r.jsx("li",{children:" Active roster compositions"}),r.jsx("li",{children:" Team-player relationships over time"}),r.jsx("li",{children:" Historical roster tracking"})]})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Er,{className:"h-5 w-5 text-green-600"}),r.jsx("h4",{className:"font-semibold",children:"Data Mapping"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Uses existing data for accurate mapping:"}),r.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[r.jsx("li",{children:" Maps roster_id to team_id via junction table"}),r.jsx("li",{children:" Maps sleeper_player_id to player_id"}),r.jsx("li",{children:" Creates weekly roster assignments"}),r.jsxs("li",{children:[" Processes ",n.length*17," total operations"]})]})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Sync Process Overview:"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[r.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded",children:[r.jsx("div",{className:"text-sm font-medium text-blue-800",children:"Step 1: API Calls"}),r.jsx("div",{className:"text-xs text-blue-600",children:"Fetch matchups for each league & week"})]}),r.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded",children:[r.jsx("div",{className:"text-sm font-medium text-yellow-800",children:"Step 2: Data Mapping"}),r.jsx("div",{className:"text-xs text-yellow-600",children:"Map roster_id & player_id to database"})]}),r.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 rounded",children:[r.jsx("div",{className:"text-sm font-medium text-green-800",children:"Step 3: Store Rosters"}),r.jsx("div",{className:"text-xs text-green-600",children:"Save weekly roster assignments"})]})]})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Conferences to Process:"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:n.map(z=>r.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded",children:[r.jsx(te,{variant:"outline",className:"text-xs",children:z.league_id}),r.jsx("span",{className:"text-sm truncate",children:z.conference_name})]},z.id))}),r.jsxs("div",{className:"mt-2 text-xs text-muted-foreground",children:["Total operations: ",n.length," leagues  ",rn().length," weeks = ",n.length*rn().length," API calls"]})]}),r.jsxs(Oe,{className:"mt-4",children:[r.jsx(We,{className:"h-4 w-4"}),r.jsxs(Fe,{children:[r.jsx("strong",{children:"Note:"}),` This sync processes team rosters for the selected weeks across all conferences using the matchups endpoint. The "players" array from each matchup entry contains all players on that team's roster for that specific week. Weeks that don't exist yet (future weeks) will be skipped automatically.`]})]})]})]}),X&&r.jsxs(H,{children:[r.jsxs(Z,{children:[r.jsx(ee,{className:"text-lg",children:"Team Rosters Sync Results"}),r.jsx(he,{children:"Results from the last team rosters synchronization"})]}),r.jsx(Q,{children:r.jsxs("div",{className:"p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[X.success?r.jsx(Pn,{className:"h-5 w-5 text-green-600"}):r.jsx(We,{className:"h-5 w-5 text-red-600"}),r.jsx("span",{className:"font-medium",children:"Team Rosters Synchronization"})]}),r.jsx("div",{className:"text-sm",children:X.success?r.jsx("span",{className:"text-green-600",children:"Success"}):r.jsx("span",{className:"text-red-600",children:"Failed"})})]}),X.success&&r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 text-sm text-muted-foreground",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Created:"}),r.jsx("div",{className:"text-lg font-semibold text-green-600",children:X.rosters_created})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Updated:"}),r.jsx("div",{className:"text-lg font-semibold text-blue-600",children:X.rosters_updated})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Players:"}),r.jsx("div",{className:"text-lg font-semibold text-purple-600",children:X.players_processed})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Leagues:"}),r.jsx("div",{className:"text-lg font-semibold text-orange-600",children:X.leagues_processed})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Weeks:"}),r.jsx("div",{className:"text-lg font-semibold text-teal-600",children:X.weeks_processed})]})]}),X.error&&r.jsx("div",{className:"text-sm text-red-600 mt-1",children:X.error})]})})]})]})}),r.jsx(Ce,{value:"conferences",children:n.length===0?r.jsxs(Oe,{children:[r.jsx(We,{className:"h-4 w-4"}),r.jsx(Fe,{children:"No conferences available. Please add leagues in the League Manager tab first."})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center gap-4",children:q&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx(Qn,{className:"h-4 w-4"}),"Last sync: ",q]})}),r.jsx(se,{onClick:ls,disabled:c||!o||n.length===0,children:c?r.jsxs(r.Fragment,{children:[r.jsx(Ye,{className:"h-4 w-4 mr-2 animate-spin"}),"Syncing..."]}):r.jsxs(r.Fragment,{children:[r.jsx($t,{className:"h-4 w-4 mr-2"}),"Sync Conference Data"]})})]}),c&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium",children:"Synchronizing conferences..."}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(b),"%"]})]}),r.jsx(ar,{value:b,className:"w-full"})]}),r.jsxs(H,{children:[r.jsxs(Z,{children:[r.jsxs(ee,{className:"text-lg",children:["Conference Synchronization - ",qt==null?void 0:qt.season_name]}),r.jsx(he,{children:"Sync conference data from Sleeper API to update league information"})]}),r.jsx(Q,{children:r.jsxs("div",{className:"mb-4",children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Conferences to Process:"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:n.map(z=>r.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded",children:[r.jsx(te,{variant:"outline",className:"text-xs",children:z.league_id}),r.jsx("span",{className:"text-sm truncate",children:z.conference_name})]},z.id))})]})})]}),L.length>0&&r.jsxs(H,{children:[r.jsx(Z,{children:r.jsx(ee,{className:"text-lg",children:"Sync Results"})}),r.jsx(Q,{children:r.jsxs(Bt,{children:[r.jsx(zt,{children:r.jsxs(be,{children:[r.jsx(ne,{children:"League ID"}),r.jsx(ne,{children:"Status"}),r.jsx(ne,{children:"Details"})]})}),r.jsx(Vt,{children:L.map((z,fe)=>r.jsxs(be,{children:[r.jsx(Y,{className:"font-medium",children:z.league_id}),r.jsx(Y,{children:z.success?r.jsx(te,{variant:"default",children:"Success"}):r.jsx(te,{variant:"destructive",children:"Failed"})}),r.jsx(Y,{children:z.success?r.jsx("span",{className:"text-green-600",children:"Updated successfully"}):r.jsx("span",{className:"text-red-600",children:z.error})})]},fe))})]})})]})]})}),r.jsx(Ce,{value:"teams",children:n.length===0?r.jsxs(Oe,{children:[r.jsx(We,{className:"h-4 w-4"}),r.jsx(Fe,{children:"No conferences available for team synchronization. Please add leagues in the League Manager tab first."})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center gap-4",children:O&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx(Qn,{className:"h-4 w-4"}),"Last teams sync: ",O]})}),r.jsx(se,{onClick:Es,disabled:u||!o||n.length===0,children:u?r.jsxs(r.Fragment,{children:[r.jsx(Ye,{className:"h-4 w-4 mr-2 animate-spin"}),"Syncing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Sync Teams"]})})]}),u&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium",children:"Synchronizing teams..."}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(E),"%"]})]}),r.jsx(ar,{value:E,className:"w-full"})]}),r.jsxs(H,{children:[r.jsxs(Z,{children:[r.jsxs(ee,{className:"text-lg",children:["Teams Synchronization - ",qt==null?void 0:qt.season_name]}),r.jsx(he,{children:"Sync team data from Sleeper API including owners, team names, and roster mappings"})]}),r.jsx(Q,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Zt,{className:"h-5 w-5 text-blue-600"}),r.jsx("h4",{className:"font-semibold",children:"Team Data"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Creates teams and junction records:"}),r.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[r.jsx("li",{children:" Team names and owner information"}),r.jsx("li",{children:" Avatar/logo URLs"}),r.jsx("li",{children:" Roster ID mappings"}),r.jsx("li",{children:" Conference relationships"})]})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Er,{className:"h-5 w-5 text-green-600"}),r.jsx("h4",{className:"font-semibold",children:"Data Structure"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Updates database tables:"}),r.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[r.jsx("li",{children:" Teams table (team info)"}),r.jsx("li",{children:" Junction table (team-conference mapping)"}),r.jsx("li",{children:" Roster ID associations"}),r.jsx("li",{children:" Active status tracking"})]})]})]})})]}),D.length>0&&r.jsxs(H,{children:[r.jsx(Z,{children:r.jsx(ee,{className:"text-lg",children:"Teams Sync Results"})}),r.jsx(Q,{children:r.jsxs(Bt,{children:[r.jsx(zt,{children:r.jsxs(be,{children:[r.jsx(ne,{children:"League ID"}),r.jsx(ne,{children:"Status"}),r.jsx(ne,{children:"Teams Created"}),r.jsx(ne,{children:"Junction Records"}),r.jsx(ne,{children:"Details"})]})}),r.jsx(Vt,{children:D.map((z,fe)=>r.jsxs(be,{children:[r.jsx(Y,{className:"font-medium",children:z.league_id}),r.jsx(Y,{children:z.success?r.jsx(te,{variant:"default",children:"Success"}):r.jsx(te,{variant:"destructive",children:"Failed"})}),r.jsx(Y,{children:z.success?z.teams_created:0}),r.jsx(Y,{children:z.success?z.junction_records_created:0}),r.jsx(Y,{children:z.success?r.jsx("span",{className:"text-green-600",children:"Updated successfully"}):r.jsx("span",{className:"text-red-600",children:z.error})})]},fe))})]})})]})]})}),r.jsx(Ce,{value:"matchups",children:n.length===0?r.jsxs(Oe,{children:[r.jsx(We,{className:"h-4 w-4"}),r.jsx(Fe,{children:"No conferences available for matchup synchronization. Please add leagues in the League Manager tab first."})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center gap-4",children:ge&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx(Qn,{className:"h-4 w-4"}),"Last matchups sync: ",ge]})}),r.jsx(se,{onClick:Ba,disabled:j||!o||n.length===0,children:j?r.jsxs(r.Fragment,{children:[r.jsx(Ye,{className:"h-4 w-4 mr-2 animate-spin"}),"Syncing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Ye,{className:"h-4 w-4 mr-2"}),"Sync Matchups"]})})]}),j&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium",children:"Synchronizing matchups..."}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(R),"%"]})]}),r.jsx(ar,{value:R,className:"w-full"})]}),r.jsxs(H,{children:[r.jsxs(Z,{children:[r.jsxs(ee,{className:"text-lg",children:["Matchups Synchronization - ",qt==null?void 0:qt.season_name]}),r.jsx(he,{children:"Sync matchup data from Sleeper API for all weeks across all conferences"})]}),r.jsx(Q,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Ye,{className:"h-5 w-5 text-blue-600"}),r.jsx("h4",{className:"font-semibold",children:"Matchup Data"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Processes matchup information:"}),r.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[r.jsx("li",{children:" Team matchups for all weeks"}),r.jsx("li",{children:" Scores and results"}),r.jsx("li",{children:" Winner determination"}),r.jsx("li",{children:" Playoff vs regular season"})]})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Zn,{className:"h-5 w-5 text-green-600"}),r.jsx("h4",{className:"font-semibold",children:"Season Coverage"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Covers the entire season:"}),r.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[r.jsx("li",{children:" Weeks 1-17 for each conference"}),r.jsx("li",{children:" Regular season and playoffs"}),r.jsxs("li",{children:[" ",n.length*17," total operations"]}),r.jsx("li",{children:" Automatic status detection"})]})]})]})})]}),F&&r.jsxs(H,{children:[r.jsx(Z,{children:r.jsx(ee,{className:"text-lg",children:"Matchups Sync Results"})}),r.jsx(Q,{children:r.jsxs("div",{className:"p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[F.success?r.jsx(Pn,{className:"h-5 w-5 text-green-600"}):r.jsx(We,{className:"h-5 w-5 text-red-600"}),r.jsx("span",{className:"font-medium",children:"Matchups Synchronization"})]}),r.jsx("div",{className:"text-sm",children:F.success?r.jsx("span",{className:"text-green-600",children:"Success"}):r.jsx("span",{className:"text-red-600",children:"Failed"})})]}),F.success&&r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-muted-foreground",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Created:"}),r.jsx("div",{className:"text-lg font-semibold text-green-600",children:F.matchups_created})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Updated:"}),r.jsx("div",{className:"text-lg font-semibold text-blue-600",children:F.matchups_updated})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Leagues:"}),r.jsx("div",{className:"text-lg font-semibold text-orange-600",children:F.leagues_processed})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Weeks:"}),r.jsx("div",{className:"text-lg font-semibold text-purple-600",children:F.weeks_processed})]})]}),F.error&&r.jsx("div",{className:"text-sm text-red-600 mt-1",children:F.error})]})})]})]})}),r.jsx(Ce,{value:"draft",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center gap-4",children:Ie&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx(Qn,{className:"h-4 w-4"}),"Last draft sync: ",Ie]})}),r.jsx(se,{onClick:Xs,disabled:w,children:w?r.jsxs(r.Fragment,{children:[r.jsx(Ye,{className:"h-4 w-4 mr-2 animate-spin"}),"Syncing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(tu,{className:"h-4 w-4 mr-2"}),"Sync Draft Results"]})})]}),w&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium",children:"Synchronizing draft results..."}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round($),"%"]})]}),r.jsx(ar,{value:$,className:"w-full"})]}),r.jsxs(H,{children:[r.jsxs(Z,{children:[r.jsx(ee,{className:"text-lg",children:"Draft Results Synchronization"}),r.jsx(he,{children:"Sync draft results from Sleeper API for all conferences and seasons"})]}),r.jsxs(Q,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(tu,{className:"h-5 w-5 text-blue-600"}),r.jsx("h4",{className:"font-semibold",children:"Draft Data"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Processes draft information:"}),r.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[r.jsx("li",{children:" Draft picks by round and position"}),r.jsx("li",{children:" Player information and positions"}),r.jsx("li",{children:" Team assignments"}),r.jsx("li",{children:" Historical draft tracking"})]})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Er,{className:"h-5 w-5 text-green-600"}),r.jsx("h4",{className:"font-semibold",children:"Data Processing"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Updates draft results table:"}),r.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[r.jsx("li",{children:" Maps roster IDs to team IDs"}),r.jsx("li",{children:" Processes all conferences"}),r.jsx("li",{children:" Handles multiple seasons"}),r.jsx("li",{children:" Clears and refreshes data"})]})]})]}),r.jsxs(Oe,{children:[r.jsx(We,{className:"h-4 w-4"}),r.jsxs(Fe,{children:[r.jsx("strong",{children:"Note:"})," This sync processes draft results for all conferences and seasons. It will clear existing draft data and repopulate it with the latest information from Sleeper API."]})]})]})]}),G&&r.jsxs(H,{children:[r.jsx(Z,{children:r.jsx(ee,{className:"text-lg",children:"Draft Sync Results"})}),r.jsx(Q,{children:r.jsxs("div",{className:"p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[G.success?r.jsx(Pn,{className:"h-5 w-5 text-green-600"}):r.jsx(We,{className:"h-5 w-5 text-red-600"}),r.jsx("span",{className:"font-medium",children:"Draft Synchronization"})]}),r.jsx("div",{className:"text-sm",children:G.success?r.jsx("span",{className:"text-green-600",children:"Success"}):r.jsx("span",{className:"text-red-600",children:"Failed"})})]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:G.message}),G.error&&r.jsx("div",{className:"text-sm text-red-600 mt-1",children:G.error})]})})]})]})}),r.jsx(Ce,{value:"players",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center gap-4",children:oe&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx(Qn,{className:"h-4 w-4"}),"Last players sync: ",oe]})}),r.jsx(se,{onClick:Ua,disabled:f,children:f?r.jsxs(r.Fragment,{children:[r.jsx(Ye,{className:"h-4 w-4 mr-2 animate-spin"}),"Syncing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Ll,{className:"h-4 w-4 mr-2"}),"Sync Players"]})})]}),f&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium",children:"Synchronizing players..."}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(N),"%"]})]}),r.jsx(ar,{value:N,className:"w-full"})]}),r.jsxs(H,{children:[r.jsxs(Z,{children:[r.jsx(ee,{className:"text-lg",children:"Players Synchronization"}),r.jsx(he,{children:"Sync all NFL players data from Sleeper API - this operation is independent of conferences"})]}),r.jsxs(Q,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Ll,{className:"h-5 w-5 text-blue-600"}),r.jsx("h4",{className:"font-semibold",children:"Player Data"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Syncs comprehensive player information:"}),r.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[r.jsx("li",{children:" Names and positions"}),r.jsx("li",{children:" NFL team affiliations"}),r.jsx("li",{children:" Physical attributes"}),r.jsx("li",{children:" Injury status"}),r.jsx("li",{children:" College and experience"})]})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Er,{className:"h-5 w-5 text-green-600"}),r.jsx("h4",{className:"font-semibold",children:"Data Management"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Updates player database:"}),r.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[r.jsx("li",{children:" Creates new player records"}),r.jsx("li",{children:" Updates existing player info"}),r.jsx("li",{children:" Maintains Sleeper ID mappings"}),r.jsx("li",{children:" Processes thousands of players"})]})]})]}),r.jsxs(Oe,{children:[r.jsx(We,{className:"h-4 w-4"}),r.jsxs(Fe,{children:[r.jsx("strong",{children:"Note:"})," This sync processes all NFL players from Sleeper API. It can take several minutes to complete and will update or create thousands of player records."]})]})]})]}),T&&r.jsxs(H,{children:[r.jsx(Z,{children:r.jsx(ee,{className:"text-lg",children:"Players Sync Results"})}),r.jsx(Q,{children:r.jsxs("div",{className:"p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[T.success?r.jsx(Pn,{className:"h-5 w-5 text-green-600"}):r.jsx(We,{className:"h-5 w-5 text-red-600"}),r.jsx("span",{className:"font-medium",children:"Players Synchronization"})]}),r.jsx("div",{className:"text-sm",children:T.success?r.jsx("span",{className:"text-green-600",children:"Success"}):r.jsx("span",{className:"text-red-600",children:"Failed"})})]}),T.success&&r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Created:"}),r.jsx("div",{className:"text-lg font-semibold text-green-600",children:T.players_created})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Updated:"}),r.jsx("div",{className:"text-lg font-semibold text-blue-600",children:T.players_updated})]})]}),T.error&&r.jsx("div",{className:"text-sm text-red-600 mt-1",children:T.error})]})})]})]})})]})]})]})]})})},Fi=async(e,t)=>(console.log(`Placeholder Update: ${e}`,t),{error:null}),gl=async(e,t)=>(console.log(`Placeholder Create: ${e}`,t),{error:null});function F6(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return m.useMemo(()=>s=>{t.forEach(a=>a(s))},t)}const tf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Yo(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function jv(e){return"nodeType"in e}function In(e){var t,n;return e?Yo(e)?e:jv(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function bv(e){const{Document:t}=In(e);return e instanceof t}function Gc(e){return Yo(e)?!1:e instanceof In(e).HTMLElement}function iT(e){return e instanceof In(e).SVGElement}function Jo(e){return e?Yo(e)?e.document:jv(e)?bv(e)?e:Gc(e)||iT(e)?e.ownerDocument:document:document:document}const qs=tf?m.useLayoutEffect:m.useEffect;function nf(e){const t=m.useRef(e);return qs(()=>{t.current=e}),m.useCallback(function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return t.current==null?void 0:t.current(...s)},[])}function U6(){const e=m.useRef(null),t=m.useCallback((s,a)=>{e.current=setInterval(s,a)},[]),n=m.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function jc(e,t){t===void 0&&(t=[e]);const n=m.useRef(e);return qs(()=>{n.current!==e&&(n.current=e)},t),n}function Qc(e,t){const n=m.useRef();return m.useMemo(()=>{const s=e(n.current);return n.current=s,s},[...t])}function Ju(e){const t=nf(e),n=m.useRef(null),s=m.useCallback(a=>{a!==n.current&&(t==null||t(a,n.current)),n.current=a},[]);return[n,s]}function Xu(e){const t=m.useRef();return m.useEffect(()=>{t.current=e},[e]),t.current}let gm={};function Yc(e,t){return m.useMemo(()=>{if(t)return t;const n=gm[e]==null?0:gm[e]+1;return gm[e]=n,e+"-"+n},[e,t])}function oT(e){return function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),a=1;a<n;a++)s[a-1]=arguments[a];return s.reduce((i,o)=>{const l=Object.entries(o);for(const[c,d]of l){const u=i[c];u!=null&&(i[c]=u+e*d)}return i},{...t})}}const po=oT(1),bc=oT(-1);function B6(e){return"clientX"in e&&"clientY"in e}function sf(e){if(!e)return!1;const{KeyboardEvent:t}=In(e.target);return t&&e instanceof t}function z6(e){if(!e)return!1;const{TouchEvent:t}=In(e.target);return t&&e instanceof t}function Zu(e){if(z6(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return B6(e)?{x:e.clientX,y:e.clientY}:null}const Ta=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Ta.Translate.toString(e),Ta.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:s}=e;return t+" "+n+"ms "+s}}}),I0="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function V6(e){return e.matches(I0)?e:e.querySelector(I0)}const W6={display:"none"};function H6(e){let{id:t,value:n}=e;return $e.createElement("div",{id:t,style:W6},n)}function q6(e){let{id:t,announcement:n,ariaLiveType:s="assertive"}=e;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return $e.createElement("div",{id:t,style:a,role:"status","aria-live":s,"aria-atomic":!0},n)}function K6(){const[e,t]=m.useState("");return{announce:m.useCallback(s=>{s!=null&&t(s)},[]),announcement:e}}const lT=m.createContext(null);function G6(e){const t=m.useContext(lT);m.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function Q6(){const[e]=m.useState(()=>new Set),t=m.useCallback(s=>(e.add(s),()=>e.delete(s)),[e]);return[m.useCallback(s=>{let{type:a,event:i}=s;e.forEach(o=>{var l;return(l=o[a])==null?void 0:l.call(o,i)})},[e]),t]}const Y6={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},J6={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function X6(e){let{announcements:t=J6,container:n,hiddenTextDescribedById:s,screenReaderInstructions:a=Y6}=e;const{announce:i,announcement:o}=K6(),l=Yc("DndLiveRegion"),[c,d]=m.useState(!1);if(m.useEffect(()=>{d(!0)},[]),G6(m.useMemo(()=>({onDragStart(h){let{active:f}=h;i(t.onDragStart({active:f}))},onDragMove(h){let{active:f,over:g}=h;t.onDragMove&&i(t.onDragMove({active:f,over:g}))},onDragOver(h){let{active:f,over:g}=h;i(t.onDragOver({active:f,over:g}))},onDragEnd(h){let{active:f,over:g}=h;i(t.onDragEnd({active:f,over:g}))},onDragCancel(h){let{active:f,over:g}=h;i(t.onDragCancel({active:f,over:g}))}}),[i,t])),!c)return null;const u=$e.createElement($e.Fragment,null,$e.createElement(H6,{id:s,value:a.draggable}),$e.createElement(q6,{id:l,announcement:o}));return n?ws.createPortal(u,n):u}var Ft;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Ft||(Ft={}));function eh(){}function M0(e,t){return m.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function Z6(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return m.useMemo(()=>[...t].filter(s=>s!=null),[...t])}const Ks=Object.freeze({x:0,y:0});function cT(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function eU(e,t){const n=Zu(e);if(!n)return"0 0";const s={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return s.x+"% "+s.y+"%"}function dT(e,t){let{data:{value:n}}=e,{data:{value:s}}=t;return n-s}function tU(e,t){let{data:{value:n}}=e,{data:{value:s}}=t;return s-n}function L0(e){let{left:t,top:n,height:s,width:a}=e;return[{x:t,y:n},{x:t+a,y:n},{x:t,y:n+s},{x:t+a,y:n+s}]}function uT(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function O0(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const nU=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=e;const a=O0(t,t.left,t.top),i=[];for(const o of s){const{id:l}=o,c=n.get(l);if(c){const d=cT(O0(c),a);i.push({id:l,data:{droppableContainer:o,value:d}})}}return i.sort(dT)},sU=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=e;const a=L0(t),i=[];for(const o of s){const{id:l}=o,c=n.get(l);if(c){const d=L0(c),u=a.reduce((f,g,j)=>f+cT(d[j],g),0),h=Number((u/4).toFixed(4));i.push({id:l,data:{droppableContainer:o,value:h}})}}return i.sort(dT)};function rU(e,t){const n=Math.max(t.top,e.top),s=Math.max(t.left,e.left),a=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),o=a-s,l=i-n;if(s<a&&n<i){const c=t.width*t.height,d=e.width*e.height,u=o*l,h=u/(c+d-u);return Number(h.toFixed(4))}return 0}const aU=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=e;const a=[];for(const i of s){const{id:o}=i,l=n.get(o);if(l){const c=rU(l,t);c>0&&a.push({id:o,data:{droppableContainer:i,value:c}})}}return a.sort(tU)};function iU(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function hT(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Ks}function oU(e){return function(n){for(var s=arguments.length,a=new Array(s>1?s-1:0),i=1;i<s;i++)a[i-1]=arguments[i];return a.reduce((o,l)=>({...o,top:o.top+e*l.y,bottom:o.bottom+e*l.y,left:o.left+e*l.x,right:o.right+e*l.x}),{...n})}}const lU=oU(1);function fT(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function cU(e,t,n){const s=fT(t);if(!s)return e;const{scaleX:a,scaleY:i,x:o,y:l}=s,c=e.left-o-(1-a)*parseFloat(n),d=e.top-l-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),u=a?e.width/a:e.width,h=i?e.height/i:e.height;return{width:u,height:h,top:d,right:c+u,bottom:d+h,left:c}}const dU={ignoreTransform:!1};function Xo(e,t){t===void 0&&(t=dU);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:d,transformOrigin:u}=In(e).getComputedStyle(e);d&&(n=cU(n,d,u))}const{top:s,left:a,width:i,height:o,bottom:l,right:c}=n;return{top:s,left:a,width:i,height:o,bottom:l,right:c}}function F0(e){return Xo(e,{ignoreTransform:!0})}function uU(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function hU(e,t){return t===void 0&&(t=In(e).getComputedStyle(e)),t.position==="fixed"}function fU(e,t){t===void 0&&(t=In(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const i=t[a];return typeof i=="string"?n.test(i):!1})}function rf(e,t){const n=[];function s(a){if(t!=null&&n.length>=t||!a)return n;if(bv(a)&&a.scrollingElement!=null&&!n.includes(a.scrollingElement))return n.push(a.scrollingElement),n;if(!Gc(a)||iT(a)||n.includes(a))return n;const i=In(e).getComputedStyle(a);return a!==e&&fU(a,i)&&n.push(a),hU(a,i)?n:s(a.parentNode)}return e?s(e):n}function mT(e){const[t]=rf(e,1);return t??null}function xm(e){return!tf||!e?null:Yo(e)?e:jv(e)?bv(e)||e===Jo(e).scrollingElement?window:Gc(e)?e:null:null}function pT(e){return Yo(e)?e.scrollX:e.scrollLeft}function gT(e){return Yo(e)?e.scrollY:e.scrollTop}function ig(e){return{x:pT(e),y:gT(e)}}var Yt;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Yt||(Yt={}));function xT(e){return!tf||!e?!1:e===document.scrollingElement}function vT(e){const t={x:0,y:0},n=xT(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},s={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},a=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,o=e.scrollTop>=s.y,l=e.scrollLeft>=s.x;return{isTop:a,isLeft:i,isBottom:o,isRight:l,maxScroll:s,minScroll:t}}const mU={x:.2,y:.2};function pU(e,t,n,s,a){let{top:i,left:o,right:l,bottom:c}=n;s===void 0&&(s=10),a===void 0&&(a=mU);const{isTop:d,isBottom:u,isLeft:h,isRight:f}=vT(e),g={x:0,y:0},j={x:0,y:0},v={height:t.height*a.y,width:t.width*a.x};return!d&&i<=t.top+v.height?(g.y=Yt.Backward,j.y=s*Math.abs((t.top+v.height-i)/v.height)):!u&&c>=t.bottom-v.height&&(g.y=Yt.Forward,j.y=s*Math.abs((t.bottom-v.height-c)/v.height)),!f&&l>=t.right-v.width?(g.x=Yt.Forward,j.x=s*Math.abs((t.right-v.width-l)/v.width)):!h&&o<=t.left+v.width&&(g.x=Yt.Backward,j.x=s*Math.abs((t.left+v.width-o)/v.width)),{direction:g,speed:j}}function gU(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:o}=window;return{top:0,left:0,right:i,bottom:o,width:i,height:o}}const{top:t,left:n,right:s,bottom:a}=e.getBoundingClientRect();return{top:t,left:n,right:s,bottom:a,width:e.clientWidth,height:e.clientHeight}}function yT(e){return e.reduce((t,n)=>po(t,ig(n)),Ks)}function xU(e){return e.reduce((t,n)=>t+pT(n),0)}function vU(e){return e.reduce((t,n)=>t+gT(n),0)}function wT(e,t){if(t===void 0&&(t=Xo),!e)return;const{top:n,left:s,bottom:a,right:i}=t(e);mT(e)&&(a<=0||i<=0||n>=window.innerHeight||s>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const yU=[["x",["left","right"],xU],["y",["top","bottom"],vU]];class _v{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const s=rf(n),a=yT(s);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,o,l]of yU)for(const c of o)Object.defineProperty(this,c,{get:()=>{const d=l(s),u=a[i]-d;return this.rect[c]+u},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Ul{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var s;return(s=this.target)==null?void 0:s.removeEventListener(...n)})},this.target=t}add(t,n,s){var a;(a=this.target)==null||a.addEventListener(t,n,s),this.listeners.push([t,n,s])}}function wU(e){const{EventTarget:t}=In(e);return e instanceof t?e:Jo(e)}function vm(e,t){const n=Math.abs(e.x),s=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+s**2)>t:"x"in t&&"y"in t?n>t.x&&s>t.y:"x"in t?n>t.x:"y"in t?s>t.y:!1}var gs;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(gs||(gs={}));function U0(e){e.preventDefault()}function jU(e){e.stopPropagation()}var De;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(De||(De={}));const jT={start:[De.Space,De.Enter],cancel:[De.Esc],end:[De.Space,De.Enter,De.Tab]},bU=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case De.Right:return{...n,x:n.x+25};case De.Left:return{...n,x:n.x-25};case De.Down:return{...n,y:n.y+25};case De.Up:return{...n,y:n.y-25}}};class Sv{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Ul(Jo(n)),this.windowListeners=new Ul(In(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(gs.Resize,this.handleCancel),this.windowListeners.add(gs.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(gs.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,s=t.node.current;s&&wT(s),n(Ks)}handleKeyDown(t){if(sf(t)){const{active:n,context:s,options:a}=this.props,{keyboardCodes:i=jT,coordinateGetter:o=bU,scrollBehavior:l="smooth"}=a,{code:c}=t;if(i.end.includes(c)){this.handleEnd(t);return}if(i.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:d}=s.current,u=d?{x:d.left,y:d.top}:Ks;this.referenceCoordinates||(this.referenceCoordinates=u);const h=o(t,{active:n,context:s.current,currentCoordinates:u});if(h){const f=bc(h,u),g={x:0,y:0},{scrollableAncestors:j}=s.current;for(const v of j){const w=t.code,{isTop:p,isRight:x,isLeft:y,isBottom:b,maxScroll:_,minScroll:E}=vT(v),C=gU(v),N={x:Math.min(w===De.Right?C.right-C.width/2:C.right,Math.max(w===De.Right?C.left:C.left+C.width/2,h.x)),y:Math.min(w===De.Down?C.bottom-C.height/2:C.bottom,Math.max(w===De.Down?C.top:C.top+C.height/2,h.y))},k=w===De.Right&&!x||w===De.Left&&!y,R=w===De.Down&&!b||w===De.Up&&!p;if(k&&N.x!==h.x){const A=v.scrollLeft+f.x,$=w===De.Right&&A<=_.x||w===De.Left&&A>=E.x;if($&&!f.y){v.scrollTo({left:A,behavior:l});return}$?g.x=v.scrollLeft-A:g.x=w===De.Right?v.scrollLeft-_.x:v.scrollLeft-E.x,g.x&&v.scrollBy({left:-g.x,behavior:l});break}else if(R&&N.y!==h.y){const A=v.scrollTop+f.y,$=w===De.Down&&A<=_.y||w===De.Up&&A>=E.y;if($&&!f.x){v.scrollTo({top:A,behavior:l});return}$?g.y=v.scrollTop-A:g.y=w===De.Down?v.scrollTop-_.y:v.scrollTop-E.y,g.y&&v.scrollBy({top:-g.y,behavior:l});break}}this.handleMove(t,po(bc(h,this.referenceCoordinates),g))}}}handleMove(t,n){const{onMove:s}=this.props;t.preventDefault(),s(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Sv.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:s=jT,onActivation:a}=t,{active:i}=n;const{code:o}=e.nativeEvent;if(s.start.includes(o)){const l=i.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),a==null||a({event:e.nativeEvent}),!0)}return!1}}];function B0(e){return!!(e&&"distance"in e)}function z0(e){return!!(e&&"delay"in e)}class Nv{constructor(t,n,s){var a;s===void 0&&(s=wU(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:i}=t,{target:o}=i;this.props=t,this.events=n,this.document=Jo(o),this.documentListeners=new Ul(this.document),this.listeners=new Ul(s),this.windowListeners=new Ul(In(o)),this.initialCoordinates=(a=Zu(i))!=null?a:Ks,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:s}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(gs.Resize,this.handleCancel),this.windowListeners.add(gs.DragStart,U0),this.windowListeners.add(gs.VisibilityChange,this.handleCancel),this.windowListeners.add(gs.ContextMenu,U0),this.documentListeners.add(gs.Keydown,this.handleKeydown),n){if(s!=null&&s({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(z0(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(B0(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:s,onPending:a}=this.props;a(s,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(gs.Click,jU,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(gs.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:s,initialCoordinates:a,props:i}=this,{onMove:o,options:{activationConstraint:l}}=i;if(!a)return;const c=(n=Zu(t))!=null?n:Ks,d=bc(a,c);if(!s&&l){if(B0(l)){if(l.tolerance!=null&&vm(d,l.tolerance))return this.handleCancel();if(vm(d,l.distance))return this.handleStart()}if(z0(l)&&vm(d,l.tolerance))return this.handleCancel();this.handlePending(l,d);return}t.cancelable&&t.preventDefault(),o(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===De.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const _U={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Cv extends Nv{constructor(t){const{event:n}=t,s=Jo(n.target);super(t,_U,s)}}Cv.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;return!n.isPrimary||n.button!==0?!1:(s==null||s({event:n}),!0)}}];const SU={move:{name:"mousemove"},end:{name:"mouseup"}};var og;(function(e){e[e.RightClick=2]="RightClick"})(og||(og={}));class NU extends Nv{constructor(t){super(t,SU,Jo(t.event.target))}}NU.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;return n.button===og.RightClick?!1:(s==null||s({event:n}),!0)}}];const ym={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class CU extends Nv{constructor(t){super(t,ym)}static setup(){return window.addEventListener(ym.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(ym.move.name,t)};function t(){}}}CU.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;const{touches:a}=n;return a.length>1?!1:(s==null||s({event:n}),!0)}}];var Bl;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Bl||(Bl={}));var th;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(th||(th={}));function EU(e){let{acceleration:t,activator:n=Bl.Pointer,canScroll:s,draggingRect:a,enabled:i,interval:o=5,order:l=th.TreeOrder,pointerCoordinates:c,scrollableAncestors:d,scrollableAncestorRects:u,delta:h,threshold:f}=e;const g=kU({delta:h,disabled:!i}),[j,v]=U6(),w=m.useRef({x:0,y:0}),p=m.useRef({x:0,y:0}),x=m.useMemo(()=>{switch(n){case Bl.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Bl.DraggableRect:return a}},[n,a,c]),y=m.useRef(null),b=m.useCallback(()=>{const E=y.current;if(!E)return;const C=w.current.x*p.current.x,N=w.current.y*p.current.y;E.scrollBy(C,N)},[]),_=m.useMemo(()=>l===th.TreeOrder?[...d].reverse():d,[l,d]);m.useEffect(()=>{if(!i||!d.length||!x){v();return}for(const E of _){if((s==null?void 0:s(E))===!1)continue;const C=d.indexOf(E),N=u[C];if(!N)continue;const{direction:k,speed:R}=pU(E,N,x,t,f);for(const A of["x","y"])g[A][k[A]]||(R[A]=0,k[A]=0);if(R.x>0||R.y>0){v(),y.current=E,j(b,o),w.current=R,p.current=k;return}}w.current={x:0,y:0},p.current={x:0,y:0},v()},[t,b,s,v,i,o,JSON.stringify(x),JSON.stringify(g),j,d,_,u,JSON.stringify(f)])}const TU={x:{[Yt.Backward]:!1,[Yt.Forward]:!1},y:{[Yt.Backward]:!1,[Yt.Forward]:!1}};function kU(e){let{delta:t,disabled:n}=e;const s=Xu(t);return Qc(a=>{if(n||!s||!a)return TU;const i={x:Math.sign(t.x-s.x),y:Math.sign(t.y-s.y)};return{x:{[Yt.Backward]:a.x[Yt.Backward]||i.x===-1,[Yt.Forward]:a.x[Yt.Forward]||i.x===1},y:{[Yt.Backward]:a.y[Yt.Backward]||i.y===-1,[Yt.Forward]:a.y[Yt.Forward]||i.y===1}}},[n,t,s])}function PU(e,t){const n=t!=null?e.get(t):void 0,s=n?n.node.current:null;return Qc(a=>{var i;return t==null?null:(i=s??a)!=null?i:null},[s,t])}function RU(e,t){return m.useMemo(()=>e.reduce((n,s)=>{const{sensor:a}=s,i=a.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,s)}));return[...n,...i]},[]),[e,t])}var _c;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(_c||(_c={}));var lg;(function(e){e.Optimized="optimized"})(lg||(lg={}));const V0=new Map;function AU(e,t){let{dragging:n,dependencies:s,config:a}=t;const[i,o]=m.useState(null),{frequency:l,measure:c,strategy:d}=a,u=m.useRef(e),h=w(),f=jc(h),g=m.useCallback(function(p){p===void 0&&(p=[]),!f.current&&o(x=>x===null?p:x.concat(p.filter(y=>!x.includes(y))))},[f]),j=m.useRef(null),v=Qc(p=>{if(h&&!n)return V0;if(!p||p===V0||u.current!==e||i!=null){const x=new Map;for(let y of e){if(!y)continue;if(i&&i.length>0&&!i.includes(y.id)&&y.rect.current){x.set(y.id,y.rect.current);continue}const b=y.node.current,_=b?new _v(c(b),b):null;y.rect.current=_,_&&x.set(y.id,_)}return x}return p},[e,i,n,h,c]);return m.useEffect(()=>{u.current=e},[e]),m.useEffect(()=>{h||g()},[n,h]),m.useEffect(()=>{i&&i.length>0&&o(null)},[JSON.stringify(i)]),m.useEffect(()=>{h||typeof l!="number"||j.current!==null||(j.current=setTimeout(()=>{g(),j.current=null},l))},[l,h,g,...s]),{droppableRects:v,measureDroppableContainers:g,measuringScheduled:i!=null};function w(){switch(d){case _c.Always:return!1;case _c.BeforeDragging:return n;default:return!n}}}function Ev(e,t){return Qc(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function DU(e,t){return Ev(e,t)}function $U(e){let{callback:t,disabled:n}=e;const s=nf(t),a=m.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(s)},[s,n]);return m.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function af(e){let{callback:t,disabled:n}=e;const s=nf(t),a=m.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(s)},[n]);return m.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function IU(e){return new _v(Xo(e),e)}function W0(e,t,n){t===void 0&&(t=IU);const[s,a]=m.useState(null);function i(){a(c=>{if(!e)return null;if(e.isConnected===!1){var d;return(d=c??n)!=null?d:null}const u=t(e);return JSON.stringify(c)===JSON.stringify(u)?c:u})}const o=$U({callback(c){if(e)for(const d of c){const{type:u,target:h}=d;if(u==="childList"&&h instanceof HTMLElement&&h.contains(e)){i();break}}}}),l=af({callback:i});return qs(()=>{i(),e?(l==null||l.observe(e),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),o==null||o.disconnect())},[e]),s}function MU(e){const t=Ev(e);return hT(e,t)}const H0=[];function LU(e){const t=m.useRef(e),n=Qc(s=>e?s&&s!==H0&&e&&t.current&&e.parentNode===t.current.parentNode?s:rf(e):H0,[e]);return m.useEffect(()=>{t.current=e},[e]),n}function OU(e){const[t,n]=m.useState(null),s=m.useRef(e),a=m.useCallback(i=>{const o=xm(i.target);o&&n(l=>l?(l.set(o,ig(o)),new Map(l)):null)},[]);return m.useEffect(()=>{const i=s.current;if(e!==i){o(i);const l=e.map(c=>{const d=xm(c);return d?(d.addEventListener("scroll",a,{passive:!0}),[d,ig(d)]):null}).filter(c=>c!=null);n(l.length?new Map(l):null),s.current=e}return()=>{o(e),o(i)};function o(l){l.forEach(c=>{const d=xm(c);d==null||d.removeEventListener("scroll",a)})}},[a,e]),m.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,o)=>po(i,o),Ks):yT(e):Ks,[e,t])}function q0(e,t){t===void 0&&(t=[]);const n=m.useRef(null);return m.useEffect(()=>{n.current=null},t),m.useEffect(()=>{const s=e!==Ks;s&&!n.current&&(n.current=e),!s&&n.current&&(n.current=null)},[e]),n.current?bc(e,n.current):Ks}function FU(e){m.useEffect(()=>{if(!tf)return;const t=e.map(n=>{let{sensor:s}=n;return s.setup==null?void 0:s.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function UU(e,t){return m.useMemo(()=>e.reduce((n,s)=>{let{eventName:a,handler:i}=s;return n[a]=o=>{i(o,t)},n},{}),[e,t])}function bT(e){return m.useMemo(()=>e?uU(e):null,[e])}const K0=[];function BU(e,t){t===void 0&&(t=Xo);const[n]=e,s=bT(n?In(n):null),[a,i]=m.useState(K0);function o(){i(()=>e.length?e.map(c=>xT(c)?s:new _v(t(c),c)):K0)}const l=af({callback:o});return qs(()=>{l==null||l.disconnect(),o(),e.forEach(c=>l==null?void 0:l.observe(c))},[e]),a}function _T(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Gc(t)?t:e}function zU(e){let{measure:t}=e;const[n,s]=m.useState(null),a=m.useCallback(d=>{for(const{target:u}of d)if(Gc(u)){s(h=>{const f=t(u);return h?{...h,width:f.width,height:f.height}:f});break}},[t]),i=af({callback:a}),o=m.useCallback(d=>{const u=_T(d);i==null||i.disconnect(),u&&(i==null||i.observe(u)),s(u?t(u):null)},[t,i]),[l,c]=Ju(o);return m.useMemo(()=>({nodeRef:l,rect:n,setRef:c}),[n,l,c])}const VU=[{sensor:Cv,options:{}},{sensor:Sv,options:{}}],WU={current:{}},au={draggable:{measure:F0},droppable:{measure:F0,strategy:_c.WhileDragging,frequency:lg.Optimized},dragOverlay:{measure:Xo}};class zl extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,s;return(n=(s=this.get(t))==null?void 0:s.node.current)!=null?n:void 0}}const HU={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new zl,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:eh},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:au,measureDroppableContainers:eh,windowRect:null,measuringScheduled:!1},ST={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:eh,draggableNodes:new Map,over:null,measureDroppableContainers:eh},Jc=m.createContext(ST),NT=m.createContext(HU);function qU(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new zl}}}function KU(e,t){switch(t.type){case Ft.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Ft.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Ft.DragEnd:case Ft.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Ft.RegisterDroppable:{const{element:n}=t,{id:s}=n,a=new zl(e.droppable.containers);return a.set(s,n),{...e,droppable:{...e.droppable,containers:a}}}case Ft.SetDroppableDisabled:{const{id:n,key:s,disabled:a}=t,i=e.droppable.containers.get(n);if(!i||s!==i.key)return e;const o=new zl(e.droppable.containers);return o.set(n,{...i,disabled:a}),{...e,droppable:{...e.droppable,containers:o}}}case Ft.UnregisterDroppable:{const{id:n,key:s}=t,a=e.droppable.containers.get(n);if(!a||s!==a.key)return e;const i=new zl(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function GU(e){let{disabled:t}=e;const{active:n,activatorEvent:s,draggableNodes:a}=m.useContext(Jc),i=Xu(s),o=Xu(n==null?void 0:n.id);return m.useEffect(()=>{if(!t&&!s&&i&&o!=null){if(!sf(i)||document.activeElement===i.target)return;const l=a.get(o);if(!l)return;const{activatorNode:c,node:d}=l;if(!c.current&&!d.current)return;requestAnimationFrame(()=>{for(const u of[c.current,d.current]){if(!u)continue;const h=V6(u);if(h){h.focus();break}}})}},[s,t,a,o,i]),null}function CT(e,t){let{transform:n,...s}=t;return e!=null&&e.length?e.reduce((a,i)=>i({transform:a,...s}),n):n}function QU(e){return m.useMemo(()=>({draggable:{...au.draggable,...e==null?void 0:e.draggable},droppable:{...au.droppable,...e==null?void 0:e.droppable},dragOverlay:{...au.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function YU(e){let{activeNode:t,measure:n,initialRect:s,config:a=!0}=e;const i=m.useRef(!1),{x:o,y:l}=typeof a=="boolean"?{x:a,y:a}:a;qs(()=>{if(!o&&!l||!t){i.current=!1;return}if(i.current||!s)return;const d=t==null?void 0:t.node.current;if(!d||d.isConnected===!1)return;const u=n(d),h=hT(u,s);if(o||(h.x=0),l||(h.y=0),i.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const f=mT(d);f&&f.scrollBy({top:h.y,left:h.x})}},[t,o,l,s,n])}const of=m.createContext({...Ks,scaleX:1,scaleY:1});var ta;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(ta||(ta={}));const JU=m.memo(function(t){var n,s,a,i;let{id:o,accessibility:l,autoScroll:c=!0,children:d,sensors:u=VU,collisionDetection:h=aU,measuring:f,modifiers:g,...j}=t;const v=m.useReducer(KU,void 0,qU),[w,p]=v,[x,y]=Q6(),[b,_]=m.useState(ta.Uninitialized),E=b===ta.Initialized,{draggable:{active:C,nodes:N,translate:k},droppable:{containers:R}}=w,A=C!=null?N.get(C):null,$=m.useRef({initial:null,translated:null}),M=m.useMemo(()=>{var Ht;return C!=null?{id:C,data:(Ht=A==null?void 0:A.data)!=null?Ht:WU,rect:$}:null},[C,A]),V=m.useRef(null),[B,L]=m.useState(null),[U,D]=m.useState(null),S=jc(j,Object.values(j)),T=Yc("DndDescribedBy",o),P=m.useMemo(()=>R.getEnabled(),[R]),F=QU(f),{droppableRects:I,measureDroppableContainers:G,measuringScheduled:le}=AU(P,{dragging:E,dependencies:[k.x,k.y],config:F.droppable}),X=PU(N,C),W=m.useMemo(()=>U?Zu(U):null,[U]),q=pf(),K=DU(X,F.draggable.measure);YU({activeNode:C!=null?N.get(C):null,config:q.layoutShiftCompensation,initialRect:K,measure:F.draggable.measure});const O=W0(X,F.draggable.measure,K),ae=W0(X?X.parentElement:null),oe=m.useRef({activatorEvent:null,active:null,activeNode:X,collisionRect:null,collisions:null,droppableRects:I,draggableNodes:N,draggingNode:null,draggingNodeRect:null,droppableContainers:R,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),de=R.getNodeFor((n=oe.current.over)==null?void 0:n.id),ge=zU({measure:F.dragOverlay.measure}),we=(s=ge.nodeRef.current)!=null?s:X,Ie=E?(a=ge.rect)!=null?a:O:null,He=!!(ge.nodeRef.current&&ge.rect),tn=MU(He?null:O),ce=bT(we?In(we):null),Ee=LU(E?de??X:null),Et=BU(Ee),Be=CT(g,{transform:{x:k.x-tn.x,y:k.y-tn.y,scaleX:1,scaleY:1},activatorEvent:U,active:M,activeNodeRect:O,containerNodeRect:ae,draggingNodeRect:Ie,over:oe.current.over,overlayNodeRect:ge.rect,scrollableAncestors:Ee,scrollableAncestorRects:Et,windowRect:ce}),zr=W?po(W,k):null,nn=OU(Ee),nd=q0(nn),nl=q0(nn,[O]),Js=po(Be,nd),Mn=Ie?lU(Ie,Be):null,ye=M&&Mn?h({active:M,collisionRect:Mn,droppableRects:I,droppableContainers:P,pointerCoordinates:zr}):null,qe=uT(ye,"id"),[sn,Wt]=m.useState(null),Ei=He?Be:po(Be,nl),sl=iU(Ei,(i=sn==null?void 0:sn.rect)!=null?i:null,O),Fa=m.useRef(null),wt=m.useCallback((Ht,bn)=>{let{sensor:_n,options:Cs}=bn;if(V.current==null)return;const rn=N.get(V.current);if(!rn)return;const Sn=Ht.nativeEvent,is=new _n({active:V.current,activeNode:rn,event:Sn,options:Cs,context:oe,onAbort(Mt){if(!N.get(Mt))return;const{onDragAbort:ls}=S.current,Es={id:Mt};ls==null||ls(Es),x({type:"onDragAbort",event:Es})},onPending(Mt,os,ls,Es){if(!N.get(Mt))return;const{onDragPending:Ba}=S.current,Xs={id:Mt,constraint:os,initialCoordinates:ls,offset:Es};Ba==null||Ba(Xs),x({type:"onDragPending",event:Xs})},onStart(Mt){const os=V.current;if(os==null)return;const ls=N.get(os);if(!ls)return;const{onDragStart:Es}=S.current,Ua={activatorEvent:Sn,active:{id:os,data:ls.data,rect:$}};ws.unstable_batchedUpdates(()=>{Es==null||Es(Ua),_(ta.Initializing),p({type:Ft.DragStart,initialCoordinates:Mt,active:os}),x({type:"onDragStart",event:Ua}),L(Fa.current),D(Sn)})},onMove(Mt){p({type:Ft.DragMove,coordinates:Mt})},onEnd:Vr(Ft.DragEnd),onCancel:Vr(Ft.DragCancel)});Fa.current=is;function Vr(Mt){return async function(){const{active:ls,collisions:Es,over:Ua,scrollAdjustedTranslate:Ba}=oe.current;let Xs=null;if(ls&&Ba){const{cancelDrop:qt}=S.current;Xs={activatorEvent:Sn,active:ls,collisions:Es,delta:Ba,over:Ua},Mt===Ft.DragEnd&&typeof qt=="function"&&await Promise.resolve(qt(Xs))&&(Mt=Ft.DragCancel)}V.current=null,ws.unstable_batchedUpdates(()=>{p({type:Mt}),_(ta.Uninitialized),Wt(null),L(null),D(null),Fa.current=null;const qt=Mt===Ft.DragEnd?"onDragEnd":"onDragCancel";if(Xs){const z=S.current[qt];z==null||z(Xs),x({type:qt,event:Xs})}})}}},[N]),hf=m.useCallback((Ht,bn)=>(_n,Cs)=>{const rn=_n.nativeEvent,Sn=N.get(Cs);if(V.current!==null||!Sn||rn.dndKit||rn.defaultPrevented)return;const is={active:Sn};Ht(_n,bn.options,is)===!0&&(rn.dndKit={capturedBy:bn.sensor},V.current=Cs,wt(_n,bn))},[N,wt]),rl=RU(u,hf);FU(u),qs(()=>{O&&b===ta.Initializing&&_(ta.Initialized)},[O,b]),m.useEffect(()=>{const{onDragMove:Ht}=S.current,{active:bn,activatorEvent:_n,collisions:Cs,over:rn}=oe.current;if(!bn||!_n)return;const Sn={active:bn,activatorEvent:_n,collisions:Cs,delta:{x:Js.x,y:Js.y},over:rn};ws.unstable_batchedUpdates(()=>{Ht==null||Ht(Sn),x({type:"onDragMove",event:Sn})})},[Js.x,Js.y]),m.useEffect(()=>{const{active:Ht,activatorEvent:bn,collisions:_n,droppableContainers:Cs,scrollAdjustedTranslate:rn}=oe.current;if(!Ht||V.current==null||!bn||!rn)return;const{onDragOver:Sn}=S.current,is=Cs.get(qe),Vr=is&&is.rect.current?{id:is.id,rect:is.rect.current,data:is.data,disabled:is.disabled}:null,Mt={active:Ht,activatorEvent:bn,collisions:_n,delta:{x:rn.x,y:rn.y},over:Vr};ws.unstable_batchedUpdates(()=>{Wt(Vr),Sn==null||Sn(Mt),x({type:"onDragOver",event:Mt})})},[qe]),qs(()=>{oe.current={activatorEvent:U,active:M,activeNode:X,collisionRect:Mn,collisions:ye,droppableRects:I,draggableNodes:N,draggingNode:we,draggingNodeRect:Ie,droppableContainers:R,over:sn,scrollableAncestors:Ee,scrollAdjustedTranslate:Js},$.current={initial:Ie,translated:Mn}},[M,X,ye,Mn,N,we,Ie,I,R,sn,Ee,Js]),EU({...q,delta:k,draggingRect:Mn,pointerCoordinates:zr,scrollableAncestors:Ee,scrollableAncestorRects:Et});const ff=m.useMemo(()=>({active:M,activeNode:X,activeNodeRect:O,activatorEvent:U,collisions:ye,containerNodeRect:ae,dragOverlay:ge,draggableNodes:N,droppableContainers:R,droppableRects:I,over:sn,measureDroppableContainers:G,scrollableAncestors:Ee,scrollableAncestorRects:Et,measuringConfiguration:F,measuringScheduled:le,windowRect:ce}),[M,X,O,U,ye,ae,ge,N,R,I,sn,G,Ee,Et,F,le,ce]),mf=m.useMemo(()=>({activatorEvent:U,activators:rl,active:M,activeNodeRect:O,ariaDescribedById:{draggable:T},dispatch:p,draggableNodes:N,over:sn,measureDroppableContainers:G}),[U,rl,M,O,p,T,N,sn,G]);return $e.createElement(lT.Provider,{value:y},$e.createElement(Jc.Provider,{value:mf},$e.createElement(NT.Provider,{value:ff},$e.createElement(of.Provider,{value:sl},d)),$e.createElement(GU,{disabled:(l==null?void 0:l.restoreFocus)===!1})),$e.createElement(X6,{...l,hiddenTextDescribedById:T}));function pf(){const Ht=(B==null?void 0:B.autoScrollEnabled)===!1,bn=typeof c=="object"?c.enabled===!1:c===!1,_n=E&&!Ht&&!bn;return typeof c=="object"?{...c,enabled:_n}:{enabled:_n}}}),XU=m.createContext(null),G0="button",ZU="Draggable";function eB(e){let{id:t,data:n,disabled:s=!1,attributes:a}=e;const i=Yc(ZU),{activators:o,activatorEvent:l,active:c,activeNodeRect:d,ariaDescribedById:u,draggableNodes:h,over:f}=m.useContext(Jc),{role:g=G0,roleDescription:j="draggable",tabIndex:v=0}=a??{},w=(c==null?void 0:c.id)===t,p=m.useContext(w?of:XU),[x,y]=Ju(),[b,_]=Ju(),E=UU(o,t),C=jc(n);qs(()=>(h.set(t,{id:t,key:i,node:x,activatorNode:b,data:C}),()=>{const k=h.get(t);k&&k.key===i&&h.delete(t)}),[h,t]);const N=m.useMemo(()=>({role:g,tabIndex:v,"aria-disabled":s,"aria-pressed":w&&g===G0?!0:void 0,"aria-roledescription":j,"aria-describedby":u.draggable}),[s,g,v,w,j,u.draggable]);return{active:c,activatorEvent:l,activeNodeRect:d,attributes:N,isDragging:w,listeners:s?void 0:E,node:x,over:f,setNodeRef:y,setActivatorNodeRef:_,transform:p}}function ET(){return m.useContext(NT)}const tB="Droppable",nB={timeout:25};function sB(e){let{data:t,disabled:n=!1,id:s,resizeObserverConfig:a}=e;const i=Yc(tB),{active:o,dispatch:l,over:c,measureDroppableContainers:d}=m.useContext(Jc),u=m.useRef({disabled:n}),h=m.useRef(!1),f=m.useRef(null),g=m.useRef(null),{disabled:j,updateMeasurementsFor:v,timeout:w}={...nB,...a},p=jc(v??s),x=m.useCallback(()=>{if(!h.current){h.current=!0;return}g.current!=null&&clearTimeout(g.current),g.current=setTimeout(()=>{d(Array.isArray(p.current)?p.current:[p.current]),g.current=null},w)},[w]),y=af({callback:x,disabled:j||!o}),b=m.useCallback((N,k)=>{y&&(k&&(y.unobserve(k),h.current=!1),N&&y.observe(N))},[y]),[_,E]=Ju(b),C=jc(t);return m.useEffect(()=>{!y||!_.current||(y.disconnect(),h.current=!1,y.observe(_.current))},[_,y]),m.useEffect(()=>(l({type:Ft.RegisterDroppable,element:{id:s,key:i,disabled:n,node:_,rect:f,data:C}}),()=>l({type:Ft.UnregisterDroppable,key:i,id:s})),[s]),m.useEffect(()=>{n!==u.current.disabled&&(l({type:Ft.SetDroppableDisabled,id:s,key:i,disabled:n}),u.current.disabled=n)},[s,i,n,l]),{active:o,rect:f,isOver:(c==null?void 0:c.id)===s,node:_,over:c,setNodeRef:E}}function rB(e){let{animation:t,children:n}=e;const[s,a]=m.useState(null),[i,o]=m.useState(null),l=Xu(n);return!n&&!s&&l&&a(l),qs(()=>{if(!i)return;const c=s==null?void 0:s.key,d=s==null?void 0:s.props.id;if(c==null||d==null){a(null);return}Promise.resolve(t(d,i)).then(()=>{a(null)})},[t,s,i]),$e.createElement($e.Fragment,null,n,s?m.cloneElement(s,{ref:o}):null)}const aB={x:0,y:0,scaleX:1,scaleY:1};function iB(e){let{children:t}=e;return $e.createElement(Jc.Provider,{value:ST},$e.createElement(of.Provider,{value:aB},t))}const oB={position:"fixed",touchAction:"none"},lB=e=>sf(e)?"transform 250ms ease":void 0,cB=m.forwardRef((e,t)=>{let{as:n,activatorEvent:s,adjustScale:a,children:i,className:o,rect:l,style:c,transform:d,transition:u=lB}=e;if(!l)return null;const h=a?d:{...d,scaleX:1,scaleY:1},f={...oB,width:l.width,height:l.height,top:l.top,left:l.left,transform:Ta.Transform.toString(h),transformOrigin:a&&s?eU(s,l):void 0,transition:typeof u=="function"?u(s):u,...c};return $e.createElement(n,{className:o,style:f,ref:t},i)}),dB=e=>t=>{let{active:n,dragOverlay:s}=t;const a={},{styles:i,className:o}=e;if(i!=null&&i.active)for(const[l,c]of Object.entries(i.active))c!==void 0&&(a[l]=n.node.style.getPropertyValue(l),n.node.style.setProperty(l,c));if(i!=null&&i.dragOverlay)for(const[l,c]of Object.entries(i.dragOverlay))c!==void 0&&s.node.style.setProperty(l,c);return o!=null&&o.active&&n.node.classList.add(o.active),o!=null&&o.dragOverlay&&s.node.classList.add(o.dragOverlay),function(){for(const[c,d]of Object.entries(a))n.node.style.setProperty(c,d);o!=null&&o.active&&n.node.classList.remove(o.active)}},uB=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:Ta.Transform.toString(t)},{transform:Ta.Transform.toString(n)}]},hB={duration:250,easing:"ease",keyframes:uB,sideEffects:dB({styles:{active:{opacity:"0"}}})};function fB(e){let{config:t,draggableNodes:n,droppableContainers:s,measuringConfiguration:a}=e;return nf((i,o)=>{if(t===null)return;const l=n.get(i);if(!l)return;const c=l.node.current;if(!c)return;const d=_T(o);if(!d)return;const{transform:u}=In(o).getComputedStyle(o),h=fT(u);if(!h)return;const f=typeof t=="function"?t:mB(t);return wT(c,a.draggable.measure),f({active:{id:i,data:l.data,node:c,rect:a.draggable.measure(c)},draggableNodes:n,dragOverlay:{node:o,rect:a.dragOverlay.measure(d)},droppableContainers:s,measuringConfiguration:a,transform:h})})}function mB(e){const{duration:t,easing:n,sideEffects:s,keyframes:a}={...hB,...e};return i=>{let{active:o,dragOverlay:l,transform:c,...d}=i;if(!t)return;const u={x:l.rect.left-o.rect.left,y:l.rect.top-o.rect.top},h={scaleX:c.scaleX!==1?o.rect.width*c.scaleX/l.rect.width:1,scaleY:c.scaleY!==1?o.rect.height*c.scaleY/l.rect.height:1},f={x:c.x-u.x,y:c.y-u.y,...h},g=a({...d,active:o,dragOverlay:l,transform:{initial:c,final:f}}),[j]=g,v=g[g.length-1];if(JSON.stringify(j)===JSON.stringify(v))return;const w=s==null?void 0:s({active:o,dragOverlay:l,...d}),p=l.node.animate(g,{duration:t,easing:n,fill:"forwards"});return new Promise(x=>{p.onfinish=()=>{w==null||w(),x()}})}}let Q0=0;function pB(e){return m.useMemo(()=>{if(e!=null)return Q0++,Q0},[e])}const gB=$e.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:s,style:a,transition:i,modifiers:o,wrapperElement:l="div",className:c,zIndex:d=999}=e;const{activatorEvent:u,active:h,activeNodeRect:f,containerNodeRect:g,draggableNodes:j,droppableContainers:v,dragOverlay:w,over:p,measuringConfiguration:x,scrollableAncestors:y,scrollableAncestorRects:b,windowRect:_}=ET(),E=m.useContext(of),C=pB(h==null?void 0:h.id),N=CT(o,{activatorEvent:u,active:h,activeNodeRect:f,containerNodeRect:g,draggingNodeRect:w.rect,over:p,overlayNodeRect:w.rect,scrollableAncestors:y,scrollableAncestorRects:b,transform:E,windowRect:_}),k=Ev(f),R=fB({config:s,draggableNodes:j,droppableContainers:v,measuringConfiguration:x}),A=k?w.setRef:void 0;return $e.createElement(iB,null,$e.createElement(rB,{animation:R},h&&C?$e.createElement(cB,{key:C,id:h.id,ref:A,as:l,activatorEvent:u,adjustScale:t,className:c,transition:i,rect:k,style:{zIndex:d,...a},transform:N},n):null))});function TT(e,t,n){const s=e.slice();return s.splice(n<0?s.length+n:n,0,s.splice(t,1)[0]),s}function xB(e,t){return e.reduce((n,s,a)=>{const i=t.get(s);return i&&(n[a]=i),n},Array(e.length))}function Id(e){return e!==null&&e>=0}function vB(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function yB(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Tv=e=>{let{rects:t,activeIndex:n,overIndex:s,index:a}=e;const i=TT(t,s,n),o=t[a],l=i[a];return!l||!o?null:{x:l.left-o.left,y:l.top-o.top,scaleX:l.width/o.width,scaleY:l.height/o.height}},kT="Sortable",PT=$e.createContext({activeIndex:-1,containerId:kT,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Tv,disabled:{draggable:!1,droppable:!1}});function wB(e){let{children:t,id:n,items:s,strategy:a=Tv,disabled:i=!1}=e;const{active:o,dragOverlay:l,droppableRects:c,over:d,measureDroppableContainers:u}=ET(),h=Yc(kT,n),f=l.rect!==null,g=m.useMemo(()=>s.map(E=>typeof E=="object"&&"id"in E?E.id:E),[s]),j=o!=null,v=o?g.indexOf(o.id):-1,w=d?g.indexOf(d.id):-1,p=m.useRef(g),x=!vB(g,p.current),y=w!==-1&&v===-1||x,b=yB(i);qs(()=>{x&&j&&u(g)},[x,g,j,u]),m.useEffect(()=>{p.current=g},[g]);const _=m.useMemo(()=>({activeIndex:v,containerId:h,disabled:b,disableTransforms:y,items:g,overIndex:w,useDragOverlay:f,sortedRects:xB(g,c),strategy:a}),[v,h,b.draggable,b.droppable,y,g,w,c,f,a]);return $e.createElement(PT.Provider,{value:_},t)}const jB=e=>{let{id:t,items:n,activeIndex:s,overIndex:a}=e;return TT(n,s,a).indexOf(t)},bB=e=>{let{containerId:t,isSorting:n,wasDragging:s,index:a,items:i,newIndex:o,previousItems:l,previousContainerId:c,transition:d}=e;return!d||!s||l!==i&&a===o?!1:n?!0:o!==a&&t===c},_B={duration:200,easing:"ease"},RT="transform",SB=Ta.Transition.toString({property:RT,duration:0,easing:"linear"}),NB={roleDescription:"sortable"};function CB(e){let{disabled:t,index:n,node:s,rect:a}=e;const[i,o]=m.useState(null),l=m.useRef(n);return qs(()=>{if(!t&&n!==l.current&&s.current){const c=a.current;if(c){const d=Xo(s.current,{ignoreTransform:!0}),u={x:c.left-d.left,y:c.top-d.top,scaleX:c.width/d.width,scaleY:c.height/d.height};(u.x||u.y)&&o(u)}}n!==l.current&&(l.current=n)},[t,n,s,a]),m.useEffect(()=>{i&&o(null)},[i]),i}function EB(e){let{animateLayoutChanges:t=bB,attributes:n,disabled:s,data:a,getNewIndex:i=jB,id:o,strategy:l,resizeObserverConfig:c,transition:d=_B}=e;const{items:u,containerId:h,activeIndex:f,disabled:g,disableTransforms:j,sortedRects:v,overIndex:w,useDragOverlay:p,strategy:x}=m.useContext(PT),y=TB(s,g),b=u.indexOf(o),_=m.useMemo(()=>({sortable:{containerId:h,index:b,items:u},...a}),[h,a,b,u]),E=m.useMemo(()=>u.slice(u.indexOf(o)),[u,o]),{rect:C,node:N,isOver:k,setNodeRef:R}=sB({id:o,data:_,disabled:y.droppable,resizeObserverConfig:{updateMeasurementsFor:E,...c}}),{active:A,activatorEvent:$,activeNodeRect:M,attributes:V,setNodeRef:B,listeners:L,isDragging:U,over:D,setActivatorNodeRef:S,transform:T}=eB({id:o,data:_,attributes:{...NB,...n},disabled:y.draggable}),P=F6(R,B),F=!!A,I=F&&!j&&Id(f)&&Id(w),G=!p&&U,le=G&&I?T:null,W=I?le??(l??x)({rects:v,activeNodeRect:M,activeIndex:f,overIndex:w,index:b}):null,q=Id(f)&&Id(w)?i({id:o,items:u,activeIndex:f,overIndex:w}):b,K=A==null?void 0:A.id,O=m.useRef({activeId:K,items:u,newIndex:q,containerId:h}),ae=u!==O.current.items,oe=t({active:A,containerId:h,isDragging:U,isSorting:F,id:o,index:b,items:u,newIndex:O.current.newIndex,previousItems:O.current.items,previousContainerId:O.current.containerId,transition:d,wasDragging:O.current.activeId!=null}),de=CB({disabled:!oe,index:b,node:N,rect:C});return m.useEffect(()=>{F&&O.current.newIndex!==q&&(O.current.newIndex=q),h!==O.current.containerId&&(O.current.containerId=h),u!==O.current.items&&(O.current.items=u)},[F,q,h,u]),m.useEffect(()=>{if(K===O.current.activeId)return;if(K&&!O.current.activeId){O.current.activeId=K;return}const we=setTimeout(()=>{O.current.activeId=K},50);return()=>clearTimeout(we)},[K]),{active:A,activeIndex:f,attributes:V,data:_,rect:C,index:b,newIndex:q,items:u,isOver:k,isSorting:F,isDragging:U,listeners:L,node:N,overIndex:w,over:D,setNodeRef:P,setActivatorNodeRef:S,setDroppableNodeRef:R,setDraggableNodeRef:B,transform:de??W,transition:ge()};function ge(){if(de||ae&&O.current.newIndex===b)return SB;if(!(G&&!sf($)||!d)&&(F||oe))return Ta.Transition.toString({...d,property:RT})}}function TB(e,t){var n,s;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(s=e==null?void 0:e.droppable)!=null?s:t.droppable}}function nh(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const kB=[De.Down,De.Right,De.Up,De.Left],PB=(e,t)=>{let{context:{active:n,collisionRect:s,droppableRects:a,droppableContainers:i,over:o,scrollableAncestors:l}}=t;if(kB.includes(e.code)){if(e.preventDefault(),!n||!s)return;const c=[];i.getEnabled().forEach(h=>{if(!h||h!=null&&h.disabled)return;const f=a.get(h.id);if(f)switch(e.code){case De.Down:s.top<f.top&&c.push(h);break;case De.Up:s.top>f.top&&c.push(h);break;case De.Left:s.left>f.left&&c.push(h);break;case De.Right:s.left<f.left&&c.push(h);break}});const d=sU({collisionRect:s,droppableRects:a,droppableContainers:c});let u=uT(d,"id");if(u===(o==null?void 0:o.id)&&d.length>1&&(u=d[1].id),u!=null){const h=i.get(n.id),f=i.get(u),g=f?a.get(f.id):null,j=f==null?void 0:f.node.current;if(j&&g&&h&&f){const w=rf(j).some((E,C)=>l[C]!==E),p=AT(h,f),x=RB(h,f),y=w||!p?{x:0,y:0}:{x:x?s.width-g.width:0,y:x?s.height-g.height:0},b={x:g.left,y:g.top};return y.x&&y.y?b:bc(b,y)}}}};function AT(e,t){return!nh(e)||!nh(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function RB(e,t){return!nh(e)||!nh(t)||!AT(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const Y0=({team:e,matchupId:t,teamPosition:n,isWinner:s})=>{const a=`${t}-${n}`,{attributes:i,listeners:o,setNodeRef:l,transform:c,transition:d,isDragging:u}=EB({id:a,data:{type:"team",team:e,matchupId:t,teamPosition:n}}),h={transform:Ta.Transform.toString(c),transition:d,opacity:u?.5:1};return r.jsxs("div",{ref:l,style:h,...i,...o,className:`flex items-center gap-2 p-2 rounded cursor-grab hover:cursor-grabbing transition-colors
        ${u?"bg-blue-50 border border-blue-200":"hover:bg-gray-50"}
        ${s?"bg-green-50 border border-green-200":""}
      `,children:[r.jsx(_D,{className:"h-3 w-3 text-gray-400"}),(e==null?void 0:e.team_logo_url)&&r.jsx("img",{src:e.team_logo_url,alt:e.team_name,className:"w-5 h-5 rounded-full"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"text-sm font-medium truncate",children:(e==null?void 0:e.team_name)||`Team ${n==="team1"?"1":"2"}`}),r.jsx("div",{className:"text-xs text-gray-500 truncate",children:e==null?void 0:e.owner_name})]})]})},AB=({matchup:e,teams:t,conferences:n,onToggleOverride:s,onUpdateScores:a})=>{const i=t.find(p=>p.id===e.team1_id),o=t.find(p=>p.id===e.team2_id);n.find(p=>p.id===e.conference_id);const[l,c]=m.useState(!1),[d,u]=m.useState(e.team1_score),[h,f]=m.useState(e.team2_score);m.useEffect(()=>{u(e.team1_score),f(e.team2_score)},[e.team1_score,e.team2_score]);const g=e.winning_team_id===e.team1_id,j=e.winning_team_id===e.team2_id,v=()=>{a(e.id,d,h),c(!1)},w=()=>{u(e.team1_score),f(e.team2_score),c(!1)};return r.jsxs(be,{className:`transition-colors ${e.manual_override?"bg-orange-50 border-orange-200":""}`,children:[r.jsx(Y,{className:"w-24",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-sm font-medium",children:["#",e.id]}),r.jsxs("div",{className:"flex flex-col gap-1",children:[e.manual_override&&r.jsx(te,{variant:"outline",className:"text-xs text-orange-600 border-orange-300 px-1 py-0",children:"Override"}),e.is_playoff&&r.jsx(te,{variant:"default",className:"text-xs bg-purple-600 px-1 py-0",children:"Playoff"})]})]})}),r.jsx(Y,{className:"w-48",children:r.jsx(Y0,{team:i,matchupId:e.id,teamPosition:"team1",isWinner:g})}),r.jsx(Y,{className:"w-32 text-center",children:l?r.jsxs("div",{className:"flex items-center gap-1 justify-center",children:[r.jsx(Jt,{type:"number",value:d,onChange:p=>u(parseFloat(p.target.value)||0),className:"w-12 h-6 text-xs text-center px-1",step:"0.1"}),r.jsx("span",{className:"text-xs text-gray-400",children:"-"}),r.jsx(Jt,{type:"number",value:h,onChange:p=>f(parseFloat(p.target.value)||0),className:"w-12 h-6 text-xs text-center px-1",step:"0.1"}),r.jsx(se,{size:"sm",onClick:v,className:"h-6 w-6 p-0",children:r.jsx(kx,{className:"h-3 w-3"})}),r.jsx(se,{size:"sm",variant:"ghost",onClick:w,className:"h-6 w-6 p-0",children:r.jsx(Eh,{className:"h-3 w-3"})})]}):r.jsxs("div",{className:"flex items-center gap-1 justify-center cursor-pointer hover:bg-gray-100 px-2 py-1 rounded",onClick:()=>c(!0),children:[r.jsx("span",{className:`text-sm font-bold ${g?"text-green-600":""}`,children:e.team1_score}),r.jsx("span",{className:"text-xs text-gray-400",children:"-"}),r.jsx("span",{className:`text-sm font-bold ${j?"text-green-600":""}`,children:e.team2_score}),r.jsx(Mu,{className:"h-3 w-3 text-gray-400 ml-1"})]})}),r.jsx(Y,{className:"w-48",children:r.jsx(Y0,{team:o,matchupId:e.id,teamPosition:"team2",isWinner:j})}),r.jsx(Y,{className:"w-24",children:r.jsx("div",{className:"text-xs text-gray-500 text-center",children:e.matchup_status})}),r.jsx(Y,{className:"w-24 text-center",children:r.jsx(se,{variant:"ghost",size:"sm",onClick:()=>s(e.id),className:"h-6 px-2 text-xs",children:r.jsx(Mu,{className:"h-3 w-3"})})})]})},DB=()=>{const[e,t]=m.useState([]),[n,s]=m.useState([]),[a,i]=m.useState([]),[o,l]=m.useState([]),[c,d]=m.useState(""),[u,h]=m.useState(""),[f,g]=m.useState(!1),[j,v]=m.useState(!1),[w,p]=m.useState(!1),[x,y]=m.useState(null),{toast:b}=en(),_=Z6(M0(Cv),M0(Sv,{coordinateGetter:PB})),E=async(S,T,P,F)=>{var I,G;try{console.log(`Fetching Sleeper scores for teams ${S} and ${T} for week ${F}`),console.log(`Note: Matchup conference_id ${P} will be ignored - checking each team's actual conference`);const[le,X]=await Promise.all([ie.getTeamConferenceJunctions({filters:[{column:"team_id",operator:"eq",value:S}]}),ie.getTeamConferenceJunctions({filters:[{column:"team_id",operator:"eq",value:T}]})]),W=(I=le.data)==null?void 0:I[0],q=(G=X.data)==null?void 0:G[0];if(!W||!q)return console.warn(`Missing junction data - Team ${S}: ${W?"found":"missing"}, Team ${T}: ${q?"found":"missing"}`),{team1Score:0,team2Score:0};console.log(`Team ${S} junction:`,{conference_id:W.conference_id,roster_id:W.roster_id}),console.log(`Team ${T} junction:`,{conference_id:q.conference_id,roster_id:q.roster_id});const K=n.find(de=>de.id===W.conference_id),O=n.find(de=>de.id===q.conference_id);if(!K||!O)return console.warn(`Missing conference data - Team ${S} conference: ${K?"found":"missing"}, Team ${T} conference: ${O?"found":"missing"}`),{team1Score:0,team2Score:0};console.log(`Team ${S} in conference "${K.conference_name}" (league_id: ${K.league_id})`),console.log(`Team ${T} in conference "${O.conference_name}" (league_id: ${O.league_id})`);let ae=0,oe=0;try{console.log(`Fetching Team ${S} score from league ${K.league_id}, week ${F}`);const ge=(await nt.fetchMatchups(K.league_id,F)).find(we=>we.roster_id===W.roster_id);ae=(ge==null?void 0:ge.points)||0,console.log(`Team ${S} score from Sleeper: ${ae} (roster_id: ${W.roster_id})`)}catch(de){console.error(`Error fetching Team ${S} score from league ${K.league_id}:`,de)}try{console.log(`Fetching Team ${T} score from league ${O.league_id}, week ${F}`);const ge=(await nt.fetchMatchups(O.league_id,F)).find(we=>we.roster_id===q.roster_id);oe=(ge==null?void 0:ge.points)||0,console.log(`Team ${T} score from Sleeper: ${oe} (roster_id: ${q.roster_id})`)}catch(de){console.error(`Error fetching Team ${T} score from league ${O.league_id}:`,de)}return console.log(` Final scores - Team ${S}: ${ae}, Team ${T}: ${oe}`),console.log(" This properly handles interconference matchups by checking each team's actual conference"),{team1Score:ae,team2Score:oe}}catch(le){return console.error("Error fetching Sleeper scores:",le),{team1Score:0,team2Score:0}}};m.useEffect(()=>{N(),R(),C()},[]),m.useEffect(()=>{c&&k()},[c]),m.useEffect(()=>{c&&u&&n.length>0&&A()},[c,u,n]);const C=async()=>{try{const S=await nt.getCurrentNFLWeek();console.log(`Setting current week to: ${S}`),h(S.toString())}catch(S){console.error("Error loading current week:",S)}},N=async()=>{try{const S=await ie.getSeasons({limit:100,orderBy:{column:"season_year",ascending:!1}});if(S.error)throw new Error(S.error);const P=(S.data||[]).map(I=>({id:I.id,season_year:parseInt(I.season_year),season_name:I.season_name,is_current_season:I.is_current}));t(P);const F=P.find(I=>I.is_current_season);F&&d(F.id.toString())}catch(S){console.error("Error loading seasons:",S),b({title:"Error",description:"Failed to load seasons",variant:"destructive"})}},k=async()=>{try{const{data:S,error:T}=await ie.getConferences({filters:[{column:"season_id",operator:"eq",value:parseInt(c)}]});if(T)throw new Error(T);s(S||[])}catch(S){console.error("Error loading conferences:",S),b({title:"Error",description:"Failed to load conferences",variant:"destructive"})}},R=async()=>{try{const S=await ie.getTeams({limit:100,orderBy:{column:"team_name",ascending:!0}});if(S.error)throw new Error(S.error);const T=S.data||[],P=await ie.getTeamConferenceJunctions({limit:1e3,orderBy:{column:"team_id",ascending:!0}});if(P.error)throw new Error(P.error);const F=P.data||[],I=T.map(G=>{const le=F.find(X=>X.team_id===G.id);return{id:G.id,team_name:G.team_name,owner_name:G.owner_name,team_logo_url:G.team_logourl||"",conference_id:(le==null?void 0:le.conference_id)||0}});i(I)}catch(S){console.error("Error loading teams:",S),b({title:"Error",description:"Failed to load teams",variant:"destructive"})}},A=async()=>{g(!0),console.log(`Loading matchups for season ${c}, week ${u}`),console.log("Available conferences:",n.map(S=>({id:S.id,name:S.conference_name})));try{const S=n.map(P=>P.id);console.log("Conference IDs to query:",S);const T=[];for(const P of S){console.log(`Fetching matchups for conference ${P}`);const{data:F,error:I}=await ie.getMatchups({filters:[{column:"conference_id",operator:"eq",value:P},{column:"week",operator:"eq",value:parseInt(u)}],orderBy:{column:"id",ascending:!0}});if(I)throw console.error(`Error fetching matchups for conference ${P}:`,I),new Error(I);const G=F||[];console.log(`Found ${G.length} matchups for conference ${P}`);const le=n.find(W=>W.id===P),X=G.map(W=>(console.log(`Loaded matchup ${W.id}:`,{teams:`${W.team1_id} vs ${W.team2_id}`,scores:`${W.team1_score} - ${W.team2_score}`,status:W.matchup_status,manual_override:W.manual_override}),console.log(` LOAD DEBUG - Matchup ${W.id}: team1_score=${W.team1_score}, team2_score=${W.team2_score}`),console.log(" LOAD DEBUG - Raw database values:",{team1_score:W.team1_score,team2_score:W.team2_score,team1_score_type:typeof W.team1_score,team2_score_type:typeof W.team2_score}),{...W,conference_name:le==null?void 0:le.conference_name}));T.push(...X)}T.sort((P,F)=>P.conference_id!==F.conference_id?P.conference_id-F.conference_id:P.id-F.id),console.log(`Total matchups loaded: ${T.length}`),console.log("Matchups breakdown by status:",{pending:T.filter(P=>P.matchup_status==="pending").length,complete:T.filter(P=>P.matchup_status==="complete").length,manual_overrides:T.filter(P=>P.manual_override).length}),l(T)}catch(S){console.error("Error loading matchups:",S),b({title:"Error",description:`Failed to load matchups: ${S}`,variant:"destructive"})}finally{g(!1)}},$=S=>{y(S.active.id)},M=async S=>{const{active:T,over:P}=S;if(y(null),!P||T.id===P.id)return;const F=T.data.current,I=P.data.current;if((F==null?void 0:F.type)==="team"&&(I==null?void 0:I.type)==="team"){const G=F.matchupId,le=F.teamPosition,X=I.matchupId,W=I.teamPosition;if(G===X&&le===W)return;const q=[...o],K=q.find(de=>de.id===G),O=q.find(de=>de.id===X);if(!K||!O)return;const ae=le==="team1"?K.team1_id:K.team2_id,oe=W==="team1"?O.team1_id:O.team2_id;le==="team1"?K.team1_id=oe:K.team2_id=oe,W==="team1"?O.team1_id=ae:O.team2_id=ae;try{const de=await E(K.team1_id,K.team2_id,K.conference_id,K.week);console.log(` DRAG DEBUG - Active matchup ${K.id}: Setting scores ${de.team1Score} vs ${de.team2Score}`),K.team1_score=de.team1Score,K.team2_score=de.team2Score,de.team1Score>de.team2Score?K.winning_team_id=K.team1_id:de.team2Score>de.team1Score?K.winning_team_id=K.team2_id:K.winning_team_id=null,console.log(` DRAG WINNER - Active matchup ${K.id}: Winner=${K.winning_team_id}`);const ge=await E(O.team1_id,O.team2_id,O.conference_id,O.week);console.log(` DRAG DEBUG - Over matchup ${O.id}: Setting scores ${ge.team1Score} vs ${ge.team2Score}`),O.team1_score=ge.team1Score,O.team2_score=ge.team2Score,ge.team1Score>ge.team2Score?O.winning_team_id=O.team1_id:ge.team2Score>ge.team1Score?O.winning_team_id=O.team2_id:O.winning_team_id=null,console.log(` DRAG WINNER - Over matchup ${O.id}: Winner=${O.winning_team_id}`),console.log(`Fetched Sleeper scores - Active matchup: ${de.team1Score} vs ${de.team2Score}, Over matchup: ${ge.team1Score} vs ${ge.team2Score}`)}catch(de){console.warn("Failed to fetch Sleeper scores, using 0:",de),K.team1_score=0,K.team2_score=0,K.winning_team_id=null,O.team1_score=0,O.team2_score=0,O.winning_team_id=null}K.winning_team_id=null,K.manual_override=!0,K.matchup_status="pending",O.winning_team_id=null,O.manual_override=!0,O.matchup_status="pending",console.log(`Teams swapped between matchups ${G} and ${X}`),console.log(`Active matchup now has teams ${K.team1_id} vs ${K.team2_id}`),console.log(`Over matchup now has teams ${O.team1_id} vs ${O.team2_id}`),l(q),p(!0),b({title:"Teams Swapped",description:"Team matchups have been updated with current scores. Remember to save your changes.",duration:3e3})}},V=S=>{var T;console.log(`Toggling manual override for matchup ${S}`),l(P=>P.map(F=>{if(F.id===S){const I=!F.manual_override;return console.log(`Matchup ${S} manual override: ${F.manual_override} -> ${I}`),{...F,manual_override:I,status:I?F.matchup_status:"pending"}}return F})),p(!0),b({title:"Override Toggled",description:`Manual override ${(T=o.find(P=>P.id===S))!=null&&T.manual_override?"removed":"enabled"} for matchup ${S}`,duration:2e3})},B=(S,T,P)=>{console.log(`Updating scores for matchup ${S}: Team 1 = ${T}, Team 2 = ${P}`),l(F=>F.map(I=>{if(I.id===S){let G=null;return T>P?G=I.team1_id:P>T&&(G=I.team2_id),console.log(` WINNER CALC - Matchup ${S}: Team1(${I.team1_id})=${T}, Team2(${I.team2_id})=${P}, Winner=${G}`),{...I,team1_score:T,team2_score:P,winning_team_id:G,manual_override:!0,matchup_status:"complete"}}return I})),p(!0),b({title:"Scores Updated",description:`Matchup ${S} scores updated. Remember to save changes.`,duration:2e3})},L=async()=>{var F;v(!0),console.log("Starting save operation for",o.length,"matchups");let S=0,T=0;const P=[];try{for(const I of o){if(console.log(`Updating matchup ${I.id}:`,{conference_id:I.conference_id,week:I.week,team1_id:I.team1_id,team2_id:I.team2_id,team1_score:I.team1_score,team2_score:I.team2_score,winning_team_id:I.winning_team_id,manual_override:I.manual_override,status:I.manual_override?"complete":I.matchup_status}),console.log(` SCORE DEBUG - Matchup ${I.id}: team1_score=${I.team1_score}, team2_score=${I.team2_score}`),!I.id||I.conference_id<=0||I.week<=0){console.error(`Invalid matchup data for ID ${I.id}:`,{id:I.id,conference_id:I.conference_id,week:I.week}),T++,P.push(I.id);continue}let G=null;I.team1_score>I.team2_score?G=I.team1_id:I.team2_score>I.team1_score&&(G=I.team2_id),console.log(` SAVE WINNER - Matchup ${I.id}: Team1(${I.team1_id})=${I.team1_score}, Team2(${I.team2_id})=${I.team2_score}, Calculated Winner=${G}`);const le={conference_id:I.conference_id,week:((F=I.week)==null?void 0:F.toString())||"1",team1_id:I.team1_id||0,team2_id:I.team2_id||0,is_playoff:I.is_playoff||!1,team1_score:I.team1_score||0,team2_score:I.team2_score||0,winning_team_id:G,manual_override:I.manual_override||!1,matchup_status:I.manual_override?"complete":I.matchup_status||"pending",notes:I.notes||""};console.log(`Sending update for matchup ${I.id} with data:`,le),console.log(` UPDATE DEBUG - Raw scores being sent: team1_score=${le.team1_score}, team2_score=${le.team2_score}`);const X=await ie.updateMatchup(I.id,le);if(X.error){console.error(` Failed to update matchup ${I.id}:`,X.error),console.error(" Update data was:",le),console.error(" Matchup object:",I),T++,P.push(I.id);continue}else console.log(` Successfully updated matchup ${I.id}`),console.log(" UPDATE RESULT:",X.data);I.manual_override&&console.log(`Matchup ${I.id} marked as manual override - skipping override record creation due to schema issues`),console.log(`Successfully updated matchup ${I.id}`),S++}console.log(`Save operation completed: ${S} successes, ${T} failures`),T>0?(console.error("Failed matchup IDs:",P),b({title:"Partial Success",description:`${S} matchups updated successfully, ${T} failed. Check console for details.`,variant:"destructive"})):(p(!1),b({title:"Success",description:`All ${S} matchups updated successfully with overrides`})),console.log("Reloading matchups to verify changes persisted..."),await A()}catch(I){console.error("Critical error during save operation:",I),b({title:"Error",description:`Failed to save matchup changes: ${I}`,variant:"destructive"})}finally{v(!1),console.log("Save operation completed, saving state reset")}},U=()=>{A(),p(!1)},D=Array.from({length:18},(S,T)=>T+1);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs(H,{children:[r.jsxs(Z,{children:[r.jsxs(ee,{className:"flex items-center gap-2",children:[r.jsx(Zn,{className:"h-5 w-5"}),"Matchups Management"]}),r.jsx(he,{children:"Compact view for managing weekly matchups, scores, and overrides across all conferences. Drag and drop teams between matchups, edit scores inline, and toggle overrides quickly."})]}),r.jsxs(Q,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Season"}),r.jsxs(Nt,{value:c,onValueChange:d,children:[r.jsx(gt,{children:r.jsx(Ct,{placeholder:"Select season..."})}),r.jsx(xt,{children:e.map(S=>r.jsxs(Pe,{value:S.id.toString(),children:[S.season_name,S.is_current_season&&r.jsx(te,{variant:"secondary",className:"ml-2",children:"Current"})]},S.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Week"}),r.jsxs(Nt,{value:u,onValueChange:h,disabled:!c,children:[r.jsx(gt,{children:r.jsx(Ct,{placeholder:"Select week..."})}),r.jsx(xt,{children:D.map(S=>r.jsxs(Pe,{value:S.toString(),children:["Week ",S]},S))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Status"}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),r.jsxs("span",{children:[o.length," Total"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),r.jsxs("span",{children:[o.filter(S=>S.manual_override).length," Override"]})]})]})]}),r.jsx("div",{className:"space-y-2 flex items-end",children:w&&r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(se,{onClick:L,disabled:j,className:"flex items-center gap-2",children:[j?r.jsx(dn,{className:"h-4 w-4 animate-spin"}):r.jsx(lN,{className:"h-4 w-4"}),"Save"]}),r.jsxs(se,{variant:"outline",onClick:U,className:"flex items-center gap-2",children:[r.jsx(oN,{className:"h-4 w-4"}),"Reset"]})]})})]}),w&&r.jsxs(Oe,{className:"mb-4",children:[r.jsx(Ml,{className:"h-4 w-4"}),r.jsx(Fe,{children:"You have unsaved changes. Remember to save your modifications."})]})]})]}),f?r.jsx(H,{children:r.jsx(Q,{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(dn,{className:"h-6 w-6 animate-spin"}),r.jsx("span",{children:"Loading matchups..."})]})})}):o.length===0&&u?r.jsx(H,{children:r.jsx(Q,{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Zt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Matchups Found"}),r.jsx("p",{className:"text-gray-600",children:"No matchups found for the selected week. They may need to be created first."})]})})}):o.length>0?r.jsx(H,{children:r.jsx(Q,{className:"p-0",children:r.jsxs(JU,{sensors:_,collisionDetection:nU,onDragStart:$,onDragEnd:M,children:[r.jsx(wB,{items:o.flatMap(S=>[`${S.id}-team1`,`${S.id}-team2`]),strategy:Tv,children:r.jsxs(Bt,{children:[r.jsx(zt,{children:r.jsxs(be,{children:[r.jsx(ne,{className:"w-24",children:"Match"}),r.jsx(ne,{className:"w-48",children:"Team 1"}),r.jsx(ne,{className:"w-32 text-center",children:"Score"}),r.jsx(ne,{className:"w-48",children:"Team 2"}),r.jsx(ne,{className:"w-24 text-center",children:"Status"}),r.jsx(ne,{className:"w-24 text-center",children:"Actions"})]})}),r.jsx(Vt,{children:n.map(S=>{const T=o.filter(P=>P.conference_id===S.id);return T.length===0?null:r.jsxs($e.Fragment,{children:[r.jsx(be,{children:r.jsx(Y,{colSpan:6,className:"bg-gray-50 font-medium text-sm py-2",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Zt,{className:"h-4 w-4 text-blue-600"}),S.conference_name,r.jsxs(te,{variant:"secondary",className:"text-xs",children:[T.length," matchups"]})]})})}),T.map(P=>r.jsx(AB,{matchup:P,teams:a,conferences:n,onToggleOverride:V,onUpdateScores:B},P.id))]},S.id)})})]})}),r.jsx(gB,{children:x?r.jsx("div",{className:"bg-white p-2 rounded-lg border-2 border-blue-400 shadow-lg",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-4 h-4 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx(Zt,{className:"h-2 w-2 text-blue-600"})}),r.jsx("span",{className:"text-xs font-medium",children:"Moving team..."})]})}):null})]})})}):r.jsx(H,{children:r.jsx(Q,{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Zn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select Filters"}),r.jsx("p",{className:"text-gray-600",children:"Please select a season and week to manage matchups across all conferences."})]})})})]})},$B=()=>{const[e,t]=m.useState([]),[n,s]=m.useState([]),[a,i]=m.useState(null),[o,l]=m.useState(!0),[c,d]=m.useState(!1),[u,h]=m.useState(!1),[f,g]=m.useState(""),{toast:j}=en(),v=1;m.useEffect(()=>{console.log("TeamRecordsDashboard: Component mounted, loading dashboard data..."),w()},[]);const w=async()=>{try{l(!0),h(!1),g(""),console.log("TeamRecordsDashboard: Starting data load for season:",v);let E=[],C=[],N=null;try{console.log("TeamRecordsDashboard: Loading team records..."),E=(await ie.getTeamRecords({filters:[{column:"season_id",operator:"eq",value:v}],limit:100})).data,console.log("TeamRecordsDashboard: Team records loaded:",E.length,"records")}catch(k){console.error("Error loading team records:",k),j({title:"Warning",description:`Failed to load team records: ${k instanceof Error?k.message:"Unknown error"}`,variant:"destructive"})}try{console.log("TeamRecordsDashboard: Loading standings data..."),C=await wc.getStandingsData(v),console.log("TeamRecordsDashboard: Standings data loaded:",C.length,"entries")}catch(k){console.error("Error loading standings data:",k),j({title:"Warning",description:`Failed to load standings data: ${k instanceof Error?k.message:"Unknown error"}`,variant:"destructive"})}try{console.log("TeamRecordsDashboard: Loading records summary..."),N={totalTeams:C.length,totalGames:C.reduce((k,R)=>k+R.wins+R.losses+R.ties,0)/2,completedGames:C.reduce((k,R)=>k+R.wins+R.losses+R.ties,0)/2,playoffTeams:C.filter(k=>k.in_playoffs).length},console.log("TeamRecordsDashboard: Records summary loaded:",N)}catch(k){console.error("Error loading records summary:",k),j({title:"Warning",description:`Failed to load records summary: ${k instanceof Error?k.message:"Unknown error"}`,variant:"destructive"})}console.log("TeamRecordsDashboard: Setting state with loaded data"),t(E),s(C),i(N)}catch(E){console.error("Error loading dashboard data:",E),h(!0),g(E instanceof Error?E.message:"Unknown error occurred"),j({title:"Error",description:E instanceof Error?E.message:"Failed to load dashboard data",variant:"destructive"})}finally{l(!1),console.log("TeamRecordsDashboard: Data loading complete")}},p=async()=>{try{d(!0),console.log("Calculate team records triggered for season:",v),await w(),await w(),j({title:"Success",description:"Team records recalculated successfully"})}catch(E){console.error("Error recalculating records:",E),j({title:"Error",description:"Failed to recalculate team records",variant:"destructive"})}finally{d(!1)}},x=async()=>{try{d(!0),console.log("Mark conference champions triggered for season:",v),await w(),await w(),j({title:"Success",description:"Conference champions marked successfully"})}catch(E){console.error("Error marking champions:",E),j({title:"Error",description:"Failed to mark conference champions",variant:"destructive"})}finally{d(!1)}},y=async()=>{if(confirm("Are you sure you want to reset all team records? This action cannot be undone."))try{d(!0),console.log("Reset team records triggered for season:",v),await w(),await w(),j({title:"Success",description:"Team records reset successfully"})}catch(E){console.error("Error resetting records:",E),j({title:"Error",description:"Failed to reset team records",variant:"destructive"})}finally{d(!1)}},b=E=>E>=.7?"text-green-600":E>=.5?"text-yellow-600":"text-red-600",_=E=>new Date(E).toLocaleString();return o?(console.log("TeamRecordsDashboard: Rendering loading state"),r.jsxs(H,{children:[r.jsx(Z,{children:r.jsxs(ee,{className:"flex items-center gap-2",children:[r.jsx(Us,{className:"w-5 h-5"}),"Team Records Dashboard"]})}),r.jsx(Q,{children:r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsx("div",{className:"animate-spin h-8 w-8 border-b-2 border-blue-600 rounded-full"})})})]})):u?(console.log("TeamRecordsDashboard: Rendering error state with message:",f),r.jsxs(H,{children:[r.jsx(Z,{children:r.jsxs(ee,{className:"flex items-center gap-2",children:[r.jsx(Us,{className:"w-5 h-5"}),"Team Records Dashboard"]})}),r.jsx(Q,{children:r.jsxs("div",{className:"flex flex-col items-center gap-4 py-8",children:[r.jsx(We,{className:"w-16 h-16 text-red-500"}),r.jsxs("div",{className:"text-center",children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Error Loading Dashboard"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:f||"An unexpected error occurred while loading the dashboard data."}),(f==null?void 0:f.includes("Season data"))&&r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:r.jsxs("p",{className:"text-sm text-yellow-800",children:[r.jsx("strong",{children:"Development Note:"})," This application now uses Supabase for data storage. Season data needs to be loaded through the AppContext before this dashboard can function properly."]})}),r.jsx(se,{onClick:w,disabled:o,children:"Try Again"})]})]})})]})):(console.log("TeamRecordsDashboard: Rendering main dashboard with data:",{teamRecords:e.length,standingsData:n.length,recordsSummary:a}),r.jsxs(H,{children:[r.jsx(Z,{children:r.jsxs(ee,{className:"flex items-center gap-2",children:[r.jsx(Us,{className:"w-5 h-5"}),"Team Records Dashboard"]})}),r.jsx(Q,{children:r.jsxs(yr,{defaultValue:"overview",className:"w-full",children:[r.jsxs(Ys,{className:"grid w-full grid-cols-3",children:[r.jsx(Ne,{value:"overview",children:"Overview"}),r.jsx(Ne,{value:"standings",children:"Standings"}),r.jsx(Ne,{value:"management",children:"Management"})]}),r.jsxs(Ce,{value:"overview",className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(H,{children:r.jsx(Q,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Teams"}),r.jsx("p",{className:"text-2xl font-bold",children:(a==null?void 0:a.totalTeams)||0})]}),r.jsx(Bc,{className:"w-8 h-8 text-blue-500"})]})})}),r.jsx(H,{children:r.jsx(Q,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Matchups"}),r.jsx("p",{className:"text-2xl font-bold",children:(a==null?void 0:a.totalMatchups)||0})]}),r.jsx(Us,{className:"w-8 h-8 text-purple-500"})]})})}),r.jsx(H,{children:r.jsx(Q,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Completed"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:(a==null?void 0:a.completedMatchups)||0})]}),r.jsx(Pn,{className:"w-8 h-8 text-green-500"})]})})}),r.jsx(H,{children:r.jsx(Q,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Pending"}),r.jsx("p",{className:"text-2xl font-bold text-orange-600",children:(a==null?void 0:a.pendingMatchups)||0})]}),r.jsx(Qn,{className:"w-8 h-8 text-orange-500"})]})})})]}),r.jsxs(Oe,{children:[r.jsx(Pn,{className:"h-4 w-4"}),r.jsxs(Fe,{children:["Auto-sync is enabled. Team records are automatically updated when matchups are completed.",a&&a.recordsLastUpdated&&r.jsxs("span",{className:"block mt-1 text-sm text-muted-foreground",children:["Last updated: ",_(a.recordsLastUpdated)]}),!a&&r.jsx("span",{className:"block mt-1 text-sm text-muted-foreground",children:"No records data available"})]})]})]}),r.jsx(Ce,{value:"standings",className:"space-y-4",children:r.jsx("div",{className:"rounded-md border",children:r.jsxs(Bt,{children:[r.jsx(zt,{children:r.jsxs(be,{children:[r.jsx(ne,{children:"Rank"}),r.jsx(ne,{children:"Team"}),r.jsx(ne,{children:"Conference"}),r.jsx(ne,{children:"Record"}),r.jsx(ne,{children:"Win %"}),r.jsx(ne,{children:"Points For"}),r.jsx(ne,{children:"Points Against"}),r.jsx(ne,{children:"Status"})]})}),r.jsx(Vt,{children:n.length>0?n.map(E=>r.jsxs(be,{children:[r.jsx(Y,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"font-medium",children:["#",E.overall_rank]}),E.is_conference_champion&&r.jsx($t,{className:"w-4 h-4 text-yellow-500"})]})}),r.jsx(Y,{children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:E.team_name}),r.jsx("div",{className:"text-sm text-muted-foreground",children:E.owner_name})]})}),r.jsx(Y,{children:r.jsx(te,{variant:"outline",children:E.conference_name})}),r.jsx(Y,{children:r.jsxs("span",{className:"font-mono",children:[E.wins,"-",E.losses,E.ties>0&&`-${E.ties}`]})}),r.jsx(Y,{children:r.jsxs("span",{className:`font-semibold ${b(E.win_percentage)}`,children:[(E.win_percentage*100).toFixed(1),"%"]})}),r.jsx(Y,{children:E.points_for.toFixed(1)}),r.jsx(Y,{children:E.points_against.toFixed(1)}),r.jsx(Y,{children:r.jsxs("div",{className:"flex flex-col gap-1",children:[E.playoff_eligible&&r.jsx(te,{variant:"secondary",className:"text-xs",children:"Playoff Eligible"}),E.is_conference_champion&&r.jsx(te,{variant:"default",className:"text-xs bg-yellow-500",children:"Conference Champion"})]})})]},E.team_id)):r.jsx(be,{children:r.jsx(Y,{colSpan:8,className:"text-center py-8",children:r.jsxs("div",{className:"flex flex-col items-center gap-2",children:[r.jsx(We,{className:"w-8 h-8 text-muted-foreground"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"No standings data available"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Team records may need to be calculated"})]})})})})]})})}),r.jsxs(Ce,{value:"management",className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs(se,{onClick:p,disabled:c,className:"flex items-center gap-2 h-20 text-left flex-col justify-center",children:[r.jsx(sD,{className:"w-6 h-6"}),r.jsx("span",{children:"Recalculate Records"})]}),r.jsxs(se,{onClick:x,disabled:c,variant:"outline",className:"flex items-center gap-2 h-20 text-left flex-col justify-center",children:[r.jsx($t,{className:"w-6 h-6"}),r.jsx("span",{children:"Mark Champions"})]}),r.jsxs(se,{onClick:y,disabled:c,variant:"destructive",className:"flex items-center gap-2 h-20 text-left flex-col justify-center",children:[r.jsx(oN,{className:"w-6 h-6"}),r.jsx("span",{children:"Reset Records"})]})]}),r.jsxs(Oe,{children:[r.jsx(We,{className:"h-4 w-4"}),r.jsxs(Fe,{children:[r.jsx("strong",{children:"Management Actions:"}),r.jsxs("ul",{className:"mt-2 list-disc list-inside text-sm space-y-1",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Recalculate Records:"})," Manually recalculate all team records from completed matchups"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Mark Champions:"})," Mark the #1 ranked team in each conference as champion"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Reset Records:"})," Clear all team records (use with caution)"]})]})]})]}),r.jsxs(Oe,{children:[r.jsx(Pn,{className:"h-4 w-4"}),r.jsxs(Fe,{children:[r.jsx("strong",{children:"Automatic Sync Features:"}),r.jsxs("ul",{className:"mt-2 list-disc list-inside text-sm space-y-1",children:[r.jsx("li",{children:"Records are automatically updated when matchups are completed"}),r.jsx("li",{children:"Rankings are recalculated after each matchup completion"}),r.jsx("li",{children:"Win percentages and playoff eligibility are updated automatically"})]})]})]})]})]})})]}))},IB=()=>{console.log("MatchupCompletionManager: Component rendered");const[e,t]=m.useState([]),[n,s]=m.useState([]),[a,i]=m.useState([]),[o,l]=m.useState(""),[c,d]=m.useState(""),[u,h]=m.useState(null),[f,g]=m.useState(""),[j,v]=m.useState(""),[w,p]=m.useState(!0),[x,y]=m.useState(!1),[b,_]=m.useState(!1),{toast:E}=en();m.useEffect(()=>{N(),C()},[]),m.useEffect(()=>{(o||c)&&k()},[o,c]);const C=async()=>{try{const B=await nt.getCurrentNFLWeek();console.log(`Setting current week to: ${B}`),d(B.toString())}catch(B){console.error("Error loading current week:",B)}},N=async()=>{try{p(!0);const B=await ie.getConferences({limit:100,orderBy:{column:"id",ascending:!0}});B.data&&i(B.data);const L=await ie.getTeams({limit:100,orderBy:{column:"team_name",ascending:!0}});L.data&&s(L.data)}catch(B){console.error("Error loading initial data:",B),E({title:"Error",description:"Failed to load initial data",variant:"destructive"})}finally{p(!1)}},k=async()=>{try{const B=[];o&&B.push({column:"conference_id",operator:"eq",value:parseInt(o)}),c&&B.push({column:"week",operator:"eq",value:parseInt(c)});const L=await ie.getMatchups({filters:B,limit:100,orderBy:{column:"week",ascending:!0}});L.data&&t(L.data)}catch(B){console.error("Error loading matchups:",B),E({title:"Error",description:"Failed to load matchups",variant:"destructive"})}},R=B=>{const L=n.find(U=>U.id===B);return(L==null?void 0:L.team_name)||"Unknown Team"},A=B=>{const L=a.find(U=>U.id===B);return(L==null?void 0:L.conference_name)||"Unknown Conference"},$=B=>{switch(B){case"complete":return r.jsxs(te,{variant:"default",className:"bg-green-500",children:[r.jsx(Pn,{className:"w-3 h-3 mr-1"}),"Complete"]});case"in_progress":return r.jsxs(te,{variant:"secondary",children:[r.jsx(Qn,{className:"w-3 h-3 mr-1"}),"In Progress"]});case"pending":return r.jsxs(te,{variant:"outline",children:[r.jsx(Qn,{className:"w-3 h-3 mr-1"}),"Pending"]});default:return r.jsx(te,{variant:"outline",children:B})}},M=async()=>{if(!u||!f||!j){E({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}try{y(!0),console.log("Complete matchup triggered:",{matchupId:u.id,team1Score:parseFloat(f),team2Score:parseFloat(j)});const B=parseFloat(f)>parseFloat(j)?u.team1_id:u.team2_id;await ie.updateMatchup(u.id,{team1_score:parseFloat(f),team2_score:parseFloat(j),winning_team_id:B,matchup_status:"complete",manual_override:!0}),await k(),_(!1),h(null),g(""),v(""),E({title:"Success",description:"Matchup completed successfully and records updated"})}catch(B){console.error("Error completing matchup:",B),E({title:"Error",description:"Failed to complete matchup",variant:"destructive"})}finally{y(!1)}},V=B=>{var L,U;h(B),g(((L=B.team1_score)==null?void 0:L.toString())||""),v(((U=B.team2_score)==null?void 0:U.toString())||""),_(!0)};return w?r.jsxs(H,{children:[r.jsx(Z,{children:r.jsx(ee,{children:"Matchup Completion Manager"})}),r.jsx(Q,{children:r.jsx("div",{className:"text-center py-8",children:"Loading..."})})]}):r.jsxs(H,{children:[r.jsx(Z,{children:r.jsxs(ee,{className:"flex items-center gap-2",children:[r.jsx(Pn,{className:"w-5 h-5"}),"Matchup Completion Manager"]})}),r.jsxs(Q,{children:[r.jsxs(yr,{defaultValue:"matchups",className:"w-full",children:[r.jsxs(Ys,{className:"grid w-full grid-cols-2",children:[r.jsx(Ne,{value:"matchups",children:"Matchups"}),r.jsx(Ne,{value:"records",children:"Records Management"})]}),r.jsxs(Ce,{value:"matchups",className:"space-y-4",children:[r.jsxs("div",{className:"flex gap-4 mb-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx(ft,{htmlFor:"conference-filter",children:"Conference"}),r.jsxs(Nt,{value:o,onValueChange:l,children:[r.jsx(gt,{children:r.jsx(Ct,{placeholder:"All Conferences"})}),r.jsxs(xt,{children:[r.jsx(Pe,{value:"",children:"All Conferences"}),a.map(B=>r.jsx(Pe,{value:B.id.toString(),children:B.conference_name},B.id))]})]})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx(ft,{htmlFor:"week-filter",children:"Week"}),r.jsxs(Nt,{value:c,onValueChange:d,children:[r.jsx(gt,{children:r.jsx(Ct,{placeholder:"All Weeks"})}),r.jsxs(xt,{children:[r.jsx(Pe,{value:"",children:"All Weeks"}),[...Array(17)].map((B,L)=>r.jsxs(Pe,{value:(L+1).toString(),children:["Week ",L+1]},L+1))]})]})]})]}),r.jsx("div",{className:"rounded-md border",children:r.jsxs(Bt,{children:[r.jsx(zt,{children:r.jsxs(be,{children:[r.jsx(ne,{children:"Week"}),r.jsx(ne,{children:"Conference"}),r.jsx(ne,{children:"Matchup"}),r.jsx(ne,{children:"Score"}),r.jsx(ne,{children:"Status"}),r.jsx(ne,{children:"Actions"})]})}),r.jsx(Vt,{children:e.map(B=>r.jsxs(be,{children:[r.jsx(Y,{children:B.week}),r.jsx(Y,{children:A(B.conference_id)}),r.jsx(Y,{children:r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{children:R(B.team1_id)}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"vs"}),r.jsx("div",{children:R(B.team2_id)})]})}),r.jsx(Y,{children:B.matchup_status==="complete"?r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:B.winning_team_id===B.team1_id?"font-semibold":"",children:B.team1_score}),r.jsx("div",{className:B.winning_team_id===B.team2_id?"font-semibold":"",children:B.team2_score})]}):r.jsx("div",{className:"text-muted-foreground",children:"-"})}),r.jsx(Y,{children:r.jsxs("div",{className:"space-y-1",children:[$(B.matchup_status),B.manual_override&&r.jsx(te,{variant:"outline",className:"text-xs",children:"Manual"})]})}),r.jsx(Y,{children:r.jsxs(se,{variant:"outline",size:"sm",onClick:()=>V(B),children:[r.jsx(Mu,{className:"w-4 h-4 mr-1"}),B.matchup_status==="complete"?"Edit":"Complete"]})})]},B.id))})]})}),e.length===0&&r.jsxs(Oe,{children:[r.jsx(We,{className:"h-4 w-4"}),r.jsx(Fe,{children:"No matchups found for the selected filters."})]})]}),r.jsx(Ce,{value:"records",className:"space-y-4",children:r.jsx($B,{})})]}),r.jsx(rg,{open:b,onOpenChange:_,children:r.jsxs(Gu,{children:[r.jsx(Qu,{children:r.jsx(Yu,{children:"Complete Matchup"})}),u&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-sm text-muted-foreground mb-2",children:["Week ",u.week," - ",A(u.conference_id)]}),r.jsxs("div",{className:"text-lg font-semibold",children:[R(u.team1_id)," vs ",R(u.team2_id)]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs(ft,{htmlFor:"team1-score",children:[R(u.team1_id)," Score"]}),r.jsx(Jt,{id:"team1-score",type:"number",step:"0.1",value:f,onChange:B=>g(B.target.value),placeholder:"0.0"})]}),r.jsxs("div",{children:[r.jsxs(ft,{htmlFor:"team2-score",children:[R(u.team2_id)," Score"]}),r.jsx(Jt,{id:"team2-score",type:"number",step:"0.1",value:j,onChange:B=>v(B.target.value),placeholder:"0.0"})]})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(se,{variant:"outline",onClick:()=>_(!1),children:"Cancel"}),r.jsx(se,{onClick:M,disabled:x,children:x?"Completing...":"Complete Matchup"})]})]})]})})]})]})};var lf="Switch",[MB,e9]=as(lf),[LB,OB]=MB(lf),DT=m.forwardRef((e,t)=>{const{__scopeSwitch:n,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...h}=e,[f,g]=m.useState(null),j=Ke(t,y=>g(y)),v=m.useRef(!1),w=f?u||!!f.closest("form"):!0,[p,x]=Mr({prop:a,defaultProp:i??!1,onChange:d,caller:lf});return r.jsxs(LB,{scope:n,checked:p,disabled:l,children:[r.jsx(ve.button,{type:"button",role:"switch","aria-checked":p,"aria-required":o,"data-state":LT(p),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:j,onClick:xe(e.onClick,y=>{x(b=>!b),w&&(v.current=y.isPropagationStopped(),v.current||y.stopPropagation())})}),w&&r.jsx(MT,{control:f,bubbles:!v.current,name:s,value:c,checked:p,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});DT.displayName=lf;var $T="SwitchThumb",IT=m.forwardRef((e,t)=>{const{__scopeSwitch:n,...s}=e,a=OB($T,n);return r.jsx(ve.span,{"data-state":LT(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})});IT.displayName=$T;var FB="SwitchBubbleInput",MT=m.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:s=!0,...a},i)=>{const o=m.useRef(null),l=Ke(o,i),c=ov(n),d=Bx(t);return m.useEffect(()=>{const u=o.current;if(!u)return;const h=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==n&&g){const j=new Event("click",{bubbles:s});g.call(u,n),u.dispatchEvent(j)}},[c,n,s]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:l,style:{...a.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});MT.displayName=FB;function LT(e){return e?"checked":"unchecked"}var OT=DT,UB=IT;const FT=m.forwardRef(({className:e,...t},n)=>r.jsx(OT,{className:me("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:r.jsx(UB,{className:me("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));FT.displayName=OT.displayName;class BB{constructor(){On(this,"schedule",{enabled:!1,dayOfWeek:2,hour:9,minute:0,timezone:"America/New_York"});On(this,"syncStatus",{id:"",status:"idle",progress:0,currentStep:"Waiting for next sync",processedMatchups:0,totalMatchups:0,errors:[]});On(this,"syncHistory",[]);On(this,"scheduleTimer",null);On(this,"statusListeners",[]);On(this,"historyListeners",[]);this.loadSettings(),this.scheduleNextSync()}getSchedule(){return{...this.schedule}}updateSchedule(t){this.schedule={...this.schedule,...t},this.saveSettings(),this.scheduleNextSync(),this.notifyStatusListeners()}getStatus(){return{...this.syncStatus}}getHistory(){return[...this.syncHistory]}async runManualSync(){if(this.syncStatus.status==="running")throw new Error("Sync is already running");await this.executeSync(!0)}onStatusChange(t){return this.statusListeners.push(t),()=>{this.statusListeners=this.statusListeners.filter(n=>n!==t)}}onHistoryChange(t){return this.historyListeners.push(t),()=>{this.historyListeners=this.historyListeners.filter(n=>n!==t)}}loadSettings(){try{const t=localStorage.getItem("weeklyAutoSyncSchedule");t&&(this.schedule={...this.schedule,...JSON.parse(t)});const n=localStorage.getItem("weeklyAutoSyncHistory");n&&(this.syncHistory=JSON.parse(n).map(s=>({...s,timestamp:new Date(s.timestamp)})))}catch(t){console.error("Failed to load sync settings:",t)}}saveSettings(){try{localStorage.setItem("weeklyAutoSyncSchedule",JSON.stringify(this.schedule)),localStorage.setItem("weeklyAutoSyncHistory",JSON.stringify(this.syncHistory))}catch(t){console.error("Failed to save sync settings:",t)}}scheduleNextSync(){if(this.scheduleTimer&&(clearTimeout(this.scheduleTimer),this.scheduleTimer=null),!this.schedule.enabled){this.updateSyncStatus({status:"idle",currentStep:"Automatic sync disabled",nextRunTime:void 0});return}const t=this.calculateNextRunTime(),n=new Date,s=t.getTime()-n.getTime();s>0&&(this.scheduleTimer=setTimeout(()=>{this.executeSync(!1)},s),this.updateSyncStatus({status:"scheduled",currentStep:"Scheduled for next run",nextRunTime:t}))}calculateNextRunTime(){const t=new Date,n=new Date(t);n.setHours(this.schedule.hour,this.schedule.minute,0,0);const s=t.getDay();let i=this.schedule.dayOfWeek-s;return(i<0||i===0&&t.getTime()>=n.getTime())&&(i+=7),n.setDate(n.getDate()+i),n}async executeSync(t){var l,c;const n=`sync_${Date.now()}`,s=new Date;this.updateSyncStatus({id:n,status:"running",startTime:s,progress:0,currentStep:"Initializing sync...",processedMatchups:0,totalMatchups:0,errors:[]});const a=[];let i=0,o=0;try{this.updateSyncStatus({currentStep:"Fetching active conferences...",progress:10});const{data:d}=await window.ezsite.apis.tablePage(12820,{PageNo:1,PageSize:100,Filters:[{name:"is_active",op:"Equal",value:!0}]});if(!((l=d==null?void 0:d.List)!=null&&l.length))throw new Error("No active conferences found");const{data:u}=await window.ezsite.apis.tablePage(12818,{PageNo:1,PageSize:1,Filters:[{name:"is_current_season",op:"Equal",value:!0}]});if(!((c=u==null?void 0:u.List)!=null&&c.length))throw new Error("No current season found");const h=u.List[0];this.updateSyncStatus({currentStep:"Fetching pending matchups...",progress:20});const{data:f}=await window.ezsite.apis.tablePage(13329,{PageNo:1,PageSize:1e3,Filters:[{name:"status",op:"Equal",value:"pending"},{name:"week",op:"Equal",value:h.current_week}]}),g=(f==null?void 0:f.List)||[];this.updateSyncStatus({totalMatchups:g.length,progress:30});for(const p of d.List){this.updateSyncStatus({currentStep:`Processing ${p.conference_name}...`,progress:30+i/g.length*40});try{const x=g.filter(y=>y.conference_id===p.id);for(const y of x)await this.processMatchup(y,p,h),i++,this.updateSyncStatus({processedMatchups:i,progress:30+i/g.length*40});await this.updateTeamRecords(p.id,h.id),o++}catch(x){const y=`Error processing ${p.conference_name}: ${x}`;a.push(y),console.error(y)}}this.updateSyncStatus({currentStep:"Finalizing sync...",progress:90});const j=new Date,v=j.getTime()-s.getTime(),w={id:n,timestamp:s,status:a.length>0?i>0?"partial":"failed":"success",duration:v,matchupsProcessed:i,recordsUpdated:o,errors:[...a],details:t?"Manual sync":"Scheduled sync"};this.syncHistory.unshift(w),this.syncHistory=this.syncHistory.slice(0,100),this.saveSettings(),this.notifyHistoryListeners(),this.updateSyncStatus({status:a.length>0?"failed":"completed",endTime:j,progress:100,currentStep:`Sync completed ${a.length>0?"with errors":"successfully"}`,errors:[...a],lastRunTime:s}),t||setTimeout(()=>this.scheduleNextSync(),5e3),a.length===0?ha({title:"Sync Completed",description:`Processed ${i} matchups successfully`}):ha({title:"Sync Completed with Errors",description:`Processed ${i} matchups with ${a.length} errors`,variant:"destructive"})}catch(d){const u=`Sync failed: ${d}`;a.push(u),this.updateSyncStatus({status:"failed",endTime:new Date,progress:0,currentStep:"Sync failed",errors:[...a]}),console.error("Sync execution failed:",d),ha({title:"Sync Failed",description:u,variant:"destructive"}),t||setTimeout(()=>this.scheduleNextSync(),6e4)}}async processMatchup(t,n,s){var a,i,o,l;try{const c=await nt.getMatchups(n.league_id,t.week);if(!(c!=null&&c.length))throw new Error(`No Sleeper matchups found for week ${t.week}`);if(!c.find(p=>p.matchup_id===parseInt(t.sleeper_matchup_id)))throw new Error(`Sleeper matchup not found for ID ${t.sleeper_matchup_id}`);const{data:u}=await window.ezsite.apis.tablePage(12853,{PageNo:1,PageSize:1,Filters:[{name:"team_id",op:"Equal",value:t.team_1_id},{name:"conference_id",op:"Equal",value:n.id}]}),{data:h}=await window.ezsite.apis.tablePage(12853,{PageNo:1,PageSize:1,Filters:[{name:"team_id",op:"Equal",value:t.team_2_id},{name:"conference_id",op:"Equal",value:n.id}]});if(!((a=u==null?void 0:u.List)!=null&&a.length)||!((i=h==null?void 0:h.List)!=null&&i.length))throw new Error("Could not find team junction records");const f=u.List[0].roster_id,g=h.List[0].roster_id,j=((o=c.find(p=>p.roster_id===parseInt(f)))==null?void 0:o.points)||0,v=((l=c.find(p=>p.roster_id===parseInt(g)))==null?void 0:l.points)||0;let w=null;j>v?w=t.team_1_id:v>j&&(w=t.team_2_id),await window.ezsite.apis.tableUpdate(13329,{id:t.id,team_1_score:j,team_2_score:v,winner_id:w,status:"complete",is_manual_override:!1})}catch(c){throw new Error(`Failed to process matchup ${t.id}: ${c}`)}}async updateTeamRecords(t,n){var s,a,i;try{const{data:o}=await window.ezsite.apis.tablePage(13329,{PageNo:1,PageSize:1e3,Filters:[{name:"conference_id",op:"Equal",value:t},{name:"status",op:"Equal",value:"complete"}]});if(!((s=o==null?void 0:o.List)!=null&&s.length))return;const{data:l}=await window.ezsite.apis.tablePage(12853,{PageNo:1,PageSize:100,Filters:[{name:"conference_id",op:"Equal",value:t}]});if(!((a=l==null?void 0:l.List)!=null&&a.length))return;for(const c of l.List){const d=c.team_id,u=o.List.filter(b=>b.team_1_id===d||b.team_2_id===d);let h=0,f=0,g=0,j=0,v=0;for(const b of u){const _=b.team_1_id===d,E=_?b.team_1_score:b.team_2_score,C=_?b.team_2_score:b.team_1_score;j+=E,v+=C,b.winner_id===d?h++:b.winner_id===null?g++:f++}const w=h+f+g,p=w>0?h/w:0,{data:x}=await window.ezsite.apis.tablePage(13768,{PageNo:1,PageSize:1,Filters:[{name:"team_id",op:"Equal",value:d},{name:"conference_id",op:"Equal",value:t},{name:"season_id",op:"Equal",value:n}]}),y={team_id:d,conference_id:t,season_id:n,wins:h,losses:f,ties:g,points_for:j,points_against:v,win_percentage:p,last_updated:new Date().toISOString()};(i=x==null?void 0:x.List)!=null&&i.length?await window.ezsite.apis.tableUpdate(13768,{id:x.List[0].id,...y}):await window.ezsite.apis.tableCreate(13768,y)}}catch(o){throw new Error(`Failed to update team records: ${o}`)}}updateSyncStatus(t){this.syncStatus={...this.syncStatus,...t},this.notifyStatusListeners()}notifyStatusListeners(){this.statusListeners.forEach(t=>{try{t(this.getStatus())}catch(n){console.error("Error notifying status listener:",n)}})}notifyHistoryListeners(){this.historyListeners.forEach(t=>{try{t(this.getHistory())}catch(n){console.error("Error notifying history listener:",n)}})}}const Ha=new BB,zB=()=>{const[e,t]=m.useState(Ha.getSchedule()),[n,s]=m.useState(Ha.getStatus()),[a,i]=m.useState(Ha.getHistory()),[o,l]=m.useState(!1),[c,d]=m.useState("overview");m.useEffect(()=>{const p=Ha.onStatusChange(s),x=Ha.onHistoryChange(i);return()=>{p(),x()}},[]);const u=p=>{const x={...e,...p};t(x),Ha.updateSchedule(p),ha({title:"Schedule Updated",description:"Auto-sync schedule has been updated successfully."})},h=async()=>{if(n.status==="running"){ha({title:"Sync Already Running",description:"Please wait for the current sync to complete.",variant:"destructive"});return}l(!0);try{await Ha.runManualSync(),ha({title:"Manual Sync Started",description:"Sync has been initiated manually."})}catch(p){ha({title:"Sync Failed",description:`Failed to start manual sync: ${p}`,variant:"destructive"})}finally{l(!1)}},f=p=>{switch(p){case"completed":case"success":return"bg-green-500";case"running":return"bg-blue-500";case"failed":return"bg-red-500";case"partial":return"bg-yellow-500";case"scheduled":return"bg-purple-500";default:return"bg-gray-500"}},g=p=>{switch(p){case"completed":case"success":return r.jsx(Pn,{className:"w-4 h-4"});case"running":return r.jsx(Ye,{className:"w-4 h-4 animate-spin"});case"failed":return r.jsx(fD,{className:"w-4 h-4"});case"partial":return r.jsx(We,{className:"w-4 h-4"});case"scheduled":return r.jsx(Qn,{className:"w-4 h-4"});default:return r.jsx(FD,{className:"w-4 h-4"})}},j=p=>{const x=Math.floor(p/1e3),y=Math.floor(x/60),b=Math.floor(y/60);return b>0?`${b}h ${y%60}m ${x%60}s`:y>0?`${y}m ${x%60}s`:`${x}s`},v=p=>p?new Date(p).toLocaleString():"N/A",w=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Auto-Sync Manager"}),r.jsx("p",{className:"text-muted-foreground",children:"Manage automatic weekly synchronization with Sleeper API"})]}),r.jsxs(se,{onClick:h,disabled:o||n.status==="running",className:"gap-2",children:[o||n.status==="running"?r.jsx(Ye,{className:"w-4 h-4 animate-spin"}):r.jsx(BD,{className:"w-4 h-4"}),o||n.status==="running"?"Syncing...":"Run Manual Sync"]})]}),r.jsxs(yr,{value:c,onValueChange:d,className:"w-full",children:[r.jsxs(Ys,{className:"grid w-full grid-cols-4",children:[r.jsxs(Ne,{value:"overview",className:"gap-2",children:[r.jsx(Us,{className:"w-4 h-4"}),"Overview"]}),r.jsxs(Ne,{value:"schedule",className:"gap-2",children:[r.jsx(Zn,{className:"w-4 h-4"}),"Schedule"]}),r.jsxs(Ne,{value:"monitoring",className:"gap-2",children:[r.jsx(iD,{className:"w-4 h-4"}),"Monitoring"]}),r.jsxs(Ne,{value:"history",className:"gap-2",children:[r.jsx(ND,{className:"w-4 h-4"}),"History"]})]}),r.jsxs(Ce,{value:"overview",className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs(H,{children:[r.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(ee,{className:"text-sm font-medium",children:"Sync Status"}),g(n.status)]}),r.jsxs(Q,{children:[r.jsx("div",{className:"text-2xl font-bold capitalize",children:n.status}),r.jsx("p",{className:"text-xs text-muted-foreground",children:n.currentStep})]})]}),r.jsxs(H,{children:[r.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(ee,{className:"text-sm font-medium",children:"Auto-Sync"}),r.jsx(Iu,{className:"w-4 h-4"})]}),r.jsxs(Q,{children:[r.jsx("div",{className:"text-2xl font-bold",children:e.enabled?"Enabled":"Disabled"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:e.enabled?`${w[e.dayOfWeek]} at ${e.hour}:${e.minute.toString().padStart(2,"0")}`:"Manual only"})]})]}),r.jsxs(H,{children:[r.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(ee,{className:"text-sm font-medium",children:"Last Run"}),r.jsx(o$,{className:"w-4 h-4"})]}),r.jsxs(Q,{children:[r.jsx("div",{className:"text-2xl font-bold",children:n.lastRunTime?v(n.lastRunTime).split(" ")[1]:"Never"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:n.lastRunTime?v(n.lastRunTime).split(" ")[0]:"No previous runs"})]})]}),r.jsxs(H,{children:[r.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(ee,{className:"text-sm font-medium",children:"Next Run"}),r.jsx(Qn,{className:"w-4 h-4"})]}),r.jsxs(Q,{children:[r.jsx("div",{className:"text-2xl font-bold",children:n.nextRunTime?v(n.nextRunTime).split(" ")[1]:"N/A"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:n.nextRunTime?v(n.nextRunTime).split(" ")[0]:"No scheduled runs"})]})]})]}),n.status==="running"&&r.jsxs(H,{children:[r.jsx(Z,{children:r.jsxs(ee,{className:"flex items-center gap-2",children:[r.jsx(Ye,{className:"w-5 h-5 animate-spin"}),"Sync in Progress"]})}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:n.currentStep}),r.jsxs("span",{children:[n.progress,"%"]})]}),r.jsx(ar,{value:n.progress,className:"h-2"})]}),r.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[r.jsxs("span",{children:["Matchups: ",n.processedMatchups," / ",n.totalMatchups]}),r.jsxs("span",{children:["Started: ",v(n.startTime)]})]})]})]}),n.errors.length>0&&r.jsxs(Oe,{variant:"destructive",children:[r.jsx(We,{className:"h-4 w-4"}),r.jsxs(Fe,{children:[r.jsx("div",{className:"font-medium",children:"Sync Errors:"}),r.jsx("ul",{className:"mt-1 space-y-1",children:n.errors.map((p,x)=>r.jsxs("li",{className:"text-sm",children:[" ",p]},x))})]})]})]}),r.jsx(Ce,{value:"schedule",className:"space-y-4",children:r.jsxs(H,{children:[r.jsx(Z,{children:r.jsx(ee,{children:"Sync Schedule Configuration"})}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(ft,{htmlFor:"enable-sync",children:"Enable Automatic Sync"}),r.jsx(FT,{id:"enable-sync",checked:e.enabled,onCheckedChange:p=>u({enabled:p})})]}),e.enabled&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ft,{htmlFor:"day-of-week",children:"Day of Week"}),r.jsxs(Nt,{value:e.dayOfWeek.toString(),onValueChange:p=>u({dayOfWeek:parseInt(p)}),children:[r.jsx(gt,{children:r.jsx(Ct,{placeholder:"Select day"})}),r.jsx(xt,{children:w.map((p,x)=>r.jsx(Pe,{value:x.toString(),children:p},x))})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ft,{htmlFor:"hour",children:"Hour (24-hour format)"}),r.jsx(Jt,{id:"hour",type:"number",min:"0",max:"23",value:e.hour,onChange:p=>u({hour:parseInt(p.target.value)||0})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ft,{htmlFor:"minute",children:"Minute"}),r.jsx(Jt,{id:"minute",type:"number",min:"0",max:"59",value:e.minute,onChange:p=>u({minute:parseInt(p.target.value)||0})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ft,{htmlFor:"timezone",children:"Timezone"}),r.jsxs(Nt,{value:e.timezone,onValueChange:p=>u({timezone:p}),children:[r.jsx(gt,{children:r.jsx(Ct,{placeholder:"Select timezone"})}),r.jsxs(xt,{children:[r.jsx(Pe,{value:"America/New_York",children:"Eastern Time"}),r.jsx(Pe,{value:"America/Chicago",children:"Central Time"}),r.jsx(Pe,{value:"America/Denver",children:"Mountain Time"}),r.jsx(Pe,{value:"America/Los_Angeles",children:"Pacific Time"})]})]})]})]}),r.jsxs(Oe,{children:[r.jsx(We,{className:"h-4 w-4"}),r.jsxs(Fe,{children:[r.jsx("strong",{children:"Note:"})," Automatic sync will only run when the browser is open and active. For production use, consider implementing server-side scheduling."]})]})]})]})}),r.jsx(Ce,{value:"monitoring",className:"space-y-4",children:r.jsxs(H,{children:[r.jsx(Z,{children:r.jsx(ee,{children:"Real-time Monitoring"})}),r.jsx(Q,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ft,{children:"Current Status"}),r.jsx(te,{variant:"outline",className:`${f(n.status)} text-white`,children:n.status})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ft,{children:"Current Step"}),r.jsx("p",{className:"text-sm",children:n.currentStep})]})]}),n.status==="running"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ft,{children:"Progress"}),r.jsx(ar,{value:n.progress,className:"h-2"}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.progress,"% complete"]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(ft,{children:"Processed Matchups"}),r.jsx("p",{className:"text-2xl font-bold",children:n.processedMatchups})]}),r.jsxs("div",{children:[r.jsx(ft,{children:"Total Matchups"}),r.jsx("p",{className:"text-2xl font-bold",children:n.totalMatchups})]})]})]}),n.startTime&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(ft,{children:"Started At"}),r.jsx("p",{className:"text-sm",children:v(n.startTime)})]}),n.endTime&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(ft,{children:"Completed At"}),r.jsx("p",{className:"text-sm",children:v(n.endTime)})]})]})})]})}),r.jsx(Ce,{value:"history",className:"space-y-4",children:r.jsxs(H,{children:[r.jsx(Z,{children:r.jsx(ee,{children:"Sync History"})}),r.jsx(Q,{children:r.jsx("div",{className:"rounded-md border",children:r.jsxs(Bt,{children:[r.jsx(zt,{children:r.jsxs(be,{children:[r.jsx(ne,{children:"Timestamp"}),r.jsx(ne,{children:"Status"}),r.jsx(ne,{children:"Duration"}),r.jsx(ne,{children:"Matchups"}),r.jsx(ne,{children:"Records"}),r.jsx(ne,{children:"Errors"}),r.jsx(ne,{children:"Details"})]})}),r.jsx(Vt,{children:a.length===0?r.jsx(be,{children:r.jsx(Y,{colSpan:7,className:"text-center text-muted-foreground",children:"No sync history available"})}):a.map(p=>r.jsxs(be,{children:[r.jsx(Y,{children:v(p.timestamp)}),r.jsx(Y,{children:r.jsx(te,{variant:"outline",className:`${f(p.status)} text-white`,children:p.status})}),r.jsx(Y,{children:j(p.duration)}),r.jsx(Y,{children:p.matchupsProcessed}),r.jsx(Y,{children:p.recordsUpdated}),r.jsx(Y,{children:p.errors.length>0?r.jsx(te,{variant:"destructive",children:p.errors.length}):r.jsx("span",{className:"text-green-600",children:"None"})}),r.jsx(Y,{className:"max-w-xs truncate",children:p.details})]},p.id))})]})})})]})})]})]})};class VB{constructor(){On(this,"TEAM_RECORDS_TABLE_ID",13768);On(this,"TEAMS_TABLE_ID",12852);On(this,"CONFERENCES_TABLE_ID",12820);On(this,"SEASONS_TABLE_ID",12818);On(this,"TEAM_CONFERENCES_JUNCTION_TABLE_ID",12853)}async auditDataIntegrity(){try{const t={duplicate_records:0,orphaned_records:0,invalid_relationships:0,missing_junction_records:0,total_team_records:0,seasons_affected:[],conferences_affected:[],cleanup_recommendations:[]},{data:n,error:s}=await window.ezsite.apis.tablePage(this.TEAM_RECORDS_TABLE_ID,{PageNo:1,PageSize:1e3,OrderByField:"id",IsAsc:!0,Filters:[]});if(s)throw s;const a=n.List||[];t.total_team_records=a.length;const{data:i,error:o}=await window.ezsite.apis.tablePage(this.TEAMS_TABLE_ID,{PageNo:1,PageSize:1e3,OrderByField:"id",IsAsc:!0,Filters:[]});if(o)throw o;const l=i.List||[],c=new Set(l.map(A=>A.id)),{data:d,error:u}=await window.ezsite.apis.tablePage(this.CONFERENCES_TABLE_ID,{PageNo:1,PageSize:1e3,OrderByField:"id",IsAsc:!0,Filters:[]});if(u)throw u;const h=d.List||[],f=new Set(h.map(A=>A.id)),{data:g,error:j}=await window.ezsite.apis.tablePage(this.SEASONS_TABLE_ID,{PageNo:1,PageSize:1e3,OrderByField:"id",IsAsc:!0,Filters:[]});if(j)throw j;const v=g.List||[],w=new Set(v.map(A=>A.id)),{data:p,error:x}=await window.ezsite.apis.tablePage(this.TEAM_CONFERENCES_JUNCTION_TABLE_ID,{PageNo:1,PageSize:1e3,OrderByField:"id",IsAsc:!0,Filters:[]});if(x)throw x;const y=p.List||[],b=new Set;y.forEach(A=>{A.is_active&&b.add(`${A.team_id}_${A.conference_id}`)});const _=new Map,E=new Set,C=new Set;a.forEach(A=>{const $=`${A.team_id}_${A.conference_id}_${A.season_id}`;_.has($)||_.set($,[]),_.get($).push(A),E.add(A.season_id),C.add(A.conference_id),c.has(A.team_id)||t.orphaned_records++,f.has(A.conference_id)||t.orphaned_records++,w.has(A.season_id)||t.orphaned_records++;const M=`${A.team_id}_${A.conference_id}`;b.has(M)||t.invalid_relationships++}),_.forEach((A,$)=>{A.length>1&&(t.duplicate_records+=A.length-1)});const N=l.length*h.length,k=y.filter(A=>A.is_active).length;t.missing_junction_records=Math.max(0,N-k),t.seasons_affected=Array.from(E),t.conferences_affected=Array.from(C),t.duplicate_records>0&&t.cleanup_recommendations.push(`Remove ${t.duplicate_records} duplicate team records`),t.orphaned_records>0&&t.cleanup_recommendations.push(`Remove ${t.orphaned_records} orphaned records with invalid references`),t.invalid_relationships>0&&t.cleanup_recommendations.push(`Fix ${t.invalid_relationships} records with invalid team-conference relationships`),t.missing_junction_records>0&&t.cleanup_recommendations.push(`Create ${t.missing_junction_records} missing team-conference junction records`);const R=36;return t.seasons_affected.forEach(A=>{const $=a.filter(V=>V.season_id===A),M=R;$.length!==M&&t.cleanup_recommendations.push(`Season ${A}: Expected ${M} records, found ${$.length}`)}),t}catch(t){throw console.error("Error auditing data integrity:",t),t}}async cleanupDataIntegrity(){const t={records_deleted:0,records_updated:0,records_created:0,errors:[],success:!1};try{const[n,s,a,i,o]=await Promise.all([this.getAllTeamRecords(),this.getAllTeams(),this.getAllConferences(),this.getAllSeasons(),this.getAllJunctions()]),l=new Set(s.map(j=>j.id)),c=new Set(a.map(j=>j.id)),d=new Set(i.map(j=>j.id));for(const j of n){const v=l.has(j.team_id),w=c.has(j.conference_id),p=d.has(j.season_id);if(!v||!w||!p)try{await window.ezsite.apis.tableDelete(this.TEAM_RECORDS_TABLE_ID,{ID:j.id}),t.records_deleted++}catch(x){t.errors.push(`Failed to delete orphaned record ${j.id}: ${x}`)}}const u=new Map;n.filter(j=>{const v=l.has(j.team_id),w=c.has(j.conference_id),p=d.has(j.season_id);return v&&w&&p}).forEach(j=>{const v=`${j.team_id}_${j.conference_id}_${j.season_id}`;u.has(v)||u.set(v,[]),u.get(v).push(j)});for(const[j,v]of u.entries())if(v.length>1){v.sort((w,p)=>{const x=new Date(w.last_updated||0),y=new Date(p.last_updated||0);return x.getTime()!==y.getTime()?y.getTime()-x.getTime():p.id-w.id});for(let w=1;w<v.length;w++)try{await window.ezsite.apis.tableDelete(this.TEAM_RECORDS_TABLE_ID,{ID:v[w].id}),t.records_deleted++}catch(p){t.errors.push(`Failed to delete duplicate record ${v[w].id}: ${p}`)}}const f=o.filter(j=>j.is_active),g=new Set(f.map(j=>`${j.team_id}_${j.conference_id}`));for(const j of s)for(const v of a){const w=`${j.id}_${v.id}`;if(!g.has(w))try{await window.ezsite.apis.tableCreate(this.TEAM_CONFERENCES_JUNCTION_TABLE_ID,{team_id:j.id,conference_id:v.id,roster_id:`${j.id}_${v.id}`,is_active:!0,joined_date:new Date().toISOString()}),t.records_created++}catch(p){t.errors.push(`Failed to create junction record for team ${j.id} in conference ${v.id}: ${p}`)}}return t.success=t.errors.length===0,t}catch(n){return t.errors.push(`Cleanup failed: ${n}`),t.success=!1,t}}async validateSeasonConferenceRelationships(){const t={records_deleted:0,records_updated:0,records_created:0,errors:[],success:!1};try{const[n,s]=await Promise.all([this.getAllConferences(),this.getAllSeasons()]);for(const a of n)if(!s.some(o=>o.id===a.season_id)){const o=s.find(l=>l.is_current_season)||s[0];if(o)try{await window.ezsite.apis.tableUpdate(this.CONFERENCES_TABLE_ID,{ID:a.id,season_id:o.id}),t.records_updated++}catch(l){t.errors.push(`Failed to update conference ${a.id} season relationship: ${l}`)}}return t.success=t.errors.length===0,t}catch(n){return t.errors.push(`Season-conference validation failed: ${n}`),t.success=!1,t}}async createMissingTeamRecords(){const t={records_deleted:0,records_updated:0,records_created:0,errors:[],success:!1};try{const[n,s,a,i]=await Promise.all([this.getAllTeams(),this.getAllConferences(),this.getAllSeasons(),this.getAllJunctions()]),o=new Map;i.forEach(d=>{d.is_active&&(o.has(d.team_id)||o.set(d.team_id,new Set),o.get(d.team_id).add(d.conference_id))});const l=await this.getAllTeamRecords(),c=new Set(l.map(d=>`${d.team_id}_${d.conference_id}_${d.season_id}`));for(const d of a)for(const[u,h]of o.entries())for(const f of h){const g=`${u}_${f}_${d.id}`;if(!c.has(g))try{await window.ezsite.apis.tableCreate(this.TEAM_RECORDS_TABLE_ID,{team_id:u,conference_id:f,season_id:d.id,wins:0,losses:0,ties:0,points_for:0,points_against:0,win_percentage:0,conference_rank:0,overall_rank:0,playoff_eligible:!1,is_conference_champion:!1,last_updated:new Date().toISOString()}),t.records_created++}catch(j){t.errors.push(`Failed to create team record for team ${u}, conference ${f}, season ${d.id}: ${j}`)}}return t.success=t.errors.length===0,t}catch(n){return t.errors.push(`Failed to create missing team records: ${n}`),t.success=!1,t}}async getAllTeamRecords(){const{data:t,error:n}=await window.ezsite.apis.tablePage(this.TEAM_RECORDS_TABLE_ID,{PageNo:1,PageSize:1e3,OrderByField:"id",IsAsc:!0,Filters:[]});if(n)throw n;return t.List||[]}async getAllTeams(){const{data:t,error:n}=await window.ezsite.apis.tablePage(this.TEAMS_TABLE_ID,{PageNo:1,PageSize:1e3,OrderByField:"id",IsAsc:!0,Filters:[]});if(n)throw n;return t.List||[]}async getAllConferences(){const{data:t,error:n}=await window.ezsite.apis.tablePage(this.CONFERENCES_TABLE_ID,{PageNo:1,PageSize:1e3,OrderByField:"id",IsAsc:!0,Filters:[]});if(n)throw n;return t.List||[]}async getAllSeasons(){const{data:t,error:n}=await window.ezsite.apis.tablePage(this.SEASONS_TABLE_ID,{PageNo:1,PageSize:1e3,OrderByField:"id",IsAsc:!0,Filters:[]});if(n)throw n;return t.List||[]}async getAllJunctions(){const{data:t,error:n}=await window.ezsite.apis.tablePage(this.TEAM_CONFERENCES_JUNCTION_TABLE_ID,{PageNo:1,PageSize:1e3,OrderByField:"id",IsAsc:!0,Filters:[]});if(n)throw n;return t.List||[]}}const Md=new VB,WB=()=>{const[e,t]=m.useState(null),[n,s]=m.useState(!1),[a,i]=m.useState(!1),[o,l]=m.useState(null),{toast:c}=en();m.useEffect(()=>{d()},[]);const d=async()=>{try{s(!0);const g=await Md.auditDataIntegrity();t(g)}catch(g){console.error("Error running data integrity audit:",g),c({title:"Error",description:"Failed to run data integrity audit",variant:"destructive"})}finally{s(!1)}},u=async()=>{try{i(!0);const[g,j,v]=await Promise.all([Md.cleanupDataIntegrity(),Md.validateSeasonConferenceRelationships(),Md.createMissingTeamRecords()]),w={records_deleted:g.records_deleted,records_updated:g.records_updated+j.records_updated,records_created:g.records_created+v.records_created,errors:[...g.errors,...j.errors,...v.errors],success:g.success&&j.success&&v.success};l(w),w.success?c({title:"Success",description:"Data integrity cleanup completed successfully"}):c({title:"Partial Success",description:"Cleanup completed with some errors",variant:"destructive"}),await d()}catch(g){console.error("Error running cleanup:",g),c({title:"Error",description:"Failed to run data integrity cleanup",variant:"destructive"})}finally{i(!1)}},h=g=>g===0?"text-green-600":g<=5?"text-yellow-600":"text-red-600",f=g=>g===0?r.jsx(te,{variant:"outline",className:"text-green-600 border-green-600",children:"Good"}):g<=5?r.jsx(te,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:"Warning"}):r.jsx(te,{variant:"destructive",children:"Critical"});return n?r.jsxs(H,{children:[r.jsxs(Z,{children:[r.jsxs(ee,{className:"flex items-center gap-2",children:[r.jsx(Er,{className:"h-5 w-5"}),"Data Integrity Manager"]}),r.jsx(he,{children:"Running data integrity audit..."})]}),r.jsx(Q,{children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ye,{className:"h-4 w-4 animate-spin"}),r.jsx("span",{children:"Analyzing data integrity..."})]})})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs(H,{children:[r.jsxs(Z,{children:[r.jsxs(ee,{className:"flex items-center gap-2",children:[r.jsx(Er,{className:"h-5 w-5"}),"Data Integrity Manager"]}),r.jsx(he,{children:"Monitor and maintain data integrity across team records, seasons, and conferences"})]}),r.jsx(Q,{children:r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(se,{onClick:d,disabled:n,children:[r.jsx(Ye,{className:"h-4 w-4 mr-2"}),"Run Audit"]}),r.jsx(se,{onClick:u,disabled:a||!e,variant:"outline",children:a?r.jsxs(r.Fragment,{children:[r.jsx(Ye,{className:"h-4 w-4 mr-2 animate-spin"}),"Cleaning..."]}):r.jsxs(r.Fragment,{children:[r.jsx(ur,{className:"h-4 w-4 mr-2"}),"Run Cleanup"]})})]})})]}),e&&r.jsxs(yr,{defaultValue:"overview",className:"space-y-4",children:[r.jsxs(Ys,{children:[r.jsx(Ne,{value:"overview",children:"Overview"}),r.jsx(Ne,{value:"details",children:"Details"}),r.jsx(Ne,{value:"recommendations",children:"Recommendations"}),o&&r.jsx(Ne,{value:"cleanup",children:"Cleanup Results"})]}),r.jsxs(Ce,{value:"overview",className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs(H,{children:[r.jsxs(Z,{className:"pb-2",children:[r.jsx(he,{children:"Total Team Records"}),r.jsx(ee,{className:"text-2xl",children:e.total_team_records})]}),r.jsx(Q,{children:r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Expected: ",e.seasons_affected.length*36," records"]})})]}),r.jsxs(H,{children:[r.jsxs(Z,{className:"pb-2",children:[r.jsx(he,{children:"Duplicate Records"}),r.jsx(ee,{className:`text-2xl ${h(e.duplicate_records)}`,children:e.duplicate_records})]}),r.jsx(Q,{children:f(e.duplicate_records)})]}),r.jsxs(H,{children:[r.jsxs(Z,{className:"pb-2",children:[r.jsx(he,{children:"Orphaned Records"}),r.jsx(ee,{className:`text-2xl ${h(e.orphaned_records)}`,children:e.orphaned_records})]}),r.jsx(Q,{children:f(e.orphaned_records)})]}),r.jsxs(H,{children:[r.jsxs(Z,{className:"pb-2",children:[r.jsx(he,{children:"Invalid Relationships"}),r.jsx(ee,{className:`text-2xl ${h(e.invalid_relationships)}`,children:e.invalid_relationships})]}),r.jsx(Q,{children:f(e.invalid_relationships)})]}),r.jsxs(H,{children:[r.jsxs(Z,{className:"pb-2",children:[r.jsx(he,{children:"Missing Junction Records"}),r.jsx(ee,{className:`text-2xl ${h(e.missing_junction_records)}`,children:e.missing_junction_records})]}),r.jsx(Q,{children:f(e.missing_junction_records)})]}),r.jsxs(H,{children:[r.jsxs(Z,{className:"pb-2",children:[r.jsx(he,{children:"Seasons Affected"}),r.jsx(ee,{className:"text-2xl",children:e.seasons_affected.length})]}),r.jsx(Q,{children:r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Seasons: ",e.seasons_affected.join(", ")]})})]})]}),(e.duplicate_records>0||e.orphaned_records>0||e.invalid_relationships>0||e.missing_junction_records>0)&&r.jsxs(Oe,{children:[r.jsx(Ml,{className:"h-4 w-4"}),r.jsx(Fe,{children:"Data integrity issues detected. Run cleanup to fix these issues automatically."})]}),e.duplicate_records===0&&e.orphaned_records===0&&e.invalid_relationships===0&&e.missing_junction_records===0&&r.jsxs(Oe,{children:[r.jsx(Pn,{className:"h-4 w-4"}),r.jsx(Fe,{children:"Data integrity is good! No issues detected."})]})]}),r.jsxs(Ce,{value:"details",className:"space-y-4",children:[r.jsxs(H,{children:[r.jsxs(Z,{children:[r.jsx(ee,{children:"Detailed Analysis"}),r.jsx(he,{children:"Breakdown of data integrity issues by category"})]}),r.jsx(Q,{children:r.jsxs(Bt,{children:[r.jsx(zt,{children:r.jsxs(be,{children:[r.jsx(ne,{children:"Issue Type"}),r.jsx(ne,{children:"Count"}),r.jsx(ne,{children:"Severity"}),r.jsx(ne,{children:"Description"})]})}),r.jsxs(Vt,{children:[r.jsxs(be,{children:[r.jsx(Y,{children:"Duplicate Records"}),r.jsx(Y,{children:e.duplicate_records}),r.jsx(Y,{children:f(e.duplicate_records)}),r.jsx(Y,{children:"Records with identical team-conference-season combinations"})]}),r.jsxs(be,{children:[r.jsx(Y,{children:"Orphaned Records"}),r.jsx(Y,{children:e.orphaned_records}),r.jsx(Y,{children:f(e.orphaned_records)}),r.jsx(Y,{children:"Records referencing non-existent teams, conferences, or seasons"})]}),r.jsxs(be,{children:[r.jsx(Y,{children:"Invalid Relationships"}),r.jsx(Y,{children:e.invalid_relationships}),r.jsx(Y,{children:f(e.invalid_relationships)}),r.jsx(Y,{children:"Team records for teams not in the specified conference"})]}),r.jsxs(be,{children:[r.jsx(Y,{children:"Missing Junction Records"}),r.jsx(Y,{children:e.missing_junction_records}),r.jsx(Y,{children:f(e.missing_junction_records)}),r.jsx(Y,{children:"Missing team-conference junction table entries"})]})]})]})})]}),r.jsxs(H,{children:[r.jsx(Z,{children:r.jsx(ee,{children:"Affected Seasons and Conferences"})}),r.jsx(Q,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-2",children:"Seasons with Records"}),r.jsx("div",{className:"space-y-1",children:e.seasons_affected.map(g=>r.jsxs(te,{variant:"outline",children:["Season ",g]},g))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-2",children:"Conferences with Records"}),r.jsx("div",{className:"space-y-1",children:e.conferences_affected.map(g=>r.jsxs(te,{variant:"outline",children:["Conference ",g]},g))})]})]})})]})]}),r.jsx(Ce,{value:"recommendations",className:"space-y-4",children:r.jsxs(H,{children:[r.jsxs(Z,{children:[r.jsxs(ee,{className:"flex items-center gap-2",children:[r.jsx(uc,{className:"h-5 w-5"}),"Cleanup Recommendations"]}),r.jsx(he,{children:"Recommended actions to fix data integrity issues"})]}),r.jsx(Q,{children:e.cleanup_recommendations.length===0?r.jsxs(Oe,{children:[r.jsx(Pn,{className:"h-4 w-4"}),r.jsx(Fe,{children:"No cleanup recommendations. Your data integrity is good!"})]}):r.jsx("div",{className:"space-y-3",children:e.cleanup_recommendations.map((g,j)=>r.jsxs(Oe,{children:[r.jsx(We,{className:"h-4 w-4"}),r.jsx(Fe,{children:g})]},j))})})]})}),o&&r.jsx(Ce,{value:"cleanup",className:"space-y-4",children:r.jsxs(H,{children:[r.jsxs(Z,{children:[r.jsxs(ee,{className:"flex items-center gap-2",children:[o.success?r.jsx(Pn,{className:"h-5 w-5 text-green-600"}):r.jsx(Ml,{className:"h-5 w-5 text-yellow-600"}),"Cleanup Results"]}),r.jsx(he,{children:"Results from the most recent data integrity cleanup operation"})]}),r.jsxs(Q,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[r.jsx(H,{children:r.jsxs(Z,{className:"pb-2",children:[r.jsx(he,{children:"Records Deleted"}),r.jsx(ee,{className:"text-2xl text-red-600",children:o.records_deleted})]})}),r.jsx(H,{children:r.jsxs(Z,{className:"pb-2",children:[r.jsx(he,{children:"Records Updated"}),r.jsx(ee,{className:"text-2xl text-blue-600",children:o.records_updated})]})}),r.jsx(H,{children:r.jsxs(Z,{className:"pb-2",children:[r.jsx(he,{children:"Records Created"}),r.jsx(ee,{className:"text-2xl text-green-600",children:o.records_created})]})})]}),o.errors.length>0&&r.jsxs(Oe,{variant:"destructive",children:[r.jsx(Ml,{className:"h-4 w-4"}),r.jsxs(Fe,{children:[r.jsx("div",{className:"font-medium mb-2",children:"Errors encountered during cleanup:"}),r.jsx("ul",{className:"list-disc list-inside space-y-1",children:o.errors.map((g,j)=>r.jsx("li",{className:"text-sm",children:g},j))})]})]}),o.success&&r.jsxs(Oe,{children:[r.jsx(Pn,{className:"h-4 w-4"}),r.jsx(Fe,{children:"Cleanup completed successfully! Data integrity has been restored."})]})]})]})})]})]})};class cg{static async seedSeasons(){console.log("Seeding seasons...");const t=[{season_year:2024,status:"completed"},{season_year:2025,status:"active"}];for(const n of t)try{const{data:s,error:a}=await ie.createSeason(n);a?console.warn(`Season ${n.season_year} might already exist:`,a):console.log(` Created season ${n.season_year}:`,s)}catch(s){console.error(`Error creating season ${n.season_year}:`,s)}}static async seedConferences(){console.log("Seeding conferences...");const{data:t}=await ie.getSeasons(),n=t.find(i=>i.season_year===2024),s=t.find(i=>i.season_year===2025);if(!n||!s){console.error("Seasons not found. Run seedSeasons() first.");return}const a=[{conference_name:"The Legions of Mars",league_id:"1072580179844857856",season_id:n.id,status:"completed"},{conference_name:"The Guardians of Jupiter",league_id:"1072593839715667968",season_id:n.id,status:"completed"},{conference_name:"Vulcan's Oathsworn",league_id:"1072593416955015168",season_id:n.id,status:"completed"},{conference_name:"The Legions of Mars",league_id:"1204854057169072128",season_id:s.id,status:"active"},{conference_name:"The Guardians of Jupiter",league_id:"1204857692007440384",season_id:s.id,status:"active"},{conference_name:"Vulcan's Oathsworn",league_id:"1204857608989577216",season_id:s.id,status:"active"}];for(const i of a)try{const{data:o,error:l}=await ie.createConference(i);l?console.warn(`Conference ${i.conference_name} might already exist:`,l):console.log(` Created conference ${i.conference_name}:`,o)}catch(o){console.error(`Error creating conference ${i.conference_name}:`,o)}}static async seedAll(){console.log(" Starting database seeding...");try{await this.seedSeasons(),await this.seedConferences(),console.log(" Database seeding completed!"),console.log(" You can now sync data from Sleeper API using the admin panel.")}catch(t){console.error(" Error during seeding:",t)}}static async clearAllData(){confirm("Are you sure you want to clear ALL data? This cannot be undone!")&&(console.log(" Clearing all data..."),console.warn(" Manual data clearing not implemented. Use Supabase dashboard or SQL commands."),console.warn(" Recommended: Drop and recreate tables using the schema file."))}static async checkStatus(){console.log(" Checking database status...");try{const[t,n,s,a]=await Promise.all([ie.getSeasons(),ie.getConferences(),ie.getTeams(),ie.getPlayers()]);console.log(" Database Status:"),console.log(`  Seasons: ${t.data.length}`),console.log(`  Conferences: ${n.data.length}`),console.log(`  Teams: ${s.data.length}`),console.log(`  Players: ${a.data.length}`),t.data.length===0&&console.log(" Tip: Run DataSeeder.seedAll() to add basic data")}catch(t){console.error(" Error checking database status:",t)}}}typeof window<"u"&&(window.DataSeeder=cg);const HB=()=>{const[e,t]=m.useState([]),[n,s]=m.useState(!1),[a,i]=m.useState([]),o=(h,f,g)=>{t(j=>[...j,{test:h,status:f,message:g}])},l=async()=>{i([" Running database diagnostics..."]);try{const{data:h,error:f}=await tt.from("seasons").select("*").limit(5);i(y=>[...y,` Raw seasons query - Error: ${f?f.message:"None"}`]),i(y=>[...y,` Raw seasons data count: ${h?h.length:0}`]),h&&h.length>0&&i(y=>[...y,` First season structure: ${JSON.stringify(h[0],null,2)}`]);const{data:g,error:j}=await tt.from("conferences").select("*").limit(5);i(y=>[...y,` Raw conferences query - Error: ${j?j.message:"None"}`]),i(y=>[...y,` Raw conferences data count: ${g?g.length:0}`]),g&&g.length>0&&i(y=>[...y,` First conference structure: ${JSON.stringify(g[0],null,2)}`]),i(y=>[...y," Testing DatabaseService methods..."]),console.log(" About to call DatabaseService.getSeasons()");const v=await ie.getSeasons();console.log(" DatabaseService.getSeasons() result:",v),i(y=>{var b;return[...y,` DatabaseService.getSeasons() returned: ${((b=v.data)==null?void 0:b.length)||0} items, error: ${v.error||"none"}`]}),console.log(" About to call DatabaseService.getConferences()");const w=await ie.getConferences();console.log(" DatabaseService.getConferences() result:",w),i(y=>{var b;return[...y,` DatabaseService.getConferences() returned: ${((b=w.data)==null?void 0:b.length)||0} items, error: ${w.error||"none"}`]});const{data:p,error:x}=await tt.from("Seasons").select("*").limit(1);i(x?y=>[...y,` Table 'Seasons' (capital S) error: ${x.message}`]:y=>[...y," Table 'Seasons' (capital S) exists and has data"])}catch(h){i(f=>[...f,` Diagnostics error: ${h}`]),console.error("Diagnostics error:",h)}},c=async()=>{i([" Running ADVANCED database diagnostics..."]);try{const{data:h,error:f}=await tt.from("information_schema.tables").select("*").eq("table_schema","public").in("table_name",["seasons","conferences"]);i(k=>[...k,` Table schema info: ${h?JSON.stringify(h,null,2):"None"}`]),i(k=>[...k,` Schema error: ${f?f.message:"None"}`]);const{data:g,error:j}=await tt.from("information_schema.columns").select("column_name, data_type, is_nullable").eq("table_schema","public").eq("table_name","seasons");i(k=>[...k,` Seasons columns: ${g?JSON.stringify(g,null,2):"None"}`]);const{count:v,error:w}=await tt.from("seasons").select("*",{count:"exact",head:!0});i(k=>[...k,` Seasons COUNT query: ${v}, error: ${w?w.message:"None"}`]);const{count:p,error:x}=await tt.from("conferences").select("*",{count:"exact",head:!0});i(k=>[...k,` Conferences COUNT query: ${p}, error: ${x?x.message:"None"}`]);const{data:y,error:b}=await tt.from("seasons").select();i(k=>[...k,` Seasons SELECT all: ${y?y.length:0} records, error: ${b?b.message:"None"}`]);const{data:_,error:E}=await tt.from("seasons").select("id, season_name, season_year, is_current");i(k=>[...k,` Seasons SELECT specific columns: ${_?_.length:0} records`]),i(k=>[...k,` Specific error: ${E?E.message:"None"}`]),_&&_.length>0&&i(k=>[...k,` First season record: ${JSON.stringify(_[0],null,2)}`]);const{data:C,error:N}=await tt.rpc("version");i(k=>[...k,` Basic RPC test: ${N?N.message:"SUCCESS - Database connection works"}`])}catch(h){i(f=>[...f,` Advanced diagnostics error: ${h}`]),console.error("Advanced diagnostics error:",h)}},d=async()=>{var h,f,g,j;s(!0),t([]);try{o("Database Connection","pending","Testing Supabase connection...");try{await ie.getSeasons({limit:1}),o("Database Connection","success","Successfully connected to Supabase")}catch(p){o("Database Connection","error",`Failed to connect: ${p}`)}o("Migration Adapter","pending","Testing EzSite API compatibility...");try{await((f=(h=window.ezsite)==null?void 0:h.apis)==null?void 0:f.tablePage("seasons",{PageNo:1,PageSize:1}))?o("Migration Adapter","success","Migration adapter is working"):o("Migration Adapter","error","Migration adapter not initialized")}catch(p){o("Migration Adapter","error",`Migration adapter error: ${p}`)}o("Data Seeding","pending","Testing data seeding capabilities...");try{await cg.checkStatus(),o("Data Seeding","success","Data seeder is functional")}catch(p){o("Data Seeding","error",`Data seeding error: ${p}`)}o("Environment Config","pending","Checking environment configuration..."),"https://pmtssnzfepkcqpziknbz.supabase.co"&&"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBtdHNzbnpmZXBrY3FwemlrbmJ6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIwMzQ5MDQsImV4cCI6MjA2NzYxMDkwNH0.KNIFrGxC-XaJFzN0m69NX85bMQR2XgCj0JDxfbPcHS0"&&o("Environment Config","success","Environment variables are configured"),o("Season Data Loading","pending","Testing dynamic season loading...");try{o("Raw Database Test","pending","Testing direct Supabase access..."),console.log("Testing Supabase connection...");const p=await ie.getSeasons();console.log("Seasons result:",p);const x=await ie.getConferences();if(console.log("Conferences result:",x),p.error)throw o("Raw Database Test","error",`Seasons query error: ${p.error}`),new Error(p.error);if(x.error)throw o("Raw Database Test","error",`Conferences query error: ${x.error}`),new Error(x.error);const y=((g=p.data)==null?void 0:g.length)||0,b=((j=x.data)==null?void 0:j.length)||0;o("Raw Database Test","success",`Direct queries successful: ${y} seasons, ${b} conferences`),y===0?o("Season Data Loading","error","No seasons found in database. You need to run the SQL schema in Supabase dashboard."):o("Season Data Loading","success",`Loaded ${y} seasons and ${b} conferences from Supabase`),p.data&&console.log("Season data:",p.data),x.data&&console.log("Conference data:",x.data)}catch(p){console.error("Season data loading error:",p),o("Season Data Loading","error",`Season data loading failed: ${p}`)}o("Table Accessibility","pending","Testing if tables exist and are accessible...");try{const{supabase:p}=await Ni(async()=>{const{supabase:E}=await Promise.resolve().then(()=>EF);return{supabase:E}},void 0),{data:x,error:y}=await p.from("seasons").select("*").limit(1);if(y){o("Table Accessibility","error",`Seasons table error: ${y.message}`);return}const{data:b,error:_}=await p.from("conferences").select("*").limit(1);if(_){o("Table Accessibility","error",`Conferences table error: ${_.message}`);return}o("Table Accessibility","success",`Tables accessible. Found ${(x==null?void 0:x.length)||0} seasons, ${(b==null?void 0:b.length)||0} conferences`)}catch(p){o("Table Accessibility","error",`Table access failed: ${p}`)}}catch(v){o("General","error",`Unexpected error: ${v}`)}s(!1)},u=async()=>{try{await cg.seedAll(),o("Database Seeding","success","Database seeded successfully")}catch(h){o("Database Seeding","error",`Seeding failed: ${h}`)}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs(H,{children:[r.jsxs(Z,{children:[r.jsx(ee,{children:" Supabase Migration Test"}),r.jsx(he,{children:"Test the migration from EzSite to Supabase"})]}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx(se,{onClick:d,disabled:n,variant:"default",children:n?"Running Tests...":"Run Migration Tests"}),r.jsx(se,{onClick:l,variant:"secondary",children:"Database Diagnostics"}),r.jsx(se,{onClick:c,variant:"outline",children:"Advanced Diagnostics"}),r.jsx(se,{onClick:u,variant:"outline",children:"Seed Database"})]}),e.length>0&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("h3",{className:"font-semibold",children:"Test Results:"}),e.map((h,f)=>r.jsx(Oe,{variant:h.status==="error"?"destructive":"default",children:r.jsxs(Fe,{children:[r.jsxs("span",{className:"font-medium",children:[h.test,":"]})," ",r.jsx("span",{className:h.status==="success"?"text-green-600":h.status==="error"?"text-red-600":"text-yellow-600",children:h.status==="success"?"":h.status==="error"?"":""})," ",h.message]})},f))]}),a.length>0&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("h3",{className:"font-semibold",children:"Database Diagnostics:"}),r.jsx("div",{className:"bg-gray-50 p-4 rounded-lg max-h-96 overflow-y-auto",children:a.map((h,f)=>r.jsx("div",{className:"text-sm font-mono mb-2 whitespace-pre-wrap",children:h},f))})]})]})]}),r.jsxs(H,{children:[r.jsxs(Z,{children:[r.jsx(ee,{children:" Migration Checklist"}),r.jsx(he,{children:"Steps to complete the migration"})]}),r.jsx(Q,{children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Install Supabase dependencies"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Create Supabase configuration"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Set up migration adapter"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Run database schema in Supabase"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Seed initial data"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Test existing functionality"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Migrate data from EzSite (if needed)"})]})]})})]}),r.jsxs(H,{children:[r.jsx(Z,{children:r.jsx(ee,{children:" Next Steps"})}),r.jsx(Q,{children:r.jsxs("ol",{className:"list-decimal list-inside space-y-2",children:[r.jsx("li",{children:"Go to your Supabase dashboard"}),r.jsxs("li",{children:["Run the SQL schema from ",r.jsx("code",{children:"supabase-schema.sql"})]}),r.jsx("li",{children:"Come back and run the tests above"}),r.jsx("li",{children:'Use the "Seed Database" button to add initial data'}),r.jsx("li",{children:"Test your existing app functionality"}),r.jsx("li",{children:"Gradually replace adapter calls with direct Supabase calls"})]})})]})]})},qB=()=>{const[e,t]=m.useState(""),[n,s]=m.useState(!1),a=async()=>{s(!0),t(`Testing database connection...
`);try{t(f=>f+`1. Testing basic connection...
`);const{data:i}=await tt.auth.getUser();t(f=>{var g;return f+`   User: ${((g=i==null?void 0:i.user)==null?void 0:g.id)||"Anonymous"}
`}),t(f=>f+`2. Testing SELECT on matchups...
`);const o=await ie.getMatchups({limit:1});if(o.error){t(f=>f+`    SELECT failed: ${o.error.message}
`);return}if(t(f=>{var g;return f+`    SELECT successful: ${((g=o.data)==null?void 0:g.length)||0} records
`}),!o.data||o.data.length===0){t(f=>f+`   No matchups found to test update
`);return}const l=o.data[0];t(f=>f+`3. Testing UPDATE on matchup ${l.id}...
`);const c={manual_override:!l.manual_override,notes:`Test update at ${new Date().toISOString()}`};t(f=>f+`   Updating with: ${JSON.stringify(c)}
`);const d=await ie.updateMatchup(l.id,c);d.error?(t(f=>f+`    UPDATE failed: ${d.error.message}
`),t(f=>f+`   Error code: ${d.error.code}
`),t(f=>f+`   Error details: ${d.error.details||"None"}
`),t(f=>f+`   Error hint: ${d.error.hint||"None"}
`)):(t(f=>f+`    UPDATE successful
`),t(f=>f+`   Updated record: ${JSON.stringify(d.data)}
`)),t(f=>f+`4. Checking RLS policies...
`);const{data:u,error:h}=await tt.from("pg_policies").select("*").eq("tablename","matchups");t(h?f=>f+`   Cannot check RLS policies (this is normal): ${h.message}
`:f=>f+`   Found ${(u==null?void 0:u.length)||0} RLS policies
`)}catch(i){t(o=>o+` Exception: ${i.message}
`)}finally{s(!1)}};return r.jsxs(H,{className:"w-full max-w-2xl",children:[r.jsx(Z,{children:r.jsx(ee,{children:"Database Connection Test"})}),r.jsxs(Q,{className:"space-y-4",children:[r.jsx(se,{onClick:a,disabled:n,children:n?"Testing...":"Test Database Update"}),e&&r.jsx("div",{className:"bg-gray-100 p-4 rounded font-mono text-sm whitespace-pre-wrap",children:e})]})]})},KB=()=>{const[e,t]=m.useState(""),[n,s]=m.useState(!1),[a,i]=m.useState([]),o=async()=>{s(!0),t(`Testing RLS policies...
`);try{t(y=>y+`1. Checking RLS status...
`);const{data:c,error:d}=await tt.from("information_schema.tables").select("*").eq("table_name","matchups").eq("table_schema","public");t(d?y=>y+`    Cannot check table info: ${d.message}
`:y=>y+`    Table info retrieved
`),t(y=>y+`2. Checking existing policies...
`);const{data:u,error:h}=await tt.from("pg_policies").select("*").eq("tablename","matchups");h?t(y=>y+`    Cannot list policies (normal for anon): ${h.message}
`):(i(u||[]),t(y=>y+`    Found ${(u==null?void 0:u.length)||0} policies
`)),t(y=>y+`3. Testing UPDATE operation...
`);const{data:f,error:g}=await tt.from("matchups").select("*").limit(1);if(g||!(f!=null&&f.length)){t(y=>y+`    Cannot get test matchup: ${g==null?void 0:g.message}
`);return}const j=f[0];t(y=>y+`    Testing with matchup ID: ${j.id}
`);const v={notes:`RLS test update at ${new Date().toISOString()}`},{data:w,error:p}=await tt.from("matchups").update(v).eq("id",j.id).select();p?(t(y=>y+`    UPDATE failed: ${p.message}
`),t(y=>y+`   Error code: ${p.code}
`),t(y=>y+`   Error details: ${p.details||"None"}
`),t(y=>y+`   Error hint: ${p.hint||"None"}
`),p.code==="PGRST116"&&(t(y=>y+`
    ANALYSIS: This is an RLS policy issue!
`),t(y=>y+`   The update is being blocked by Row Level Security.
`),t(y=>y+`   Solution: Create/update RLS policies for anonymous access.
`))):t(y=>y+`    UPDATE successful: ${(w==null?void 0:w.length)||0} rows affected
`),t(y=>y+`4. Checking authentication context...
`);const{data:{user:x}}=await tt.auth.getUser();t(y=>y+`   User ID: ${(x==null?void 0:x.id)||"Anonymous"}
`),t(y=>y+`   User role: ${(x==null?void 0:x.role)||"anon"}
`)}catch(c){t(d=>d+` Exception: ${c.message}
`)}finally{s(!1)}},l=()=>`
-- SQL to run in Supabase SQL Editor to fix RLS policies:

-- Enable RLS on matchups table
ALTER TABLE matchups ENABLE ROW LEVEL SECURITY;

-- Create policy for anonymous read access
CREATE POLICY "Allow anonymous read access to matchups" 
ON matchups FOR SELECT 
TO anon 
USING (true);

-- Create policy for anonymous update access
CREATE POLICY "Allow anonymous update access to matchups" 
ON matchups FOR UPDATE 
TO anon 
USING (true) 
WITH CHECK (true);

-- Create policy for anonymous insert access
CREATE POLICY "Allow anonymous insert access to matchups" 
ON matchups FOR INSERT 
TO anon 
WITH CHECK (true);

-- Verify policies were created
SELECT * FROM pg_policies WHERE tablename = 'matchups';
    `.trim();return r.jsxs("div",{className:"space-y-6",children:[r.jsxs(H,{children:[r.jsx(Z,{children:r.jsxs(ee,{className:"flex items-center gap-2",children:[r.jsx(ur,{className:"h-5 w-5"}),"RLS Policy Manager"]})}),r.jsxs(Q,{className:"space-y-4",children:[r.jsx("div",{className:"flex gap-2",children:r.jsx(se,{onClick:o,disabled:n,children:n?"Testing...":"Test RLS Policies"})}),e&&r.jsx("div",{className:"bg-gray-100 p-4 rounded font-mono text-sm whitespace-pre-wrap",children:e})]})]}),r.jsxs(H,{children:[r.jsx(Z,{children:r.jsxs(ee,{className:"flex items-center gap-2",children:[r.jsx(Er,{className:"h-5 w-5"}),"RLS Policy Fix"]})}),r.jsxs(Q,{children:[r.jsxs(Oe,{children:[r.jsx(Ml,{className:"h-4 w-4"}),r.jsxs(Fe,{children:[r.jsx("strong",{children:"To fix the RLS policy issue:"}),r.jsxs("ol",{className:"list-decimal list-inside mt-2 space-y-1",children:[r.jsx("li",{children:"Go to your Supabase dashboard"}),r.jsx("li",{children:"Navigate to SQL Editor"}),r.jsx("li",{children:"Copy and paste the SQL code below"}),r.jsx("li",{children:"Run the query"}),r.jsx("li",{children:"Test the update functionality again"})]})]})]}),r.jsx("div",{className:"mt-4",children:r.jsx("div",{className:"bg-gray-900 text-green-400 p-4 rounded font-mono text-sm whitespace-pre-wrap overflow-x-auto",children:l()})})]})]}),a.length>0&&r.jsxs(H,{children:[r.jsx(Z,{children:r.jsx(ee,{children:"Existing Policies"})}),r.jsx(Q,{children:r.jsx("div",{className:"space-y-2",children:a.map((c,d)=>r.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[r.jsxs("div",{children:[r.jsx(te,{variant:"outline",children:c.policyname}),r.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:[c.cmd," for ",c.roles]})]}),r.jsx(Pn,{className:"h-4 w-4 text-green-500"})]},d))})})]})]})},GB=()=>{const[e,t]=m.useState(!1),[n,s]=m.useState(""),[a,i]=m.useState(""),[o,l]=m.useState(null),[c,d]=m.useState(!0),{toast:u}=en(),h="gladleague2025";m.useEffect(()=>{const j=sessionStorage.getItem("admin_authenticated"),v=sessionStorage.getItem("admin_login_time");if(j==="true"&&v){const w=new Date(v);(new Date().getTime()-w.getTime())/(1e3*60*60)<8?(t(!0),l(localStorage.getItem("admin_last_login"))):(sessionStorage.removeItem("admin_authenticated"),sessionStorage.removeItem("admin_login_time"))}d(!1)},[]);const f=j=>{if(j.preventDefault(),n===h){const v=new Date;t(!0),i(""),sessionStorage.setItem("admin_authenticated","true"),sessionStorage.setItem("admin_login_time",v.toISOString()),localStorage.setItem("admin_last_login",v.toLocaleString()),l(v.toLocaleString()),u({title:"Admin Access Granted",description:"Welcome to the admin panel"})}else i("Invalid password"),u({title:"Access Denied",description:"Invalid admin password",variant:"destructive"})},g=()=>{t(!1),s(""),sessionStorage.removeItem("admin_authenticated"),sessionStorage.removeItem("admin_login_time"),u({title:"Logged Out",description:"Admin session ended"})};return c?r.jsx("div",{className:"container mx-auto px-4 py-8","data-id":"ao89vvru5",children:r.jsx("div",{className:"flex items-center justify-center min-h-[400px]","data-id":"pml7mynqn",children:r.jsx("div",{className:"animate-spin h-8 w-8 border-b-2 border-blue-600 rounded-full","data-id":"10jeltn5k"})})}):e?r.jsxs("div",{className:"container mx-auto px-4 py-8","data-id":"zucmgzvwq",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8","data-id":"lro5ngqd4",children:[r.jsxs("div",{"data-id":"noo7qh20h",children:[r.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3","data-id":"fmj1jcz8o",children:[r.jsx(Iu,{className:"h-8 w-8 text-blue-600","data-id":"bdjtdbfnt"}),"Admin Panel"]}),r.jsx("p",{className:"text-muted-foreground mt-2","data-id":"amn1082i4",children:"Manage leagues, sync data, and perform administrative tasks"})]}),r.jsxs("div",{className:"flex items-center gap-4","data-id":"nw6oaovvh",children:[o&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground","data-id":"1kqkbfoj2",children:[r.jsx(Qn,{className:"h-4 w-4","data-id":"u85cv9ybo"}),"Last login: ",o]}),r.jsxs(te,{variant:"secondary",className:"flex items-center gap-1","data-id":"u49kieuap",children:[r.jsx(Us,{className:"h-3 w-3","data-id":"fzemdjhv1"}),"Admin Active"]}),r.jsx(se,{variant:"outline",onClick:g,"data-id":"ssqzxi57s",children:"Logout"})]})]}),r.jsxs(yr,{defaultValue:"supabase-migration",className:"space-y-6","data-id":"ojttqdptv",children:[r.jsxs(Ys,{className:"grid w-full grid-cols-8","data-id":"55g8xnp5m",children:[r.jsxs(Ne,{value:"debug",className:"flex items-center gap-2","data-id":"debug-tab",children:[r.jsx(tD,{className:"h-4 w-4"}),"Debug"]}),r.jsxs(Ne,{value:"supabase-migration",className:"flex items-center gap-2","data-id":"supabase-tab",children:[r.jsx(HD,{className:"h-4 w-4","data-id":"rocket-icon"}),"Migration"]}),r.jsxs(Ne,{value:"league-manager",className:"flex items-center gap-2","data-id":"mudt4s949",children:[r.jsx(Iu,{className:"h-4 w-4","data-id":"vq59l6i0o"}),"League Manager"]}),r.jsxs(Ne,{value:"data-sync",className:"flex items-center gap-2","data-id":"x1ln07h9l",children:[r.jsx(Er,{className:"h-4 w-4","data-id":"gwzxvoplp"}),"Data Sync"]}),r.jsxs(Ne,{value:"matchups-management",className:"flex items-center gap-2","data-id":"kq8s7gvio",children:[r.jsx(Zn,{className:"h-4 w-4","data-id":"930hxto7y"}),"Matchups & Overrides"]}),r.jsxs(Ne,{value:"records-management",className:"flex items-center gap-2","data-id":"fy9seefhn",children:[r.jsx(Us,{className:"h-4 w-4","data-id":"vrxjwjjwo"}),"Records"]}),r.jsxs(Ne,{value:"auto-sync",className:"flex items-center gap-2","data-id":"ufa49dbo7",children:[r.jsx(ZA,{className:"h-4 w-4","data-id":"xv3rcuk8d"}),"Auto-Sync"]}),r.jsxs(Ne,{value:"data-integrity",className:"flex items-center gap-2","data-id":"n4yd9gt3j",children:[r.jsx(ur,{className:"h-4 w-4","data-id":"dp35svc9k"}),"Data Integrity"]})]}),r.jsx(Ce,{value:"debug","data-id":"debug-content",children:r.jsxs("div",{className:"space-y-6",children:[r.jsx(qB,{}),r.jsx(KB,{})]})}),r.jsx(Ce,{value:"supabase-migration","data-id":"supabase-content",children:r.jsx(HB,{"data-id":"migration-test"})}),r.jsx(Ce,{value:"league-manager","data-id":"9y7vx68ag",children:r.jsx(D6,{"data-id":"jqk7s5yut"})}),r.jsx(Ce,{value:"data-sync","data-id":"mbmsyjmjw",children:r.jsx(O6,{"data-id":"r02lgxd37"})}),r.jsx(Ce,{value:"matchups-management","data-id":"2im6bg2ok",children:r.jsx(DB,{"data-id":"ddqsho0df"})}),r.jsx(Ce,{value:"records-management","data-id":"wcqins10e",children:r.jsx(IB,{"data-id":"yxx2l3zcf"})}),r.jsx(Ce,{value:"auto-sync","data-id":"cr5xmlzdc",children:r.jsx(zB,{"data-id":"5st9c4lq3"})}),r.jsx(Ce,{value:"data-integrity","data-id":"l5rwhkbkk",children:r.jsx(WB,{"data-id":"eabmrs4t6"})})]})]}):r.jsx("div",{className:"container mx-auto px-4 py-8","data-id":"sep77enuq",children:r.jsx("div",{className:"max-w-md mx-auto","data-id":"qkcxfcevx",children:r.jsxs(H,{"data-id":"7bka3yyd5",children:[r.jsxs(Z,{className:"text-center","data-id":"alhddkb9x",children:[r.jsx("div",{className:"flex justify-center mb-4","data-id":"20czuz7s8",children:r.jsx(ur,{className:"h-12 w-12 text-blue-600","data-id":"uj6wfwcyd"})}),r.jsxs(ee,{className:"flex items-center gap-2 justify-center","data-id":"easa7srw9",children:[r.jsx(RD,{className:"h-5 w-5","data-id":"srgo1x52n"}),"Admin Access Required"]}),r.jsx(he,{"data-id":"dw6h33z8z",children:"Enter the admin password to access the admin panel"})]}),r.jsx(Q,{"data-id":"p54cgo0pa",children:r.jsxs("form",{onSubmit:f,className:"space-y-4","data-id":"nu7k5xnra",children:[r.jsxs("div",{className:"space-y-2","data-id":"rtr62f4xb",children:[r.jsx(ft,{htmlFor:"password","data-id":"nell7jvlm",children:"Admin Password"}),r.jsx(Jt,{id:"password",type:"password",value:n,onChange:j=>s(j.target.value),placeholder:"Enter admin password",className:"w-full","data-id":"hjlpnn2yv"})]}),a&&r.jsx(Oe,{variant:"destructive","data-id":"4zu7gxwp4",children:r.jsx(Fe,{"data-id":"js05q0hn6",children:a})}),r.jsx(se,{type:"submit",className:"w-full","data-id":"tthln8jfy",children:"Access Admin Panel"})]})})]})})})},UT=m.createContext({});function QB(e){const t=m.useRef(null);return t.current===null&&(t.current=e()),t.current}const kv=typeof window<"u",YB=kv?m.useLayoutEffect:m.useEffect,Pv=m.createContext(null);function Rv(e,t){e.indexOf(t)===-1&&e.push(t)}function Av(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Fr=(e,t,n)=>n>t?t:n<e?e:n;let Dv=()=>{};const Ur={},BT=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function zT(e){return typeof e=="object"&&e!==null}const VT=e=>/^0[^.\s]+$/u.test(e);function $v(e){let t;return()=>(t===void 0&&(t=e()),t)}const bs=e=>e,JB=(e,t)=>n=>t(e(n)),Xc=(...e)=>e.reduce(JB),Sc=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class Iv{constructor(){this.subscriptions=[]}add(t){return Rv(this.subscriptions,t),()=>Av(this.subscriptions,t)}notify(t,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,s);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const fr=e=>e*1e3,mr=e=>e/1e3;function WT(e,t){return t?e*(1e3/t):0}const HT=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,XB=1e-7,ZB=12;function ez(e,t,n,s,a){let i,o,l=0;do o=t+(n-t)/2,i=HT(o,s,a)-e,i>0?n=o:t=o;while(Math.abs(i)>XB&&++l<ZB);return o}function Zc(e,t,n,s){if(e===t&&n===s)return bs;const a=i=>ez(i,0,1,e,n);return i=>i===0||i===1?i:HT(a(i),t,s)}const qT=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,KT=e=>t=>1-e(1-t),GT=Zc(.33,1.53,.69,.99),Mv=KT(GT),QT=qT(Mv),YT=e=>(e*=2)<1?.5*Mv(e):.5*(2-Math.pow(2,-10*(e-1))),Lv=e=>1-Math.sin(Math.acos(e)),JT=KT(Lv),XT=qT(Lv),tz=Zc(.42,0,1,1),nz=Zc(0,0,.58,1),ZT=Zc(.42,0,.58,1),sz=e=>Array.isArray(e)&&typeof e[0]!="number",ek=e=>Array.isArray(e)&&typeof e[0]=="number",rz={linear:bs,easeIn:tz,easeInOut:ZT,easeOut:nz,circIn:Lv,circInOut:XT,circOut:JT,backIn:Mv,backInOut:QT,backOut:GT,anticipate:YT},az=e=>typeof e=="string",J0=e=>{if(ek(e)){Dv(e.length===4);const[t,n,s,a]=e;return Zc(t,n,s,a)}else if(az(e))return rz[e];return e},Ld=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function iz(e,t){let n=new Set,s=new Set,a=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(u){o.has(u)&&(d.schedule(u),e()),u(l)}const d={schedule:(u,h=!1,f=!1)=>{const j=f&&a?n:s;return h&&o.add(u),j.has(u)||j.add(u),u},cancel:u=>{s.delete(u),o.delete(u)},process:u=>{if(l=u,a){i=!0;return}a=!0,[n,s]=[s,n],n.forEach(c),n.clear(),a=!1,i&&(i=!1,d.process(u))}};return d}const oz=40;function tk(e,t){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Ld.reduce((y,b)=>(y[b]=iz(i),y),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:u,update:h,preRender:f,render:g,postRender:j}=o,v=()=>{const y=Ur.useManualTiming?a.timestamp:performance.now();n=!1,Ur.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(y-a.timestamp,oz),1)),a.timestamp=y,a.isProcessing=!0,l.process(a),c.process(a),d.process(a),u.process(a),h.process(a),f.process(a),g.process(a),j.process(a),a.isProcessing=!1,n&&t&&(s=!1,e(v))},w=()=>{n=!0,s=!0,a.isProcessing||e(v)};return{schedule:Ld.reduce((y,b)=>{const _=o[b];return y[b]=(E,C=!1,N=!1)=>(n||w(),_.schedule(E,C,N)),y},{}),cancel:y=>{for(let b=0;b<Ld.length;b++)o[Ld[b]].cancel(y)},state:a,steps:o}}const{schedule:ut,cancel:ka,state:cn,steps:wm}=tk(typeof requestAnimationFrame<"u"?requestAnimationFrame:bs,!0);let iu;function lz(){iu=void 0}const Wn={now:()=>(iu===void 0&&Wn.set(cn.isProcessing||Ur.useManualTiming?cn.timestamp:performance.now()),iu),set:e=>{iu=e,queueMicrotask(lz)}},nk=e=>t=>typeof t=="string"&&t.startsWith(e),Ov=nk("--"),cz=nk("var(--"),Fv=e=>cz(e)?dz.test(e.split("/*")[0].trim()):!1,dz=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Zo={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Nc={...Zo,transform:e=>Fr(0,1,e)},Od={...Zo,default:1},Vl=e=>Math.round(e*1e5)/1e5,Uv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function uz(e){return e==null}const hz=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Bv=(e,t)=>n=>!!(typeof n=="string"&&hz.test(n)&&n.startsWith(e)||t&&!uz(n)&&Object.prototype.hasOwnProperty.call(n,t)),sk=(e,t,n)=>s=>{if(typeof s!="string")return s;const[a,i,o,l]=s.match(Uv);return{[e]:parseFloat(a),[t]:parseFloat(i),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},fz=e=>Fr(0,255,e),jm={...Zo,transform:e=>Math.round(fz(e))},ti={test:Bv("rgb","red"),parse:sk("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+jm.transform(e)+", "+jm.transform(t)+", "+jm.transform(n)+", "+Vl(Nc.transform(s))+")"};function mz(e){let t="",n="",s="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,s+=s,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const dg={test:Bv("#"),parse:mz,transform:ti.transform},ed=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Jr=ed("deg"),pr=ed("%"),je=ed("px"),pz=ed("vh"),gz=ed("vw"),X0={...pr,parse:e=>pr.parse(e)/100,transform:e=>pr.transform(e*100)},eo={test:Bv("hsl","hue"),parse:sk("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+pr.transform(Vl(t))+", "+pr.transform(Vl(n))+", "+Vl(Nc.transform(s))+")"},At={test:e=>ti.test(e)||dg.test(e)||eo.test(e),parse:e=>ti.test(e)?ti.parse(e):eo.test(e)?eo.parse(e):dg.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ti.transform(e):eo.transform(e),getAnimatableNone:e=>{const t=At.parse(e);return t.alpha=0,At.transform(t)}},xz=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function vz(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Uv))==null?void 0:t.length)||0)+(((n=e.match(xz))==null?void 0:n.length)||0)>0}const rk="number",ak="color",yz="var",wz="var(",Z0="${}",jz=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Cc(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},a=[];let i=0;const l=t.replace(jz,c=>(At.test(c)?(s.color.push(i),a.push(ak),n.push(At.parse(c))):c.startsWith(wz)?(s.var.push(i),a.push(yz),n.push(c)):(s.number.push(i),a.push(rk),n.push(parseFloat(c))),++i,Z0)).split(Z0);return{values:n,split:l,indexes:s,types:a}}function ik(e){return Cc(e).values}function ok(e){const{split:t,types:n}=Cc(e),s=t.length;return a=>{let i="";for(let o=0;o<s;o++)if(i+=t[o],a[o]!==void 0){const l=n[o];l===rk?i+=Vl(a[o]):l===ak?i+=At.transform(a[o]):i+=a[o]}return i}}const bz=e=>typeof e=="number"?0:At.test(e)?At.getAnimatableNone(e):e;function _z(e){const t=ik(e);return ok(e)(t.map(bz))}const Pa={test:vz,parse:ik,createTransformer:ok,getAnimatableNone:_z};function bm(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Sz({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let a=0,i=0,o=0;if(!t)a=i=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;a=bm(c,l,e+1/3),i=bm(c,l,e),o=bm(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:s}}function sh(e,t){return n=>n>0?t:e}const pt=(e,t,n)=>e+(t-e)*n,_m=(e,t,n)=>{const s=e*e,a=n*(t*t-s)+s;return a<0?0:Math.sqrt(a)},Nz=[dg,ti,eo],Cz=e=>Nz.find(t=>t.test(e));function ej(e){const t=Cz(e);if(!t)return!1;let n=t.parse(e);return t===eo&&(n=Sz(n)),n}const tj=(e,t)=>{const n=ej(e),s=ej(t);if(!n||!s)return sh(e,t);const a={...n};return i=>(a.red=_m(n.red,s.red,i),a.green=_m(n.green,s.green,i),a.blue=_m(n.blue,s.blue,i),a.alpha=pt(n.alpha,s.alpha,i),ti.transform(a))},ug=new Set(["none","hidden"]);function Ez(e,t){return ug.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function Tz(e,t){return n=>pt(e,t,n)}function zv(e){return typeof e=="number"?Tz:typeof e=="string"?Fv(e)?sh:At.test(e)?tj:Rz:Array.isArray(e)?lk:typeof e=="object"?At.test(e)?tj:kz:sh}function lk(e,t){const n=[...e],s=n.length,a=e.map((i,o)=>zv(i)(i,t[o]));return i=>{for(let o=0;o<s;o++)n[o]=a[o](i);return n}}function kz(e,t){const n={...e,...t},s={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(s[a]=zv(e[a])(e[a],t[a]));return a=>{for(const i in s)n[i]=s[i](a);return n}}function Pz(e,t){const n=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],o=e.indexes[i][s[i]],l=e.values[o]??0;n[a]=l,s[i]++}return n}const Rz=(e,t)=>{const n=Pa.createTransformer(t),s=Cc(e),a=Cc(t);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?ug.has(e)&&!a.values.length||ug.has(t)&&!s.values.length?Ez(e,t):Xc(lk(Pz(s,a),a.values),n):sh(e,t)};function ck(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?pt(e,t,n):zv(e)(e,t)}const Az=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>ut.update(t,n),stop:()=>ka(t),now:()=>cn.isProcessing?cn.timestamp:Wn.now()}},dk=(e,t,n=10)=>{let s="";const a=Math.max(Math.round(t/n),2);for(let i=0;i<a;i++)s+=Math.round(e(i/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},rh=2e4;function Vv(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<rh;)t+=n,s=e.next(t);return t>=rh?1/0:t}function Dz(e,t=100,n){const s=n({...e,keyframes:[0,t]}),a=Math.min(Vv(s),rh);return{type:"keyframes",ease:i=>s.next(a*i).value/t,duration:mr(a)}}const $z=5;function uk(e,t,n){const s=Math.max(t-$z,0);return WT(n-e(s),t-s)}const _t={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Sm=.001;function Iz({duration:e=_t.duration,bounce:t=_t.bounce,velocity:n=_t.velocity,mass:s=_t.mass}){let a,i,o=1-t;o=Fr(_t.minDamping,_t.maxDamping,o),e=Fr(_t.minDuration,_t.maxDuration,mr(e)),o<1?(a=d=>{const u=d*o,h=u*e,f=u-n,g=hg(d,o),j=Math.exp(-h);return Sm-f/g*j},i=d=>{const h=d*o*e,f=h*n+n,g=Math.pow(o,2)*Math.pow(d,2)*e,j=Math.exp(-h),v=hg(Math.pow(d,2),o);return(-a(d)+Sm>0?-1:1)*((f-g)*j)/v}):(a=d=>{const u=Math.exp(-d*e),h=(d-n)*e+1;return-Sm+u*h},i=d=>{const u=Math.exp(-d*e),h=(n-d)*(e*e);return u*h});const l=5/e,c=Lz(a,i,l);if(e=fr(e),isNaN(c))return{stiffness:_t.stiffness,damping:_t.damping,duration:e};{const d=Math.pow(c,2)*s;return{stiffness:d,damping:o*2*Math.sqrt(s*d),duration:e}}}const Mz=12;function Lz(e,t,n){let s=n;for(let a=1;a<Mz;a++)s=s-e(s)/t(s);return s}function hg(e,t){return e*Math.sqrt(1-t*t)}const Oz=["duration","bounce"],Fz=["stiffness","damping","mass"];function nj(e,t){return t.some(n=>e[n]!==void 0)}function Uz(e){let t={velocity:_t.velocity,stiffness:_t.stiffness,damping:_t.damping,mass:_t.mass,isResolvedFromDuration:!1,...e};if(!nj(e,Fz)&&nj(e,Oz))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,i=2*Fr(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:_t.mass,stiffness:a,damping:i}}else{const n=Iz(e);t={...t,...n,mass:_t.mass},t.isResolvedFromDuration=!0}return t}function ah(e=_t.visualDuration,t=_t.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:a}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:d,mass:u,duration:h,velocity:f,isResolvedFromDuration:g}=Uz({...n,velocity:-mr(n.velocity||0)}),j=f||0,v=d/(2*Math.sqrt(c*u)),w=o-i,p=mr(Math.sqrt(c/u)),x=Math.abs(w)<5;s||(s=x?_t.restSpeed.granular:_t.restSpeed.default),a||(a=x?_t.restDelta.granular:_t.restDelta.default);let y;if(v<1){const _=hg(p,v);y=E=>{const C=Math.exp(-v*p*E);return o-C*((j+v*p*w)/_*Math.sin(_*E)+w*Math.cos(_*E))}}else if(v===1)y=_=>o-Math.exp(-p*_)*(w+(j+p*w)*_);else{const _=p*Math.sqrt(v*v-1);y=E=>{const C=Math.exp(-v*p*E),N=Math.min(_*E,300);return o-C*((j+v*p*w)*Math.sinh(N)+_*w*Math.cosh(N))/_}}const b={calculatedDuration:g&&h||null,next:_=>{const E=y(_);if(g)l.done=_>=h;else{let C=_===0?j:0;v<1&&(C=_===0?fr(j):uk(y,_,E));const N=Math.abs(C)<=s,k=Math.abs(o-E)<=a;l.done=N&&k}return l.value=l.done?o:E,l},toString:()=>{const _=Math.min(Vv(b),rh),E=dk(C=>b.next(_*C).value,_,30);return _+"ms "+E},toTransition:()=>{}};return b}ah.applyToOptions=e=>{const t=Dz(e,100,ah);return e.ease=t.ease,e.duration=fr(t.duration),e.type="keyframes",e};function fg({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const h=e[0],f={done:!1,value:h},g=N=>l!==void 0&&N<l||c!==void 0&&N>c,j=N=>l===void 0?c:c===void 0||Math.abs(l-N)<Math.abs(c-N)?l:c;let v=n*t;const w=h+v,p=o===void 0?w:o(w);p!==w&&(v=p-h);const x=N=>-v*Math.exp(-N/s),y=N=>p+x(N),b=N=>{const k=x(N),R=y(N);f.done=Math.abs(k)<=d,f.value=f.done?p:R};let _,E;const C=N=>{g(f.value)&&(_=N,E=ah({keyframes:[f.value,j(f.value)],velocity:uk(y,N,f.value),damping:a,stiffness:i,restDelta:d,restSpeed:u}))};return C(0),{calculatedDuration:null,next:N=>{let k=!1;return!E&&_===void 0&&(k=!0,b(N),C(N)),_!==void 0&&N>=_?E.next(N-_):(!k&&b(N),f)}}}function Bz(e,t,n){const s=[],a=n||Ur.mix||ck,i=e.length-1;for(let o=0;o<i;o++){let l=a(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||bs:t;l=Xc(c,l)}s.push(l)}return s}function zz(e,t,{clamp:n=!0,ease:s,mixer:a}={}){const i=e.length;if(Dv(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=Bz(t,s,a),c=l.length,d=u=>{if(o&&u<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(u<e[h+1]);h++);const f=Sc(e[h],e[h+1],u);return l[h](f)};return n?u=>d(Fr(e[0],e[i-1],u)):d}function Vz(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const a=Sc(0,t,s);e.push(pt(n,1,a))}}function Wz(e){const t=[0];return Vz(t,e.length-1),t}function Hz(e,t){return e.map(n=>n*t)}function qz(e,t){return e.map(()=>t||ZT).splice(0,e.length-1)}function Wl({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const a=sz(s)?s.map(J0):J0(s),i={done:!1,value:t[0]},o=Hz(n&&n.length===t.length?n:Wz(t),e),l=zz(o,t,{ease:Array.isArray(a)?a:qz(t,a)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const Kz=e=>e!==null;function Wv(e,{repeat:t,repeatType:n="loop"},s,a=1){const i=e.filter(Kz),l=a<0||t&&n!=="loop"&&t%2===1?0:i.length-1;return!l||s===void 0?i[l]:s}const Gz={decay:fg,inertia:fg,tween:Wl,keyframes:Wl,spring:ah};function hk(e){typeof e.type=="string"&&(e.type=Gz[e.type])}class Hv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const Qz=e=>e/100;class qv extends Hv{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,a;const{motionValue:n}=this.options;n&&n.updatedAt!==Wn.now()&&this.tick(Wn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(s=this.options).onStop)==null||a.call(s))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;hk(t);const{type:n=Wl,repeat:s=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=t;let{keyframes:l}=t;const c=n||Wl;c!==Wl&&typeof l[0]!="number"&&(this.mixKeyframes=Xc(Qz,ck(l[0],l[1])),l=[0,100]);const d=c({...t,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=Vv(d));const{calculatedDuration:u}=d;this.calculatedDuration=u,this.resolvedDuration=u+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=d}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:a,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return s.next(0);const{delay:d=0,keyframes:u,repeat:h,repeatType:f,repeatDelay:g,type:j,onUpdate:v,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const p=this.currentTime-d*(this.playbackSpeed>=0?1:-1),x=this.playbackSpeed>=0?p<0:p>a;this.currentTime=Math.max(p,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let y=this.currentTime,b=s;if(h){const N=Math.min(this.currentTime,a)/l;let k=Math.floor(N),R=N%1;!R&&N>=1&&(R=1),R===1&&k--,k=Math.min(k,h+1),!!(k%2)&&(f==="reverse"?(R=1-R,g&&(R-=g/l)):f==="mirror"&&(b=o)),y=Fr(0,1,R)*l}const _=x?{done:!1,value:u[0]}:b.next(y);i&&(_.value=i(_.value));let{done:E}=_;!x&&c!==null&&(E=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return C&&j!==fg&&(_.value=Wv(u,this.options,w,this.speed)),v&&v(_.value),C&&this.finish(),_}then(t,n){return this.finished.then(t,n)}get duration(){return mr(this.calculatedDuration)}get time(){return mr(this.currentTime)}set time(t){var n;t=fr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Wn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=mr(this.currentTime))}play(){var a,i;if(this.isStopped)return;const{driver:t=Az,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(a=this.options).onPlay)==null||i.call(a);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Wn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function Yz(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ni=e=>e*180/Math.PI,mg=e=>{const t=ni(Math.atan2(e[1],e[0]));return pg(t)},Jz={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:mg,rotateZ:mg,skewX:e=>ni(Math.atan(e[1])),skewY:e=>ni(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},pg=e=>(e=e%360,e<0&&(e+=360),e),sj=mg,rj=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),aj=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Xz={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:rj,scaleY:aj,scale:e=>(rj(e)+aj(e))/2,rotateX:e=>pg(ni(Math.atan2(e[6],e[5]))),rotateY:e=>pg(ni(Math.atan2(-e[2],e[0]))),rotateZ:sj,rotate:sj,skewX:e=>ni(Math.atan(e[4])),skewY:e=>ni(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function gg(e){return e.includes("scale")?1:0}function xg(e,t){if(!e||e==="none")return gg(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=Xz,a=n;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=Jz,a=l}if(!a)return gg(t);const i=s[t],o=a[1].split(",").map(eV);return typeof i=="function"?i(o):o[i]}const Zz=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return xg(n,t)};function eV(e){return parseFloat(e.trim())}const el=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],tl=new Set(el),ij=e=>e===Zo||e===je,tV=new Set(["x","y","z"]),nV=el.filter(e=>!tV.has(e));function sV(e){const t=[];return nV.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const ui={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>xg(t,"x"),y:(e,{transform:t})=>xg(t,"y")};ui.translateX=ui.x;ui.translateY=ui.y;const hi=new Set;let vg=!1,yg=!1,wg=!1;function fk(){if(yg){const e=Array.from(hi).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const a=sV(s);a.length&&(n.set(s,a),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([i,o])=>{var l;(l=s.getValue(i))==null||l.set(o)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}yg=!1,vg=!1,hi.forEach(e=>e.complete(wg)),hi.clear()}function mk(){hi.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(yg=!0)})}function rV(){wg=!0,mk(),fk(),wg=!1}class Kv{constructor(t,n,s,a,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(hi.add(this),vg||(vg=!0,ut.read(mk),ut.resolveKeyframes(fk))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:a}=this;if(t[0]===null){const i=a==null?void 0:a.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(s&&n){const l=s.readValue(n,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),a&&i===void 0&&a.set(t[0])}Yz(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),hi.delete(this)}cancel(){this.state==="scheduled"&&(hi.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const aV=e=>e.startsWith("--");function iV(e,t,n){aV(t)?e.style.setProperty(t,n):e.style[t]=n}const oV=$v(()=>window.ScrollTimeline!==void 0),lV={};function cV(e,t){const n=$v(e);return()=>lV[t]??n()}const pk=cV(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Sl=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,oj={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Sl([0,.65,.55,1]),circOut:Sl([.55,0,1,.45]),backIn:Sl([.31,.01,.66,-.59]),backOut:Sl([.33,1.53,.69,.99])};function gk(e,t){if(e)return typeof e=="function"?pk()?dk(e,t):"ease-out":ek(e)?Sl(e):Array.isArray(e)?e.map(n=>gk(n,t)||oj.easeOut):oj[e]}function dV(e,t,n,{delay:s=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const u={[t]:n};c&&(u.offset=c);const h=gk(l,a);Array.isArray(h)&&(u.easing=h);const f={delay:s,duration:a,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return d&&(f.pseudoElement=d),e.animate(u,f)}function xk(e){return typeof e=="function"&&"applyToOptions"in e}function uV({type:e,...t}){return xk(e)&&pk()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class hV extends Hv{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:s,keyframes:a,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,Dv(typeof t.type!="string");const d=uV(t);this.animation=dV(n,s,a,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=Wv(a,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(u):iV(n,s,u),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,s;const t=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return mr(Number(t))}get time(){return mr(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=fr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&oV()?(this.animation.timeline=t,bs):n(this)}}const vk={anticipate:YT,backInOut:QT,circInOut:XT};function fV(e){return e in vk}function mV(e){typeof e.ease=="string"&&fV(e.ease)&&(e.ease=vk[e.ease])}const lj=10;class pV extends hV{constructor(t){mV(t),hk(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:a,element:i,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const l=new qv({...o,autoplay:!1}),c=fr(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-lj).value,l.sample(c).value,lj),l.stop()}}const cj=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Pa.test(e)||e==="0")&&!e.startsWith("url("));function gV(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function xV(e,t,n,s){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=cj(a,t),l=cj(i,t);return!o||!l?!1:gV(e)||(n==="spring"||xk(n))&&s}const vV=new Set(["opacity","clipPath","filter","transform"]),yV=$v(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function wV(e){var u;const{motionValue:t,name:n,repeatDelay:s,repeatType:a,damping:i,type:o}=e;if(!(((u=t==null?void 0:t.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=t.owner.getProps();return yV()&&n&&vV.has(n)&&(n!=="transform"||!d)&&!c&&!s&&a!=="mirror"&&i!==0&&o!=="inertia"}const jV=40;class bV extends Hv{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:u,...h}){var j;super(),this.stop=()=>{var v,w;this._animation&&(this._animation.stop(),(v=this.stopTimeline)==null||v.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=Wn.now();const f={autoplay:t,delay:n,type:s,repeat:a,repeatDelay:i,repeatType:o,name:c,motionValue:d,element:u,...h},g=(u==null?void 0:u.KeyframeResolver)||Kv;this.keyframeResolver=new g(l,(v,w,p)=>this.onKeyframesResolved(v,w,f,!p),c,d,u),(j=this.keyframeResolver)==null||j.scheduleResolve()}onKeyframesResolved(t,n,s,a){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:u}=s;this.resolvedAt=Wn.now(),xV(t,i,o,l)||((Ur.instantAnimations||!c)&&(u==null||u(Wv(t,s,n))),t[0]=t[t.length-1],s.duration=0,s.repeat=0);const f={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>jV?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},g=!d&&wV(f)?new pV({...f,element:f.motionValue.owner.current}):new qv(f);g.finished.then(()=>this.notifyFinished()).catch(bs),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),rV()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const _V=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function SV(e){const t=_V.exec(e);if(!t)return[,];const[,n,s,a]=t;return[`--${n??s}`,a]}function yk(e,t,n=1){const[s,a]=SV(e);if(!s)return;const i=window.getComputedStyle(t).getPropertyValue(s);if(i){const o=i.trim();return BT(o)?parseFloat(o):o}return Fv(a)?yk(a,t,n+1):a}function Gv(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const wk=new Set(["width","height","top","left","right","bottom",...el]),NV={test:e=>e==="auto",parse:e=>e},jk=e=>t=>t.test(e),bk=[Zo,je,pr,Jr,gz,pz,NV],dj=e=>bk.find(jk(e));function CV(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||VT(e):!0}const EV=new Set(["brightness","contrast","saturate","opacity"]);function TV(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(Uv)||[];if(!s)return e;const a=n.replace(s,"");let i=EV.has(t)?1:0;return s!==n&&(i*=100),t+"("+i+a+")"}const kV=/\b([a-z-]*)\(.*?\)/gu,jg={...Pa,getAnimatableNone:e=>{const t=e.match(kV);return t?t.map(TV).join(" "):e}},uj={...Zo,transform:Math.round},PV={rotate:Jr,rotateX:Jr,rotateY:Jr,rotateZ:Jr,scale:Od,scaleX:Od,scaleY:Od,scaleZ:Od,skew:Jr,skewX:Jr,skewY:Jr,distance:je,translateX:je,translateY:je,translateZ:je,x:je,y:je,z:je,perspective:je,transformPerspective:je,opacity:Nc,originX:X0,originY:X0,originZ:je},Qv={borderWidth:je,borderTopWidth:je,borderRightWidth:je,borderBottomWidth:je,borderLeftWidth:je,borderRadius:je,radius:je,borderTopLeftRadius:je,borderTopRightRadius:je,borderBottomRightRadius:je,borderBottomLeftRadius:je,width:je,maxWidth:je,height:je,maxHeight:je,top:je,right:je,bottom:je,left:je,padding:je,paddingTop:je,paddingRight:je,paddingBottom:je,paddingLeft:je,margin:je,marginTop:je,marginRight:je,marginBottom:je,marginLeft:je,backgroundPositionX:je,backgroundPositionY:je,...PV,zIndex:uj,fillOpacity:Nc,strokeOpacity:Nc,numOctaves:uj},RV={...Qv,color:At,backgroundColor:At,outlineColor:At,fill:At,stroke:At,borderColor:At,borderTopColor:At,borderRightColor:At,borderBottomColor:At,borderLeftColor:At,filter:jg,WebkitFilter:jg},_k=e=>RV[e];function Sk(e,t){let n=_k(e);return n!==jg&&(n=Pa),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const AV=new Set(["auto","none","0"]);function DV(e,t,n){let s=0,a;for(;s<e.length&&!a;){const i=e[s];typeof i=="string"&&!AV.has(i)&&Cc(i).values.length&&(a=e[s]),s++}if(a&&n)for(const i of t)e[i]=Sk(n,a)}class $V extends Kv{constructor(t,n,s,a,i){super(t,n,s,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="string"&&(d=d.trim(),Fv(d))){const u=yk(d,n.current);u!==void 0&&(t[c]=u),c===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!wk.has(s)||t.length!==2)return;const[a,i]=t,o=dj(a),l=dj(i);if(o!==l)if(ij(o)&&ij(l))for(let c=0;c<t.length;c++){const d=t[c];typeof d=="string"&&(t[c]=parseFloat(d))}else ui[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let a=0;a<t.length;a++)(t[a]===null||CV(t[a]))&&s.push(a);s.length&&DV(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ui[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(s,a).jump(a,!1)}measureEndState(){var l;const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const i=s.length-1,o=s[i];s[i]=ui[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{t.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function IV(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const a=(n==null?void 0:n[e])??s.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const Nk=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function MV(e){return zT(e)&&"offsetHeight"in e}const hj=30,LV=e=>!isNaN(parseFloat(e));class OV{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,a=!0)=>{var o,l;const i=Wn.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty();a&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Wn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=LV(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Iv);const s=this.events[t].add(n);return t==="change"?()=>{s(),ut.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Wn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>hj)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,hj);return WT(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Mo(e,t){return new OV(e,t)}const{schedule:Yv}=tk(queueMicrotask,!1),Rs={x:!1,y:!1};function Ck(){return Rs.x||Rs.y}function FV(e){return e==="x"||e==="y"?Rs[e]?null:(Rs[e]=!0,()=>{Rs[e]=!1}):Rs.x||Rs.y?null:(Rs.x=Rs.y=!0,()=>{Rs.x=Rs.y=!1})}function Ek(e,t){const n=IV(e),s=new AbortController,a={passive:!0,...t,signal:s.signal};return[n,a,()=>s.abort()]}function fj(e){return!(e.pointerType==="touch"||Ck())}function UV(e,t,n={}){const[s,a,i]=Ek(e,n),o=l=>{if(!fj(l))return;const{target:c}=l,d=t(c,l);if(typeof d!="function"||!c)return;const u=h=>{fj(h)&&(d(h),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,a)};return s.forEach(l=>{l.addEventListener("pointerenter",o,a)}),i}const Tk=(e,t)=>t?e===t?!0:Tk(e,t.parentElement):!1,Jv=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,BV=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function zV(e){return BV.has(e.tagName)||e.tabIndex!==-1}const ou=new WeakSet;function mj(e){return t=>{t.key==="Enter"&&e(t)}}function Nm(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const VV=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=mj(()=>{if(ou.has(n))return;Nm(n,"down");const a=mj(()=>{Nm(n,"up")}),i=()=>Nm(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function pj(e){return Jv(e)&&!Ck()}function WV(e,t,n={}){const[s,a,i]=Ek(e,n),o=l=>{const c=l.currentTarget;if(!pj(l))return;ou.add(c);const d=t(c,l),u=(g,j)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),ou.has(c)&&ou.delete(c),pj(g)&&typeof d=="function"&&d(g,{success:j})},h=g=>{u(g,c===window||c===document||n.useGlobalTarget||Tk(c,g.target))},f=g=>{u(g,!1)};window.addEventListener("pointerup",h,a),window.addEventListener("pointercancel",f,a)};return s.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),MV(l)&&(l.addEventListener("focus",d=>VV(d,a)),!zV(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function kk(e){return zT(e)&&"ownerSVGElement"in e}function HV(e){return kk(e)&&e.tagName==="svg"}const wn=e=>!!(e&&e.getVelocity),qV=[...bk,At,Pa],KV=e=>qV.find(jk(e)),Pk=m.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function GV(e=!0){const t=m.useContext(Pv);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=t,i=m.useId();m.useEffect(()=>{if(e)return a(i)},[e]);const o=m.useCallback(()=>e&&s&&s(i),[i,s,e]);return!n&&s?[!1,o]:[!0]}const Rk=m.createContext({strict:!1}),gj={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Lo={};for(const e in gj)Lo[e]={isEnabled:t=>gj[e].some(n=>!!t[n])};function QV(e){for(const t in e)Lo[t]={...Lo[t],...e[t]}}const YV=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ih(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||YV.has(e)}let Ak=e=>!ih(e);function JV(e){typeof e=="function"&&(Ak=t=>t.startsWith("on")?!ih(t):e(t))}try{JV(require("@emotion/is-prop-valid").default)}catch{}function XV(e,t,n){const s={};for(const a in e)a==="values"&&typeof e.values=="object"||(Ak(a)||n===!0&&ih(a)||!t&&!ih(a)||e.draggable&&a.startsWith("onDrag"))&&(s[a]=e[a]);return s}const cf=m.createContext({});function df(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Ec(e){return typeof e=="string"||Array.isArray(e)}const Xv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Zv=["initial",...Xv];function uf(e){return df(e.animate)||Zv.some(t=>Ec(e[t]))}function Dk(e){return!!(uf(e)||e.variants)}function ZV(e,t){if(uf(e)){const{initial:n,animate:s}=e;return{initial:n===!1||Ec(n)?n:void 0,animate:Ec(s)?s:void 0}}return e.inherit!==!1?t:{}}function e8(e){const{initial:t,animate:n}=ZV(e,m.useContext(cf));return m.useMemo(()=>({initial:t,animate:n}),[xj(t),xj(n)])}function xj(e){return Array.isArray(e)?e.join(" "):e}const Tc={};function t8(e){for(const t in e)Tc[t]=e[t],Ov(t)&&(Tc[t].isCSSVariable=!0)}function $k(e,{layout:t,layoutId:n}){return tl.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Tc[e]||e==="opacity")}const n8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},s8=el.length;function r8(e,t,n){let s="",a=!0;for(let i=0;i<s8;i++){const o=el[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const d=Nk(l,Qv[o]);if(!c){a=!1;const u=n8[o]||o;s+=`${u}(${d}) `}n&&(t[o]=d)}}return s=s.trim(),n?s=n(t,a?"":s):a&&(s="none"),s}function ey(e,t,n){const{style:s,vars:a,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const d=t[c];if(tl.has(c)){o=!0;continue}else if(Ov(c)){a[c]=d;continue}else{const u=Nk(d,Qv[c]);c.startsWith("origin")?(l=!0,i[c]=u):s[c]=u}}if(t.transform||(o||n?s.transform=r8(t,e.transform,n):s.transform&&(s.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=i;s.transformOrigin=`${c} ${d} ${u}`}}const ty=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Ik(e,t,n){for(const s in t)!wn(t[s])&&!$k(s,n)&&(e[s]=t[s])}function a8({transformTemplate:e},t){return m.useMemo(()=>{const n=ty();return ey(n,t,e),Object.assign({},n.vars,n.style)},[t])}function i8(e,t){const n=e.style||{},s={};return Ik(s,n,e),Object.assign(s,a8(e,t)),s}function o8(e,t){const n={},s=i8(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const l8={offset:"stroke-dashoffset",array:"stroke-dasharray"},c8={offset:"strokeDashoffset",array:"strokeDasharray"};function d8(e,t,n=1,s=0,a=!0){e.pathLength=1;const i=a?l8:c8;e[i.offset]=je.transform(-s);const o=je.transform(t),l=je.transform(n);e[i.array]=`${o} ${l}`}function Mk(e,{attrX:t,attrY:n,attrScale:s,pathLength:a,pathSpacing:i=1,pathOffset:o=0,...l},c,d,u){if(ey(e,l,d),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:f}=e;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete h.transformBox),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),s!==void 0&&(h.scale=s),a!==void 0&&d8(h,a,i,o,!1)}const Lk=()=>({...ty(),attrs:{}}),Ok=e=>typeof e=="string"&&e.toLowerCase()==="svg";function u8(e,t,n,s){const a=m.useMemo(()=>{const i=Lk();return Mk(i,t,Ok(s),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};Ik(i,e.style,e),a.style={...i,...a.style}}return a}const h8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ny(e){return typeof e!="string"||e.includes("-")?!1:!!(h8.indexOf(e)>-1||/[A-Z]/u.test(e))}function f8(e,t,n,{latestValues:s},a,i=!1){const l=(ny(e)?u8:o8)(t,s,a,e),c=XV(t,typeof e=="string",i),d=e!==m.Fragment?{...c,...l,ref:n}:{},{children:u}=t,h=m.useMemo(()=>wn(u)?u.get():u,[u]);return m.createElement(e,{...d,children:h})}function vj(e){const t=[{},{}];return e==null||e.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function sy(e,t,n,s){if(typeof t=="function"){const[a,i]=vj(s);t=t(n!==void 0?n:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=vj(s);t=t(n!==void 0?n:e.custom,a,i)}return t}function lu(e){return wn(e)?e.get():e}function m8({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,a){return{latestValues:p8(n,s,a,e),renderState:t()}}function p8(e,t,n,s){const a={},i=s(e,{});for(const f in i)a[f]=lu(i[f]);let{initial:o,animate:l}=e;const c=uf(e),d=Dk(e);t&&d&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const h=u?l:o;if(h&&typeof h!="boolean"&&!df(h)){const f=Array.isArray(h)?h:[h];for(let g=0;g<f.length;g++){const j=sy(e,f[g]);if(j){const{transitionEnd:v,transition:w,...p}=j;for(const x in p){let y=p[x];if(Array.isArray(y)){const b=u?y.length-1:0;y=y[b]}y!==null&&(a[x]=y)}for(const x in v)a[x]=v[x]}}}return a}const Fk=e=>(t,n)=>{const s=m.useContext(cf),a=m.useContext(Pv),i=()=>m8(e,t,s,a);return n?i():QB(i)};function ry(e,t,n){var i;const{style:s}=e,a={};for(const o in s)(wn(s[o])||t.style&&wn(t.style[o])||$k(o,e)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(a[o]=s[o]);return a}const g8=Fk({scrapeMotionValuesFromProps:ry,createRenderState:ty});function Uk(e,t,n){const s=ry(e,t,n);for(const a in e)if(wn(e[a])||wn(t[a])){const i=el.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[i]=e[a]}return s}const x8=Fk({scrapeMotionValuesFromProps:Uk,createRenderState:Lk}),v8=Symbol.for("motionComponentSymbol");function to(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function y8(e,t,n){return m.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):to(n)&&(n.current=s))},[t])}const ay=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),w8="framerAppearId",Bk="data-"+ay(w8),zk=m.createContext({});function j8(e,t,n,s,a){var v,w;const{visualElement:i}=m.useContext(cf),o=m.useContext(Rk),l=m.useContext(Pv),c=m.useContext(Pk).reducedMotion,d=m.useRef(null);s=s||o.renderer,!d.current&&s&&(d.current=s(e,{visualState:t,parent:i,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const u=d.current,h=m.useContext(zk);u&&!u.projection&&a&&(u.type==="html"||u.type==="svg")&&b8(d.current,n,a,h);const f=m.useRef(!1);m.useInsertionEffect(()=>{u&&f.current&&u.update(n,l)});const g=n[Bk],j=m.useRef(!!g&&!((v=window.MotionHandoffIsComplete)!=null&&v.call(window,g))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,g)));return YB(()=>{u&&(f.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),j.current&&u.animationState&&u.animationState.animateChanges())}),m.useEffect(()=>{u&&(!j.current&&u.animationState&&u.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{var p;(p=window.MotionHandoffMarkAsComplete)==null||p.call(window,g)}),j.current=!1))}),u}function b8(e,t,n,s){const{layoutId:a,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Vk(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||l&&to(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:s,crossfade:u,layoutScroll:c,layoutRoot:d})}function Vk(e){if(e)return e.options.allowProjection!==!1?e.projection:Vk(e.parent)}function Cm(e,{forwardMotionProps:t=!1}={},n,s){n&&QV(n);const a=ny(e)?x8:g8;function i(l,c){let d;const u={...m.useContext(Pk),...l,layoutId:_8(l)},{isStatic:h}=u,f=e8(l),g=a(l,h);if(!h&&kv){S8();const j=N8(u);d=j.MeasureLayout,f.visualElement=j8(e,g,u,s,j.ProjectionNode)}return r.jsxs(cf.Provider,{value:f,children:[d&&f.visualElement?r.jsx(d,{visualElement:f.visualElement,...u}):null,f8(e,l,y8(g,f.visualElement,c),g,h,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=m.forwardRef(i);return o[v8]=e,o}function _8({layoutId:e}){const t=m.useContext(UT).id;return t&&e!==void 0?t+"-"+e:e}function S8(e,t){m.useContext(Rk).strict}function N8(e){const{drag:t,layout:n}=Lo;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function C8(e,t){if(typeof Proxy>"u")return Cm;const n=new Map,s=(i,o)=>Cm(i,o,e,t),a=(i,o)=>s(i,o);return new Proxy(a,{get:(i,o)=>o==="create"?s:(n.has(o)||n.set(o,Cm(o,void 0,e,t)),n.get(o))})}function Wk({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function E8({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function T8(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Em(e){return e===void 0||e===1}function bg({scale:e,scaleX:t,scaleY:n}){return!Em(e)||!Em(t)||!Em(n)}function Ya(e){return bg(e)||Hk(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Hk(e){return yj(e.x)||yj(e.y)}function yj(e){return e&&e!=="0%"}function oh(e,t,n){const s=e-n,a=t*s;return n+a}function wj(e,t,n,s,a){return a!==void 0&&(e=oh(e,a,s)),oh(e,n,s)+t}function _g(e,t=0,n=1,s,a){e.min=wj(e.min,t,n,s,a),e.max=wj(e.max,t,n,s,a)}function qk(e,{x:t,y:n}){_g(e.x,t.translate,t.scale,t.originPoint),_g(e.y,n.translate,n.scale,n.originPoint)}const jj=.999999999999,bj=1.0000000000001;function k8(e,t,n,s=!1){const a=n.length;if(!a)return;t.x=t.y=1;let i,o;for(let l=0;l<a;l++){i=n[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&so(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,qk(e,o)),s&&Ya(i.latestValues)&&so(e,i.latestValues))}t.x<bj&&t.x>jj&&(t.x=1),t.y<bj&&t.y>jj&&(t.y=1)}function no(e,t){e.min=e.min+t,e.max=e.max+t}function _j(e,t,n,s,a=.5){const i=pt(e.min,e.max,a);_g(e,t,n,i,s)}function so(e,t){_j(e.x,t.x,t.scaleX,t.scale,t.originX),_j(e.y,t.y,t.scaleY,t.scale,t.originY)}function Kk(e,t){return Wk(T8(e.getBoundingClientRect(),t))}function P8(e,t,n){const s=Kk(e,n),{scroll:a}=t;return a&&(no(s.x,a.offset.x),no(s.y,a.offset.y)),s}const Sj=()=>({translate:0,scale:1,origin:0,originPoint:0}),ro=()=>({x:Sj(),y:Sj()}),Nj=()=>({min:0,max:0}),kt=()=>({x:Nj(),y:Nj()}),Sg={current:null},Gk={current:!1};function R8(){if(Gk.current=!0,!!kv)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Sg.current=e.matches;e.addEventListener("change",t),t()}else Sg.current=!1}const A8=new WeakMap;function D8(e,t,n){for(const s in t){const a=t[s],i=n[s];if(wn(a))e.addValue(s,a);else if(wn(i))e.addValue(s,Mo(a,{owner:e}));else if(i!==a)if(e.hasValue(s)){const o=e.getValue(s);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=e.getStaticValue(s);e.addValue(s,Mo(o!==void 0?o:a,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const Cj=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class $8{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Kv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Wn.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,ut.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=uf(n),this.isVariantNode=Dk(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const g=h[f];c[f]!==void 0&&wn(g)&&g.set(c[f],!1)}}mount(t){this.current=t,A8.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),Gk.current||R8(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Sg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ka(this.notifyUpdate),ka(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=tl.has(t);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&ut.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Lo){const n=Lo[t];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[t]&&a&&s(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):kt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Cj.length;s++){const a=Cj[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=t[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=D8(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=Mo(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(BT(s)||VT(s))?s=parseFloat(s):!KV(s)&&Pa.test(n)&&(s=Sk(t,n)),this.setBaseTarget(t,wn(s)?s.get():s)),wn(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var i;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const o=sy(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(s=o[t])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!wn(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Iv),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Yv.render(this.render)}}class Qk extends $8{constructor(){super(...arguments),this.KeyframeResolver=$V}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;wn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Yk(e,{style:t,vars:n},s,a){const i=e.style;let o;for(o in t)i[o]=t[o];a==null||a.applyProjectionStyles(i,s);for(o in n)i.setProperty(o,n[o])}function I8(e){return window.getComputedStyle(e)}class M8 extends Qk{constructor(){super(...arguments),this.type="html",this.renderInstance=Yk}readValueFromInstance(t,n){var s;if(tl.has(n))return(s=this.projection)!=null&&s.isProjecting?gg(n):Zz(t,n);{const a=I8(t),i=(Ov(n)?a.getPropertyValue(n):a[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Kk(t,n)}build(t,n,s){ey(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return ry(t,n,s)}}const Jk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function L8(e,t,n,s){Yk(e,t,void 0,s);for(const a in t.attrs)e.setAttribute(Jk.has(a)?a:ay(a),t.attrs[a])}class O8 extends Qk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=kt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(tl.has(n)){const s=_k(n);return s&&s.default||0}return n=Jk.has(n)?n:ay(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return Uk(t,n,s)}build(t,n,s){Mk(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,a){L8(t,n,s,a)}mount(t){this.isSVGTag=Ok(t.tagName),super.mount(t)}}const F8=(e,t)=>ny(e)?new O8(t):new M8(t,{allowProjection:e!==m.Fragment});function kc(e,t,n){const s=e.getProps();return sy(s,t,n!==void 0?n:s.custom,e)}const Ng=e=>Array.isArray(e);function U8(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Mo(n))}function B8(e){return Ng(e)?e[e.length-1]||0:e}function z8(e,t){const n=kc(e,t);let{transitionEnd:s={},transition:a={},...i}=n||{};i={...i,...s};for(const o in i){const l=B8(i[o]);U8(e,o,l)}}function V8(e){return!!(wn(e)&&e.add)}function Cg(e,t){const n=e.getValue("willChange");if(V8(n))return n.add(t);if(!n&&Ur.WillChange){const s=new Ur.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function Xk(e){return e.props[Bk]}const W8=e=>e!==null;function H8(e,{repeat:t,repeatType:n="loop"},s){const a=e.filter(W8),i=t&&n!=="loop"&&t%2===1?0:a.length-1;return a[i]}const q8={type:"spring",stiffness:500,damping:25,restSpeed:10},K8=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),G8={type:"keyframes",duration:.8},Q8={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Y8=(e,{keyframes:t})=>t.length>2?G8:tl.has(e)?e.startsWith("scale")?K8(t[1]):q8:Q8;function J8({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const iy=(e,t,n,s={},a,i)=>o=>{const l=Gv(s,e)||{},c=l.delay||s.delay||0;let{elapsed:d=0}=s;d=d-fr(c);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:f=>{t.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:a};J8(l)||Object.assign(u,Y8(e,u)),u.duration&&(u.duration=fr(u.duration)),u.repeatDelay&&(u.repeatDelay=fr(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(h=!0)),(Ur.instantAnimations||Ur.skipAnimations)&&(h=!0,u.duration=0,u.delay=0),u.allowFlatten=!l.type&&!l.ease,h&&!i&&t.get()!==void 0){const f=H8(u.keyframes,l);if(f!==void 0){ut.update(()=>{u.onUpdate(f),u.onComplete()});return}}return l.isSync?new qv(u):new bV(u)};function X8({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function Zk(e,t,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=t;s&&(i=s);const c=[],d=a&&e.animationState&&e.animationState.getState()[a];for(const u in l){const h=e.getValue(u,e.latestValues[u]??null),f=l[u];if(f===void 0||d&&X8(d,u))continue;const g={delay:n,...Gv(i||{},u)},j=h.get();if(j!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===j&&!g.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const p=Xk(e);if(p){const x=window.MotionHandoffAnimation(p,u,ut);x!==null&&(g.startTime=x,v=!0)}}Cg(e,u),h.start(iy(u,h,f,e.shouldReduceMotion&&wk.has(u)?{type:!1}:g,e,v));const w=h.animation;w&&c.push(w)}return o&&Promise.all(c).then(()=>{ut.update(()=>{o&&z8(e,o)})}),c}function Eg(e,t,n={}){var c;const s=kc(e,t,n.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const i=s?()=>Promise.all(Zk(e,s,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:f}=a;return Z8(e,t,d,u,h,f,n)}:()=>Promise.resolve(),{when:l}=a;if(l){const[d,u]=l==="beforeChildren"?[i,o]:[o,i];return d().then(()=>u())}else return Promise.all([i(),o(n.delay)])}function Z8(e,t,n=0,s=0,a=0,i=1,o){const l=[],c=e.variantChildren.size,d=(c-1)*a,u=typeof s=="function",h=u?f=>s(f,c):i===1?(f=0)=>f*a:(f=0)=>d-f*a;return Array.from(e.variantChildren).sort(eW).forEach((f,g)=>{f.notify("AnimationStart",t),l.push(Eg(f,t,{...o,delay:n+(u?0:s)+h(g)}).then(()=>f.notify("AnimationComplete",t)))}),Promise.all(l)}function eW(e,t){return e.sortNodePosition(t)}function tW(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const a=t.map(i=>Eg(e,i,n));s=Promise.all(a)}else if(typeof t=="string")s=Eg(e,t,n);else{const a=typeof t=="function"?kc(e,t,n.custom):t;s=Promise.all(Zk(e,a,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function eP(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const nW=Zv.length;function tP(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?tP(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<nW;n++){const s=Zv[n],a=e.props[s];(Ec(a)||a===!1)&&(t[s]=a)}return t}const sW=[...Xv].reverse(),rW=Xv.length;function aW(e){return t=>Promise.all(t.map(({animation:n,options:s})=>tW(e,n,s)))}function iW(e){let t=aW(e),n=Ej(),s=!0;const a=c=>(d,u)=>{var f;const h=kc(e,u,c==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:g,transitionEnd:j,...v}=h;d={...d,...v,...j}}return d};function i(c){t=c(e)}function o(c){const{props:d}=e,u=tP(e.parent)||{},h=[],f=new Set;let g={},j=1/0;for(let w=0;w<rW;w++){const p=sW[w],x=n[p],y=d[p]!==void 0?d[p]:u[p],b=Ec(y),_=p===c?x.isActive:null;_===!1&&(j=w);let E=y===u[p]&&y!==d[p]&&b;if(E&&s&&e.manuallyAnimateOnMount&&(E=!1),x.protectedKeys={...g},!x.isActive&&_===null||!y&&!x.prevProp||df(y)||typeof y=="boolean")continue;const C=oW(x.prevProp,y);let N=C||p===c&&x.isActive&&!E&&b||w>j&&b,k=!1;const R=Array.isArray(y)?y:[y];let A=R.reduce(a(p),{});_===!1&&(A={});const{prevResolvedValues:$={}}=x,M={...$,...A},V=U=>{N=!0,f.has(U)&&(k=!0,f.delete(U)),x.needsAnimating[U]=!0;const D=e.getValue(U);D&&(D.liveStyle=!1)};for(const U in M){const D=A[U],S=$[U];if(g.hasOwnProperty(U))continue;let T=!1;Ng(D)&&Ng(S)?T=!eP(D,S):T=D!==S,T?D!=null?V(U):f.add(U):D!==void 0&&f.has(U)?V(U):x.protectedKeys[U]=!0}x.prevProp=y,x.prevResolvedValues=A,x.isActive&&(g={...g,...A}),s&&e.blockInitialAnimation&&(N=!1),N&&(!(E&&C)||k)&&h.push(...R.map(U=>({animation:U,options:{type:p}})))}if(f.size){const w={};if(typeof d.initial!="boolean"){const p=kc(e,Array.isArray(d.initial)?d.initial[0]:d.initial);p&&p.transition&&(w.transition=p.transition)}f.forEach(p=>{const x=e.getBaseTarget(p),y=e.getValue(p);y&&(y.liveStyle=!0),w[p]=x??null}),h.push({animation:w})}let v=!!h.length;return s&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(v=!1),s=!1,v?t(h):Promise.resolve()}function l(c,d){var h;if(n[c].isActive===d)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(f=>{var g;return(g=f.animationState)==null?void 0:g.setActive(c,d)}),n[c].isActive=d;const u=o(c);for(const f in n)n[f].protectedKeys={};return u}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=Ej(),s=!0}}}function oW(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!eP(t,e):!1}function qa(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ej(){return{animate:qa(!0),whileInView:qa(),whileHover:qa(),whileTap:qa(),whileDrag:qa(),whileFocus:qa(),exit:qa()}}class Oa{constructor(t){this.isMounted=!1,this.node=t}update(){}}class lW extends Oa{constructor(t){super(t),t.animationState||(t.animationState=iW(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();df(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let cW=0;class dW extends Oa{constructor(){super(...arguments),this.id=cW++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const uW={animation:{Feature:lW},exit:{Feature:dW}};function Pc(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function td(e){return{point:{x:e.pageX,y:e.pageY}}}const hW=e=>t=>Jv(t)&&e(t,td(t));function Hl(e,t,n,s){return Pc(e,t,hW(n),s)}const nP=1e-4,fW=1-nP,mW=1+nP,sP=.01,pW=0-sP,gW=0+sP;function Rn(e){return e.max-e.min}function xW(e,t,n){return Math.abs(e-t)<=n}function Tj(e,t,n,s=.5){e.origin=s,e.originPoint=pt(t.min,t.max,e.origin),e.scale=Rn(n)/Rn(t),e.translate=pt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=fW&&e.scale<=mW||isNaN(e.scale))&&(e.scale=1),(e.translate>=pW&&e.translate<=gW||isNaN(e.translate))&&(e.translate=0)}function ql(e,t,n,s){Tj(e.x,t.x,n.x,s?s.originX:void 0),Tj(e.y,t.y,n.y,s?s.originY:void 0)}function kj(e,t,n){e.min=n.min+t.min,e.max=e.min+Rn(t)}function vW(e,t,n){kj(e.x,t.x,n.x),kj(e.y,t.y,n.y)}function Pj(e,t,n){e.min=t.min-n.min,e.max=e.min+Rn(t)}function Kl(e,t,n){Pj(e.x,t.x,n.x),Pj(e.y,t.y,n.y)}function ms(e){return[e("x"),e("y")]}const rP=({current:e})=>e?e.ownerDocument.defaultView:null,Rj=(e,t)=>Math.abs(e-t);function yW(e,t){const n=Rj(e.x,t.x),s=Rj(e.y,t.y);return Math.sqrt(n**2+s**2)}class aP{constructor(t,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=km(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,j=yW(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!j)return;const{point:v}=f,{timestamp:w}=cn;this.history.push({...v,timestamp:w});const{onStart:p,onMove:x}=this.handlers;g||(p&&p(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,g)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Tm(g,this.transformPagePoint),ut.update(this.updatePoint,!0)},this.handlePointerUp=(f,g)=>{this.end();const{onEnd:j,onSessionEnd:v,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=km(f.type==="pointercancel"?this.lastMoveEventInfo:Tm(g,this.transformPagePoint),this.history);this.startEvent&&j&&j(f,p),v&&v(f,p)},!Jv(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=o,this.contextWindow=a||window;const l=td(t),c=Tm(l,this.transformPagePoint),{point:d}=c,{timestamp:u}=cn;this.history=[{...d,timestamp:u}];const{onSessionStart:h}=n;h&&h(t,km(c,this.history)),this.removeListeners=Xc(Hl(this.contextWindow,"pointermove",this.handlePointerMove),Hl(this.contextWindow,"pointerup",this.handlePointerUp),Hl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ka(this.updatePoint)}}function Tm(e,t){return t?{point:t(e.point)}:e}function Aj(e,t){return{x:e.x-t.x,y:e.y-t.y}}function km({point:e},t){return{point:e,delta:Aj(e,iP(t)),offset:Aj(e,wW(t)),velocity:jW(t,.1)}}function wW(e){return e[0]}function iP(e){return e[e.length-1]}function jW(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const a=iP(e);for(;n>=0&&(s=e[n],!(a.timestamp-s.timestamp>fr(t)));)n--;if(!s)return{x:0,y:0};const i=mr(a.timestamp-s.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-s.x)/i,y:(a.y-s.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function bW(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?pt(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?pt(n,e,s.max):Math.min(e,n)),e}function Dj(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function _W(e,{top:t,left:n,bottom:s,right:a}){return{x:Dj(e.x,n,a),y:Dj(e.y,t,s)}}function $j(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function SW(e,t){return{x:$j(e.x,t.x),y:$j(e.y,t.y)}}function NW(e,t){let n=.5;const s=Rn(e),a=Rn(t);return a>s?n=Sc(t.min,t.max-s,e.min):s>a&&(n=Sc(e.min,e.max-a,t.min)),Fr(0,1,n)}function CW(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Tg=.35;function EW(e=Tg){return e===!1?e=0:e===!0&&(e=Tg),{x:Ij(e,"left","right"),y:Ij(e,"top","bottom")}}function Ij(e,t,n){return{min:Mj(e,t),max:Mj(e,n)}}function Mj(e,t){return typeof e=="number"?e:e[t]||0}const TW=new WeakMap;class kW{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=kt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(td(h).point)},o=(h,f)=>{const{drag:g,dragPropagation:j,onDragStart:v}=this.getProps();if(g&&!j&&(this.openDragLock&&this.openDragLock(),this.openDragLock=FV(g),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ms(p=>{let x=this.getAxisMotionValue(p).get()||0;if(pr.test(x)){const{projection:y}=this.visualElement;if(y&&y.layout){const b=y.layout.layoutBox[p];b&&(x=Rn(b)*(parseFloat(x)/100))}}this.originPoint[p]=x}),v&&ut.postRender(()=>v(h,f)),Cg(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},l=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:g,dragDirectionLock:j,onDirectionLock:v,onDrag:w}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:p}=f;if(j&&this.currentDirection===null){this.currentDirection=PW(p),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",f.point,p),this.updateAxis("y",f.point,p),this.visualElement.render(),w&&w(h,f)},c=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>ms(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)==null?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new aP(t,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:s,contextWindow:rP(this.visualElement)})}stop(t,n){const s=t||this.latestPointerEvent,a=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!a||!s)return;const{velocity:o}=a;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&ut.postRender(()=>l(s,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:a}=this.getProps();if(!s||!Fd(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(o=bW(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,a=this.constraints;t&&to(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=_W(s.layoutBox,t):this.constraints=!1,this.elastic=EW(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ms(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=CW(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!to(t))return!1;const s=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=P8(s,a.root,this.visualElement.getTransformPagePoint());let o=SW(a.layout.layoutBox,i);if(n){const l=n(E8(o));this.hasMutatedConstraints=!!l,l&&(o=Wk(l))}return o}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=ms(u=>{if(!Fd(u,n,this.currentDirection))return;let h=c&&c[u]||{};o&&(h={min:0,max:0});const f=a?200:1e6,g=a?40:1e7,j={type:"inertia",velocity:s?t[u]:0,bounceStiffness:f,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(u,j)});return Promise.all(d).then(l)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return Cg(this.visualElement,t),s.start(iy(t,s,0,n,this.visualElement,!1))}stopAnimation(){ms(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ms(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){ms(n=>{const{drag:s}=this.getProps();if(!Fd(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(n);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[n];i.set(t[n]-pt(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!to(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ms(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();a[o]=NW({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ms(o=>{if(!Fd(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(pt(c,d,a[o]))})}addListeners(){if(!this.visualElement.current)return;TW.set(this.visualElement,this);const t=this.visualElement.current,n=Hl(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();to(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ut.read(s);const o=Pc(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(ms(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=c[u].translate,h.set(h.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=Tg,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Fd(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function PW(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class RW extends Oa{constructor(t){super(t),this.removeGroupControls=bs,this.removeListeners=bs,this.controls=new kW(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||bs}unmount(){this.removeGroupControls(),this.removeListeners()}}const Lj=e=>(t,n)=>{e&&ut.postRender(()=>e(t,n))};class AW extends Oa{constructor(){super(...arguments),this.removePointerDownListener=bs}onPointerDown(t){this.session=new aP(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:rP(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:Lj(t),onStart:Lj(n),onMove:s,onEnd:(i,o)=>{delete this.session,a&&ut.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=Hl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const cu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Oj(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const xl={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(je.test(e))e=parseFloat(e);else return e;const n=Oj(e,t.target.x),s=Oj(e,t.target.y);return`${n}% ${s}%`}},DW={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,a=Pa.parse(e);if(a.length>5)return s;const i=Pa.createTransformer(e),o=typeof a[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;a[0+o]/=l,a[1+o]/=c;const d=pt(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=d),typeof a[3+o]=="number"&&(a[3+o]/=d),i(a)}};let Fj=!1;class $W extends m.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:i}=t;t8(IW),i&&(n.group&&n.group.add(i),s&&s.register&&a&&s.register(i),Fj&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),cu.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:a,isPresent:i}=this.props,{projection:o}=s;return o&&(o.isPresent=i,Fj=!0,a||t.layoutDependency!==n||n===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||ut.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Yv.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function oP(e){const[t,n]=GV(),s=m.useContext(UT);return r.jsx($W,{...e,layoutGroup:s,switchLayoutGroup:m.useContext(zk),isPresent:t,safeToRemove:n})}const IW={borderRadius:{...xl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:xl,borderTopRightRadius:xl,borderBottomLeftRadius:xl,borderBottomRightRadius:xl,boxShadow:DW};function MW(e,t,n){const s=wn(e)?e:Mo(e);return s.start(iy("",s,t,n)),s.animation}const LW=(e,t)=>e.depth-t.depth;class OW{constructor(){this.children=[],this.isDirty=!1}add(t){Rv(this.children,t),this.isDirty=!0}remove(t){Av(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(LW),this.isDirty=!1,this.children.forEach(t)}}function FW(e,t){const n=Wn.now(),s=({timestamp:a})=>{const i=a-n;i>=t&&(ka(s),e(i-t))};return ut.setup(s,!0),()=>ka(s)}const lP=["TopLeft","TopRight","BottomLeft","BottomRight"],UW=lP.length,Uj=e=>typeof e=="string"?parseFloat(e):e,Bj=e=>typeof e=="number"||je.test(e);function BW(e,t,n,s,a,i){a?(e.opacity=pt(0,n.opacity??1,zW(s)),e.opacityExit=pt(t.opacity??1,0,VW(s))):i&&(e.opacity=pt(t.opacity??1,n.opacity??1,s));for(let o=0;o<UW;o++){const l=`border${lP[o]}Radius`;let c=zj(t,l),d=zj(n,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||Bj(c)===Bj(d)?(e[l]=Math.max(pt(Uj(c),Uj(d),s),0),(pr.test(d)||pr.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||n.rotate)&&(e.rotate=pt(t.rotate||0,n.rotate||0,s))}function zj(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const zW=cP(0,.5,JT),VW=cP(.5,.95,bs);function cP(e,t,n){return s=>s<e?0:s>t?1:n(Sc(e,t,s))}function Vj(e,t){e.min=t.min,e.max=t.max}function fs(e,t){Vj(e.x,t.x),Vj(e.y,t.y)}function Wj(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Hj(e,t,n,s,a){return e-=t,e=oh(e,1/n,s),a!==void 0&&(e=oh(e,1/a,s)),e}function WW(e,t=0,n=1,s=.5,a,i=e,o=e){if(pr.test(t)&&(t=parseFloat(t),t=pt(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=pt(i.min,i.max,s);e===i&&(l-=t),e.min=Hj(e.min,t,n,l,a),e.max=Hj(e.max,t,n,l,a)}function qj(e,t,[n,s,a],i,o){WW(e,t[n],t[s],t[a],t.scale,i,o)}const HW=["x","scaleX","originX"],qW=["y","scaleY","originY"];function Kj(e,t,n,s){qj(e.x,t,HW,n?n.x:void 0,s?s.x:void 0),qj(e.y,t,qW,n?n.y:void 0,s?s.y:void 0)}function Gj(e){return e.translate===0&&e.scale===1}function dP(e){return Gj(e.x)&&Gj(e.y)}function Qj(e,t){return e.min===t.min&&e.max===t.max}function KW(e,t){return Qj(e.x,t.x)&&Qj(e.y,t.y)}function Yj(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function uP(e,t){return Yj(e.x,t.x)&&Yj(e.y,t.y)}function Jj(e){return Rn(e.x)/Rn(e.y)}function Xj(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class GW{constructor(){this.members=[]}add(t){Rv(this.members,t),t.scheduleRender()}remove(t){if(Av(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){s=i;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function QW(e,t,n){let s="";const a=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((a||i||o)&&(s=`translate3d(${a}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:d,rotate:u,rotateX:h,rotateY:f,skewX:g,skewY:j}=n;d&&(s=`perspective(${d}px) ${s}`),u&&(s+=`rotate(${u}deg) `),h&&(s+=`rotateX(${h}deg) `),f&&(s+=`rotateY(${f}deg) `),g&&(s+=`skewX(${g}deg) `),j&&(s+=`skewY(${j}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(s+=`scale(${l}, ${c})`),s||"none"}const Pm=["","X","Y","Z"],YW=1e3;let JW=0;function Rm(e,t,n,s){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),s&&(s[e]=0))}function hP(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Xk(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ut,!(a||i))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&hP(s)}function fP({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(o={},l=t==null?void 0:t()){this.id=JW++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(e7),this.nodes.forEach(r7),this.nodes.forEach(a7),this.nodes.forEach(t7)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new OW)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Iv),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=kk(o)&&!HV(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let u,h=0;const f=()=>this.root.updateBlockedByResize=!1;ut.read(()=>{h=window.innerWidth}),e(o,()=>{const g=window.innerWidth;g!==h&&(h=g,this.root.updateBlockedByResize=!0,u&&u(),u=FW(f,250),cu.hasAnimatedSinceResize&&(cu.hasAnimatedSinceResize=!1,this.nodes.forEach(tb)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||d.getDefaultTransition()||d7,{onLayoutAnimationStart:v,onLayoutAnimationComplete:w}=d.getProps(),p=!this.targetLayout||!uP(this.targetLayout,g),x=!h&&f;if(this.options.layoutRoot||this.resumeFrom||x||h&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const y={...Gv(j,"layout"),onPlay:v,onComplete:w};(d.shouldReduceMotion||this.options.layoutRoot)&&(y.delay=0,y.type=!1),this.startAnimation(y),this.setAnimationOrigin(u,x)}else h||tb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ka(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(i7),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&hP(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Zj);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(eb);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(s7),this.nodes.forEach(XW),this.nodes.forEach(ZW)):this.nodes.forEach(eb),this.clearAllSnapshots();const l=Wn.now();cn.delta=Fr(0,1e3/60,l-cn.timestamp),cn.timestamp=l,cn.isProcessing=!0,wm.update.process(cn),wm.preRender.process(cn),wm.render.process(cn),cn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Yv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(n7),this.sharedNodes.forEach(o7)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ut.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ut.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Rn(this.snapshot.measuredBox.x)&&!Rn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=kt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!dP(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||Ya(this.latestValues)||u)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),u7(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return kt();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(h7))){const{scroll:u}=this.root;u&&(no(l.x,u.offset.x),no(l.y,u.offset.y))}return l}removeElementScroll(o){var c;const l=kt();if(fs(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:h,options:f}=u;u!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&fs(l,o),no(l.x,h.offset.x),no(l.y,h.offset.y))}return l}applyTransform(o,l=!1){const c=kt();fs(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&so(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Ya(u.latestValues)&&so(c,u.latestValues)}return Ya(this.latestValues)&&so(c,this.latestValues),c}removeTransform(o){const l=kt();fs(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Ya(d.latestValues))continue;bg(d.latestValues)&&d.updateSnapshot();const u=kt(),h=d.measurePageBox();fs(u,h),Kj(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return Ya(this.latestValues)&&Kj(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==cn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:h}=this.options;if(!(!this.layout||!(u||h))){if(this.resolvedRelativeTargetAt=cn.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kt(),this.relativeTargetOrigin=kt(),Kl(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),fs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=kt(),this.targetWithTransforms=kt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),vW(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):fs(this.target,this.layout.layoutBox),qk(this.target,this.targetDelta)):fs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kt(),this.relativeTargetOrigin=kt(),Kl(this.relativeTargetOrigin,this.target,g.target),fs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||bg(this.parent.latestValues)||Hk(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var j;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(j=this.parent)!=null&&j.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===cn.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;fs(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;k8(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=kt());const{target:g}=o;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Wj(this.prevProjectionDelta.x,this.projectionDelta.x),Wj(this.prevProjectionDelta.y,this.projectionDelta.y)),ql(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!Xj(this.projectionDelta.x,this.prevProjectionDelta.x)||!Xj(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ro(),this.projectionDelta=ro(),this.projectionDeltaWithTransform=ro()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},h=ro();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=kt(),g=c?c.source:void 0,j=this.layout?this.layout.source:void 0,v=g!==j,w=this.getStack(),p=!w||w.members.length<=1,x=!!(v&&!p&&this.options.crossfade===!0&&!this.path.some(c7));this.animationProgress=0;let y;this.mixTargetDelta=b=>{const _=b/1e3;nb(h.x,o.x,_),nb(h.y,o.y,_),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Kl(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),l7(this.relativeTarget,this.relativeTargetOrigin,f,_),y&&KW(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=kt()),fs(y,this.relativeTarget)),v&&(this.animationValues=u,BW(u,d,this.latestValues,_,x,p)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(ka(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ut.update(()=>{cu.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Mo(0)),this.currentAnimation=MW(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(YW),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&mP(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||kt();const h=Rn(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=Rn(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}fs(l,c),so(l,u),ql(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new GW),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&Rm("z",o,d,this.animationValues);for(let u=0;u<Pm.length;u++)Rm(`rotate${Pm[u]}`,o,d,this.animationValues),Rm(`skew${Pm[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=lu(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=lu(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Ya(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=d.animationValues||d.latestValues;this.applyTransformsToTarget();let h=QW(this.projectionDeltaWithTransform,this.treeScale,u);c&&(h=c(u,h)),o.transform=h;const{x:f,y:g}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${g.origin*100}% 0`,d.animationValues?o.opacity=d===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=d===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const j in Tc){if(u[j]===void 0)continue;const{correct:v,applyTo:w,isCSSVariable:p}=Tc[j],x=h==="none"?u[j]:v(u[j],d);if(w){const y=w.length;for(let b=0;b<y;b++)o[w[b]]=x}else p?this.options.visualElement.renderState.vars[j]=x:o[j]=x}this.options.layoutId&&(o.pointerEvents=d===this?lu(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(Zj),this.root.sharedNodes.clear()}}}function XW(e){e.updateLayout()}function ZW(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?ms(h=>{const f=o?t.measuredBox[h]:t.layoutBox[h],g=Rn(f);f.min=s[h].min,f.max=f.min+g}):mP(i,t.layoutBox,s)&&ms(h=>{const f=o?t.measuredBox[h]:t.layoutBox[h],g=Rn(s[h]);f.max=f.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+g)});const l=ro();ql(l,s,t.layoutBox);const c=ro();o?ql(c,e.applyTransform(a,!0),t.measuredBox):ql(c,s,t.layoutBox);const d=!dP(l);let u=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:g}=h;if(f&&g){const j=kt();Kl(j,t.layoutBox,f.layoutBox);const v=kt();Kl(v,s,g.layoutBox),uP(j,v)||(u=!0),h.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=j,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function e7(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function t7(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function n7(e){e.clearSnapshot()}function Zj(e){e.clearMeasurements()}function eb(e){e.isLayoutDirty=!1}function s7(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function tb(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function r7(e){e.resolveTargetDelta()}function a7(e){e.calcProjection()}function i7(e){e.resetSkewAndRotation()}function o7(e){e.removeLeadSnapshot()}function nb(e,t,n){e.translate=pt(t.translate,0,n),e.scale=pt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function sb(e,t,n,s){e.min=pt(t.min,n.min,s),e.max=pt(t.max,n.max,s)}function l7(e,t,n,s){sb(e.x,t.x,n.x,s),sb(e.y,t.y,n.y,s)}function c7(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const d7={duration:.45,ease:[.4,0,.1,1]},rb=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),ab=rb("applewebkit/")&&!rb("chrome/")?Math.round:bs;function ib(e){e.min=ab(e.min),e.max=ab(e.max)}function u7(e){ib(e.x),ib(e.y)}function mP(e,t,n){return e==="position"||e==="preserve-aspect"&&!xW(Jj(t),Jj(n),.2)}function h7(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const f7=fP({attachResizeListener:(e,t)=>Pc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Am={current:void 0},pP=fP({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Am.current){const e=new f7({});e.mount(window),e.setOptions({layoutScroll:!0}),Am.current=e}return Am.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),m7={pan:{Feature:AW},drag:{Feature:RW,ProjectionNode:pP,MeasureLayout:oP}};function ob(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,i=s[a];i&&ut.postRender(()=>i(t,td(t)))}class p7 extends Oa{mount(){const{current:t}=this.node;t&&(this.unmount=UV(t,(n,s)=>(ob(this.node,s,"Start"),a=>ob(this.node,a,"End"))))}unmount(){}}class g7 extends Oa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Xc(Pc(this.node.current,"focus",()=>this.onFocus()),Pc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function lb(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),i=s[a];i&&ut.postRender(()=>i(t,td(t)))}class x7 extends Oa{mount(){const{current:t}=this.node;t&&(this.unmount=WV(t,(n,s)=>(lb(this.node,s,"Start"),(a,{success:i})=>lb(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const kg=new WeakMap,Dm=new WeakMap,v7=e=>{const t=kg.get(e.target);t&&t(e)},y7=e=>{e.forEach(v7)};function w7({root:e,...t}){const n=e||document;Dm.has(n)||Dm.set(n,{});const s=Dm.get(n),a=JSON.stringify(t);return s[a]||(s[a]=new IntersectionObserver(y7,{root:e,...t})),s[a]}function j7(e,t,n){const s=w7(t);return kg.set(e,n),s.observe(e),()=>{kg.delete(e),s.unobserve(e)}}const b7={some:0,all:1};class _7 extends Oa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:b7[a]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),f=d?u:h;f&&f(c)};return j7(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(S7(t,n))&&this.startObserver()}unmount(){}}function S7({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const N7={inView:{Feature:_7},tap:{Feature:x7},focus:{Feature:g7},hover:{Feature:p7}},C7={layout:{ProjectionNode:pP,MeasureLayout:oP}},E7={...uW,...N7,...m7,...C7},Ud=C8(E7,F8),T7=()=>{const e=qo();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:r.jsxs(Ud.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center space-y-6 p-8",children:[r.jsx(Ud.div,{initial:{scale:.5},animate:{scale:1},transition:{duration:.5,delay:.2},children:r.jsx("h1",{className:"text-8xl font-bold text-primary",children:"404"})}),r.jsxs(Ud.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},className:"space-y-4",children:[r.jsx("h2",{className:"text-2xl font-semibold tracking-tight",children:"Page Not Found"}),r.jsx("p",{className:"text-muted-foreground",children:"Sorry, the page you are looking for does not exist or has been removed."})]}),r.jsx(Ud.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.6},children:r.jsx(se,{asChild:!0,variant:"default",size:"lg",children:r.jsx("a",{href:"/",children:"Back to Home"})})})]})})};class Fs{static convertEzSiteOptions(t){const n={};return t.PageNo&&t.PageSize&&(n.offset=(t.PageNo-1)*t.PageSize,n.limit=t.PageSize),t.OrderByField&&(n.orderBy={column:t.OrderByField,ascending:t.IsAsc!==!1}),t.Filters&&Array.isArray(t.Filters)&&(n.filters=t.Filters.map(s=>({column:s.name,operator:Fs.convertEzSiteOperator(s.op),value:s.value}))),n}static convertEzSiteOperator(t){return{Equal:"eq",NotEqual:"neq",GreaterThan:"gt",GreaterThanOrEqual:"gte",LessThan:"lt",LessThanOrEqual:"lte",Contains:"ilike",In:"in",IsNull:"is",IsNotNull:"not"}[t]||"eq"}static getTableName(t){return{12818:"seasons",12820:"conferences",12852:"teams",12853:"team_conference_junction",13329:"matchups",13768:"team_records",12870:"players",draft_results:"draft_results",transactions:"transactions",playoff_bracket:"playoff_bracket",matchup_admin_override:"matchup_admin_override",team_rosters:"team_rosters"}[t.toString()]||t.toString()}static async tablePage(t,n={}){const s=Fs.getTableName(t),a=Fs.convertEzSiteOptions(n),i=await ie.queryTable(s,a);return{data:{List:i.data,TotalCount:i.count||0},error:i.error}}static async tableCreate(t,n){const s=Fs.getTableName(t),a={...n};delete a.ID;const i=await ie.createRecord(s,a);return{data:i.data,error:i.error}}static async tableUpdate(t,n){const s=Fs.getTableName(t);if(!n.ID&&!n.id)return{error:"Missing ID for update operation"};const a=n.ID||n.id,i={...n};delete i.ID,delete i.id;const o=await ie.updateRecord(s,a,i);return{data:o.data,error:o.error}}static async tableDelete(t,n){const s=Fs.getTableName(t);if(!n.ID&&!n.id)return{error:"Missing ID for delete operation"};const a=n.ID||n.id;return{data:null,error:(await ie.deleteRecord(s,a)).error}}}const k7={tablePage:Fs.tablePage,tableCreate:Fs.tableCreate,tableUpdate:Fs.tableUpdate,tableDelete:Fs.tableDelete},P7=new oL,R7=()=>(m.useEffect(()=>{window.ezsite||(window.ezsite={apis:k7})},[]),r.jsx(cL,{client:P7,children:r.jsx(LM,{children:r.jsx(kF,{children:r.jsxs(lO,{children:[r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx(g3,{}),r.jsx("main",{className:"container mx-auto px-4 py-6",children:r.jsxs(tO,{children:[r.jsx(Un,{path:"/",element:r.jsx(j3,{})}),r.jsx(Un,{path:"/standings",element:r.jsx(S3,{})}),r.jsx(Un,{path:"/matchups",element:r.jsx(D3,{})}),r.jsx(Un,{path:"/teams",element:r.jsx(Q3,{})}),r.jsx(Un,{path:"/teams/:teamId",element:r.jsx(m6,{})}),r.jsx(Un,{path:"/players",element:r.jsx(g6,{})}),r.jsx(Un,{path:"/players/:playerId",element:r.jsx(S6,{})}),r.jsx(Un,{path:"/transactions",element:r.jsx(N6,{})}),r.jsx(Un,{path:"/draft",element:r.jsx(C6,{})}),r.jsx(Un,{path:"/rules",element:r.jsx(E6,{})}),r.jsx(Un,{path:"/conferences",element:r.jsx(k6,{})}),r.jsx(Un,{path:"/admin",element:r.jsx(GB,{})}),r.jsx(Un,{path:"*",element:r.jsx(T7,{})})]})})]}),r.jsx(J$,{})]})})})}));PS(document.getElementById("root")).render(r.jsx(R7,{}));
