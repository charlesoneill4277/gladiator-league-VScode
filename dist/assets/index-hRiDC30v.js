var hP=Object.defineProperty;var sy=e=>{throw TypeError(e)};var mP=(e,t,n)=>t in e?hP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var hr=(e,t,n)=>mP(e,typeof t!="symbol"?t+"":t,n),dh=(e,t,n)=>t.has(e)||sy("Cannot "+n);var q=(e,t,n)=>(dh(e,t,"read from private field"),n?n.call(e):t.get(e)),Be=(e,t,n)=>t.has(e)?sy("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Ne=(e,t,n,s)=>(dh(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),ln=(e,t,n)=>(dh(e,t,"access private method"),n);var tu=(e,t,n,s)=>({set _(r){Ne(e,t,r,n)},get _(){return q(e,t,s)}});function pP(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in e)){const a=Object.getOwnPropertyDescriptor(s,r);a&&Object.defineProperty(e,r,a.get?a:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();var ys=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function gP(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function s(){return this instanceof s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var r=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(n,s,r.get?r:{enumerable:!0,get:function(){return e[s]}})}),n}var pb={exports:{}},tf={},gb={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pc=Symbol.for("react.element"),xP=Symbol.for("react.portal"),vP=Symbol.for("react.fragment"),yP=Symbol.for("react.strict_mode"),wP=Symbol.for("react.profiler"),jP=Symbol.for("react.provider"),bP=Symbol.for("react.context"),_P=Symbol.for("react.forward_ref"),SP=Symbol.for("react.suspense"),NP=Symbol.for("react.memo"),CP=Symbol.for("react.lazy"),ry=Symbol.iterator;function EP(e){return e===null||typeof e!="object"?null:(e=ry&&e[ry]||e["@@iterator"],typeof e=="function"?e:null)}var xb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vb=Object.assign,yb={};function Mo(e,t,n){this.props=e,this.context=t,this.refs=yb,this.updater=n||xb}Mo.prototype.isReactComponent={};Mo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Mo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function wb(){}wb.prototype=Mo.prototype;function Cg(e,t,n){this.props=e,this.context=t,this.refs=yb,this.updater=n||xb}var Eg=Cg.prototype=new wb;Eg.constructor=Cg;vb(Eg,Mo.prototype);Eg.isPureReactComponent=!0;var iy=Array.isArray,jb=Object.prototype.hasOwnProperty,Tg={current:null},bb={key:!0,ref:!0,__self:!0,__source:!0};function _b(e,t,n){var s,r={},a=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)jb.call(t,s)&&!bb.hasOwnProperty(s)&&(r[s]=t[s]);var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];r.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)r[s]===void 0&&(r[s]=l[s]);return{$$typeof:Pc,type:e,key:a,ref:o,props:r,_owner:Tg.current}}function TP(e,t){return{$$typeof:Pc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function kg(e){return typeof e=="object"&&e!==null&&e.$$typeof===Pc}function kP(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ay=/\/+/g;function fh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?kP(""+e.key):t.toString(36)}function Iu(e,t,n,s,r){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Pc:case xP:o=!0}}if(o)return o=e,r=r(o),e=s===""?"."+fh(o,0):s,iy(r)?(n="",e!=null&&(n=e.replace(ay,"$&/")+"/"),Iu(r,t,n,"",function(u){return u})):r!=null&&(kg(r)&&(r=TP(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(ay,"$&/")+"/")+e)),t.push(r)),1;if(o=0,s=s===""?".":s+":",iy(e))for(var l=0;l<e.length;l++){a=e[l];var c=s+fh(a,l);o+=Iu(a,t,n,c,r)}else if(c=EP(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=s+fh(a,l++),o+=Iu(a,t,n,c,r);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function nu(e,t,n){if(e==null)return e;var s=[],r=0;return Iu(e,s,"","",function(a){return t.call(n,a,r++)}),s}function PP(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Pn={current:null},Lu={transition:null},RP={ReactCurrentDispatcher:Pn,ReactCurrentBatchConfig:Lu,ReactCurrentOwner:Tg};function Sb(){throw Error("act(...) is not supported in production builds of React.")}Re.Children={map:nu,forEach:function(e,t,n){nu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return nu(e,function(){t++}),t},toArray:function(e){return nu(e,function(t){return t})||[]},only:function(e){if(!kg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Re.Component=Mo;Re.Fragment=vP;Re.Profiler=wP;Re.PureComponent=Cg;Re.StrictMode=yP;Re.Suspense=SP;Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RP;Re.act=Sb;Re.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=vb({},e.props),r=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Tg.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)jb.call(t,c)&&!bb.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:Pc,type:e.type,key:r,ref:a,props:s,_owner:o}};Re.createContext=function(e){return e={$$typeof:bP,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:jP,_context:e},e.Consumer=e};Re.createElement=_b;Re.createFactory=function(e){var t=_b.bind(null,e);return t.type=e,t};Re.createRef=function(){return{current:null}};Re.forwardRef=function(e){return{$$typeof:_P,render:e}};Re.isValidElement=kg;Re.lazy=function(e){return{$$typeof:CP,_payload:{_status:-1,_result:e},_init:PP}};Re.memo=function(e,t){return{$$typeof:NP,type:e,compare:t===void 0?null:t}};Re.startTransition=function(e){var t=Lu.transition;Lu.transition={};try{e()}finally{Lu.transition=t}};Re.unstable_act=Sb;Re.useCallback=function(e,t){return Pn.current.useCallback(e,t)};Re.useContext=function(e){return Pn.current.useContext(e)};Re.useDebugValue=function(){};Re.useDeferredValue=function(e){return Pn.current.useDeferredValue(e)};Re.useEffect=function(e,t){return Pn.current.useEffect(e,t)};Re.useId=function(){return Pn.current.useId()};Re.useImperativeHandle=function(e,t,n){return Pn.current.useImperativeHandle(e,t,n)};Re.useInsertionEffect=function(e,t){return Pn.current.useInsertionEffect(e,t)};Re.useLayoutEffect=function(e,t){return Pn.current.useLayoutEffect(e,t)};Re.useMemo=function(e,t){return Pn.current.useMemo(e,t)};Re.useReducer=function(e,t,n){return Pn.current.useReducer(e,t,n)};Re.useRef=function(e){return Pn.current.useRef(e)};Re.useState=function(e){return Pn.current.useState(e)};Re.useSyncExternalStore=function(e,t,n){return Pn.current.useSyncExternalStore(e,t,n)};Re.useTransition=function(){return Pn.current.useTransition()};Re.version="18.3.1";gb.exports=Re;var h=gb.exports;const De=mb(h),Pg=pP({__proto__:null,default:De},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AP=h,DP=Symbol.for("react.element"),$P=Symbol.for("react.fragment"),MP=Object.prototype.hasOwnProperty,IP=AP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,LP={key:!0,ref:!0,__self:!0,__source:!0};function Nb(e,t,n){var s,r={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)MP.call(t,s)&&!LP.hasOwnProperty(s)&&(r[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)r[s]===void 0&&(r[s]=t[s]);return{$$typeof:DP,type:e,key:a,ref:o,props:r,_owner:IP.current}}tf.Fragment=$P;tf.jsx=Nb;tf.jsxs=Nb;pb.exports=tf;var i=pb.exports,Cb={exports:{}},Zn={},Eb={exports:{}},Tb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,_){var E=A.length;A.push(_);e:for(;0<E;){var P=E-1>>>1,L=A[P];if(0<r(L,_))A[P]=_,A[E]=L,E=P;else break e}}function n(A){return A.length===0?null:A[0]}function s(A){if(A.length===0)return null;var _=A[0],E=A.pop();if(E!==_){A[0]=E;e:for(var P=0,L=A.length,M=L>>>1;P<M;){var H=2*(P+1)-1,re=A[H],G=H+1,z=A[G];if(0>r(re,E))G<L&&0>r(z,re)?(A[P]=z,A[G]=E,P=G):(A[P]=re,A[H]=E,P=H);else if(G<L&&0>r(z,E))A[P]=z,A[G]=E,P=G;else break e}}return _}function r(A,_){var E=A.sortIndex-_.sortIndex;return E!==0?E:A.id-_.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,m=3,x=!1,j=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(A){for(var _=n(u);_!==null;){if(_.callback===null)s(u);else if(_.startTime<=A)s(u),_.sortIndex=_.expirationTime,t(c,_);else break;_=n(u)}}function b(A){if(v=!1,w(A),!j)if(n(c)!==null)j=!0,O(S);else{var _=n(u);_!==null&&V(b,_.startTime-A)}}function S(A,_){j=!1,v&&(v=!1,p(C),C=-1),x=!0;var E=m;try{for(w(_),f=n(c);f!==null&&(!(f.expirationTime>_)||A&&!k());){var P=f.callback;if(typeof P=="function"){f.callback=null,m=f.priorityLevel;var L=P(f.expirationTime<=_);_=e.unstable_now(),typeof L=="function"?f.callback=L:f===n(c)&&s(c),w(_)}else s(c);f=n(c)}if(f!==null)var M=!0;else{var H=n(u);H!==null&&V(b,H.startTime-_),M=!1}return M}finally{f=null,m=E,x=!1}}var T=!1,N=null,C=-1,R=5,D=-1;function k(){return!(e.unstable_now()-D<R)}function $(){if(N!==null){var A=e.unstable_now();D=A;var _=!0;try{_=N(!0,A)}finally{_?I():(T=!1,N=null)}}else T=!1}var I;if(typeof g=="function")I=function(){g($)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,Q=B.port2;B.port1.onmessage=$,I=function(){Q.postMessage(null)}}else I=function(){y($,0)};function O(A){N=A,T||(T=!0,I())}function V(A,_){C=y(function(){A(e.unstable_now())},_)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){j||x||(j=!0,O(S))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(A){switch(m){case 1:case 2:case 3:var _=3;break;default:_=m}var E=m;m=_;try{return A()}finally{m=E}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,_){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var E=m;m=A;try{return _()}finally{m=E}},e.unstable_scheduleCallback=function(A,_,E){var P=e.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?P+E:P):E=P,A){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=E+L,A={id:d++,callback:_,priorityLevel:A,startTime:E,expirationTime:L,sortIndex:-1},E>P?(A.sortIndex=E,t(u,A),n(c)===null&&A===n(u)&&(v?(p(C),C=-1):v=!0,V(b,E-P))):(A.sortIndex=L,t(c,A),j||x||(j=!0,O(S))),A},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(A){var _=m;return function(){var E=m;m=_;try{return A.apply(this,arguments)}finally{m=E}}}})(Tb);Eb.exports=Tb;var OP=Eb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FP=h,Xn=OP;function J(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kb=new Set,ql={};function xa(e,t){wo(e,t),wo(e+"Capture",t)}function wo(e,t){for(ql[e]=t,e=0;e<t.length;e++)kb.add(t[e])}var Cr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tm=Object.prototype.hasOwnProperty,BP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,oy={},ly={};function UP(e){return Tm.call(ly,e)?!0:Tm.call(oy,e)?!1:BP.test(e)?ly[e]=!0:(oy[e]=!0,!1)}function VP(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function zP(e,t,n,s){if(t===null||typeof t>"u"||VP(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Rn(e,t,n,s,r,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var an={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){an[e]=new Rn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];an[t]=new Rn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){an[e]=new Rn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){an[e]=new Rn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){an[e]=new Rn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){an[e]=new Rn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){an[e]=new Rn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){an[e]=new Rn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){an[e]=new Rn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Rg=/[\-:]([a-z])/g;function Ag(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Rg,Ag);an[t]=new Rn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Rg,Ag);an[t]=new Rn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Rg,Ag);an[t]=new Rn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){an[e]=new Rn(e,1,!1,e.toLowerCase(),null,!1,!1)});an.xlinkHref=new Rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){an[e]=new Rn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Dg(e,t,n,s){var r=an.hasOwnProperty(t)?an[t]:null;(r!==null?r.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(zP(t,n,r,s)&&(n=null),s||r===null?UP(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=n===null?r.type===3?!1:"":n:(t=r.attributeName,s=r.attributeNamespace,n===null?e.removeAttribute(t):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var Mr=FP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,su=Symbol.for("react.element"),Oa=Symbol.for("react.portal"),Fa=Symbol.for("react.fragment"),$g=Symbol.for("react.strict_mode"),km=Symbol.for("react.profiler"),Pb=Symbol.for("react.provider"),Rb=Symbol.for("react.context"),Mg=Symbol.for("react.forward_ref"),Pm=Symbol.for("react.suspense"),Rm=Symbol.for("react.suspense_list"),Ig=Symbol.for("react.memo"),qr=Symbol.for("react.lazy"),Ab=Symbol.for("react.offscreen"),cy=Symbol.iterator;function sl(e){return e===null||typeof e!="object"?null:(e=cy&&e[cy]||e["@@iterator"],typeof e=="function"?e:null)}var pt=Object.assign,hh;function gl(e){if(hh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);hh=t&&t[1]||""}return`
`+hh+e}var mh=!1;function ph(e,t){if(!e||mh)return"";mh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var s=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){s=u}e.call(t.prototype)}else{try{throw Error()}catch(u){s=u}e()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),a=s.stack.split(`
`),o=r.length-1,l=a.length-1;1<=o&&0<=l&&r[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(r[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||r[o]!==a[l]){var c=`
`+r[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{mh=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?gl(e):""}function WP(e){switch(e.tag){case 5:return gl(e.type);case 16:return gl("Lazy");case 13:return gl("Suspense");case 19:return gl("SuspenseList");case 0:case 2:case 15:return e=ph(e.type,!1),e;case 11:return e=ph(e.type.render,!1),e;case 1:return e=ph(e.type,!0),e;default:return""}}function Am(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fa:return"Fragment";case Oa:return"Portal";case km:return"Profiler";case $g:return"StrictMode";case Pm:return"Suspense";case Rm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Rb:return(e.displayName||"Context")+".Consumer";case Pb:return(e._context.displayName||"Context")+".Provider";case Mg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ig:return t=e.displayName||null,t!==null?t:Am(e.type)||"Memo";case qr:t=e._payload,e=e._init;try{return Am(e(t))}catch{}}return null}function HP(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Am(t);case 8:return t===$g?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function vi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Db(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qP(e){var t=Db(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(o){s=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ru(e){e._valueTracker||(e._valueTracker=qP(e))}function $b(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=Db(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function id(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Dm(e,t){var n=t.checked;return pt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function uy(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=vi(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Mb(e,t){t=t.checked,t!=null&&Dg(e,"checked",t,!1)}function $m(e,t){Mb(e,t);var n=vi(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Mm(e,t.type,n):t.hasOwnProperty("defaultValue")&&Mm(e,t.type,vi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function dy(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Mm(e,t,n){(t!=="number"||id(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var xl=Array.isArray;function to(e,t,n,s){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&s&&(e[n].defaultSelected=!0)}else{for(n=""+vi(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,s&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Im(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(J(91));return pt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function fy(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(J(92));if(xl(n)){if(1<n.length)throw Error(J(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:vi(n)}}function Ib(e,t){var n=vi(t.value),s=vi(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function hy(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Lb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Lb(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var iu,Ob=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,r)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(iu=iu||document.createElement("div"),iu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=iu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Kl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Sl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},KP=["Webkit","ms","Moz","O"];Object.keys(Sl).forEach(function(e){KP.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Sl[t]=Sl[e]})});function Fb(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Sl.hasOwnProperty(e)&&Sl[e]?(""+t).trim():t+"px"}function Bb(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,r=Fb(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,r):e[n]=r}}var GP=pt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Om(e,t){if(t){if(GP[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(J(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(J(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(J(61))}if(t.style!=null&&typeof t.style!="object")throw Error(J(62))}}function Fm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bm=null;function Lg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Um=null,no=null,so=null;function my(e){if(e=Dc(e)){if(typeof Um!="function")throw Error(J(280));var t=e.stateNode;t&&(t=of(t),Um(e.stateNode,e.type,t))}}function Ub(e){no?so?so.push(e):so=[e]:no=e}function Vb(){if(no){var e=no,t=so;if(so=no=null,my(e),t)for(e=0;e<t.length;e++)my(t[e])}}function zb(e,t){return e(t)}function Wb(){}var gh=!1;function Hb(e,t,n){if(gh)return e(t,n);gh=!0;try{return zb(e,t,n)}finally{gh=!1,(no!==null||so!==null)&&(Wb(),Vb())}}function Gl(e,t){var n=e.stateNode;if(n===null)return null;var s=of(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(J(231,t,typeof n));return n}var Vm=!1;if(Cr)try{var rl={};Object.defineProperty(rl,"passive",{get:function(){Vm=!0}}),window.addEventListener("test",rl,rl),window.removeEventListener("test",rl,rl)}catch{Vm=!1}function YP(e,t,n,s,r,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Nl=!1,ad=null,od=!1,zm=null,QP={onError:function(e){Nl=!0,ad=e}};function XP(e,t,n,s,r,a,o,l,c){Nl=!1,ad=null,YP.apply(QP,arguments)}function JP(e,t,n,s,r,a,o,l,c){if(XP.apply(this,arguments),Nl){if(Nl){var u=ad;Nl=!1,ad=null}else throw Error(J(198));od||(od=!0,zm=u)}}function va(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function qb(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function py(e){if(va(e)!==e)throw Error(J(188))}function ZP(e){var t=e.alternate;if(!t){if(t=va(e),t===null)throw Error(J(188));return t!==e?null:e}for(var n=e,s=t;;){var r=n.return;if(r===null)break;var a=r.alternate;if(a===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return py(r),e;if(a===s)return py(r),t;a=a.sibling}throw Error(J(188))}if(n.return!==s.return)n=r,s=a;else{for(var o=!1,l=r.child;l;){if(l===n){o=!0,n=r,s=a;break}if(l===s){o=!0,s=r,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,s=r;break}if(l===s){o=!0,s=a,n=r;break}l=l.sibling}if(!o)throw Error(J(189))}}if(n.alternate!==s)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?e:t}function Kb(e){return e=ZP(e),e!==null?Gb(e):null}function Gb(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Gb(e);if(t!==null)return t;e=e.sibling}return null}var Yb=Xn.unstable_scheduleCallback,gy=Xn.unstable_cancelCallback,e2=Xn.unstable_shouldYield,t2=Xn.unstable_requestPaint,Nt=Xn.unstable_now,n2=Xn.unstable_getCurrentPriorityLevel,Og=Xn.unstable_ImmediatePriority,Qb=Xn.unstable_UserBlockingPriority,ld=Xn.unstable_NormalPriority,s2=Xn.unstable_LowPriority,Xb=Xn.unstable_IdlePriority,nf=null,rr=null;function r2(e){if(rr&&typeof rr.onCommitFiberRoot=="function")try{rr.onCommitFiberRoot(nf,e,void 0,(e.current.flags&128)===128)}catch{}}var Is=Math.clz32?Math.clz32:o2,i2=Math.log,a2=Math.LN2;function o2(e){return e>>>=0,e===0?32:31-(i2(e)/a2|0)|0}var au=64,ou=4194304;function vl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function cd(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,r=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~r;l!==0?s=vl(l):(a&=o,a!==0&&(s=vl(a)))}else o=n&~r,o!==0?s=vl(o):a!==0&&(s=vl(a));if(s===0)return 0;if(t!==0&&t!==s&&!(t&r)&&(r=s&-s,a=t&-t,r>=a||r===16&&(a&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-Is(t),r=1<<n,s|=e[n],t&=~r;return s}function l2(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function c2(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,r=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Is(a),l=1<<o,c=r[o];c===-1?(!(l&n)||l&s)&&(r[o]=l2(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Wm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Jb(){var e=au;return au<<=1,!(au&4194240)&&(au=64),e}function xh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Rc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Is(t),e[t]=n}function u2(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-Is(n),a=1<<r;t[r]=0,s[r]=-1,e[r]=-1,n&=~a}}function Fg(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-Is(n),r=1<<s;r&t|e[s]&t&&(e[s]|=t),n&=~r}}var Ke=0;function Zb(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var e_,Bg,t_,n_,s_,Hm=!1,lu=[],li=null,ci=null,ui=null,Yl=new Map,Ql=new Map,Qr=[],d2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xy(e,t){switch(e){case"focusin":case"focusout":li=null;break;case"dragenter":case"dragleave":ci=null;break;case"mouseover":case"mouseout":ui=null;break;case"pointerover":case"pointerout":Yl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ql.delete(t.pointerId)}}function il(e,t,n,s,r,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:a,targetContainers:[r]},t!==null&&(t=Dc(t),t!==null&&Bg(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function f2(e,t,n,s,r){switch(t){case"focusin":return li=il(li,e,t,n,s,r),!0;case"dragenter":return ci=il(ci,e,t,n,s,r),!0;case"mouseover":return ui=il(ui,e,t,n,s,r),!0;case"pointerover":var a=r.pointerId;return Yl.set(a,il(Yl.get(a)||null,e,t,n,s,r)),!0;case"gotpointercapture":return a=r.pointerId,Ql.set(a,il(Ql.get(a)||null,e,t,n,s,r)),!0}return!1}function r_(e){var t=Ki(e.target);if(t!==null){var n=va(t);if(n!==null){if(t=n.tag,t===13){if(t=qb(n),t!==null){e.blockedOn=t,s_(e.priority,function(){t_(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ou(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=qm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Bm=s,n.target.dispatchEvent(s),Bm=null}else return t=Dc(n),t!==null&&Bg(t),e.blockedOn=n,!1;t.shift()}return!0}function vy(e,t,n){Ou(e)&&n.delete(t)}function h2(){Hm=!1,li!==null&&Ou(li)&&(li=null),ci!==null&&Ou(ci)&&(ci=null),ui!==null&&Ou(ui)&&(ui=null),Yl.forEach(vy),Ql.forEach(vy)}function al(e,t){e.blockedOn===t&&(e.blockedOn=null,Hm||(Hm=!0,Xn.unstable_scheduleCallback(Xn.unstable_NormalPriority,h2)))}function Xl(e){function t(r){return al(r,e)}if(0<lu.length){al(lu[0],e);for(var n=1;n<lu.length;n++){var s=lu[n];s.blockedOn===e&&(s.blockedOn=null)}}for(li!==null&&al(li,e),ci!==null&&al(ci,e),ui!==null&&al(ui,e),Yl.forEach(t),Ql.forEach(t),n=0;n<Qr.length;n++)s=Qr[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<Qr.length&&(n=Qr[0],n.blockedOn===null);)r_(n),n.blockedOn===null&&Qr.shift()}var ro=Mr.ReactCurrentBatchConfig,ud=!0;function m2(e,t,n,s){var r=Ke,a=ro.transition;ro.transition=null;try{Ke=1,Ug(e,t,n,s)}finally{Ke=r,ro.transition=a}}function p2(e,t,n,s){var r=Ke,a=ro.transition;ro.transition=null;try{Ke=4,Ug(e,t,n,s)}finally{Ke=r,ro.transition=a}}function Ug(e,t,n,s){if(ud){var r=qm(e,t,n,s);if(r===null)Eh(e,t,s,dd,n),xy(e,s);else if(f2(r,e,t,n,s))s.stopPropagation();else if(xy(e,s),t&4&&-1<d2.indexOf(e)){for(;r!==null;){var a=Dc(r);if(a!==null&&e_(a),a=qm(e,t,n,s),a===null&&Eh(e,t,s,dd,n),a===r)break;r=a}r!==null&&s.stopPropagation()}else Eh(e,t,s,null,n)}}var dd=null;function qm(e,t,n,s){if(dd=null,e=Lg(s),e=Ki(e),e!==null)if(t=va(e),t===null)e=null;else if(n=t.tag,n===13){if(e=qb(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return dd=e,null}function i_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(n2()){case Og:return 1;case Qb:return 4;case ld:case s2:return 16;case Xb:return 536870912;default:return 16}default:return 16}}var ri=null,Vg=null,Fu=null;function a_(){if(Fu)return Fu;var e,t=Vg,n=t.length,s,r="value"in ri?ri.value:ri.textContent,a=r.length;for(e=0;e<n&&t[e]===r[e];e++);var o=n-e;for(s=1;s<=o&&t[n-s]===r[a-s];s++);return Fu=r.slice(e,1<s?1-s:void 0)}function Bu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function cu(){return!0}function yy(){return!1}function es(e){function t(n,s,r,a,o){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?cu:yy,this.isPropagationStopped=yy,this}return pt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=cu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=cu)},persist:function(){},isPersistent:cu}),t}var Io={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zg=es(Io),Ac=pt({},Io,{view:0,detail:0}),g2=es(Ac),vh,yh,ol,sf=pt({},Ac,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ol&&(ol&&e.type==="mousemove"?(vh=e.screenX-ol.screenX,yh=e.screenY-ol.screenY):yh=vh=0,ol=e),vh)},movementY:function(e){return"movementY"in e?e.movementY:yh}}),wy=es(sf),x2=pt({},sf,{dataTransfer:0}),v2=es(x2),y2=pt({},Ac,{relatedTarget:0}),wh=es(y2),w2=pt({},Io,{animationName:0,elapsedTime:0,pseudoElement:0}),j2=es(w2),b2=pt({},Io,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_2=es(b2),S2=pt({},Io,{data:0}),jy=es(S2),N2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},C2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},E2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function T2(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=E2[e])?!!t[e]:!1}function Wg(){return T2}var k2=pt({},Ac,{key:function(e){if(e.key){var t=N2[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Bu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?C2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wg,charCode:function(e){return e.type==="keypress"?Bu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),P2=es(k2),R2=pt({},sf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),by=es(R2),A2=pt({},Ac,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wg}),D2=es(A2),$2=pt({},Io,{propertyName:0,elapsedTime:0,pseudoElement:0}),M2=es($2),I2=pt({},sf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),L2=es(I2),O2=[9,13,27,32],Hg=Cr&&"CompositionEvent"in window,Cl=null;Cr&&"documentMode"in document&&(Cl=document.documentMode);var F2=Cr&&"TextEvent"in window&&!Cl,o_=Cr&&(!Hg||Cl&&8<Cl&&11>=Cl),_y=" ",Sy=!1;function l_(e,t){switch(e){case"keyup":return O2.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function c_(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ba=!1;function B2(e,t){switch(e){case"compositionend":return c_(t);case"keypress":return t.which!==32?null:(Sy=!0,_y);case"textInput":return e=t.data,e===_y&&Sy?null:e;default:return null}}function U2(e,t){if(Ba)return e==="compositionend"||!Hg&&l_(e,t)?(e=a_(),Fu=Vg=ri=null,Ba=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return o_&&t.locale!=="ko"?null:t.data;default:return null}}var V2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ny(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!V2[e.type]:t==="textarea"}function u_(e,t,n,s){Ub(s),t=fd(t,"onChange"),0<t.length&&(n=new zg("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var El=null,Jl=null;function z2(e){j_(e,0)}function rf(e){var t=za(e);if($b(t))return e}function W2(e,t){if(e==="change")return t}var d_=!1;if(Cr){var jh;if(Cr){var bh="oninput"in document;if(!bh){var Cy=document.createElement("div");Cy.setAttribute("oninput","return;"),bh=typeof Cy.oninput=="function"}jh=bh}else jh=!1;d_=jh&&(!document.documentMode||9<document.documentMode)}function Ey(){El&&(El.detachEvent("onpropertychange",f_),Jl=El=null)}function f_(e){if(e.propertyName==="value"&&rf(Jl)){var t=[];u_(t,Jl,e,Lg(e)),Hb(z2,t)}}function H2(e,t,n){e==="focusin"?(Ey(),El=t,Jl=n,El.attachEvent("onpropertychange",f_)):e==="focusout"&&Ey()}function q2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return rf(Jl)}function K2(e,t){if(e==="click")return rf(t)}function G2(e,t){if(e==="input"||e==="change")return rf(t)}function Y2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Os=typeof Object.is=="function"?Object.is:Y2;function Zl(e,t){if(Os(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!Tm.call(t,r)||!Os(e[r],t[r]))return!1}return!0}function Ty(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ky(e,t){var n=Ty(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ty(n)}}function h_(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?h_(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function m_(){for(var e=window,t=id();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=id(e.document)}return t}function qg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Q2(e){var t=m_(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&h_(n.ownerDocument.documentElement,n)){if(s!==null&&qg(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=n.textContent.length,a=Math.min(s.start,r);s=s.end===void 0?a:Math.min(s.end,r),!e.extend&&a>s&&(r=s,s=a,a=r),r=ky(n,a);var o=ky(n,s);r&&o&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),a>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var X2=Cr&&"documentMode"in document&&11>=document.documentMode,Ua=null,Km=null,Tl=null,Gm=!1;function Py(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Gm||Ua==null||Ua!==id(s)||(s=Ua,"selectionStart"in s&&qg(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Tl&&Zl(Tl,s)||(Tl=s,s=fd(Km,"onSelect"),0<s.length&&(t=new zg("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Ua)))}function uu(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Va={animationend:uu("Animation","AnimationEnd"),animationiteration:uu("Animation","AnimationIteration"),animationstart:uu("Animation","AnimationStart"),transitionend:uu("Transition","TransitionEnd")},_h={},p_={};Cr&&(p_=document.createElement("div").style,"AnimationEvent"in window||(delete Va.animationend.animation,delete Va.animationiteration.animation,delete Va.animationstart.animation),"TransitionEvent"in window||delete Va.transitionend.transition);function af(e){if(_h[e])return _h[e];if(!Va[e])return e;var t=Va[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in p_)return _h[e]=t[n];return e}var g_=af("animationend"),x_=af("animationiteration"),v_=af("animationstart"),y_=af("transitionend"),w_=new Map,Ry="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ni(e,t){w_.set(e,t),xa(t,[e])}for(var Sh=0;Sh<Ry.length;Sh++){var Nh=Ry[Sh],J2=Nh.toLowerCase(),Z2=Nh[0].toUpperCase()+Nh.slice(1);Ni(J2,"on"+Z2)}Ni(g_,"onAnimationEnd");Ni(x_,"onAnimationIteration");Ni(v_,"onAnimationStart");Ni("dblclick","onDoubleClick");Ni("focusin","onFocus");Ni("focusout","onBlur");Ni(y_,"onTransitionEnd");wo("onMouseEnter",["mouseout","mouseover"]);wo("onMouseLeave",["mouseout","mouseover"]);wo("onPointerEnter",["pointerout","pointerover"]);wo("onPointerLeave",["pointerout","pointerover"]);xa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xa("onBeforeInput",["compositionend","keypress","textInput","paste"]);xa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eR=new Set("cancel close invalid load scroll toggle".split(" ").concat(yl));function Ay(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,JP(s,t,void 0,e),e.currentTarget=null}function j_(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],r=s.event;s=s.listeners;e:{var a=void 0;if(t)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&r.isPropagationStopped())break e;Ay(r,l,u),a=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&r.isPropagationStopped())break e;Ay(r,l,u),a=c}}}if(od)throw e=zm,od=!1,zm=null,e}function at(e,t){var n=t[Zm];n===void 0&&(n=t[Zm]=new Set);var s=e+"__bubble";n.has(s)||(b_(t,e,2,!1),n.add(s))}function Ch(e,t,n){var s=0;t&&(s|=4),b_(n,e,s,t)}var du="_reactListening"+Math.random().toString(36).slice(2);function ec(e){if(!e[du]){e[du]=!0,kb.forEach(function(n){n!=="selectionchange"&&(eR.has(n)||Ch(n,!1,e),Ch(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[du]||(t[du]=!0,Ch("selectionchange",!1,t))}}function b_(e,t,n,s){switch(i_(t)){case 1:var r=m2;break;case 4:r=p2;break;default:r=Ug}n=r.bind(null,t,n,e),r=void 0,!Vm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),s?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Eh(e,t,n,s,r){var a=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===r||l.nodeType===8&&l.parentNode===r)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;o=o.return}for(;l!==null;){if(o=Ki(l),o===null)return;if(c=o.tag,c===5||c===6){s=a=o;continue e}l=l.parentNode}}s=s.return}Hb(function(){var u=a,d=Lg(n),f=[];e:{var m=w_.get(e);if(m!==void 0){var x=zg,j=e;switch(e){case"keypress":if(Bu(n)===0)break e;case"keydown":case"keyup":x=P2;break;case"focusin":j="focus",x=wh;break;case"focusout":j="blur",x=wh;break;case"beforeblur":case"afterblur":x=wh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=wy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=v2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=D2;break;case g_:case x_:case v_:x=j2;break;case y_:x=M2;break;case"scroll":x=g2;break;case"wheel":x=L2;break;case"copy":case"cut":case"paste":x=_2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=by}var v=(t&4)!==0,y=!v&&e==="scroll",p=v?m!==null?m+"Capture":null:m;v=[];for(var g=u,w;g!==null;){w=g;var b=w.stateNode;if(w.tag===5&&b!==null&&(w=b,p!==null&&(b=Gl(g,p),b!=null&&v.push(tc(g,b,w)))),y)break;g=g.return}0<v.length&&(m=new x(m,j,null,n,d),f.push({event:m,listeners:v}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",m&&n!==Bm&&(j=n.relatedTarget||n.fromElement)&&(Ki(j)||j[Er]))break e;if((x||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,x?(j=n.relatedTarget||n.toElement,x=u,j=j?Ki(j):null,j!==null&&(y=va(j),j!==y||j.tag!==5&&j.tag!==6)&&(j=null)):(x=null,j=u),x!==j)){if(v=wy,b="onMouseLeave",p="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(v=by,b="onPointerLeave",p="onPointerEnter",g="pointer"),y=x==null?m:za(x),w=j==null?m:za(j),m=new v(b,g+"leave",x,n,d),m.target=y,m.relatedTarget=w,b=null,Ki(d)===u&&(v=new v(p,g+"enter",j,n,d),v.target=w,v.relatedTarget=y,b=v),y=b,x&&j)t:{for(v=x,p=j,g=0,w=v;w;w=Sa(w))g++;for(w=0,b=p;b;b=Sa(b))w++;for(;0<g-w;)v=Sa(v),g--;for(;0<w-g;)p=Sa(p),w--;for(;g--;){if(v===p||p!==null&&v===p.alternate)break t;v=Sa(v),p=Sa(p)}v=null}else v=null;x!==null&&Dy(f,m,x,v,!1),j!==null&&y!==null&&Dy(f,y,j,v,!0)}}e:{if(m=u?za(u):window,x=m.nodeName&&m.nodeName.toLowerCase(),x==="select"||x==="input"&&m.type==="file")var S=W2;else if(Ny(m))if(d_)S=G2;else{S=q2;var T=H2}else(x=m.nodeName)&&x.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(S=K2);if(S&&(S=S(e,u))){u_(f,S,n,d);break e}T&&T(e,m,u),e==="focusout"&&(T=m._wrapperState)&&T.controlled&&m.type==="number"&&Mm(m,"number",m.value)}switch(T=u?za(u):window,e){case"focusin":(Ny(T)||T.contentEditable==="true")&&(Ua=T,Km=u,Tl=null);break;case"focusout":Tl=Km=Ua=null;break;case"mousedown":Gm=!0;break;case"contextmenu":case"mouseup":case"dragend":Gm=!1,Py(f,n,d);break;case"selectionchange":if(X2)break;case"keydown":case"keyup":Py(f,n,d)}var N;if(Hg)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Ba?l_(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(o_&&n.locale!=="ko"&&(Ba||C!=="onCompositionStart"?C==="onCompositionEnd"&&Ba&&(N=a_()):(ri=d,Vg="value"in ri?ri.value:ri.textContent,Ba=!0)),T=fd(u,C),0<T.length&&(C=new jy(C,e,null,n,d),f.push({event:C,listeners:T}),N?C.data=N:(N=c_(n),N!==null&&(C.data=N)))),(N=F2?B2(e,n):U2(e,n))&&(u=fd(u,"onBeforeInput"),0<u.length&&(d=new jy("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=N))}j_(f,t)})}function tc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function fd(e,t){for(var n=t+"Capture",s=[];e!==null;){var r=e,a=r.stateNode;r.tag===5&&a!==null&&(r=a,a=Gl(e,n),a!=null&&s.unshift(tc(e,a,r)),a=Gl(e,t),a!=null&&s.push(tc(e,a,r))),e=e.return}return s}function Sa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Dy(e,t,n,s,r){for(var a=t._reactName,o=[];n!==null&&n!==s;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&u!==null&&(l=u,r?(c=Gl(n,a),c!=null&&o.unshift(tc(n,c,l))):r||(c=Gl(n,a),c!=null&&o.push(tc(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var tR=/\r\n?/g,nR=/\u0000|\uFFFD/g;function $y(e){return(typeof e=="string"?e:""+e).replace(tR,`
`).replace(nR,"")}function fu(e,t,n){if(t=$y(t),$y(e)!==t&&n)throw Error(J(425))}function hd(){}var Ym=null,Qm=null;function Xm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Jm=typeof setTimeout=="function"?setTimeout:void 0,sR=typeof clearTimeout=="function"?clearTimeout:void 0,My=typeof Promise=="function"?Promise:void 0,rR=typeof queueMicrotask=="function"?queueMicrotask:typeof My<"u"?function(e){return My.resolve(null).then(e).catch(iR)}:Jm;function iR(e){setTimeout(function(){throw e})}function Th(e,t){var n=t,s=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(s===0){e.removeChild(r),Xl(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=r}while(n);Xl(t)}function di(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Iy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Lo=Math.random().toString(36).slice(2),tr="__reactFiber$"+Lo,nc="__reactProps$"+Lo,Er="__reactContainer$"+Lo,Zm="__reactEvents$"+Lo,aR="__reactListeners$"+Lo,oR="__reactHandles$"+Lo;function Ki(e){var t=e[tr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Er]||n[tr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Iy(e);e!==null;){if(n=e[tr])return n;e=Iy(e)}return t}e=n,n=e.parentNode}return null}function Dc(e){return e=e[tr]||e[Er],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function za(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(J(33))}function of(e){return e[nc]||null}var ep=[],Wa=-1;function Ci(e){return{current:e}}function ot(e){0>Wa||(e.current=ep[Wa],ep[Wa]=null,Wa--)}function nt(e,t){Wa++,ep[Wa]=e.current,e.current=t}var yi={},yn=Ci(yi),Vn=Ci(!1),la=yi;function jo(e,t){var n=e.type.contextTypes;if(!n)return yi;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var r={},a;for(a in n)r[a]=t[a];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function zn(e){return e=e.childContextTypes,e!=null}function md(){ot(Vn),ot(yn)}function Ly(e,t,n){if(yn.current!==yi)throw Error(J(168));nt(yn,t),nt(Vn,n)}function __(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var r in s)if(!(r in t))throw Error(J(108,HP(e)||"Unknown",r));return pt({},n,s)}function pd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||yi,la=yn.current,nt(yn,e),nt(Vn,Vn.current),!0}function Oy(e,t,n){var s=e.stateNode;if(!s)throw Error(J(169));n?(e=__(e,t,la),s.__reactInternalMemoizedMergedChildContext=e,ot(Vn),ot(yn),nt(yn,e)):ot(Vn),nt(Vn,n)}var yr=null,lf=!1,kh=!1;function S_(e){yr===null?yr=[e]:yr.push(e)}function lR(e){lf=!0,S_(e)}function Ei(){if(!kh&&yr!==null){kh=!0;var e=0,t=Ke;try{var n=yr;for(Ke=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}yr=null,lf=!1}catch(r){throw yr!==null&&(yr=yr.slice(e+1)),Yb(Og,Ei),r}finally{Ke=t,kh=!1}}return null}var Ha=[],qa=0,gd=null,xd=0,hs=[],ms=0,ca=null,br=1,_r="";function Vi(e,t){Ha[qa++]=xd,Ha[qa++]=gd,gd=e,xd=t}function N_(e,t,n){hs[ms++]=br,hs[ms++]=_r,hs[ms++]=ca,ca=e;var s=br;e=_r;var r=32-Is(s)-1;s&=~(1<<r),n+=1;var a=32-Is(t)+r;if(30<a){var o=r-r%5;a=(s&(1<<o)-1).toString(32),s>>=o,r-=o,br=1<<32-Is(t)+r|n<<r|s,_r=a+e}else br=1<<a|n<<r|s,_r=e}function Kg(e){e.return!==null&&(Vi(e,1),N_(e,1,0))}function Gg(e){for(;e===gd;)gd=Ha[--qa],Ha[qa]=null,xd=Ha[--qa],Ha[qa]=null;for(;e===ca;)ca=hs[--ms],hs[ms]=null,_r=hs[--ms],hs[ms]=null,br=hs[--ms],hs[ms]=null}var Gn=null,Kn=null,ct=!1,$s=null;function C_(e,t){var n=ps(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Fy(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Gn=e,Kn=di(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Gn=e,Kn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ca!==null?{id:br,overflow:_r}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ps(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Gn=e,Kn=null,!0):!1;default:return!1}}function tp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function np(e){if(ct){var t=Kn;if(t){var n=t;if(!Fy(e,t)){if(tp(e))throw Error(J(418));t=di(n.nextSibling);var s=Gn;t&&Fy(e,t)?C_(s,n):(e.flags=e.flags&-4097|2,ct=!1,Gn=e)}}else{if(tp(e))throw Error(J(418));e.flags=e.flags&-4097|2,ct=!1,Gn=e}}}function By(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Gn=e}function hu(e){if(e!==Gn)return!1;if(!ct)return By(e),ct=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Xm(e.type,e.memoizedProps)),t&&(t=Kn)){if(tp(e))throw E_(),Error(J(418));for(;t;)C_(e,t),t=di(t.nextSibling)}if(By(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(J(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Kn=di(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Kn=null}}else Kn=Gn?di(e.stateNode.nextSibling):null;return!0}function E_(){for(var e=Kn;e;)e=di(e.nextSibling)}function bo(){Kn=Gn=null,ct=!1}function Yg(e){$s===null?$s=[e]:$s.push(e)}var cR=Mr.ReactCurrentBatchConfig;function ll(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var s=n.stateNode}if(!s)throw Error(J(147,e));var r=s,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=r.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,e))}return e}function mu(e,t){throw e=Object.prototype.toString.call(t),Error(J(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Uy(e){var t=e._init;return t(e._payload)}function T_(e){function t(p,g){if(e){var w=p.deletions;w===null?(p.deletions=[g],p.flags|=16):w.push(g)}}function n(p,g){if(!e)return null;for(;g!==null;)t(p,g),g=g.sibling;return null}function s(p,g){for(p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function r(p,g){return p=pi(p,g),p.index=0,p.sibling=null,p}function a(p,g,w){return p.index=w,e?(w=p.alternate,w!==null?(w=w.index,w<g?(p.flags|=2,g):w):(p.flags|=2,g)):(p.flags|=1048576,g)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,g,w,b){return g===null||g.tag!==6?(g=Ih(w,p.mode,b),g.return=p,g):(g=r(g,w),g.return=p,g)}function c(p,g,w,b){var S=w.type;return S===Fa?d(p,g,w.props.children,b,w.key):g!==null&&(g.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===qr&&Uy(S)===g.type)?(b=r(g,w.props),b.ref=ll(p,g,w),b.return=p,b):(b=Ku(w.type,w.key,w.props,null,p.mode,b),b.ref=ll(p,g,w),b.return=p,b)}function u(p,g,w,b){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=Lh(w,p.mode,b),g.return=p,g):(g=r(g,w.children||[]),g.return=p,g)}function d(p,g,w,b,S){return g===null||g.tag!==7?(g=ia(w,p.mode,b,S),g.return=p,g):(g=r(g,w),g.return=p,g)}function f(p,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Ih(""+g,p.mode,w),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case su:return w=Ku(g.type,g.key,g.props,null,p.mode,w),w.ref=ll(p,null,g),w.return=p,w;case Oa:return g=Lh(g,p.mode,w),g.return=p,g;case qr:var b=g._init;return f(p,b(g._payload),w)}if(xl(g)||sl(g))return g=ia(g,p.mode,w,null),g.return=p,g;mu(p,g)}return null}function m(p,g,w,b){var S=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:l(p,g,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case su:return w.key===S?c(p,g,w,b):null;case Oa:return w.key===S?u(p,g,w,b):null;case qr:return S=w._init,m(p,g,S(w._payload),b)}if(xl(w)||sl(w))return S!==null?null:d(p,g,w,b,null);mu(p,w)}return null}function x(p,g,w,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return p=p.get(w)||null,l(g,p,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case su:return p=p.get(b.key===null?w:b.key)||null,c(g,p,b,S);case Oa:return p=p.get(b.key===null?w:b.key)||null,u(g,p,b,S);case qr:var T=b._init;return x(p,g,w,T(b._payload),S)}if(xl(b)||sl(b))return p=p.get(w)||null,d(g,p,b,S,null);mu(g,b)}return null}function j(p,g,w,b){for(var S=null,T=null,N=g,C=g=0,R=null;N!==null&&C<w.length;C++){N.index>C?(R=N,N=null):R=N.sibling;var D=m(p,N,w[C],b);if(D===null){N===null&&(N=R);break}e&&N&&D.alternate===null&&t(p,N),g=a(D,g,C),T===null?S=D:T.sibling=D,T=D,N=R}if(C===w.length)return n(p,N),ct&&Vi(p,C),S;if(N===null){for(;C<w.length;C++)N=f(p,w[C],b),N!==null&&(g=a(N,g,C),T===null?S=N:T.sibling=N,T=N);return ct&&Vi(p,C),S}for(N=s(p,N);C<w.length;C++)R=x(N,p,C,w[C],b),R!==null&&(e&&R.alternate!==null&&N.delete(R.key===null?C:R.key),g=a(R,g,C),T===null?S=R:T.sibling=R,T=R);return e&&N.forEach(function(k){return t(p,k)}),ct&&Vi(p,C),S}function v(p,g,w,b){var S=sl(w);if(typeof S!="function")throw Error(J(150));if(w=S.call(w),w==null)throw Error(J(151));for(var T=S=null,N=g,C=g=0,R=null,D=w.next();N!==null&&!D.done;C++,D=w.next()){N.index>C?(R=N,N=null):R=N.sibling;var k=m(p,N,D.value,b);if(k===null){N===null&&(N=R);break}e&&N&&k.alternate===null&&t(p,N),g=a(k,g,C),T===null?S=k:T.sibling=k,T=k,N=R}if(D.done)return n(p,N),ct&&Vi(p,C),S;if(N===null){for(;!D.done;C++,D=w.next())D=f(p,D.value,b),D!==null&&(g=a(D,g,C),T===null?S=D:T.sibling=D,T=D);return ct&&Vi(p,C),S}for(N=s(p,N);!D.done;C++,D=w.next())D=x(N,p,C,D.value,b),D!==null&&(e&&D.alternate!==null&&N.delete(D.key===null?C:D.key),g=a(D,g,C),T===null?S=D:T.sibling=D,T=D);return e&&N.forEach(function($){return t(p,$)}),ct&&Vi(p,C),S}function y(p,g,w,b){if(typeof w=="object"&&w!==null&&w.type===Fa&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case su:e:{for(var S=w.key,T=g;T!==null;){if(T.key===S){if(S=w.type,S===Fa){if(T.tag===7){n(p,T.sibling),g=r(T,w.props.children),g.return=p,p=g;break e}}else if(T.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===qr&&Uy(S)===T.type){n(p,T.sibling),g=r(T,w.props),g.ref=ll(p,T,w),g.return=p,p=g;break e}n(p,T);break}else t(p,T);T=T.sibling}w.type===Fa?(g=ia(w.props.children,p.mode,b,w.key),g.return=p,p=g):(b=Ku(w.type,w.key,w.props,null,p.mode,b),b.ref=ll(p,g,w),b.return=p,p=b)}return o(p);case Oa:e:{for(T=w.key;g!==null;){if(g.key===T)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){n(p,g.sibling),g=r(g,w.children||[]),g.return=p,p=g;break e}else{n(p,g);break}else t(p,g);g=g.sibling}g=Lh(w,p.mode,b),g.return=p,p=g}return o(p);case qr:return T=w._init,y(p,g,T(w._payload),b)}if(xl(w))return j(p,g,w,b);if(sl(w))return v(p,g,w,b);mu(p,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,g!==null&&g.tag===6?(n(p,g.sibling),g=r(g,w),g.return=p,p=g):(n(p,g),g=Ih(w,p.mode,b),g.return=p,p=g),o(p)):n(p,g)}return y}var _o=T_(!0),k_=T_(!1),vd=Ci(null),yd=null,Ka=null,Qg=null;function Xg(){Qg=Ka=yd=null}function Jg(e){var t=vd.current;ot(vd),e._currentValue=t}function sp(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function io(e,t){yd=e,Qg=Ka=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Bn=!0),e.firstContext=null)}function ws(e){var t=e._currentValue;if(Qg!==e)if(e={context:e,memoizedValue:t,next:null},Ka===null){if(yd===null)throw Error(J(308));Ka=e,yd.dependencies={lanes:0,firstContext:e}}else Ka=Ka.next=e;return t}var Gi=null;function Zg(e){Gi===null?Gi=[e]:Gi.push(e)}function P_(e,t,n,s){var r=t.interleaved;return r===null?(n.next=n,Zg(t)):(n.next=r.next,r.next=n),t.interleaved=n,Tr(e,s)}function Tr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Kr=!1;function ex(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function R_(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Sr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fi(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,Oe&2){var r=s.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),s.pending=t,Tr(e,n)}return r=s.interleaved,r===null?(t.next=t,Zg(s)):(t.next=r.next,r.next=t),s.interleaved=t,Tr(e,n)}function Uu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Fg(e,n)}}function Vy(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?r=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?r=a=t:a=a.next=t}else r=a=t;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function wd(e,t,n,s){var r=e.updateQueue;Kr=!1;var a=r.firstBaseUpdate,o=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=r.baseState;o=0,d=u=c=null,l=a;do{var m=l.lane,x=l.eventTime;if((s&m)===m){d!==null&&(d=d.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var j=e,v=l;switch(m=t,x=n,v.tag){case 1:if(j=v.payload,typeof j=="function"){f=j.call(x,f,m);break e}f=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=v.payload,m=typeof j=="function"?j.call(x,f,m):j,m==null)break e;f=pt({},f,m);break e;case 2:Kr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=r.effects,m===null?r.effects=[l]:m.push(l))}else x={eventTime:x,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=x,c=f):d=d.next=x,o|=m;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;m=l,l=m.next,m.next=null,r.lastBaseUpdate=m,r.shared.pending=null}}while(!0);if(d===null&&(c=f),r.baseState=c,r.firstBaseUpdate=u,r.lastBaseUpdate=d,t=r.shared.interleaved,t!==null){r=t;do o|=r.lane,r=r.next;while(r!==t)}else a===null&&(r.shared.lanes=0);da|=o,e.lanes=o,e.memoizedState=f}}function zy(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],r=s.callback;if(r!==null){if(s.callback=null,s=n,typeof r!="function")throw Error(J(191,r));r.call(s)}}}var $c={},ir=Ci($c),sc=Ci($c),rc=Ci($c);function Yi(e){if(e===$c)throw Error(J(174));return e}function tx(e,t){switch(nt(rc,t),nt(sc,e),nt(ir,$c),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Lm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Lm(t,e)}ot(ir),nt(ir,t)}function So(){ot(ir),ot(sc),ot(rc)}function A_(e){Yi(rc.current);var t=Yi(ir.current),n=Lm(t,e.type);t!==n&&(nt(sc,e),nt(ir,n))}function nx(e){sc.current===e&&(ot(ir),ot(sc))}var ft=Ci(0);function jd(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ph=[];function sx(){for(var e=0;e<Ph.length;e++)Ph[e]._workInProgressVersionPrimary=null;Ph.length=0}var Vu=Mr.ReactCurrentDispatcher,Rh=Mr.ReactCurrentBatchConfig,ua=0,mt=null,Lt=null,Ht=null,bd=!1,kl=!1,ic=0,uR=0;function cn(){throw Error(J(321))}function rx(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Os(e[n],t[n]))return!1;return!0}function ix(e,t,n,s,r,a){if(ua=a,mt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vu.current=e===null||e.memoizedState===null?mR:pR,e=n(s,r),kl){a=0;do{if(kl=!1,ic=0,25<=a)throw Error(J(301));a+=1,Ht=Lt=null,t.updateQueue=null,Vu.current=gR,e=n(s,r)}while(kl)}if(Vu.current=_d,t=Lt!==null&&Lt.next!==null,ua=0,Ht=Lt=mt=null,bd=!1,t)throw Error(J(300));return e}function ax(){var e=ic!==0;return ic=0,e}function Ys(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?mt.memoizedState=Ht=e:Ht=Ht.next=e,Ht}function js(){if(Lt===null){var e=mt.alternate;e=e!==null?e.memoizedState:null}else e=Lt.next;var t=Ht===null?mt.memoizedState:Ht.next;if(t!==null)Ht=t,Lt=e;else{if(e===null)throw Error(J(310));Lt=e,e={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Ht===null?mt.memoizedState=Ht=e:Ht=Ht.next=e}return Ht}function ac(e,t){return typeof t=="function"?t(e):t}function Ah(e){var t=js(),n=t.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=e;var s=Lt,r=s.baseQueue,a=n.pending;if(a!==null){if(r!==null){var o=r.next;r.next=a.next,a.next=o}s.baseQueue=r=a,n.pending=null}if(r!==null){a=r.next,s=s.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((ua&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=s):c=c.next=f,mt.lanes|=d,da|=d}u=u.next}while(u!==null&&u!==a);c===null?o=s:c.next=l,Os(s,t.memoizedState)||(Bn=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){r=e;do a=r.lane,mt.lanes|=a,da|=a,r=r.next;while(r!==e)}else r===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Dh(e){var t=js(),n=t.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=e;var s=n.dispatch,r=n.pending,a=t.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do a=e(a,o.action),o=o.next;while(o!==r);Os(a,t.memoizedState)||(Bn=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,s]}function D_(){}function $_(e,t){var n=mt,s=js(),r=t(),a=!Os(s.memoizedState,r);if(a&&(s.memoizedState=r,Bn=!0),s=s.queue,ox(L_.bind(null,n,s,e),[e]),s.getSnapshot!==t||a||Ht!==null&&Ht.memoizedState.tag&1){if(n.flags|=2048,oc(9,I_.bind(null,n,s,r,t),void 0,null),Gt===null)throw Error(J(349));ua&30||M_(n,t,r)}return r}function M_(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=mt.updateQueue,t===null?(t={lastEffect:null,stores:null},mt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function I_(e,t,n,s){t.value=n,t.getSnapshot=s,O_(t)&&F_(e)}function L_(e,t,n){return n(function(){O_(t)&&F_(e)})}function O_(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Os(e,n)}catch{return!0}}function F_(e){var t=Tr(e,1);t!==null&&Ls(t,e,1,-1)}function Wy(e){var t=Ys();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ac,lastRenderedState:e},t.queue=e,e=e.dispatch=hR.bind(null,mt,e),[t.memoizedState,e]}function oc(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=mt.updateQueue,t===null?(t={lastEffect:null,stores:null},mt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function B_(){return js().memoizedState}function zu(e,t,n,s){var r=Ys();mt.flags|=e,r.memoizedState=oc(1|t,n,void 0,s===void 0?null:s)}function cf(e,t,n,s){var r=js();s=s===void 0?null:s;var a=void 0;if(Lt!==null){var o=Lt.memoizedState;if(a=o.destroy,s!==null&&rx(s,o.deps)){r.memoizedState=oc(t,n,a,s);return}}mt.flags|=e,r.memoizedState=oc(1|t,n,a,s)}function Hy(e,t){return zu(8390656,8,e,t)}function ox(e,t){return cf(2048,8,e,t)}function U_(e,t){return cf(4,2,e,t)}function V_(e,t){return cf(4,4,e,t)}function z_(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function W_(e,t,n){return n=n!=null?n.concat([e]):null,cf(4,4,z_.bind(null,t,e),n)}function lx(){}function H_(e,t){var n=js();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&rx(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function q_(e,t){var n=js();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&rx(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function K_(e,t,n){return ua&21?(Os(n,t)||(n=Jb(),mt.lanes|=n,da|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Bn=!0),e.memoizedState=n)}function dR(e,t){var n=Ke;Ke=n!==0&&4>n?n:4,e(!0);var s=Rh.transition;Rh.transition={};try{e(!1),t()}finally{Ke=n,Rh.transition=s}}function G_(){return js().memoizedState}function fR(e,t,n){var s=mi(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},Y_(e))Q_(t,n);else if(n=P_(e,t,n,s),n!==null){var r=kn();Ls(n,e,s,r),X_(n,t,s)}}function hR(e,t,n){var s=mi(e),r={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(Y_(e))Q_(t,r);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,n);if(r.hasEagerState=!0,r.eagerState=l,Os(l,o)){var c=t.interleaved;c===null?(r.next=r,Zg(t)):(r.next=c.next,c.next=r),t.interleaved=r;return}}catch{}finally{}n=P_(e,t,r,s),n!==null&&(r=kn(),Ls(n,e,s,r),X_(n,t,s))}}function Y_(e){var t=e.alternate;return e===mt||t!==null&&t===mt}function Q_(e,t){kl=bd=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function X_(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Fg(e,n)}}var _d={readContext:ws,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useInsertionEffect:cn,useLayoutEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useMutableSource:cn,useSyncExternalStore:cn,useId:cn,unstable_isNewReconciler:!1},mR={readContext:ws,useCallback:function(e,t){return Ys().memoizedState=[e,t===void 0?null:t],e},useContext:ws,useEffect:Hy,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,zu(4194308,4,z_.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zu(4194308,4,e,t)},useInsertionEffect:function(e,t){return zu(4,2,e,t)},useMemo:function(e,t){var n=Ys();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=Ys();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=fR.bind(null,mt,e),[s.memoizedState,e]},useRef:function(e){var t=Ys();return e={current:e},t.memoizedState=e},useState:Wy,useDebugValue:lx,useDeferredValue:function(e){return Ys().memoizedState=e},useTransition:function(){var e=Wy(!1),t=e[0];return e=dR.bind(null,e[1]),Ys().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=mt,r=Ys();if(ct){if(n===void 0)throw Error(J(407));n=n()}else{if(n=t(),Gt===null)throw Error(J(349));ua&30||M_(s,t,n)}r.memoizedState=n;var a={value:n,getSnapshot:t};return r.queue=a,Hy(L_.bind(null,s,a,e),[e]),s.flags|=2048,oc(9,I_.bind(null,s,a,n,t),void 0,null),n},useId:function(){var e=Ys(),t=Gt.identifierPrefix;if(ct){var n=_r,s=br;n=(s&~(1<<32-Is(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=ic++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=uR++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},pR={readContext:ws,useCallback:H_,useContext:ws,useEffect:ox,useImperativeHandle:W_,useInsertionEffect:U_,useLayoutEffect:V_,useMemo:q_,useReducer:Ah,useRef:B_,useState:function(){return Ah(ac)},useDebugValue:lx,useDeferredValue:function(e){var t=js();return K_(t,Lt.memoizedState,e)},useTransition:function(){var e=Ah(ac)[0],t=js().memoizedState;return[e,t]},useMutableSource:D_,useSyncExternalStore:$_,useId:G_,unstable_isNewReconciler:!1},gR={readContext:ws,useCallback:H_,useContext:ws,useEffect:ox,useImperativeHandle:W_,useInsertionEffect:U_,useLayoutEffect:V_,useMemo:q_,useReducer:Dh,useRef:B_,useState:function(){return Dh(ac)},useDebugValue:lx,useDeferredValue:function(e){var t=js();return Lt===null?t.memoizedState=e:K_(t,Lt.memoizedState,e)},useTransition:function(){var e=Dh(ac)[0],t=js().memoizedState;return[e,t]},useMutableSource:D_,useSyncExternalStore:$_,useId:G_,unstable_isNewReconciler:!1};function Ts(e,t){if(e&&e.defaultProps){t=pt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function rp(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:pt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var uf={isMounted:function(e){return(e=e._reactInternals)?va(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=kn(),r=mi(e),a=Sr(s,r);a.payload=t,n!=null&&(a.callback=n),t=fi(e,a,r),t!==null&&(Ls(t,e,r,s),Uu(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=kn(),r=mi(e),a=Sr(s,r);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=fi(e,a,r),t!==null&&(Ls(t,e,r,s),Uu(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=kn(),s=mi(e),r=Sr(n,s);r.tag=2,t!=null&&(r.callback=t),t=fi(e,r,s),t!==null&&(Ls(t,e,s,n),Uu(t,e,s))}};function qy(e,t,n,s,r,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,a,o):t.prototype&&t.prototype.isPureReactComponent?!Zl(n,s)||!Zl(r,a):!0}function J_(e,t,n){var s=!1,r=yi,a=t.contextType;return typeof a=="object"&&a!==null?a=ws(a):(r=zn(t)?la:yn.current,s=t.contextTypes,a=(s=s!=null)?jo(e,r):yi),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=uf,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ky(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&uf.enqueueReplaceState(t,t.state,null)}function ip(e,t,n,s){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},ex(e);var a=t.contextType;typeof a=="object"&&a!==null?r.context=ws(a):(a=zn(t)?la:yn.current,r.context=jo(e,a)),r.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(rp(e,t,a,n),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&uf.enqueueReplaceState(r,r.state,null),wd(e,n,r,s),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function No(e,t){try{var n="",s=t;do n+=WP(s),s=s.return;while(s);var r=n}catch(a){r=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:r,digest:null}}function $h(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ap(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var xR=typeof WeakMap=="function"?WeakMap:Map;function Z_(e,t,n){n=Sr(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){Nd||(Nd=!0,gp=s),ap(e,t)},n}function eS(e,t,n){n=Sr(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var r=t.value;n.payload=function(){return s(r)},n.callback=function(){ap(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){ap(e,t),typeof s!="function"&&(hi===null?hi=new Set([this]):hi.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Gy(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new xR;var r=new Set;s.set(t,r)}else r=s.get(t),r===void 0&&(r=new Set,s.set(t,r));r.has(n)||(r.add(n),e=RR.bind(null,e,t,n),t.then(e,e))}function Yy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Qy(e,t,n,s,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Sr(-1,1),t.tag=2,fi(n,t,1))),n.lanes|=1),e)}var vR=Mr.ReactCurrentOwner,Bn=!1;function Cn(e,t,n,s){t.child=e===null?k_(t,null,n,s):_o(t,e.child,n,s)}function Xy(e,t,n,s,r){n=n.render;var a=t.ref;return io(t,r),s=ix(e,t,n,s,a,r),n=ax(),e!==null&&!Bn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,kr(e,t,r)):(ct&&n&&Kg(t),t.flags|=1,Cn(e,t,s,r),t.child)}function Jy(e,t,n,s,r){if(e===null){var a=n.type;return typeof a=="function"&&!gx(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,tS(e,t,a,s,r)):(e=Ku(n.type,null,s,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&r)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Zl,n(o,s)&&e.ref===t.ref)return kr(e,t,r)}return t.flags|=1,e=pi(a,s),e.ref=t.ref,e.return=t,t.child=e}function tS(e,t,n,s,r){if(e!==null){var a=e.memoizedProps;if(Zl(a,s)&&e.ref===t.ref)if(Bn=!1,t.pendingProps=s=a,(e.lanes&r)!==0)e.flags&131072&&(Bn=!0);else return t.lanes=e.lanes,kr(e,t,r)}return op(e,t,n,s,r)}function nS(e,t,n){var s=t.pendingProps,r=s.children,a=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(Ya,Hn),Hn|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,nt(Ya,Hn),Hn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:n,nt(Ya,Hn),Hn|=s}else a!==null?(s=a.baseLanes|n,t.memoizedState=null):s=n,nt(Ya,Hn),Hn|=s;return Cn(e,t,r,n),t.child}function sS(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function op(e,t,n,s,r){var a=zn(n)?la:yn.current;return a=jo(t,a),io(t,r),n=ix(e,t,n,s,a,r),s=ax(),e!==null&&!Bn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,kr(e,t,r)):(ct&&s&&Kg(t),t.flags|=1,Cn(e,t,n,r),t.child)}function Zy(e,t,n,s,r){if(zn(n)){var a=!0;pd(t)}else a=!1;if(io(t,r),t.stateNode===null)Wu(e,t),J_(t,n,s),ip(t,n,s,r),s=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ws(u):(u=zn(n)?la:yn.current,u=jo(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==u)&&Ky(t,o,s,u),Kr=!1;var m=t.memoizedState;o.state=m,wd(t,s,o,r),c=t.memoizedState,l!==s||m!==c||Vn.current||Kr?(typeof d=="function"&&(rp(t,n,d,s),c=t.memoizedState),(l=Kr||qy(t,n,l,s,m,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=u,s=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,R_(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Ts(t.type,l),o.props=u,f=t.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=ws(c):(c=zn(n)?la:yn.current,c=jo(t,c));var x=n.getDerivedStateFromProps;(d=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==c)&&Ky(t,o,s,c),Kr=!1,m=t.memoizedState,o.state=m,wd(t,s,o,r);var j=t.memoizedState;l!==f||m!==j||Vn.current||Kr?(typeof x=="function"&&(rp(t,n,x,s),j=t.memoizedState),(u=Kr||qy(t,n,u,s,m,j,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,j,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,j,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=j),o.props=s,o.state=j,o.context=c,s=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),s=!1)}return lp(e,t,n,s,a,r)}function lp(e,t,n,s,r,a){sS(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return r&&Oy(t,n,!1),kr(e,t,a);s=t.stateNode,vR.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=_o(t,e.child,null,a),t.child=_o(t,null,l,a)):Cn(e,t,l,a),t.memoizedState=s.state,r&&Oy(t,n,!0),t.child}function rS(e){var t=e.stateNode;t.pendingContext?Ly(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ly(e,t.context,!1),tx(e,t.containerInfo)}function ew(e,t,n,s,r){return bo(),Yg(r),t.flags|=256,Cn(e,t,n,s),t.child}var cp={dehydrated:null,treeContext:null,retryLane:0};function up(e){return{baseLanes:e,cachePool:null,transitions:null}}function iS(e,t,n){var s=t.pendingProps,r=ft.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(r&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),nt(ft,r&1),e===null)return np(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,a?(s=t.mode,a=t.child,o={mode:"hidden",children:o},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=hf(o,s,0,null),e=ia(e,s,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=up(n),t.memoizedState=cp,e):cx(t,o));if(r=e.memoizedState,r!==null&&(l=r.dehydrated,l!==null))return yR(e,t,o,s,l,r,n);if(a){a=s.fallback,o=t.mode,r=e.child,l=r.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==r?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=pi(r,c),s.subtreeFlags=r.subtreeFlags&14680064),l!==null?a=pi(l,a):(a=ia(a,o,n,null),a.flags|=2),a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,o=e.child.memoizedState,o=o===null?up(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=cp,s}return a=e.child,e=a.sibling,s=pi(a,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function cx(e,t){return t=hf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function pu(e,t,n,s){return s!==null&&Yg(s),_o(t,e.child,null,n),e=cx(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function yR(e,t,n,s,r,a,o){if(n)return t.flags&256?(t.flags&=-257,s=$h(Error(J(422))),pu(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=s.fallback,r=t.mode,s=hf({mode:"visible",children:s.children},r,0,null),a=ia(a,r,o,null),a.flags|=2,s.return=t,a.return=t,s.sibling=a,t.child=s,t.mode&1&&_o(t,e.child,null,o),t.child.memoizedState=up(o),t.memoizedState=cp,a);if(!(t.mode&1))return pu(e,t,o,null);if(r.data==="$!"){if(s=r.nextSibling&&r.nextSibling.dataset,s)var l=s.dgst;return s=l,a=Error(J(419)),s=$h(a,s,void 0),pu(e,t,o,s)}if(l=(o&e.childLanes)!==0,Bn||l){if(s=Gt,s!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(s.suspendedLanes|o)?0:r,r!==0&&r!==a.retryLane&&(a.retryLane=r,Tr(e,r),Ls(s,e,r,-1))}return px(),s=$h(Error(J(421))),pu(e,t,o,s)}return r.data==="$?"?(t.flags|=128,t.child=e.child,t=AR.bind(null,e),r._reactRetry=t,null):(e=a.treeContext,Kn=di(r.nextSibling),Gn=t,ct=!0,$s=null,e!==null&&(hs[ms++]=br,hs[ms++]=_r,hs[ms++]=ca,br=e.id,_r=e.overflow,ca=t),t=cx(t,s.children),t.flags|=4096,t)}function tw(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),sp(e.return,t,n)}function Mh(e,t,n,s,r){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=r)}function aS(e,t,n){var s=t.pendingProps,r=s.revealOrder,a=s.tail;if(Cn(e,t,s.children,n),s=ft.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&tw(e,n,t);else if(e.tag===19)tw(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(nt(ft,s),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&jd(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Mh(t,!1,r,n,a);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&jd(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Mh(t,!0,n,null,a);break;case"together":Mh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function kr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),da|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(J(153));if(t.child!==null){for(e=t.child,n=pi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=pi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function wR(e,t,n){switch(t.tag){case 3:rS(t),bo();break;case 5:A_(t);break;case 1:zn(t.type)&&pd(t);break;case 4:tx(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,r=t.memoizedProps.value;nt(vd,s._currentValue),s._currentValue=r;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(nt(ft,ft.current&1),t.flags|=128,null):n&t.child.childLanes?iS(e,t,n):(nt(ft,ft.current&1),e=kr(e,t,n),e!==null?e.sibling:null);nt(ft,ft.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return aS(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),nt(ft,ft.current),s)break;return null;case 22:case 23:return t.lanes=0,nS(e,t,n)}return kr(e,t,n)}var oS,dp,lS,cS;oS=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};dp=function(){};lS=function(e,t,n,s){var r=e.memoizedProps;if(r!==s){e=t.stateNode,Yi(ir.current);var a=null;switch(n){case"input":r=Dm(e,r),s=Dm(e,s),a=[];break;case"select":r=pt({},r,{value:void 0}),s=pt({},s,{value:void 0}),a=[];break;case"textarea":r=Im(e,r),s=Im(e,s),a=[];break;default:typeof r.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=hd)}Om(n,s);var o;n=null;for(u in r)if(!s.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var l=r[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ql.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in s){var c=s[u];if(l=r!=null?r[u]:void 0,s.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ql.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&at("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};cS=function(e,t,n,s){n!==s&&(t.flags|=4)};function cl(e,t){if(!ct)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function un(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&14680064,s|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function jR(e,t,n){var s=t.pendingProps;switch(Gg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return un(t),null;case 1:return zn(t.type)&&md(),un(t),null;case 3:return s=t.stateNode,So(),ot(Vn),ot(yn),sx(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(hu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,$s!==null&&(yp($s),$s=null))),dp(e,t),un(t),null;case 5:nx(t);var r=Yi(rc.current);if(n=t.type,e!==null&&t.stateNode!=null)lS(e,t,n,s,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(J(166));return un(t),null}if(e=Yi(ir.current),hu(t)){s=t.stateNode,n=t.type;var a=t.memoizedProps;switch(s[tr]=t,s[nc]=a,e=(t.mode&1)!==0,n){case"dialog":at("cancel",s),at("close",s);break;case"iframe":case"object":case"embed":at("load",s);break;case"video":case"audio":for(r=0;r<yl.length;r++)at(yl[r],s);break;case"source":at("error",s);break;case"img":case"image":case"link":at("error",s),at("load",s);break;case"details":at("toggle",s);break;case"input":uy(s,a),at("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},at("invalid",s);break;case"textarea":fy(s,a),at("invalid",s)}Om(n,a),r=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?s.textContent!==l&&(a.suppressHydrationWarning!==!0&&fu(s.textContent,l,e),r=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&fu(s.textContent,l,e),r=["children",""+l]):ql.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&at("scroll",s)}switch(n){case"input":ru(s),dy(s,a,!0);break;case"textarea":ru(s),hy(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=hd)}s=r,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Lb(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(n,{is:s.is}):(e=o.createElement(n),n==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,n),e[tr]=t,e[nc]=s,oS(e,t,!1,!1),t.stateNode=e;e:{switch(o=Fm(n,s),n){case"dialog":at("cancel",e),at("close",e),r=s;break;case"iframe":case"object":case"embed":at("load",e),r=s;break;case"video":case"audio":for(r=0;r<yl.length;r++)at(yl[r],e);r=s;break;case"source":at("error",e),r=s;break;case"img":case"image":case"link":at("error",e),at("load",e),r=s;break;case"details":at("toggle",e),r=s;break;case"input":uy(e,s),r=Dm(e,s),at("invalid",e);break;case"option":r=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},r=pt({},s,{value:void 0}),at("invalid",e);break;case"textarea":fy(e,s),r=Im(e,s),at("invalid",e);break;default:r=s}Om(n,r),l=r;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?Bb(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Ob(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Kl(e,c):typeof c=="number"&&Kl(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ql.hasOwnProperty(a)?c!=null&&a==="onScroll"&&at("scroll",e):c!=null&&Dg(e,a,c,o))}switch(n){case"input":ru(e),dy(e,s,!1);break;case"textarea":ru(e),hy(e);break;case"option":s.value!=null&&e.setAttribute("value",""+vi(s.value));break;case"select":e.multiple=!!s.multiple,a=s.value,a!=null?to(e,!!s.multiple,a,!1):s.defaultValue!=null&&to(e,!!s.multiple,s.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=hd)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return un(t),null;case 6:if(e&&t.stateNode!=null)cS(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(J(166));if(n=Yi(rc.current),Yi(ir.current),hu(t)){if(s=t.stateNode,n=t.memoizedProps,s[tr]=t,(a=s.nodeValue!==n)&&(e=Gn,e!==null))switch(e.tag){case 3:fu(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&fu(s.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[tr]=t,t.stateNode=s}return un(t),null;case 13:if(ot(ft),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ct&&Kn!==null&&t.mode&1&&!(t.flags&128))E_(),bo(),t.flags|=98560,a=!1;else if(a=hu(t),s!==null&&s.dehydrated!==null){if(e===null){if(!a)throw Error(J(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(J(317));a[tr]=t}else bo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;un(t),a=!1}else $s!==null&&(yp($s),$s=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||ft.current&1?Ft===0&&(Ft=3):px())),t.updateQueue!==null&&(t.flags|=4),un(t),null);case 4:return So(),dp(e,t),e===null&&ec(t.stateNode.containerInfo),un(t),null;case 10:return Jg(t.type._context),un(t),null;case 17:return zn(t.type)&&md(),un(t),null;case 19:if(ot(ft),a=t.memoizedState,a===null)return un(t),null;if(s=(t.flags&128)!==0,o=a.rendering,o===null)if(s)cl(a,!1);else{if(Ft!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=jd(e),o!==null){for(t.flags|=128,cl(a,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)a=n,e=s,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return nt(ft,ft.current&1|2),t.child}e=e.sibling}a.tail!==null&&Nt()>Co&&(t.flags|=128,s=!0,cl(a,!1),t.lanes=4194304)}else{if(!s)if(e=jd(o),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),cl(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!ct)return un(t),null}else 2*Nt()-a.renderingStartTime>Co&&n!==1073741824&&(t.flags|=128,s=!0,cl(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Nt(),t.sibling=null,n=ft.current,nt(ft,s?n&1|2:n&1),t):(un(t),null);case 22:case 23:return mx(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Hn&1073741824&&(un(t),t.subtreeFlags&6&&(t.flags|=8192)):un(t),null;case 24:return null;case 25:return null}throw Error(J(156,t.tag))}function bR(e,t){switch(Gg(t),t.tag){case 1:return zn(t.type)&&md(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return So(),ot(Vn),ot(yn),sx(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return nx(t),null;case 13:if(ot(ft),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(J(340));bo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ot(ft),null;case 4:return So(),null;case 10:return Jg(t.type._context),null;case 22:case 23:return mx(),null;case 24:return null;default:return null}}var gu=!1,mn=!1,_R=typeof WeakSet=="function"?WeakSet:Set,ue=null;function Ga(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){wt(e,t,s)}else n.current=null}function fp(e,t,n){try{n()}catch(s){wt(e,t,s)}}var nw=!1;function SR(e,t){if(Ym=ud,e=m_(),qg(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,m=null;t:for(;;){for(var x;f!==n||r!==0&&f.nodeType!==3||(l=o+r),f!==a||s!==0&&f.nodeType!==3||(c=o+s),f.nodeType===3&&(o+=f.nodeValue.length),(x=f.firstChild)!==null;)m=f,f=x;for(;;){if(f===e)break t;if(m===n&&++u===r&&(l=o),m===a&&++d===s&&(c=o),(x=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=x}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qm={focusedElem:e,selectionRange:n},ud=!1,ue=t;ue!==null;)if(t=ue,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ue=e;else for(;ue!==null;){t=ue;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var v=j.memoizedProps,y=j.memoizedState,p=t.stateNode,g=p.getSnapshotBeforeUpdate(t.elementType===t.type?v:Ts(t.type,v),y);p.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(b){wt(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,ue=e;break}ue=t.return}return j=nw,nw=!1,j}function Pl(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&e)===e){var a=r.destroy;r.destroy=void 0,a!==void 0&&fp(t,n,a)}r=r.next}while(r!==s)}}function df(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function hp(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function uS(e){var t=e.alternate;t!==null&&(e.alternate=null,uS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[tr],delete t[nc],delete t[Zm],delete t[aR],delete t[oR])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function dS(e){return e.tag===5||e.tag===3||e.tag===4}function sw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||dS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mp(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=hd));else if(s!==4&&(e=e.child,e!==null))for(mp(e,t,n),e=e.sibling;e!==null;)mp(e,t,n),e=e.sibling}function pp(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(pp(e,t,n),e=e.sibling;e!==null;)pp(e,t,n),e=e.sibling}var tn=null,As=!1;function Or(e,t,n){for(n=n.child;n!==null;)fS(e,t,n),n=n.sibling}function fS(e,t,n){if(rr&&typeof rr.onCommitFiberUnmount=="function")try{rr.onCommitFiberUnmount(nf,n)}catch{}switch(n.tag){case 5:mn||Ga(n,t);case 6:var s=tn,r=As;tn=null,Or(e,t,n),tn=s,As=r,tn!==null&&(As?(e=tn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):tn.removeChild(n.stateNode));break;case 18:tn!==null&&(As?(e=tn,n=n.stateNode,e.nodeType===8?Th(e.parentNode,n):e.nodeType===1&&Th(e,n),Xl(e)):Th(tn,n.stateNode));break;case 4:s=tn,r=As,tn=n.stateNode.containerInfo,As=!0,Or(e,t,n),tn=s,As=r;break;case 0:case 11:case 14:case 15:if(!mn&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){r=s=s.next;do{var a=r,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&fp(n,t,o),r=r.next}while(r!==s)}Or(e,t,n);break;case 1:if(!mn&&(Ga(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(l){wt(n,t,l)}Or(e,t,n);break;case 21:Or(e,t,n);break;case 22:n.mode&1?(mn=(s=mn)||n.memoizedState!==null,Or(e,t,n),mn=s):Or(e,t,n);break;default:Or(e,t,n)}}function rw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new _R),t.forEach(function(s){var r=DR.bind(null,e,s);n.has(s)||(n.add(s),s.then(r,r))})}}function Ss(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:tn=l.stateNode,As=!1;break e;case 3:tn=l.stateNode.containerInfo,As=!0;break e;case 4:tn=l.stateNode.containerInfo,As=!0;break e}l=l.return}if(tn===null)throw Error(J(160));fS(a,o,r),tn=null,As=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(u){wt(r,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)hS(t,e),t=t.sibling}function hS(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ss(t,e),Gs(e),s&4){try{Pl(3,e,e.return),df(3,e)}catch(v){wt(e,e.return,v)}try{Pl(5,e,e.return)}catch(v){wt(e,e.return,v)}}break;case 1:Ss(t,e),Gs(e),s&512&&n!==null&&Ga(n,n.return);break;case 5:if(Ss(t,e),Gs(e),s&512&&n!==null&&Ga(n,n.return),e.flags&32){var r=e.stateNode;try{Kl(r,"")}catch(v){wt(e,e.return,v)}}if(s&4&&(r=e.stateNode,r!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&Mb(r,a),Fm(l,o);var u=Fm(l,a);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?Bb(r,f):d==="dangerouslySetInnerHTML"?Ob(r,f):d==="children"?Kl(r,f):Dg(r,d,f,u)}switch(l){case"input":$m(r,a);break;case"textarea":Ib(r,a);break;case"select":var m=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!a.multiple;var x=a.value;x!=null?to(r,!!a.multiple,x,!1):m!==!!a.multiple&&(a.defaultValue!=null?to(r,!!a.multiple,a.defaultValue,!0):to(r,!!a.multiple,a.multiple?[]:"",!1))}r[nc]=a}catch(v){wt(e,e.return,v)}}break;case 6:if(Ss(t,e),Gs(e),s&4){if(e.stateNode===null)throw Error(J(162));r=e.stateNode,a=e.memoizedProps;try{r.nodeValue=a}catch(v){wt(e,e.return,v)}}break;case 3:if(Ss(t,e),Gs(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Xl(t.containerInfo)}catch(v){wt(e,e.return,v)}break;case 4:Ss(t,e),Gs(e);break;case 13:Ss(t,e),Gs(e),r=e.child,r.flags&8192&&(a=r.memoizedState!==null,r.stateNode.isHidden=a,!a||r.alternate!==null&&r.alternate.memoizedState!==null||(fx=Nt())),s&4&&rw(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(mn=(u=mn)||d,Ss(t,e),mn=u):Ss(t,e),Gs(e),s&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ue=e,d=e.child;d!==null;){for(f=ue=d;ue!==null;){switch(m=ue,x=m.child,m.tag){case 0:case 11:case 14:case 15:Pl(4,m,m.return);break;case 1:Ga(m,m.return);var j=m.stateNode;if(typeof j.componentWillUnmount=="function"){s=m,n=m.return;try{t=s,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(v){wt(s,n,v)}}break;case 5:Ga(m,m.return);break;case 22:if(m.memoizedState!==null){aw(f);continue}}x!==null?(x.return=m,ue=x):aw(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{r=f.stateNode,u?(a=r.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Fb("display",o))}catch(v){wt(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){wt(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ss(t,e),Gs(e),s&4&&rw(e);break;case 21:break;default:Ss(t,e),Gs(e)}}function Gs(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(dS(n)){var s=n;break e}n=n.return}throw Error(J(160))}switch(s.tag){case 5:var r=s.stateNode;s.flags&32&&(Kl(r,""),s.flags&=-33);var a=sw(e);pp(e,a,r);break;case 3:case 4:var o=s.stateNode.containerInfo,l=sw(e);mp(e,l,o);break;default:throw Error(J(161))}}catch(c){wt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function NR(e,t,n){ue=e,mS(e)}function mS(e,t,n){for(var s=(e.mode&1)!==0;ue!==null;){var r=ue,a=r.child;if(r.tag===22&&s){var o=r.memoizedState!==null||gu;if(!o){var l=r.alternate,c=l!==null&&l.memoizedState!==null||mn;l=gu;var u=mn;if(gu=o,(mn=c)&&!u)for(ue=r;ue!==null;)o=ue,c=o.child,o.tag===22&&o.memoizedState!==null?ow(r):c!==null?(c.return=o,ue=c):ow(r);for(;a!==null;)ue=a,mS(a),a=a.sibling;ue=r,gu=l,mn=u}iw(e)}else r.subtreeFlags&8772&&a!==null?(a.return=r,ue=a):iw(e)}}function iw(e){for(;ue!==null;){var t=ue;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:mn||df(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!mn)if(n===null)s.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:Ts(t.type,n.memoizedProps);s.componentDidUpdate(r,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&zy(t,a,s);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}zy(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Xl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}mn||t.flags&512&&hp(t)}catch(m){wt(t,t.return,m)}}if(t===e){ue=null;break}if(n=t.sibling,n!==null){n.return=t.return,ue=n;break}ue=t.return}}function aw(e){for(;ue!==null;){var t=ue;if(t===e){ue=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ue=n;break}ue=t.return}}function ow(e){for(;ue!==null;){var t=ue;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{df(4,t)}catch(c){wt(t,n,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var r=t.return;try{s.componentDidMount()}catch(c){wt(t,r,c)}}var a=t.return;try{hp(t)}catch(c){wt(t,a,c)}break;case 5:var o=t.return;try{hp(t)}catch(c){wt(t,o,c)}}}catch(c){wt(t,t.return,c)}if(t===e){ue=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ue=l;break}ue=t.return}}var CR=Math.ceil,Sd=Mr.ReactCurrentDispatcher,ux=Mr.ReactCurrentOwner,xs=Mr.ReactCurrentBatchConfig,Oe=0,Gt=null,Rt=null,rn=0,Hn=0,Ya=Ci(0),Ft=0,lc=null,da=0,ff=0,dx=0,Rl=null,On=null,fx=0,Co=1/0,xr=null,Nd=!1,gp=null,hi=null,xu=!1,ii=null,Cd=0,Al=0,xp=null,Hu=-1,qu=0;function kn(){return Oe&6?Nt():Hu!==-1?Hu:Hu=Nt()}function mi(e){return e.mode&1?Oe&2&&rn!==0?rn&-rn:cR.transition!==null?(qu===0&&(qu=Jb()),qu):(e=Ke,e!==0||(e=window.event,e=e===void 0?16:i_(e.type)),e):1}function Ls(e,t,n,s){if(50<Al)throw Al=0,xp=null,Error(J(185));Rc(e,n,s),(!(Oe&2)||e!==Gt)&&(e===Gt&&(!(Oe&2)&&(ff|=n),Ft===4&&Xr(e,rn)),Wn(e,s),n===1&&Oe===0&&!(t.mode&1)&&(Co=Nt()+500,lf&&Ei()))}function Wn(e,t){var n=e.callbackNode;c2(e,t);var s=cd(e,e===Gt?rn:0);if(s===0)n!==null&&gy(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&gy(n),t===1)e.tag===0?lR(lw.bind(null,e)):S_(lw.bind(null,e)),rR(function(){!(Oe&6)&&Ei()}),n=null;else{switch(Zb(s)){case 1:n=Og;break;case 4:n=Qb;break;case 16:n=ld;break;case 536870912:n=Xb;break;default:n=ld}n=bS(n,pS.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function pS(e,t){if(Hu=-1,qu=0,Oe&6)throw Error(J(327));var n=e.callbackNode;if(ao()&&e.callbackNode!==n)return null;var s=cd(e,e===Gt?rn:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Ed(e,s);else{t=s;var r=Oe;Oe|=2;var a=xS();(Gt!==e||rn!==t)&&(xr=null,Co=Nt()+500,ra(e,t));do try{kR();break}catch(l){gS(e,l)}while(!0);Xg(),Sd.current=a,Oe=r,Rt!==null?t=0:(Gt=null,rn=0,t=Ft)}if(t!==0){if(t===2&&(r=Wm(e),r!==0&&(s=r,t=vp(e,r))),t===1)throw n=lc,ra(e,0),Xr(e,s),Wn(e,Nt()),n;if(t===6)Xr(e,s);else{if(r=e.current.alternate,!(s&30)&&!ER(r)&&(t=Ed(e,s),t===2&&(a=Wm(e),a!==0&&(s=a,t=vp(e,a))),t===1))throw n=lc,ra(e,0),Xr(e,s),Wn(e,Nt()),n;switch(e.finishedWork=r,e.finishedLanes=s,t){case 0:case 1:throw Error(J(345));case 2:zi(e,On,xr);break;case 3:if(Xr(e,s),(s&130023424)===s&&(t=fx+500-Nt(),10<t)){if(cd(e,0)!==0)break;if(r=e.suspendedLanes,(r&s)!==s){kn(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=Jm(zi.bind(null,e,On,xr),t);break}zi(e,On,xr);break;case 4:if(Xr(e,s),(s&4194240)===s)break;for(t=e.eventTimes,r=-1;0<s;){var o=31-Is(s);a=1<<o,o=t[o],o>r&&(r=o),s&=~a}if(s=r,s=Nt()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*CR(s/1960))-s,10<s){e.timeoutHandle=Jm(zi.bind(null,e,On,xr),s);break}zi(e,On,xr);break;case 5:zi(e,On,xr);break;default:throw Error(J(329))}}}return Wn(e,Nt()),e.callbackNode===n?pS.bind(null,e):null}function vp(e,t){var n=Rl;return e.current.memoizedState.isDehydrated&&(ra(e,t).flags|=256),e=Ed(e,t),e!==2&&(t=On,On=n,t!==null&&yp(t)),e}function yp(e){On===null?On=e:On.push.apply(On,e)}function ER(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var r=n[s],a=r.getSnapshot;r=r.value;try{if(!Os(a(),r))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xr(e,t){for(t&=~dx,t&=~ff,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Is(t),s=1<<n;e[n]=-1,t&=~s}}function lw(e){if(Oe&6)throw Error(J(327));ao();var t=cd(e,0);if(!(t&1))return Wn(e,Nt()),null;var n=Ed(e,t);if(e.tag!==0&&n===2){var s=Wm(e);s!==0&&(t=s,n=vp(e,s))}if(n===1)throw n=lc,ra(e,0),Xr(e,t),Wn(e,Nt()),n;if(n===6)throw Error(J(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,zi(e,On,xr),Wn(e,Nt()),null}function hx(e,t){var n=Oe;Oe|=1;try{return e(t)}finally{Oe=n,Oe===0&&(Co=Nt()+500,lf&&Ei())}}function fa(e){ii!==null&&ii.tag===0&&!(Oe&6)&&ao();var t=Oe;Oe|=1;var n=xs.transition,s=Ke;try{if(xs.transition=null,Ke=1,e)return e()}finally{Ke=s,xs.transition=n,Oe=t,!(Oe&6)&&Ei()}}function mx(){Hn=Ya.current,ot(Ya)}function ra(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,sR(n)),Rt!==null)for(n=Rt.return;n!==null;){var s=n;switch(Gg(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&md();break;case 3:So(),ot(Vn),ot(yn),sx();break;case 5:nx(s);break;case 4:So();break;case 13:ot(ft);break;case 19:ot(ft);break;case 10:Jg(s.type._context);break;case 22:case 23:mx()}n=n.return}if(Gt=e,Rt=e=pi(e.current,null),rn=Hn=t,Ft=0,lc=null,dx=ff=da=0,On=Rl=null,Gi!==null){for(t=0;t<Gi.length;t++)if(n=Gi[t],s=n.interleaved,s!==null){n.interleaved=null;var r=s.next,a=n.pending;if(a!==null){var o=a.next;a.next=r,s.next=o}n.pending=s}Gi=null}return e}function gS(e,t){do{var n=Rt;try{if(Xg(),Vu.current=_d,bd){for(var s=mt.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}bd=!1}if(ua=0,Ht=Lt=mt=null,kl=!1,ic=0,ux.current=null,n===null||n.return===null){Ft=1,lc=t,Rt=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=rn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var x=Yy(o);if(x!==null){x.flags&=-257,Qy(x,o,l,a,t),x.mode&1&&Gy(a,u,t),t=x,c=u;var j=t.updateQueue;if(j===null){var v=new Set;v.add(c),t.updateQueue=v}else j.add(c);break e}else{if(!(t&1)){Gy(a,u,t),px();break e}c=Error(J(426))}}else if(ct&&l.mode&1){var y=Yy(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Qy(y,o,l,a,t),Yg(No(c,l));break e}}a=c=No(c,l),Ft!==4&&(Ft=2),Rl===null?Rl=[a]:Rl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var p=Z_(a,c,t);Vy(a,p);break e;case 1:l=c;var g=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof g.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(hi===null||!hi.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var b=eS(a,l,t);Vy(a,b);break e}}a=a.return}while(a!==null)}yS(n)}catch(S){t=S,Rt===n&&n!==null&&(Rt=n=n.return);continue}break}while(!0)}function xS(){var e=Sd.current;return Sd.current=_d,e===null?_d:e}function px(){(Ft===0||Ft===3||Ft===2)&&(Ft=4),Gt===null||!(da&268435455)&&!(ff&268435455)||Xr(Gt,rn)}function Ed(e,t){var n=Oe;Oe|=2;var s=xS();(Gt!==e||rn!==t)&&(xr=null,ra(e,t));do try{TR();break}catch(r){gS(e,r)}while(!0);if(Xg(),Oe=n,Sd.current=s,Rt!==null)throw Error(J(261));return Gt=null,rn=0,Ft}function TR(){for(;Rt!==null;)vS(Rt)}function kR(){for(;Rt!==null&&!e2();)vS(Rt)}function vS(e){var t=jS(e.alternate,e,Hn);e.memoizedProps=e.pendingProps,t===null?yS(e):Rt=t,ux.current=null}function yS(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=bR(n,t),n!==null){n.flags&=32767,Rt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ft=6,Rt=null;return}}else if(n=jR(n,t,Hn),n!==null){Rt=n;return}if(t=t.sibling,t!==null){Rt=t;return}Rt=t=e}while(t!==null);Ft===0&&(Ft=5)}function zi(e,t,n){var s=Ke,r=xs.transition;try{xs.transition=null,Ke=1,PR(e,t,n,s)}finally{xs.transition=r,Ke=s}return null}function PR(e,t,n,s){do ao();while(ii!==null);if(Oe&6)throw Error(J(327));n=e.finishedWork;var r=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(J(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(u2(e,a),e===Gt&&(Rt=Gt=null,rn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||xu||(xu=!0,bS(ld,function(){return ao(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=xs.transition,xs.transition=null;var o=Ke;Ke=1;var l=Oe;Oe|=4,ux.current=null,SR(e,n),hS(n,e),Q2(Qm),ud=!!Ym,Qm=Ym=null,e.current=n,NR(n),t2(),Oe=l,Ke=o,xs.transition=a}else e.current=n;if(xu&&(xu=!1,ii=e,Cd=r),a=e.pendingLanes,a===0&&(hi=null),r2(n.stateNode),Wn(e,Nt()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],s(r.value,{componentStack:r.stack,digest:r.digest});if(Nd)throw Nd=!1,e=gp,gp=null,e;return Cd&1&&e.tag!==0&&ao(),a=e.pendingLanes,a&1?e===xp?Al++:(Al=0,xp=e):Al=0,Ei(),null}function ao(){if(ii!==null){var e=Zb(Cd),t=xs.transition,n=Ke;try{if(xs.transition=null,Ke=16>e?16:e,ii===null)var s=!1;else{if(e=ii,ii=null,Cd=0,Oe&6)throw Error(J(331));var r=Oe;for(Oe|=4,ue=e.current;ue!==null;){var a=ue,o=a.child;if(ue.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ue=u;ue!==null;){var d=ue;switch(d.tag){case 0:case 11:case 15:Pl(8,d,a)}var f=d.child;if(f!==null)f.return=d,ue=f;else for(;ue!==null;){d=ue;var m=d.sibling,x=d.return;if(uS(d),d===u){ue=null;break}if(m!==null){m.return=x,ue=m;break}ue=x}}}var j=a.alternate;if(j!==null){var v=j.child;if(v!==null){j.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}ue=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,ue=o;else e:for(;ue!==null;){if(a=ue,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Pl(9,a,a.return)}var p=a.sibling;if(p!==null){p.return=a.return,ue=p;break e}ue=a.return}}var g=e.current;for(ue=g;ue!==null;){o=ue;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,ue=w;else e:for(o=g;ue!==null;){if(l=ue,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:df(9,l)}}catch(S){wt(l,l.return,S)}if(l===o){ue=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,ue=b;break e}ue=l.return}}if(Oe=r,Ei(),rr&&typeof rr.onPostCommitFiberRoot=="function")try{rr.onPostCommitFiberRoot(nf,e)}catch{}s=!0}return s}finally{Ke=n,xs.transition=t}}return!1}function cw(e,t,n){t=No(n,t),t=Z_(e,t,1),e=fi(e,t,1),t=kn(),e!==null&&(Rc(e,1,t),Wn(e,t))}function wt(e,t,n){if(e.tag===3)cw(e,e,n);else for(;t!==null;){if(t.tag===3){cw(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(hi===null||!hi.has(s))){e=No(n,e),e=eS(t,e,1),t=fi(t,e,1),e=kn(),t!==null&&(Rc(t,1,e),Wn(t,e));break}}t=t.return}}function RR(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=kn(),e.pingedLanes|=e.suspendedLanes&n,Gt===e&&(rn&n)===n&&(Ft===4||Ft===3&&(rn&130023424)===rn&&500>Nt()-fx?ra(e,0):dx|=n),Wn(e,t)}function wS(e,t){t===0&&(e.mode&1?(t=ou,ou<<=1,!(ou&130023424)&&(ou=4194304)):t=1);var n=kn();e=Tr(e,t),e!==null&&(Rc(e,t,n),Wn(e,n))}function AR(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),wS(e,n)}function DR(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(J(314))}s!==null&&s.delete(t),wS(e,n)}var jS;jS=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Vn.current)Bn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Bn=!1,wR(e,t,n);Bn=!!(e.flags&131072)}else Bn=!1,ct&&t.flags&1048576&&N_(t,xd,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Wu(e,t),e=t.pendingProps;var r=jo(t,yn.current);io(t,n),r=ix(null,t,s,e,r,n);var a=ax();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,zn(s)?(a=!0,pd(t)):a=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,ex(t),r.updater=uf,t.stateNode=r,r._reactInternals=t,ip(t,s,e,n),t=lp(null,t,s,!0,a,n)):(t.tag=0,ct&&a&&Kg(t),Cn(null,t,r,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Wu(e,t),e=t.pendingProps,r=s._init,s=r(s._payload),t.type=s,r=t.tag=MR(s),e=Ts(s,e),r){case 0:t=op(null,t,s,e,n);break e;case 1:t=Zy(null,t,s,e,n);break e;case 11:t=Xy(null,t,s,e,n);break e;case 14:t=Jy(null,t,s,Ts(s.type,e),n);break e}throw Error(J(306,s,""))}return t;case 0:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:Ts(s,r),op(e,t,s,r,n);case 1:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:Ts(s,r),Zy(e,t,s,r,n);case 3:e:{if(rS(t),e===null)throw Error(J(387));s=t.pendingProps,a=t.memoizedState,r=a.element,R_(e,t),wd(t,s,null,n);var o=t.memoizedState;if(s=o.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){r=No(Error(J(423)),t),t=ew(e,t,s,n,r);break e}else if(s!==r){r=No(Error(J(424)),t),t=ew(e,t,s,n,r);break e}else for(Kn=di(t.stateNode.containerInfo.firstChild),Gn=t,ct=!0,$s=null,n=k_(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(bo(),s===r){t=kr(e,t,n);break e}Cn(e,t,s,n)}t=t.child}return t;case 5:return A_(t),e===null&&np(t),s=t.type,r=t.pendingProps,a=e!==null?e.memoizedProps:null,o=r.children,Xm(s,r)?o=null:a!==null&&Xm(s,a)&&(t.flags|=32),sS(e,t),Cn(e,t,o,n),t.child;case 6:return e===null&&np(t),null;case 13:return iS(e,t,n);case 4:return tx(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=_o(t,null,s,n):Cn(e,t,s,n),t.child;case 11:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:Ts(s,r),Xy(e,t,s,r,n);case 7:return Cn(e,t,t.pendingProps,n),t.child;case 8:return Cn(e,t,t.pendingProps.children,n),t.child;case 12:return Cn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,r=t.pendingProps,a=t.memoizedProps,o=r.value,nt(vd,s._currentValue),s._currentValue=o,a!==null)if(Os(a.value,o)){if(a.children===r.children&&!Vn.current){t=kr(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(a.tag===1){c=Sr(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),sp(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(J(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),sp(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Cn(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,s=t.pendingProps.children,io(t,n),r=ws(r),s=s(r),t.flags|=1,Cn(e,t,s,n),t.child;case 14:return s=t.type,r=Ts(s,t.pendingProps),r=Ts(s.type,r),Jy(e,t,s,r,n);case 15:return tS(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:Ts(s,r),Wu(e,t),t.tag=1,zn(s)?(e=!0,pd(t)):e=!1,io(t,n),J_(t,s,r),ip(t,s,r,n),lp(null,t,s,!0,e,n);case 19:return aS(e,t,n);case 22:return nS(e,t,n)}throw Error(J(156,t.tag))};function bS(e,t){return Yb(e,t)}function $R(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ps(e,t,n,s){return new $R(e,t,n,s)}function gx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function MR(e){if(typeof e=="function")return gx(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Mg)return 11;if(e===Ig)return 14}return 2}function pi(e,t){var n=e.alternate;return n===null?(n=ps(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ku(e,t,n,s,r,a){var o=2;if(s=e,typeof e=="function")gx(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Fa:return ia(n.children,r,a,t);case $g:o=8,r|=8;break;case km:return e=ps(12,n,t,r|2),e.elementType=km,e.lanes=a,e;case Pm:return e=ps(13,n,t,r),e.elementType=Pm,e.lanes=a,e;case Rm:return e=ps(19,n,t,r),e.elementType=Rm,e.lanes=a,e;case Ab:return hf(n,r,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Pb:o=10;break e;case Rb:o=9;break e;case Mg:o=11;break e;case Ig:o=14;break e;case qr:o=16,s=null;break e}throw Error(J(130,e==null?e:typeof e,""))}return t=ps(o,n,t,r),t.elementType=e,t.type=s,t.lanes=a,t}function ia(e,t,n,s){return e=ps(7,e,s,t),e.lanes=n,e}function hf(e,t,n,s){return e=ps(22,e,s,t),e.elementType=Ab,e.lanes=n,e.stateNode={isHidden:!1},e}function Ih(e,t,n){return e=ps(6,e,null,t),e.lanes=n,e}function Lh(e,t,n){return t=ps(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function IR(e,t,n,s,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xh(0),this.expirationTimes=xh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xh(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function xx(e,t,n,s,r,a,o,l,c){return e=new IR(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=ps(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ex(a),e}function LR(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Oa,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function _S(e){if(!e)return yi;e=e._reactInternals;e:{if(va(e)!==e||e.tag!==1)throw Error(J(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(zn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(J(171))}if(e.tag===1){var n=e.type;if(zn(n))return __(e,n,t)}return t}function SS(e,t,n,s,r,a,o,l,c){return e=xx(n,s,!0,e,r,a,o,l,c),e.context=_S(null),n=e.current,s=kn(),r=mi(n),a=Sr(s,r),a.callback=t??null,fi(n,a,r),e.current.lanes=r,Rc(e,r,s),Wn(e,s),e}function mf(e,t,n,s){var r=t.current,a=kn(),o=mi(r);return n=_S(n),t.context===null?t.context=n:t.pendingContext=n,t=Sr(a,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=fi(r,t,o),e!==null&&(Ls(e,r,o,a),Uu(e,r,o)),o}function Td(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function uw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function vx(e,t){uw(e,t),(e=e.alternate)&&uw(e,t)}function OR(){return null}var NS=typeof reportError=="function"?reportError:function(e){console.error(e)};function yx(e){this._internalRoot=e}pf.prototype.render=yx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(J(409));mf(e,t,null,null)};pf.prototype.unmount=yx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;fa(function(){mf(null,e,null,null)}),t[Er]=null}};function pf(e){this._internalRoot=e}pf.prototype.unstable_scheduleHydration=function(e){if(e){var t=n_();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Qr.length&&t!==0&&t<Qr[n].priority;n++);Qr.splice(n,0,e),n===0&&r_(e)}};function wx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function gf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function dw(){}function FR(e,t,n,s,r){if(r){if(typeof s=="function"){var a=s;s=function(){var u=Td(o);a.call(u)}}var o=SS(t,s,e,0,null,!1,!1,"",dw);return e._reactRootContainer=o,e[Er]=o.current,ec(e.nodeType===8?e.parentNode:e),fa(),o}for(;r=e.lastChild;)e.removeChild(r);if(typeof s=="function"){var l=s;s=function(){var u=Td(c);l.call(u)}}var c=xx(e,0,!1,null,null,!1,!1,"",dw);return e._reactRootContainer=c,e[Er]=c.current,ec(e.nodeType===8?e.parentNode:e),fa(function(){mf(t,c,n,s)}),c}function xf(e,t,n,s,r){var a=n._reactRootContainer;if(a){var o=a;if(typeof r=="function"){var l=r;r=function(){var c=Td(o);l.call(c)}}mf(t,o,e,r)}else o=FR(n,t,e,r,s);return Td(o)}e_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=vl(t.pendingLanes);n!==0&&(Fg(t,n|1),Wn(t,Nt()),!(Oe&6)&&(Co=Nt()+500,Ei()))}break;case 13:fa(function(){var s=Tr(e,1);if(s!==null){var r=kn();Ls(s,e,1,r)}}),vx(e,1)}};Bg=function(e){if(e.tag===13){var t=Tr(e,134217728);if(t!==null){var n=kn();Ls(t,e,134217728,n)}vx(e,134217728)}};t_=function(e){if(e.tag===13){var t=mi(e),n=Tr(e,t);if(n!==null){var s=kn();Ls(n,e,t,s)}vx(e,t)}};n_=function(){return Ke};s_=function(e,t){var n=Ke;try{return Ke=e,t()}finally{Ke=n}};Um=function(e,t,n){switch(t){case"input":if($m(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var r=of(s);if(!r)throw Error(J(90));$b(s),$m(s,r)}}}break;case"textarea":Ib(e,n);break;case"select":t=n.value,t!=null&&to(e,!!n.multiple,t,!1)}};zb=hx;Wb=fa;var BR={usingClientEntryPoint:!1,Events:[Dc,za,of,Ub,Vb,hx]},ul={findFiberByHostInstance:Ki,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},UR={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Kb(e),e===null?null:e.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||OR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vu.isDisabled&&vu.supportsFiber)try{nf=vu.inject(UR),rr=vu}catch{}}Zn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BR;Zn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wx(t))throw Error(J(200));return LR(e,t,null,n)};Zn.createRoot=function(e,t){if(!wx(e))throw Error(J(299));var n=!1,s="",r=NS;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=xx(e,1,!1,null,null,n,!1,s,r),e[Er]=t.current,ec(e.nodeType===8?e.parentNode:e),new yx(t)};Zn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(J(188)):(e=Object.keys(e).join(","),Error(J(268,e)));return e=Kb(t),e=e===null?null:e.stateNode,e};Zn.flushSync=function(e){return fa(e)};Zn.hydrate=function(e,t,n){if(!gf(t))throw Error(J(200));return xf(null,e,t,!0,n)};Zn.hydrateRoot=function(e,t,n){if(!wx(e))throw Error(J(405));var s=n!=null&&n.hydratedSources||null,r=!1,a="",o=NS;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=SS(t,null,e,1,n??null,r,!1,a,o),e[Er]=t.current,ec(e),s)for(e=0;e<s.length;e++)n=s[e],r=n._getVersion,r=r(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new pf(t)};Zn.render=function(e,t,n){if(!gf(t))throw Error(J(200));return xf(null,e,t,!1,n)};Zn.unmountComponentAtNode=function(e){if(!gf(e))throw Error(J(40));return e._reactRootContainer?(fa(function(){xf(null,null,e,!1,function(){e._reactRootContainer=null,e[Er]=null})}),!0):!1};Zn.unstable_batchedUpdates=hx;Zn.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!gf(n))throw Error(J(200));if(e==null||e._reactInternals===void 0)throw Error(J(38));return xf(e,t,n,!1,s)};Zn.version="18.3.1-next-f1338f8080-20240426";function CS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(CS)}catch(e){console.error(e)}}CS(),Cb.exports=Zn;var gs=Cb.exports;const VR=mb(gs);var ES,fw=gs;ES=fw.createRoot,fw.hydrateRoot;const zR=1,WR=1e6;let Oh=0;function HR(){return Oh=(Oh+1)%Number.MAX_SAFE_INTEGER,Oh.toString()}const Fh=new Map,hw=e=>{if(Fh.has(e))return;const t=setTimeout(()=>{Fh.delete(e),Dl({type:"REMOVE_TOAST",toastId:e})},WR);Fh.set(e,t)},qR=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,zR)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?hw(n):e.toasts.forEach(s=>{hw(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Gu=[];let Yu={toasts:[]};function Dl(e){Yu=qR(Yu,e),Gu.forEach(t=>{t(Yu)})}function ai({...e}){const t=HR(),n=r=>Dl({type:"UPDATE_TOAST",toast:{...r,id:t}}),s=()=>Dl({type:"DISMISS_TOAST",toastId:t});return Dl({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:r=>{r||s()}}}),{id:t,dismiss:s,update:n}}function An(){const[e,t]=h.useState(Yu);return h.useEffect(()=>(Gu.push(t),()=>{const n=Gu.indexOf(t);n>-1&&Gu.splice(n,1)}),[e]),{...e,toast:ai,dismiss:n=>Dl({type:"DISMISS_TOAST",toastId:n})}}function ge(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e==null||e(r),n===!1||!r.defaultPrevented)return t==null?void 0:t(r)}}function mw(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function TS(...e){return t=>{let n=!1;const s=e.map(r=>{const a=mw(r,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let r=0;r<s.length;r++){const a=s[r];typeof a=="function"?a():mw(e[r],null)}}}}function Ve(...e){return h.useCallback(TS(...e),e)}function KR(e,t){const n=h.createContext(t),s=a=>{const{children:o,...l}=a,c=h.useMemo(()=>l,Object.values(l));return i.jsx(n.Provider,{value:c,children:o})};s.displayName=e+"Provider";function r(a){const o=h.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[s,r]}function ts(e,t=[]){let n=[];function s(a,o){const l=h.createContext(o),c=n.length;n=[...n,o];const u=f=>{var p;const{scope:m,children:x,...j}=f,v=((p=m==null?void 0:m[e])==null?void 0:p[c])||l,y=h.useMemo(()=>j,Object.values(j));return i.jsx(v.Provider,{value:y,children:x})};u.displayName=a+"Provider";function d(f,m){var v;const x=((v=m==null?void 0:m[e])==null?void 0:v[c])||l,j=h.useContext(x);if(j)return j;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const r=()=>{const a=n.map(o=>h.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return r.scopeName=e,[s,GR(r,...t)]}function GR(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(a){const o=s.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function Eo(e){const t=QR(e),n=h.forwardRef((s,r)=>{const{children:a,...o}=s,l=h.Children.toArray(a),c=l.find(JR);if(c){const u=c.props.children,d=l.map(f=>f===c?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:r,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:r,children:a})});return n.displayName=`${e}.Slot`,n}var YR=Eo("Slot");function QR(e){const t=h.forwardRef((n,s)=>{const{children:r,...a}=n;if(h.isValidElement(r)){const o=eA(r),l=ZR(a,r.props);return r.type!==h.Fragment&&(l.ref=s?TS(s,o):o),h.cloneElement(r,l)}return h.Children.count(r)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var kS=Symbol("radix.slottable");function XR(e){const t=({children:n})=>i.jsx(i.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=kS,t}function JR(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===kS}function ZR(e,t){const n={...t};for(const s in t){const r=e[s],a=t[s];/^on[A-Z]/.test(s)?r&&a?n[s]=(...l)=>{const c=a(...l);return r(...l),c}:r&&(n[s]=r):s==="style"?n[s]={...r,...a}:s==="className"&&(n[s]=[r,a].filter(Boolean).join(" "))}return{...e,...n}}function eA(e){var s,r;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function jx(e){const t=e+"CollectionProvider",[n,s]=ts(t),[r,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:y,children:p}=v,g=De.useRef(null),w=De.useRef(new Map).current;return i.jsx(r,{scope:y,itemMap:w,collectionRef:g,children:p})};o.displayName=t;const l=e+"CollectionSlot",c=Eo(l),u=De.forwardRef((v,y)=>{const{scope:p,children:g}=v,w=a(l,p),b=Ve(y,w.collectionRef);return i.jsx(c,{ref:b,children:g})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",m=Eo(d),x=De.forwardRef((v,y)=>{const{scope:p,children:g,...w}=v,b=De.useRef(null),S=Ve(y,b),T=a(d,p);return De.useEffect(()=>(T.itemMap.set(b,{ref:b,...w}),()=>void T.itemMap.delete(b))),i.jsx(m,{[f]:"",ref:S,children:g})});x.displayName=d;function j(v){const y=a(e+"CollectionConsumer",v);return De.useCallback(()=>{const g=y.collectionRef.current;if(!g)return[];const w=Array.from(g.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((T,N)=>w.indexOf(T.ref.current)-w.indexOf(N.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:u,ItemSlot:x},j,s]}var tA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],xe=tA.reduce((e,t)=>{const n=Eo(`Primitive.${t}`),s=h.forwardRef((r,a)=>{const{asChild:o,...l}=r,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:a})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function PS(e,t){e&&gs.flushSync(()=>e.dispatchEvent(t))}function Jn(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}function nA(e,t=globalThis==null?void 0:globalThis.document){const n=Jn(e);h.useEffect(()=>{const s=r=>{r.key==="Escape"&&n(r)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var sA="DismissableLayer",wp="dismissableLayer.update",rA="dismissableLayer.pointerDownOutside",iA="dismissableLayer.focusOutside",pw,RS=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Mc=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:r,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,u=h.useContext(RS),[d,f]=h.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=h.useState({}),j=Ve(t,N=>f(N)),v=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),p=v.indexOf(y),g=d?v.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,b=g>=p,S=oA(N=>{const C=N.target,R=[...u.branches].some(D=>D.contains(C));!b||R||(r==null||r(N),o==null||o(N),N.defaultPrevented||l==null||l())},m),T=lA(N=>{const C=N.target;[...u.branches].some(D=>D.contains(C))||(a==null||a(N),o==null||o(N),N.defaultPrevented||l==null||l())},m);return nA(N=>{g===u.layers.size-1&&(s==null||s(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},m),h.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(pw=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),gw(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=pw)}},[d,m,n,u]),h.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),gw())},[d,u]),h.useEffect(()=>{const N=()=>x({});return document.addEventListener(wp,N),()=>document.removeEventListener(wp,N)},[]),i.jsx(xe.div,{...c,ref:j,style:{pointerEvents:w?b?"auto":"none":void 0,...e.style},onFocusCapture:ge(e.onFocusCapture,T.onFocusCapture),onBlurCapture:ge(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:ge(e.onPointerDownCapture,S.onPointerDownCapture)})});Mc.displayName=sA;var aA="DismissableLayerBranch",AS=h.forwardRef((e,t)=>{const n=h.useContext(RS),s=h.useRef(null),r=Ve(t,s);return h.useEffect(()=>{const a=s.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),i.jsx(xe.div,{...e,ref:r})});AS.displayName=aA;function oA(e,t=globalThis==null?void 0:globalThis.document){const n=Jn(e),s=h.useRef(!1),r=h.useRef(()=>{});return h.useEffect(()=>{const a=l=>{if(l.target&&!s.current){let c=function(){DS(rA,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",r.current),r.current=c,t.addEventListener("click",r.current,{once:!0})):c()}else t.removeEventListener("click",r.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",r.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function lA(e,t=globalThis==null?void 0:globalThis.document){const n=Jn(e),s=h.useRef(!1);return h.useEffect(()=>{const r=a=>{a.target&&!s.current&&DS(iA,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",r),()=>t.removeEventListener("focusin",r)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function gw(){const e=new CustomEvent(wp);document.dispatchEvent(e)}function DS(e,t,n,{discrete:s}){const r=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&r.addEventListener(e,t,{once:!0}),s?PS(r,a):r.dispatchEvent(a)}var cA=Mc,uA=AS,Tt=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},dA="Portal",Ic=h.forwardRef((e,t)=>{var l;const{container:n,...s}=e,[r,a]=h.useState(!1);Tt(()=>a(!0),[]);const o=n||r&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?VR.createPortal(i.jsx(xe.div,{...s,ref:t}),o):null});Ic.displayName=dA;function fA(e,t){return h.useReducer((n,s)=>t[n][s]??n,e)}var dr=e=>{const{present:t,children:n}=e,s=hA(t),r=typeof n=="function"?n({present:s.isPresent}):h.Children.only(n),a=Ve(s.ref,mA(r));return typeof n=="function"||s.isPresent?h.cloneElement(r,{ref:a}):null};dr.displayName="Presence";function hA(e){const[t,n]=h.useState(),s=h.useRef(null),r=h.useRef(e),a=h.useRef("none"),o=e?"mounted":"unmounted",[l,c]=fA(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const u=yu(s.current);a.current=l==="mounted"?u:"none"},[l]),Tt(()=>{const u=s.current,d=r.current;if(d!==e){const m=a.current,x=yu(u);e?c("MOUNT"):x==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==x?"ANIMATION_OUT":"UNMOUNT"),r.current=e}},[e,c]),Tt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=x=>{const v=yu(s.current).includes(x.animationName);if(x.target===t&&v&&(c("ANIMATION_END"),!r.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},m=x=>{x.target===t&&(a.current=yu(s.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(u=>{s.current=u?getComputedStyle(u):null,n(u)},[])}}function yu(e){return(e==null?void 0:e.animationName)||"none"}function mA(e){var s,r;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var pA=Pg[" useInsertionEffect ".trim().toString()]||Tt;function Pr({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[r,a,o]=gA({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:r;{const d=h.useRef(e!==void 0);h.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${s} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,s])}const u=h.useCallback(d=>{var f;if(l){const m=xA(d)?d(e):d;m!==e&&((f=o.current)==null||f.call(o,m))}else a(d)},[l,e,a,o]);return[c,u]}function gA({defaultProp:e,onChange:t}){const[n,s]=h.useState(e),r=h.useRef(n),a=h.useRef(t);return pA(()=>{a.current=t},[t]),h.useEffect(()=>{var o;r.current!==n&&((o=a.current)==null||o.call(a,n),r.current=n)},[n,r]),[n,s,a]}function xA(e){return typeof e=="function"}var $S=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),vA="VisuallyHidden",vf=h.forwardRef((e,t)=>i.jsx(xe.span,{...e,ref:t,style:{...$S,...e.style}}));vf.displayName=vA;var yA=vf,bx="ToastProvider",[_x,wA,jA]=jx("Toast"),[MS,v7]=ts("Toast",[jA]),[bA,yf]=MS(bx),IS=e=>{const{__scopeToast:t,label:n="Notification",duration:s=5e3,swipeDirection:r="right",swipeThreshold:a=50,children:o}=e,[l,c]=h.useState(null),[u,d]=h.useState(0),f=h.useRef(!1),m=h.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${bx}\`. Expected non-empty \`string\`.`),i.jsx(_x.Provider,{scope:t,children:i.jsx(bA,{scope:t,label:n,duration:s,swipeDirection:r,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:h.useCallback(()=>d(x=>x+1),[]),onToastRemove:h.useCallback(()=>d(x=>x-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};IS.displayName=bx;var LS="ToastViewport",_A=["F8"],jp="toast.viewportPause",bp="toast.viewportResume",OS=h.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:s=_A,label:r="Notifications ({hotkey})",...a}=e,o=yf(LS,n),l=wA(n),c=h.useRef(null),u=h.useRef(null),d=h.useRef(null),f=h.useRef(null),m=Ve(t,f,o.onViewportChange),x=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=o.toastCount>0;h.useEffect(()=>{const y=p=>{var w;s.length!==0&&s.every(b=>p[b]||p.code===b)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[s]),h.useEffect(()=>{const y=c.current,p=f.current;if(j&&y&&p){const g=()=>{if(!o.isClosePausedRef.current){const T=new CustomEvent(jp);p.dispatchEvent(T),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const T=new CustomEvent(bp);p.dispatchEvent(T),o.isClosePausedRef.current=!1}},b=T=>{!y.contains(T.relatedTarget)&&w()},S=()=>{y.contains(document.activeElement)||w()};return y.addEventListener("focusin",g),y.addEventListener("focusout",b),y.addEventListener("pointermove",g),y.addEventListener("pointerleave",S),window.addEventListener("blur",g),window.addEventListener("focus",w),()=>{y.removeEventListener("focusin",g),y.removeEventListener("focusout",b),y.removeEventListener("pointermove",g),y.removeEventListener("pointerleave",S),window.removeEventListener("blur",g),window.removeEventListener("focus",w)}}},[j,o.isClosePausedRef]);const v=h.useCallback(({tabbingDirection:y})=>{const g=l().map(w=>{const b=w.ref.current,S=[b,...IA(b)];return y==="forwards"?S:S.reverse()});return(y==="forwards"?g.reverse():g).flat()},[l]);return h.useEffect(()=>{const y=f.current;if(y){const p=g=>{var S,T,N;const w=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!w){const C=document.activeElement,R=g.shiftKey;if(g.target===y&&R){(S=u.current)==null||S.focus();return}const $=v({tabbingDirection:R?"backwards":"forwards"}),I=$.findIndex(B=>B===C);Bh($.slice(I+1))?g.preventDefault():R?(T=u.current)==null||T.focus():(N=d.current)==null||N.focus()}};return y.addEventListener("keydown",p),()=>y.removeEventListener("keydown",p)}},[l,v]),i.jsxs(uA,{ref:c,role:"region","aria-label":r.replace("{hotkey}",x),tabIndex:-1,style:{pointerEvents:j?void 0:"none"},children:[j&&i.jsx(_p,{ref:u,onFocusFromOutsideViewport:()=>{const y=v({tabbingDirection:"forwards"});Bh(y)}}),i.jsx(_x.Slot,{scope:n,children:i.jsx(xe.ol,{tabIndex:-1,...a,ref:m})}),j&&i.jsx(_p,{ref:d,onFocusFromOutsideViewport:()=>{const y=v({tabbingDirection:"backwards"});Bh(y)}})]})});OS.displayName=LS;var FS="ToastFocusProxy",_p=h.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:s,...r}=e,a=yf(FS,n);return i.jsx(vf,{"aria-hidden":!0,tabIndex:0,...r,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&s()}})});_p.displayName=FS;var Lc="Toast",SA="toast.swipeStart",NA="toast.swipeMove",CA="toast.swipeCancel",EA="toast.swipeEnd",BS=h.forwardRef((e,t)=>{const{forceMount:n,open:s,defaultOpen:r,onOpenChange:a,...o}=e,[l,c]=Pr({prop:s,defaultProp:r??!0,onChange:a,caller:Lc});return i.jsx(dr,{present:n||l,children:i.jsx(PA,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Jn(e.onPause),onResume:Jn(e.onResume),onSwipeStart:ge(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ge(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ge(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ge(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});BS.displayName=Lc;var[TA,kA]=MS(Lc,{onClose(){}}),PA=h.forwardRef((e,t)=>{const{__scopeToast:n,type:s="foreground",duration:r,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:x,...j}=e,v=yf(Lc,n),[y,p]=h.useState(null),g=Ve(t,B=>p(B)),w=h.useRef(null),b=h.useRef(null),S=r||v.duration,T=h.useRef(0),N=h.useRef(S),C=h.useRef(0),{onToastAdd:R,onToastRemove:D}=v,k=Jn(()=>{var Q;(y==null?void 0:y.contains(document.activeElement))&&((Q=v.viewport)==null||Q.focus()),o()}),$=h.useCallback(B=>{!B||B===1/0||(window.clearTimeout(C.current),T.current=new Date().getTime(),C.current=window.setTimeout(k,B))},[k]);h.useEffect(()=>{const B=v.viewport;if(B){const Q=()=>{$(N.current),u==null||u()},O=()=>{const V=new Date().getTime()-T.current;N.current=N.current-V,window.clearTimeout(C.current),c==null||c()};return B.addEventListener(jp,O),B.addEventListener(bp,Q),()=>{B.removeEventListener(jp,O),B.removeEventListener(bp,Q)}}},[v.viewport,S,c,u,$]),h.useEffect(()=>{a&&!v.isClosePausedRef.current&&$(S)},[a,S,v.isClosePausedRef,$]),h.useEffect(()=>(R(),()=>D()),[R,D]);const I=h.useMemo(()=>y?KS(y):null,[y]);return v.viewport?i.jsxs(i.Fragment,{children:[I&&i.jsx(RA,{__scopeToast:n,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:I}),i.jsx(TA,{scope:n,onClose:k,children:gs.createPortal(i.jsx(_x.ItemSlot,{scope:n,children:i.jsx(cA,{asChild:!0,onEscapeKeyDown:ge(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||k(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(xe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":v.swipeDirection,...j,ref:g,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ge(e.onKeyDown,B=>{B.key==="Escape"&&(l==null||l(B.nativeEvent),B.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:ge(e.onPointerDown,B=>{B.button===0&&(w.current={x:B.clientX,y:B.clientY})}),onPointerMove:ge(e.onPointerMove,B=>{if(!w.current)return;const Q=B.clientX-w.current.x,O=B.clientY-w.current.y,V=!!b.current,A=["left","right"].includes(v.swipeDirection),_=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,E=A?_(0,Q):0,P=A?0:_(0,O),L=B.pointerType==="touch"?10:2,M={x:E,y:P},H={originalEvent:B,delta:M};V?(b.current=M,wu(NA,f,H,{discrete:!1})):xw(M,v.swipeDirection,L)?(b.current=M,wu(SA,d,H,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(Q)>L||Math.abs(O)>L)&&(w.current=null)}),onPointerUp:ge(e.onPointerUp,B=>{const Q=b.current,O=B.target;if(O.hasPointerCapture(B.pointerId)&&O.releasePointerCapture(B.pointerId),b.current=null,w.current=null,Q){const V=B.currentTarget,A={originalEvent:B,delta:Q};xw(Q,v.swipeDirection,v.swipeThreshold)?wu(EA,x,A,{discrete:!0}):wu(CA,m,A,{discrete:!0}),V.addEventListener("click",_=>_.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),RA=e=>{const{__scopeToast:t,children:n,...s}=e,r=yf(Lc,t),[a,o]=h.useState(!1),[l,c]=h.useState(!1);return $A(()=>o(!0)),h.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:i.jsx(Ic,{asChild:!0,children:i.jsx(vf,{...s,children:a&&i.jsxs(i.Fragment,{children:[r.label," ",n]})})})},AA="ToastTitle",US=h.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return i.jsx(xe.div,{...s,ref:t})});US.displayName=AA;var DA="ToastDescription",VS=h.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return i.jsx(xe.div,{...s,ref:t})});VS.displayName=DA;var zS="ToastAction",WS=h.forwardRef((e,t)=>{const{altText:n,...s}=e;return n.trim()?i.jsx(qS,{altText:n,asChild:!0,children:i.jsx(Sx,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${zS}\`. Expected non-empty \`string\`.`),null)});WS.displayName=zS;var HS="ToastClose",Sx=h.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e,r=kA(HS,n);return i.jsx(qS,{asChild:!0,children:i.jsx(xe.button,{type:"button",...s,ref:t,onClick:ge(e.onClick,r.onClose)})})});Sx.displayName=HS;var qS=h.forwardRef((e,t)=>{const{__scopeToast:n,altText:s,...r}=e;return i.jsx(xe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...r,ref:t})});function KS(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),MA(s)){const r=s.ariaHidden||s.hidden||s.style.display==="none",a=s.dataset.radixToastAnnounceExclude==="";if(!r)if(a){const o=s.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...KS(s))}}),t}function wu(e,t,n,{discrete:s}){const r=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&r.addEventListener(e,t,{once:!0}),s?PS(r,a):r.dispatchEvent(a)}var xw=(e,t,n=0)=>{const s=Math.abs(e.x),r=Math.abs(e.y),a=s>r;return t==="left"||t==="right"?a&&s>n:!a&&r>n};function $A(e=()=>{}){const t=Jn(e);Tt(()=>{let n=0,s=0;return n=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(s)}},[t])}function MA(e){return e.nodeType===e.ELEMENT_NODE}function IA(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const r=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||r?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Bh(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var LA=IS,GS=OS,YS=BS,QS=US,XS=VS,JS=WS,ZS=Sx;function eN(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=eN(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function tN(){for(var e,t,n=0,s="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=eN(e))&&(s&&(s+=" "),s+=t);return s}const vw=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,yw=tN,Oo=(e,t)=>n=>{var s;if((t==null?void 0:t.variants)==null)return yw(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:r,defaultVariants:a}=t,o=Object.keys(r).map(u=>{const d=n==null?void 0:n[u],f=a==null?void 0:a[u];if(d===null)return null;const m=vw(d)||vw(f);return r[u][m]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,m]=d;return m===void 0||(u[f]=m),u},{}),c=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((u,d)=>{let{class:f,className:m,...x}=d;return Object.entries(x).every(j=>{let[v,y]=j;return Array.isArray(y)?y.includes({...a,...l}[v]):{...a,...l}[v]===y})?[...u,f,m]:u},[]);return yw(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OA=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),FA=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),ww=e=>{const t=FA(e);return t.charAt(0).toUpperCase()+t.slice(1)},nN=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),BA=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var UA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:r="",children:a,iconNode:o,...l},c)=>h.createElement("svg",{ref:c,...UA,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:nN("lucide",r),...!a&&!BA(l)&&{"aria-hidden":"true"},...l},[...o.map(([u,d])=>h.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=(e,t)=>{const n=h.forwardRef(({className:s,...r},a)=>h.createElement(VA,{ref:a,iconNode:t,className:nN(`lucide-${OA(ww(e))}`,`lucide-${e}`,s),...r}));return n.displayName=ww(e),n};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],To=ve("activity",zA);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],HA=ve("arrow-left-right",WA);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],$l=ve("arrow-left",qA);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Uh=ve("arrow-right",KA);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],Na=ve("arrow-up-down",GA);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],QA=ve("bot",YA);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Yn=ve("calendar",XA);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],ZA=ve("chart-column",JA);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Nx=ve("check",eD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],wf=ve("chevron-down",tD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Cx=ve("chevron-up",nD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ze=ve("circle-alert",sD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],wl=ve("circle-check-big",rD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],aD=ve("circle-x",iD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Zs=ve("clock",oD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]],cD=ve("cog",lD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Ma=ve("database",uD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Sp=ve("dollar-sign",dD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Ex=ve("external-link",fD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],kd=ve("file-text",hD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],sN=ve("funnel",mD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],gD=ve("grip-vertical",pD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],vD=ve("history",xD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],wD=ve("house",yD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],jw=ve("info",jD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],sn=ve("loader-circle",bD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],SD=ve("lock",_D);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],CD=ve("menu",ND);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=[["path",{d:"M5 12h14",key:"1ays0h"}]],TD=ve("minus",ED);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],PD=ve("moon",kD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],AD=ve("pause",RD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],$D=ve("play",DD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Pd=ve("plus",MD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],tt=ve("refresh-cw",ID);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],OD=ve("rotate-ccw",LD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],rN=ve("save",FD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Tx=ve("search",BD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],Vh=ve("server",UD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Rd=ve("settings",VD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],cc=ve("shield",zD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Np=ve("square-pen",WD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],iN=ve("star",HD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],KD=ve("sun",qD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],uc=ve("swords",GD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Qu=ve("target",YD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]],XD=ve("test-tube",QD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],ZD=ve("timer",JD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e$=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],jf=ve("trending-up",e$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t$=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],n$=ve("triangle-alert",t$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s$=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],Kt=ve("trophy",s$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],Ml=ve("user-check",r$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i$=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],a$=ve("user",i$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Yt=ve("users",o$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l$=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],bf=ve("x",l$),kx="-",c$=e=>{const t=d$(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:o=>{const l=o.split(kx);return l[0]===""&&l.length!==1&&l.shift(),aN(l,t)||u$(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&s[o]?[...c,...s[o]]:c}}},aN=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),r=s?aN(e.slice(1),s):void 0;if(r)return r;if(t.validators.length===0)return;const a=e.join(kx);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},bw=/^\[(.+)\]$/,u$=e=>{if(bw.test(e)){const t=bw.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},d$=e=>{const{theme:t,prefix:n}=e,s={nextPart:new Map,validators:[]};return h$(Object.entries(e.classGroups),n).forEach(([a,o])=>{Cp(o,s,a,t)}),s},Cp=(e,t,n,s)=>{e.forEach(r=>{if(typeof r=="string"){const a=r===""?t:_w(t,r);a.classGroupId=n;return}if(typeof r=="function"){if(f$(r)){Cp(r(s),t,n,s);return}t.validators.push({validator:r,classGroupId:n});return}Object.entries(r).forEach(([a,o])=>{Cp(o,_w(t,a),n,s)})})},_w=(e,t)=>{let n=e;return t.split(kx).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},f$=e=>e.isThemeGetter,h$=(e,t)=>t?e.map(([n,s])=>{const r=s.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[n,r]}):e,m$=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const r=(a,o)=>{n.set(a,o),t++,t>e&&(t=0,s=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=s.get(a))!==void 0)return r(a,o),o},set(a,o){n.has(a)?n.set(a,o):r(a,o)}}},oN="!",p$=e=>{const{separator:t,experimentalParseClassName:n}=e,s=t.length===1,r=t[0],a=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let y=0;y<l.length;y++){let p=l[y];if(u===0){if(p===r&&(s||l.slice(y,y+a)===t)){c.push(l.slice(d,y)),d=y+a;continue}if(p==="/"){f=y;continue}}p==="["?u++:p==="]"&&u--}const m=c.length===0?l:l.substring(d),x=m.startsWith(oN),j=x?m.substring(1):m,v=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:x,baseClassName:j,maybePostfixModifierPosition:v}};return n?l=>n({className:l,parseClassName:o}):o},g$=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(s=>{s[0]==="["?(t.push(...n.sort(),s),n=[]):n.push(s)}),t.push(...n.sort()),t},x$=e=>({cache:m$(e.cacheSize),parseClassName:p$(e),...c$(e)}),v$=/\s+/,y$=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:r}=t,a=[],o=e.trim().split(v$);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:x}=n(u);let j=!!x,v=s(j?m.substring(0,x):m);if(!v){if(!j){l=u+(l.length>0?" "+l:l);continue}if(v=s(m),!v){l=u+(l.length>0?" "+l:l);continue}j=!1}const y=g$(d).join(":"),p=f?y+oN:y,g=p+v;if(a.includes(g))continue;a.push(g);const w=r(v,j);for(let b=0;b<w.length;++b){const S=w[b];a.push(p+S)}l=u+(l.length>0?" "+l:l)}return l};function w$(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=lN(t))&&(s&&(s+=" "),s+=n);return s}const lN=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=lN(e[s]))&&(n&&(n+=" "),n+=t);return n};function j$(e,...t){let n,s,r,a=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return n=x$(u),s=n.cache.get,r=n.cache.set,a=l,l(c)}function l(c){const u=s(c);if(u)return u;const d=y$(c,n);return r(c,d),d}return function(){return a(w$.apply(null,arguments))}}const it=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},cN=/^\[(?:([a-z-]+):)?(.+)\]$/i,b$=/^\d+\/\d+$/,_$=new Set(["px","full","screen"]),S$=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,N$=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,C$=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,E$=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,T$=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,mr=e=>oo(e)||_$.has(e)||b$.test(e),Fr=e=>Fo(e,"length",I$),oo=e=>!!e&&!Number.isNaN(Number(e)),zh=e=>Fo(e,"number",oo),dl=e=>!!e&&Number.isInteger(Number(e)),k$=e=>e.endsWith("%")&&oo(e.slice(0,-1)),Ee=e=>cN.test(e),Br=e=>S$.test(e),P$=new Set(["length","size","percentage"]),R$=e=>Fo(e,P$,uN),A$=e=>Fo(e,"position",uN),D$=new Set(["image","url"]),$$=e=>Fo(e,D$,O$),M$=e=>Fo(e,"",L$),fl=()=>!0,Fo=(e,t,n)=>{const s=cN.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):n(s[2]):!1},I$=e=>N$.test(e)&&!C$.test(e),uN=()=>!1,L$=e=>E$.test(e),O$=e=>T$.test(e),F$=()=>{const e=it("colors"),t=it("spacing"),n=it("blur"),s=it("brightness"),r=it("borderColor"),a=it("borderRadius"),o=it("borderSpacing"),l=it("borderWidth"),c=it("contrast"),u=it("grayscale"),d=it("hueRotate"),f=it("invert"),m=it("gap"),x=it("gradientColorStops"),j=it("gradientColorStopPositions"),v=it("inset"),y=it("margin"),p=it("opacity"),g=it("padding"),w=it("saturate"),b=it("scale"),S=it("sepia"),T=it("skew"),N=it("space"),C=it("translate"),R=()=>["auto","contain","none"],D=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",Ee,t],$=()=>[Ee,t],I=()=>["",mr,Fr],B=()=>["auto",oo,Ee],Q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],O=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],A=()=>["start","end","center","between","around","evenly","stretch"],_=()=>["","0",Ee],E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],P=()=>[oo,Ee];return{cacheSize:500,separator:":",theme:{colors:[fl],spacing:[mr,Fr],blur:["none","",Br,Ee],brightness:P(),borderColor:[e],borderRadius:["none","","full",Br,Ee],borderSpacing:$(),borderWidth:I(),contrast:P(),grayscale:_(),hueRotate:P(),invert:_(),gap:$(),gradientColorStops:[e],gradientColorStopPositions:[k$,Fr],inset:k(),margin:k(),opacity:P(),padding:$(),saturate:P(),scale:P(),sepia:_(),skew:P(),space:$(),translate:$()},classGroups:{aspect:[{aspect:["auto","square","video",Ee]}],container:["container"],columns:[{columns:[Br]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Q(),Ee]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",dl,Ee]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ee]}],grow:[{grow:_()}],shrink:[{shrink:_()}],order:[{order:["first","last","none",dl,Ee]}],"grid-cols":[{"grid-cols":[fl]}],"col-start-end":[{col:["auto",{span:["full",dl,Ee]},Ee]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[fl]}],"row-start-end":[{row:["auto",{span:[dl,Ee]},Ee]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ee]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ee]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...A()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...A(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...A(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ee,t]}],"min-w":[{"min-w":[Ee,t,"min","max","fit"]}],"max-w":[{"max-w":[Ee,t,"none","full","min","max","fit","prose",{screen:[Br]},Br]}],h:[{h:[Ee,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ee,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ee,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ee,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Br,Fr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",zh]}],"font-family":[{font:[fl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ee]}],"line-clamp":[{"line-clamp":["none",oo,zh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",mr,Ee]}],"list-image":[{"list-image":["none",Ee]}],"list-style-type":[{list:["none","disc","decimal",Ee]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...O(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",mr,Fr]}],"underline-offset":[{"underline-offset":["auto",mr,Ee]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Q(),A$]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",R$]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},$$]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[j]}],"gradient-via-pos":[{via:[j]}],"gradient-to-pos":[{to:[j]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[...O(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:O()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...O()]}],"outline-offset":[{"outline-offset":[mr,Ee]}],"outline-w":[{outline:[mr,Fr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[mr,Fr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Br,M$]}],"shadow-color":[{shadow:[fl]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":[...V(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Br,Ee]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ee]}],duration:[{duration:P()}],ease:[{ease:["linear","in","out","in-out",Ee]}],delay:[{delay:P()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ee]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[dl,Ee]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ee]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ee]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ee]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[mr,Fr,zh]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},B$=j$(F$);function me(...e){return B$(tN(e))}const U$=LA,dN=h.forwardRef(({className:e,...t},n)=>i.jsx(GS,{ref:n,className:me("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));dN.displayName=GS.displayName;const V$=Oo("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),fN=h.forwardRef(({className:e,variant:t,...n},s)=>i.jsx(YS,{ref:s,className:me(V$({variant:t}),e),...n}));fN.displayName=YS.displayName;const z$=h.forwardRef(({className:e,...t},n)=>i.jsx(JS,{ref:n,className:me("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));z$.displayName=JS.displayName;const hN=h.forwardRef(({className:e,...t},n)=>i.jsx(ZS,{ref:n,className:me("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:i.jsx(bf,{className:"h-4 w-4"})}));hN.displayName=ZS.displayName;const mN=h.forwardRef(({className:e,...t},n)=>i.jsx(QS,{ref:n,className:me("text-sm font-semibold [&+div]:text-xs",e),...t}));mN.displayName=QS.displayName;const pN=h.forwardRef(({className:e,...t},n)=>i.jsx(XS,{ref:n,className:me("text-sm opacity-90",e),...t}));pN.displayName=XS.displayName;function W$(){const{toasts:e}=An();return i.jsxs(U$,{children:[e.map(function({id:t,title:n,description:s,action:r,...a}){return i.jsxs(fN,{...a,children:[i.jsxs("div",{className:"grid gap-1",children:[n&&i.jsx(mN,{children:n}),s&&i.jsx(pN,{children:s})]}),r,i.jsx(hN,{})]},t)}),i.jsx(dN,{})]})}var H$=Pg[" useId ".trim().toString()]||(()=>{}),q$=0;function Nr(e){const[t,n]=h.useState(H$());return Tt(()=>{n(s=>s??String(q$++))},[e]),t?`radix-${t}`:""}const K$=["top","right","bottom","left"],wi=Math.min,qn=Math.max,Ad=Math.round,ju=Math.floor,ar=e=>({x:e,y:e}),G$={left:"right",right:"left",bottom:"top",top:"bottom"},Y$={start:"end",end:"start"};function Ep(e,t,n){return qn(e,wi(t,n))}function Rr(e,t){return typeof e=="function"?e(t):e}function Ar(e){return e.split("-")[0]}function Bo(e){return e.split("-")[1]}function Px(e){return e==="x"?"y":"x"}function Rx(e){return e==="y"?"height":"width"}const Q$=new Set(["top","bottom"]);function sr(e){return Q$.has(Ar(e))?"y":"x"}function Ax(e){return Px(sr(e))}function X$(e,t,n){n===void 0&&(n=!1);const s=Bo(e),r=Ax(e),a=Rx(r);let o=r==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=Dd(o)),[o,Dd(o)]}function J$(e){const t=Dd(e);return[Tp(e),t,Tp(t)]}function Tp(e){return e.replace(/start|end/g,t=>Y$[t])}const Sw=["left","right"],Nw=["right","left"],Z$=["top","bottom"],eM=["bottom","top"];function tM(e,t,n){switch(e){case"top":case"bottom":return n?t?Nw:Sw:t?Sw:Nw;case"left":case"right":return t?Z$:eM;default:return[]}}function nM(e,t,n,s){const r=Bo(e);let a=tM(Ar(e),n==="start",s);return r&&(a=a.map(o=>o+"-"+r),t&&(a=a.concat(a.map(Tp)))),a}function Dd(e){return e.replace(/left|right|bottom|top/g,t=>G$[t])}function sM(e){return{top:0,right:0,bottom:0,left:0,...e}}function gN(e){return typeof e!="number"?sM(e):{top:e,right:e,bottom:e,left:e}}function $d(e){const{x:t,y:n,width:s,height:r}=e;return{width:s,height:r,top:n,left:t,right:t+s,bottom:n+r,x:t,y:n}}function Cw(e,t,n){let{reference:s,floating:r}=e;const a=sr(t),o=Ax(t),l=Rx(o),c=Ar(t),u=a==="y",d=s.x+s.width/2-r.width/2,f=s.y+s.height/2-r.height/2,m=s[l]/2-r[l]/2;let x;switch(c){case"top":x={x:d,y:s.y-r.height};break;case"bottom":x={x:d,y:s.y+s.height};break;case"right":x={x:s.x+s.width,y:f};break;case"left":x={x:s.x-r.width,y:f};break;default:x={x:s.x,y:s.y}}switch(Bo(t)){case"start":x[o]-=m*(n&&u?-1:1);break;case"end":x[o]+=m*(n&&u?-1:1);break}return x}const rM=async(e,t,n)=>{const{placement:s="bottom",strategy:r="absolute",middleware:a=[],platform:o}=n,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:r}),{x:d,y:f}=Cw(u,s,c),m=s,x={},j=0;for(let v=0;v<l.length;v++){const{name:y,fn:p}=l[v],{x:g,y:w,data:b,reset:S}=await p({x:d,y:f,initialPlacement:s,placement:m,strategy:r,middlewareData:x,rects:u,platform:o,elements:{reference:e,floating:t}});d=g??d,f=w??f,x={...x,[y]:{...x[y],...b}},S&&j<=50&&(j++,typeof S=="object"&&(S.placement&&(m=S.placement),S.rects&&(u=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:r}):S.rects),{x:d,y:f}=Cw(u,m,c)),v=-1)}return{x:d,y:f,placement:m,strategy:r,middlewareData:x}};async function dc(e,t){var n;t===void 0&&(t={});const{x:s,y:r,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:x=0}=Rr(t,e),j=gN(x),y=l[m?f==="floating"?"reference":"floating":f],p=$d(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(y)))==null||n?y:y.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),g=f==="floating"?{x:s,y:r,width:o.floating.width,height:o.floating.height}:o.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),b=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},S=$d(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:w,strategy:c}):g);return{top:(p.top-S.top+j.top)/b.y,bottom:(S.bottom-p.bottom+j.bottom)/b.y,left:(p.left-S.left+j.left)/b.x,right:(S.right-p.right+j.right)/b.x}}const iM=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:r,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Rr(e,t)||{};if(u==null)return{};const f=gN(d),m={x:n,y:s},x=Ax(r),j=Rx(x),v=await o.getDimensions(u),y=x==="y",p=y?"top":"left",g=y?"bottom":"right",w=y?"clientHeight":"clientWidth",b=a.reference[j]+a.reference[x]-m[x]-a.floating[j],S=m[x]-a.reference[x],T=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let N=T?T[w]:0;(!N||!await(o.isElement==null?void 0:o.isElement(T)))&&(N=l.floating[w]||a.floating[j]);const C=b/2-S/2,R=N/2-v[j]/2-1,D=wi(f[p],R),k=wi(f[g],R),$=D,I=N-v[j]-k,B=N/2-v[j]/2+C,Q=Ep($,B,I),O=!c.arrow&&Bo(r)!=null&&B!==Q&&a.reference[j]/2-(B<$?D:k)-v[j]/2<0,V=O?B<$?B-$:B-I:0;return{[x]:m[x]+V,data:{[x]:Q,centerOffset:B-Q-V,...O&&{alignmentOffset:V}},reset:O}}}),aM=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:r,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:v=!0,...y}=Rr(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const p=Ar(r),g=sr(l),w=Ar(l)===l,b=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=m||(w||!v?[Dd(l)]:J$(l)),T=j!=="none";!m&&T&&S.push(...nM(l,v,j,b));const N=[l,...S],C=await dc(t,y),R=[];let D=((s=a.flip)==null?void 0:s.overflows)||[];if(d&&R.push(C[p]),f){const B=X$(r,o,b);R.push(C[B[0]],C[B[1]])}if(D=[...D,{placement:r,overflows:R}],!R.every(B=>B<=0)){var k,$;const B=(((k=a.flip)==null?void 0:k.index)||0)+1,Q=N[B];if(Q&&(!(f==="alignment"?g!==sr(Q):!1)||D.every(A=>A.overflows[0]>0&&sr(A.placement)===g)))return{data:{index:B,overflows:D},reset:{placement:Q}};let O=($=D.filter(V=>V.overflows[0]<=0).sort((V,A)=>V.overflows[1]-A.overflows[1])[0])==null?void 0:$.placement;if(!O)switch(x){case"bestFit":{var I;const V=(I=D.filter(A=>{if(T){const _=sr(A.placement);return _===g||_==="y"}return!0}).map(A=>[A.placement,A.overflows.filter(_=>_>0).reduce((_,E)=>_+E,0)]).sort((A,_)=>A[1]-_[1])[0])==null?void 0:I[0];V&&(O=V);break}case"initialPlacement":O=l;break}if(r!==O)return{reset:{placement:O}}}return{}}}};function Ew(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Tw(e){return K$.some(t=>e[t]>=0)}const oM=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:s="referenceHidden",...r}=Rr(e,t);switch(s){case"referenceHidden":{const a=await dc(t,{...r,elementContext:"reference"}),o=Ew(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Tw(o)}}}case"escaped":{const a=await dc(t,{...r,altBoundary:!0}),o=Ew(a,n.floating);return{data:{escapedOffsets:o,escaped:Tw(o)}}}default:return{}}}}},xN=new Set(["left","top"]);async function lM(e,t){const{placement:n,platform:s,elements:r}=e,a=await(s.isRTL==null?void 0:s.isRTL(r.floating)),o=Ar(n),l=Bo(n),c=sr(n)==="y",u=xN.has(o)?-1:1,d=a&&c?-1:1,f=Rr(t,e);let{mainAxis:m,crossAxis:x,alignmentAxis:j}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof j=="number"&&(x=l==="end"?j*-1:j),c?{x:x*d,y:m*u}:{x:m*u,y:x*d}}const cM=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:r,y:a,placement:o,middlewareData:l}=t,c=await lM(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:r+c.x,y:a+c.y,data:{...c,placement:o}}}}},uM=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:r}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:y=>{let{x:p,y:g}=y;return{x:p,y:g}}},...c}=Rr(e,t),u={x:n,y:s},d=await dc(t,c),f=sr(Ar(r)),m=Px(f);let x=u[m],j=u[f];if(a){const y=m==="y"?"top":"left",p=m==="y"?"bottom":"right",g=x+d[y],w=x-d[p];x=Ep(g,x,w)}if(o){const y=f==="y"?"top":"left",p=f==="y"?"bottom":"right",g=j+d[y],w=j-d[p];j=Ep(g,j,w)}const v=l.fn({...t,[m]:x,[f]:j});return{...v,data:{x:v.x-n,y:v.y-s,enabled:{[m]:a,[f]:o}}}}}},dM=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:r,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Rr(e,t),d={x:n,y:s},f=sr(r),m=Px(f);let x=d[m],j=d[f];const v=Rr(l,t),y=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const w=m==="y"?"height":"width",b=a.reference[m]-a.floating[w]+y.mainAxis,S=a.reference[m]+a.reference[w]-y.mainAxis;x<b?x=b:x>S&&(x=S)}if(u){var p,g;const w=m==="y"?"width":"height",b=xN.has(Ar(r)),S=a.reference[f]-a.floating[w]+(b&&((p=o.offset)==null?void 0:p[f])||0)+(b?0:y.crossAxis),T=a.reference[f]+a.reference[w]+(b?0:((g=o.offset)==null?void 0:g[f])||0)-(b?y.crossAxis:0);j<S?j=S:j>T&&(j=T)}return{[m]:x,[f]:j}}}},fM=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:r,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Rr(e,t),d=await dc(t,u),f=Ar(r),m=Bo(r),x=sr(r)==="y",{width:j,height:v}=a.floating;let y,p;f==="top"||f==="bottom"?(y=f,p=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(p=f,y=m==="end"?"top":"bottom");const g=v-d.top-d.bottom,w=j-d.left-d.right,b=wi(v-d[y],g),S=wi(j-d[p],w),T=!t.middlewareData.shift;let N=b,C=S;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(C=w),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(N=g),T&&!m){const D=qn(d.left,0),k=qn(d.right,0),$=qn(d.top,0),I=qn(d.bottom,0);x?C=j-2*(D!==0||k!==0?D+k:qn(d.left,d.right)):N=v-2*($!==0||I!==0?$+I:qn(d.top,d.bottom))}await c({...t,availableWidth:C,availableHeight:N});const R=await o.getDimensions(l.floating);return j!==R.width||v!==R.height?{reset:{rects:!0}}:{}}}};function _f(){return typeof window<"u"}function Uo(e){return vN(e)?(e.nodeName||"").toLowerCase():"#document"}function Qn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function fr(e){var t;return(t=(vN(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function vN(e){return _f()?e instanceof Node||e instanceof Qn(e).Node:!1}function Fs(e){return _f()?e instanceof Element||e instanceof Qn(e).Element:!1}function ur(e){return _f()?e instanceof HTMLElement||e instanceof Qn(e).HTMLElement:!1}function kw(e){return!_f()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Qn(e).ShadowRoot}const hM=new Set(["inline","contents"]);function Oc(e){const{overflow:t,overflowX:n,overflowY:s,display:r}=Bs(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!hM.has(r)}const mM=new Set(["table","td","th"]);function pM(e){return mM.has(Uo(e))}const gM=[":popover-open",":modal"];function Sf(e){return gM.some(t=>{try{return e.matches(t)}catch{return!1}})}const xM=["transform","translate","scale","rotate","perspective"],vM=["transform","translate","scale","rotate","perspective","filter"],yM=["paint","layout","strict","content"];function Dx(e){const t=$x(),n=Fs(e)?Bs(e):e;return xM.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||vM.some(s=>(n.willChange||"").includes(s))||yM.some(s=>(n.contain||"").includes(s))}function wM(e){let t=ji(e);for(;ur(t)&&!ko(t);){if(Dx(t))return t;if(Sf(t))return null;t=ji(t)}return null}function $x(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const jM=new Set(["html","body","#document"]);function ko(e){return jM.has(Uo(e))}function Bs(e){return Qn(e).getComputedStyle(e)}function Nf(e){return Fs(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ji(e){if(Uo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||kw(e)&&e.host||fr(e);return kw(t)?t.host:t}function yN(e){const t=ji(e);return ko(t)?e.ownerDocument?e.ownerDocument.body:e.body:ur(t)&&Oc(t)?t:yN(t)}function fc(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const r=yN(e),a=r===((s=e.ownerDocument)==null?void 0:s.body),o=Qn(r);if(a){const l=kp(o);return t.concat(o,o.visualViewport||[],Oc(r)?r:[],l&&n?fc(l):[])}return t.concat(r,fc(r,[],n))}function kp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function wN(e){const t=Bs(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const r=ur(e),a=r?e.offsetWidth:n,o=r?e.offsetHeight:s,l=Ad(n)!==a||Ad(s)!==o;return l&&(n=a,s=o),{width:n,height:s,$:l}}function Mx(e){return Fs(e)?e:e.contextElement}function lo(e){const t=Mx(e);if(!ur(t))return ar(1);const n=t.getBoundingClientRect(),{width:s,height:r,$:a}=wN(t);let o=(a?Ad(n.width):n.width)/s,l=(a?Ad(n.height):n.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const bM=ar(0);function jN(e){const t=Qn(e);return!$x()||!t.visualViewport?bM:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function _M(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Qn(e)?!1:t}function ha(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const r=e.getBoundingClientRect(),a=Mx(e);let o=ar(1);t&&(s?Fs(s)&&(o=lo(s)):o=lo(e));const l=_M(a,n,s)?jN(a):ar(0);let c=(r.left+l.x)/o.x,u=(r.top+l.y)/o.y,d=r.width/o.x,f=r.height/o.y;if(a){const m=Qn(a),x=s&&Fs(s)?Qn(s):s;let j=m,v=kp(j);for(;v&&s&&x!==j;){const y=lo(v),p=v.getBoundingClientRect(),g=Bs(v),w=p.left+(v.clientLeft+parseFloat(g.paddingLeft))*y.x,b=p.top+(v.clientTop+parseFloat(g.paddingTop))*y.y;c*=y.x,u*=y.y,d*=y.x,f*=y.y,c+=w,u+=b,j=Qn(v),v=kp(j)}}return $d({width:d,height:f,x:c,y:u})}function Ix(e,t){const n=Nf(e).scrollLeft;return t?t.left+n:ha(fr(e)).left+n}function bN(e,t,n){n===void 0&&(n=!1);const s=e.getBoundingClientRect(),r=s.left+t.scrollLeft-(n?0:Ix(e,s)),a=s.top+t.scrollTop;return{x:r,y:a}}function SM(e){let{elements:t,rect:n,offsetParent:s,strategy:r}=e;const a=r==="fixed",o=fr(s),l=t?Sf(t.floating):!1;if(s===o||l&&a)return n;let c={scrollLeft:0,scrollTop:0},u=ar(1);const d=ar(0),f=ur(s);if((f||!f&&!a)&&((Uo(s)!=="body"||Oc(o))&&(c=Nf(s)),ur(s))){const x=ha(s);u=lo(s),d.x=x.x+s.clientLeft,d.y=x.y+s.clientTop}const m=o&&!f&&!a?bN(o,c,!0):ar(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:n.y*u.y-c.scrollTop*u.y+d.y+m.y}}function NM(e){return Array.from(e.getClientRects())}function CM(e){const t=fr(e),n=Nf(e),s=e.ownerDocument.body,r=qn(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),a=qn(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let o=-n.scrollLeft+Ix(e);const l=-n.scrollTop;return Bs(s).direction==="rtl"&&(o+=qn(t.clientWidth,s.clientWidth)-r),{width:r,height:a,x:o,y:l}}function EM(e,t){const n=Qn(e),s=fr(e),r=n.visualViewport;let a=s.clientWidth,o=s.clientHeight,l=0,c=0;if(r){a=r.width,o=r.height;const u=$x();(!u||u&&t==="fixed")&&(l=r.offsetLeft,c=r.offsetTop)}return{width:a,height:o,x:l,y:c}}const TM=new Set(["absolute","fixed"]);function kM(e,t){const n=ha(e,!0,t==="fixed"),s=n.top+e.clientTop,r=n.left+e.clientLeft,a=ur(e)?lo(e):ar(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=r*a.x,u=s*a.y;return{width:o,height:l,x:c,y:u}}function Pw(e,t,n){let s;if(t==="viewport")s=EM(e,n);else if(t==="document")s=CM(fr(e));else if(Fs(t))s=kM(t,n);else{const r=jN(e);s={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return $d(s)}function _N(e,t){const n=ji(e);return n===t||!Fs(n)||ko(n)?!1:Bs(n).position==="fixed"||_N(n,t)}function PM(e,t){const n=t.get(e);if(n)return n;let s=fc(e,[],!1).filter(l=>Fs(l)&&Uo(l)!=="body"),r=null;const a=Bs(e).position==="fixed";let o=a?ji(e):e;for(;Fs(o)&&!ko(o);){const l=Bs(o),c=Dx(o);!c&&l.position==="fixed"&&(r=null),(a?!c&&!r:!c&&l.position==="static"&&!!r&&TM.has(r.position)||Oc(o)&&!c&&_N(e,o))?s=s.filter(d=>d!==o):r=l,o=ji(o)}return t.set(e,s),s}function RM(e){let{element:t,boundary:n,rootBoundary:s,strategy:r}=e;const o=[...n==="clippingAncestors"?Sf(t)?[]:PM(t,this._c):[].concat(n),s],l=o[0],c=o.reduce((u,d)=>{const f=Pw(t,d,r);return u.top=qn(f.top,u.top),u.right=wi(f.right,u.right),u.bottom=wi(f.bottom,u.bottom),u.left=qn(f.left,u.left),u},Pw(t,l,r));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function AM(e){const{width:t,height:n}=wN(e);return{width:t,height:n}}function DM(e,t,n){const s=ur(t),r=fr(t),a=n==="fixed",o=ha(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=ar(0);function u(){c.x=Ix(r)}if(s||!s&&!a)if((Uo(t)!=="body"||Oc(r))&&(l=Nf(t)),s){const x=ha(t,!0,a,t);c.x=x.x+t.clientLeft,c.y=x.y+t.clientTop}else r&&u();a&&!s&&r&&u();const d=r&&!s&&!a?bN(r,l):ar(0),f=o.left+l.scrollLeft-c.x-d.x,m=o.top+l.scrollTop-c.y-d.y;return{x:f,y:m,width:o.width,height:o.height}}function Wh(e){return Bs(e).position==="static"}function Rw(e,t){if(!ur(e)||Bs(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return fr(e)===n&&(n=n.ownerDocument.body),n}function SN(e,t){const n=Qn(e);if(Sf(e))return n;if(!ur(e)){let r=ji(e);for(;r&&!ko(r);){if(Fs(r)&&!Wh(r))return r;r=ji(r)}return n}let s=Rw(e,t);for(;s&&pM(s)&&Wh(s);)s=Rw(s,t);return s&&ko(s)&&Wh(s)&&!Dx(s)?n:s||wM(e)||n}const $M=async function(e){const t=this.getOffsetParent||SN,n=this.getDimensions,s=await n(e.floating);return{reference:DM(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function MM(e){return Bs(e).direction==="rtl"}const IM={convertOffsetParentRelativeRectToViewportRelativeRect:SM,getDocumentElement:fr,getClippingRect:RM,getOffsetParent:SN,getElementRects:$M,getClientRects:NM,getDimensions:AM,getScale:lo,isElement:Fs,isRTL:MM};function NN(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function LM(e,t){let n=null,s;const r=fr(e);function a(){var l;clearTimeout(s),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:d,top:f,width:m,height:x}=u;if(l||t(),!m||!x)return;const j=ju(f),v=ju(r.clientWidth-(d+m)),y=ju(r.clientHeight-(f+x)),p=ju(d),w={rootMargin:-j+"px "+-v+"px "+-y+"px "+-p+"px",threshold:qn(0,wi(1,c))||1};let b=!0;function S(T){const N=T[0].intersectionRatio;if(N!==c){if(!b)return o();N?o(!1,N):s=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!NN(u,e.getBoundingClientRect())&&o(),b=!1}try{n=new IntersectionObserver(S,{...w,root:r.ownerDocument})}catch{n=new IntersectionObserver(S,w)}n.observe(e)}return o(!0),a}function OM(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:r=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,u=Mx(e),d=r||a?[...u?fc(u):[],...fc(t)]:[];d.forEach(p=>{r&&p.addEventListener("scroll",n,{passive:!0}),a&&p.addEventListener("resize",n)});const f=u&&l?LM(u,n):null;let m=-1,x=null;o&&(x=new ResizeObserver(p=>{let[g]=p;g&&g.target===u&&x&&(x.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var w;(w=x)==null||w.observe(t)})),n()}),u&&!c&&x.observe(u),x.observe(t));let j,v=c?ha(e):null;c&&y();function y(){const p=ha(e);v&&!NN(v,p)&&n(),v=p,j=requestAnimationFrame(y)}return n(),()=>{var p;d.forEach(g=>{r&&g.removeEventListener("scroll",n),a&&g.removeEventListener("resize",n)}),f==null||f(),(p=x)==null||p.disconnect(),x=null,c&&cancelAnimationFrame(j)}}const FM=cM,BM=uM,UM=aM,VM=fM,zM=oM,Aw=iM,WM=dM,HM=(e,t,n)=>{const s=new Map,r={platform:IM,...n},a={...r.platform,_c:s};return rM(e,t,{...r,platform:a})};var qM=typeof document<"u",KM=function(){},Xu=qM?h.useLayoutEffect:KM;function Md(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,r;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!Md(e[s],t[s]))return!1;return!0}if(r=Object.keys(e),n=r.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,r[s]))return!1;for(s=n;s--!==0;){const a=r[s];if(!(a==="_owner"&&e.$$typeof)&&!Md(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function CN(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Dw(e,t){const n=CN(e);return Math.round(t*n)/n}function Hh(e){const t=h.useRef(e);return Xu(()=>{t.current=e}),t}function GM(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:r,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=h.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,x]=h.useState(s);Md(m,s)||x(s);const[j,v]=h.useState(null),[y,p]=h.useState(null),g=h.useCallback(A=>{A!==T.current&&(T.current=A,v(A))},[]),w=h.useCallback(A=>{A!==N.current&&(N.current=A,p(A))},[]),b=a||j,S=o||y,T=h.useRef(null),N=h.useRef(null),C=h.useRef(d),R=c!=null,D=Hh(c),k=Hh(r),$=Hh(u),I=h.useCallback(()=>{if(!T.current||!N.current)return;const A={placement:t,strategy:n,middleware:m};k.current&&(A.platform=k.current),HM(T.current,N.current,A).then(_=>{const E={..._,isPositioned:$.current!==!1};B.current&&!Md(C.current,E)&&(C.current=E,gs.flushSync(()=>{f(E)}))})},[m,t,n,k,$]);Xu(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(A=>({...A,isPositioned:!1})))},[u]);const B=h.useRef(!1);Xu(()=>(B.current=!0,()=>{B.current=!1}),[]),Xu(()=>{if(b&&(T.current=b),S&&(N.current=S),b&&S){if(D.current)return D.current(b,S,I);I()}},[b,S,I,D,R]);const Q=h.useMemo(()=>({reference:T,floating:N,setReference:g,setFloating:w}),[g,w]),O=h.useMemo(()=>({reference:b,floating:S}),[b,S]),V=h.useMemo(()=>{const A={position:n,left:0,top:0};if(!O.floating)return A;const _=Dw(O.floating,d.x),E=Dw(O.floating,d.y);return l?{...A,transform:"translate("+_+"px, "+E+"px)",...CN(O.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:_,top:E}},[n,l,O.floating,d.x,d.y]);return h.useMemo(()=>({...d,update:I,refs:Q,elements:O,floatingStyles:V}),[d,I,Q,O,V])}const YM=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:r}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?Aw({element:s.current,padding:r}).fn(n):{}:s?Aw({element:s,padding:r}).fn(n):{}}}},QM=(e,t)=>({...FM(e),options:[e,t]}),XM=(e,t)=>({...BM(e),options:[e,t]}),JM=(e,t)=>({...WM(e),options:[e,t]}),ZM=(e,t)=>({...UM(e),options:[e,t]}),eI=(e,t)=>({...VM(e),options:[e,t]}),tI=(e,t)=>({...zM(e),options:[e,t]}),nI=(e,t)=>({...YM(e),options:[e,t]});var sI="Arrow",EN=h.forwardRef((e,t)=>{const{children:n,width:s=10,height:r=5,...a}=e;return i.jsx(xe.svg,{...a,ref:t,width:s,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});EN.displayName=sI;var rI=EN;function Lx(e){const[t,n]=h.useState(void 0);return Tt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const a=r[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var Ox="Popper",[TN,Cf]=ts(Ox),[iI,kN]=TN(Ox),PN=e=>{const{__scopePopper:t,children:n}=e,[s,r]=h.useState(null);return i.jsx(iI,{scope:t,anchor:s,onAnchorChange:r,children:n})};PN.displayName=Ox;var RN="PopperAnchor",AN=h.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:s,...r}=e,a=kN(RN,n),o=h.useRef(null),l=Ve(t,o);return h.useEffect(()=>{a.onAnchorChange((s==null?void 0:s.current)||o.current)}),s?null:i.jsx(xe.div,{...r,ref:l})});AN.displayName=RN;var Fx="PopperContent",[aI,oI]=TN(Fx),DN=h.forwardRef((e,t)=>{var z,W,K,F,ne,le;const{__scopePopper:n,side:s="bottom",sideOffset:r=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:x="optimized",onPlaced:j,...v}=e,y=kN(Fx,n),[p,g]=h.useState(null),w=Ve(t,ce=>g(ce)),[b,S]=h.useState(null),T=Lx(b),N=(T==null?void 0:T.width)??0,C=(T==null?void 0:T.height)??0,R=s+(a!=="center"?"-"+a:""),D=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},k=Array.isArray(u)?u:[u],$=k.length>0,I={padding:D,boundary:k.filter(cI),altBoundary:$},{refs:B,floatingStyles:Q,placement:O,isPositioned:V,middlewareData:A}=GM({strategy:"fixed",placement:R,whileElementsMounted:(...ce)=>OM(...ce,{animationFrame:x==="always"}),elements:{reference:y.anchor},middleware:[QM({mainAxis:r+C,alignmentAxis:o}),c&&XM({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?JM():void 0,...I}),c&&ZM({...I}),eI({...I,apply:({elements:ce,rects:pe,availableWidth:fe,availableHeight:ye})=>{const{width:Se,height:Qe}=pe.reference,oe=ce.floating.style;oe.setProperty("--radix-popper-available-width",`${fe}px`),oe.setProperty("--radix-popper-available-height",`${ye}px`),oe.setProperty("--radix-popper-anchor-width",`${Se}px`),oe.setProperty("--radix-popper-anchor-height",`${Qe}px`)}}),b&&nI({element:b,padding:l}),uI({arrowWidth:N,arrowHeight:C}),m&&tI({strategy:"referenceHidden",...I})]}),[_,E]=IN(O),P=Jn(j);Tt(()=>{V&&(P==null||P())},[V,P]);const L=(z=A.arrow)==null?void 0:z.x,M=(W=A.arrow)==null?void 0:W.y,H=((K=A.arrow)==null?void 0:K.centerOffset)!==0,[re,G]=h.useState();return Tt(()=>{p&&G(window.getComputedStyle(p).zIndex)},[p]),i.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...Q,transform:V?Q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:re,"--radix-popper-transform-origin":[(F=A.transformOrigin)==null?void 0:F.x,(ne=A.transformOrigin)==null?void 0:ne.y].join(" "),...((le=A.hide)==null?void 0:le.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(aI,{scope:n,placedSide:_,onArrowChange:S,arrowX:L,arrowY:M,shouldHideArrow:H,children:i.jsx(xe.div,{"data-side":_,"data-align":E,...v,ref:w,style:{...v.style,animation:V?void 0:"none"}})})})});DN.displayName=Fx;var $N="PopperArrow",lI={top:"bottom",right:"left",bottom:"top",left:"right"},MN=h.forwardRef(function(t,n){const{__scopePopper:s,...r}=t,a=oI($N,s),o=lI[a.placedSide];return i.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:i.jsx(rI,{...r,ref:n,style:{...r.style,display:"block"}})})});MN.displayName=$N;function cI(e){return e!==null}var uI=e=>({name:"transformOrigin",options:e,fn(t){var y,p,g;const{placement:n,rects:s,middlewareData:r}=t,o=((y=r.arrow)==null?void 0:y.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=IN(n),f={start:"0%",center:"50%",end:"100%"}[d],m=(((p=r.arrow)==null?void 0:p.x)??0)+l/2,x=(((g=r.arrow)==null?void 0:g.y)??0)+c/2;let j="",v="";return u==="bottom"?(j=o?f:`${m}px`,v=`${-c}px`):u==="top"?(j=o?f:`${m}px`,v=`${s.floating.height+c}px`):u==="right"?(j=`${-c}px`,v=o?f:`${x}px`):u==="left"&&(j=`${s.floating.width+c}px`,v=o?f:`${x}px`),{data:{x:j,y:v}}}});function IN(e){const[t,n="center"]=e.split("-");return[t,n]}var dI=PN,LN=AN,ON=DN,FN=MN,[Ef,y7]=ts("Tooltip",[Cf]),Bx=Cf(),BN="TooltipProvider",fI=700,$w="tooltip.open",[hI,UN]=Ef(BN),VN=e=>{const{__scopeTooltip:t,delayDuration:n=fI,skipDelayDuration:s=300,disableHoverableContent:r=!1,children:a}=e,o=h.useRef(!0),l=h.useRef(!1),c=h.useRef(0);return h.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),i.jsx(hI,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:h.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:h.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,s)},[s]),isPointerInTransitRef:l,onPointerInTransitChange:h.useCallback(u=>{l.current=u},[]),disableHoverableContent:r,children:a})};VN.displayName=BN;var zN="Tooltip",[w7,Fc]=Ef(zN),Pp="TooltipTrigger",mI=h.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,r=Fc(Pp,n),a=UN(Pp,n),o=Bx(n),l=h.useRef(null),c=Ve(t,l,r.onTriggerChange),u=h.useRef(!1),d=h.useRef(!1),f=h.useCallback(()=>u.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),i.jsx(LN,{asChild:!0,...o,children:i.jsx(xe.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...s,ref:c,onPointerMove:ge(e.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(r.onTriggerEnter(),d.current=!0)}),onPointerLeave:ge(e.onPointerLeave,()=>{r.onTriggerLeave(),d.current=!1}),onPointerDown:ge(e.onPointerDown,()=>{r.open&&r.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ge(e.onFocus,()=>{u.current||r.onOpen()}),onBlur:ge(e.onBlur,r.onClose),onClick:ge(e.onClick,r.onClose)})})});mI.displayName=Pp;var Ux="TooltipPortal",[pI,gI]=Ef(Ux,{forceMount:void 0}),WN=e=>{const{__scopeTooltip:t,forceMount:n,children:s,container:r}=e,a=Fc(Ux,t);return i.jsx(pI,{scope:t,forceMount:n,children:i.jsx(dr,{present:n||a.open,children:i.jsx(Ic,{asChild:!0,container:r,children:s})})})};WN.displayName=Ux;var Po="TooltipContent",HN=h.forwardRef((e,t)=>{const n=gI(Po,e.__scopeTooltip),{forceMount:s=n.forceMount,side:r="top",...a}=e,o=Fc(Po,e.__scopeTooltip);return i.jsx(dr,{present:s||o.open,children:o.disableHoverableContent?i.jsx(qN,{side:r,...a,ref:t}):i.jsx(xI,{side:r,...a,ref:t})})}),xI=h.forwardRef((e,t)=>{const n=Fc(Po,e.__scopeTooltip),s=UN(Po,e.__scopeTooltip),r=h.useRef(null),a=Ve(t,r),[o,l]=h.useState(null),{trigger:c,onClose:u}=n,d=r.current,{onPointerInTransitChange:f}=s,m=h.useCallback(()=>{l(null),f(!1)},[f]),x=h.useCallback((j,v)=>{const y=j.currentTarget,p={x:j.clientX,y:j.clientY},g=bI(p,y.getBoundingClientRect()),w=_I(p,g),b=SI(v.getBoundingClientRect()),S=CI([...w,...b]);l(S),f(!0)},[f]);return h.useEffect(()=>()=>m(),[m]),h.useEffect(()=>{if(c&&d){const j=y=>x(y,d),v=y=>x(y,c);return c.addEventListener("pointerleave",j),d.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",j),d.removeEventListener("pointerleave",v)}}},[c,d,x,m]),h.useEffect(()=>{if(o){const j=v=>{const y=v.target,p={x:v.clientX,y:v.clientY},g=(c==null?void 0:c.contains(y))||(d==null?void 0:d.contains(y)),w=!NI(p,o);g?m():w&&(m(),u())};return document.addEventListener("pointermove",j),()=>document.removeEventListener("pointermove",j)}},[c,d,o,u,m]),i.jsx(qN,{...e,ref:a})}),[vI,yI]=Ef(zN,{isInside:!1}),wI=XR("TooltipContent"),qN=h.forwardRef((e,t)=>{const{__scopeTooltip:n,children:s,"aria-label":r,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=e,c=Fc(Po,n),u=Bx(n),{onClose:d}=c;return h.useEffect(()=>(document.addEventListener($w,d),()=>document.removeEventListener($w,d)),[d]),h.useEffect(()=>{if(c.trigger){const f=m=>{const x=m.target;x!=null&&x.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),i.jsx(Mc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:i.jsxs(ON,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(wI,{children:s}),i.jsx(vI,{scope:n,isInside:!0,children:i.jsx(yA,{id:c.contentId,role:"tooltip",children:r||s})})]})})});HN.displayName=Po;var KN="TooltipArrow",jI=h.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,r=Bx(n);return yI(KN,n).isInside?null:i.jsx(FN,{...r,...s,ref:t})});jI.displayName=KN;function bI(e,t){const n=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),r=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,s,r,a)){case a:return"left";case r:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function _I(e,t,n=5){const s=[];switch(t){case"top":s.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":s.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":s.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":s.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return s}function SI(e){const{top:t,right:n,bottom:s,left:r}=e;return[{x:r,y:t},{x:n,y:t},{x:n,y:s},{x:r,y:s}]}function NI(e,t){const{x:n,y:s}=e;let r=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a],c=t[o],u=l.x,d=l.y,f=c.x,m=c.y;d>s!=m>s&&n<(f-u)*(s-d)/(m-d)+u&&(r=!r)}return r}function CI(e){const t=e.slice();return t.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),EI(t)}function EI(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const r=e[s];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(r.y-o.y)>=(a.y-o.y)*(r.x-o.x))t.pop();else break}t.push(r)}t.pop();const n=[];for(let s=e.length-1;s>=0;s--){const r=e[s];for(;n.length>=2;){const a=n[n.length-1],o=n[n.length-2];if((a.x-o.x)*(r.y-o.y)>=(a.y-o.y)*(r.x-o.x))n.pop();else break}n.push(r)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var TI=VN,kI=WN,GN=HN;const PI=TI,RI=h.forwardRef(({className:e,sideOffset:t=4,...n},s)=>i.jsx(kI,{children:i.jsx(GN,{ref:s,sideOffset:t,className:me("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n})}));RI.displayName=GN.displayName;var Tf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},kf=typeof window>"u"||"Deno"in globalThis;function ks(){}function AI(e,t){return typeof e=="function"?e(t):e}function DI(e){return typeof e=="number"&&e>=0&&e!==1/0}function $I(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Rp(e,t){return typeof e=="function"?e(t):e}function MI(e,t){return typeof e=="function"?e(t):e}function Mw(e,t){const{type:n="all",exact:s,fetchStatus:r,predicate:a,queryKey:o,stale:l}=e;if(o){if(s){if(t.queryHash!==Vx(o,t.options))return!1}else if(!mc(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||r&&r!==t.state.fetchStatus||a&&!a(t))}function Iw(e,t){const{exact:n,status:s,predicate:r,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(hc(t.options.mutationKey)!==hc(a))return!1}else if(!mc(t.options.mutationKey,a))return!1}return!(s&&t.state.status!==s||r&&!r(t))}function Vx(e,t){return((t==null?void 0:t.queryKeyHashFn)||hc)(e)}function hc(e){return JSON.stringify(e,(t,n)=>Ap(n)?Object.keys(n).sort().reduce((s,r)=>(s[r]=n[r],s),{}):n)}function mc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>mc(e[n],t[n])):!1}function YN(e,t){if(e===t)return e;const n=Lw(e)&&Lw(t);if(n||Ap(e)&&Ap(t)){const s=n?e:Object.keys(e),r=s.length,a=n?t:Object.keys(t),o=a.length,l=n?[]:{},c=new Set(s);let u=0;for(let d=0;d<o;d++){const f=n?d:a[d];(!n&&c.has(f)||n)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,u++):(l[f]=YN(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&u++)}return r===o&&u===r?e:l}return t}function Lw(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ap(e){if(!Ow(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Ow(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Ow(e){return Object.prototype.toString.call(e)==="[object Object]"}function II(e){return new Promise(t=>{setTimeout(t,e)})}function LI(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?YN(e,t):t}function OI(e,t,n=0){const s=[...e,t];return n&&s.length>n?s.slice(1):s}function FI(e,t,n=0){const s=[t,...e];return n&&s.length>n?s.slice(0,-1):s}var zx=Symbol();function QN(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===zx?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Ji,Zr,fo,ab,BI=(ab=class extends Tf{constructor(){super();Be(this,Ji);Be(this,Zr);Be(this,fo);Ne(this,fo,t=>{if(!kf&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){q(this,Zr)||this.setEventListener(q(this,fo))}onUnsubscribe(){var t;this.hasListeners()||((t=q(this,Zr))==null||t.call(this),Ne(this,Zr,void 0))}setEventListener(t){var n;Ne(this,fo,t),(n=q(this,Zr))==null||n.call(this),Ne(this,Zr,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){q(this,Ji)!==t&&(Ne(this,Ji,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof q(this,Ji)=="boolean"?q(this,Ji):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ji=new WeakMap,Zr=new WeakMap,fo=new WeakMap,ab),XN=new BI,ho,ei,mo,ob,UI=(ob=class extends Tf{constructor(){super();Be(this,ho,!0);Be(this,ei);Be(this,mo);Ne(this,mo,t=>{if(!kf&&window.addEventListener){const n=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){q(this,ei)||this.setEventListener(q(this,mo))}onUnsubscribe(){var t;this.hasListeners()||((t=q(this,ei))==null||t.call(this),Ne(this,ei,void 0))}setEventListener(t){var n;Ne(this,mo,t),(n=q(this,ei))==null||n.call(this),Ne(this,ei,t(this.setOnline.bind(this)))}setOnline(t){q(this,ho)!==t&&(Ne(this,ho,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return q(this,ho)}},ho=new WeakMap,ei=new WeakMap,mo=new WeakMap,ob),Id=new UI;function VI(){let e,t;const n=new Promise((r,a)=>{e=r,t=a});n.status="pending",n.catch(()=>{});function s(r){Object.assign(n,r),delete n.resolve,delete n.reject}return n.resolve=r=>{s({status:"fulfilled",value:r}),e(r)},n.reject=r=>{s({status:"rejected",reason:r}),t(r)},n}function zI(e){return Math.min(1e3*2**e,3e4)}function JN(e){return(e??"online")==="online"?Id.isOnline():!0}var ZN=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function qh(e){return e instanceof ZN}function e1(e){let t=!1,n=0,s=!1,r;const a=VI(),o=v=>{var y;s||(m(new ZN(v)),(y=e.abort)==null||y.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>XN.isFocused()&&(e.networkMode==="always"||Id.isOnline())&&e.canRun(),d=()=>JN(e.networkMode)&&e.canRun(),f=v=>{var y;s||(s=!0,(y=e.onSuccess)==null||y.call(e,v),r==null||r(),a.resolve(v))},m=v=>{var y;s||(s=!0,(y=e.onError)==null||y.call(e,v),r==null||r(),a.reject(v))},x=()=>new Promise(v=>{var y;r=p=>{(s||u())&&v(p)},(y=e.onPause)==null||y.call(e)}).then(()=>{var v;r=void 0,s||(v=e.onContinue)==null||v.call(e)}),j=()=>{if(s)return;let v;const y=n===0?e.initialPromise:void 0;try{v=y??e.fn()}catch(p){v=Promise.reject(p)}Promise.resolve(v).then(f).catch(p=>{var T;if(s)return;const g=e.retry??(kf?0:3),w=e.retryDelay??zI,b=typeof w=="function"?w(n,p):w,S=g===!0||typeof g=="number"&&n<g||typeof g=="function"&&g(n,p);if(t||!S){m(p);return}n++,(T=e.onFail)==null||T.call(e,n,p),II(b).then(()=>u()?void 0:x()).then(()=>{t?m(p):j()})})};return{promise:a,cancel:o,continue:()=>(r==null||r(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?j():x().then(j),a)}}var WI=e=>setTimeout(e,0);function HI(){let e=[],t=0,n=l=>{l()},s=l=>{l()},r=WI;const a=l=>{t?e.push(l):r(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&r(()=>{s(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{r=l}}}var En=HI(),Zi,lb,t1=(lb=class{constructor(){Be(this,Zi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),DI(this.gcTime)&&Ne(this,Zi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(kf?1/0:5*60*1e3))}clearGcTimeout(){q(this,Zi)&&(clearTimeout(q(this,Zi)),Ne(this,Zi,void 0))}},Zi=new WeakMap,lb),po,ea,ds,ta,fn,Tc,na,Ps,pr,cb,qI=(cb=class extends t1{constructor(t){super();Be(this,Ps);Be(this,po);Be(this,ea);Be(this,ds);Be(this,ta);Be(this,fn);Be(this,Tc);Be(this,na);Ne(this,na,!1),Ne(this,Tc,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ne(this,ta,t.client),Ne(this,ds,q(this,ta).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ne(this,po,GI(this.options)),this.state=t.state??q(this,po),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=q(this,fn))==null?void 0:t.promise}setOptions(t){this.options={...q(this,Tc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&q(this,ds).remove(this)}setData(t,n){const s=LI(this.state.data,t,this.options);return ln(this,Ps,pr).call(this,{data:s,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),s}setState(t,n){ln(this,Ps,pr).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var s,r;const n=(s=q(this,fn))==null?void 0:s.promise;return(r=q(this,fn))==null||r.cancel(t),n?n.then(ks).catch(ks):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(q(this,po))}isActive(){return this.observers.some(t=>MI(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===zx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Rp(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!$I(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=q(this,fn))==null||n.continue()}onOnline(){var n;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=q(this,fn))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),q(this,ds).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(q(this,fn)&&(q(this,na)?q(this,fn).cancel({revert:!0}):q(this,fn).cancelRetry()),this.scheduleGc()),q(this,ds).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ln(this,Ps,pr).call(this,{type:"invalidate"})}fetch(t,n){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(q(this,fn))return q(this,fn).continueRetry(),q(this,fn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(x=>x.options.queryFn);m&&this.setOptions(m.options)}const s=new AbortController,r=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(Ne(this,na,!0),s.signal)})},a=()=>{const m=QN(this.options,n),j=(()=>{const v={client:q(this,ta),queryKey:this.queryKey,meta:this.meta};return r(v),v})();return Ne(this,na,!1),this.options.persister?this.options.persister(m,j,this):m(j)},l=(()=>{const m={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:q(this,ta),state:this.state,fetchFn:a};return r(m),m})();(u=this.options.behavior)==null||u.onFetch(l,this),Ne(this,ea,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&ln(this,Ps,pr).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=m=>{var x,j,v,y;qh(m)&&m.silent||ln(this,Ps,pr).call(this,{type:"error",error:m}),qh(m)||((j=(x=q(this,ds).config).onError)==null||j.call(x,m,this),(y=(v=q(this,ds).config).onSettled)==null||y.call(v,this.state.data,m,this)),this.scheduleGc()};return Ne(this,fn,e1({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:s.abort.bind(s),onSuccess:m=>{var x,j,v,y;if(m===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(p){c(p);return}(j=(x=q(this,ds).config).onSuccess)==null||j.call(x,m,this),(y=(v=q(this,ds).config).onSettled)==null||y.call(v,m,this.state.error,this),this.scheduleGc()},onError:c,onFail:(m,x)=>{ln(this,Ps,pr).call(this,{type:"failed",failureCount:m,error:x})},onPause:()=>{ln(this,Ps,pr).call(this,{type:"pause"})},onContinue:()=>{ln(this,Ps,pr).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),q(this,fn).start()}},po=new WeakMap,ea=new WeakMap,ds=new WeakMap,ta=new WeakMap,fn=new WeakMap,Tc=new WeakMap,na=new WeakMap,Ps=new WeakSet,pr=function(t){const n=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...KI(s.data,this.options),fetchMeta:t.meta??null};case"success":return Ne(this,ea,void 0),{...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=t.error;return qh(r)&&r.revert&&q(this,ea)?{...q(this,ea),fetchStatus:"idle"}:{...s,error:r,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=n(this.state),En.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),q(this,ds).notify({query:this,type:"updated",action:t})})},cb);function KI(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:JN(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function GI(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,s=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Qs,ub,YI=(ub=class extends Tf{constructor(t={}){super();Be(this,Qs);this.config=t,Ne(this,Qs,new Map)}build(t,n,s){const r=n.queryKey,a=n.queryHash??Vx(r,n);let o=this.get(a);return o||(o=new qI({client:t,queryKey:r,queryHash:a,options:t.defaultQueryOptions(n),state:s,defaultOptions:t.getQueryDefaults(r)}),this.add(o)),o}add(t){q(this,Qs).has(t.queryHash)||(q(this,Qs).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=q(this,Qs).get(t.queryHash);n&&(t.destroy(),n===t&&q(this,Qs).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){En.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return q(this,Qs).get(t)}getAll(){return[...q(this,Qs).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(s=>Mw(n,s))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(s=>Mw(t,s)):n}notify(t){En.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){En.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){En.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Qs=new WeakMap,ub),Xs,Nn,sa,Js,Vr,db,QI=(db=class extends t1{constructor(t){super();Be(this,Js);Be(this,Xs);Be(this,Nn);Be(this,sa);this.mutationId=t.mutationId,Ne(this,Nn,t.mutationCache),Ne(this,Xs,[]),this.state=t.state||XI(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){q(this,Xs).includes(t)||(q(this,Xs).push(t),this.clearGcTimeout(),q(this,Nn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ne(this,Xs,q(this,Xs).filter(n=>n!==t)),this.scheduleGc(),q(this,Nn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){q(this,Xs).length||(this.state.status==="pending"?this.scheduleGc():q(this,Nn).remove(this))}continue(){var t;return((t=q(this,sa))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,o,l,c,u,d,f,m,x,j,v,y,p,g,w,b,S,T,N,C;const n=()=>{ln(this,Js,Vr).call(this,{type:"continue"})};Ne(this,sa,e1({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(R,D)=>{ln(this,Js,Vr).call(this,{type:"failed",failureCount:R,error:D})},onPause:()=>{ln(this,Js,Vr).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>q(this,Nn).canRun(this)}));const s=this.state.status==="pending",r=!q(this,sa).canStart();try{if(s)n();else{ln(this,Js,Vr).call(this,{type:"pending",variables:t,isPaused:r}),await((o=(a=q(this,Nn).config).onMutate)==null?void 0:o.call(a,t,this));const D=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));D!==this.state.context&&ln(this,Js,Vr).call(this,{type:"pending",context:D,variables:t,isPaused:r})}const R=await q(this,sa).start();return await((d=(u=q(this,Nn).config).onSuccess)==null?void 0:d.call(u,R,t,this.state.context,this)),await((m=(f=this.options).onSuccess)==null?void 0:m.call(f,R,t,this.state.context)),await((j=(x=q(this,Nn).config).onSettled)==null?void 0:j.call(x,R,null,this.state.variables,this.state.context,this)),await((y=(v=this.options).onSettled)==null?void 0:y.call(v,R,null,t,this.state.context)),ln(this,Js,Vr).call(this,{type:"success",data:R}),R}catch(R){try{throw await((g=(p=q(this,Nn).config).onError)==null?void 0:g.call(p,R,t,this.state.context,this)),await((b=(w=this.options).onError)==null?void 0:b.call(w,R,t,this.state.context)),await((T=(S=q(this,Nn).config).onSettled)==null?void 0:T.call(S,void 0,R,this.state.variables,this.state.context,this)),await((C=(N=this.options).onSettled)==null?void 0:C.call(N,void 0,R,t,this.state.context)),R}finally{ln(this,Js,Vr).call(this,{type:"error",error:R})}}finally{q(this,Nn).runNext(this)}}},Xs=new WeakMap,Nn=new WeakMap,sa=new WeakMap,Js=new WeakSet,Vr=function(t){const n=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),En.batch(()=>{q(this,Xs).forEach(s=>{s.onMutationUpdate(t)}),q(this,Nn).notify({mutation:this,type:"updated",action:t})})},db);function XI(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var jr,Rs,kc,fb,JI=(fb=class extends Tf{constructor(t={}){super();Be(this,jr);Be(this,Rs);Be(this,kc);this.config=t,Ne(this,jr,new Set),Ne(this,Rs,new Map),Ne(this,kc,0)}build(t,n,s){const r=new QI({mutationCache:this,mutationId:++tu(this,kc)._,options:t.defaultMutationOptions(n),state:s});return this.add(r),r}add(t){q(this,jr).add(t);const n=bu(t);if(typeof n=="string"){const s=q(this,Rs).get(n);s?s.push(t):q(this,Rs).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(q(this,jr).delete(t)){const n=bu(t);if(typeof n=="string"){const s=q(this,Rs).get(n);if(s)if(s.length>1){const r=s.indexOf(t);r!==-1&&s.splice(r,1)}else s[0]===t&&q(this,Rs).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=bu(t);if(typeof n=="string"){const s=q(this,Rs).get(n),r=s==null?void 0:s.find(a=>a.state.status==="pending");return!r||r===t}else return!0}runNext(t){var s;const n=bu(t);if(typeof n=="string"){const r=(s=q(this,Rs).get(n))==null?void 0:s.find(a=>a!==t&&a.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}else return Promise.resolve()}clear(){En.batch(()=>{q(this,jr).forEach(t=>{this.notify({type:"removed",mutation:t})}),q(this,jr).clear(),q(this,Rs).clear()})}getAll(){return Array.from(q(this,jr))}find(t){const n={exact:!0,...t};return this.getAll().find(s=>Iw(n,s))}findAll(t={}){return this.getAll().filter(n=>Iw(t,n))}notify(t){En.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return En.batch(()=>Promise.all(t.map(n=>n.continue().catch(ks))))}},jr=new WeakMap,Rs=new WeakMap,kc=new WeakMap,fb);function bu(e){var t;return(t=e.options.scope)==null?void 0:t.id}function Fw(e){return{onFetch:(t,n)=>{var d,f,m,x,j;const s=t.options,r=(m=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,a=((x=t.state.data)==null?void 0:x.pages)||[],o=((j=t.state.data)==null?void 0:j.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const y=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},p=QN(t.options,t.fetchOptions),g=async(w,b,S)=>{if(v)return Promise.reject();if(b==null&&w.pages.length)return Promise.resolve(w);const N=(()=>{const k={client:t.client,queryKey:t.queryKey,pageParam:b,direction:S?"backward":"forward",meta:t.options.meta};return y(k),k})(),C=await p(N),{maxPages:R}=t.options,D=S?FI:OI;return{pages:D(w.pages,C,R),pageParams:D(w.pageParams,b,R)}};if(r&&a.length){const w=r==="backward",b=w?ZI:Bw,S={pages:a,pageParams:o},T=b(s,S);l=await g(S,T,w)}else{const w=e??a.length;do{const b=c===0?o[0]??s.initialPageParam:Bw(s,l);if(c>0&&b==null)break;l=await g(l,b),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var v,y;return(y=(v=t.options).persister)==null?void 0:y.call(v,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function Bw(e,{pages:t,pageParams:n}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,n[s],n):void 0}function ZI(e,{pages:t,pageParams:n}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,n[0],n):void 0}var vt,ti,ni,go,xo,si,vo,yo,hb,eL=(hb=class{constructor(e={}){Be(this,vt);Be(this,ti);Be(this,ni);Be(this,go);Be(this,xo);Be(this,si);Be(this,vo);Be(this,yo);Ne(this,vt,e.queryCache||new YI),Ne(this,ti,e.mutationCache||new JI),Ne(this,ni,e.defaultOptions||{}),Ne(this,go,new Map),Ne(this,xo,new Map),Ne(this,si,0)}mount(){tu(this,si)._++,q(this,si)===1&&(Ne(this,vo,XN.subscribe(async e=>{e&&(await this.resumePausedMutations(),q(this,vt).onFocus())})),Ne(this,yo,Id.subscribe(async e=>{e&&(await this.resumePausedMutations(),q(this,vt).onOnline())})))}unmount(){var e,t;tu(this,si)._--,q(this,si)===0&&((e=q(this,vo))==null||e.call(this),Ne(this,vo,void 0),(t=q(this,yo))==null||t.call(this),Ne(this,yo,void 0))}isFetching(e){return q(this,vt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return q(this,ti).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=q(this,vt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=q(this,vt).build(this,t),s=n.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Rp(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return q(this,vt).findAll(e).map(({queryKey:t,state:n})=>{const s=n.data;return[t,s]})}setQueryData(e,t,n){const s=this.defaultQueryOptions({queryKey:e}),r=q(this,vt).get(s.queryHash),a=r==null?void 0:r.state.data,o=AI(t,a);if(o!==void 0)return q(this,vt).build(this,s).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return En.batch(()=>q(this,vt).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=q(this,vt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=q(this,vt);En.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=q(this,vt);return En.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},s=En.batch(()=>q(this,vt).findAll(e).map(r=>r.cancel(n)));return Promise.all(s).then(ks).catch(ks)}invalidateQueries(e,t={}){return En.batch(()=>(q(this,vt).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},s=En.batch(()=>q(this,vt).findAll(e).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let a=r.fetch(void 0,n);return n.throwOnError||(a=a.catch(ks)),r.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(s).then(ks)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=q(this,vt).build(this,t);return n.isStaleByTime(Rp(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ks).catch(ks)}fetchInfiniteQuery(e){return e.behavior=Fw(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ks).catch(ks)}ensureInfiniteQueryData(e){return e.behavior=Fw(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Id.isOnline()?q(this,ti).resumePausedMutations():Promise.resolve()}getQueryCache(){return q(this,vt)}getMutationCache(){return q(this,ti)}getDefaultOptions(){return q(this,ni)}setDefaultOptions(e){Ne(this,ni,e)}setQueryDefaults(e,t){q(this,go).set(hc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...q(this,go).values()],n={};return t.forEach(s=>{mc(e,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(e,t){q(this,xo).set(hc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...q(this,xo).values()],n={};return t.forEach(s=>{mc(e,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...q(this,ni).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Vx(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===zx&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...q(this,ni).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){q(this,vt).clear(),q(this,ti).clear()}},vt=new WeakMap,ti=new WeakMap,ni=new WeakMap,go=new WeakMap,xo=new WeakMap,si=new WeakMap,vo=new WeakMap,yo=new WeakMap,hb),tL=h.createContext(void 0),nL=({client:e,children:t})=>(h.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(tL.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pc(){return pc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},pc.apply(this,arguments)}var oi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(oi||(oi={}));const Uw="popstate";function sL(e){e===void 0&&(e={});function t(s,r){let{pathname:a,search:o,hash:l}=s.location;return Dp("",{pathname:a,search:o,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(s,r){return typeof r=="string"?r:Ld(r)}return iL(t,n,null,e)}function $t(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function n1(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function rL(){return Math.random().toString(36).substr(2,8)}function Vw(e,t){return{usr:e.state,key:e.key,idx:t}}function Dp(e,t,n,s){return n===void 0&&(n=null),pc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Vo(t):t,{state:n,key:t&&t.key||s||rL()})}function Ld(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Vo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function iL(e,t,n,s){s===void 0&&(s={});let{window:r=document.defaultView,v5Compat:a=!1}=s,o=r.history,l=oi.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(pc({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=oi.Pop;let y=d(),p=y==null?null:y-u;u=y,c&&c({action:l,location:v.location,delta:p})}function m(y,p){l=oi.Push;let g=Dp(v.location,y,p);u=d()+1;let w=Vw(g,u),b=v.createHref(g);try{o.pushState(w,"",b)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;r.location.assign(b)}a&&c&&c({action:l,location:v.location,delta:1})}function x(y,p){l=oi.Replace;let g=Dp(v.location,y,p);u=d();let w=Vw(g,u),b=v.createHref(g);o.replaceState(w,"",b),a&&c&&c({action:l,location:v.location,delta:0})}function j(y){let p=r.location.origin!=="null"?r.location.origin:r.location.href,g=typeof y=="string"?y:Ld(y);return g=g.replace(/ $/,"%20"),$t(p,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,p)}let v={get action(){return l},get location(){return e(r,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(Uw,f),c=y,()=>{r.removeEventListener(Uw,f),c=null}},createHref(y){return t(r,y)},createURL:j,encodeLocation(y){let p=j(y);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:m,replace:x,go(y){return o.go(y)}};return v}var zw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(zw||(zw={}));function aL(e,t,n){return n===void 0&&(n="/"),oL(e,t,n)}function oL(e,t,n,s){let r=typeof t=="string"?Vo(t):t,a=Wx(r.pathname||"/",n);if(a==null)return null;let o=s1(e);lL(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=wL(a);l=xL(o[c],u)}return l}function s1(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let r=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&($t(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let u=gi([s,c.relativePath]),d=n.concat(c);a.children&&a.children.length>0&&($t(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),s1(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:pL(u,a.index),routesMeta:d})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))r(a,o);else for(let c of r1(a.path))r(a,o,c)}),t}function r1(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,r=n.endsWith("?"),a=n.replace(/\?$/,"");if(s.length===0)return r?[a,""]:[a];let o=r1(s.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),r&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function lL(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:gL(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const cL=/^:[\w-]+$/,uL=3,dL=2,fL=1,hL=10,mL=-2,Ww=e=>e==="*";function pL(e,t){let n=e.split("/"),s=n.length;return n.some(Ww)&&(s+=mL),t&&(s+=dL),n.filter(r=>!Ww(r)).reduce((r,a)=>r+(cL.test(a)?uL:a===""?fL:hL),s)}function gL(e,t){return e.length===t.length&&e.slice(0,-1).every((s,r)=>s===t[r])?e[e.length-1]-t[t.length-1]:0}function xL(e,t,n){let{routesMeta:s}=e,r={},a="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],u=l===s.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=vL({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f)return null;Object.assign(r,f.params),o.push({params:r,pathname:gi([a,f.pathname]),pathnameBase:SL(gi([a,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(a=gi([a,f.pathnameBase]))}return o}function vL(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=yL(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let a=r[0],o=a.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:s.reduce((u,d,f)=>{let{paramName:m,isOptional:x}=d;if(m==="*"){let v=l[f]||"";o=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const j=l[f];return x&&!j?u[m]=void 0:u[m]=(j||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function yL(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),n1(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),s]}function wL(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return n1(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Wx(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function jL(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:r=""}=typeof e=="string"?Vo(e):e;return{pathname:n?n.startsWith("/")?n:bL(n,t):t,search:NL(s),hash:CL(r)}}function bL(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Kh(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function _L(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function i1(e,t){let n=_L(e);return t?n.map((s,r)=>r===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function a1(e,t,n,s){s===void 0&&(s=!1);let r;typeof e=="string"?r=Vo(e):(r=pc({},e),$t(!r.pathname||!r.pathname.includes("?"),Kh("?","pathname","search",r)),$t(!r.pathname||!r.pathname.includes("#"),Kh("#","pathname","hash",r)),$t(!r.search||!r.search.includes("#"),Kh("#","search","hash",r)));let a=e===""||r.pathname==="",o=a?"/":r.pathname,l;if(o==null)l=n;else{let f=t.length-1;if(!s&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;r.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=jL(r,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const gi=e=>e.join("/").replace(/\/\/+/g,"/"),SL=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),NL=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,CL=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function EL(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const o1=["post","put","patch","delete"];new Set(o1);const TL=["get",...o1];new Set(TL);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gc(){return gc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},gc.apply(this,arguments)}const Hx=h.createContext(null),kL=h.createContext(null),ya=h.createContext(null),Pf=h.createContext(null),Ti=h.createContext({outlet:null,matches:[],isDataRoute:!1}),l1=h.createContext(null);function PL(e,t){let{relative:n}=t===void 0?{}:t;Bc()||$t(!1);let{basename:s,navigator:r}=h.useContext(ya),{hash:a,pathname:o,search:l}=d1(e,{relative:n}),c=o;return s!=="/"&&(c=o==="/"?s:gi([s,o])),r.createHref({pathname:c,search:l,hash:a})}function Bc(){return h.useContext(Pf)!=null}function zo(){return Bc()||$t(!1),h.useContext(Pf).location}function c1(e){h.useContext(ya).static||h.useLayoutEffect(e)}function RL(){let{isDataRoute:e}=h.useContext(Ti);return e?WL():AL()}function AL(){Bc()||$t(!1);let e=h.useContext(Hx),{basename:t,future:n,navigator:s}=h.useContext(ya),{matches:r}=h.useContext(Ti),{pathname:a}=zo(),o=JSON.stringify(i1(r,n.v7_relativeSplatPath)),l=h.useRef(!1);return c1(()=>{l.current=!0}),h.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){s.go(u);return}let f=a1(u,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:gi([t,f.pathname])),(d.replace?s.replace:s.push)(f,d.state,d)},[t,s,o,a,e])}function u1(){let{matches:e}=h.useContext(Ti),t=e[e.length-1];return t?t.params:{}}function d1(e,t){let{relative:n}=t===void 0?{}:t,{future:s}=h.useContext(ya),{matches:r}=h.useContext(Ti),{pathname:a}=zo(),o=JSON.stringify(i1(r,s.v7_relativeSplatPath));return h.useMemo(()=>a1(e,JSON.parse(o),a,n==="path"),[e,o,a,n])}function DL(e,t){return $L(e,t)}function $L(e,t,n,s){Bc()||$t(!1);let{navigator:r}=h.useContext(ya),{matches:a}=h.useContext(Ti),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=zo(),d;if(t){var f;let y=typeof t=="string"?Vo(t):t;c==="/"||(f=y.pathname)!=null&&f.startsWith(c)||$t(!1),d=y}else d=u;let m=d.pathname||"/",x=m;if(c!=="/"){let y=c.replace(/^\//,"").split("/");x="/"+m.replace(/^\//,"").split("/").slice(y.length).join("/")}let j=aL(e,{pathname:x}),v=FL(j&&j.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:gi([c,r.encodeLocation?r.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:gi([c,r.encodeLocation?r.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,n,s);return t&&v?h.createElement(Pf.Provider,{value:{location:gc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:oi.Pop}},v):v}function ML(){let e=zL(),t=EL(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),n?h.createElement("pre",{style:r},n):null,null)}const IL=h.createElement(ML,null);class LL extends h.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?h.createElement(Ti.Provider,{value:this.props.routeContext},h.createElement(l1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function OL(e){let{routeContext:t,match:n,children:s}=e,r=h.useContext(Hx);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),h.createElement(Ti.Provider,{value:t},s)}function FL(e,t,n,s){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=s)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(r=n)==null?void 0:r.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||$t(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&s&&s.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:x}=n,j=f.route.loader&&m[f.route.id]===void 0&&(!x||x[f.route.id]===void 0);if(f.route.lazy||j){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,m)=>{let x,j=!1,v=null,y=null;n&&(x=l&&f.route.id?l[f.route.id]:void 0,v=f.route.errorElement||IL,c&&(u<0&&m===0?(HL("route-fallback"),j=!0,y=null):u===m&&(j=!0,y=f.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,m+1)),g=()=>{let w;return x?w=v:j?w=y:f.route.Component?w=h.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,h.createElement(OL,{match:f,routeContext:{outlet:d,matches:p,isDataRoute:n!=null},children:w})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?h.createElement(LL,{location:n.location,revalidation:n.revalidation,component:v,error:x,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()},null)}var f1=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(f1||{}),h1=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(h1||{});function BL(e){let t=h.useContext(Hx);return t||$t(!1),t}function UL(e){let t=h.useContext(kL);return t||$t(!1),t}function VL(e){let t=h.useContext(Ti);return t||$t(!1),t}function m1(e){let t=VL(),n=t.matches[t.matches.length-1];return n.route.id||$t(!1),n.route.id}function zL(){var e;let t=h.useContext(l1),n=UL(),s=m1();return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function WL(){let{router:e}=BL(f1.UseNavigateStable),t=m1(h1.UseNavigateStable),n=h.useRef(!1);return c1(()=>{n.current=!0}),h.useCallback(function(r,a){a===void 0&&(a={}),n.current&&(typeof r=="number"?e.navigate(r):e.navigate(r,gc({fromRouteId:t},a)))},[e,t])}const Hw={};function HL(e,t,n){Hw[e]||(Hw[e]=!0)}function qL(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ln(e){$t(!1)}function KL(e){let{basename:t="/",children:n=null,location:s,navigationType:r=oi.Pop,navigator:a,static:o=!1,future:l}=e;Bc()&&$t(!1);let c=t.replace(/^\/*/,"/"),u=h.useMemo(()=>({basename:c,navigator:a,static:o,future:gc({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof s=="string"&&(s=Vo(s));let{pathname:d="/",search:f="",hash:m="",state:x=null,key:j="default"}=s,v=h.useMemo(()=>{let y=Wx(d,c);return y==null?null:{location:{pathname:y,search:f,hash:m,state:x,key:j},navigationType:r}},[c,d,f,m,x,j,r]);return v==null?null:h.createElement(ya.Provider,{value:u},h.createElement(Pf.Provider,{children:n,value:v}))}function GL(e){let{children:t,location:n}=e;return DL($p(t),n)}new Promise(()=>{});function $p(e,t){t===void 0&&(t=[]);let n=[];return h.Children.forEach(e,(s,r)=>{if(!h.isValidElement(s))return;let a=[...t,r];if(s.type===h.Fragment){n.push.apply(n,$p(s.props.children,a));return}s.type!==Ln&&$t(!1),!s.props.index||!s.props.children||$t(!1);let o={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=$p(s.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mp(){return Mp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Mp.apply(this,arguments)}function YL(e,t){if(e==null)return{};var n={},s=Object.keys(e),r,a;for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function QL(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function XL(e,t){return e.button===0&&(!t||t==="_self")&&!QL(e)}const JL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ZL="6";try{window.__reactRouterVersion=ZL}catch{}const eO="startTransition",qw=Pg[eO];function tO(e){let{basename:t,children:n,future:s,window:r}=e,a=h.useRef();a.current==null&&(a.current=sL({window:r,v5Compat:!0}));let o=a.current,[l,c]=h.useState({action:o.action,location:o.location}),{v7_startTransition:u}=s||{},d=h.useCallback(f=>{u&&qw?qw(()=>c(f)):c(f)},[c,u]);return h.useLayoutEffect(()=>o.listen(d),[o,d]),h.useEffect(()=>qL(s),[s]),h.createElement(KL,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:s})}const nO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",sO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pt=h.forwardRef(function(t,n){let{onClick:s,relative:r,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,m=YL(t,JL),{basename:x}=h.useContext(ya),j,v=!1;if(typeof u=="string"&&sO.test(u)&&(j=u,nO))try{let w=new URL(window.location.href),b=u.startsWith("//")?new URL(w.protocol+u):new URL(u),S=Wx(b.pathname,x);b.origin===w.origin&&S!=null?u=S+b.search+b.hash:v=!0}catch{}let y=PL(u,{relative:r}),p=rO(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:r,viewTransition:f});function g(w){s&&s(w),w.defaultPrevented||p(w)}return h.createElement("a",Mp({},m,{href:j||y,onClick:v||a?s:g,ref:n,target:c}))});var Kw;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Kw||(Kw={}));var Gw;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Gw||(Gw={}));function rO(e,t){let{target:n,replace:s,state:r,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=RL(),u=zo(),d=d1(e,{relative:o});return h.useCallback(f=>{if(XL(f,n)){f.preventDefault();let m=s!==void 0?s:Ld(u)===Ld(d);c(e,{replace:m,state:r,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,s,r,n,e,a,o,l])}const iO="modulepreload",aO=function(e){return"/"+e},Yw={},Wo=function(t,n,s){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(n.map(c=>{if(c=aO(c),c in Yw)return;Yw[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":iO,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((m,x)=>{f.addEventListener("load",m),f.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return r.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},oO=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Wo(async()=>{const{default:s}=await Promise.resolve().then(()=>Ho);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)};class qx extends Error{constructor(t,n="FunctionsError",s){super(t),this.name=n,this.context=s}}class lO extends qx{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Qw extends qx{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Xw extends qx{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ip;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ip||(Ip={}));var cO=function(e,t,n,s){function r(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):r(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};class uO{constructor(t,{headers:n={},customFetch:s,region:r=Ip.Any}={}){this.url=t,this.headers=n,this.region=r,this.fetch=oO(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var s;return cO(this,void 0,void 0,function*(){try{const{headers:r,method:a,body:o}=n;let l={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;o&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const f=yield this.fetch(u.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),r),body:d}).catch(v=>{throw new lO(v)}),m=f.headers.get("x-relay-error");if(m&&m==="true")throw new Qw(f);if(!f.ok)throw new Xw(f);let x=((s=f.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),j;return x==="application/json"?j=yield f.json():x==="application/octet-stream"?j=yield f.blob():x==="text/event-stream"?j=f:x==="multipart/form-data"?j=yield f.formData():j=yield f.text(),{data:j,error:null,response:f}}catch(r){return{data:null,error:r,response:r instanceof Xw||r instanceof Qw?r.context:void 0}}})}}var Fn={},Kx={},Rf={},Uc={},Af={},Df={},dO=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ro=dO();const fO=Ro.fetch,p1=Ro.fetch.bind(Ro),g1=Ro.Headers,hO=Ro.Request,mO=Ro.Response,Ho=Object.freeze(Object.defineProperty({__proto__:null,Headers:g1,Request:hO,Response:mO,default:p1,fetch:fO},Symbol.toStringTag,{value:"Module"})),pO=gP(Ho);var $f={};Object.defineProperty($f,"__esModule",{value:!0});let gO=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};$f.default=gO;var x1=ys&&ys.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Df,"__esModule",{value:!0});const xO=x1(pO),vO=x1($f);let yO=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=xO.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const s=this.fetch;let r=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,l,c;let u=null,d=null,f=null,m=a.status,x=a.statusText;if(a.ok){if(this.method!=="HEAD"){const p=await a.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=p:d=JSON.parse(p))}const v=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),y=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");v&&y&&y.length>1&&(f=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,m=406,x="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const v=await a.text();try{u=JSON.parse(v),Array.isArray(u)&&a.status===404&&(d=[],u=null,m=200,x="OK")}catch{a.status===404&&v===""?(m=204,x="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,m=200,x="OK"),u&&this.shouldThrowOnError)throw new vO.default(u)}return{error:u,data:d,count:f,status:m,statusText:x}});return this.shouldThrowOnError||(r=r.catch(a=>{var o,l,c;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),r.then(t,n)}returns(){return this}overrideTypes(){return this}};Df.default=yO;var wO=ys&&ys.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Af,"__esModule",{value:!0});const jO=wO(Df);let bO=class extends jO.default{select(t){let n=!1;const s=(t??"*").split("").map(r=>/\s/.test(r)&&!n?"":(r==='"'&&(n=!n),r)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:s,foreignTable:r,referencedTable:a=r}={}){const o=a?`${a}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:s=n}={}){const r=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,n,{foreignTable:s,referencedTable:r=s}={}){const a=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:s=!1,buffers:r=!1,wal:a=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,s?"settings":null,r?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Af.default=bO;var _O=ys&&ys.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Uc,"__esModule",{value:!0});const SO=_O(Af);let NO=class extends SO.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const s=Array.from(new Set(n)).map(r=>typeof r=="string"&&new RegExp("[,()]").test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${s})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:s,type:r}={}){let a="";r==="plain"?a="pl":r==="phrase"?a="ph":r==="websearch"&&(a="w");const o=s===void 0?"":`(${s})`;return this.url.searchParams.append(t,`${a}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,s])=>{this.url.searchParams.append(n,`eq.${s}`)}),this}not(t,n,s){return this.url.searchParams.append(t,`not.${n}.${s}`),this}or(t,{foreignTable:n,referencedTable:s=n}={}){const r=s?`${s}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,n,s){return this.url.searchParams.append(t,`${n}.${s}`),this}};Uc.default=NO;var CO=ys&&ys.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Rf,"__esModule",{value:!0});const hl=CO(Uc);let EO=class{constructor(t,{headers:n={},schema:s,fetch:r}){this.url=t,this.headers=n,this.schema=s,this.fetch=r}select(t,{head:n=!1,count:s}={}){const r=n?"HEAD":"GET";let a=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),s&&(this.headers.Prefer=`count=${s}`),new hl.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:s=!0}={}){const r="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),s||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new hl.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:s=!1,count:r,defaultToNull:a=!0}={}){const o="POST",l=[`resolution=${s?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),r&&l.push(`count=${r}`),a||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new hl.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const s="PATCH",r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),n&&r.push(`count=${n}`),this.headers.Prefer=r.join(","),new hl.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",s=[];return t&&s.push(`count=${t}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new hl.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Rf.default=EO;var Mf={},If={};Object.defineProperty(If,"__esModule",{value:!0});If.version=void 0;If.version="0.0.0-automated";Object.defineProperty(Mf,"__esModule",{value:!0});Mf.DEFAULT_HEADERS=void 0;const TO=If;Mf.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${TO.version}`};var v1=ys&&ys.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Kx,"__esModule",{value:!0});const kO=v1(Rf),PO=v1(Uc),RO=Mf;let AO=class y1{constructor(t,{headers:n={},schema:s,fetch:r}={}){this.url=t,this.headers=Object.assign(Object.assign({},RO.DEFAULT_HEADERS),n),this.schemaName=s,this.fetch=r}from(t){const n=new URL(`${this.url}/${t}`);return new kO.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new y1(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:s=!1,get:r=!1,count:a}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;s||r?(o=s?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(o="POST",c=n);const u=Object.assign({},this.headers);return a&&(u.Prefer=`count=${a}`),new PO.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Kx.default=AO;var qo=ys&&ys.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fn,"__esModule",{value:!0});Fn.PostgrestError=Fn.PostgrestBuilder=Fn.PostgrestTransformBuilder=Fn.PostgrestFilterBuilder=Fn.PostgrestQueryBuilder=Fn.PostgrestClient=void 0;const w1=qo(Kx);Fn.PostgrestClient=w1.default;const j1=qo(Rf);Fn.PostgrestQueryBuilder=j1.default;const b1=qo(Uc);Fn.PostgrestFilterBuilder=b1.default;const _1=qo(Af);Fn.PostgrestTransformBuilder=_1.default;const S1=qo(Df);Fn.PostgrestBuilder=S1.default;const N1=qo($f);Fn.PostgrestError=N1.default;var DO=Fn.default={PostgrestClient:w1.default,PostgrestQueryBuilder:j1.default,PostgrestFilterBuilder:b1.default,PostgrestTransformBuilder:_1.default,PostgrestBuilder:S1.default,PostgrestError:N1.default};const{PostgrestClient:$O,PostgrestQueryBuilder:C7,PostgrestFilterBuilder:E7,PostgrestTransformBuilder:T7,PostgrestBuilder:k7,PostgrestError:P7}=DO;function MO(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const IO=MO(),LO="2.11.15",OO=`realtime-js/${LO}`,FO="1.0.0",C1=1e4,BO=1e3;var Il;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Il||(Il={}));var dn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(dn||(dn={}));var Ds;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ds||(Ds={}));var Lp;(function(e){e.websocket="websocket"})(Lp||(Lp={}));var qi;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(qi||(qi={}));class UO{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),s=new TextDecoder;return this._decodeBroadcast(t,n,s)}_decodeBroadcast(t,n,s){const r=n.getUint8(1),a=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=s.decode(t.slice(o,o+r));o=o+r;const c=s.decode(t.slice(o,o+a));o=o+a;const u=JSON.parse(s.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class E1{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var et;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(et||(et={}));const Jw=(e,t,n={})=>{var s;const r=(s=n.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(t).reduce((a,o)=>(a[o]=VO(o,e,t,r),a),{})},VO=(e,t,n,s)=>{const r=t.find(l=>l.name===e),a=r==null?void 0:r.type,o=n[e];return a&&!s.includes(a)?T1(a,o):Op(o)},T1=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return qO(t,n)}switch(e){case et.bool:return zO(t);case et.float4:case et.float8:case et.int2:case et.int4:case et.int8:case et.numeric:case et.oid:return WO(t);case et.json:case et.jsonb:return HO(t);case et.timestamp:return KO(t);case et.abstime:case et.date:case et.daterange:case et.int4range:case et.int8range:case et.money:case et.reltime:case et.text:case et.time:case et.timestamptz:case et.timetz:case et.tsrange:case et.tstzrange:return Op(t);default:return Op(t)}},Op=e=>e,zO=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},WO=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},HO=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},qO=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,s=e[n];if(e[0]==="{"&&s==="}"){let a;const o=e.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>T1(t,l))}return e},KO=e=>typeof e=="string"?e.replace(" ","T"):e,k1=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Gh{constructor(t,n,s={},r=C1){this.channel=t,this.event=n,this.payload=s,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var s;return this._hasReceived(t)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Zw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Zw||(Zw={}));class Ll{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},r=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ll.syncState(this.state,r,a,o),this.pendingDiffs.forEach(c=>{this.state=Ll.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(s.diff,{},r=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=Ll.syncDiff(this.state,r,a,o),l())}),this.onJoin((r,a,o)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:a,newPresences:o})}),this.onLeave((r,a,o)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,s,r){const a=this.cloneDeep(t),o=this.transformState(n),l={},c={};return this.map(a,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=a[u];if(f){const m=d.map(y=>y.presence_ref),x=f.map(y=>y.presence_ref),j=d.filter(y=>x.indexOf(y.presence_ref)<0),v=f.filter(y=>m.indexOf(y.presence_ref)<0);j.length>0&&(l[u]=j),v.length>0&&(c[u]=v)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},s,r)}static syncDiff(t,n,s,r){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),r||(r=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(x=>x.presence_ref),m=d.filter(x=>f.indexOf(x.presence_ref)<0);t[l].unshift(...m)}s(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,r(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(s=>n(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,s)=>{const r=t[s];return"metas"in r?n[s]=r.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[s]=r,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var e0;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(e0||(e0={}));var t0;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(t0||(t0={}));var vr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(vr||(vr={}));class Gx{constructor(t,n={config:{}},s){this.topic=t,this.params=n,this.socket=s,this.bindings={},this.state=dn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Gh(this,Ds.join,this.params,this.timeout),this.rejoinTimer=new E1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=dn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=dn.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=dn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=dn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ds.reply,{},(r,a)=>{this._trigger(this._replyEventName(a),r)}),this.presence=new Ll(this),this.broadcastEndpointURL=k1(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var s,r;if(this.socket.isConnected()||this.socket.connect(),this.state==dn.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t(vr.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(vr.CLOSED));const c={},u={broadcast:a,presence:o,postgres_changes:(r=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(d=>d.filter))!==null&&r!==void 0?r:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(vr.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,x=(f=m==null?void 0:m.length)!==null&&f!==void 0?f:0,j=[];for(let v=0;v<x;v++){const y=m[v],{filter:{event:p,schema:g,table:w,filter:b}}=y,S=d&&d[v];if(S&&S.event===p&&S.schema===g&&S.table===w&&S.filter===b)j.push(Object.assign(Object.assign({},y),{id:S.id}));else{this.unsubscribe(),this.state=dn.errored,t==null||t(vr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,t&&t(vr.SUBSCRIBED);return}}).receive("error",d=>{this.state=dn.errored,t==null||t(vr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(vr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,s){return this._on(t,n,s)}async send(t,n={}){var s,r;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((r=u.body)===null||r===void 0?void 0:r.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=dn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ds.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(r=>{s=new Gh(this,Ds.leave,{},t),s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,s){const r=new AbortController,a=setTimeout(()=>r.abort(),s),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:r.signal}));return clearTimeout(a),o}_push(t,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new Gh(this,t,n,s);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(t,n,s){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,s){var r,a;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Ds;if(s&&[l,c,u,d].indexOf(o)>=0&&s!==this._joinRef())return;let m=this._onMessage(o,n,s);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(x=>{var j,v,y;return((j=x.filter)===null||j===void 0?void 0:j.event)==="*"||((y=(v=x.filter)===null||v===void 0?void 0:v.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(x=>x.callback(m,s)):(a=this.bindings[o])===null||a===void 0||a.filter(x=>{var j,v,y,p,g,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in x){const b=x.id,S=(j=x.filter)===null||j===void 0?void 0:j.event;return b&&((v=n.ids)===null||v===void 0?void 0:v.includes(b))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const b=(g=(p=x==null?void 0:x.filter)===null||p===void 0?void 0:p.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return b==="*"||b===((w=n==null?void 0:n.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===o}).map(x=>{if(typeof m=="object"&&"ids"in m){const j=m.data,{schema:v,table:y,commit_timestamp:p,type:g,errors:w}=j;m=Object.assign(Object.assign({},{schema:v,table:y,commit_timestamp:p,eventType:g,new:{},old:{},errors:w}),this._getPayloadRecords(j))}x.callback(m,s)})}_isClosed(){return this.state===dn.closed}_isJoined(){return this.state===dn.joined}_isJoining(){return this.state===dn.joining}_isLeaving(){return this.state===dn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,s){const r=t.toLocaleLowerCase(),a={type:r,filter:n,callback:s};return this.bindings[r]?this.bindings[r].push(a):this.bindings[r]=[a],this}_off(t,n){const s=t.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(r=>{var a;return!(((a=r.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===s&&Gx.isEqual(r.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const s in t)if(t[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ds.close,{},t)}_onError(t){this._on(Ds.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=dn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Jw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Jw(t.columns,t.old_record)),n}}const n0=()=>{},GO=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class YO{constructor(t,n){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=C1,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=n0,this.ref=0,this.logger=n0,this.conn=null,this.sendBuffer=[],this.serializer=new UO,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let o;return a?o=a:typeof fetch>"u"?o=(...l)=>Wo(async()=>{const{default:c}=await Promise.resolve().then(()=>Ho);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${Lp.websocket}`,this.httpEndpoint=k1(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const r=(s=n==null?void 0:n.params)===null||s===void 0?void 0:s.apikey;if(r&&(this.accessTokenValue=r,this.apiKey=r),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(a,o)=>o(JSON.stringify(a)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new E1(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=IO),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:FO}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(s=>s.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,s){this.logger(t,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Il.connecting:return qi.Connecting;case Il.open:return qi.Open;case Il.closing:return qi.Closing;default:return qi.Closed}}isConnected(){return this.connectionState()===qi.Open}channel(t,n={config:{}}){const s=`realtime:${t}`,r=this.getChannels().find(a=>a.topic===s);if(r)return r;{const a=new Gx(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:s,payload:r,ref:a}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${s} (${a})`,r),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const r={access_token:n,version:OO};n&&s.updateJoinPayload(r),s.joinedOnce&&s._isJoined()&&s._push(Ds.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(BO,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:s,event:r,payload:a,ref:o}=n;s==="phoenix"&&r==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${s} ${r} ${o&&"("+o+")"||""}`,a),Array.from(this.channels).filter(l=>l._isMember(s)).forEach(l=>l._trigger(r,a,o)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ds.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const s=t.match(/\?/)?"&":"?",r=new URLSearchParams(n);return`${t}${s}${r}`}_workerObjectUrl(t){let n;if(t)n=t;else{const s=new Blob([GO],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}}class Yx extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Wt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class QO extends Yx{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Fp extends Yx{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var XO=function(e,t,n,s){function r(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):r(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};const P1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Wo(async()=>{const{default:s}=await Promise.resolve().then(()=>Ho);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},JO=()=>XO(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Wo(()=>Promise.resolve().then(()=>Ho),void 0)).Response:Response}),Bp=e=>{if(Array.isArray(e))return e.map(n=>Bp(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,s])=>{const r=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[r]=Bp(s)}),t};var wa=function(e,t,n,s){function r(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):r(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};const Yh=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ZO=(e,t,n)=>wa(void 0,void 0,void 0,function*(){const s=yield JO();e instanceof s&&!(n!=null&&n.noResolveJson)?e.json().then(r=>{t(new QO(Yh(r),e.status||500))}).catch(r=>{t(new Fp(Yh(r),r))}):t(new Fp(Yh(e),e))}),eF=(e,t,n,s)=>{const r={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s&&(r.body=JSON.stringify(s)),Object.assign(Object.assign({},r),n))};function Vc(e,t,n,s,r,a){return wa(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,eF(t,s,r,a)).then(c=>{if(!c.ok)throw c;return s!=null&&s.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>ZO(c,l,s))})})}function Od(e,t,n,s){return wa(this,void 0,void 0,function*(){return Vc(e,"GET",t,n,s)})}function Gr(e,t,n,s,r){return wa(this,void 0,void 0,function*(){return Vc(e,"POST",t,s,r,n)})}function tF(e,t,n,s,r){return wa(this,void 0,void 0,function*(){return Vc(e,"PUT",t,s,r,n)})}function nF(e,t,n,s){return wa(this,void 0,void 0,function*(){return Vc(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function R1(e,t,n,s,r){return wa(this,void 0,void 0,function*(){return Vc(e,"DELETE",t,s,r,n)})}var In=function(e,t,n,s){function r(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):r(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};const sF={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},s0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class rF{constructor(t,n={},s,r){this.url=t,this.headers=n,this.bucketId=s,this.fetch=P1(r)}uploadOrUpdate(t,n,s,r){return In(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},s0),r);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&s instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",s)):typeof FormData<"u"&&s instanceof FormData?(a=s,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=s,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),r!=null&&r.headers&&(l=Object.assign(Object.assign({},l),r.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:a,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),m=yield f.json();return f.ok?{data:{path:u,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(a){if(Wt(a))return{data:null,error:a};throw a}})}upload(t,n,s){return In(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,s)})}uploadToSignedUrl(t,n,s,r){return In(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:s0.upsert},r),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.append("cacheControl",u.cacheControl)):(c=s,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),m=yield f.json();return f.ok?{data:{path:a,fullPath:m.Key},error:null}:{data:null,error:m}}catch(c){if(Wt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return In(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t);const r=Object.assign({},this.headers);n!=null&&n.upsert&&(r["x-upsert"]="true");const a=yield Gr(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:r}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new Yx("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(s){if(Wt(s))return{data:null,error:s};throw s}})}update(t,n,s){return In(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,s)})}move(t,n,s){return In(this,void 0,void 0,function*(){try{return{data:yield Gr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(Wt(r))return{data:null,error:r};throw r}})}copy(t,n,s){return In(this,void 0,void 0,function*(){try{return{data:{path:(yield Gr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(Wt(r))return{data:null,error:r};throw r}})}createSignedUrl(t,n,s){return In(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),a=yield Gr(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:n},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(r){if(Wt(r))return{data:null,error:r};throw r}})}createSignedUrls(t,n,s){return In(this,void 0,void 0,function*(){try{const r=yield Gr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:r.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(r){if(Wt(r))return{data:null,error:r};throw r}})}download(t,n){return In(this,void 0,void 0,function*(){const r=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=a?`?${a}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Od(this.fetch,`${this.url}/${r}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Wt(l))return{data:null,error:l};throw l}})}info(t){return In(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const s=yield Od(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Bp(s),error:null}}catch(s){if(Wt(s))return{data:null,error:s};throw s}})}exists(t){return In(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield nF(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(Wt(s)&&s instanceof Fp){const r=s.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:s}}throw s}})}getPublicUrl(t,n){const s=this._getFinalPath(t),r=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&r.push(a);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&r.push(c);let u=r.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${s}${u}`)}}}remove(t){return In(this,void 0,void 0,function*(){try{return{data:yield R1(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Wt(n))return{data:null,error:n};throw n}})}list(t,n,s){return In(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},sF),n),{prefix:t||""});return{data:yield Gr(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},s),error:null}}catch(r){if(Wt(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const iF="2.7.1",aF={"X-Client-Info":`storage-js/${iF}`};var Ca=function(e,t,n,s){function r(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):r(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};class oF{constructor(t,n={},s){this.url=t,this.headers=Object.assign(Object.assign({},aF),n),this.fetch=P1(s)}listBuckets(){return Ca(this,void 0,void 0,function*(){try{return{data:yield Od(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Wt(t))return{data:null,error:t};throw t}})}getBucket(t){return Ca(this,void 0,void 0,function*(){try{return{data:yield Od(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Wt(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Ca(this,void 0,void 0,function*(){try{return{data:yield Gr(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(Wt(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return Ca(this,void 0,void 0,function*(){try{return{data:yield tF(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(Wt(s))return{data:null,error:s};throw s}})}emptyBucket(t){return Ca(this,void 0,void 0,function*(){try{return{data:yield Gr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Wt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ca(this,void 0,void 0,function*(){try{return{data:yield R1(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Wt(n))return{data:null,error:n};throw n}})}}class lF extends oF{constructor(t,n={},s){super(t,n,s)}from(t){return new rF(this.url,this.headers,t,this.fetch)}}const cF="2.51.0";let jl="";typeof Deno<"u"?jl="deno":typeof document<"u"?jl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?jl="react-native":jl="node";const uF={"X-Client-Info":`supabase-js-${jl}/${cF}`},dF={headers:uF},fF={schema:"public"},hF={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},mF={};var pF=function(e,t,n,s){function r(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):r(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};const gF=e=>{let t;return e?t=e:typeof fetch>"u"?t=p1:t=fetch,(...n)=>t(...n)},xF=()=>typeof Headers>"u"?g1:Headers,vF=(e,t,n)=>{const s=gF(n),r=xF();return(a,o)=>pF(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new r(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),s(a,Object.assign(Object.assign({},o),{headers:u}))})};var yF=function(e,t,n,s){function r(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):r(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};function wF(e){return e.endsWith("/")?e:e+"/"}function jF(e,t){var n,s;const{db:r,auth:a,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,m={db:Object.assign(Object.assign({},c),r),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(s=l==null?void 0:l.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>yF(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}const A1="2.71.0",Ia=30*1e3,Up=3,Qh=Up*Ia,bF="http://localhost:9999",_F="supabase.auth.token",SF={"X-Client-Info":`gotrue-js/${A1}`},Vp="X-Supabase-Api-Version",D1={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},NF=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,CF=10*60*1e3;class Qx extends Error{constructor(t,n,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function Ce(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class EF extends Qx{constructor(t,n,s){super(t,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function TF(e){return Ce(e)&&e.name==="AuthApiError"}class $1 extends Qx{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class ki extends Qx{constructor(t,n,s,r){super(t,s,r),this.name=n,this.status=s}}class zr extends ki{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function kF(e){return Ce(e)&&e.name==="AuthSessionMissingError"}class _u extends ki{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Su extends ki{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Nu extends ki{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function PF(e){return Ce(e)&&e.name==="AuthImplicitGrantRedirectError"}class r0 extends ki{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class zp extends ki{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Xh(e){return Ce(e)&&e.name==="AuthRetryableFetchError"}class i0 extends ki{constructor(t,n,s){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class Wp extends ki{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Fd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),a0=` 	
\r=`.split(""),RF=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<a0.length;t+=1)e[a0[t].charCodeAt(0)]=-2;for(let t=0;t<Fd.length;t+=1)e[Fd[t].charCodeAt(0)]=t;return e})();function o0(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n(Fd[s]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n(Fd[s]),t.queuedBits-=6}}function M1(e,t,n){const s=RF[e];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function l0(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},a=o=>{$F(o,s,n)};for(let o=0;o<e.length;o+=1)M1(e.charCodeAt(o),r,a);return t.join("")}function AF(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function DF(e,t){for(let n=0;n<e.length;n+=1){let s=e.charCodeAt(n);if(s>55295&&s<=56319){const r=(s-55296)*1024&65535;s=(e.charCodeAt(n+1)-56320&65535|r)+65536,n+=1}AF(s,t)}}function $F(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let s=1;s<6;s+=1)if(!(e>>7-s&1)){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function MF(e){const t=[],n={queue:0,queuedBits:0},s=r=>{t.push(r)};for(let r=0;r<e.length;r+=1)M1(e.charCodeAt(r),n,s);return new Uint8Array(t)}function IF(e){const t=[];return DF(e,n=>t.push(n)),new Uint8Array(t)}function LF(e){const t=[],n={queue:0,queuedBits:0},s=r=>{t.push(r)};return e.forEach(r=>o0(r,n,s)),o0(null,n,s),t.join("")}function OF(e){return Math.round(Date.now()/1e3)+e}function FF(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ns=()=>typeof window<"u"&&typeof document<"u",Oi={tested:!1,writable:!1},I1=()=>{if(!Ns())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Oi.tested)return Oi.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Oi.tested=!0,Oi.writable=!0}catch{Oi.tested=!0,Oi.writable=!1}return Oi.writable};function BF(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((r,a)=>{t[a]=r})}catch{}return n.searchParams.forEach((s,r)=>{t[r]=s}),t}const L1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Wo(async()=>{const{default:s}=await Promise.resolve().then(()=>Ho);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},UF=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",La=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Fi=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ur=async(e,t)=>{await e.removeItem(t)};class Lf{constructor(){this.promise=new Lf.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Lf.promiseConstructor=Promise;function Jh(e){const t=e.split(".");if(t.length!==3)throw new Wp("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!NF.test(t[s]))throw new Wp("JWT not in base64url format");return{header:JSON.parse(l0(t[0])),payload:JSON.parse(l0(t[1])),signature:MF(t[2]),raw:{header:t[0],payload:t[1]}}}async function VF(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function zF(e,t){return new Promise((s,r)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){s(o);return}}catch(o){if(!t(a,o)){r(o);return}}})()})}function WF(e){return("0"+e.toString(16)).substr(-2)}function HF(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let r="";for(let a=0;a<56;a++)r+=n.charAt(Math.floor(Math.random()*s));return r}return crypto.getRandomValues(t),Array.from(t,WF).join("")}async function qF(e){const n=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",n),r=new Uint8Array(s);return Array.from(r).map(a=>String.fromCharCode(a)).join("")}async function KF(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await qF(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ea(e,t,n=!1){const s=HF();let r=s;n&&(r+="/PASSWORD_RECOVERY"),await La(e,`${t}-code-verifier`,r);const a=await KF(s);return[a,s===a?"plain":"s256"]}const GF=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function YF(e){const t=e.headers.get(Vp);if(!t||!t.match(GF))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function QF(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function XF(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const JF=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ta(e){if(!JF.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Zh(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}var ZF=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(n[s[r]]=e[s[r]]);return n};const Wi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),e4=[502,503,504];async function c0(e){var t;if(!UF(e))throw new zp(Wi(e),0);if(e4.includes(e.status))throw new zp(Wi(e),e.status);let n;try{n=await e.json()}catch(a){throw new $1(Wi(a),a)}let s;const r=YF(e);if(r&&r.getTime()>=D1["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new i0(Wi(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new zr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new i0(Wi(n),e.status,n.weak_password.reasons);throw new EF(Wi(n),e.status||500,s)}const t4=(e,t,n,s)=>{const r={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),r.body=JSON.stringify(s),Object.assign(Object.assign({},r),n))};async function ke(e,t,n,s){var r;const a=Object.assign({},s==null?void 0:s.headers);a[Vp]||(a[Vp]=D1["2024-01-01"].name),s!=null&&s.jwt&&(a.Authorization=`Bearer ${s.jwt}`);const o=(r=s==null?void 0:s.query)!==null&&r!==void 0?r:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await n4(e,t,n+l,{headers:a,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(c):{data:Object.assign({},c),error:null}}async function n4(e,t,n,s,r,a){const o=t4(t,s,r,a);let l;try{l=await e(n,Object.assign({},o))}catch(c){throw console.error(c),new zp(Wi(c),0)}if(l.ok||await c0(l),s!=null&&s.noResolveJson)return l;try{return await l.json()}catch(c){await c0(c)}}function gr(e){var t;let n=null;a4(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=OF(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:s},error:null}}function u0(e){const t=gr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Jr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function s4(e){return{data:e,error:null}}function r4(e){const{action_link:t,email_otp:n,hashed_token:s,redirect_to:r,verification_type:a}=e,o=ZF(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:s,redirect_to:r,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function i4(e){return e}function a4(e){return e.access_token&&e.refresh_token&&e.expires_in}const em=["global","local","others"];var o4=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(n[s[r]]=e[s[r]]);return n};class l4{constructor({url:t="",headers:n={},fetch:s}){this.url=t,this.headers=n,this.fetch=L1(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=em[0]){if(em.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${em.join(", ")}`);try{return await ke(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Ce(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,n={}){try{return await ke(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Jr})}catch(s){if(Ce(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:n}=t,s=o4(t,["options"]),r=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(r.new_email=s==null?void 0:s.newEmail,delete r.newEmail),await ke(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:r4,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ce(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await ke(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Jr})}catch(n){if(Ce(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,s,r,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ke(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(a=(r=t==null?void 0:t.perPage)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:""},xform:i4});if(d.error)throw d.error;const f=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,x=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return x.length>0&&(x.forEach(j=>{const v=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(j.split(";")[1].split("=")[1]);u[`${y}Page`]=v}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Ce(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Ta(t);try{return await ke(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Jr})}catch(n){if(Ce(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Ta(t);try{return await ke(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Jr})}catch(s){if(Ce(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,n=!1){Ta(t);try{return await ke(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Jr})}catch(s){if(Ce(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){Ta(t.userId);try{const{data:n,error:s}=await ke(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:n,error:s}}catch(n){if(Ce(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Ta(t.userId),Ta(t.id);try{return{data:await ke(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}}}function d0(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function c4(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ka={debug:!!(globalThis&&I1()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class O1 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class u4 extends O1{}async function d4(e,t,n){ka.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),ka.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async r=>{if(r){ka.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await n()}finally{ka.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}else{if(t===0)throw ka.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new u4(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ka.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}c4();const f4={url:bF,storageKey:_F,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:SF,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function f0(e,t,n){return await n()}const Pa={};class xc{constructor(t){var n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=xc.nextInstanceID,xc.nextInstanceID+=1,this.instanceID>0&&Ns()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},f4),t);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new l4({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=L1(r.fetch),this.lock=r.lock||f0,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:Ns()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=d4:this.lock=f0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(r.storage?this.storage=r.storage:I1()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=d0(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=d0(this.memoryStorage)),Ns()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=Pa[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Pa[this.storageKey]=Object.assign(Object.assign({},Pa[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Pa[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Pa[this.storageKey]=Object.assign(Object.assign({},Pa[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${A1}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=BF(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),Ns()&&this.detectSessionInUrl&&s!=="none"){const{data:r,error:a}=await this._getSessionFromURL(n,s);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),PF(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=r;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ce(n)?{error:n}:{error:new $1("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,s,r;try{const a=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.captchaToken}},xform:gr}),{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Ce(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var n,s,r;try{let a;if("email"in t){const{email:d,password:f,options:m}=t;let x=null,j=null;this.flowType==="pkce"&&([x,j]=await Ea(this.storage,this.storageKey)),a=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:x,code_challenge_method:j},xform:gr})}else if("phone"in t){const{phone:d,password:f,options:m}=t;a=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(s=m==null?void 0:m.data)!==null&&s!==void 0?s:{},channel:(r=m==null?void 0:m.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:gr})}else throw new Su("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Ce(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:o,options:l}=t;n=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:u0})}else if("phone"in t){const{phone:a,password:o,options:l}=t;n=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:u0})}else throw new Su("You must provide either an email or phone number and a password");const{data:s,error:r}=n;return r?{data:{user:null,session:null},error:r}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new _u}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:r})}catch(n){if(Ce(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,s,r,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(r=t.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,s,r,a,o,l,c,u,d,f,m,x;let j,v;if("message"in t)j=t.message,v=t.signature;else{const{chain:y,wallet:p,statement:g,options:w}=t;let b;if(Ns())if(typeof p=="object")b=p;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))b=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=p}const S=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in b&&b.signIn){const T=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),g?{statement:g}:null));let N;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")N=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)N=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)j=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),v=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${S.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(r=(s=w==null?void 0:w.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&r!==void 0?r:new Date().toISOString()}`,...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const T=await b.signMessage(new TextEncoder().encode(j),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=T}}try{const{data:y,error:p}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:LF(v)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:gr});if(p)throw p;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new _u}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:p})}catch(y){if(Ce(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const n=await Fi(this.storage,`${this.storageKey}-code-verifier`),[s,r]=(n??"").split("/");try{const{data:a,error:o}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:gr});if(await Ur(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new _u}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:r??null}),error:o})}catch(a){if(Ce(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:n,provider:s,token:r,access_token:a,nonce:o}=t,l=await ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:r,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:gr}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new _u}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(Ce(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,s,r,a,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ea(this.storage,this.storageKey));const{error:f}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Su("You must provide either an email or phone number.")}catch(l){if(Ce(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,s;try{let r,a;"options"in t&&(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:l}=await ke(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:r,xform:gr});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(r){if(Ce(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(t){var n,s,r;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await Ea(this.storage,this.storageKey)),await ke(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((r=t==null?void 0:t.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:s4})}catch(a){if(Ce(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:s}=t;if(s)throw s;if(!n)throw new zr;const{error:r}=await ke(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:r}})}catch(t){if(Ce(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:s,type:r,options:a}=t,{error:o}=await ke(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:r,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:s,type:r,options:a}=t,{data:o,error:l}=await ke(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:r,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Su("You must provide either an email or phone number and a type")}catch(n){if(Ce(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Fi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<Qh:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.userStorage){const o=await Fi(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Zh()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:r,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Jr}):await this._useSession(async n=>{var s,r,a;const{data:o,error:l}=n;if(l)throw l;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new zr}:await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:void 0,xform:Jr})})}catch(n){if(Ce(n))return kF(n)&&(await this._removeSession(),await Ur(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async s=>{const{data:r,error:a}=s;if(a)throw a;if(!r.session)throw new zr;const o=r.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Ea(this.storage,this.storageKey));const{data:u,error:d}=await ke(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Jr});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if(Ce(s))return{data:{user:null},error:s};throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new zr;const n=Date.now()/1e3;let s=n,r=!0,a=null;const{payload:o}=Jh(t.access_token);if(o.exp&&(s=o.exp,r=s<=n),r){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(Ce(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var s;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(t!=null&&t.refresh_token))throw new zr;const{session:r,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ce(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Ns())throw new Nu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Nu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new r0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Nu("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new r0("No code detected.");const{data:g,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:r,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!o||!u)throw new Nu("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let m=d+f;c&&(m=parseInt(c));const x=m-d;x*1e3<=Ia&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${f}s`);const j=m-f;d-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,m,d):d-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,m,d);const{data:v,error:y}=await this._getUser(a);if(y)throw y;const p={provider_token:s,provider_refresh_token:r,access_token:a,expires_in:f,expires_at:m,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:t.type},error:null}}catch(s){if(Ce(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Fi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:r,error:a}=n;if(a)return{error:a};const o=(s=r.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(TF(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Ur(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=FF(),s={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async n=>{var s,r;try{const{data:{session:a},error:o}=n;if(o)throw o;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let s=null,r=null;this.flowType==="pkce"&&([s,r]=await Ea(this.storage,this.storageKey,!0));try{return await ke(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:r,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(Ce(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:s,error:r}=await this._useSession(async a=>{var o,l,c,u,d;const{data:f,error:m}=a;if(m)throw m;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ke(this.fetch,"GET",x,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(r)throw r;return Ns()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:t.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(Ce(s))return{data:{provider:t.provider,url:null},error:s};throw s}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var s,r;const{data:a,error:o}=n;if(o)throw o;return await ke(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(r=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&r!==void 0?r:void 0})})}catch(n){if(Ce(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await zF(async r=>(r>0&&await VF(200*Math.pow(2,r-1)),this._debug(n,"refreshing attempt",r),await ke(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:gr})),(r,a)=>{const o=200*Math.pow(2,r);return a&&Xh(a)&&Date.now()+o-s<Ia})}catch(s){if(this._debug(n,"error",s),Ce(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",s),Ns()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await Fi(this.storage,this.storageKey);if(r&&this.userStorage){let o=await Fi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:r.user},await La(this.userStorage,this.storageKey+"-user",o)),r.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Zh()}else if(r&&!r.user&&!r.user){const o=await Fi(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(r.user=o.user,await Ur(this.storage,this.storageKey+"-user"),await La(this.storage,this.storageKey,r)):r.user=Zh()}if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const a=((n=r.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Qh;if(this._debug(s,`session has${a?"":" not"} expired with margin of ${Qh}s`),a){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),Xh(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(r.user&&r.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(r.access_token);!l&&(o!=null&&o.user)?(r.user=o.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(s,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var n,s;if(!t)throw new zr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new Lf;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new zr;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(r,"error",a),Ce(a)){const o={session:null,error:a};return Xh(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(a),a}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(t,n,s=!0){const r=`#_notifyAllSubscribers(${t})`;this._debug(r,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(r,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await La(this.userStorage,this.storageKey+"-user",{user:n.user});const r=Object.assign({},n);delete r.user;const a=structuredClone(r);await La(this.storage,this.storageKey,a)}else{const r=structuredClone(n);await La(this.storage,this.storageKey,r)}}async _removeSession(){this._debug("#_removeSession()"),await Ur(this.storage,this.storageKey),await Ur(this.storage,this.storageKey+"-code-verifier"),await Ur(this.storage,this.storageKey+"-user"),this.userStorage&&await Ur(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ns()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ia);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((s.expires_at*1e3-t)/Ia);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${Ia}ms, refresh threshold is ${Up} ticks`),r<=Up&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof O1)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ns()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,s){const r=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&r.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&r.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[a,o]=await Ea(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});r.push(l.toString())}if(s!=null&&s.queryParams){const a=new URLSearchParams(s.queryParams);r.push(a.toString())}return s!=null&&s.skipBrowserRedirect&&r.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${r.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var s;const{data:r,error:a}=n;return a?{data:null,error:a}:await ke(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(Ce(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var s,r;const{data:a,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await ke(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((r=c==null?void 0:c.totp)===null||r===void 0)&&r.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(Ce(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:r,error:a}=n;if(a)return{data:null,error:a};const{data:o,error:l}=await ke(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(Ce(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:r,error:a}=n;return a?{data:null,error:a}:await ke(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(Ce(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:s}=await this._challenge({factorId:t.factorId});return s?{data:null,error:s}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const s=(t==null?void 0:t.factors)||[],r=s.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=s.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:s,totp:r,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,s;const{data:{session:r},error:a}=t;if(a)return{data:null,error:a};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Jh(r.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((s=(n=r.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let s=n.keys.find(l=>l.kid===t);if(s)return s;const r=Date.now();if(s=this.jwks.keys.find(l=>l.kid===t),s&&this.jwks_cached_at+CF>r)return s;const{data:a,error:o}=await ke(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=r,s=a.keys.find(l=>l.kid===t),!s)?null:s}async getClaims(t,n={}){try{let s=t;if(!s){const{data:x,error:j}=await this.getSession();if(j||!x.session)return{data:null,error:j};s=x.session.access_token}const{header:r,payload:a,signature:o,raw:{header:l,payload:c}}=Jh(s);n!=null&&n.allowExpired||QF(a.exp);const u=!r.alg||r.alg.startsWith("HS")||!r.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(r.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:x}=await this.getUser(s);if(x)throw x;return{data:{claims:a,header:r,signature:o},error:null}}const d=XF(r.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,IF(`${l}.${c}`)))throw new Wp("Invalid JWT signature");return{data:{claims:a,header:r,signature:o},error:null}}catch(s){if(Ce(s))return{data:null,error:s};throw s}}}xc.nextInstanceID=0;const h4=xc;class m4 extends h4{constructor(t){super(t)}}var p4=function(e,t,n,s){function r(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):r(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};class g4{constructor(t,n,s){var r,a,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=wF(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:fF,realtime:mF,auth:Object.assign(Object.assign({},hF),{storageKey:u}),global:dF},f=jF(s??{},d);this.storageKey=(r=f.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(a=f.global.headers)!==null&&a!==void 0?a:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(m,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=vF(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new $O(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new uO(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new lF(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},s={}){return this.rest.rpc(t,n,s)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return p4(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(n=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:r,storageKey:a,flowType:o,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new m4({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:a,autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:r,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new YO(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(t,n,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const x4=(e,t,n)=>new g4(e,t,n),v4="https://pmtssnzfepkcqpziknbz.supabase.co",y4="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBtdHNzbnpmZXBrY3FwemlrbmJ6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIwMzQ5MDQsImV4cCI6MjA2NzYxMDkwNH0.KNIFrGxC-XaJFzN0m69NX85bMQR2XgCj0JDxfbPcHS0",wr=x4(v4,y4),Le={SEASONS:"seasons",CONFERENCES:"conferences",TEAMS:"teams",TEAM_CONFERENCE_JUNCTION:"team_conference_junction",MATCHUPS:"matchups",TEAM_RECORDS:"team_records",PLAYERS:"players",DRAFT_RESULTS:"draft_results",MATCHUP_ADMIN_OVERRIDE:"matchup_admin_override",PLAYOFF_BRACKETS:"playoff_brackets",TEAM_ROSTERS:"team_rosters",TRANSACTIONS:"transactions"};class de{static async queryTable(t,n={}){try{let s=wr.from(t).select("*",{count:"exact"});n.filters&&n.filters.forEach(l=>{s=this.applyFilter(s,l)}),n.orderBy&&(s=s.order(n.orderBy.column,{ascending:n.orderBy.ascending})),n.limit&&(s=s.limit(n.limit)),n.offset&&(s=s.range(n.offset,n.offset+(n.limit||100)-1));const{data:r,error:a,count:o}=await s;return a?(console.error(`Error querying ${t}:`,a),{data:[],error:a}):{data:r||[],count:o||0}}catch(s){return console.error(`Error in queryTable for ${t}:`,s),{data:[],error:s}}}static async createRecord(t,n){try{const{data:s,error:r}=await wr.from(t).insert(n).select().single();return r?(console.error(`Error creating record in ${t}:`,r),{data:null,error:r}):{data:s,error:null}}catch(s){return console.error(`Error in createRecord for ${t}:`,s),{data:null,error:s}}}static async updateRecord(t,n,s){try{const{data:r,error:a}=await wr.from(t).update(s).eq("id",n).select().single();return a?(console.error(`Error updating record in ${t}:`,a),{data:null,error:a}):{data:r,error:null}}catch(r){return console.error(`Error in updateRecord for ${t}:`,r),{data:null,error:r}}}static async deleteRecord(t,n){try{const{error:s}=await wr.from(t).delete().eq("id",n);return s?(console.error(`Error deleting record from ${t}:`,s),{error:s}):{error:null}}catch(s){return console.error(`Error in deleteRecord for ${t}:`,s),{error:s}}}static applyFilter(t,n){const{column:s,operator:r,value:a}=n;switch(r){case"eq":return t.eq(s,a);case"neq":return t.neq(s,a);case"gt":return t.gt(s,a);case"gte":return t.gte(s,a);case"lt":return t.lt(s,a);case"lte":return t.lte(s,a);case"like":return t.like(s,a);case"ilike":return t.ilike(s,a);case"in":return t.in(s,a);case"is":return t.is(s,a);case"not":return t.not(s,a);default:return t}}static async getSeasons(t){return this.queryTable(Le.SEASONS,t)}static async createSeason(t){return this.createRecord(Le.SEASONS,t)}static async updateSeason(t,n){return this.updateRecord(Le.SEASONS,t,n)}static async getConferences(t){return this.queryTable(Le.CONFERENCES,t)}static async createConference(t){return this.createRecord(Le.CONFERENCES,t)}static async updateConference(t,n){return this.updateRecord(Le.CONFERENCES,t,n)}static async getTeams(t){return this.queryTable(Le.TEAMS,t)}static async createTeam(t){return this.createRecord(Le.TEAMS,t)}static async updateTeam(t,n){return this.updateRecord(Le.TEAMS,t,n)}static async getTeamConferenceJunctions(t){return this.queryTable(Le.TEAM_CONFERENCE_JUNCTION,t)}static async createTeamConferenceJunction(t){return this.createRecord(Le.TEAM_CONFERENCE_JUNCTION,t)}static async getMatchups(t){return this.queryTable(Le.MATCHUPS,t)}static async createMatchup(t){return this.createRecord(Le.MATCHUPS,t)}static async updateMatchup(t,n){return this.updateRecord(Le.MATCHUPS,t,n)}static async getTeamRecords(t){return this.queryTable(Le.TEAM_RECORDS,t)}static async createTeamRecord(t){return this.createRecord(Le.TEAM_RECORDS,t)}static async updateTeamRecord(t,n){return this.updateRecord(Le.TEAM_RECORDS,t,n)}static async deleteTeamRecord(t){return this.deleteRecord(Le.TEAM_RECORDS,t)}static async getPlayers(t){try{let n=wr.from(Le.PLAYERS).select("*",{count:"exact"});t!=null&&t.filters&&t.filters.forEach(o=>{n=this.applyFilter(n,o)}),t!=null&&t.orderBy&&(n=n.order(t.orderBy.column,{ascending:t.orderBy.ascending})),n=n.range(0,14999);const{data:s,error:r,count:a}=await n;return r?(console.error(`Error querying ${Le.PLAYERS}:`,r),{data:[],error:r}):{data:s||[],count:a||0}}catch(n){return console.error("Error in getPlayers:",n),{data:[],error:n}}}static async createPlayer(t){return this.createRecord(Le.PLAYERS,t)}static async updatePlayer(t,n){return this.updateRecord(Le.PLAYERS,t,n)}static async getAllPlayersForMapping(t){try{const n=[];let r=0,a=!0;for(;a;){let o=wr.from(Le.PLAYERS).select("*");t&&t.forEach(u=>{o=this.applyFilter(o,u)}),o=o.order("sleeper_id",{ascending:!0}),o=o.range(r,r+1e3-1);const{data:l,error:c}=await o;if(c)throw console.error("Error in getAllPlayersForMapping:",c),c;l&&l.length>0?(n.push(...l),l.length<1e3?a=!1:r+=1e3):a=!1}return n}catch(n){throw console.error("Error in getAllPlayersForMapping:",n),n}}static async getPlayersAsSleeperFormat(){try{const t=await this.getPlayers();if(!t.data)throw new Error("Failed to fetch players from database");const n={};return t.data.forEach(s=>{var r;if(s.sleeper_id){const a=s.player_name.split(" "),o=a[0]||"",l=a.slice(1).join(" ")||"";n[s.sleeper_id]={player_id:s.sleeper_id,first_name:o,last_name:l,position:s.position||"",team:s.nfl_team||"",jersey_number:s.number||0,status:s.playing_status||"",injury_status:s.injury_status||"",age:s.age||0,height:((r=s.height)==null?void 0:r.toString())||"",weight:s.weight||0,years_exp:0,college:s.college||""}}}),n}catch(t){throw console.error("Error fetching players from database:",t),t}}static async getDraftResults(t){return this.queryTable(Le.DRAFT_RESULTS,t)}static async createDraftResult(t){return this.createRecord(Le.DRAFT_RESULTS,t)}static async getMatchupAdminOverrides(t){return this.queryTable(Le.MATCHUP_ADMIN_OVERRIDE,t)}static async createMatchupAdminOverride(t){return this.createRecord(Le.MATCHUP_ADMIN_OVERRIDE,t)}static async updateMatchupAdminOverride(t,n){return this.updateRecord(Le.MATCHUP_ADMIN_OVERRIDE,t,n)}static async deleteMatchupAdminOverride(t){return this.deleteRecord(Le.MATCHUP_ADMIN_OVERRIDE,t)}static async getTransactions(t){return this.queryTable(Le.TRANSACTIONS,t)}static async createTransaction(t){return this.createRecord(Le.TRANSACTIONS,t)}static async getPlayoffBrackets(t){return this.queryTable(Le.PLAYOFF_BRACKETS,t)}static async createPlayoffBracket(t){return this.createRecord(Le.PLAYOFF_BRACKETS,t)}}const w4=Object.freeze(Object.defineProperty({__proto__:null,DatabaseService:de},Symbol.toStringTag,{value:"Module"})),F1=h.createContext(void 0),j4=({children:e})=>{const[t,n]=h.useState(2025),[s,r]=h.useState(null),[a,o]=h.useState("light"),[l,c]=h.useState([]),[u,d]=h.useState(!0),[f,m]=h.useState(null),x=async()=>{try{d(!0),m(null);const p=await de.getSeasons({orderBy:{column:"season_year",ascending:!1}});if(p.error)throw new Error(p.error);const g=p.data||[],w=await de.getConferences();if(w.error)throw new Error(w.error);const b=w.data||[],S=g.map(N=>{const C=b.filter(R=>R.season_id===N.id).map(R=>({id:R.conference_name.toLowerCase().replace(/[^a-z0-9]/g,""),name:R.conference_name,leagueId:R.league_id,status:R.status,seasonId:R.season_id,dbConferenceId:R.id}));return{year:parseInt(N.season_year),conferences:C,seasonId:N.id,isCurrent:N.is_current}});c(S);const T=S.find(N=>N.isCurrent);T&&t!==T.year&&n(T.year)}catch(p){console.error("Failed to load season data:",p),m(p instanceof Error?p.message:"Failed to load season data"),c([{year:2024,conferences:[{id:"mars",name:"The Legions of Mars",leagueId:"1072580179844857856"},{id:"jupiter",name:"The Guardians of Jupiter",leagueId:"1072593839715667968"},{id:"vulcan",name:"Vulcan's Oathsworn",leagueId:"1072593416955015168"}]},{year:2025,conferences:[{id:"mars",name:"The Legions of Mars",leagueId:"1204854057169072128"},{id:"jupiter",name:"The Guardians of Jupiter",leagueId:"1204857692007440384"},{id:"vulcan",name:"Vulcan's Oathsworn",leagueId:"1204857608989577216"}]}])}finally{d(!1)}};h.useEffect(()=>{x()},[]);const j=()=>{o(p=>p==="light"?"dark":"light")},v=l.find(p=>p.year===t)||l.find(p=>p.isCurrent)||l[0]||{year:t,conferences:[]},y={selectedSeason:t,selectedConference:s,theme:a,setSelectedSeason:n,setSelectedConference:r,toggleTheme:j,seasonConfigs:l,currentSeasonConfig:v,loading:u,error:f,refreshSeasonData:x};return i.jsx(F1.Provider,{value:y,children:i.jsx("div",{className:a,children:e})})},zs=()=>{const e=h.useContext(F1);if(!e)throw new Error("useApp must be used within an AppProvider");return e},b4=Oo("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),te=h.forwardRef(({className:e,variant:t,size:n,asChild:s=!1,...r},a)=>{const o=s?YR:"button";return i.jsx(o,{className:me(b4({variant:t,size:n,className:e})),ref:a,...r})});te.displayName="Button";var tm="focusScope.autoFocusOnMount",nm="focusScope.autoFocusOnUnmount",h0={bubbles:!1,cancelable:!0},_4="FocusScope",Xx=h.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:r,onUnmountAutoFocus:a,...o}=e,[l,c]=h.useState(null),u=Jn(r),d=Jn(a),f=h.useRef(null),m=Ve(t,v=>c(v)),x=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(s){let v=function(w){if(x.paused||!l)return;const b=w.target;l.contains(b)?f.current=b:Wr(f.current,{select:!0})},y=function(w){if(x.paused||!l)return;const b=w.relatedTarget;b!==null&&(l.contains(b)||Wr(f.current,{select:!0}))},p=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&Wr(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",y);const g=new MutationObserver(p);return l&&g.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",y),g.disconnect()}}},[s,l,x.paused]),h.useEffect(()=>{if(l){p0.add(x);const v=document.activeElement;if(!l.contains(v)){const p=new CustomEvent(tm,h0);l.addEventListener(tm,u),l.dispatchEvent(p),p.defaultPrevented||(S4(k4(B1(l)),{select:!0}),document.activeElement===v&&Wr(l))}return()=>{l.removeEventListener(tm,u),setTimeout(()=>{const p=new CustomEvent(nm,h0);l.addEventListener(nm,d),l.dispatchEvent(p),p.defaultPrevented||Wr(v??document.body,{select:!0}),l.removeEventListener(nm,d),p0.remove(x)},0)}}},[l,u,d,x]);const j=h.useCallback(v=>{if(!n&&!s||x.paused)return;const y=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,p=document.activeElement;if(y&&p){const g=v.currentTarget,[w,b]=N4(g);w&&b?!v.shiftKey&&p===b?(v.preventDefault(),n&&Wr(w,{select:!0})):v.shiftKey&&p===w&&(v.preventDefault(),n&&Wr(b,{select:!0})):p===g&&v.preventDefault()}},[n,s,x.paused]);return i.jsx(xe.div,{tabIndex:-1,...o,ref:m,onKeyDown:j})});Xx.displayName=_4;function S4(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(Wr(s,{select:t}),document.activeElement!==n)return}function N4(e){const t=B1(e),n=m0(t,e),s=m0(t.reverse(),e);return[n,s]}function B1(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const r=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||r?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function m0(e,t){for(const n of e)if(!C4(n,{upTo:t}))return n}function C4(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function E4(e){return e instanceof HTMLInputElement&&"select"in e}function Wr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&E4(e)&&t&&e.select()}}var p0=T4();function T4(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=g0(e,t),e.unshift(t)},remove(t){var n;e=g0(e,t),(n=e[0])==null||n.resume()}}}function g0(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function k4(e){return e.filter(t=>t.tagName!=="A")}var sm=0;function U1(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??x0()),document.body.insertAdjacentElement("beforeend",e[1]??x0()),sm++,()=>{sm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),sm--}},[])}function x0(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var nr=function(){return nr=Object.assign||function(t){for(var n,s=1,r=arguments.length;s<r;s++){n=arguments[s];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},nr.apply(this,arguments)};function V1(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(n[s[r]]=e[s[r]]);return n}function P4(e,t,n){if(n||arguments.length===2)for(var s=0,r=t.length,a;s<r;s++)(a||!(s in t))&&(a||(a=Array.prototype.slice.call(t,0,s)),a[s]=t[s]);return e.concat(a||Array.prototype.slice.call(t))}var Ju="right-scroll-bar-position",Zu="width-before-scroll-bar",R4="with-scroll-bars-hidden",A4="--removed-body-scroll-bar-size";function rm(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function D4(e,t){var n=h.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var r=n.value;r!==s&&(n.value=s,n.callback(s,r))}}}})[0];return n.callback=t,n.facade}var $4=typeof window<"u"?h.useLayoutEffect:h.useEffect,v0=new WeakMap;function M4(e,t){var n=D4(null,function(s){return e.forEach(function(r){return rm(r,s)})});return $4(function(){var s=v0.get(n);if(s){var r=new Set(s),a=new Set(e),o=n.current;r.forEach(function(l){a.has(l)||rm(l,null)}),a.forEach(function(l){r.has(l)||rm(l,o)})}v0.set(n,e)},[e]),n}function I4(e){return e}function L4(e,t){t===void 0&&(t=I4);var n=[],s=!1,r={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var o=t(a,s);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(s=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){s=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(a),o=n}var c=function(){var d=o;o=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return r}function O4(e){e===void 0&&(e={});var t=L4(null);return t.options=nr({async:!0,ssr:!1},e),t}var z1=function(e){var t=e.sideCar,n=V1(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return h.createElement(s,nr({},n))};z1.isSideCarExport=!0;function F4(e,t){return e.useMedium(t),z1}var W1=O4(),im=function(){},Of=h.forwardRef(function(e,t){var n=h.useRef(null),s=h.useState({onScrollCapture:im,onWheelCapture:im,onTouchMoveCapture:im}),r=s[0],a=s[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,m=e.sideCar,x=e.noRelative,j=e.noIsolation,v=e.inert,y=e.allowPinchZoom,p=e.as,g=p===void 0?"div":p,w=e.gapMode,b=V1(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=m,T=M4([n,t]),N=nr(nr({},b),r);return h.createElement(h.Fragment,null,d&&h.createElement(S,{sideCar:W1,removeScrollBar:u,shards:f,noRelative:x,noIsolation:j,inert:v,setCallbacks:a,allowPinchZoom:!!y,lockRef:n,gapMode:w}),o?h.cloneElement(h.Children.only(l),nr(nr({},N),{ref:T})):h.createElement(g,nr({},N,{className:c,ref:T}),l))});Of.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Of.classNames={fullWidth:Zu,zeroRight:Ju};var B4=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function U4(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=B4();return t&&e.setAttribute("nonce",t),e}function V4(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function z4(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var W4=function(){var e=0,t=null;return{add:function(n){e==0&&(t=U4())&&(V4(t,n),z4(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},H4=function(){var e=W4();return function(t,n){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},H1=function(){var e=H4(),t=function(n){var s=n.styles,r=n.dynamic;return e(s,r),null};return t},q4={left:0,top:0,right:0,gap:0},am=function(e){return parseInt(e||"",10)||0},K4=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],r=t[e==="padding"?"paddingRight":"marginRight"];return[am(n),am(s),am(r)]},G4=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return q4;var t=K4(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},Y4=H1(),co="data-scroll-locked",Q4=function(e,t,n,s){var r=e.left,a=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(R4,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(co,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ju,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(Zu,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(Ju," .").concat(Ju,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Zu," .").concat(Zu,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(co,`] {
    `).concat(A4,": ").concat(l,`px;
  }
`)},y0=function(){var e=parseInt(document.body.getAttribute(co)||"0",10);return isFinite(e)?e:0},X4=function(){h.useEffect(function(){return document.body.setAttribute(co,(y0()+1).toString()),function(){var e=y0()-1;e<=0?document.body.removeAttribute(co):document.body.setAttribute(co,e.toString())}},[])},J4=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,r=s===void 0?"margin":s;X4();var a=h.useMemo(function(){return G4(r)},[r]);return h.createElement(Y4,{styles:Q4(a,!t,r,n?"":"!important")})},Hp=!1;if(typeof window<"u")try{var Cu=Object.defineProperty({},"passive",{get:function(){return Hp=!0,!0}});window.addEventListener("test",Cu,Cu),window.removeEventListener("test",Cu,Cu)}catch{Hp=!1}var Ra=Hp?{passive:!1}:!1,Z4=function(e){return e.tagName==="TEXTAREA"},q1=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Z4(e)&&n[t]==="visible")},e3=function(e){return q1(e,"overflowY")},t3=function(e){return q1(e,"overflowX")},w0=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var r=K1(e,s);if(r){var a=G1(e,s),o=a[1],l=a[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},n3=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},s3=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},K1=function(e,t){return e==="v"?e3(t):t3(t)},G1=function(e,t){return e==="v"?n3(t):s3(t)},r3=function(e,t){return e==="h"&&t==="rtl"?-1:1},i3=function(e,t,n,s,r){var a=r3(e,window.getComputedStyle(t).direction),o=a*s,l=n.target,c=t.contains(l),u=!1,d=o>0,f=0,m=0;do{if(!l)break;var x=G1(e,l),j=x[0],v=x[1],y=x[2],p=v-y-a*j;(j||p)&&K1(e,l)&&(f+=p,m+=j);var g=l.parentNode;l=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(m)<1)&&(u=!0),u},Eu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},j0=function(e){return[e.deltaX,e.deltaY]},b0=function(e){return e&&"current"in e?e.current:e},a3=function(e,t){return e[0]===t[0]&&e[1]===t[1]},o3=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},l3=0,Aa=[];function c3(e){var t=h.useRef([]),n=h.useRef([0,0]),s=h.useRef(),r=h.useState(l3++)[0],a=h.useState(H1)[0],o=h.useRef(e);h.useEffect(function(){o.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(r));var v=P4([e.lockRef.current],(e.shards||[]).map(b0),!0).filter(Boolean);return v.forEach(function(y){return y.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),v.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(r))})}}},[e.inert,e.lockRef.current,e.shards]);var l=h.useCallback(function(v,y){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var p=Eu(v),g=n.current,w="deltaX"in v?v.deltaX:g[0]-p[0],b="deltaY"in v?v.deltaY:g[1]-p[1],S,T=v.target,N=Math.abs(w)>Math.abs(b)?"h":"v";if("touches"in v&&N==="h"&&T.type==="range")return!1;var C=w0(N,T);if(!C)return!0;if(C?S=N:(S=N==="v"?"h":"v",C=w0(N,T)),!C)return!1;if(!s.current&&"changedTouches"in v&&(w||b)&&(s.current=S),!S)return!0;var R=s.current||S;return i3(R,y,v,R==="h"?w:b)},[]),c=h.useCallback(function(v){var y=v;if(!(!Aa.length||Aa[Aa.length-1]!==a)){var p="deltaY"in y?j0(y):Eu(y),g=t.current.filter(function(S){return S.name===y.type&&(S.target===y.target||y.target===S.shadowParent)&&a3(S.delta,p)})[0];if(g&&g.should){y.cancelable&&y.preventDefault();return}if(!g){var w=(o.current.shards||[]).map(b0).filter(Boolean).filter(function(S){return S.contains(y.target)}),b=w.length>0?l(y,w[0]):!o.current.noIsolation;b&&y.cancelable&&y.preventDefault()}}},[]),u=h.useCallback(function(v,y,p,g){var w={name:v,delta:y,target:p,should:g,shadowParent:u3(p)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(b){return b!==w})},1)},[]),d=h.useCallback(function(v){n.current=Eu(v),s.current=void 0},[]),f=h.useCallback(function(v){u(v.type,j0(v),v.target,l(v,e.lockRef.current))},[]),m=h.useCallback(function(v){u(v.type,Eu(v),v.target,l(v,e.lockRef.current))},[]);h.useEffect(function(){return Aa.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Ra),document.addEventListener("touchmove",c,Ra),document.addEventListener("touchstart",d,Ra),function(){Aa=Aa.filter(function(v){return v!==a}),document.removeEventListener("wheel",c,Ra),document.removeEventListener("touchmove",c,Ra),document.removeEventListener("touchstart",d,Ra)}},[]);var x=e.removeScrollBar,j=e.inert;return h.createElement(h.Fragment,null,j?h.createElement(a,{styles:o3(r)}):null,x?h.createElement(J4,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function u3(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const d3=F4(W1,c3);var Jx=h.forwardRef(function(e,t){return h.createElement(Of,nr({},e,{ref:t,sideCar:d3}))});Jx.classNames=Of.classNames;var f3=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Da=new WeakMap,Tu=new WeakMap,ku={},om=0,Y1=function(e){return e&&(e.host||Y1(e.parentNode))},h3=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=Y1(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},m3=function(e,t,n,s){var r=h3(t,Array.isArray(e)?e:[e]);ku[n]||(ku[n]=new WeakMap);var a=ku[n],o=[],l=new Set,c=new Set(r),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};r.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))d(m);else try{var x=m.getAttribute(s),j=x!==null&&x!=="false",v=(Da.get(m)||0)+1,y=(a.get(m)||0)+1;Da.set(m,v),a.set(m,y),o.push(m),v===1&&j&&Tu.set(m,!0),y===1&&m.setAttribute(n,"true"),j||m.setAttribute(s,"true")}catch(p){console.error("aria-hidden: cannot operate on ",m,p)}})};return d(t),l.clear(),om++,function(){o.forEach(function(f){var m=Da.get(f)-1,x=a.get(f)-1;Da.set(f,m),a.set(f,x),m||(Tu.has(f)||f.removeAttribute(s),Tu.delete(f)),x||f.removeAttribute(n)}),om--,om||(Da=new WeakMap,Da=new WeakMap,Tu=new WeakMap,ku={})}},Q1=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),r=f3(e);return r?(s.push.apply(s,Array.from(r.querySelectorAll("[aria-live], script"))),m3(s,r,n,"aria-hidden")):function(){return null}},Ff="Dialog",[X1,R7]=ts(Ff),[p3,Ws]=X1(Ff),J1=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:r,onOpenChange:a,modal:o=!0}=e,l=h.useRef(null),c=h.useRef(null),[u,d]=Pr({prop:s,defaultProp:r??!1,onChange:a,caller:Ff});return i.jsx(p3,{scope:t,triggerRef:l,contentRef:c,contentId:Nr(),titleId:Nr(),descriptionId:Nr(),open:u,onOpenChange:d,onOpenToggle:h.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};J1.displayName=Ff;var Z1="DialogTrigger",eC=h.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,r=Ws(Z1,n),a=Ve(t,r.triggerRef);return i.jsx(xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":tv(r.open),...s,ref:a,onClick:ge(e.onClick,r.onOpenToggle)})});eC.displayName=Z1;var Zx="DialogPortal",[g3,tC]=X1(Zx,{forceMount:void 0}),nC=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:r}=e,a=Ws(Zx,t);return i.jsx(g3,{scope:t,forceMount:n,children:h.Children.map(s,o=>i.jsx(dr,{present:n||a.open,children:i.jsx(Ic,{asChild:!0,container:r,children:o})}))})};nC.displayName=Zx;var Bd="DialogOverlay",sC=h.forwardRef((e,t)=>{const n=tC(Bd,e.__scopeDialog),{forceMount:s=n.forceMount,...r}=e,a=Ws(Bd,e.__scopeDialog);return a.modal?i.jsx(dr,{present:s||a.open,children:i.jsx(v3,{...r,ref:t})}):null});sC.displayName=Bd;var x3=Eo("DialogOverlay.RemoveScroll"),v3=h.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,r=Ws(Bd,n);return i.jsx(Jx,{as:x3,allowPinchZoom:!0,shards:[r.contentRef],children:i.jsx(xe.div,{"data-state":tv(r.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),ma="DialogContent",rC=h.forwardRef((e,t)=>{const n=tC(ma,e.__scopeDialog),{forceMount:s=n.forceMount,...r}=e,a=Ws(ma,e.__scopeDialog);return i.jsx(dr,{present:s||a.open,children:a.modal?i.jsx(y3,{...r,ref:t}):i.jsx(w3,{...r,ref:t})})});rC.displayName=ma;var y3=h.forwardRef((e,t)=>{const n=Ws(ma,e.__scopeDialog),s=h.useRef(null),r=Ve(t,n.contentRef,s);return h.useEffect(()=>{const a=s.current;if(a)return Q1(a)},[]),i.jsx(iC,{...e,ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ge(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ge(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:ge(e.onFocusOutside,a=>a.preventDefault())})}),w3=h.forwardRef((e,t)=>{const n=Ws(ma,e.__scopeDialog),s=h.useRef(!1),r=h.useRef(!1);return i.jsx(iC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),s.current=!1,r.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(s.current=!0,a.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const o=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&r.current&&a.preventDefault()}})}),iC=h.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:r,onCloseAutoFocus:a,...o}=e,l=Ws(ma,n),c=h.useRef(null),u=Ve(t,c);return U1(),i.jsxs(i.Fragment,{children:[i.jsx(Xx,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:r,onUnmountAutoFocus:a,children:i.jsx(Mc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":tv(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(j3,{titleId:l.titleId}),i.jsx(_3,{contentRef:c,descriptionId:l.descriptionId})]})]})}),ev="DialogTitle",aC=h.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,r=Ws(ev,n);return i.jsx(xe.h2,{id:r.titleId,...s,ref:t})});aC.displayName=ev;var oC="DialogDescription",lC=h.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,r=Ws(oC,n);return i.jsx(xe.p,{id:r.descriptionId,...s,ref:t})});lC.displayName=oC;var cC="DialogClose",uC=h.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,r=Ws(cC,n);return i.jsx(xe.button,{type:"button",...s,ref:t,onClick:ge(e.onClick,()=>r.onOpenChange(!1))})});uC.displayName=cC;function tv(e){return e?"open":"closed"}var dC="DialogTitleWarning",[A7,fC]=KR(dC,{contentName:ma,titleName:ev,docsSlug:"dialog"}),j3=({titleId:e})=>{const t=fC(dC),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},b3="DialogDescriptionWarning",_3=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${fC(b3).contentName}}.`;return h.useEffect(()=>{var a;const r=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&r&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},hC=J1,mC=eC,pC=nC,Bf=sC,Uf=rC,Vf=aC,zf=lC,gC=uC;const S3=hC,N3=mC,C3=pC,xC=h.forwardRef(({className:e,...t},n)=>i.jsx(Bf,{className:me("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));xC.displayName=Bf.displayName;const E3=Oo("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),vC=h.forwardRef(({side:e="right",className:t,children:n,...s},r)=>i.jsxs(C3,{children:[i.jsx(xC,{}),i.jsxs(Uf,{ref:r,className:me(E3({side:e}),t),...s,children:[i.jsxs(gC,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[i.jsx(bf,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]}),n]})]}));vC.displayName=Uf.displayName;const T3=h.forwardRef(({className:e,...t},n)=>i.jsx(Vf,{ref:n,className:me("text-lg font-semibold text-foreground",e),...t}));T3.displayName=Vf.displayName;const k3=h.forwardRef(({className:e,...t},n)=>i.jsx(zf,{ref:n,className:me("text-sm text-muted-foreground",e),...t}));k3.displayName=zf.displayName;function _0(e,[t,n]){return Math.min(n,Math.max(t,e))}var P3=h.createContext(void 0);function nv(e){const t=h.useContext(P3);return e||t||"ltr"}function sv(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var R3=[" ","Enter","ArrowUp","ArrowDown"],A3=[" ","Enter"],pa="Select",[Wf,Hf,D3]=jx(pa),[Ko,D7]=ts(pa,[D3,Cf]),qf=Cf(),[$3,Pi]=Ko(pa),[M3,I3]=Ko(pa),yC=e=>{const{__scopeSelect:t,children:n,open:s,defaultOpen:r,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:m,required:x,form:j}=e,v=qf(t),[y,p]=h.useState(null),[g,w]=h.useState(null),[b,S]=h.useState(!1),T=nv(u),[N,C]=Pr({prop:s,defaultProp:r??!1,onChange:a,caller:pa}),[R,D]=Pr({prop:o,defaultProp:l,onChange:c,caller:pa}),k=h.useRef(null),$=y?j||!!y.closest("form"):!0,[I,B]=h.useState(new Set),Q=Array.from(I).map(O=>O.props.value).join(";");return i.jsx(dI,{...v,children:i.jsxs($3,{required:x,scope:t,trigger:y,onTriggerChange:p,valueNode:g,onValueNodeChange:w,valueNodeHasChildren:b,onValueNodeHasChildrenChange:S,contentId:Nr(),value:R,onValueChange:D,open:N,onOpenChange:C,dir:T,triggerPointerDownPosRef:k,disabled:m,children:[i.jsx(Wf.Provider,{scope:t,children:i.jsx(M3,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(O=>{B(V=>new Set(V).add(O))},[]),onNativeOptionRemove:h.useCallback(O=>{B(V=>{const A=new Set(V);return A.delete(O),A})},[]),children:n})}),$?i.jsxs(zC,{"aria-hidden":!0,required:x,tabIndex:-1,name:d,autoComplete:f,value:R,onChange:O=>D(O.target.value),disabled:m,form:j,children:[R===void 0?i.jsx("option",{value:""}):null,Array.from(I)]},Q):null]})})};yC.displayName=pa;var wC="SelectTrigger",jC=h.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:s=!1,...r}=e,a=qf(n),o=Pi(wC,n),l=o.disabled||s,c=Ve(t,o.onTriggerChange),u=Hf(n),d=h.useRef("touch"),[f,m,x]=HC(v=>{const y=u().filter(w=>!w.disabled),p=y.find(w=>w.value===o.value),g=qC(y,v,p);g!==void 0&&o.onValueChange(g.value)}),j=v=>{l||(o.onOpenChange(!0),x()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return i.jsx(LN,{asChild:!0,...a,children:i.jsx(xe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":WC(o.value)?"":void 0,...r,ref:c,onClick:ge(r.onClick,v=>{v.currentTarget.focus(),d.current!=="mouse"&&j(v)}),onPointerDown:ge(r.onPointerDown,v=>{d.current=v.pointerType;const y=v.target;y.hasPointerCapture(v.pointerId)&&y.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(j(v),v.preventDefault())}),onKeyDown:ge(r.onKeyDown,v=>{const y=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&m(v.key),!(y&&v.key===" ")&&R3.includes(v.key)&&(j(),v.preventDefault())})})})});jC.displayName=wC;var bC="SelectValue",_C=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:r,children:a,placeholder:o="",...l}=e,c=Pi(bC,n),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,f=Ve(t,c.onValueNodeChange);return Tt(()=>{u(d)},[u,d]),i.jsx(xe.span,{...l,ref:f,style:{pointerEvents:"none"},children:WC(c.value)?i.jsx(i.Fragment,{children:o}):a})});_C.displayName=bC;var L3="SelectIcon",SC=h.forwardRef((e,t)=>{const{__scopeSelect:n,children:s,...r}=e;return i.jsx(xe.span,{"aria-hidden":!0,...r,ref:t,children:s||""})});SC.displayName=L3;var O3="SelectPortal",NC=e=>i.jsx(Ic,{asChild:!0,...e});NC.displayName=O3;var ga="SelectContent",CC=h.forwardRef((e,t)=>{const n=Pi(ga,e.__scopeSelect),[s,r]=h.useState();if(Tt(()=>{r(new DocumentFragment)},[]),!n.open){const a=s;return a?gs.createPortal(i.jsx(EC,{scope:e.__scopeSelect,children:i.jsx(Wf.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),a):null}return i.jsx(TC,{...e,ref:t})});CC.displayName=ga;var Cs=10,[EC,Ri]=Ko(ga),F3="SelectContentImpl",B3=Eo("SelectContent.RemoveScroll"),TC=h.forwardRef((e,t)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:r,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:x,sticky:j,hideWhenDetached:v,avoidCollisions:y,...p}=e,g=Pi(ga,n),[w,b]=h.useState(null),[S,T]=h.useState(null),N=Ve(t,z=>b(z)),[C,R]=h.useState(null),[D,k]=h.useState(null),$=Hf(n),[I,B]=h.useState(!1),Q=h.useRef(!1);h.useEffect(()=>{if(w)return Q1(w)},[w]),U1();const O=h.useCallback(z=>{const[W,...K]=$().map(le=>le.ref.current),[F]=K.slice(-1),ne=document.activeElement;for(const le of z)if(le===ne||(le==null||le.scrollIntoView({block:"nearest"}),le===W&&S&&(S.scrollTop=0),le===F&&S&&(S.scrollTop=S.scrollHeight),le==null||le.focus(),document.activeElement!==ne))return},[$,S]),V=h.useCallback(()=>O([C,w]),[O,C,w]);h.useEffect(()=>{I&&V()},[I,V]);const{onOpenChange:A,triggerPointerDownPosRef:_}=g;h.useEffect(()=>{if(w){let z={x:0,y:0};const W=F=>{var ne,le;z={x:Math.abs(Math.round(F.pageX)-(((ne=_.current)==null?void 0:ne.x)??0)),y:Math.abs(Math.round(F.pageY)-(((le=_.current)==null?void 0:le.y)??0))}},K=F=>{z.x<=10&&z.y<=10?F.preventDefault():w.contains(F.target)||A(!1),document.removeEventListener("pointermove",W),_.current=null};return _.current!==null&&(document.addEventListener("pointermove",W),document.addEventListener("pointerup",K,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",W),document.removeEventListener("pointerup",K,{capture:!0})}}},[w,A,_]),h.useEffect(()=>{const z=()=>A(!1);return window.addEventListener("blur",z),window.addEventListener("resize",z),()=>{window.removeEventListener("blur",z),window.removeEventListener("resize",z)}},[A]);const[E,P]=HC(z=>{const W=$().filter(ne=>!ne.disabled),K=W.find(ne=>ne.ref.current===document.activeElement),F=qC(W,z,K);F&&setTimeout(()=>F.ref.current.focus())}),L=h.useCallback((z,W,K)=>{const F=!Q.current&&!K;(g.value!==void 0&&g.value===W||F)&&(R(z),F&&(Q.current=!0))},[g.value]),M=h.useCallback(()=>w==null?void 0:w.focus(),[w]),H=h.useCallback((z,W,K)=>{const F=!Q.current&&!K;(g.value!==void 0&&g.value===W||F)&&k(z)},[g.value]),re=s==="popper"?qp:kC,G=re===qp?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:x,sticky:j,hideWhenDetached:v,avoidCollisions:y}:{};return i.jsx(EC,{scope:n,content:w,viewport:S,onViewportChange:T,itemRefCallback:L,selectedItem:C,onItemLeave:M,itemTextRefCallback:H,focusSelectedItem:V,selectedItemText:D,position:s,isPositioned:I,searchRef:E,children:i.jsx(Jx,{as:B3,allowPinchZoom:!0,children:i.jsx(Xx,{asChild:!0,trapped:g.open,onMountAutoFocus:z=>{z.preventDefault()},onUnmountAutoFocus:ge(r,z=>{var W;(W=g.trigger)==null||W.focus({preventScroll:!0}),z.preventDefault()}),children:i.jsx(Mc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:z=>z.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:i.jsx(re,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:z=>z.preventDefault(),...p,...G,onPlaced:()=>B(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...p.style},onKeyDown:ge(p.onKeyDown,z=>{const W=z.ctrlKey||z.altKey||z.metaKey;if(z.key==="Tab"&&z.preventDefault(),!W&&z.key.length===1&&P(z.key),["ArrowUp","ArrowDown","Home","End"].includes(z.key)){let F=$().filter(ne=>!ne.disabled).map(ne=>ne.ref.current);if(["ArrowUp","End"].includes(z.key)&&(F=F.slice().reverse()),["ArrowUp","ArrowDown"].includes(z.key)){const ne=z.target,le=F.indexOf(ne);F=F.slice(le+1)}setTimeout(()=>O(F)),z.preventDefault()}})})})})})})});TC.displayName=F3;var U3="SelectItemAlignedPosition",kC=h.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:s,...r}=e,a=Pi(ga,n),o=Ri(ga,n),[l,c]=h.useState(null),[u,d]=h.useState(null),f=Ve(t,N=>d(N)),m=Hf(n),x=h.useRef(!1),j=h.useRef(!0),{viewport:v,selectedItem:y,selectedItemText:p,focusSelectedItem:g}=o,w=h.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&v&&y&&p){const N=a.trigger.getBoundingClientRect(),C=u.getBoundingClientRect(),R=a.valueNode.getBoundingClientRect(),D=p.getBoundingClientRect();if(a.dir!=="rtl"){const ne=D.left-C.left,le=R.left-ne,ce=N.left-le,pe=N.width+ce,fe=Math.max(pe,C.width),ye=window.innerWidth-Cs,Se=_0(le,[Cs,Math.max(Cs,ye-fe)]);l.style.minWidth=pe+"px",l.style.left=Se+"px"}else{const ne=C.right-D.right,le=window.innerWidth-R.right-ne,ce=window.innerWidth-N.right-le,pe=N.width+ce,fe=Math.max(pe,C.width),ye=window.innerWidth-Cs,Se=_0(le,[Cs,Math.max(Cs,ye-fe)]);l.style.minWidth=pe+"px",l.style.right=Se+"px"}const k=m(),$=window.innerHeight-Cs*2,I=v.scrollHeight,B=window.getComputedStyle(u),Q=parseInt(B.borderTopWidth,10),O=parseInt(B.paddingTop,10),V=parseInt(B.borderBottomWidth,10),A=parseInt(B.paddingBottom,10),_=Q+O+I+A+V,E=Math.min(y.offsetHeight*5,_),P=window.getComputedStyle(v),L=parseInt(P.paddingTop,10),M=parseInt(P.paddingBottom,10),H=N.top+N.height/2-Cs,re=$-H,G=y.offsetHeight/2,z=y.offsetTop+G,W=Q+O+z,K=_-W;if(W<=H){const ne=k.length>0&&y===k[k.length-1].ref.current;l.style.bottom="0px";const le=u.clientHeight-v.offsetTop-v.offsetHeight,ce=Math.max(re,G+(ne?M:0)+le+V),pe=W+ce;l.style.height=pe+"px"}else{const ne=k.length>0&&y===k[0].ref.current;l.style.top="0px";const ce=Math.max(H,Q+v.offsetTop+(ne?L:0)+G)+K;l.style.height=ce+"px",v.scrollTop=W-H+v.offsetTop}l.style.margin=`${Cs}px 0`,l.style.minHeight=E+"px",l.style.maxHeight=$+"px",s==null||s(),requestAnimationFrame(()=>x.current=!0)}},[m,a.trigger,a.valueNode,l,u,v,y,p,a.dir,s]);Tt(()=>w(),[w]);const[b,S]=h.useState();Tt(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const T=h.useCallback(N=>{N&&j.current===!0&&(w(),g==null||g(),j.current=!1)},[w,g]);return i.jsx(z3,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:x,onScrollButtonChange:T,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:i.jsx(xe.div,{...r,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...r.style}})})})});kC.displayName=U3;var V3="SelectPopperPosition",qp=h.forwardRef((e,t)=>{const{__scopeSelect:n,align:s="start",collisionPadding:r=Cs,...a}=e,o=qf(n);return i.jsx(ON,{...o,...a,ref:t,align:s,collisionPadding:r,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});qp.displayName=V3;var[z3,rv]=Ko(ga,{}),Kp="SelectViewport",PC=h.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:s,...r}=e,a=Ri(Kp,n),o=rv(Kp,n),l=Ve(t,a.onViewportChange),c=h.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),i.jsx(Wf.Slot,{scope:n,children:i.jsx(xe.div,{"data-radix-select-viewport":"",role:"presentation",...r,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...r.style},onScroll:ge(r.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&f){const x=Math.abs(c.current-d.scrollTop);if(x>0){const j=window.innerHeight-Cs*2,v=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),p=Math.max(v,y);if(p<j){const g=p+x,w=Math.min(j,g),b=g-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=b>0?b:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});PC.displayName=Kp;var RC="SelectGroup",[W3,H3]=Ko(RC),q3=h.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,r=Nr();return i.jsx(W3,{scope:n,id:r,children:i.jsx(xe.div,{role:"group","aria-labelledby":r,...s,ref:t})})});q3.displayName=RC;var AC="SelectLabel",DC=h.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,r=H3(AC,n);return i.jsx(xe.div,{id:r.id,...s,ref:t})});DC.displayName=AC;var Ud="SelectItem",[K3,$C]=Ko(Ud),MC=h.forwardRef((e,t)=>{const{__scopeSelect:n,value:s,disabled:r=!1,textValue:a,...o}=e,l=Pi(Ud,n),c=Ri(Ud,n),u=l.value===s,[d,f]=h.useState(a??""),[m,x]=h.useState(!1),j=Ve(t,g=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,g,s,r)}),v=Nr(),y=h.useRef("touch"),p=()=>{r||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(K3,{scope:n,value:s,disabled:r,textId:v,isSelected:u,onItemTextChange:h.useCallback(g=>{f(w=>w||((g==null?void 0:g.textContent)??"").trim())},[]),children:i.jsx(Wf.ItemSlot,{scope:n,value:s,disabled:r,textValue:d,children:i.jsx(xe.div,{role:"option","aria-labelledby":v,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":r||void 0,"data-disabled":r?"":void 0,tabIndex:r?void 0:-1,...o,ref:j,onFocus:ge(o.onFocus,()=>x(!0)),onBlur:ge(o.onBlur,()=>x(!1)),onClick:ge(o.onClick,()=>{y.current!=="mouse"&&p()}),onPointerUp:ge(o.onPointerUp,()=>{y.current==="mouse"&&p()}),onPointerDown:ge(o.onPointerDown,g=>{y.current=g.pointerType}),onPointerMove:ge(o.onPointerMove,g=>{var w;y.current=g.pointerType,r?(w=c.onItemLeave)==null||w.call(c):y.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ge(o.onPointerLeave,g=>{var w;g.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:ge(o.onKeyDown,g=>{var b;((b=c.searchRef)==null?void 0:b.current)!==""&&g.key===" "||(A3.includes(g.key)&&p(),g.key===" "&&g.preventDefault())})})})})});MC.displayName=Ud;var bl="SelectItemText",IC=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:r,...a}=e,o=Pi(bl,n),l=Ri(bl,n),c=$C(bl,n),u=I3(bl,n),[d,f]=h.useState(null),m=Ve(t,p=>f(p),c.onItemTextChange,p=>{var g;return(g=l.itemTextRefCallback)==null?void 0:g.call(l,p,c.value,c.disabled)}),x=d==null?void 0:d.textContent,j=h.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:x},c.value),[c.disabled,c.value,x]),{onNativeOptionAdd:v,onNativeOptionRemove:y}=u;return Tt(()=>(v(j),()=>y(j)),[v,y,j]),i.jsxs(i.Fragment,{children:[i.jsx(xe.span,{id:c.textId,...a,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?gs.createPortal(a.children,o.valueNode):null]})});IC.displayName=bl;var LC="SelectItemIndicator",OC=h.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return $C(LC,n).isSelected?i.jsx(xe.span,{"aria-hidden":!0,...s,ref:t}):null});OC.displayName=LC;var Gp="SelectScrollUpButton",FC=h.forwardRef((e,t)=>{const n=Ri(Gp,e.__scopeSelect),s=rv(Gp,e.__scopeSelect),[r,a]=h.useState(!1),o=Ve(t,s.onScrollButtonChange);return Tt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),r?i.jsx(UC,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});FC.displayName=Gp;var Yp="SelectScrollDownButton",BC=h.forwardRef((e,t)=>{const n=Ri(Yp,e.__scopeSelect),s=rv(Yp,e.__scopeSelect),[r,a]=h.useState(!1),o=Ve(t,s.onScrollButtonChange);return Tt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),r?i.jsx(UC,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});BC.displayName=Yp;var UC=h.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:s,...r}=e,a=Ri("SelectScrollButton",n),o=h.useRef(null),l=Hf(n),c=h.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return h.useEffect(()=>()=>c(),[c]),Tt(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),i.jsx(xe.div,{"aria-hidden":!0,...r,ref:t,style:{flexShrink:0,...r.style},onPointerDown:ge(r.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:ge(r.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:ge(r.onPointerLeave,()=>{c()})})}),G3="SelectSeparator",VC=h.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return i.jsx(xe.div,{"aria-hidden":!0,...s,ref:t})});VC.displayName=G3;var Qp="SelectArrow",Y3=h.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,r=qf(n),a=Pi(Qp,n),o=Ri(Qp,n);return a.open&&o.position==="popper"?i.jsx(FN,{...r,...s,ref:t}):null});Y3.displayName=Qp;var Q3="SelectBubbleInput",zC=h.forwardRef(({__scopeSelect:e,value:t,...n},s)=>{const r=h.useRef(null),a=Ve(s,r),o=sv(t);return h.useEffect(()=>{const l=r.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),i.jsx(xe.select,{...n,style:{...$S,...n.style},ref:a,defaultValue:t})});zC.displayName=Q3;function WC(e){return e===""||e===void 0}function HC(e){const t=Jn(e),n=h.useRef(""),s=h.useRef(0),r=h.useCallback(o=>{const l=n.current+o;t(l),function c(u){n.current=u,window.clearTimeout(s.current),u!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=h.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,r,a]}function qC(e,t,n){const r=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=X3(e,Math.max(a,0));r.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(r.toLowerCase()));return c!==n?c:void 0}function X3(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var J3=yC,KC=jC,Z3=_C,e5=SC,t5=NC,GC=CC,n5=PC,YC=DC,QC=MC,s5=IC,r5=OC,XC=FC,JC=BC,ZC=VC;const At=J3,Dt=Z3,Ct=h.forwardRef(({className:e,children:t,...n},s)=>i.jsxs(KC,{ref:s,className:me("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,i.jsx(e5,{asChild:!0,children:i.jsx(wf,{className:"h-4 w-4 opacity-50"})})]}));Ct.displayName=KC.displayName;const eE=h.forwardRef(({className:e,...t},n)=>i.jsx(XC,{ref:n,className:me("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(Cx,{className:"h-4 w-4"})}));eE.displayName=XC.displayName;const tE=h.forwardRef(({className:e,...t},n)=>i.jsx(JC,{ref:n,className:me("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(wf,{className:"h-4 w-4"})}));tE.displayName=JC.displayName;const Et=h.forwardRef(({className:e,children:t,position:n="popper",...s},r)=>i.jsx(t5,{children:i.jsxs(GC,{ref:r,className:me("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...s,children:[i.jsx(eE,{}),i.jsx(n5,{className:me("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(tE,{})]})}));Et.displayName=GC.displayName;const i5=h.forwardRef(({className:e,...t},n)=>i.jsx(YC,{ref:n,className:me("px-2 py-1.5 text-sm font-semibold",e),...t}));i5.displayName=YC.displayName;const $e=h.forwardRef(({className:e,children:t,...n},s)=>i.jsxs(QC,{ref:s,className:me("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[i.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(r5,{children:i.jsx(Nx,{className:"h-4 w-4"})})}),i.jsx(s5,{children:t})]}));$e.displayName=QC.displayName;const a5=h.forwardRef(({className:e,...t},n)=>i.jsx(ZC,{ref:n,className:me("-mx-1 my-1 h-px bg-muted",e),...t}));a5.displayName=ZC.displayName;const o5=Oo("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ee({className:e,variant:t,...n}){return i.jsx("div",{className:me(o5({variant:t}),e),...n})}const l5=()=>{var j;const[e,t]=h.useState(!1),n=zo(),{selectedSeason:s,selectedConference:r,theme:a,setSelectedSeason:o,setSelectedConference:l,toggleTheme:c,seasonConfigs:u,currentSeasonConfig:d}=zs(),f=[{path:"/",label:"Home",icon:wD},{path:"/standings",label:"Standings",icon:Kt},{path:"/matchups",label:"Matchups",icon:uc},{path:"/teams",label:"Teams",icon:Yt},{path:"/players",label:"Players",icon:Ml},{path:"/draft",label:"Draft Results",icon:cc},{path:"/rules",label:"League Rules",icon:kd},{path:"/admin",label:"Admin",icon:cD}],m=v=>v==="/"?n.pathname==="/":n.pathname.startsWith(v),x=({isMobile:v=!1})=>i.jsx(i.Fragment,{children:f.map(y=>{const p=y.icon,g=m(y.path);return i.jsxs(Pt,{to:y.path,onClick:()=>v&&t(!1),className:`flex items-center space-x-2 px-3 py-2 rounded-md ${y.path==="/admin"?"text-xs opacity-75":"text-sm"} font-medium transition-colors ${g?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-accent"}`,children:[i.jsx(p,{className:y.path==="/admin"?"h-3 w-3":"h-4 w-4"}),i.jsx("span",{className:y.path==="/admin"?"text-xs":"",children:y.label})]},y.path)})});return i.jsxs("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:[i.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[i.jsx("div",{className:"flex items-center space-x-4",children:i.jsxs(Pt,{to:"/",className:"flex items-center space-x-2",children:[i.jsx("img",{src:"/gladiator-logo.png",alt:"Gladiator League Logo",className:"h-8 w-8"}),i.jsx("div",{className:"hidden sm:block",children:i.jsx("h1",{className:"text-xl font-bold",children:"Gladiator League"})})]})}),i.jsx("nav",{className:"hidden lg:flex items-center space-x-1",children:i.jsx(x,{})}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs(At,{value:s.toString(),onValueChange:v=>o(parseInt(v)),children:[i.jsx(Ct,{className:"w-20",children:i.jsx(Dt,{})}),i.jsx(Et,{children:u.map(v=>i.jsx($e,{value:v.year.toString(),children:v.year},v.year))})]}),i.jsxs(At,{value:r||"all",onValueChange:v=>l(v==="all"?null:v),children:[i.jsx(Ct,{className:"w-40",children:i.jsx(Dt,{})}),i.jsxs(Et,{children:[i.jsx($e,{value:"all",children:"All Conferences"}),d.conferences.map(v=>i.jsx($e,{value:v.id,children:v.name},v.id))]})]}),i.jsx(te,{variant:"ghost",size:"icon",onClick:c,children:a==="light"?i.jsx(PD,{className:"h-4 w-4"}):i.jsx(KD,{className:"h-4 w-4"})}),i.jsxs(S3,{open:e,onOpenChange:t,children:[i.jsx(N3,{asChild:!0,className:"lg:hidden",children:i.jsx(te,{variant:"ghost",size:"icon",children:i.jsx(CD,{className:"h-4 w-4"})})}),i.jsx(vC,{side:"right",className:"w-64",children:i.jsxs("div",{className:"flex flex-col space-y-4 mt-8",children:[i.jsxs("div",{className:"flex items-center space-x-2 pb-4 border-b",children:[i.jsx(cc,{className:"h-6 w-6 text-primary"}),i.jsxs("div",{children:[i.jsx("h2",{className:"font-semibold",children:"Gladiator League"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Fantasy Football"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Navigation"}),i.jsx(x,{isMobile:!0})]}),i.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium mb-2",children:"Season"}),i.jsxs(At,{value:s.toString(),onValueChange:v=>o(parseInt(v)),children:[i.jsx(Ct,{children:i.jsx(Dt,{})}),i.jsx(Et,{children:u.map(v=>i.jsx($e,{value:v.year.toString(),children:v.year},v.year))})]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium mb-2",children:"Conference"}),i.jsxs(At,{value:r||"all",onValueChange:v=>l(v==="all"?null:v),children:[i.jsx(Ct,{children:i.jsx(Dt,{})}),i.jsxs(Et,{children:[i.jsx($e,{value:"all",children:"All Conferences"}),d.conferences.map(v=>i.jsx($e,{value:v.id,children:v.name},v.id))]})]})]})]})]})})]})]})]}),(r||s!==2025)&&i.jsx("div",{className:"border-t bg-accent/50",children:i.jsx("div",{className:"container py-2",children:i.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Active filters:"}),s!==2025&&i.jsxs(ee,{variant:"secondary",children:[s," Season"]}),r&&i.jsx(ee,{variant:"secondary",children:(j=d.conferences.find(v=>v.id===r))==null?void 0:j.name})]})})})]})},Y=h.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:me("rounded-xl border bg-card text-card-foreground shadow",e),...t}));Y.displayName="Card";const ie=h.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:me("flex flex-col space-y-1.5 p-6",e),...t}));ie.displayName="CardHeader";const ae=h.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:me("font-semibold leading-none tracking-tight",e),...t}));ae.displayName="CardTitle";const be=h.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:me("text-sm text-muted-foreground",e),...t}));be.displayName="CardDescription";const X=h.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:me("p-6 pt-0",e),...t}));X.displayName="CardContent";const c5=h.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:me("flex items-center p-6 pt-0",e),...t}));c5.displayName="CardFooter";const u5=Oo("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),_t=h.forwardRef(({className:e,variant:t,...n},s)=>i.jsx("div",{ref:s,role:"alert",className:me(u5({variant:t}),e),...n}));_t.displayName="Alert";const Xp=h.forwardRef(({className:e,...t},n)=>i.jsx("h5",{ref:n,className:me("mb-1 font-medium leading-none tracking-tight",e),...t}));Xp.displayName="AlertTitle";const St=h.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:me("text-sm [&_p]:leading-relaxed",e),...t}));St.displayName="AlertDescription";class Vd{static async getStandingsData(t,n){try{console.log(`StandingsService: Fetching standings for season ${t}, conference ${n||"all"}`);const s=[{column:"season_id",operator:"eq",value:t}];n&&s.push({column:"conference_id",operator:"eq",value:n});const r=await de.getTeamRecords({filters:s});if(r.error)throw new Error(`Failed to fetch team records: ${r.error}`);const a=r.data||[];if(console.log(`StandingsService: Found ${a.length} team records`),a.length===0)return console.log("StandingsService: No team records found, returning empty array"),[];const o=[...new Set(a.map(y=>y.team_id))],l=[...new Set(a.map(y=>y.conference_id))],[c,u]=await Promise.all([de.getTeams({filters:[{column:"id",operator:"in",value:o}]}),de.getConferences({filters:[{column:"id",operator:"in",value:l}]})]);if(c.error)throw new Error(`Failed to fetch teams: ${c.error}`);if(u.error)throw new Error(`Failed to fetch conferences: ${u.error}`);const d=c.data||[],f=u.data||[],m=new Map;d.forEach(y=>m.set(y.id,y));const x=new Map;f.forEach(y=>x.set(y.id,y));const j=a.map(y=>{const p=m.get(y.team_id),g=x.get(y.conference_id),w=y.wins||0,b=y.losses||0,S=0,T=w+b+S,N=T>0?w/T:0;return{team_id:y.team_id,team_name:(p==null?void 0:p.team_name)||`Team ${y.team_id}`,owner_name:(p==null?void 0:p.owner_name)||"Unknown Owner",conference_name:(g==null?void 0:g.conference_name)||"Unknown Conference",wins:w,losses:b,ties:S,points_for:y.points_for||0,points_against:y.points_against||0,point_diff:y.point_diff||(y.points_for||0)-(y.points_against||0),win_percentage:N,conference_rank:0,overall_rank:0,playoff_eligible:!1,is_conference_champion:!1}});j.sort((y,p)=>p.win_percentage!==y.win_percentage?p.win_percentage-y.win_percentage:p.points_for-y.points_for),j.forEach((y,p)=>{y.overall_rank=p+1});const v=new Map;return j.forEach(y=>{v.has(y.conference_name)||v.set(y.conference_name,[]),v.get(y.conference_name).push(y)}),v.forEach((y,p)=>{y.sort((g,w)=>w.win_percentage!==g.win_percentage?w.win_percentage-g.win_percentage:w.points_for-g.points_for),y.forEach((g,w)=>{g.conference_rank=w+1,g.playoff_eligible=w<2,g.is_conference_champion=w===0})}),console.log(`StandingsService: Returning ${j.length} standings records`),j}catch(s){throw console.error("StandingsService: Error fetching standings data:",s),s}}static async getConferenceStandings(t,n){return this.getStandingsData(t,n)}static async getLeagueStandings(t){return this.getStandingsData(t)}static formatRecord(t,n,s=0){return s>0?`${t}-${n}-${s}`:`${t}-${n}`}static formatPoints(t){return t.toFixed(1)}}const d5=e=>{const{seasonYear:t,conferenceId:n,limit:s,autoRefresh:r=!1,refreshInterval:a=3e4}=e,[o,l]=h.useState([]),[c,u]=h.useState(!0),[d,f]=h.useState(null),m=async()=>{if(!t){u(!1);return}try{u(!0),f(null);let x=await Vd.getStandingsData(t,n);s&&s>0&&(x=x.slice(0,s)),l(x)}catch(x){const j=x instanceof Error?x.message:"An error occurred while fetching standings";f(j),console.error("Error fetching standings:",x)}finally{u(!1)}};return h.useEffect(()=>{t?m():u(!1)},[t,n,s]),h.useEffect(()=>{if(r&&a>0&&t){const x=setInterval(m,a);return()=>clearInterval(x)}},[r,a,t,n,s]),{standings:o,loading:c,error:d,refetch:m}},f5=["QB","RB","RB","WR","WR","WR","TE","FLEX","SUPER_FLEX","K","DEF"];class Ye{static async fetchLeagueRosters(t){try{console.log(`Fetching rosters for league: ${t}`);const n=await fetch(`${this.baseUrl}/league/${t}/rosters`);if(!n.ok)throw new Error(`Failed to fetch rosters: ${n.status} ${n.statusText}`);const s=await n.json();return console.log(`Fetched ${s.length} rosters for league ${t}`),s}catch(n){throw console.error("Error fetching league rosters:",n),n}}static async fetchAllPlayers(){try{console.log("Fetching all NFL players data...");const t=await fetch(`${this.baseUrl}/players/nfl`);if(!t.ok)throw new Error(`Failed to fetch players: ${t.status} ${t.statusText}`);const n=await t.json();return console.log(`Fetched ${Object.keys(n).length} players from Sleeper API`),n}catch(t){throw console.error("Error fetching players:",t),t}}static organizeRoster(t,n){const s=(t.starters||[]).map((a,o)=>{const l=n[a],c=f5[o]||"BENCH";return{playerId:a,position:(l==null?void 0:l.position)||"UNK",slotPosition:c}}),r=(t.players||[]).filter(a=>!(t.starters||[]).includes(a)&&!(t.reserve||[]).includes(a));return{starters:s,bench:r,ir:t.reserve||[]}}static async getTeamRosterData(t,n){try{const[s,r]=await Promise.all([this.fetchLeagueRosters(t),(async()=>{const{DatabaseService:l}=await Wo(async()=>{const{DatabaseService:d}=await Promise.resolve().then(()=>w4);return{DatabaseService:d}},void 0),c=await l.getAllPlayersForMapping([{column:"playing_status",operator:"eq",value:"Active"},{column:"position",operator:"in",value:["QB","RB","WR","TE","K","DEF"]}]),u={};return c.forEach(d=>{var f;if(d.sleeper_id){const m=d.player_name.split(" "),x=m[0]||"",j=m.slice(1).join(" ")||"";u[d.sleeper_id]={player_id:d.sleeper_id,first_name:x,last_name:j,position:d.position||"",team:d.nfl_team||"",jersey_number:d.number||0,status:d.playing_status||"",injury_status:d.injury_status||"",age:d.age||0,height:((f=d.height)==null?void 0:f.toString())||"",weight:d.weight||0,years_exp:0,college:d.college||""}}}),u})()]),a=s.find(l=>l.roster_id===n);if(!a)throw new Error(`Roster with ID ${n} not found in league ${t}`);const o=this.organizeRoster(a,r);return{roster:a,organizedRoster:o,allPlayers:r}}catch(s){throw console.error("Error getting team roster data:",s),s}}static getPlayerName(t){return t&&`${t.first_name||""} ${t.last_name||""}`.trim()||"Unknown Player"}static calculatePointsPerGame(t,n){return n===0?0:t/n}static formatPoints(t,n=0){return t+n/100}static async fetchMatchups(t,n){try{console.log(` Fetching matchups for league: ${t}, week: ${n}`);const s=await fetch(`${this.baseUrl}/league/${t}/matchups/${n}`);if(!s.ok)throw new Error(`Failed to fetch matchups: ${s.status} ${s.statusText}`);const r=await s.json();if(console.log(` Fetched ${r.length} matchups for league ${t}, week ${n}`),r.length>0){const a={totalMatchups:r.length,matchupsWithPoints:r.filter(o=>o.points>0).length,matchupsWithZeroPoints:r.filter(o=>o.points===0).length,matchupsWithNullPoints:r.filter(o=>o.points===null||o.points===void 0).length,pointsRange:{min:Math.min(...r.map(o=>o.points||0)),max:Math.max(...r.map(o=>o.points||0)),average:r.reduce((o,l)=>o+(l.points||0),0)/r.length},playersPointsAvailability:{withPlayersPoints:r.filter(o=>o.players_points&&Object.keys(o.players_points).length>0).length,withStartersPoints:r.filter(o=>o.starters_points&&o.starters_points.length>0).length},sampleMatchup:{rosterId:r[0].roster_id,points:r[0].points,playersPointsKeys:Object.keys(r[0].players_points||{}).length,startersPointsLength:(r[0].starters_points||[]).length,matchupId:r[0].matchup_id}};console.log(` Points analysis for league ${t}, week ${n}:`,a),a.matchupsWithPoints===0&&(console.warn(` No matchups with points > 0 found for league ${t}, week ${n}`),console.warn(" This could indicate: week hasn't started, games in progress, or API delay")),a.playersPointsAvailability.withPlayersPoints===0&&console.warn(` No player-level points data available for league ${t}, week ${n}`)}else console.warn(` No matchup data returned for league ${t}, week ${n}`);return r}catch(s){throw console.error(` Error fetching matchups for league ${t}, week ${n}:`,s),s}}static async fetchLeague(t){try{console.log(`Fetching league info: ${t}`);const n=await fetch(`${this.baseUrl}/league/${t}`);if(!n.ok)throw new Error(`Failed to fetch league: ${n.status} ${n.statusText}`);const s=await n.json();return console.log(`Fetched league info for ${t}`),s}catch(n){throw console.error("Error fetching league:",n),n}}static async fetchLeagueUsers(t){try{console.log(`Fetching users for league: ${t}`);const n=await fetch(`${this.baseUrl}/league/${t}/users`);if(!n.ok)throw new Error(`Failed to fetch users: ${n.status} ${n.statusText}`);const s=await n.json();return console.log(`Fetched ${s.length} users for league ${t}`),s}catch(n){throw console.error("Error fetching league users:",n),n}}static organizeMatchups(t,n,s){const r=new Map;return t.forEach(a=>{r.has(a.matchup_id)||r.set(a.matchup_id,[]),r.get(a.matchup_id).push(a)}),Array.from(r.entries()).filter(([a,o])=>o.length===2).map(([a,o])=>({matchup_id:a,teams:o.map(l=>{const c=n.find(d=>d.roster_id===l.roster_id),u=c?s.find(d=>d.user_id===c.owner_id):null;return{roster_id:l.roster_id,points:l.points,owner:u,roster:c}})}))}static async getCurrentNFLWeek(){try{console.log("Fetching current NFL week from Sleeper API...");const t=await fetch(`${this.baseUrl}/state/nfl`);if(!t.ok)throw new Error(`Failed to fetch NFL state: ${t.status} ${t.statusText}`);const n=await t.json();return console.log("NFL State from Sleeper:",n),console.log(`Current NFL week: ${n.week}`),n.week||1}catch(t){return console.error("Error fetching current NFL week:",t),console.warn("Falling back to default week 1"),1}}static async getNFLState(){try{console.log("Fetching NFL state from Sleeper API...");const t=await fetch(`${this.baseUrl}/state/nfl`);if(!t.ok)throw new Error(`Failed to fetch NFL state: ${t.status} ${t.statusText}`);const n=await t.json();return console.log("NFL State from Sleeper:",n),n}catch(t){throw console.error("Error fetching NFL state:",t),t}}}hr(Ye,"baseUrl","https://api.sleeper.app/v1");const h5=()=>{var V,A;const[e,t]=h.useState(1),[n,s]=h.useState([]),[r,a]=h.useState([]),[o,l]=h.useState(!0),[c,u]=h.useState(!0),[d,f]=h.useState(null),[m,x]=h.useState(null),{selectedSeason:j,selectedConference:v,currentSeasonConfig:y,seasonConfigs:p,loading:g,error:w,refreshSeasonData:b}=zs();y==null||y.year;const{standings:S,loading:T,error:N,refetch:C}=d5({seasonYear:y!=null&&y.seasonId?typeof y.seasonId=="string"?parseInt(y.seasonId):y.seasonId:void 0,conferenceId:v==="all"||v===null||(V=y==null?void 0:y.conferences.find(_=>_.id===v))==null?void 0:V.dbConferenceId,limit:12,autoRefresh:!0,refreshInterval:6e4});h.useEffect(()=>{(async()=>{try{const E=await Ye.getCurrentNFLWeek();t(E===0?1:E)}catch(E){console.error("Error loading current week:",E),t(1)}})()},[]);const R=async(_,E)=>{const P=[];for(const L of _){if(!L.dbConferenceId)continue;const M=await de.getMatchups({filters:[{column:"conference_id",operator:"eq",value:L.dbConferenceId},{column:"week",operator:"eq",value:E}]});if(M.error||!M.data)continue;const H=await de.getTeams({});if(H.error||!H.data)continue;const re=new Map;H.data.forEach(G=>{re.set(G.id,G.team_name)});for(const G of M.data){const z=re.get(G.team1_id)||"Unknown Team",W=re.get(G.team2_id)||"Unknown Team";P.push({matchup_id:G.id,conference:{conference_name:L.name,league_id:L.leagueId},teams:[{team:{team_name:z},points:G.team1_score||0},{team:{team_name:W},points:G.team2_score||0}],status:G.team1_score&&G.team2_score?"completed":"upcoming"})}}return P},D=async()=>{if(!(!y||e===0)){l(!0),f(null);try{const _=v==="all"||v===null?y.conferences:y.conferences.filter(P=>P.id===v),E=await R(_,e);s(E)}catch(_){console.error("Error loading matchups:",_),f(_ instanceof Error?_.message:"Failed to load matchups")}finally{l(!1)}}};h.useEffect(()=>{D()},[e,v,y]);const k=async()=>{if(y){u(!0),x(null);try{const _=v==="all"||v===null?y.conferences:y.conferences.filter(z=>z.id===v),E=_.filter(z=>z.dbConferenceId).map(z=>z.dbConferenceId);if(E.length===0){a([]);return}const P=await de.getTransactions({filters:[{column:"conference_id",operator:"in",value:E}],orderBy:{column:"created_at",ascending:!1},limit:10});if(P.error||!P.data)throw new Error(P.error||"Failed to fetch transactions");const L=await de.getTeams({}),M=await de.getTeamConferenceJunctions({filters:[{column:"conference_id",operator:"in",value:E}]}),H=await de.getAllPlayersForMapping([{column:"playing_status",operator:"eq",value:"Active"},{column:"position",operator:"in",value:["QB","RB","WR","TE"]}]),re=new Map;H.forEach(z=>{z.sleeper_id&&re.set(String(z.sleeper_id),z.player_name)});const G=await Promise.all(P.data.map(async z=>{let W={};try{W=typeof z.data=="string"?JSON.parse(z.data):z.data||{}}catch(oe){console.warn("Failed to parse transaction data:",oe)}const K=_.find(oe=>oe.dbConferenceId===z.conference_id),F=oe=>{var Xe;const _e=(Xe=M.data)==null?void 0:Xe.find(Fe=>Fe.roster_id.toString()===oe.toString()&&Fe.conference_id===z.conference_id);if(_e&&L.data){const Fe=L.data.find(Ir=>Ir.id===_e.team_id);return(Fe==null?void 0:Fe.team_name)||"Unknown Team"}return"Unknown Team"};let ne="Unknown Team";W.roster_ids&&W.roster_ids.length>0&&(ne=F(W.roster_ids[0]));const le=[],ce=[],pe=oe=>{const _e=String(oe);return re.get(_e)||`Player ${_e}`};if(W.adds)for(const[oe,_e]of Object.entries(W.adds)){const Xe=pe(oe),Fe=F(_e),Ir=W.settings&&W.settings.waiver_bid&&W.settings.waiver_bid[oe];le.push({name:Xe,team:Fe,bidAmount:Ir||null})}if(W.drops)for(const[oe,_e]of Object.entries(W.drops)){const Xe=pe(oe),Fe=F(_e);ce.push({name:Xe,team:Fe})}let fe="";const ye=W.type||z.type,Se=new Set;switch(W.roster_ids&&W.roster_ids.forEach(oe=>{const _e=F(oe);_e!=="Unknown Team"&&Se.add(_e)}),ye){case"trade":if(le.length>0||ce.length>0){const oe=[];le.forEach(_e=>oe.push(`${_e.name} to ${_e.team}`)),ce.forEach(_e=>oe.push(`${_e.name} from ${_e.team}`)),Se.size>1?fe=`Trade between ${Array.from(Se).join(" and ")}: ${oe.join(", ")}`:fe=`${ne} trade: ${oe.join(", ")}`}else W.draft_picks&&W.draft_picks.length>0?fe=`Trade involving ${W.draft_picks.map(_e=>`${_e.season} Round ${_e.round} pick`).join(", ")}`:fe=`Trade between ${Array.from(Se).join(" and ")}`;break;case"waiver":le.length>0&&ce.length>0?fe=`${ne} claimed ${le.map(oe=>oe.name).join(", ")} from waivers, dropped ${ce.map(oe=>oe.name).join(", ")}`:le.length>0?fe=`${ne} claimed ${le.map(oe=>oe.name).join(", ")} from waivers`:ce.length>0?fe=`${ne} dropped ${ce.map(oe=>oe.name).join(", ")} to waivers`:fe=`${ne} made a waiver claim`;break;case"free_agent":le.length>0&&ce.length>0?fe=`${ne} added ${le.map(oe=>oe.name).join(", ")}, dropped ${ce.map(oe=>oe.name).join(", ")}`:le.length>0?fe=`${ne} added ${le.map(oe=>oe.name).join(", ")} from free agency`:ce.length>0?fe=`${ne} dropped ${ce.map(oe=>oe.name).join(", ")}`:fe=`${ne} made a free agent transaction`;break;default:fe=`${ne} completed a ${ye||"transaction"}`}const Qe=W.type==="trade"?"trade":W.type==="waiver"?"waiver":W.type==="free_agent"?"free_agent":"commissioner";return{id:z.id.toString(),type:Qe,date:new Date(z.created_at||new Date),details:fe,teams:[ne],players:{added:le.map(oe=>({id:"",name:oe.name,team:oe.team,bidAmount:oe.bidAmount})),dropped:ce.map(oe=>({id:"",name:oe.name,team:oe.team}))},week:W.leg||0,status:"completed",rosterIds:W.roster_ids||[],draftPicks:W.draft_picks||[],waiverBudget:W.waiver_budget||[]}}));a(G)}catch(_){console.error("Error loading transactions:",_),x(_ instanceof Error?_.message:"Failed to load transactions")}finally{u(!1)}}};if(h.useEffect(()=>{k()},[v,y]),g)return i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx(sn,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),i.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Loading Gladiator League"}),i.jsx("p",{className:"text-muted-foreground",children:"Connecting to Supabase database..."})]})});if(w)return i.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:i.jsxs(Y,{className:"w-full max-w-md",children:[i.jsx(ie,{children:i.jsxs(ae,{className:"flex items-center gap-2 text-destructive",children:[i.jsx(Ze,{className:"h-5 w-5"}),"Connection Error"]})}),i.jsxs(X,{className:"space-y-4",children:[i.jsx(_t,{children:i.jsx(St,{children:w})}),i.jsxs(te,{onClick:b,className:"w-full",children:[i.jsx(tt,{className:"h-4 w-4 mr-2"}),"Retry Connection"]})]})]})});if(!p||p.length===0)return i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx(sn,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),i.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Loading Season Configuration"}),i.jsx("p",{className:"text-muted-foreground",children:"Setting up league data..."})]})});if(!y||!y.conferences||y.conferences.length===0)return i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx(sn,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),i.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Loading Conferences"}),i.jsx("p",{className:"text-muted-foreground",children:"Setting up conference data..."})]})});const $=_=>{switch(_){case"live":return i.jsx(ee,{className:"bg-green-500 hover:bg-green-600 text-xs",children:"Live"});case"completed":return i.jsx(ee,{variant:"secondary",className:"text-xs",children:"Final"});case"upcoming":return i.jsx(ee,{variant:"outline",className:"text-xs",children:"Upcoming"});default:return i.jsx(ee,{variant:"secondary",className:"text-xs",children:_})}},I=_=>{switch(_){case"trade":return"";case"waiver":return"";case"free_agent":return"";case"commissioner":return"";default:return""}},B=()=>T?i.jsxs("div",{className:"flex items-center justify-center p-8",children:[i.jsx(sn,{className:"h-6 w-6 animate-spin text-primary"}),i.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:"Loading standings..."})]}):N?i.jsxs("div",{className:"text-center p-8",children:[i.jsxs("p",{className:"text-sm text-red-600 mb-4",children:["Error loading standings: ",N]}),i.jsx(te,{variant:"outline",size:"sm",onClick:C,children:"Try Again"})]}):!S||S.length===0?i.jsx("div",{className:"text-center p-8",children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"No standings data available"})}):i.jsx("div",{className:"space-y-3",children:S.map(_=>i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-accent/50",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsxs("div",{className:"flex items-center space-x-1",children:[_.overall_rank===1&&i.jsx(iN,{className:"h-4 w-4 text-yellow-500"}),i.jsxs("span",{className:"font-semibold w-6",children:["#",_.overall_rank]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:_.team_name}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[_.owner_name,"  ",_.conference_name]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"font-semibold",children:Vd.formatRecord(_.wins,_.losses,_.ties)}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[Vd.formatPoints(_.points_for)," pts"]})]})]},_.team_id))}),Q=()=>o?i.jsxs("div",{className:"flex items-center justify-center p-8",children:[i.jsx(sn,{className:"h-6 w-6 animate-spin text-primary"}),i.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:"Loading matchups..."})]}):d?i.jsxs("div",{className:"text-center p-8",children:[i.jsxs("p",{className:"text-sm text-red-600 mb-4",children:["Error loading matchups: ",d]}),i.jsx(te,{variant:"outline",size:"sm",onClick:D,children:"Try Again"})]}):!n||n.length===0?i.jsx("div",{className:"text-center p-8",children:i.jsxs("p",{className:"text-sm text-muted-foreground",children:["No matchups found for week ",e]})}):i.jsx("div",{className:"space-y-2",children:n.map(_=>{var E,P,L,M,H,re;return i.jsxs("div",{className:"p-2 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx(ee,{variant:"outline",className:"text-xs",children:_.conference.conference_name}),$(_.status)]}),i.jsxs("div",{className:"grid grid-cols-3 gap-2 items-center text-sm",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"font-medium truncate text-xs",children:((P=(E=_.teams[0])==null?void 0:E.team)==null?void 0:P.team_name)||"Team 1"}),i.jsx("p",{className:"text-sm font-bold",children:_.status==="upcoming"?"--":(L=_.teams[0])==null?void 0:L.points.toFixed(1)})]}),i.jsx("div",{className:"text-center text-muted-foreground font-semibold text-xs",children:"VS"}),i.jsxs("div",{className:"text-left",children:[i.jsx("p",{className:"font-medium truncate text-xs",children:((H=(M=_.teams[1])==null?void 0:M.team)==null?void 0:H.team_name)||"Team 2"}),i.jsx("p",{className:"text-sm font-bold",children:_.status==="upcoming"?"--":(re=_.teams[1])==null?void 0:re.points.toFixed(1)})]})]})]},_.matchup_id)})}),O=()=>c?i.jsxs("div",{className:"flex items-center justify-center p-8",children:[i.jsx(sn,{className:"h-6 w-6 animate-spin text-primary"}),i.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:"Loading transactions..."})]}):m?i.jsxs("div",{className:"text-center p-8",children:[i.jsxs("p",{className:"text-sm text-red-600 mb-4",children:["Error loading transactions: ",m]}),i.jsx(te,{variant:"outline",size:"sm",onClick:k,children:"Try Again"})]}):!r||r.length===0?i.jsx("div",{className:"text-center p-8",children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"No recent transactions found"})}):i.jsx("div",{className:"space-y-3",children:r.map(_=>i.jsxs("div",{className:"p-3 rounded-lg border bg-card hover:bg-accent/50 transition-colors",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"text-base",children:I(_.type)}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ee,{variant:"outline",className:"text-xs",children:_.type.replace("_"," ").toUpperCase()}),i.jsxs("span",{className:"text-xs text-muted-foreground",children:["Week ",_.week]})]})]}),i.jsx("span",{className:"text-xs text-muted-foreground",children:_.date.toLocaleDateString()})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"flex items-center space-x-2",children:i.jsx("span",{className:"text-sm font-medium",children:_.teams[0]})}),(_.players.added.length>0||_.players.dropped.length>0)&&i.jsxs("div",{className:"space-y-2",children:[_.players.added.length>0&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[i.jsxs(ee,{variant:"secondary",className:"text-xs bg-green-100 text-green-800",children:["+",_.players.added.length]}),i.jsx("span",{className:"text-xs font-medium text-green-700",children:"Added"})]}),i.jsx("div",{className:"ml-1 space-y-1",children:_.players.added.map((E,P)=>i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"font-medium",children:E.name}),i.jsxs("div",{className:"flex items-center space-x-1",children:[E.bidAmount&&i.jsxs(ee,{variant:"secondary",className:"text-xs bg-blue-100 text-blue-800",children:["$",E.bidAmount]}),i.jsx(ee,{variant:"outline",className:"text-xs",children:E.team})]})]},P))})]}),_.players.dropped.length>0&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[i.jsxs(ee,{variant:"secondary",className:"text-xs bg-red-100 text-red-800",children:["-",_.players.dropped.length]}),i.jsx("span",{className:"text-xs font-medium text-red-700",children:"Dropped"})]}),i.jsx("div",{className:"ml-1 space-y-1",children:_.players.dropped.map((E,P)=>i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"font-medium",children:E.name}),i.jsx(ee,{variant:"outline",className:"text-xs",children:E.team})]},P))})]})]})]})]},_.id))});return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"relative overflow-hidden rounded-lg bg-gradient-to-br from-primary/10 via-primary/5 to-background border",children:[i.jsx("div",{className:"absolute inset-0 bg-grid-white/10 [mask-image:linear-gradient(0deg,white,rgba(255,255,255,0.6))]"}),i.jsx("div",{className:"relative px-6 py-12 sm:px-12",children:i.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("img",{src:"/gladiator-logo.png",alt:"Gladiator League Logo",className:"h-12 w-12"}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"Gladiator League"}),i.jsx("p",{className:"text-lg text-muted-foreground",children:"Fantasy Football Championship"})]})]}),i.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl",children:"Welcome to the ultimate fantasy football experience. Track your teams across three competitive conferences in real-time."}),i.jsxs("div",{className:"flex items-center space-x-2 mt-4",children:[i.jsxs(ee,{variant:"outline",children:[j," Season"]}),i.jsxs(ee,{variant:"outline",children:["Week ",e]}),v!=="all"&&y&&i.jsx(ee,{variant:"secondary",children:(A=y.conferences.find(_=>_.id===v))==null?void 0:A.name})]})]})})]}),i.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[i.jsxs("div",{className:"lg:w-2/3 flex flex-col gap-6",children:[i.jsxs(Y,{children:[i.jsxs(ie,{children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(uc,{className:"h-5 w-5 text-primary"}),i.jsxs(ae,{children:["Week ",e]})]}),i.jsx(Pt,{to:"/matchups",children:i.jsx(te,{variant:"ghost",size:"sm",children:i.jsx(Uh,{className:"h-4 w-4"})})})]}),i.jsx(be,{children:"Current matchups"})]}),i.jsx(X,{children:Q()})]}),i.jsxs(Y,{children:[i.jsxs(ie,{children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(To,{className:"h-5 w-5 text-primary"}),i.jsx(ae,{children:"Recent Transactions"})]}),i.jsx(Pt,{to:"/transactions",children:i.jsxs(te,{variant:"ghost",size:"sm",children:["View All ",i.jsx(Uh,{className:"ml-1 h-4 w-4"})]})})]}),i.jsx(be,{children:"Latest roster moves across all conferences"})]}),i.jsx(X,{children:O()})]})]}),i.jsxs("div",{className:"lg:w-1/3 flex flex-col gap-6",children:[i.jsxs(Y,{children:[i.jsxs(ie,{children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Kt,{className:"h-5 w-5 text-primary"}),i.jsx(ae,{children:"League Standings"})]}),i.jsx(Pt,{to:"/standings",children:i.jsxs(te,{variant:"ghost",size:"sm",children:["View All ",i.jsx(Uh,{className:"ml-1 h-4 w-4"})]})})]}),i.jsx(be,{children:"Top 12 teams across all conferences"})]}),i.jsx(X,{children:B()})]}),i.jsxs(Y,{children:[i.jsxs(ie,{children:[i.jsxs(ae,{className:"flex items-center space-x-2",children:[i.jsx(Yt,{className:"h-5 w-5 text-primary"}),i.jsx("span",{children:"Quick Actions"})]}),i.jsx(be,{children:"Navigate to key sections of the league"})]}),i.jsx(X,{children:i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsx(Pt,{to:"/standings",children:i.jsxs(te,{variant:"outline",className:"w-full h-16 flex flex-col space-y-1",children:[i.jsx(Kt,{className:"h-5 w-5"}),i.jsx("span",{className:"text-xs",children:"Standings"})]})}),i.jsx(Pt,{to:"/matchups",children:i.jsxs(te,{variant:"outline",className:"w-full h-16 flex flex-col space-y-1",children:[i.jsx(uc,{className:"h-5 w-5"}),i.jsx("span",{className:"text-xs",children:"Matchups"})]})}),i.jsx(Pt,{to:"/teams",children:i.jsxs(te,{variant:"outline",className:"w-full h-16 flex flex-col space-y-1",children:[i.jsx(Yt,{className:"h-5 w-5"}),i.jsx("span",{className:"text-xs",children:"Teams"})]})}),i.jsx(Pt,{to:"/players",children:i.jsxs(te,{variant:"outline",className:"w-full h-16 flex flex-col space-y-1",children:[i.jsx(To,{className:"h-5 w-5"}),i.jsx("span",{className:"text-xs",children:"Players"})]})}),i.jsx(Pt,{to:"/draft",children:i.jsxs(te,{variant:"outline",className:"w-full h-16 flex flex-col space-y-1",children:[i.jsx(cc,{className:"h-5 w-5"}),i.jsx("span",{className:"text-xs",children:"Draft Results"})]})}),i.jsx(Pt,{to:"/rules",children:i.jsxs(te,{variant:"outline",className:"w-full h-16 flex flex-col space-y-1",children:[i.jsx(Yn,{className:"h-5 w-5"}),i.jsx("span",{className:"text-xs",children:"League Rules"})]})})]})})]})]})]}),i.jsxs(Y,{children:[i.jsxs(ie,{children:[i.jsx(ae,{children:"League Information"}),i.jsx(be,{children:"Current season details and conference structure"})]}),i.jsx(X,{children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:y==null?void 0:y.conferences.map(_=>i.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[i.jsx("h4",{className:"font-semibold mb-2",children:_.name}),i.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"12 teams  14-week season"}),i.jsx(ee,{variant:"outline",className:"text-xs",children:_.status})]},_.id))})})]})]})},pn=h.forwardRef(({className:e,...t},n)=>i.jsx("div",{className:"relative w-full overflow-auto",children:i.jsx("table",{ref:n,className:me("w-full caption-bottom text-sm",e),...t})}));pn.displayName="Table";const gn=h.forwardRef(({className:e,...t},n)=>i.jsx("thead",{ref:n,className:me("[&_tr]:border-b",e),...t}));gn.displayName="TableHeader";const xn=h.forwardRef(({className:e,...t},n)=>i.jsx("tbody",{ref:n,className:me("[&_tr:last-child]:border-0",e),...t}));xn.displayName="TableBody";const m5=h.forwardRef(({className:e,...t},n)=>i.jsx("tfoot",{ref:n,className:me("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));m5.displayName="TableFooter";const Pe=h.forwardRef(({className:e,...t},n)=>i.jsx("tr",{ref:n,className:me("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Pe.displayName="TableRow";const se=h.forwardRef(({className:e,...t},n)=>i.jsx("th",{ref:n,className:me("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));se.displayName="TableHead";const Z=h.forwardRef(({className:e,...t},n)=>i.jsx("td",{ref:n,className:me("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));Z.displayName="TableCell";const p5=h.forwardRef(({className:e,...t},n)=>i.jsx("caption",{ref:n,className:me("mt-4 text-sm text-muted-foreground",e),...t}));p5.displayName="TableCaption";const g5=()=>{var S,T;const{selectedSeason:e,selectedConference:t,currentSeasonConfig:n,loading:s}=zs(),[r,a]=h.useState(null),[o,l]=h.useState([]),[c,u]=h.useState(!0),[d,f]=h.useState(null),[m,x]=h.useState(!1),{toast:j}=An(),v=async()=>{try{u(!0),f(null),console.log(`Fetching standings data for season ${e} and conference ${t||"all"}...`);const N=n;if(!N)throw new Error(`No season configuration found for year ${e}`);const C=N.seasonId,R=typeof C=="string"?parseInt(C):C;console.log(`Using season ID ${R} for year ${e}`);let D;if(t){const $=N.conferences.find(I=>I.id===t);if($){const I=await de.getConferences({filters:[{column:"season_id",operator:"eq",value:R},{column:"conference_name",operator:"eq",value:$.name}]});if(I.error)throw new Error(`Conferences fetch error: ${I.error}`);const B=I.data||[];B.length>0&&(D=typeof B[0].id=="string"?parseInt(B[0].id):B[0].id)}}const k=await Vd.getStandingsData(R,D);console.log("Standings data from service:",k),l(k)}catch(N){console.error("Error fetching standings:",N),f(N instanceof Error?N.message:"Failed to fetch standings data"),j({title:"Error",description:"Failed to fetch standings data. Please try again.",variant:"destructive"})}finally{u(!1)}},y=async()=>{try{x(!0);const N=n;if(!N)throw new Error(`No season configuration found for year ${e}`);const C=N.seasonId,R=typeof C=="string"?parseInt(C):C;let D;if(t){const k=N.conferences.find($=>$.id===t);if(k){const $=await de.getConferences({filters:[{column:"season_id",operator:"eq",value:R},{column:"conference_name",operator:"eq",value:k.name}]});if($.error)throw new Error(`Conferences fetch error: ${$.error}`);const I=$.data||[];I.length>0&&(D=typeof I[0].id=="string"?parseInt(I[0].id):I[0].id)}}console.log("Team records refresh triggered for season:",R,"conference:",D),await v(),j({title:"Success",description:"Standings refreshed successfully"})}catch(N){console.error("Error refreshing standings:",N),j({title:"Error",description:"Failed to refresh standings data",variant:"destructive"})}finally{x(!1)}};h.useEffect(()=>{!s&&n&&v()},[e,t,s,n]);const p=N=>{let C="desc";r&&r.key===N&&r.direction==="desc"&&(C="asc"),a({key:N,direction:C})},g=De.useMemo(()=>{let N=[...o];return r!==null?N.sort((C,R)=>{const D=C[r.key],k=R[r.key];return D<k?r.direction==="asc"?-1:1:D>k?r.direction==="asc"?1:-1:0}):N.sort((C,R)=>C.wins!==R.wins?R.wins-C.wins:R.points_for-C.points_for),N},[o,r]),w=(N,C)=>{const R=N+C;if(R===0)return"outline";const D=N/R;return D>=.7?"default":D>=.5?"secondary":"destructive"},b=(N,C)=>C?i.jsxs(ee,{variant:"default",className:"bg-yellow-500 text-white",children:[i.jsx(Kt,{className:"w-3 h-3 mr-1"}),"Champion"]}):N?i.jsx(ee,{variant:"default",className:"bg-green-500",children:"Playoff"}):null;return s||c?i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(sn,{className:"h-6 w-6 animate-spin"}),i.jsxs("span",{children:["Loading ",s?"season data":"standings","..."]})]})}):d?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col space-y-2",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Kt,{className:"h-6 w-6 text-primary"}),i.jsx("h1",{className:"text-3xl font-bold",children:"League Standings"})]}),i.jsxs("p",{className:"text-muted-foreground",children:[e," Season  ",t?(S=n.conferences.find(N=>N.id===t))==null?void 0:S.name:"All Conferences"]})]}),i.jsxs(Y,{children:[i.jsxs(ie,{children:[i.jsx(ae,{children:"Error Loading Standings"}),i.jsx(be,{children:"Unable to fetch standings data"})]}),i.jsx(X,{children:i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("p",{className:"text-muted-foreground",children:d}),i.jsx(te,{onClick:v,children:"Try Again"})]})})]})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Kt,{className:"h-6 w-6 text-primary"}),i.jsx("h1",{className:"text-3xl font-bold",children:"League Standings"})]}),i.jsxs(te,{variant:"outline",onClick:y,disabled:m,className:"flex items-center gap-2",children:[i.jsx(tt,{className:`h-4 w-4 ${m?"animate-spin":""}`}),m?"Refreshing...":"Refresh"]})]}),i.jsxs("p",{className:"text-muted-foreground",children:[e," Season  ",t?(T=n.conferences.find(N=>N.id===t))==null?void 0:T.name:"All Conferences"]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsx(Y,{children:i.jsxs(ie,{className:"pb-2",children:[i.jsx(be,{children:"Total Teams"}),i.jsx(ae,{className:"text-2xl",children:o.length})]})}),i.jsx(Y,{children:i.jsxs(ie,{className:"pb-2",children:[i.jsx(be,{children:"Highest Scoring Team"}),i.jsx(ae,{className:"text-xl",children:o.length>0&&o.reduce((N,C)=>N.points_for>C.points_for?N:C).team_name})]})}),i.jsx(Y,{children:i.jsxs(ie,{className:"pb-2",children:[i.jsx(be,{children:"Playoff Teams"}),i.jsx(ae,{className:"text-2xl",children:o.filter(N=>N.playoff_eligible).length})]})})]}),i.jsxs(Y,{children:[i.jsxs(ie,{children:[i.jsx(ae,{children:"Team Standings"}),i.jsxs(be,{children:["Click column headers to sort. Current standings for the ",e," season."]})]}),i.jsx(X,{children:i.jsx("div",{className:"rounded-md border",children:i.jsxs(pn,{children:[i.jsx(gn,{children:i.jsxs(Pe,{children:[i.jsx(se,{className:"w-12",children:i.jsxs(te,{variant:"ghost",size:"sm",onClick:()=>p("overall_rank"),children:["Rank ",i.jsx(Na,{className:"ml-1 h-3 w-3"})]})}),i.jsx(se,{children:i.jsxs(te,{variant:"ghost",size:"sm",onClick:()=>p("team_name"),children:["Team ",i.jsx(Na,{className:"ml-1 h-3 w-3"})]})}),i.jsx(se,{className:"hidden md:table-cell",children:"Owner"}),i.jsx(se,{className:"hidden lg:table-cell",children:"Conference"}),i.jsx(se,{children:i.jsxs(te,{variant:"ghost",size:"sm",onClick:()=>p("wins"),children:["Record ",i.jsx(Na,{className:"ml-1 h-3 w-3"})]})}),i.jsx(se,{className:"text-right",children:i.jsxs(te,{variant:"ghost",size:"sm",onClick:()=>p("points_for"),children:["PF ",i.jsx(Na,{className:"ml-1 h-3 w-3"})]})}),i.jsx(se,{className:"text-right hidden sm:table-cell",children:i.jsxs(te,{variant:"ghost",size:"sm",onClick:()=>p("points_against"),children:["PA ",i.jsx(Na,{className:"ml-1 h-3 w-3"})]})}),i.jsx(se,{className:"text-right hidden md:table-cell",children:i.jsxs(te,{variant:"ghost",size:"sm",onClick:()=>p("win_percentage"),children:["Win% ",i.jsx(Na,{className:"ml-1 h-3 w-3"})]})}),i.jsx(se,{className:"hidden lg:table-cell",children:"Status"})]})}),i.jsx(xn,{children:g.map((N,C)=>i.jsxs(Pe,{className:"hover:bg-muted/50",children:[i.jsx(Z,{className:"font-medium",children:i.jsxs("div",{className:"flex items-center space-x-1",children:[N.overall_rank===1&&i.jsx(Kt,{className:"h-4 w-4 text-yellow-500"}),i.jsx("span",{children:N.overall_rank})]})}),i.jsxs(Z,{children:[i.jsx("div",{className:"font-medium",children:N.team_name}),i.jsx("div",{className:"text-sm text-muted-foreground md:hidden",children:N.owner_name})]}),i.jsx(Z,{className:"hidden md:table-cell",children:N.owner_name}),i.jsx(Z,{className:"hidden lg:table-cell",children:i.jsx(ee,{variant:"outline",className:"text-xs",children:N.conference_name})}),i.jsx(Z,{children:i.jsxs(ee,{variant:w(N.wins,N.losses),children:[N.wins,"-",N.losses,N.ties>0&&`-${N.ties}`]})}),i.jsx(Z,{className:"text-right font-mono",children:N.points_for.toFixed(1)}),i.jsx(Z,{className:"text-right font-mono hidden sm:table-cell",children:N.points_against.toFixed(1)}),i.jsxs(Z,{className:"text-right font-mono hidden md:table-cell",children:[(N.win_percentage*100).toFixed(1),"%"]}),i.jsx(Z,{className:"hidden lg:table-cell",children:i.jsxs("div",{className:"flex items-center space-x-1",children:[b(N.playoff_eligible,N.is_conference_champion),i.jsxs(ee,{variant:"outline",className:"text-xs",children:["C",N.conference_rank]})]})})]},N.team_id))})]})})})]})]})};var Kf="Collapsible",[x5,$7]=ts(Kf),[v5,iv]=x5(Kf),nE=h.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:s,defaultOpen:r,disabled:a,onOpenChange:o,...l}=e,[c,u]=Pr({prop:s,defaultProp:r??!1,onChange:o,caller:Kf});return i.jsx(v5,{scope:n,disabled:a,contentId:Nr(),open:c,onOpenToggle:h.useCallback(()=>u(d=>!d),[u]),children:i.jsx(xe.div,{"data-state":ov(c),"data-disabled":a?"":void 0,...l,ref:t})})});nE.displayName=Kf;var sE="CollapsibleTrigger",rE=h.forwardRef((e,t)=>{const{__scopeCollapsible:n,...s}=e,r=iv(sE,n);return i.jsx(xe.button,{type:"button","aria-controls":r.contentId,"aria-expanded":r.open||!1,"data-state":ov(r.open),"data-disabled":r.disabled?"":void 0,disabled:r.disabled,...s,ref:t,onClick:ge(e.onClick,r.onOpenToggle)})});rE.displayName=sE;var av="CollapsibleContent",iE=h.forwardRef((e,t)=>{const{forceMount:n,...s}=e,r=iv(av,e.__scopeCollapsible);return i.jsx(dr,{present:n||r.open,children:({present:a})=>i.jsx(y5,{...s,ref:t,present:a})})});iE.displayName=av;var y5=h.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:s,children:r,...a}=e,o=iv(av,n),[l,c]=h.useState(s),u=h.useRef(null),d=Ve(t,u),f=h.useRef(0),m=f.current,x=h.useRef(0),j=x.current,v=o.open||l,y=h.useRef(v),p=h.useRef(void 0);return h.useEffect(()=>{const g=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(g)},[]),Tt(()=>{const g=u.current;if(g){p.current=p.current||{transitionDuration:g.style.transitionDuration,animationName:g.style.animationName},g.style.transitionDuration="0s",g.style.animationName="none";const w=g.getBoundingClientRect();f.current=w.height,x.current=w.width,y.current||(g.style.transitionDuration=p.current.transitionDuration,g.style.animationName=p.current.animationName),c(s)}},[o.open,s]),i.jsx(xe.div,{"data-state":ov(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!v,...a,ref:d,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":j?`${j}px`:void 0,...e.style},children:v&&r})});function ov(e){return e?"open":"closed"}var w5=nE;const j5=w5,b5=rE,_5=iE;class S5{static async getHybridMatchups(t,n,s){try{console.log(" Getting hybrid matchups:",{seasonId:t,week:n,conferenceId:s});let r=[],a=[];if(n>=13){console.log(` Week ${n} is playoffs - using playoff_brackets table`),a=await this.getPlayoffBrackets(t,n,s);const d=await this.getConferences(t);r=this.convertPlayoffBracketsToMatchups(a,d)}else console.log(` Week ${n} is regular season - using matchups table`),r=await this.getDatabaseMatchups(t,n,s);if(console.log(` Found ${r.length} database matchups`),r.length===0)return console.warn("No database matchups found for the specified criteria"),[];const o=await this.getConferences(t),l=await this.getTeams(),c=await this.getTeamConferenceJunctions();console.log(` Loaded ${o.length} conferences, ${l.length} teams`);const u=[];for(const d of r)try{console.log(` Processing matchup: Team ${d.team1_id} vs Team ${d.team2_id}`);const f=o.find(k=>k.id===d.conference_id);if(!f){console.warn(`Conference ${d.conference_id} not found for matchup ${d.id}`);continue}const m=l.find(k=>k.id===d.team1_id),x=d.team2_id?l.find(k=>k.id===d.team2_id):null;if(!m){console.warn(`Team1 not found: team1_id=${d.team1_id}`);continue}if(!d.is_bye&&!x){console.warn(`Team2 not found for non-bye matchup: team2_id=${d.team2_id}`);continue}if(d.is_bye||!x){console.log(` Processing bye week for team ${m.id}`);let k=c.find(_=>_.team_id===m.id&&_.conference_id===f.id);if(k||(k=c.find(_=>_.team_id===m.id)),!k){console.warn(`Roster mapping not found for bye team ${m.id}`);continue}const $=o.find(_=>_.id===k.conference_id);if(!$){console.warn(`Conference not found for bye team ${m.id}`);continue}const I=await Ye.fetchMatchups($.league_id,parseInt(d.week)),B=await Ye.fetchLeagueRosters($.league_id),Q=await Ye.fetchLeagueUsers($.league_id),O=I.find(_=>_.roster_id===k.roster_id);if(!O){console.warn(`Sleeper matchup not found for bye team roster ID ${k.roster_id}`);continue}const V=await this.buildByeMatchupTeam(m,O,B,Q,k.roster_id),A={matchup_id:O.matchup_id||0,conference:f,teams:V,status:"completed",rawData:{dbMatchup:d,team1SleeperMatchup:O,team2SleeperMatchup:null,isOverride:d.manual_override||!1,isBye:!0,playoffBracket:n>=13?a.find(_=>_.id===d.id):void 0}};u.push(A),console.log(` Successfully processed bye matchup ${d.id}`);continue}let j=c.find(k=>k.team_id===m.id&&k.conference_id===f.id),v=c.find(k=>k.team_id===x.id&&k.conference_id===f.id);if(j||(console.log(` Team ${m.id} not in conference ${f.id}, searching home conference`),j=c.find(k=>k.team_id===m.id),j&&console.log(` Found team ${m.id} in conference ${j.conference_id}`)),v||(console.log(` Team ${x.id} not in conference ${f.id}, searching home conference`),v=c.find(k=>k.team_id===x.id),v&&console.log(` Found team ${x.id} in conference ${v.conference_id}`)),!j||!v){console.warn(`Roster mappings not found for teams ${m.id}, ${x.id} (searched all conferences)`);continue}const y=d.is_playoff||parseInt(d.week)>=13,p=y||j.conference_id!==v.conference_id;let g,w,b,S,T,N;if(p){console.log(y?` Processing playoff matchup (treated as interconference): Team ${m.id} (conf ${j.conference_id}) vs Team ${x.id} (conf ${v.conference_id})`:` Processing interconference matchup: Team ${m.id} (conf ${j.conference_id}) vs Team ${x.id} (conf ${v.conference_id})`);const k=o.find(_=>_.id===j.conference_id),$=o.find(_=>_.id===v.conference_id);if(!k||!$){console.warn("Conference details not found for interconference matchup");continue}const[I,B]=await Promise.all([Ye.fetchMatchups(k.league_id,parseInt(d.week)),Ye.fetchMatchups($.league_id,parseInt(d.week))]),[Q,O]=await Promise.all([Ye.fetchLeagueRosters(k.league_id),Ye.fetchLeagueRosters($.league_id)]),[V,A]=await Promise.all([Ye.fetchLeagueUsers(k.league_id),Ye.fetchLeagueUsers($.league_id)]);g=I.find(_=>_.roster_id===j.roster_id),w=B.find(_=>_.roster_id===v.roster_id),b=Q,S=O,T=V,N=A}else{console.log(` Processing same-conference regular season matchup: Team ${m.id} vs Team ${x.id} (conf ${j.conference_id})`);const k=await Ye.fetchMatchups(f.league_id,parseInt(d.week)),$=await Ye.fetchLeagueRosters(f.league_id),I=await Ye.fetchLeagueUsers(f.league_id);g=k.find(B=>B.roster_id===j.roster_id),w=k.find(B=>B.roster_id===v.roster_id),b=$,S=$,T=I,N=I}if(!g||!w){console.warn(`Sleeper matchups not found for roster IDs ${j.roster_id}, ${v.roster_id}`);continue}if(!p&&!y&&g.matchup_id!==w.matchup_id){console.warn(`Teams are not matched against each other in Sleeper: ${g.matchup_id} vs ${w.matchup_id}`);continue}const C=await this.buildMatchupTeamsFromDatabaseInterconference(m,x,g,w,b,S,T,N,j.roster_id,v.roster_id),R=this.determineMatchupStatusFromSleeper(g,w),D={matchup_id:g.matchup_id||0,conference:f,teams:C,status:R,rawData:{dbMatchup:d,team1SleeperMatchup:g,team2SleeperMatchup:w,isOverride:d.manual_override||!1,playoffBracket:n>=13?a.find(k=>k.id===d.id):void 0}};u.push(D),console.log(` Successfully processed matchup ${d.id}`)}catch(f){console.error(`Error processing matchup ${d.id}:`,f)}return console.log(` Processed ${u.length} hybrid matchups from ${r.length} database records`),u}catch(r){return console.error("Error in getHybridMatchups:",r),[]}}static async getConferences(t){try{return(await de.getConferences({filters:[{column:"season_id",operator:"eq",value:t}],limit:50})).data||[]}catch(n){return console.error("Error in getConferences:",n),[]}}static async getTeams(){try{return(await de.getTeams({limit:500})).data||[]}catch(t){return console.error("Error in getTeams:",t),[]}}static async getTeamConferenceJunctions(){try{return(await de.getTeamConferenceJunctions({limit:1e3})).data||[]}catch(t){return console.error("Error in getTeamConferenceJunctions:",t),[]}}static async getPlayoffBrackets(t,n,s){try{console.log(` Getting playoff brackets for season ${t}, week ${n}, conference: ${s||"all"}`);const r=[{column:"season_id",operator:"eq",value:t},{column:"week",operator:"eq",value:n}];let o=(await de.getPlayoffBrackets({filters:r,limit:100})).data||[];if(s&&o.length>0){const c=(await this.getTeamConferenceJunctions()).filter(u=>u.conference_id===s).map(u=>u.team_id);o=o.filter(u=>c.includes(u.team1_id)||c.includes(u.team2_id))}return console.log(` Found ${o.length} playoff brackets`),o}catch(r){return console.error("Error in getPlayoffBrackets:",r),[]}}static convertPlayoffBracketsToMatchups(t,n){return t.map(s=>{const r=n[0];return{id:s.id,conference_id:(r==null?void 0:r.id)||1,week:s.week.toString(),team1_id:s.team1_id,team2_id:s.team2_id,is_playoff:!0,manual_override:!1,matchup_status:s.winner_team_id?"completed":"upcoming",notes:s.playoff_round_name||null,matchup_type:"playoff",team1_score:s.team1_score||null,team2_score:s.team2_score||null,winning_team_id:s.winner_team_id||null,is_bye:s.is_bye||!1}})}static async getDatabaseMatchups(t,n,s){var r,a;try{if(s){console.log(` Filtering matchups for specific conference: ${s}`);const d=[{column:"week",operator:"eq",value:n.toString()},{column:"conference_id",operator:"eq",value:s}],f=await de.getMatchups({filters:d,limit:100});return console.log(` Found ${((r=f.data)==null?void 0:r.length)||0} matchups for conference ${s}`),f.data||[]}const l=(await this.getConferences(t)).map(d=>d.id);if(l.length===0)return console.warn("No conferences found for season:",t),[];const c=[{column:"week",operator:"eq",value:n.toString()},{column:"conference_id",operator:"in",value:l}],u=await de.getMatchups({filters:c,limit:100});return console.log(` Found ${((a=u.data)==null?void 0:a.length)||0} matchups for season ${t}, week ${n}`),u.data||[]}catch(o){return console.error("Error in getDatabaseMatchups:",o),[]}}static async getMatchupOverrides(t,n,s){var r;try{console.log("Fetching matchup overrides:",{seasonId:t,week:n,conferenceId:s});const a=[{column:"season_id",operator:"eq",value:t},{column:"week",operator:"eq",value:n},{column:"is_active",operator:"eq",value:!0}];s&&a.push({column:"conference_id",operator:"eq",value:s});const o=await de.getMatchupAdminOverrides({filters:a,limit:100});return console.log("Matchup overrides found:",((r=o.data)==null?void 0:r.length)||0),o.data||[]}catch(a){return console.error("Error in getMatchupOverrides:",a),[]}}static async getOrganizedMatchups(t,n,s){try{console.log("Getting organized matchups:",{seasonId:t,week:n,conferenceId:s});let r=[];if(n>=13){console.log(` Week ${n} is playoffs - using playoff_brackets table`);const c=await this.getPlayoffBrackets(t,n,s),u=await this.getConferences(t);r=this.convertPlayoffBracketsToMatchups(c,u)}else console.log(` Week ${n} is regular season - using matchups table`),r=await this.getDatabaseMatchups(t,n,s);const a=await this.getConferences(t),o=await this.getTeams(),l=await this.getMatchupOverrides(t,n,s);return console.log("Found data:",{matchups:r.length,conferences:a.length,teams:o.length,overrides:l.length}),this.getHybridMatchups(t,n,s)}catch(r){return console.error("Error in getOrganizedMatchups:",r),[]}}static async buildMatchupTeamsSimple(t,n,s,r,a){try{const o=[],l=n.find(f=>f.roster_id===t.roster_id);if(!l)return console.warn(`No roster found for roster_id: ${t.roster_id}`),[];const c=s.find(f=>f.user_id===l.owner_id),u=r.find(f=>f.owner_id===l.owner_id),d={roster_id:t.roster_id,points:t.points||0,projected_points:t.projected_points||0,owner:c||null,roster:l||null,team:u||null,players_points:t.players_points||{},starters_points:t.starters_points||[],matchup_starters:t.starters||[]};return o.push(d),o}catch(o){return console.error("Error building simple matchup teams:",o),[]}}static determineMatchupStatusSimple(t){return t.points&&t.points>0?"completed":"upcoming"}static async buildMatchupTeamsFromDatabase(t,n,s,r,a,o,l,c){try{const u=[],d=a.find(y=>y.roster_id===l),f=o.find(y=>y.user_id===(d==null?void 0:d.owner_id)),m={roster_id:l,points:s.points||0,projected_points:s.projected_points||0,owner:f||null,roster:d||null,team:t,players_points:s.players_points||{},starters_points:s.starters_points||[],matchup_starters:s.starters||[]},x=a.find(y=>y.roster_id===c),j=o.find(y=>y.user_id===(x==null?void 0:x.owner_id)),v={roster_id:c,points:r.points||0,projected_points:r.projected_points||0,owner:j||null,roster:x||null,team:n,players_points:r.players_points||{},starters_points:r.starters_points||[],matchup_starters:r.starters||[]};return u.push(m,v),u}catch(u){return console.error("Error building matchup teams from database:",u),[]}}static async buildMatchupTeamsFromDatabaseInterconference(t,n,s,r,a,o,l,c,u,d){try{const f=[],m=a.find(g=>g.roster_id===u),x=l.find(g=>g.user_id===(m==null?void 0:m.owner_id)),j={roster_id:u,points:s.points||0,projected_points:s.projected_points||0,owner:x||null,roster:m||null,team:t,players_points:s.players_points||{},starters_points:s.starters_points||[],matchup_starters:s.starters||[]},v=o.find(g=>g.roster_id===d),y=c.find(g=>g.user_id===(v==null?void 0:v.owner_id)),p={roster_id:d,points:r.points||0,projected_points:r.projected_points||0,owner:y||null,roster:v||null,team:n,players_points:r.players_points||{},starters_points:r.starters_points||[],matchup_starters:r.starters||[]};return f.push(j,p),f}catch(f){return console.error("Error building interconference matchup teams from database:",f),[]}}static async buildByeMatchupTeam(t,n,s,r,a){try{const o=s.find(u=>u.roster_id===a),l=r.find(u=>u.user_id===(o==null?void 0:o.owner_id));return[{roster_id:a,points:n.points||0,projected_points:n.projected_points||0,owner:l||null,roster:o||null,team:t,players_points:n.players_points||{},starters_points:n.starters_points||[],matchup_starters:n.starters||[]}]}catch(o){return console.error("Error building bye matchup team:",o),[]}}static determineMatchupStatusFromSleeper(t,n){const s=t.points&&t.points>0,r=n&&n.points&&n.points>0;return s&&r?"completed":s||r?"live":"upcoming"}}const S0=()=>["QB","RB","RB","WR","WR","WR","TE","FLEX","SUPER_FLEX"],N0=e=>({QB:"QB",RB:"RB",WR:"WR",TE:"TE",FLEX:"W/R/T",SUPER_FLEX:"Q/W/R/T",K:"K",DEF:"DEF"})[e]||e,Pu=(e,t)=>{const n=t[e];return n?{name:`${n.first_name||""} ${n.last_name||""}`.trim()||"Unknown",position:n.position||"N/A",team:n.team||"N/A"}:{name:"Unknown Player",position:"N/A",team:"N/A"}},N5=()=>{var D;console.log(" MatchupsPage component mounting...");const{selectedSeason:e,selectedConference:t,currentSeasonConfig:n,seasonConfigs:s}=zs(),{toast:r}=An(),[a,o]=h.useState(1),[l,c]=h.useState(1),[u,d]=h.useState(new Set),[f,m]=h.useState([]),[x,j]=h.useState({}),[v,y]=h.useState(!0),[p,g]=h.useState(!1),[w,b]=h.useState([]),S=async()=>{if(!e||!n||p){console.log(" Skipping matchup fetch - missing data or already refreshing"),y(!1);return}g(!0),b([]);try{console.log(` Fetching matchups for season ${e}, week ${a}, conference: ${t||"all"}`);const k=s.find(Q=>Q.year===e);if(!k)throw new Error(`Season ${e} not found`);const $=typeof k.seasonId=="string"?parseInt(k.seasonId):k.seasonId||e;let I;if(t){const Q=k.conferences.find(O=>O.id===t);I=Q==null?void 0:Q.dbConferenceId,console.log(` Conference filter: ${t} -> DB conferenceId: ${I}`)}const B=await S5.getHybridMatchups($,a,I);if(console.log(` Loaded ${B.length} matchups`),console.log("Conference filter applied:",{selectedConference:t,conferenceId:I,matchupConferences:B.map(Q=>Q.conference.conference_name)}),m(B),Object.keys(x).length===0)try{const Q=await de.getAllPlayersForMapping([{column:"playing_status",operator:"eq",value:"Active"},{column:"position",operator:"in",value:["QB","RB","WR","TE","K","DEF"]}]),O={};Q.forEach(V=>{var A;if(V.sleeper_id){const _=V.player_name.split(" "),E=_[0]||"",P=_.slice(1).join(" ")||"";O[V.sleeper_id]={player_id:V.sleeper_id,first_name:E,last_name:P,position:V.position||"",team:V.nfl_team||"",jersey_number:V.number||0,status:V.playing_status||"",injury_status:V.injury_status||"",age:V.age||0,height:((A=V.height)==null?void 0:A.toString())||"",weight:V.weight||0,years_exp:0,college:V.college||""}}}),j(O)}catch(Q){console.warn("Could not load players data:",Q)}}catch(k){console.error("Error fetching matchups:",k);const $=k instanceof Error?k.message:"Unknown error";b([$]),r({title:"Error Loading Matchups",description:`Failed to load matchup data: ${$}`,variant:"destructive"}),m([])}finally{g(!1),y(!1)}},T=async()=>{try{console.log(" Loading current NFL week...");const k=await Ye.getCurrentNFLWeek();console.log(` Current NFL week: ${k}`),c(k),o(k)}catch(k){console.error("Error getting current week:",k),c(1),o(1)}};h.useEffect(()=>{T()},[]),h.useEffect(()=>{e&&n?(y(!0),S()):y(!1)},[a,t,e,n]);const N=k=>{const $=new Set(u);$.has(k)?$.delete(k):$.add(k),d($)},C=k=>{switch(k){case"live":return i.jsx(ee,{className:"bg-green-500 hover:bg-green-600",children:"Live"});case"completed":return i.jsx(ee,{variant:"secondary",children:"Final"});case"upcoming":return i.jsx(ee,{variant:"outline",children:"Upcoming"});default:return i.jsx(ee,{variant:"secondary",children:k})}},R=k=>{if(k.status!=="completed")return null;const[$,I]=k.teams;return I?$.points>I.points?$:I:$};return v?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(uc,{className:"h-6 w-6 text-primary"}),i.jsx("h1",{className:"text-3xl font-bold",children:"Matchups"})]}),i.jsx(Y,{children:i.jsxs(X,{className:"py-8 text-center",children:[i.jsx(tt,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-primary"}),i.jsx("p",{children:"Loading matchup data..."})]})})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col space-y-2",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(uc,{className:"h-6 w-6 text-primary"}),i.jsx("h1",{className:"text-3xl font-bold",children:"Matchups"})]}),i.jsxs("p",{className:"text-muted-foreground",children:[e," Season  Week ",a,"  ",t?((D=n.conferences.find(k=>k.id===t))==null?void 0:D.name)||"Selected Conference":"All Conferences"]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs(At,{value:a.toString(),onValueChange:k=>o(parseInt(k)),children:[i.jsx(Ct,{className:"w-32",children:i.jsx(Dt,{})}),i.jsx(Et,{children:Array.from({length:18},(k,$)=>$+1).map(k=>i.jsx($e,{value:k.toString(),children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("span",{children:["Week ",k]}),k===l&&i.jsx(ee,{variant:"outline",className:"text-xs",children:"Current"})]})},k))})]}),a===l&&i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[i.jsx(Zs,{className:"h-4 w-4"}),i.jsx("span",{children:"Current week"})]})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs(te,{variant:"outline",size:"sm",onClick:()=>S(),disabled:p,children:[i.jsx(tt,{className:`h-4 w-4 ${p?"animate-spin":""}`}),"Refresh"]}),i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[i.jsx(Yt,{className:"h-4 w-4"}),i.jsxs("span",{children:[f.length," matchups"]})]})]})]}),w.length>0&&i.jsxs(Y,{className:"border-l-4 border-l-red-500",children:[i.jsx(ie,{className:"pb-2",children:i.jsxs(ae,{className:"text-sm flex items-center space-x-2",children:[i.jsx(Ze,{className:"h-4 w-4 text-red-500"}),i.jsxs("span",{children:["API Errors (",w.length,")"]})]})}),i.jsx(X,{children:i.jsx("div",{className:"space-y-1",children:w.map((k,$)=>i.jsx("div",{className:"text-sm text-red-600 bg-red-50 p-2 rounded",children:k},$))})})]}),i.jsxs("div",{className:"grid gap-3",children:[[...f].sort((k,$)=>k.conference.conference_name.localeCompare($.conference.conference_name)).map(k=>{var V,A,_,E,P,L,M,H,re,G,z,W,K,F,ne,le,ce,pe;const[$,I]=k.teams,B=R(k),Q=`${k.conference.id}-${k.matchup_id}`,O=u.has(Q);return i.jsxs(Y,{className:"hover:shadow-md transition-shadow",children:[i.jsx(ie,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ae,{className:"text-base",children:a>=13&&((A=(V=k.rawData)==null?void 0:V.playoffBracket)!=null&&A.playoff_round_name)?k.rawData.playoffBracket.playoff_round_name:k.conference.conference_name}),C(k.status)]})}),i.jsxs(X,{className:"pt-0 space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-3 gap-2 items-center",children:[i.jsxs("div",{className:"text-right space-y-1",children:[i.jsx("div",{className:"font-medium text-sm",children:((_=$.team)==null?void 0:_.team_name)||((E=$.owner)==null?void 0:E.display_name)||((P=$.owner)==null?void 0:P.username)||"Unknown Team"}),i.jsx("div",{className:`text-lg font-bold ${(B==null?void 0:B.roster_id)===$.roster_id?"text-green-600":""}`,children:k.status==="upcoming"?"--":($.points??0).toFixed(1)})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"VS"}),k.status==="completed"&&B&&i.jsx(Kt,{className:"h-4 w-4 mx-auto mt-1 text-yellow-500"})]}),i.jsxs("div",{className:"text-left space-y-1",children:[i.jsx("div",{className:"font-medium text-sm",children:!I||a>=13&&((M=(L=k.rawData)==null?void 0:L.playoffBracket)!=null&&M.is_bye)?"BYE":((H=I==null?void 0:I.team)==null?void 0:H.team_name)||((re=I==null?void 0:I.owner)==null?void 0:re.display_name)||((G=I==null?void 0:I.owner)==null?void 0:G.username)||"TBD"}),i.jsx("div",{className:`text-lg font-bold ${(B==null?void 0:B.roster_id)===(I==null?void 0:I.roster_id)?"text-green-600":""}`,children:!I||a>=13&&((W=(z=k.rawData)==null?void 0:z.playoffBracket)!=null&&W.is_bye)?"BYE":k.status==="upcoming"?"--":((I==null?void 0:I.points)??0).toFixed(1)})]})]}),i.jsxs(j5,{open:O,children:[i.jsx(_5,{className:"space-y-4",children:i.jsx("div",{className:"border-t pt-4",children:i.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("h4",{className:"font-semibold text-sm mb-3 flex items-center",children:[i.jsx(Yt,{className:"h-4 w-4 mr-2"}),((K=$.team)==null?void 0:K.team_name)||((F=$.owner)==null?void 0:F.display_name)||"Team 1"," Lineup"]}),$.roster?i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("h5",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide mb-2",children:"Starters"}),i.jsx("div",{className:"space-y-1",children:(ne=$.matchup_starters)==null?void 0:ne.map((fe,ye)=>{var Xe;const Se=Pu(fe,x),Qe=((Xe=$.players_points)==null?void 0:Xe[fe])||0,_e=S0()[ye]||"FLEX";return i.jsxs("div",{className:"flex justify-between items-center py-1 px-2 bg-gray-50 rounded text-xs",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ee,{variant:"outline",className:"text-xs px-1 py-0",children:N0(_e)}),i.jsx("span",{className:"font-medium",children:Se.name}),i.jsxs("span",{className:"text-muted-foreground",children:["(",Se.position," - ",Se.team,")"]})]}),i.jsx("span",{className:"font-bold",children:Qe.toFixed(1)})]},`${fe}-${ye}`)})})]}),$.roster.players&&i.jsxs("div",{children:[i.jsx("h5",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide mb-2",children:"Bench"}),i.jsx("div",{className:"space-y-1",children:$.roster.players.filter(fe=>{var ye;return!((ye=$.matchup_starters)!=null&&ye.includes(fe))}).map(fe=>{var Qe;const ye=Pu(fe,x),Se=((Qe=$.players_points)==null?void 0:Qe[fe])||0;return i.jsxs("div",{className:"flex justify-between items-center py-1 px-2 bg-gray-25 rounded text-xs",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"font-medium",children:ye.name}),i.jsxs("span",{className:"text-muted-foreground",children:["(",ye.position," - ",ye.team,")"]})]}),i.jsx("span",{className:"text-muted-foreground",children:Se.toFixed(1)})]},fe)})})]})]}):i.jsx("p",{className:"text-sm text-muted-foreground",children:"No roster data available"})]}),I&&i.jsxs("div",{children:[i.jsxs("h4",{className:"font-semibold text-sm mb-3 flex items-center",children:[i.jsx(Yt,{className:"h-4 w-4 mr-2"}),((le=I.team)==null?void 0:le.team_name)||((ce=I.owner)==null?void 0:ce.display_name)||"Team 2"," Lineup"]}),I.roster?i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("h5",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide mb-2",children:"Starters"}),i.jsx("div",{className:"space-y-1",children:(pe=I.matchup_starters)==null?void 0:pe.map((fe,ye)=>{var Xe;const Se=Pu(fe,x),Qe=((Xe=I.players_points)==null?void 0:Xe[fe])||0,_e=S0()[ye]||"FLEX";return i.jsxs("div",{className:"flex justify-between items-center py-1 px-2 bg-gray-50 rounded text-xs",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ee,{variant:"outline",className:"text-xs px-1 py-0",children:N0(_e)}),i.jsx("span",{className:"font-medium",children:Se.name}),i.jsxs("span",{className:"text-muted-foreground",children:["(",Se.position," - ",Se.team,")"]})]}),i.jsx("span",{className:"font-bold",children:Qe.toFixed(1)})]},`${fe}-${ye}`)})})]}),I.roster.players&&i.jsxs("div",{children:[i.jsx("h5",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide mb-2",children:"Bench"}),i.jsx("div",{className:"space-y-1",children:I.roster.players.filter(fe=>{var ye;return!((ye=I.matchup_starters)!=null&&ye.includes(fe))}).map(fe=>{var Qe;const ye=Pu(fe,x),Se=((Qe=I.players_points)==null?void 0:Qe[fe])||0;return i.jsxs("div",{className:"flex justify-between items-center py-1 px-2 bg-gray-25 rounded text-xs",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"font-medium",children:ye.name}),i.jsxs("span",{className:"text-muted-foreground",children:["(",ye.position," - ",ye.team,")"]})]}),i.jsx("span",{className:"text-muted-foreground",children:Se.toFixed(1)})]},fe)})})]})]}):i.jsx("p",{className:"text-sm text-muted-foreground",children:"No roster data available"})]})]})})}),i.jsx(b5,{asChild:!0,children:i.jsx(te,{variant:"outline",className:"w-full mt-3",onClick:()=>N(Q),children:O?i.jsxs(i.Fragment,{children:["Hide Details",i.jsx(Cx,{className:"h-4 w-4 ml-2"})]}):i.jsxs(i.Fragment,{children:["View Details",i.jsx(wf,{className:"h-4 w-4 ml-2"})]})})})]})]})]},Q)}),f.length===0&&i.jsx(Y,{children:i.jsxs(X,{className:"py-8 text-center",children:[i.jsx(Ze,{className:"h-8 w-8 mx-auto mb-4 text-muted-foreground"}),i.jsx("p",{className:"text-muted-foreground",children:"No matchups found for the selected filters."})]})})]})]})},hn=h.forwardRef(({className:e,type:t,...n},s)=>i.jsx("input",{type:t,className:me("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...n}));hn.displayName="Input";var aE={exports:{}},oE={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ao=h;function C5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var E5=typeof Object.is=="function"?Object.is:C5,T5=Ao.useState,k5=Ao.useEffect,P5=Ao.useLayoutEffect,R5=Ao.useDebugValue;function A5(e,t){var n=t(),s=T5({inst:{value:n,getSnapshot:t}}),r=s[0].inst,a=s[1];return P5(function(){r.value=n,r.getSnapshot=t,lm(r)&&a({inst:r})},[e,n,t]),k5(function(){return lm(r)&&a({inst:r}),e(function(){lm(r)&&a({inst:r})})},[e]),R5(n),n}function lm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!E5(e,n)}catch{return!0}}function D5(e,t){return t()}var $5=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?D5:A5;oE.useSyncExternalStore=Ao.useSyncExternalStore!==void 0?Ao.useSyncExternalStore:$5;aE.exports=oE;var M5=aE.exports;function I5(){return M5.useSyncExternalStore(L5,()=>!0,()=>!1)}function L5(){return()=>{}}var lv="Avatar",[O5,M7]=ts(lv),[F5,lE]=O5(lv),cE=h.forwardRef((e,t)=>{const{__scopeAvatar:n,...s}=e,[r,a]=h.useState("idle");return i.jsx(F5,{scope:n,imageLoadingStatus:r,onImageLoadingStatusChange:a,children:i.jsx(xe.span,{...s,ref:t})})});cE.displayName=lv;var uE="AvatarImage",dE=h.forwardRef((e,t)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:r=()=>{},...a}=e,o=lE(uE,n),l=B5(s,a),c=Jn(u=>{r(u),o.onImageLoadingStatusChange(u)});return Tt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?i.jsx(xe.img,{...a,ref:t,src:s}):null});dE.displayName=uE;var fE="AvatarFallback",hE=h.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:s,...r}=e,a=lE(fE,n),[o,l]=h.useState(s===void 0);return h.useEffect(()=>{if(s!==void 0){const c=window.setTimeout(()=>l(!0),s);return()=>window.clearTimeout(c)}},[s]),o&&a.imageLoadingStatus!=="loaded"?i.jsx(xe.span,{...r,ref:t}):null});hE.displayName=fE;function C0(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function B5(e,{referrerPolicy:t,crossOrigin:n}){const s=I5(),r=h.useRef(null),a=s?(r.current||(r.current=new window.Image),r.current):null,[o,l]=h.useState(()=>C0(a,e));return Tt(()=>{l(C0(a,e))},[a,e]),Tt(()=>{const c=f=>()=>{l(f)};if(!a)return;const u=c("loaded"),d=c("error");return a.addEventListener("load",u),a.addEventListener("error",d),t&&(a.referrerPolicy=t),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",u),a.removeEventListener("error",d)}},[a,n,t]),o}var mE=cE,pE=dE,gE=hE;const cv=h.forwardRef(({className:e,...t},n)=>i.jsx(mE,{ref:n,className:me("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));cv.displayName=mE.displayName;const uv=h.forwardRef(({className:e,...t},n)=>i.jsx(pE,{ref:n,className:me("aspect-square h-full w-full",e),...t}));uv.displayName=pE.displayName;const dv=h.forwardRef(({className:e,...t},n)=>i.jsx(gE,{ref:n,className:me("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));dv.displayName=gE.displayName;const U5=()=>{var p;const{selectedSeason:e,selectedConference:t,currentSeasonConfig:n}=zs(),{toast:s}=An(),[r,a]=h.useState(""),[o,l]=h.useState([]),[c,u]=h.useState(!0),[d,f]=h.useState(null),m=async()=>{var g;u(!0),f(null);try{console.log("Fetching teams data for season:",e);const w=t?n.conferences.filter($=>$.id===t):n.conferences;console.log("Conferences to fetch:",w);const{data:b,error:S}=await window.ezsite.apis.tablePage("12852",{PageNo:1,PageSize:100,OrderByField:"team_name",IsAsc:!0,Filters:[]});if(S)throw new Error(S);const T=(b==null?void 0:b.List)||[];console.log("Database teams:",T);const{data:N,error:C}=await window.ezsite.apis.tablePage("12820",{PageNo:1,PageSize:50,OrderByField:"conference_name",IsAsc:!0,Filters:[]});if(C)throw new Error(C);const R=(N==null?void 0:N.List)||[];console.log("Database conferences:",R);const D=[];for(const $ of w)try{console.log(`Fetching roster data for league: ${$.leagueId}`);const I=await fetch(`https://api.sleeper.app/v1/league/${$.leagueId}/rosters`);if(!I.ok){console.warn(`Failed to fetch roster data for league ${$.leagueId}:`,I.statusText);continue}const B=await I.json();console.log(`Roster data for ${$.name}:`,B),D.push(...B.map(Q=>({...Q,league_id:$.leagueId})))}catch(I){console.warn(`Error fetching roster data for league ${$.leagueId}:`,I)}console.log("All roster data:",D);const k=[];for(const $ of T){const I=D.find(B=>B.owner_id===$.owner_id);if(I){const B=w.find(O=>O.leagueId===I.league_id),Q=x(I.settings.wins,I.settings.losses);k.push({id:$.id.toString(),teamName:$.team_name,ownerName:$.owner_name,coOwnerName:$.co_owner_name||void 0,ownerAvatar:$.team_logo_url||null,conference:(B==null?void 0:B.name)||"Unknown Conference",record:{wins:I.settings.wins,losses:I.settings.losses,ties:I.settings.ties},pointsFor:I.settings.fpts+I.settings.fpts_decimal/100,pointsAgainst:I.settings.fpts_against+I.settings.fpts_against_decimal/100,rank:0,streak:Q,rosterCount:((g=I.players)==null?void 0:g.length)||0,waiversCount:I.settings.total_moves||0,tradesCount:0,rosterId:I.roster_id,leagueId:I.league_id})}else console.warn(`No matching roster found for team: ${$.team_name} (owner_id: ${$.owner_id})`)}k.sort(($,I)=>$.record.wins!==I.record.wins?I.record.wins-$.record.wins:I.pointsFor-$.pointsFor),k.forEach(($,I)=>{$.rank=I+1}),console.log("Final combined teams data:",k),l(k)}catch(w){console.error("Error fetching teams data:",w),f(w instanceof Error?w.message:"Failed to load teams data"),s({title:"Error Loading Teams",description:"Failed to load team data. Please try again.",variant:"destructive"})}finally{u(!1)}},x=(g,w)=>g>w?`W${Math.min(g-w,5)}`:w>g?`L${Math.min(w-g,5)}`:"T1";h.useEffect(()=>{m()},[e,t]);const j=o.filter(g=>r===""||g.teamName.toLowerCase().includes(r.toLowerCase())||g.ownerName.toLowerCase().includes(r.toLowerCase())||g.coOwnerName&&g.coOwnerName.toLowerCase().includes(r.toLowerCase())),v=(g,w)=>{const b=g/(g+w);return b>=.7?"default":b>=.5?"secondary":"destructive"},y=g=>g.startsWith("W")?"text-green-600":g.startsWith("L")?"text-red-600":"text-muted-foreground";return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col space-y-2",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Yt,{className:"h-6 w-6 text-primary"}),i.jsx("h1",{className:"text-3xl font-bold",children:"Teams"})]}),i.jsxs("p",{className:"text-muted-foreground",children:[e," Season  ",t?(p=n.conferences.find(g=>g.id===t))==null?void 0:p.name:"All Conferences","  ",j.length," teams"]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("div",{className:"relative flex-1 max-w-md",children:[i.jsx(Tx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(hn,{placeholder:"Search teams or owners...",value:r,onChange:g=>a(g.target.value),className:"pl-10"})]}),i.jsx(te,{variant:"outline",onClick:()=>a(""),children:"Clear"}),i.jsxs(te,{variant:"outline",onClick:m,disabled:c,children:[i.jsx(tt,{className:`h-4 w-4 mr-2 ${c?"animate-spin":""}`}),"Refresh"]})]}),c&&i.jsx(Y,{children:i.jsxs(X,{className:"py-12 text-center",children:[i.jsx(tt,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4 animate-spin"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Loading Teams"}),i.jsx("p",{className:"text-muted-foreground",children:"Fetching team data from Sleeper API..."})]})}),d&&!c&&i.jsx(Y,{children:i.jsxs(X,{className:"py-12 text-center",children:[i.jsx(Ze,{className:"h-12 w-12 mx-auto text-destructive mb-4"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Error Loading Teams"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:d}),i.jsxs(te,{onClick:m,children:[i.jsx(tt,{className:"h-4 w-4 mr-2"}),"Try Again"]})]})}),!c&&!d&&i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.map(g=>i.jsxs(Y,{className:"hover:shadow-lg transition-shadow",children:[i.jsx(ie,{className:"pb-4",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsxs(cv,{className:"h-12 w-12",children:[i.jsx(uv,{src:g.ownerAvatar||void 0}),i.jsx(dv,{className:"bg-primary/10",children:g.ownerName.split(" ").map(w=>w[0]).join("").toUpperCase()})]}),i.jsxs("div",{children:[i.jsx(ae,{className:"text-lg leading-tight",children:g.teamName}),i.jsxs(be,{children:[g.ownerName,g.coOwnerName&&` & ${g.coOwnerName}`]})]})]}),i.jsxs("div",{className:"flex items-center space-x-1",children:[g.rank<=3&&i.jsx(Kt,{className:"h-4 w-4 text-yellow-500"}),i.jsxs("span",{className:"text-sm font-semibold",children:["#",g.rank]})]})]})}),i.jsxs(X,{className:"space-y-4",children:[i.jsx(ee,{variant:"outline",className:"text-xs",children:g.conference}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Record"}),i.jsxs(ee,{variant:v(g.record.wins,g.record.losses),children:[g.record.wins,"-",g.record.losses,g.record.ties>0&&`-${g.record.ties}`]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Streak"}),i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(jf,{className:`h-4 w-4 ${y(g.streak)}`}),i.jsx("span",{className:`font-semibold ${y(g.streak)}`,children:g.streak})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-muted-foreground",children:"Points For"}),i.jsx("p",{className:"font-semibold",children:g.pointsFor.toFixed(1)})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-muted-foreground",children:"Points Against"}),i.jsx("p",{className:"font-semibold",children:g.pointsAgainst.toFixed(1)})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs text-muted-foreground",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"font-medium",children:g.rosterCount}),i.jsx("p",{children:"Roster"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"font-medium",children:g.waiversCount}),i.jsx("p",{children:"Moves"})]}),i.jsxs("div",{className:"text-center",children:[i.jsxs("p",{className:"font-medium",children:["#",g.rosterId]}),i.jsx("p",{children:"Roster ID"})]})]}),i.jsx(Pt,{to:`/teams/${g.id}`,className:"w-full",children:i.jsxs(te,{variant:"outline",className:"w-full",children:[i.jsx(Ex,{className:"mr-2 h-4 w-4"}),"View Team Details"]})})]})]},g.id))}),!c&&!d&&j.length===0&&i.jsx(Y,{children:i.jsxs(X,{className:"py-12 text-center",children:[i.jsx(Yt,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No teams found"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"No teams match your current search criteria."}),i.jsx(te,{variant:"outline",onClick:()=>a(""),children:"Clear Search"})]})}),!c&&!d&&j.length>0&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsx(Y,{children:i.jsxs(ie,{className:"pb-2",children:[i.jsx(be,{children:"Average Points For"}),i.jsx(ae,{className:"text-2xl",children:(j.reduce((g,w)=>g+w.pointsFor,0)/j.length).toFixed(1)})]})}),i.jsx(Y,{children:i.jsxs(ie,{className:"pb-2",children:[i.jsx(be,{children:"Most Active Team"}),i.jsx(ae,{className:"text-lg",children:j.reduce((g,w)=>g.waiversCount>w.waiversCount?g:w).teamName})]})}),i.jsx(Y,{children:i.jsxs(ie,{className:"pb-2",children:[i.jsx(be,{children:"Total Moves"}),i.jsx(ae,{className:"text-2xl",children:j.reduce((g,w)=>g+w.waiversCount,0)})]})})]})]})};var cm="rovingFocusGroup.onEntryFocus",V5={bubbles:!1,cancelable:!0},zc="RovingFocusGroup",[Jp,xE,z5]=jx(zc),[W5,vE]=ts(zc,[z5]),[H5,q5]=W5(zc),yE=h.forwardRef((e,t)=>i.jsx(Jp.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(Jp.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(K5,{...e,ref:t})})}));yE.displayName=zc;var K5=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:r=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,m=h.useRef(null),x=Ve(t,m),j=nv(a),[v,y]=Pr({prop:o,defaultProp:l??null,onChange:c,caller:zc}),[p,g]=h.useState(!1),w=Jn(u),b=xE(n),S=h.useRef(!1),[T,N]=h.useState(0);return h.useEffect(()=>{const C=m.current;if(C)return C.addEventListener(cm,w),()=>C.removeEventListener(cm,w)},[w]),i.jsx(H5,{scope:n,orientation:s,dir:j,loop:r,currentTabStopId:v,onItemFocus:h.useCallback(C=>y(C),[y]),onItemShiftTab:h.useCallback(()=>g(!0),[]),onFocusableItemAdd:h.useCallback(()=>N(C=>C+1),[]),onFocusableItemRemove:h.useCallback(()=>N(C=>C-1),[]),children:i.jsx(xe.div,{tabIndex:p||T===0?-1:0,"data-orientation":s,...f,ref:x,style:{outline:"none",...e.style},onMouseDown:ge(e.onMouseDown,()=>{S.current=!0}),onFocus:ge(e.onFocus,C=>{const R=!S.current;if(C.target===C.currentTarget&&R&&!p){const D=new CustomEvent(cm,V5);if(C.currentTarget.dispatchEvent(D),!D.defaultPrevented){const k=b().filter(O=>O.focusable),$=k.find(O=>O.active),I=k.find(O=>O.id===v),Q=[$,I,...k].filter(Boolean).map(O=>O.ref.current);bE(Q,d)}}S.current=!1}),onBlur:ge(e.onBlur,()=>g(!1))})})}),wE="RovingFocusGroupItem",jE=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:r=!1,tabStopId:a,children:o,...l}=e,c=Nr(),u=a||c,d=q5(wE,n),f=d.currentTabStopId===u,m=xE(n),{onFocusableItemAdd:x,onFocusableItemRemove:j,currentTabStopId:v}=d;return h.useEffect(()=>{if(s)return x(),()=>j()},[s,x,j]),i.jsx(Jp.ItemSlot,{scope:n,id:u,focusable:s,active:r,children:i.jsx(xe.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:ge(e.onMouseDown,y=>{s?d.onItemFocus(u):y.preventDefault()}),onFocus:ge(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:ge(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const p=Q5(y,d.orientation,d.dir);if(p!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let w=m().filter(b=>b.focusable).map(b=>b.ref.current);if(p==="last")w.reverse();else if(p==="prev"||p==="next"){p==="prev"&&w.reverse();const b=w.indexOf(y.currentTarget);w=d.loop?X5(w,b+1):w.slice(b+1)}setTimeout(()=>bE(w))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:v!=null}):o})})});jE.displayName=wE;var G5={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Y5(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Q5(e,t,n){const s=Y5(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return G5[s]}function bE(e,t=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:t}),document.activeElement!==n))return}function X5(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var J5=yE,Z5=jE,Gf="Tabs",[eB,I7]=ts(Gf,[vE]),_E=vE(),[tB,fv]=eB(Gf),SE=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,onValueChange:r,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=nv(l),[f,m]=Pr({prop:s,onChange:r,defaultProp:a??"",caller:Gf});return i.jsx(tB,{scope:n,baseId:Nr(),value:f,onValueChange:m,orientation:o,dir:d,activationMode:c,children:i.jsx(xe.div,{dir:d,"data-orientation":o,...u,ref:t})})});SE.displayName=Gf;var NE="TabsList",CE=h.forwardRef((e,t)=>{const{__scopeTabs:n,loop:s=!0,...r}=e,a=fv(NE,n),o=_E(n);return i.jsx(J5,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:s,children:i.jsx(xe.div,{role:"tablist","aria-orientation":a.orientation,...r,ref:t})})});CE.displayName=NE;var EE="TabsTrigger",TE=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,disabled:r=!1,...a}=e,o=fv(EE,n),l=_E(n),c=RE(o.baseId,s),u=AE(o.baseId,s),d=s===o.value;return i.jsx(Z5,{asChild:!0,...l,focusable:!r,active:d,children:i.jsx(xe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:c,...a,ref:t,onMouseDown:ge(e.onMouseDown,f=>{!r&&f.button===0&&f.ctrlKey===!1?o.onValueChange(s):f.preventDefault()}),onKeyDown:ge(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(s)}),onFocus:ge(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!r&&f&&o.onValueChange(s)})})})});TE.displayName=EE;var kE="TabsContent",PE=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,forceMount:r,children:a,...o}=e,l=fv(kE,n),c=RE(l.baseId,s),u=AE(l.baseId,s),d=s===l.value,f=h.useRef(d);return h.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),i.jsx(dr,{present:r||d,children:({present:m})=>i.jsx(xe.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&a})})});PE.displayName=kE;function RE(e,t){return`${e}-trigger-${t}`}function AE(e,t){return`${e}-content-${t}`}var nB=SE,DE=CE,$E=TE,ME=PE;const ja=nB,Ai=h.forwardRef(({className:e,...t},n)=>i.jsx(DE,{ref:n,className:me("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));Ai.displayName=DE.displayName;const He=h.forwardRef(({className:e,...t},n)=>i.jsx($E,{ref:n,className:me("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));He.displayName=$E.displayName;const qe=h.forwardRef(({className:e,...t},n)=>i.jsx(ME,{ref:n,className:me("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));qe.displayName=ME.displayName;var sB="Separator",E0="horizontal",rB=["horizontal","vertical"],IE=h.forwardRef((e,t)=>{const{decorative:n,orientation:s=E0,...r}=e,a=iB(s)?s:E0,l=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return i.jsx(xe.div,{"data-orientation":a,...l,...r,ref:t})});IE.displayName=sB;function iB(e){return rB.includes(e)}var LE=IE;const OE=h.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...s},r)=>i.jsx(LE,{ref:r,decorative:n,orientation:t,className:me("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...s}));OE.displayName=LE.displayName;const FE=({transaction:e})=>{const t=()=>{switch(e.type){case"trade":return i.jsx(HA,{className:"h-4 w-4"});case"free_agent":return i.jsx(Pd,{className:"h-4 w-4"});case"waiver":return i.jsx(jf,{className:"h-4 w-4"});default:return i.jsx(kd,{className:"h-4 w-4"})}},n=()=>{switch(e.type){case"trade":return"bg-blue-100 text-blue-800";case"free_agent":return"bg-green-100 text-green-800";case"waiver":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},s=()=>{switch(e.status){case"complete":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},r=o=>new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}).format(o),a=o=>{switch(o){case"free_agent":return"Free Agent";case"waiver":return"Waiver";case"trade":return"Trade";default:return o.charAt(0).toUpperCase()+o.slice(1)}};return i.jsxs(Y,{className:"mb-4 hover:shadow-md transition-shadow",children:[i.jsx(ie,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:`p-2 rounded-full ${n()}`,children:t()}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ee,{className:n(),children:a(e.type)}),i.jsxs(ee,{variant:"outline",children:["Week ",e.week]}),i.jsx(ee,{className:s(),children:e.status})]}),i.jsxs("div",{className:"flex items-center space-x-1 mt-1 text-sm text-muted-foreground",children:[i.jsx(Yn,{className:"h-3 w-3"}),i.jsx("span",{children:r(e.date)})]})]})]}),e.waiverBid&&i.jsxs("div",{className:"flex items-center space-x-1 text-sm text-muted-foreground",children:[i.jsx(Sp,{className:"h-3 w-3"}),i.jsxs("span",{children:["$",e.waiverBid]})]})]})}),i.jsx(X,{className:"pt-0",children:i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{children:i.jsx("p",{className:"text-sm font-medium text-foreground",children:e.details})}),e.teams.length>0&&i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Teams:"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:e.teams.map((o,l)=>i.jsx(ee,{variant:"secondary",className:"text-xs",children:o},l))})]}),(e.players.added.length>0||e.players.dropped.length>0)&&i.jsxs("div",{className:"space-y-2",children:[e.players.added.length>0&&i.jsxs("div",{children:[i.jsxs("p",{className:"text-xs text-muted-foreground mb-1 flex items-center",children:[i.jsx(Pd,{className:"h-3 w-3 mr-1 text-green-600"}),"Added:"]}),i.jsx("div",{className:"space-y-1",children:e.players.added.map((o,l)=>i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"font-medium",children:o.name}),i.jsxs(ee,{variant:"outline",className:"text-xs",children:["to ",o.team]})]},l))})]}),e.players.dropped.length>0&&i.jsxs("div",{children:[i.jsxs("p",{className:"text-xs text-muted-foreground mb-1 flex items-center",children:[i.jsx(TD,{className:"h-3 w-3 mr-1 text-red-600"}),"Dropped:"]}),i.jsx("div",{className:"space-y-1",children:e.players.dropped.map((o,l)=>i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"font-medium",children:o.name}),i.jsxs(ee,{variant:"outline",className:"text-xs",children:["from ",o.team]})]},l))})]})]}),e.draftPicks.length>0&&i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Draft Picks:"}),i.jsx("div",{className:"space-y-1",children:e.draftPicks.map((o,l)=>i.jsxs("div",{className:"text-sm",children:[i.jsxs("span",{className:"font-medium",children:[o.season," Round ",o.round]}),i.jsxs("span",{className:"text-muted-foreground ml-2",children:["(Roster ",o.previous_owner_id,"  Roster ",o.owner_id,")"]})]},l))})]}),e.waiverBudget.length>0&&i.jsxs("div",{children:[i.jsxs("p",{className:"text-xs text-muted-foreground mb-1 flex items-center",children:[i.jsx(Sp,{className:"h-3 w-3 mr-1"}),"FAAB Transfers:"]}),i.jsx("div",{className:"space-y-1",children:e.waiverBudget.map((o,l)=>i.jsxs("div",{className:"text-sm",children:[i.jsxs("span",{className:"font-medium",children:["$",o.amount]}),i.jsxs("span",{className:"text-muted-foreground ml-2",children:["(Roster ",o.sender,"  Roster ",o.receiver,")"]})]},l))})]}),e.notes&&i.jsxs(i.Fragment,{children:[i.jsx(OE,{}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Notes:"}),i.jsx("p",{className:"text-sm italic text-muted-foreground",children:e.notes})]})]})]})})]})},aB=()=>{const{teamId:e}=u1(),{selectedSeason:t,currentSeasonConfig:n}=zs(),[s,r]=h.useState("roster"),[a,o]=h.useState(null),[l,c]=h.useState([]),[u,d]=h.useState(!1),[f,m]=h.useState([]),[x,j]=h.useState(!1),[v,y]=h.useState(!0),[p,g]=h.useState(null),{toast:w}=An();h.useEffect(()=>{e&&n&&b(parseInt(e))},[e,n]),h.useEffect(()=>{s==="transactions"&&a&&l.length===0&&S()},[s,a]),h.useEffect(()=>{s==="schedule"&&a&&f.length===0&&T()},[s,a,t]),h.useEffect(()=>{f.length>0&&m([])},[t]);const b=async E=>{try{y(!0),g(null),console.log(`Fetching data for team ID: ${E}`);const P=await de.getTeams({filters:[{column:"id",operator:"eq",value:E}]});if(P.error||!P.data||P.data.length===0)throw new Error("Team not found");const L=P.data[0];console.log("Team data:",L);const M=await de.getTeamConferenceJunctions({filters:[{column:"team_id",operator:"eq",value:E}]});if(M.error||!M.data||M.data.length===0)throw new Error("Team conference mapping not found");const H=M.data[0],re=H.roster_id;console.log("Junction data:",H,"Roster ID:",re),console.log("All junctions for this team:",M.data);const G=await de.getConferences({filters:[{column:"id",operator:"eq",value:H.conference_id}]});if(G.error||!G.data||G.data.length===0)throw new Error("Conference not found");const z=G.data[0];console.log("Conference data:",z),console.log(`Fetching Sleeper data for league ${z.league_id}, roster ${re}`);const W=await Ye.getTeamRosterData(z.league_id,re);o({...W,teamData:L,conferenceData:z}),console.log("Successfully loaded team roster data")}catch(P){console.error("Error fetching team data:",P);const L=P instanceof Error?P.message:"Failed to load team data";g(L),w({title:"Error",description:L,variant:"destructive"})}finally{y(!1)}},S=async()=>{if(a)try{d(!0),console.log(`Fetching transactions for team ${a.teamData.team_name} across all conferences`);const E=await de.getTeamConferenceJunctions({filters:[{column:"team_id",operator:"eq",value:a.teamData.id}]});if(E.error||!E.data||E.data.length===0)throw new Error("Team conference mappings not found");const P=E.data.map(K=>K.conference_id);console.log(`Team participates in conferences: ${P.join(", ")}`);const L=await de.getTransactions({filters:[{column:"conference_id",operator:"in",value:P}],orderBy:{column:"created_at",ascending:!1}});if(L.error||!L.data)throw new Error(L.error||"Failed to fetch transactions");const M=await de.getTeams({}),H=await de.getTeamConferenceJunctions({filters:[{column:"conference_id",operator:"in",value:P}]}),re=await de.getAllPlayersForMapping(),G=new Map;re.forEach(K=>{K.sleeper_id&&G.set(String(K.sleeper_id),K.player_name)});const W=(await Promise.all(L.data.map(async K=>{var el,Hs,$n;let F={};try{F=typeof K.data=="string"?JSON.parse(K.data):K.data||{}}catch(we){console.warn("Failed to parse transaction data:",we)}const ne=a.teamData.id,le=K.conference_id,ce=F.roster_ids||[],pe=(el=E.data)==null?void 0:el.find(we=>we.team_id===ne&&we.conference_id===le);if(!pe||!ce.includes(pe.roster_id))return null;const fe=we=>{var Xt;const Ue=(Xt=H.data)==null?void 0:Xt.find(Bt=>Bt.roster_id.toString()===we.toString()&&Bt.conference_id===K.conference_id);if(Ue&&M.data){const Bt=M.data.find(ba=>ba.id===Ue.team_id);return(Bt==null?void 0:Bt.team_name)||"Unknown Team"}return"Unknown Team"},ye=[],Se=[],Qe=we=>{const Ue=String(we);return G.get(Ue)||`Player ${Ue}`};if(F.adds)for(const[we,Ue]of Object.entries(F.adds)){const Xt=Qe(we),Bt=fe(Ue);ye.push({name:Xt,team:Bt})}if(F.drops)for(const[we,Ue]of Object.entries(F.drops)){const Xt=Qe(we),Bt=fe(Ue);Se.push({name:Xt,team:Bt})}let oe="";const _e=F.type||K.type,Xe=new Set;F.roster_ids&&F.roster_ids.forEach(we=>{const Ue=fe(we);Ue!=="Unknown Team"&&Xe.add(Ue)});const Fe=a.teamData.team_name,Qt=(($n=(Hs=(await de.getConferences({filters:[{column:"id",operator:"eq",value:K.conference_id}]})).data)==null?void 0:Hs[0])==null?void 0:$n.conference_name)||"Unknown Conference";switch(_e){case"trade":if(ye.length>0||Se.length>0){const we=[];ye.forEach(Ue=>we.push(`${Ue.name} to ${Ue.team}`)),Se.forEach(Ue=>we.push(`${Ue.name} from ${Ue.team}`)),Xe.size>1?oe=`[${Qt}] Trade between ${Array.from(Xe).join(" and ")}: ${we.join(", ")}`:oe=`[${Qt}] ${Fe} trade: ${we.join(", ")}`}else if(F.draft_picks&&F.draft_picks.length>0){const we=F.draft_picks.map(Ue=>`${Ue.season} Round ${Ue.round} pick`);oe=`[${Qt}] Trade involving ${we.join(", ")}`}else oe=`[${Qt}] Trade between ${Array.from(Xe).join(" and ")}`;break;case"waiver":ye.length>0&&Se.length>0?oe=`[${Qt}] ${Fe} claimed ${ye.map(we=>we.name).join(", ")} from waivers, dropped ${Se.map(we=>we.name).join(", ")}`:ye.length>0?oe=`[${Qt}] ${Fe} claimed ${ye.map(we=>we.name).join(", ")} from waivers`:Se.length>0?oe=`[${Qt}] ${Fe} dropped ${Se.map(we=>we.name).join(", ")} to waivers`:oe=`[${Qt}] ${Fe} made a waiver claim`;break;case"free_agent":ye.length>0&&Se.length>0?oe=`[${Qt}] ${Fe} added ${ye.map(we=>we.name).join(", ")}, dropped ${Se.map(we=>we.name).join(", ")}`:ye.length>0?oe=`[${Qt}] ${Fe} added ${ye.map(we=>we.name).join(", ")} from free agency`:Se.length>0?oe=`[${Qt}] ${Fe} dropped ${Se.map(we=>we.name).join(", ")}`:oe=`[${Qt}] ${Fe} made a free agent transaction`;break;default:oe=`[${Qt}] ${Fe} completed a ${_e||"transaction"}`}const Jc=F.type==="trade"?"trade":F.type==="waiver"?"waiver":F.type==="free_agent"?"free_agent":"commissioner";return{id:K.id.toString(),type:Jc,date:new Date(K.created_at||new Date),details:oe,teams:[Fe],players:{added:ye.map(we=>({id:"",name:we.name,team:we.team})),dropped:Se.map(we=>({id:"",name:we.name,team:we.team}))},week:F.leg||0,status:"completed",rosterIds:F.roster_ids||[],draftPicks:F.draft_picks||[],waiverBudget:F.waiver_budget||[]}}))).filter(K=>K!==null);c(W),console.log(`Loaded ${W.length} transactions for this team across all conferences`),w({title:"Transactions Loaded",description:`Found ${W.length} transactions for this team across all seasons`})}catch(E){console.error("Error fetching transactions:",E);const P=E instanceof Error?E.message:"Failed to load transactions";w({title:"Error Loading Transactions",description:P,variant:"destructive"})}finally{d(!1)}},T=async()=>{if(!(!a||!n))try{j(!0),console.log(`Fetching schedule for team ${a.teamData.team_name} for season ${t}`);const E=n.conferences.filter(F=>F.dbConferenceId);if(E.length===0){console.log("No conferences found for selected season"),m([]);return}const P=await de.getTeamConferenceJunctions({filters:[{column:"team_id",operator:"eq",value:a.teamData.id}]});if(P.error||!P.data)throw new Error("Failed to get team conference mappings");const L=E.map(F=>F.dbConferenceId),M=P.data.find(F=>L.includes(F.conference_id));if(!M){console.log(`Team not found in any conference for season ${t}`),m([]);return}const H=await de.getMatchups({filters:[{column:"conference_id",operator:"eq",value:M.conference_id}],orderBy:{column:"week",ascending:!0}});if(H.error||!H.data)throw new Error(H.error||"Failed to fetch matchups");const re=H.data.filter(F=>F.team1_id===a.teamData.id||F.team2_id===a.teamData.id),G=await de.getMatchupAdminOverrides({filters:[{column:"conference_id",operator:"eq",value:M.conference_id},{column:"is_active",operator:"eq",value:!0}]}),z=await de.getTeams({}),W=new Map;z.data&&z.data.forEach(F=>{W.set(F.id,F.team_name)});const K=re.map(F=>{var Xe;const ne=(Xe=G.data)==null?void 0:Xe.find(Fe=>Fe.conference_id===F.conference_id&&Fe.week===parseInt(F.week)&&Fe.is_active);let le,ce,pe=!1;if(ne?(le=ne.override_team1_id,ce=ne.override_team2_id,pe=!0):(le=F.team1_id,ce=F.team2_id),le!==a.teamData.id&&ce!==a.teamData.id)return null;const fe=le===a.teamData.id,ye=fe?ce:le,Se=W.get(ye)||"Unknown Team";let Qe="TBD",oe=null,_e=null;return F.team1_score!==null&&F.team2_score!==null&&(fe?(oe=F.team1_score,_e=F.team2_score):(oe=F.team2_score,_e=F.team1_score),oe>_e?Qe="W":oe<_e?Qe="L":Qe="T"),{week:F.week,opponent:Se,isHome:fe,result:Qe,teamScore:oe,opponentScore:_e,isPlayoff:F.is_playoff||!1,isOverridden:pe,overrideReason:(ne==null?void 0:ne.override_reason)||null,matchupStatus:F.matchup_status||"scheduled"}}).filter(F=>F!==null);m(K),console.log(`Loaded ${K.length} matchups for ${t} season`),w({title:"Schedule Loaded",description:`Found ${K.length} matchups for ${t} season`})}catch(E){console.error("Error fetching schedule:",E);const P=E instanceof Error?E.message:"Failed to load schedule";w({title:"Error Loading Schedule",description:P,variant:"destructive"})}finally{j(!1)}},N=E=>{switch(E){case"QB":return"bg-red-100 text-red-800";case"RB":return"bg-green-100 text-green-800";case"WR":return"bg-blue-100 text-blue-800";case"TE":return"bg-yellow-100 text-yellow-800";case"K":return"bg-purple-100 text-purple-800";case"DEF":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},C=E=>{switch(E){case"FLEX":return"bg-orange-100 text-orange-800";case"SUPER_FLEX":return"bg-pink-100 text-pink-800";default:return"bg-slate-100 text-slate-800"}},R=E=>{if(!E||E==="Active")return null;const P={IR:"destructive",Out:"destructive",Doubtful:"destructive",Questionable:"secondary",Probable:"outline"};return i.jsx(ee,{variant:P[E]||"outline",className:"text-xs",children:E})};if(v)return i.jsx("div",{className:"flex items-center justify-center min-h-64",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(sn,{className:"h-6 w-6 animate-spin"}),i.jsx("span",{children:"Loading team data..."})]})});if(p||!a)return i.jsxs("div",{className:"space-y-6",children:[i.jsx(Pt,{to:"/teams",children:i.jsxs(te,{variant:"ghost",className:"mb-4",children:[i.jsx($l,{className:"mr-2 h-4 w-4"}),"Back to Teams"]})}),i.jsx(Y,{children:i.jsx(X,{className:"flex items-center justify-center min-h-64",children:i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx(Ze,{className:"h-12 w-12 text-destructive mx-auto"}),i.jsx("h3",{className:"text-lg font-semibold",children:"Error Loading Team"}),i.jsx("p",{className:"text-muted-foreground",children:p||"Team data not available"}),i.jsx(te,{onClick:()=>e&&b(parseInt(e)),children:"Try Again"})]})})})]});const{roster:D,organizedRoster:k,allPlayers:$,teamData:I,conferenceData:B}=a,Q=Ye.formatPoints(D.settings.fpts,D.settings.fpts_decimal),O=Ye.formatPoints(D.settings.fpts_against,D.settings.fpts_against_decimal),V=D.settings.wins+D.settings.losses+D.settings.ties,A=Ye.calculatePointsPerGame(Q,V),_=V>0?D.settings.wins/V*100:0;return i.jsxs("div",{className:"space-y-6",children:[i.jsx(Pt,{to:"/teams",children:i.jsxs(te,{variant:"ghost",className:"mb-4",children:[i.jsx($l,{className:"mr-2 h-4 w-4"}),"Back to Teams"]})}),i.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs(cv,{className:"h-16 w-16",children:[i.jsx(uv,{src:I.team_logo_url||void 0}),i.jsx(dv,{className:"bg-primary/10 text-lg",style:{backgroundColor:I.team_primary_color+"20"},children:I.team_name.split(" ").map(E=>E[0]).join("").toUpperCase()})]}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:I.team_name}),i.jsxs("p",{className:"text-muted-foreground",children:["Owned by ",I.owner_name]}),I.co_owner_name&&i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Co-owner: ",I.co_owner_name]}),i.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[i.jsx(ee,{variant:"outline",children:B.conference_name}),i.jsxs(ee,{variant:"secondary",children:["Roster #",D.roster_id]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"text-2xl font-bold",children:[D.settings.wins,"-",D.settings.losses]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Record"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold",children:Q.toFixed(1)}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Points For"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold",children:A.toFixed(1)}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg/Game"})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[_.toFixed(1),"%"]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Win %"})]})]})]}),i.jsxs(ja,{value:s,onValueChange:r,className:"w-full",children:[i.jsxs(Ai,{className:"grid w-full grid-cols-4",children:[i.jsx(He,{value:"roster",children:"Roster"}),i.jsx(He,{value:"performance",children:"Performance"}),i.jsx(He,{value:"transactions",children:"Transactions"}),i.jsx(He,{value:"schedule",children:"Schedule"})]}),i.jsxs(qe,{value:"roster",className:"space-y-4",children:[i.jsxs(Y,{children:[i.jsxs(ie,{children:[i.jsxs(ae,{className:"flex items-center space-x-2",children:[i.jsx(iN,{className:"h-5 w-5"}),i.jsx("span",{children:"Starting Lineup"})]}),i.jsx(be,{children:"Current starting players for this roster"})]}),i.jsx(X,{children:i.jsx("div",{className:"rounded-md border",children:i.jsxs(pn,{children:[i.jsx(gn,{children:i.jsxs(Pe,{children:[i.jsx(se,{children:"Position"}),i.jsx(se,{children:"Player"}),i.jsx(se,{children:"NFL Team"}),i.jsx(se,{children:"Status"})]})}),i.jsx(xn,{children:k.starters.map((E,P)=>{const L=$[E.playerId];return i.jsxs(Pe,{children:[i.jsx(Z,{children:i.jsx(ee,{className:C(E.slotPosition),children:E.slotPosition})}),i.jsx(Z,{children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"font-medium",children:L?Ye.getPlayerName(L):"Unknown Player"}),L&&i.jsx(ee,{className:N(L.position),children:L.position})]})}),i.jsx(Z,{children:(L==null?void 0:L.team)||"N/A"}),i.jsx(Z,{children:R(L==null?void 0:L.injury_status)})]},`starter-${P}`)})})]})})})]}),i.jsxs(Y,{children:[i.jsxs(ie,{children:[i.jsxs(ae,{className:"flex items-center space-x-2",children:[i.jsx(Yt,{className:"h-5 w-5"}),i.jsxs("span",{children:["Bench (",k.bench.length,")"]})]}),i.jsx(be,{children:"Players available as substitutes"})]}),i.jsx(X,{children:i.jsx("div",{className:"rounded-md border",children:i.jsxs(pn,{children:[i.jsx(gn,{children:i.jsxs(Pe,{children:[i.jsx(se,{children:"Player"}),i.jsx(se,{children:"Position"}),i.jsx(se,{children:"NFL Team"}),i.jsx(se,{children:"Status"})]})}),i.jsxs(xn,{children:[k.bench.map(E=>{const P=$[E];return i.jsxs(Pe,{children:[i.jsx(Z,{className:"font-medium",children:P?Ye.getPlayerName(P):"Unknown Player"}),i.jsx(Z,{children:P&&i.jsx(ee,{className:N(P.position),children:P.position})}),i.jsx(Z,{children:(P==null?void 0:P.team)||"N/A"}),i.jsx(Z,{children:R(P==null?void 0:P.injury_status)})]},`bench-${E}`)}),k.bench.length===0&&i.jsx(Pe,{children:i.jsx(Z,{colSpan:4,className:"text-center text-muted-foreground py-4",children:"No bench players"})})]})]})})})]}),k.ir.length>0&&i.jsxs(Y,{children:[i.jsxs(ie,{children:[i.jsxs(ae,{className:"flex items-center space-x-2",children:[i.jsx(Ze,{className:"h-5 w-5"}),i.jsxs("span",{children:["Injured Reserve (",k.ir.length,")"]})]}),i.jsx(be,{children:"Players on injured reserve"})]}),i.jsx(X,{children:i.jsx("div",{className:"rounded-md border",children:i.jsxs(pn,{children:[i.jsx(gn,{children:i.jsxs(Pe,{children:[i.jsx(se,{children:"Player"}),i.jsx(se,{children:"Position"}),i.jsx(se,{children:"NFL Team"}),i.jsx(se,{children:"Status"})]})}),i.jsx(xn,{children:k.ir.map(E=>{const P=$[E];return i.jsxs(Pe,{children:[i.jsx(Z,{className:"font-medium",children:P?Ye.getPlayerName(P):"Unknown Player"}),i.jsx(Z,{children:P&&i.jsx(ee,{className:N(P.position),children:P.position})}),i.jsx(Z,{children:(P==null?void 0:P.team)||"N/A"}),i.jsx(Z,{children:i.jsx(ee,{variant:"destructive",className:"text-xs",children:"IR"})})]},`ir-${E}`)})})]})})})]})]}),i.jsx(qe,{value:"performance",className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs(Y,{children:[i.jsx(ie,{children:i.jsxs(ae,{className:"flex items-center space-x-2",children:[i.jsx(Kt,{className:"h-5 w-5"}),i.jsx("span",{children:"Season Stats"})]})}),i.jsx(X,{className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Points For"}),i.jsx("p",{className:"text-2xl font-bold",children:Q.toFixed(1)})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Points Against"}),i.jsx("p",{className:"text-2xl font-bold",children:O.toFixed(1)})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Point Differential"}),i.jsxs("p",{className:`text-2xl font-bold ${Q-O>0?"text-green-600":"text-red-600"}`,children:[Q-O>0?"+":"",(Q-O).toFixed(1)]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Win Percentage"}),i.jsxs("p",{className:"text-2xl font-bold",children:[_.toFixed(1),"%"]})]})]})})]}),i.jsxs(Y,{children:[i.jsx(ie,{children:i.jsxs(ae,{className:"flex items-center space-x-2",children:[i.jsx(jf,{className:"h-5 w-5"}),i.jsx("span",{children:"Team Management"})]})}),i.jsx(X,{className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Waiver Position"}),i.jsx("p",{className:"text-2xl font-bold",children:D.settings.waiver_position})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Waiver Budget Used"}),i.jsxs("p",{className:"text-2xl font-bold",children:["$",D.settings.waiver_budget_used]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Moves"}),i.jsx("p",{className:"text-2xl font-bold",children:D.settings.total_moves})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Games Played"}),i.jsx("p",{className:"text-2xl font-bold",children:V})]})]})})]})]})}),i.jsxs(qe,{value:"transactions",className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Transaction History"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"All trades, waivers, and roster moves for this team across all seasons"})]}),i.jsx(te,{onClick:S,disabled:u,variant:"outline",size:"sm",children:u?i.jsxs(i.Fragment,{children:[i.jsx(sn,{className:"h-4 w-4 mr-2 animate-spin"}),"Loading..."]}):i.jsxs(i.Fragment,{children:[i.jsx(tt,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]}),u&&l.length===0?i.jsx(Y,{children:i.jsx(X,{className:"flex items-center justify-center min-h-32",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(sn,{className:"h-6 w-6 animate-spin"}),i.jsx("span",{children:"Loading transactions..."})]})})}):l.length===0?i.jsx(Y,{children:i.jsx(X,{className:"flex items-center justify-center min-h-32",children:i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx(Yn,{className:"h-12 w-12 text-muted-foreground mx-auto"}),i.jsx("h3",{className:"text-lg font-semibold",children:"No Transactions Found"}),i.jsx("p",{className:"text-muted-foreground",children:"This team hasn't made any trades, waiver claims, or free agent pickups this season."}),i.jsx("div",{className:"mt-4",children:i.jsxs(ee,{variant:"secondary",children:["Total moves: ",D.settings.total_moves]})})]})})}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",l.length," transaction",l.length!==1?"s":""]}),i.jsxs(ee,{variant:"secondary",children:["Total moves: ",D.settings.total_moves]})]}),i.jsx("div",{className:"space-y-3",children:l.map(E=>i.jsx(FE,{transaction:E},E.id))})]})]}),i.jsxs(qe,{value:"schedule",className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Season Schedule"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Complete schedule and results for ",t," season"]})]}),i.jsx(te,{onClick:T,disabled:x,variant:"outline",size:"sm",children:x?i.jsxs(i.Fragment,{children:[i.jsx(sn,{className:"h-4 w-4 mr-2 animate-spin"}),"Loading..."]}):i.jsxs(i.Fragment,{children:[i.jsx(tt,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]}),x&&f.length===0?i.jsx(Y,{children:i.jsx(X,{className:"flex items-center justify-center min-h-32",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(sn,{className:"h-6 w-6 animate-spin"}),i.jsx("span",{children:"Loading schedule..."})]})})}):f.length===0?i.jsx(Y,{children:i.jsx(X,{className:"flex items-center justify-center min-h-32",children:i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx(Yn,{className:"h-12 w-12 text-muted-foreground mx-auto"}),i.jsx("h3",{className:"text-lg font-semibold",children:"No Schedule Found"}),i.jsxs("p",{className:"text-muted-foreground",children:["No matchups found for this team in the ",t," season."]})]})})}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs(Y,{children:[i.jsx(ie,{children:i.jsxs(ae,{className:"flex items-center space-x-2",children:[i.jsx(Yn,{className:"h-5 w-5"}),i.jsxs("span",{children:[t," Season Schedule"]})]})}),i.jsx(X,{children:i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold",children:f.filter(E=>E.result==="W").length}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Wins"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold",children:f.filter(E=>E.result==="L").length}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Losses"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold",children:f.filter(E=>E.result==="T").length}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Ties"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold",children:f.filter(E=>E.result==="TBD").length}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Remaining"})]})]})})]}),i.jsxs(Y,{children:[i.jsxs(ie,{children:[i.jsx(ae,{children:"Matchup Results"}),i.jsx(be,{children:"Week-by-week schedule and results"})]}),i.jsx(X,{children:i.jsx("div",{className:"rounded-md border",children:i.jsxs(pn,{children:[i.jsx(gn,{children:i.jsxs(Pe,{children:[i.jsx(se,{className:"w-16",children:"Week"}),i.jsx(se,{children:"Opponent"}),i.jsx(se,{className:"w-16",children:"@/vs"}),i.jsx(se,{className:"w-20",children:"Result"}),i.jsx(se,{className:"w-24",children:"Score"}),i.jsx(se,{className:"w-16",children:"Status"})]})}),i.jsx(xn,{children:f.map((E,P)=>i.jsxs(Pe,{children:[i.jsxs(Z,{className:"font-medium",children:[E.week,E.isPlayoff&&i.jsx(ee,{variant:"destructive",className:"ml-1 text-xs",children:"PO"})]}),i.jsx(Z,{children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{children:E.opponent}),E.isOverridden&&i.jsx(ee,{variant:"outline",className:"text-xs",children:"Override"})]})}),i.jsx(Z,{className:"text-center",children:E.isHome?"vs":"@"}),i.jsx(Z,{children:i.jsx(ee,{variant:E.result==="W"?"default":E.result==="L"?"destructive":E.result==="T"?"secondary":"outline",className:"w-8 justify-center",children:E.result})}),i.jsx(Z,{children:E.teamScore!==null&&E.opponentScore!==null?i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:E.result==="W"?"font-bold":"",children:E.teamScore}),i.jsx("span",{className:"text-muted-foreground mx-1",children:"-"}),i.jsx("span",{className:E.result==="L"?"font-bold":"",children:E.opponentScore})]}):i.jsx("span",{className:"text-muted-foreground",children:"-"})}),i.jsx(Z,{children:i.jsx(ee,{variant:"outline",className:"text-xs",children:E.matchupStatus})})]},`matchup-${P}`))})]})})})]})]})]})]})]})};async function oB(e={},t=1,n=25){try{const{data:{session:s},error:r}=await wr.auth.getSession();if(r)throw console.error("Session error:",r),new Error(`Authentication error: ${r.message}`);console.log("Fetching players directly from database...");let a=wr.from("players_with_roster_status").select(`
        id,
        player_name,
        position,
        nfl_team,
        sleeper_id,
        injury_status,
        total_points,
        avg_points,
        is_rostered,
        rostered_by_teams,
        playing_status
      `,{count:"exact"});e.search&&(a=a.or(`player_name.ilike.%${e.search}%,nfl_team.ilike.%${e.search}%`)),e.position&&e.position!=="all"&&(a=a.eq("position",e.position)),e.is_rostered!==""&&(a=a.eq("is_rostered",e.is_rostered));const o=(t-1)*n,l=o+n-1;a=a.range(o,l).order("total_points",{ascending:!1});const{data:c,error:u,count:d}=await a;if(u)throw console.error("Database query error:",u),new Error(`Database error: ${u.message}`);return console.log(` Fetched ${(c==null?void 0:c.length)||0} players (total: ${d})`),{data:c||[],count:d||0}}catch(s){throw console.error("fetchPlayersFromApi error:",s),s}}const lB=()=>{const{selectedSeason:e,selectedConference:t,currentSeasonConfig:n}=zs(),{toast:s}=An(),[r,a]=h.useState([]),[o,l]=h.useState(0),[c,u]=h.useState(1),d=50,[f,m]=h.useState(!0),[x,j]=h.useState(null),[v,y]=h.useState(""),[p,g]=h.useState("all"),[w,b]=h.useState("all"),[S,T]=h.useState(new Map),N=["QB","RB","WR","TE"];h.useEffect(()=>{(async()=>{try{const{data:$,error:I}=await wr.from("teams").select("id, team_name");if(I){console.error("Error loading teams:",I);return}const B=new Map;($||[]).forEach(Q=>{B.set(Q.id,Q.team_name)}),T(B)}catch($){console.error("Error setting up team lookup:",$)}})()},[]),h.useEffect(()=>{(async()=>{m(!0),j(null);try{const $={search:v,position:p,is_rostered:w==="rostered"?!0:w==="free_agent"?!1:""},{data:I,count:B}=await oB($,c,d);a(I||[]),l(B||0),s({title:"Players Loaded",description:`Found ${B||0} players for ${e} season`})}catch($){const I=$ instanceof Error?$.message:"Failed to fetch players";j(I),s({title:"Error",description:I,variant:"destructive"})}finally{m(!1)}})()},[v,p,w,c,e,t]);const C=k=>{switch(k){case"QB":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"RB":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"WR":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"TE":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},R=(k,$)=>{if($){const I={IR:"destructive",O:"destructive",D:"destructive",Q:"secondary",P:"outline"};return i.jsx(ee,{variant:I[$]||"outline",className:"text-xs",children:$})}return k?i.jsx(ee,{variant:"default",className:"text-xs",children:"Rostered"}):i.jsx(ee,{variant:"outline",className:"text-xs",children:"FA"})},D=k=>!k||k.length===0?null:i.jsx("div",{className:"flex flex-col gap-1",children:k.map($=>{const I=S.get($)||`Team ${$}`;return i.jsx(Pt,{to:`/teams/${$}`,children:i.jsx(ee,{variant:"outline",className:"text-xs hover:bg-primary hover:text-primary-foreground cursor-pointer transition-colors",children:I})},$)})});return f&&r.length===0?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx(sn,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),i.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Loading Players"}),i.jsx("p",{className:"text-muted-foreground",children:"Fetching player data..."})]})}):x&&r.length===0?i.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:i.jsxs(Y,{className:"w-full max-w-md",children:[i.jsx(ie,{children:i.jsx(ae,{className:"flex items-center gap-2 text-destructive",children:"Error Loading Players"})}),i.jsxs(X,{className:"space-y-4",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:x}),i.jsx(te,{onClick:()=>window.location.reload(),className:"w-full",children:"Retry"})]})]})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col space-y-2",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ml,{className:"h-6 w-6 text-primary"}),i.jsx("h1",{className:"text-3xl font-bold",children:"Players"})]}),i.jsxs("p",{className:"text-muted-foreground",children:[e," Season  ",o," players"]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Tx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(hn,{placeholder:"Search players...",value:v,onChange:k=>{y(k.target.value),u(1)},className:"pl-10"})]}),i.jsxs(At,{value:p,onValueChange:k=>{g(k),u(1)},children:[i.jsx(Ct,{children:i.jsx(Dt,{placeholder:"All Positions"})}),i.jsxs(Et,{children:[i.jsx($e,{value:"all",children:"All Positions"}),N.map(k=>i.jsx($e,{value:k,children:k},k))]})]}),i.jsxs(At,{value:w,onValueChange:k=>{b(k),u(1)},children:[i.jsx(Ct,{children:i.jsx(Dt,{placeholder:"All Status"})}),i.jsxs(Et,{children:[i.jsx($e,{value:"all",children:"All Status"}),i.jsx($e,{value:"rostered",children:"Rostered"}),i.jsx($e,{value:"free_agent",children:"Free Agent"})]})]})]}),i.jsx(Y,{children:i.jsxs(X,{className:"pt-6",children:[i.jsx("div",{className:"rounded-md border",children:i.jsxs(pn,{children:[i.jsx(gn,{children:i.jsxs(Pe,{children:[i.jsx(se,{children:"Player"}),i.jsx(se,{children:"Pos"}),i.jsx(se,{className:"hidden sm:table-cell",children:"NFL Team"}),i.jsx(se,{className:"text-right",children:"Points"}),i.jsx(se,{className:"text-right hidden md:table-cell",children:"Avg"}),i.jsx(se,{children:"Status"}),i.jsx(se,{className:"hidden lg:table-cell",children:"Rostered By"}),i.jsx(se,{className:"w-10"})]})}),i.jsx(xn,{children:f?i.jsx(Pe,{children:i.jsx(Z,{colSpan:8,className:"text-center py-8",children:i.jsx(sn,{className:"h-6 w-6 animate-spin mx-auto"})})}):r.length===0?i.jsx(Pe,{children:i.jsx(Z,{colSpan:8,className:"text-center py-8",children:"No players found."})}):r.map(k=>i.jsxs(Pe,{children:[i.jsx(Z,{children:i.jsx("div",{className:"font-medium",children:k.player_name})}),i.jsx(Z,{children:i.jsx(ee,{className:C(k.position),children:k.position})}),i.jsx(Z,{className:"hidden sm:table-cell",children:k.nfl_team||"FA"}),i.jsx(Z,{className:"text-right font-mono",children:k.total_points.toFixed(1)}),i.jsx(Z,{className:"text-right font-mono hidden md:table-cell",children:k.avg_points.toFixed(1)}),i.jsx(Z,{children:R(k.is_rostered,k.injury_status)}),i.jsx(Z,{className:"hidden lg:table-cell",children:D(k.rostered_by_teams)}),i.jsx(Z,{children:i.jsx(Pt,{to:`/players/${k.sleeper_id}`,children:i.jsx(te,{variant:"ghost",size:"sm",children:i.jsx(Ex,{className:"h-4 w-4"})})})})]},k.id))})]})}),i.jsxs("div",{className:"flex items-center justify-between space-x-2 py-4",children:[i.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",Math.min((c-1)*d+1,o)," to ",Math.min(c*d,o)," of ",o," players"]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(te,{variant:"outline",size:"sm",onClick:()=>u(k=>Math.max(1,k-1)),disabled:c===1,children:"Previous"}),i.jsxs("span",{className:"text-sm",children:["Page ",c," of ",Math.ceil(o/d)]}),i.jsx(te,{variant:"outline",size:"sm",onClick:()=>u(k=>k+1),disabled:c*d>=o,children:"Next"})]})]})]})})]})};var hv="Progress",mv=100,[cB,L7]=ts(hv),[uB,dB]=cB(hv),BE=h.forwardRef((e,t)=>{const{__scopeProgress:n,value:s=null,max:r,getValueLabel:a=fB,...o}=e;(r||r===0)&&!T0(r)&&console.error(hB(`${r}`,"Progress"));const l=T0(r)?r:mv;s!==null&&!k0(s,l)&&console.error(mB(`${s}`,"Progress"));const c=k0(s,l)?s:null,u=zd(c)?a(c,l):void 0;return i.jsx(uB,{scope:n,value:c,max:l,children:i.jsx(xe.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":zd(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":zE(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});BE.displayName=hv;var UE="ProgressIndicator",VE=h.forwardRef((e,t)=>{const{__scopeProgress:n,...s}=e,r=dB(UE,n);return i.jsx(xe.div,{"data-state":zE(r.value,r.max),"data-value":r.value??void 0,"data-max":r.max,...s,ref:t})});VE.displayName=UE;function fB(e,t){return`${Math.round(e/t*100)}%`}function zE(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function zd(e){return typeof e=="number"}function T0(e){return zd(e)&&!isNaN(e)&&e>0}function k0(e,t){return zd(e)&&!isNaN(e)&&e<=t&&e>=0}function hB(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${mv}\`.`}function mB(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${mv} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var WE=BE,pB=VE;const er=h.forwardRef(({className:e,value:t,...n},s)=>i.jsx(WE,{ref:s,className:me("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",e),...n,children:i.jsx(pB,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));er.displayName=WE.displayName;const gB=()=>{const{playerId:e}=u1(),{selectedSeason:t,selectedConference:n,currentSeasonConfig:s}=zs(),{toast:r}=An(),[a,o]=h.useState("overview"),[l,c]=h.useState(null),[u,d]=h.useState(!0),[f,m]=h.useState(null),x=async()=>{if(!(!e||!s))try{d(!0),m(null),console.log("Fetching player detail for ID:",e);const p=await de.getPlayers({filters:[{column:"sleeper_id",operator:"eq",value:e},{column:"playing_status",operator:"eq",value:"Active"},{column:"position",operator:"in",value:["QB","RB","WR","TE"]}]});if(p.error||!p.data||p.data.length===0)throw new Error("Player not found or not active");const g=p.data[0];console.log("Found player:",g);let w=s.conferences;n&&n!=="all"&&(w=s.conferences.filter(O=>O.id===n));const b=w.filter(O=>O.dbConferenceId).map(O=>O.dbConferenceId);if(b.length===0)throw new Error("No valid conference IDs found");const S=await de.getTeamConferenceJunctions({filters:[{column:"conference_id",operator:"in",value:b}]});if(S.error||!S.data)throw new Error("Failed to fetch team mappings");const T=[...new Set(S.data.map(O=>O.team_id))],N=await de.getTeams({filters:[{column:"id",operator:"in",value:T}]});if(N.error||!N.data)throw new Error("Failed to fetch teams");const C=await Promise.all(w.map(async O=>{try{if(!O.leagueId)return console.warn(`No league ID for conference ${O.name}`),{conference:O,rosters:[]};const V=await Ye.fetchLeagueRosters(O.leagueId);return{conference:O,rosters:V}}catch(V){return console.warn(`Failed to fetch rosters for conference ${O.name}:`,V),{conference:O,rosters:[]}}})),R=[];C.forEach(({conference:O,rosters:V})=>{V.forEach(A=>{var _,E;if(A.players&&A.players.includes(e)){const P=(_=S.data)==null?void 0:_.find(L=>L.conference_id===O.dbConferenceId&&L.roster_id===A.roster_id);if(P){const L=(E=N.data)==null?void 0:E.find(M=>M.id===P.team_id);L&&R.push({conference_id:O.dbConferenceId,conference_name:O.name,team_id:L.id,team_name:L.team_name,owner_name:L.owner_name,roster_id:A.roster_id,league_id:O.leagueId})}}})});const D=[],k=j(),$=[...new Set(R.map(O=>O.league_id))];for(const O of $){const V=R.find(A=>A.league_id===O);if(V)for(let A=1;A<=Math.min(k,17);A++)try{const E=(await Ye.fetchMatchups(O,A)).find(P=>P.players&&P.players.includes(e));if(E&&E.players_points){const P=E.players_points[e]||0;D.push({week:A,points:P,league_id:O,conference_name:V.conference_name})}}catch(_){console.warn(`Failed to fetch matchup data for league ${O}, week ${A}:`,_)}}const I={totalPoints:D.reduce((O,V)=>O+V.points,0),gamesPlayed:D.length,bestGame:D.length>0?Math.max(...D.map(O=>O.points)):0,worstGame:D.length>0?Math.min(...D.map(O=>O.points)):0,avgPoints:0,consistency:0,weeklyPerformance:D};if(I.avgPoints=I.gamesPlayed>0?I.totalPoints/I.gamesPlayed:0,I.gamesPlayed>1){const O=I.avgPoints,V=D.reduce((E,P)=>E+Math.pow(P.points-O,2),0)/I.gamesPlayed,A=Math.sqrt(V),_=O>0?A/O:0;I.consistency=Math.max(0,100-_*100)}let B;R.length===0?B="free_agent":R.length===1?B="rostered":B="multi_rostered";const Q={id:g.id,sleeper_id:g.sleeper_id,player_name:g.player_name,position:g.position,nfl_team:g.nfl_team||"FA",number:g.number||0,age:g.age||0,height:g.height||0,weight:g.weight||0,college:g.college||"Unknown",playing_status:g.playing_status||"Active",injury_status:g.injury_status,depth_chart:g.depth_chart||1,rostered_by:R,availability_status:B,season_stats:I};c(Q),console.log("Loaded player detail:",Q),r({title:"Player Loaded",description:`Found ${Q.player_name} with ${I.gamesPlayed} games of data`})}catch(p){console.error("Error fetching player data:",p);const g=p instanceof Error?p.message:"Failed to fetch player data";m(g),r({title:"Error Loading Player",description:g,variant:"destructive"})}finally{d(!1)}};h.useEffect(()=>{e&&s&&x()},[e,t,n,s]);const j=()=>{const p=new Date,g=new Date(p.getFullYear(),8,1),w=Math.floor((p.getTime()-g.getTime())/(7*24*60*60*1e3));return Math.min(Math.max(w+1,1),17)},v=p=>{switch(p){case"QB":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"RB":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"WR":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"TE":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},y=p=>{if(!p||p==="Healthy")return null;const g={IR:"destructive",Out:"destructive",Doubtful:"destructive",Questionable:"secondary",Probable:"secondary",Q:"secondary",D:"destructive",O:"destructive"};return i.jsx(ee,{variant:g[p]||"outline",children:p})};return u?i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsxs("div",{className:"text-center",children:[i.jsx(sn,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Loading player data..."})]})}):f?i.jsxs("div",{className:"space-y-6",children:[i.jsx(Pt,{to:"/players",children:i.jsxs(te,{variant:"ghost",className:"mb-4",children:[i.jsx($l,{className:"mr-2 h-4 w-4"}),"Back to Players"]})}),i.jsxs(_t,{variant:"destructive",children:[i.jsx(Ze,{className:"h-4 w-4"}),i.jsx(St,{children:f})]}),i.jsx("div",{className:"text-center",children:i.jsxs(te,{onClick:x,variant:"outline",children:[i.jsx(tt,{className:"mr-2 h-4 w-4"}),"Try Again"]})})]}):l?i.jsxs("div",{className:"space-y-6",children:[i.jsx(Pt,{to:"/players",children:i.jsxs(te,{variant:"ghost",className:"mb-4",children:[i.jsx($l,{className:"mr-2 h-4 w-4"}),"Back to Players"]})}),i.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"h-16 w-16 bg-primary/10 rounded-full flex items-center justify-center",children:i.jsx(a$,{className:"h-8 w-8 text-primary"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:l.player_name}),i.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[i.jsx(ee,{className:v(l.position),children:l.position}),i.jsxs(ee,{variant:"outline",children:[l.nfl_team," #",l.number]}),y(l.injury_status)]}),i.jsxs("p",{className:"text-muted-foreground mt-1",children:[l.age," years old  ",l.height,'"", ',l.weight," lbs  ",l.college]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold",children:l.season_stats.totalPoints.toFixed(1)}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Points"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold",children:l.season_stats.avgPoints.toFixed(1)}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg/Game"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold",children:l.season_stats.bestGame.toFixed(1)}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Best Game"})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"text-2xl font-bold",children:[l.season_stats.consistency.toFixed(0),"%"]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Consistency"})]})]})]}),l.rostered_by.length>0&&i.jsx(Y,{children:i.jsx(X,{className:"pt-6",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Currently rostered by:"}),l.rostered_by.map((p,g)=>i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("p",{className:"font-semibold",children:p.team_name}),i.jsx("span",{className:"text-muted-foreground",children:""}),i.jsx("p",{className:"text-muted-foreground",children:p.owner_name})]}),l.rostered_by.length>1&&i.jsx("p",{className:"text-sm text-blue-600",children:p.conference_name})]}),i.jsx(Pt,{to:`/teams/${p.team_id}`,children:i.jsx(te,{variant:"outline",size:"sm",children:"View Team"})})]},g))]})})}),i.jsxs(ja,{value:a,onValueChange:o,className:"w-full",children:[i.jsxs(Ai,{className:"grid w-full grid-cols-3",children:[i.jsx(He,{value:"overview",children:"Overview"}),i.jsx(He,{value:"performance",children:"Performance"}),i.jsx(He,{value:"details",children:"Details"})]}),i.jsx(qe,{value:"overview",className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs(Y,{children:[i.jsx(ie,{children:i.jsxs(ae,{className:"flex items-center space-x-2",children:[i.jsx(Kt,{className:"h-5 w-5"}),i.jsx("span",{children:"Season Summary"})]})}),i.jsxs(X,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Fantasy Points"}),i.jsx("p",{className:"text-2xl font-bold",children:l.season_stats.totalPoints.toFixed(1)})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Games Played"}),i.jsx("p",{className:"text-2xl font-bold",children:l.season_stats.gamesPlayed})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Best Game"}),i.jsx("p",{className:"text-2xl font-bold",children:l.season_stats.bestGame.toFixed(1)})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Consistency"}),i.jsxs("p",{className:"text-2xl font-bold",children:[l.season_stats.consistency.toFixed(0),"%"]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Availability Status"}),i.jsx("span",{className:"capitalize",children:l.availability_status.replace("_"," ")})]}),i.jsx(er,{value:l.availability_status==="multi_rostered"?100:l.availability_status==="rostered"?75:25,className:"h-2"})]})]})]}),i.jsxs(Y,{children:[i.jsx(ie,{children:i.jsx(ae,{children:"Player Info"})}),i.jsx(X,{className:"space-y-3",children:i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-muted-foreground",children:"Position"}),i.jsx("p",{className:"font-medium",children:l.position})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-muted-foreground",children:"NFL Team"}),i.jsx("p",{className:"font-medium",children:l.nfl_team})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-muted-foreground",children:"Number"}),i.jsxs("p",{className:"font-medium",children:["#",l.number]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-muted-foreground",children:"Depth Chart"}),i.jsx("p",{className:"font-medium",children:l.depth_chart})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-muted-foreground",children:"Height"}),i.jsxs("p",{className:"font-medium",children:[l.height,'""']})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-muted-foreground",children:"Weight"}),i.jsxs("p",{className:"font-medium",children:[l.weight," lbs"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-muted-foreground",children:"College"}),i.jsx("p",{className:"font-medium",children:l.college})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-muted-foreground",children:"Age"}),i.jsx("p",{className:"font-medium",children:l.age})]})]})})]})]})}),i.jsx(qe,{value:"performance",className:"space-y-4",children:i.jsxs(Y,{children:[i.jsxs(ie,{children:[i.jsxs(ae,{className:"flex items-center space-x-2",children:[i.jsx(jf,{className:"h-5 w-5"}),i.jsx("span",{children:"Weekly Performance"})]}),i.jsx(be,{children:"Fantasy points by week across all leagues"})]}),i.jsx(X,{children:l.season_stats.weeklyPerformance.length>0?i.jsx("div",{className:"rounded-md border",children:i.jsxs(pn,{children:[i.jsx(gn,{children:i.jsxs(Pe,{children:[i.jsx(se,{children:"Week"}),i.jsx(se,{children:"Conference"}),i.jsx(se,{className:"text-right",children:"Points"})]})}),i.jsx(xn,{children:l.season_stats.weeklyPerformance.sort((p,g)=>g.week-p.week).slice(0,10).map((p,g)=>i.jsxs(Pe,{children:[i.jsxs(Z,{className:"font-medium",children:["Week ",p.week]}),i.jsx(Z,{children:p.conference_name}),i.jsx(Z,{className:"text-right font-mono",children:p.points.toFixed(1)})]},g))})]})}):i.jsx("div",{className:"text-center py-8",children:i.jsx("p",{className:"text-muted-foreground",children:"No performance data available"})})})]})}),i.jsxs(qe,{value:"details",className:"space-y-4",children:[i.jsxs(Y,{children:[i.jsxs(ie,{children:[i.jsx(ae,{children:"Roster Information"}),i.jsx(be,{children:"Current roster status across all conferences"})]}),i.jsx(X,{children:l.rostered_by.length>0?i.jsx("div",{className:"space-y-4",children:l.rostered_by.map((p,g)=>i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h4",{className:"font-semibold",children:p.team_name}),i.jsx(ee,{variant:"outline",children:p.conference_name})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-muted-foreground",children:"Owner"}),i.jsx("p",{className:"font-medium",children:p.owner_name})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-muted-foreground",children:"Roster ID"}),i.jsx("p",{className:"font-medium",children:p.roster_id})]})]})]},g))}):i.jsx("div",{className:"text-center py-8",children:i.jsx("p",{className:"text-muted-foreground",children:"Player is currently a free agent"})})})]}),l.injury_status&&i.jsxs(Y,{children:[i.jsx(ie,{children:i.jsxs(ae,{className:"flex items-center space-x-2",children:[i.jsx(Ze,{className:"h-5 w-5 text-yellow-600"}),i.jsx("span",{children:"Injury Status"})]})}),i.jsx(X,{children:i.jsxs("div",{className:"flex items-start space-x-3 p-4 border rounded-lg bg-yellow-50 dark:bg-yellow-900/20",children:[i.jsx(Ze,{className:"h-5 w-5 text-yellow-600 mt-0.5"}),i.jsxs("div",{children:[i.jsxs("h4",{className:"font-semibold text-yellow-800 dark:text-yellow-200",children:["Status: ",l.injury_status]}),i.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"Player is currently listed with an injury designation. Monitor status updates."})]})]})})]})]})]})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsx(Pt,{to:"/players",children:i.jsxs(te,{variant:"ghost",className:"mb-4",children:[i.jsx($l,{className:"mr-2 h-4 w-4"}),"Back to Players"]})}),i.jsxs(_t,{children:[i.jsx(Ze,{className:"h-4 w-4"}),i.jsx(St,{children:"Player not found or not available in the current season configuration."})]})]})},xB=()=>{var S,T,N;const{toast:e}=An(),{selectedConference:t,currentSeasonConfig:n,loading:s,error:r}=zs(),[a,o]=h.useState([]),[l,c]=h.useState([]),[u,d]=h.useState(!0),[f,m]=h.useState(null),[x,j]=h.useState({team:"all",player:"",type:"all",conference:"all"}),v=async()=>{if(!n){d(!1);return}try{d(!0),m(null);const C=t==="all"||t===null?n.conferences:n.conferences.filter(O=>O.id===t),R=C.filter(O=>O.dbConferenceId).map(O=>O.dbConferenceId);if(R.length===0){o([]),c([]);return}const D=await de.getTransactions({filters:[{column:"conference_id",operator:"in",value:R}],orderBy:{column:"created_at",ascending:!1}});if(D.error||!D.data)throw new Error(D.error||"Failed to fetch transactions");const k=await de.getTeams({}),$=await de.getTeamConferenceJunctions({filters:[{column:"conference_id",operator:"in",value:R}]}),I=await de.getAllPlayersForMapping([{column:"playing_status",operator:"eq",value:"Active"},{column:"position",operator:"in",value:["QB","RB","WR","TE"]}]),B=new Map;I.forEach(O=>{O.sleeper_id&&B.set(String(O.sleeper_id),O.player_name)});const Q=await Promise.all(D.data.map(async O=>{let V={};try{V=typeof O.data=="string"?JSON.parse(O.data):O.data||{}}catch(W){console.warn("Failed to parse transaction data:",W)}const A=C.find(W=>W.dbConferenceId===O.conference_id),_=W=>{var F;const K=(F=$.data)==null?void 0:F.find(ne=>ne.roster_id.toString()===W.toString()&&ne.conference_id===O.conference_id);if(K&&k.data){const ne=k.data.find(le=>le.id===K.team_id);return(ne==null?void 0:ne.team_name)||"Unknown Team"}return"Unknown Team"};let E="Unknown Team";V.roster_ids&&V.roster_ids.length>0&&(E=_(V.roster_ids[0]));const P=[],L=[],M=W=>{const K=String(W);return B.get(K)||`Player ${K}`};if(V.adds)for(const[W,K]of Object.entries(V.adds)){const F=M(W),ne=_(K);P.push({name:F,team:ne})}if(V.drops)for(const[W,K]of Object.entries(V.drops)){const F=M(W),ne=_(K);L.push({name:F,team:ne})}let H="";const re=V.type||O.type,G=new Set;switch(V.roster_ids&&V.roster_ids.forEach(W=>{const K=_(W);K!=="Unknown Team"&&G.add(K)}),re){case"trade":if(P.length>0||L.length>0){const W=[];P.forEach(K=>W.push(`${K.name} to ${K.team}`)),L.forEach(K=>W.push(`${K.name} from ${K.team}`)),G.size>1?H=`Trade between ${Array.from(G).join(" and ")}: ${W.join(", ")}`:H=`${E} trade: ${W.join(", ")}`}else V.draft_picks&&V.draft_picks.length>0?H=`Trade involving ${V.draft_picks.map(K=>`${K.season} Round ${K.round} pick`).join(", ")}`:H=`Trade between ${Array.from(G).join(" and ")}`;break;case"waiver":P.length>0&&L.length>0?H=`${E} claimed ${P.map(W=>W.name).join(", ")} from waivers, dropped ${L.map(W=>W.name).join(", ")}`:P.length>0?H=`${E} claimed ${P.map(W=>W.name).join(", ")} from waivers`:L.length>0?H=`${E} dropped ${L.map(W=>W.name).join(", ")} to waivers`:H=`${E} made a waiver claim`;break;case"free_agent":P.length>0&&L.length>0?H=`${E} added ${P.map(W=>W.name).join(", ")}, dropped ${L.map(W=>W.name).join(", ")}`:P.length>0?H=`${E} added ${P.map(W=>W.name).join(", ")} from free agency`:L.length>0?H=`${E} dropped ${L.map(W=>W.name).join(", ")}`:H=`${E} made a free agent transaction`;break;default:H=`${E} completed a ${re||"transaction"}`}const z=V.type==="trade"?"trade":V.type==="waiver"?"waiver":V.type==="free_agent"?"free_agent":"commissioner";return{id:O.id.toString(),type:z,date:new Date(O.created_at||new Date),details:H,teams:[E],players:{added:P.map(W=>({id:"",name:W.name,team:W.team})),dropped:L.map(W=>({id:"",name:W.name,team:W.team}))},week:V.leg||0,status:"completed",rosterIds:V.roster_ids||[],draftPicks:V.draft_picks||[],waiverBudget:V.waiver_budget||[],conference:(A==null?void 0:A.name)||"Unknown Conference",conferenceId:O.conference_id.toString()}}));o(Q),c(Q)}catch(C){console.error("Error fetching transactions:",C),m("Failed to load transactions. Please try again."),e({title:"Error",description:"Failed to load transactions. Please try again.",variant:"destructive"})}finally{d(!1)}},y=()=>{let C=[...a];x.team&&x.team!=="all"&&(C=C.filter(R=>R.teams.some(D=>D.toLowerCase().includes(x.team.toLowerCase())))),x.player&&(C=C.filter(R=>{const D=R.players.added||[],k=R.players.dropped||[];return[...D,...k].some($=>$.name.toLowerCase().includes(x.player.toLowerCase()))})),x.type&&x.type!=="all"&&(C=C.filter(R=>R.type===x.type)),x.conference&&x.conference!=="all"&&(C=C.filter(R=>R.conferenceId===x.conference)),c(C)},p=()=>{j({team:"all",player:"",type:"all",conference:"all"})},g=(C,R)=>{j(D=>({...D,[C]:R}))};h.useEffect(()=>{v()},[n,t]),h.useEffect(()=>{y()},[x,a]);const w=()=>{const C=new Set(a.map(R=>R.type));return Array.from(C).filter(R=>R&&R.trim()!=="")},b=()=>{const C=new Set;return a.forEach(R=>{R.teams.forEach(D=>{D&&D.trim()!==""&&C.add(D)})}),Array.from(C).sort()};return s?i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Transactions"}),i.jsx("p",{className:"text-muted-foreground",children:"All roster moves and trades across conferences"})]})}),i.jsx("div",{className:"grid gap-4",children:[...Array(5)].map((C,R)=>i.jsx(Y,{className:"animate-pulse",children:i.jsxs(X,{className:"p-6",children:[i.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),i.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]})},R))})]}):r?i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Transactions"}),i.jsx("p",{className:"text-muted-foreground",children:"All roster moves and trades across conferences"})]})}),i.jsx(_t,{variant:"destructive",children:i.jsxs(St,{children:["App Error: ",r]})})]}):n?u?i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Transactions"}),i.jsx("p",{className:"text-muted-foreground",children:"All roster moves and trades across conferences"})]})}),i.jsx("div",{className:"grid gap-4",children:[...Array(5)].map((C,R)=>i.jsx(Y,{className:"animate-pulse",children:i.jsxs(X,{className:"p-6",children:[i.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),i.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]})},R))})]}):f?i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Transactions"}),i.jsx("p",{className:"text-muted-foreground",children:"All roster moves and trades across conferences"})]})}),i.jsx(_t,{variant:"destructive",children:i.jsx(St,{children:f})}),i.jsxs(te,{onClick:v,className:"w-full",children:[i.jsx(tt,{className:"mr-2 h-4 w-4"}),"Try Again"]})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Transactions"}),i.jsx("p",{className:"text-muted-foreground",children:"All roster moves and trades across conferences"})]}),i.jsxs(te,{onClick:v,variant:"outline",size:"sm",children:[i.jsx(tt,{className:"mr-2 h-4 w-4"}),"Refresh"]})]}),i.jsxs(Y,{children:[i.jsxs(ie,{children:[i.jsxs(ae,{className:"flex items-center space-x-2",children:[i.jsx(sN,{className:"h-5 w-5"}),i.jsx("span",{children:"Filters"})]}),i.jsx(be,{children:"Filter transactions by team, player, type, or conference"})]}),i.jsxs(X,{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Team"}),i.jsxs(At,{value:x.team,onValueChange:C=>g("team",C),children:[i.jsx(Ct,{children:i.jsx(Dt,{placeholder:"All teams"})}),i.jsxs(Et,{children:[i.jsx($e,{value:"all",children:"All teams"}),b().filter(C=>C&&C.trim()!=="").map(C=>i.jsx($e,{value:C,children:C},C))]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Player"}),i.jsxs("div",{className:"relative",children:[i.jsx(Tx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(hn,{placeholder:"Search players...",value:x.player,onChange:C=>g("player",C.target.value),className:"pl-10"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Type"}),i.jsxs(At,{value:x.type,onValueChange:C=>g("type",C),children:[i.jsx(Ct,{children:i.jsx(Dt,{placeholder:"All types"})}),i.jsxs(Et,{children:[i.jsx($e,{value:"all",children:"All types"}),w().filter(C=>C&&C.trim()!=="").map(C=>i.jsx($e,{value:C,children:C==="trade"?"Trade":C==="free_agent"?"Free Agent":C==="waiver"?"Waiver":C==="commissioner"?"Commissioner":C},C))]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Conference"}),i.jsxs(At,{value:x.conference,onValueChange:C=>g("conference",C),children:[i.jsx(Ct,{children:i.jsx(Dt,{placeholder:"All conferences"})}),i.jsxs(Et,{children:[i.jsx($e,{value:"all",children:"All conferences"}),(S=n==null?void 0:n.conferences)==null?void 0:S.filter(C=>{var D;const R=((D=C.dbConferenceId)==null?void 0:D.toString())||C.id;return R&&R.trim()!==""}).map(C=>{var D;const R=((D=C.dbConferenceId)==null?void 0:D.toString())||C.id;return i.jsx($e,{value:R,children:C.name},R)})]})]})]})]}),i.jsxs("div",{className:"flex items-center justify-between mt-4",children:[i.jsx("div",{className:"flex items-center space-x-2",children:(x.team!=="all"||x.player!==""||x.type!=="all"||x.conference!=="all")&&i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Active filters:"}),x.team!=="all"&&i.jsxs(ee,{variant:"secondary",children:["Team: ",x.team]}),x.player!==""&&i.jsxs(ee,{variant:"secondary",children:["Player: ",x.player]}),x.type!=="all"&&i.jsxs(ee,{variant:"secondary",children:["Type: ",x.type]}),x.conference!=="all"&&i.jsxs(ee,{variant:"secondary",children:["Conference: ",(N=(T=n==null?void 0:n.conferences)==null?void 0:T.filter(C=>{var D;const R=((D=C.dbConferenceId)==null?void 0:D.toString())||C.id;return R&&R.trim()!==""}).find(C=>{var R;return((R=C.dbConferenceId)==null?void 0:R.toString())===x.conference}))==null?void 0:N.name]})]})}),(x.team!=="all"||x.player!==""||x.type!=="all"||x.conference!=="all")&&i.jsx(te,{variant:"outline",size:"sm",onClick:p,children:"Reset Filters"})]})]})]}),i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(To,{className:"h-5 w-5 text-primary"}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:["Showing ",l.length," of ",a.length," transactions"]})]})}),i.jsx("div",{className:"space-y-4",children:l.length>0?l.map((C,R)=>i.jsx(FE,{transaction:C},R)):i.jsx(Y,{children:i.jsxs(X,{className:"p-12 text-center",children:[i.jsx(To,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No transactions found"}),i.jsx("p",{className:"text-muted-foreground",children:x.team!=="all"||x.player!==""||x.type!=="all"||x.conference!=="all"?"No transactions match your current filters. Try adjusting your search criteria.":"No transactions available at this time."}),(x.team!=="all"||x.player!==""||x.type!=="all"||x.conference!=="all")&&i.jsx(te,{variant:"outline",onClick:p,className:"mt-4",children:"Clear Filters"})]})})})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Transactions"}),i.jsx("p",{className:"text-muted-foreground",children:"All roster moves and trades across conferences"})]})}),i.jsx("div",{className:"grid gap-4",children:[...Array(5)].map((C,R)=>i.jsx(Y,{className:"animate-pulse",children:i.jsxs(X,{className:"p-6",children:[i.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),i.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]})},R))})]})},vB=()=>{var V;const{selectedSeason:e,selectedConference:t}=zs(),{toast:n}=An(),[s,r]=h.useState(1),[a,o]=h.useState("board"),[l,c]=h.useState(!0),[u,d]=h.useState([]),[f,m]=h.useState([]),[x,j]=h.useState([]),[v,y]=h.useState({}),[p,g]=h.useState([]),[w,b]=h.useState(!1),[S,T]=h.useState(new Set);h.useEffect(()=>{N()},[]),h.useEffect(()=>{e&&x.length>0&&f.length>0&&p.length>0&&Object.keys(v).length>0&&C()},[e,t,x,f,p,v]);const N=async()=>{c(!0);try{const A=await de.getSeasons({orderBy:{column:"season_year",ascending:!1},limit:50});if(A.error)throw A.error;j(A.data||[]);const _=await de.getConferences({orderBy:{column:"conference_name",ascending:!0},limit:50});if(_.error)throw _.error;m(_.data||[]);const E=await de.getTeams({orderBy:{column:"team_name",ascending:!0},limit:100});if(E.error)throw E.error;g(E.data||[]);try{const P=await de.getAllPlayersForMapping(),L={};P.forEach(M=>{M.sleeper_id&&(L[M.sleeper_id]=M)}),y(L),console.log(` Loaded ${Object.keys(L).length} players from database (${P.length} total players)`)}catch(P){console.warn("Could not load players data from database:",P),y({})}}catch(A){console.error("Error loading initial data:",A),n({title:"Error",description:`Failed to load initial data: ${A}`,variant:"destructive"})}finally{c(!1)}},C=async()=>{var A;if(!e){console.log(" No selectedSeason, skipping draft data load");return}if(x.length===0){console.log(" Seasons not loaded yet, skipping draft data load");return}if(f.length===0){console.log(" Conferences not loaded yet, skipping draft data load");return}if(p.length===0){console.log(" Teams not loaded yet, skipping draft data load");return}if(Object.keys(v).length===0){console.log(" Players not loaded yet, skipping draft data load");return}b(!0);try{if(console.log(` Loading draft data for season ${e}, conference: ${t||"all"}`),console.log(` Available data: seasons=${x.length}, conferences=${f.length}, teams=${p.length}, players=${Object.keys(v).length}`),!x.find(H=>H.season_year===e.toString())){console.warn(` Season ${e} not found in database`),console.log("Available seasons:",x.map(H=>H.season_year)),d([]);return}const E=[{column:"draft_year",operator:"eq",value:e.toString()}];console.log(" Draft query filters:",E);const P=await de.getDraftResults({filters:E,orderBy:{column:"pick_number",ascending:!0},limit:1e3});if(P.error)throw P.error;console.log(` Loaded ${((A=P.data)==null?void 0:A.length)||0} draft picks`);const L=P.data||[],M=L.map(H=>{const re=f.find(W=>W.league_id===H.league_id),G=v[H.sleeper_id],z=p.find(W=>W.owner_id===H.owner_id);return L.indexOf(H)<3&&console.log(` Processing pick ${H.pick_number}:`,{sleeper_id:H.sleeper_id,player_found:!!G,player_name:G==null?void 0:G.player_name,conference_found:!!re,team_found:!!z}),{...H,conference_name:(re==null?void 0:re.conference_name)||"Unknown Conference",player_name:(G==null?void 0:G.player_name)||"Unknown Player",position:(G==null?void 0:G.position)||"UNK",nfl_team:(G==null?void 0:G.nfl_team)||"UNK",owner_name:(z==null?void 0:z.owner_name)||"Unknown Owner",team_name:(z==null?void 0:z.team_name)||"Unknown Team",conference_id:re==null?void 0:re.id,team_id:z==null?void 0:z.id,player_id:H.sleeper_id}});console.log(` Processed ${M.length} draft picks`),console.log("First few picks:",M.slice(0,3)),d(M)}catch(_){console.error("Error loading draft data:",_),n({title:"Error",description:`Failed to load draft data: ${_}`,variant:"destructive"}),d([])}finally{b(!1)}},R=A=>{const _=new Set(S);_.has(A)?_.delete(A):_.add(A),T(_)},D=()=>{if(!t){const L=x.find(H=>H.season_year===e.toString());if(!L)return console.log(" Season not found for getConferencesToShow"),[];const M=f.filter(H=>H.season_id===L.id);return console.log(` Showing ${M.length} conferences for season ${e}`),M}const _={thelegionsofmars:"The Legions of Mars",theguardiansofjupiter:"The Guardians of Jupiter",vulcansoathsworn:"Vulcan's Oathsworn"}[t];if(!_)return console.log(` Unknown conference ID: ${t}`),[];const E=x.find(L=>L.season_year===e.toString());if(!E)return console.log(" Season not found for specific conference"),[];const P=f.find(L=>L.season_id===E.id&&L.conference_name===_);return console.log(` Selected conference: ${_}, found: ${P?"yes":"no"}`),P?[P]:[]},k=A=>{switch(A){case"QB":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"RB":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"WR":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"TE":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"K":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200";case"DEF":return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},$=A=>{let E=u.filter(P=>P.conference_id===A.id).filter(P=>parseInt(P.round)===s);return E.sort((P,L)=>parseInt(P.draft_slot)-parseInt(L.draft_slot)),i.jsxs(Y,{children:[i.jsxs(ie,{children:[i.jsxs(ae,{className:"flex items-center space-x-2",children:[i.jsx(cc,{className:"h-5 w-5"}),i.jsx("span",{children:A.conference_name})]}),i.jsxs(be,{children:["Round ",s,"  ",E.length," picks"]})]}),i.jsx(X,{children:i.jsx("div",{className:"rounded-md border",children:i.jsxs(pn,{children:[i.jsx(gn,{children:i.jsxs(Pe,{children:[i.jsx(se,{className:"w-16",children:"Pick"}),i.jsx(se,{className:"w-16",children:"Overall"}),i.jsx(se,{children:"Player"}),i.jsx(se,{children:"Position"}),i.jsx(se,{className:"hidden sm:table-cell",children:"NFL Team"}),i.jsx(se,{children:"Drafted By"})]})}),i.jsx(xn,{children:E.length>0?E.map(P=>i.jsxs(Pe,{children:[i.jsx(Z,{className:"font-medium",children:P.draft_slot}),i.jsx(Z,{className:"font-medium",children:P.pick_number}),i.jsx(Z,{className:"font-semibold",children:P.player_name}),i.jsx(Z,{children:i.jsx(ee,{className:k(P.position),children:P.position})}),i.jsx(Z,{className:"hidden sm:table-cell",children:P.nfl_team}),i.jsx(Z,{children:i.jsxs("div",{className:"text-sm",children:[i.jsx("div",{className:"font-medium",children:P.team_name}),i.jsx("div",{className:"text-muted-foreground",children:P.owner_name})]})})]},`${A.id}-${P.pick_number}`)):i.jsx(Pe,{children:i.jsxs(Z,{colSpan:6,className:"text-center text-muted-foreground py-8",children:["No picks found for round ",s]})})})]})})})]},A.id)},I=()=>{const A=D();return i.jsx("div",{className:"space-y-6",children:A.map(_=>{const E=u.filter(M=>M.conference_id===_.id),P=new Map;E.forEach(M=>{const H=M.team_id;P.has(H)||P.set(H,{team_id:M.team_id,owner_name:M.owner_name,team_name:M.team_name,picks:[]}),P.get(H).picks.push(M)}),P.forEach(M=>{M.picks.sort((H,re)=>{const G=parseInt(H.round),z=parseInt(re.round);return G!==z?G-z:parseInt(H.draft_slot)-parseInt(re.draft_slot)})});const L=Array.from(P.values());return i.jsxs(Y,{children:[i.jsx(ie,{children:i.jsxs(ae,{className:"flex items-center space-x-2",children:[i.jsx(Yt,{className:"h-5 w-5"}),i.jsxs("span",{children:[_.conference_name," - Team Draft Summary"]})]})}),i.jsxs(X,{children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:L.map(M=>{const H=S.has(M.team_id),re=H?M.picks:M.picks.slice(0,8);return i.jsxs(Y,{children:[i.jsxs(ie,{className:"pb-2",children:[i.jsx(ae,{className:"text-lg",children:M.team_name}),i.jsxs(be,{children:[M.owner_name,"  ",M.picks.length," picks"]})]}),i.jsx(X,{children:i.jsxs("div",{className:"space-y-2",children:[re.map(G=>i.jsxs("div",{className:"flex items-center justify-between p-2 rounded-md bg-accent/50",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs(ee,{variant:"outline",className:"text-xs",children:["R",G.round]}),i.jsx("span",{className:"font-medium text-sm",children:G.player_name}),i.jsx(ee,{className:`${k(G.position)} text-xs`,children:G.position})]}),i.jsxs("span",{className:"text-xs text-muted-foreground",children:["#",G.pick_number]})]},G.pick_number)),M.picks.length>8&&i.jsx("div",{className:"flex justify-center pt-2",children:i.jsx(te,{variant:"ghost",size:"sm",onClick:()=>R(M.team_id),className:"text-xs",children:H?i.jsxs(i.Fragment,{children:[i.jsx(Cx,{className:"h-3 w-3 mr-1"}),"Show Less"]}):i.jsxs(i.Fragment,{children:[i.jsx(wf,{className:"h-3 w-3 mr-1"}),"Show All ",M.picks.length," Picks"]})})})]})})]},M.team_id)})}),L.length===0&&i.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[i.jsx(Ze,{className:"h-8 w-8 mx-auto mb-2"}),i.jsx("p",{children:"No draft picks found for this conference"}),i.jsx("p",{className:"text-sm",children:"Try syncing draft data from the Admin panel"})]})]})]},_.id)})})};if(l)return i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsx("div",{className:"animate-spin h-8 w-8 border-b-2 border-blue-600 rounded-full"})});console.log(" Render debug:",{selectedSeason:e,selectedConference:t,draftPicksCount:u.length,seasonsCount:x.length,conferencesCount:f.length,teamsCount:p.length});const B=D();console.log(" Conferences to show:",B.length);const Q=B.reduce((A,_)=>{const E=new Set(u.filter(P=>P.conference_id===_.id).map(P=>P.team_id));return A+E.size},0),O=Math.max(...u.map(A=>parseInt(A.round)),1);return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col space-y-2",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Qu,{className:"h-6 w-6 text-primary"}),i.jsx("h1",{className:"text-3xl font-bold",children:"Draft Results"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("p",{className:"text-muted-foreground",children:[e," Season  ",t?((V=B[0])==null?void 0:V.conference_name)||"Conference":"All Conferences"]}),i.jsxs(te,{variant:"outline",size:"sm",onClick:C,disabled:w,children:[w?i.jsx(tt,{className:"h-4 w-4 mr-2 animate-spin"}):i.jsx(tt,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsx(Y,{children:i.jsxs(ie,{className:"pb-2",children:[i.jsx(be,{children:"Total Conferences"}),i.jsx(ae,{className:"text-2xl",children:B.length})]})}),i.jsx(Y,{children:i.jsxs(ie,{className:"pb-2",children:[i.jsx(be,{children:"Total Teams"}),i.jsx(ae,{className:"text-2xl",children:Q})]})}),i.jsx(Y,{children:i.jsxs(ie,{className:"pb-2",children:[i.jsx(be,{children:"Total Picks"}),i.jsx(ae,{className:"text-2xl",children:u.length})]})}),i.jsx(Y,{children:i.jsxs(ie,{className:"pb-2",children:[i.jsx(be,{children:"Max Rounds"}),i.jsx(ae,{className:"text-2xl",children:O})]})})]}),u.length===0?i.jsx(Y,{children:i.jsxs(X,{className:"flex flex-col items-center justify-center py-12",children:[i.jsx(Ze,{className:"h-12 w-12 text-muted-foreground mb-4"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Draft Results Found"}),i.jsxs("p",{className:"text-muted-foreground text-center mb-4",children:["No draft picks found for the ",e," season",t?` in ${t}`:"","."]}),i.jsxs("div",{className:"text-sm text-muted-foreground text-center space-y-2",children:[i.jsx("p",{children:"Try:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[i.jsx("li",{children:"Selecting a different season from the dropdown above"}),i.jsx("li",{children:'Choosing "All Conferences" if you have a conference selected'}),i.jsx("li",{children:"Syncing draft data from Admin  Data Sync  Draft Sync"})]})]})]})}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:i.jsx("div",{className:"flex items-center space-x-4",children:i.jsxs(At,{value:s.toString(),onValueChange:A=>r(parseInt(A)),children:[i.jsx(Ct,{className:"w-32",children:i.jsx(Dt,{})}),i.jsx(Et,{children:Array.from({length:O},(A,_)=>i.jsxs($e,{value:(_+1).toString(),children:["Round ",_+1]},_+1))})]})})}),i.jsxs(ja,{value:a,onValueChange:A=>o(A),className:"w-full",children:[i.jsxs(Ai,{children:[i.jsx(He,{value:"board",children:"Draft Board"}),i.jsx(He,{value:"team",children:"Team View"})]}),i.jsx(qe,{value:"board",className:"space-y-6",children:B.map(A=>$(A))}),i.jsx(qe,{value:"team",className:"space-y-6",children:I()})]}),i.jsxs(Y,{children:[i.jsxs(ie,{children:[i.jsxs(ae,{className:"flex items-center space-x-2",children:[i.jsx(Kt,{className:"h-5 w-5"}),i.jsx("span",{children:"Draft Analysis"})]}),i.jsx(be,{children:"Draft insights and position trends"})]}),i.jsx(X,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[i.jsx("p",{className:"text-2xl font-bold text-green-600",children:u.filter(A=>A.position==="RB").length}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Running Backs Drafted"})]}),i.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[i.jsx("p",{className:"text-2xl font-bold",children:u.filter(A=>A.position==="QB").length}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Quarterbacks Drafted"})]}),i.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[i.jsx("p",{className:"text-2xl font-bold",children:u.filter(A=>A.position==="WR").length}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Wide Receivers Drafted"})]})]})})]})]})]})},dt={scoring:{passing:{passingYards:{points:1,per:25,description:"1 point per 25 passing yards"},passingTDs:{points:4,per:1,description:"4 points per passing touchdown"},interceptions:{points:-2,per:1,description:"-2 points per interception"},passing2pt:{points:2,per:1,description:"2 points per 2-point conversion"}},rushing:{rushingYards:{points:1,per:10,description:"1 point per 10 rushing yards"},rushingTDs:{points:6,per:1,description:"6 points per rushing touchdown"},rushing2pt:{points:2,per:1,description:"2 points per 2-point conversion"}},receiving:{receivingYards:{points:1,per:10,description:"1 point per 10 receiving yards"},receptions:{points:.5,per:1,description:"0.5 points per reception (PPR)"},receivingTDs:{points:6,per:1,description:"6 points per receiving touchdown"},receiving2pt:{points:2,per:1,description:"2 points per 2-point conversion"}},kicking:{fieldGoals0_39:{points:3,per:1,description:"3 points per field goal (0-39 yards)"},fieldGoals40_49:{points:4,per:1,description:"4 points per field goal (40-49 yards)"},fieldGoals50Plus:{points:5,per:1,description:"5 points per field goal (50+ yards)"},extraPoints:{points:1,per:1,description:"1 point per extra point"},missedFieldGoals:{points:-1,per:1,description:"-1 point per missed field goal"}}},roster:{positions:{QB:1,RB:2,WR:2,TE:1,FLEX:1,K:1,DEF:1,BENCH:6},totalRosterSize:15,irSlots:2,waiverSystem:"FAAB",waiverBudget:100,waiverClearTime:"Wednesday 3:00 AM ET"},schedule:{regularSeasonWeeks:14,playoffWeeks:3,playoffTeams:6,tradeDeadline:"Week 11",seasonStart:"2024-09-05",playoffStart:"2024-12-17"},payouts:{entryFee:50,totalPot:600,firstPlace:300,secondPlace:180,thirdPlace:90,regularSeasonChamp:30}},yB=()=>{const{selectedSeason:e,selectedConference:t,currentSeasonConfig:n}=zs(),[s,r]=h.useState("scoring"),a=(o,l)=>i.jsxs(Y,{children:[i.jsx(ie,{children:i.jsx(ae,{className:"capitalize",children:o})}),i.jsx(X,{children:i.jsx("div",{className:"rounded-md border",children:i.jsxs(pn,{children:[i.jsx(gn,{children:i.jsxs(Pe,{children:[i.jsx(se,{children:"Statistic"}),i.jsx(se,{className:"text-right",children:"Points"}),i.jsx(se,{className:"hidden md:table-cell",children:"Description"})]})}),i.jsx(xn,{children:Object.entries(l).map(([c,u])=>i.jsxs(Pe,{children:[i.jsx(Z,{className:"font-medium",children:c.replace(/([A-Z])/g," $1").replace(/^./,d=>d.toUpperCase())}),i.jsx(Z,{className:"text-right font-mono",children:i.jsxs(ee,{variant:u.points>0?"default":"destructive",children:[u.points>0?"+":"",u.points]})}),i.jsx(Z,{className:"hidden md:table-cell text-sm text-muted-foreground",children:u.description})]},c))})]})})})]});return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col space-y-2",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(kd,{className:"h-6 w-6 text-primary"}),i.jsx("h1",{className:"text-3xl font-bold",children:"League Rules"})]}),i.jsxs("p",{className:"text-muted-foreground",children:[e," Season  Official rules and regulations for the Gladiator League"]})]}),i.jsxs(_t,{children:[i.jsx(jw,{className:"h-4 w-4"}),i.jsx(Xp,{children:"League Information"}),i.jsx(St,{children:"These rules apply to all three conferences within the Gladiator League. Conference-specific variations are noted where applicable."})]}),i.jsxs(ja,{value:s,onValueChange:r,className:"w-full",children:[i.jsxs(Ai,{className:"grid w-full grid-cols-5",children:[i.jsx(He,{value:"scoring",children:"Scoring"}),i.jsx(He,{value:"roster",children:"Roster"}),i.jsx(He,{value:"schedule",children:"Schedule"}),i.jsx(He,{value:"payouts",children:"Payouts"}),i.jsx(He,{value:"charter",children:"Charter"})]}),i.jsxs(qe,{value:"scoring",className:"space-y-6",children:[i.jsxs("div",{className:"grid gap-6",children:[a("passing",dt.scoring.passing),a("rushing",dt.scoring.rushing),a("receiving",dt.scoring.receiving),a("kicking",dt.scoring.kicking)]}),i.jsxs(Y,{children:[i.jsx(ie,{children:i.jsxs(ae,{className:"flex items-center space-x-2",children:[i.jsx(Rd,{className:"h-5 w-5"}),i.jsx("span",{children:"Scoring Summary"})]})}),i.jsx(X,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[i.jsx("p",{className:"text-2xl font-bold",children:"PPR"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"0.5 Points per Reception"})]}),i.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[i.jsx("p",{className:"text-2xl font-bold",children:"4/6"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Pass TD / Rush-Rec TD"})]}),i.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[i.jsx("p",{className:"text-2xl font-bold",children:"25/10"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Pass Yards / Rush-Rec Yards"})]})]})})]})]}),i.jsxs(qe,{value:"roster",className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs(Y,{children:[i.jsxs(ie,{children:[i.jsxs(ae,{className:"flex items-center space-x-2",children:[i.jsx(Yt,{className:"h-5 w-5"}),i.jsx("span",{children:"Starting Lineup"})]}),i.jsx(be,{children:"Required positions for weekly lineup"})]}),i.jsx(X,{children:i.jsx("div",{className:"space-y-3",children:Object.entries(dt.roster.positions).map(([o,l])=>i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ee,{variant:"outline",children:o}),i.jsx("span",{className:"text-sm text-muted-foreground",children:o==="FLEX"?"RB/WR/TE":o==="BENCH"?"Bench Players":o==="DEF"?"Team Defense":o})]}),i.jsx("span",{className:"font-semibold",children:l})]},o))})})]}),i.jsxs(Y,{children:[i.jsxs(ie,{children:[i.jsx(ae,{children:"Roster Management"}),i.jsx(be,{children:"Waivers, trades, and roster rules"})]}),i.jsxs(X,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Roster Size"}),i.jsx("p",{className:"text-2xl font-bold",children:dt.roster.totalRosterSize})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"IR Slots"}),i.jsx("p",{className:"text-2xl font-bold",children:dt.roster.irSlots})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Waiver System"}),i.jsx("p",{className:"font-semibold",children:dt.roster.waiverSystem})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"FAAB Budget"}),i.jsxs("p",{className:"font-semibold",children:["$",dt.roster.waiverBudget]})]})]}),i.jsxs("div",{className:"pt-4 border-t",children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Waiver Clear Time"}),i.jsx("p",{className:"font-medium",children:dt.roster.waiverClearTime})]})]})]})]}),i.jsxs(Y,{children:[i.jsx(ie,{children:i.jsx(ae,{children:"Roster Rules"})}),i.jsx(X,{children:i.jsx("div",{className:"prose prose-sm max-w-none",children:i.jsxs("ul",{className:"space-y-2",children:[i.jsx("li",{children:"All roster moves are processed through the waiver system except for free agents"}),i.jsx("li",{children:"Players can be dropped and picked up immediately if they clear waivers"}),i.jsx("li",{children:"IR slots can only be used for players with IR, Out, or PUP designations"}),i.jsx("li",{children:"Lineup changes must be made before the player's game starts"}),i.jsx("li",{children:"No trading of FAAB budget between teams"})]})})})]})]}),i.jsxs(qe,{value:"schedule",className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs(Y,{children:[i.jsxs(ie,{children:[i.jsxs(ae,{className:"flex items-center space-x-2",children:[i.jsx(Yn,{className:"h-5 w-5"}),i.jsx("span",{children:"Season Structure"})]}),i.jsx(be,{children:"Regular season and playoff format"})]}),i.jsx(X,{className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Regular Season"}),i.jsxs("p",{className:"text-2xl font-bold",children:[dt.schedule.regularSeasonWeeks," weeks"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Playoffs"}),i.jsxs("p",{className:"text-2xl font-bold",children:[dt.schedule.playoffWeeks," weeks"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Playoff Teams"}),i.jsxs("p",{className:"text-2xl font-bold",children:[dt.schedule.playoffTeams,"/12"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Trade Deadline"}),i.jsx("p",{className:"font-semibold",children:dt.schedule.tradeDeadline})]})]})})]}),i.jsxs(Y,{children:[i.jsxs(ie,{children:[i.jsx(ae,{children:"Important Dates"}),i.jsxs(be,{children:[e," season timeline"]})]}),i.jsxs(X,{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[i.jsx("span",{className:"font-medium",children:"Season Start"}),i.jsx("span",{className:"text-sm",children:new Date(dt.schedule.seasonStart).toLocaleDateString()})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[i.jsx("span",{className:"font-medium",children:"Trade Deadline"}),i.jsxs("span",{className:"text-sm",children:["End of ",dt.schedule.tradeDeadline]})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[i.jsx("span",{className:"font-medium",children:"Playoffs Begin"}),i.jsx("span",{className:"text-sm",children:new Date(dt.schedule.playoffStart).toLocaleDateString()})]})]})]})]}),i.jsxs(Y,{children:[i.jsx(ie,{children:i.jsx(ae,{children:"Playoff Format"})}),i.jsx(X,{children:i.jsxs("div",{className:"prose prose-sm max-w-none",children:[i.jsx("p",{className:"mb-4",children:"The playoffs consist of the top 6 teams from each conference, with the following bracket:"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Week 15:"})," Wild Card Round - #3 vs #6, #4 vs #5 (Top 2 teams get bye)"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Week 16:"})," Semifinals - #1 vs lowest remaining seed, #2 vs highest remaining seed"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Week 17:"})," Championship Game - Winners of semifinals"]})]}),i.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:"Seeding is determined by regular season record, with total points as the tiebreaker."})]})})]})]}),i.jsxs(qe,{value:"payouts",className:"space-y-6",children:[i.jsxs(Y,{children:[i.jsxs(ie,{children:[i.jsxs(ae,{className:"flex items-center space-x-2",children:[i.jsx(Sp,{className:"h-5 w-5"}),i.jsx("span",{children:"Prize Structure"})]}),i.jsxs(be,{children:["Entry fee: $",dt.payouts.entryFee," per team  Total pot: $",dt.payouts.totalPot]})]}),i.jsx(X,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"font-semibold",children:"Championship Payouts"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-yellow-50 dark:bg-yellow-900/20",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Kt,{className:"h-5 w-5 text-yellow-600"}),i.jsx("span",{className:"font-medium",children:"1st Place"})]}),i.jsxs("span",{className:"font-bold text-lg",children:["$",dt.payouts.firstPlace]})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[i.jsx("span",{className:"font-medium",children:"2nd Place"}),i.jsxs("span",{className:"font-bold",children:["$",dt.payouts.secondPlace]})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[i.jsx("span",{className:"font-medium",children:"3rd Place"}),i.jsxs("span",{className:"font-bold",children:["$",dt.payouts.thirdPlace]})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"font-semibold",children:"Regular Season Awards"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[i.jsx("span",{className:"font-medium",children:"Regular Season Champion"}),i.jsxs("span",{className:"font-bold",children:["$",dt.payouts.regularSeasonChamp]})]}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[i.jsx("p",{children:"Regular season champion is the team with the best record after 14 weeks."}),i.jsx("p",{className:"mt-2",children:"Tiebreakers: Total points scored, then head-to-head record."})]})]})]})]})})]}),i.jsxs(Y,{children:[i.jsx(ie,{children:i.jsx(ae,{children:"Payment Rules"})}),i.jsx(X,{children:i.jsx("div",{className:"prose prose-sm max-w-none",children:i.jsxs("ul",{className:"space-y-2",children:[i.jsx("li",{children:"Entry fees must be paid before the start of Week 1"}),i.jsx("li",{children:"No team can participate in playoffs without paying entry fee"}),i.jsx("li",{children:"Payouts will be distributed within 1 week of season completion"}),i.jsx("li",{children:"All payments handled through league management"})]})})})]})]}),i.jsxs(qe,{value:"charter",className:"space-y-6",children:[i.jsxs(Y,{children:[i.jsxs(ie,{children:[i.jsx(ae,{children:"League Charter"}),i.jsx(be,{children:"Official constitution and bylaws of the Gladiator League"})]}),i.jsxs(X,{children:[i.jsxs(_t,{className:"mb-6",children:[i.jsx(jw,{className:"h-4 w-4"}),i.jsx(Xp,{children:"Charter Document"}),i.jsx(St,{children:"The complete league charter will be uploaded and displayed here by the league administrator. This section will contain all official rules, policies, and procedures."})]}),i.jsxs("div",{className:"text-center py-12 border-2 border-dashed rounded-lg",children:[i.jsx(kd,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Charter Document"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"The league charter document will be displayed here when uploaded by an administrator."}),i.jsx(te,{variant:"outline",children:"Contact Admin to Upload Charter"})]})]})]}),i.jsxs(Y,{children:[i.jsx(ie,{children:i.jsx(ae,{children:"League History"})}),i.jsx(X,{children:i.jsxs("div",{className:"prose prose-sm max-w-none",children:[i.jsx("p",{children:"The Gladiator League was founded in 2024 as a premier fantasy football competition consisting of three competitive conferences: Legions of Mars, Guardians of Jupiter, and Vulcan's Oathsworn."}),i.jsx("p",{className:"mt-4",children:"Each conference operates as an independent league while following unified rules and participating in inter-conference competition during special events."})]})})]})]})]})]})},wB=()=>{const{toast:e}=An(),[t,n]=h.useState(!1),[s,r]=h.useState([]),a={2024:["1072580179844857856","1072593839715667968","1072593416955015168"],2025:["1204854057169072128","1204857692007440384","1204857608989577216"]},o={2024:1,2025:2},l=async u=>{try{console.log(`Fetching data for league ID: ${u}`);const d=await fetch(`https://api.sleeper.app/v1/league/${u}`);if(!d.ok)throw new Error(`HTTP error! status: ${d.status}`);const f=await d.json();return console.log(`Data received for league ${u}:`,f),{name:f.name||"",league_id:f.league_id||u,season:f.season||"",draft_id:f.draft_id||"",status:f.status||"",avatar:f.avatar||""}}catch(d){return console.error(`Error fetching data for league ${u}:`,d),null}},c=async()=>{n(!0);const u=[];try{const d=[...a[2024],...a[2025]];for(const m of d){const x=await l(m);x&&u.push(x)}console.log("All fetched data:",u),r(u);const f=u.map(m=>{const x=o[m.season]||0,j=m.avatar?`https://sleepercdn.com/avatars/thumbs/${m.avatar}`:"";return{conference_name:m.name,league_id:m.league_id,season_id:x,draft_id:m.draft_id,status:m.status,league_logo_url:j}});console.log("Conference records to insert:",f);for(const m of f)try{const{error:x}=await window.ezsite.apis.tableCreate("12820",m);if(x)throw console.error("Error inserting conference record:",x),new Error(x)}catch(x){console.error("Failed to insert conference record:",x),e({title:"Error",description:`Failed to insert conference: ${m.conference_name}`,variant:"destructive"})}e({title:"Success",description:`Successfully loaded ${f.length} conferences from Sleeper API`})}catch(d){console.error("Error loading conferences data:",d),e({title:"Error",description:"Failed to load conferences data from Sleeper API",variant:"destructive"})}finally{n(!1)}};return i.jsxs("div",{className:"p-4 space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-2xl font-bold",children:"Conferences Data Loader"}),i.jsx("button",{onClick:c,disabled:t,className:"px-4 py-2 bg-blue-600 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-blue-700 transition-colors",children:t?"Loading...":"Load Conferences Data"})]}),i.jsxs("div",{className:"text-sm text-gray-600",children:[i.jsx("p",{children:"This will fetch data from Sleeper API for the following league IDs:"}),i.jsxs("div",{className:"mt-2 space-y-1",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"2024 Season:"})," ",a[2024].join(", ")]}),i.jsxs("div",{children:[i.jsx("strong",{children:"2025 Season:"})," ",a[2025].join(", ")]})]})]}),s.length>0&&i.jsxs("div",{className:"mt-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Loaded Data Preview:"}),i.jsx("div",{className:"space-y-2",children:s.map((u,d)=>i.jsxs("div",{className:"p-3 border rounded-lg bg-gray-50",children:[i.jsx("div",{className:"font-medium",children:u.name}),i.jsxs("div",{className:"text-sm text-gray-600",children:["League ID: ",u.league_id," | Season: ",u.season," | Status: ",u.status]})]},d))})]})]})},jB=()=>{const{toast:e}=An(),[t,n]=h.useState([]),[s,r]=h.useState([]),[a,o]=h.useState(!0),[l,c]=h.useState(!1),u=async()=>{try{const{data:j,error:v}=await window.ezsite.apis.tablePage("12818",{PageNo:1,PageSize:10,OrderByField:"season_year",IsAsc:!0,Filters:[]});if(v)throw new Error(v);r(j.List||[])}catch(j){console.error("Error fetching seasons:",j),e({title:"Error",description:"Failed to load seasons data",variant:"destructive"})}},d=async()=>{try{const{data:j,error:v}=await window.ezsite.apis.tablePage("12820",{PageNo:1,PageSize:50,OrderByField:"conference_name",IsAsc:!0,Filters:[]});if(v)throw new Error(v);n(j.List||[])}catch(j){console.error("Error fetching conferences:",j),e({title:"Error",description:"Failed to load conferences data",variant:"destructive"})}};h.useEffect(()=>{(async()=>{o(!0),await Promise.all([u(),d()]),o(!1)})()},[]);const f=j=>{const v=s.find(y=>y.id===j);return v?v.season_name:`Season ${j}`},m=j=>{switch(j.toLowerCase()){case"in_season":return"bg-green-500";case"complete":return"bg-blue-500";case"drafting":return"bg-orange-500";case"pre_draft":return"bg-yellow-500";default:return"bg-gray-500"}},x=j=>j.replace(/_/g," ").replace(/\b\w/g,v=>v.toUpperCase());return a?i.jsx("div",{className:"container mx-auto px-4 py-8",children:i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"text-lg",children:"Loading conferences..."})})}):i.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-6",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[i.jsx(Kt,{className:"h-8 w-8 text-yellow-600"}),"Conferences"]}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Fantasy football conferences and leagues"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(te,{variant:"outline",onClick:()=>c(!l),children:[l?"Hide":"Show"," Data Loader"]}),i.jsx(te,{onClick:()=>{d(),e({title:"Refreshed",description:"Conferences data has been refreshed"})},children:"Refresh Data"})]})]}),l&&i.jsx(Y,{children:i.jsx(X,{className:"p-0",children:i.jsx(wB,{})})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsx(Y,{children:i.jsx(X,{className:"p-6",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Yt,{className:"h-8 w-8 text-blue-600"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold",children:t.length}),i.jsx("div",{className:"text-sm text-gray-600",children:"Total Conferences"})]})]})})}),i.jsx(Y,{children:i.jsx(X,{className:"p-6",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Yn,{className:"h-8 w-8 text-green-600"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold",children:t.filter(j=>j.status==="in_season").length}),i.jsx("div",{className:"text-sm text-gray-600",children:"Active Seasons"})]})]})})}),i.jsx(Y,{children:i.jsx(X,{className:"p-6",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Kt,{className:"h-8 w-8 text-yellow-600"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold",children:s.length}),i.jsx("div",{className:"text-sm text-gray-600",children:"Total Seasons"})]})]})})})]}),i.jsxs(Y,{children:[i.jsx(ie,{children:i.jsx(ae,{children:"Conference Details"})}),i.jsx(X,{children:t.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("p",{className:"text-gray-500 mb-4",children:"No conferences found."}),i.jsx(te,{onClick:()=>c(!0),variant:"outline",children:"Load Conferences Data"})]}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs(pn,{children:[i.jsx(gn,{children:i.jsxs(Pe,{children:[i.jsx(se,{children:"Logo"}),i.jsx(se,{children:"Conference Name"}),i.jsx(se,{children:"Season"}),i.jsx(se,{children:"Status"}),i.jsx(se,{children:"League ID"}),i.jsx(se,{children:"Draft ID"}),i.jsx(se,{children:"Actions"})]})}),i.jsx(xn,{children:t.map(j=>i.jsxs(Pe,{children:[i.jsx(Z,{children:j.league_logo_url?i.jsx("img",{src:j.league_logo_url,alt:`${j.conference_name} logo`,className:"w-10 h-10 rounded-full object-cover",onError:v=>{v.target.src="/placeholder.svg"}}):i.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center",children:i.jsx(Kt,{className:"h-5 w-5 text-gray-400"})})}),i.jsx(Z,{className:"font-medium",children:j.conference_name}),i.jsx(Z,{children:i.jsx(ee,{variant:"secondary",children:f(j.season_id)})}),i.jsx(Z,{children:i.jsx(ee,{className:`text-white ${m(j.status)}`,children:x(j.status)})}),i.jsx(Z,{className:"font-mono text-sm",children:j.league_id}),i.jsx(Z,{className:"font-mono text-sm",children:j.draft_id||"N/A"}),i.jsx(Z,{children:i.jsx(te,{variant:"ghost",size:"sm",onClick:()=>{window.open(`https://sleeper.app/leagues/${j.league_id}`,"_blank")},children:i.jsx(Ex,{className:"h-4 w-4"})})})]},j.id))})]})})})]})]})};var bB="Label",HE=h.forwardRef((e,t)=>i.jsx(xe.label,{...e,ref:t,onMouseDown:n=>{var r;n.target.closest("button, input, select, textarea")||((r=e.onMouseDown)==null||r.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));HE.displayName=bB;var qE=HE;const _B=Oo("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),It=h.forwardRef(({className:e,...t},n)=>i.jsx(qE,{ref:n,className:me(_B(),e),...t}));It.displayName=qE.displayName;const P0=hC,R0=mC,SB=pC,KE=h.forwardRef(({className:e,...t},n)=>i.jsx(Bf,{ref:n,className:me("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));KE.displayName=Bf.displayName;const Zp=h.forwardRef(({className:e,children:t,...n},s)=>i.jsxs(SB,{children:[i.jsx(KE,{}),i.jsxs(Uf,{ref:s,className:me("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,i.jsxs(gC,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(bf,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Zp.displayName=Uf.displayName;const eg=({className:e,...t})=>i.jsx("div",{className:me("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});eg.displayName="DialogHeader";const tg=h.forwardRef(({className:e,...t},n)=>i.jsx(Vf,{ref:n,className:me("text-lg font-semibold leading-none tracking-tight",e),...t}));tg.displayName=Vf.displayName;const ng=h.forwardRef(({className:e,...t},n)=>i.jsx(zf,{ref:n,className:me("text-sm text-muted-foreground",e),...t}));ng.displayName=zf.displayName;const NB=()=>{const[e,t]=h.useState([]),[n,s]=h.useState([]),[r,a]=h.useState(null),[o,l]=h.useState(null),[c,u]=h.useState(!1),[d,f]=h.useState(!1),[m,x]=h.useState(!0),[j,v]=h.useState(!1),[y,p]=h.useState(null),{toast:g}=An(),[w,b]=h.useState(""),[S,T]=h.useState(""),[N,C]=h.useState(""),[R,D]=h.useState("");h.useEffect(()=>{k()},[]),h.useEffect(()=>{r&&$()},[r]);const k=async()=>{try{const _=await de.getSeasons(),E=Array.isArray(_)?_:(_==null?void 0:_.data)||[],P=E.map(M=>({...M,is_current_season:M.is_current_season??!1}));t(P);const L=E.find(M=>M.is_current_season);L?a(L.id):E.length>0&&a(E[0].id)}catch(_){console.error("Error loading seasons:",_),g({title:"Error",description:`Failed to load seasons: ${_}`,variant:"destructive"})}finally{x(!1)}},$=async()=>{var _;if(r)try{const E=await V("load conferences");s(((_=E==null?void 0:E.data)==null?void 0:_.List)||[])}catch(E){console.error("Error loading conferences:",E),g({title:"Error",description:`Failed to load conferences: ${E}`,variant:"destructive"})}},I=async _=>{if(_.preventDefault(),!(!w||!S))try{v(!0);const E=await de.createSeason({season_year:w,season_name:S,is_current:!1});if(E.error)throw E.error;g({title:"Season Added",description:`${S} has been created successfully`}),b(""),T(""),u(!1),k()}catch(E){console.error("Error adding season:",E),g({title:"Error",description:`Failed to add season: ${E}`,variant:"destructive"})}finally{v(!1)}},B=async _=>{if(_.preventDefault(),!(!N||!R||!r))try{v(!0);const E=await de.createConference({conference_name:N,league_id:R,season_id:r,draft_id:"",status:"draft",league_logo_url:""});if(E.error)throw E.error;g({title:"League Added",description:`${N} has been created successfully`}),C(""),D(""),f(!1),$()}catch(E){console.error("Error adding league:",E),g({title:"Error",description:`Failed to add league: ${E}`,variant:"destructive"})}finally{v(!1)}},Q=async _=>{try{v(!0);const E=await de.updateConference(_.id,{conference_name:_.conference_name,league_id:_.league_id,season_id:_.season_id,draft_id:_.draft_id,status:_.status,league_logo_url:_.league_logo_url});if(E.error)throw E.error;g({title:"Conference Updated",description:"Conference details have been saved successfully"}),l(null),$()}catch(E){console.error("Error saving conference:",E),g({title:"Error",description:`Failed to save conference: ${E}`,variant:"destructive"})}finally{v(!1)}},O=async _=>{if(_)try{p(_);const E=await fetch(`https://api.sleeper.app/v1/league/${_}`);if(E.ok){const P=await E.json();g({title:"Connection Successful",description:`League "${P.name}" found on Sleeper API`})}else throw new Error(`API returned ${E.status}`)}catch(E){console.error("Error testing connection:",E),g({title:"Connection Failed",description:`Unable to connect to Sleeper API for league ID: ${_}`,variant:"destructive"})}finally{p(null)}},V=async _=>(console.log(`Placeholder: ${_}`),{data:{List:[]},error:null}),A=e.find(_=>_.id===r);return m?i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsx("div",{className:"animate-spin h-8 w-8 border-b-2 border-blue-600 rounded-full"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Y,{children:[i.jsxs(ie,{children:[i.jsx(ae,{children:"Season Management"}),i.jsx(be,{children:"Select and manage fantasy football seasons"})]}),i.jsx(X,{children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx(It,{htmlFor:"season-select",children:"Select Season"}),i.jsxs(At,{value:(r==null?void 0:r.toString())||"",onValueChange:_=>a(parseInt(_)),children:[i.jsx(Ct,{children:i.jsx(Dt,{placeholder:"Select a season"})}),i.jsx(Et,{children:e.map(_=>i.jsx($e,{value:_.id.toString(),children:i.jsxs("div",{className:"flex items-center gap-2",children:[_.season_name,_.is_current_season&&i.jsx(ee,{variant:"secondary",className:"text-xs",children:"Current"})]})},_.id))})]})]}),i.jsxs(P0,{open:c,onOpenChange:u,children:[i.jsx(R0,{asChild:!0,children:i.jsx(te,{variant:"outline",size:"icon",children:i.jsx(Pd,{className:"h-4 w-4"})})}),i.jsxs(Zp,{children:[i.jsxs(eg,{children:[i.jsx(tg,{children:"Add New Season"}),i.jsx(ng,{children:"Create a new fantasy football season"})]}),i.jsxs("form",{onSubmit:I,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(It,{htmlFor:"season-year",children:"Season Year"}),i.jsx(hn,{id:"season-year",type:"number",value:w,onChange:_=>b(_.target.value),placeholder:"2025",min:"2020",max:"2030"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(It,{htmlFor:"season-name",children:"Season Name"}),i.jsx(hn,{id:"season-name",value:S,onChange:_=>T(_.target.value),placeholder:"2025 Season"})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(te,{type:"button",variant:"outline",onClick:()=>u(!1),children:"Cancel"}),i.jsx(te,{type:"submit",disabled:j,children:j?"Adding...":"Add Season"})]})]})]})]})]})})]}),A&&i.jsxs(Y,{children:[i.jsx(ie,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs(ae,{children:["Conferences - ",A.season_name]}),i.jsxs(be,{children:["Manage league IDs and conference settings for ",A.season_name]})]}),i.jsxs(P0,{open:d,onOpenChange:f,children:[i.jsx(R0,{asChild:!0,children:i.jsxs(te,{children:[i.jsx(Pd,{className:"h-4 w-4 mr-2"}),"Add New League"]})}),i.jsxs(Zp,{children:[i.jsxs(eg,{children:[i.jsx(tg,{children:"Add New League"}),i.jsxs(ng,{children:["Add a new conference/league to ",A.season_name]})]}),i.jsxs("form",{onSubmit:B,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(It,{htmlFor:"league-name",children:"League Name"}),i.jsx(hn,{id:"league-name",value:N,onChange:_=>C(_.target.value),placeholder:"Conference Name"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(It,{htmlFor:"league-id",children:"Sleeper League ID"}),i.jsx(hn,{id:"league-id",value:R,onChange:_=>D(_.target.value),placeholder:"123456789012345678"})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(te,{type:"button",variant:"outline",onClick:()=>f(!1),children:"Cancel"}),i.jsx(te,{type:"submit",disabled:j,children:j?"Adding...":"Add League"})]})]})]})]})]})}),i.jsx(X,{children:n.length===0?i.jsx(_t,{children:i.jsxs(St,{children:["No conferences found for ",A.season_name,". Add a new league to get started."]})}):i.jsxs(pn,{children:[i.jsx(gn,{children:i.jsxs(Pe,{children:[i.jsx(se,{children:"Conference Name"}),i.jsx(se,{children:"League ID"}),i.jsx(se,{children:"Draft ID"}),i.jsx(se,{children:"Status"}),i.jsx(se,{children:"Actions"})]})}),i.jsx(xn,{children:n.map(_=>i.jsxs(Pe,{children:[i.jsx(Z,{children:(o==null?void 0:o.id)===_.id?i.jsx(hn,{value:o.conference_name,onChange:E=>l({...o,conference_name:E.target.value})}):i.jsx("span",{className:"font-medium",children:_.conference_name})}),i.jsx(Z,{children:(o==null?void 0:o.id)===_.id?i.jsx(hn,{value:o.league_id,onChange:E=>l({...o,league_id:E.target.value})}):i.jsx("code",{className:"text-sm bg-muted px-2 py-1 rounded",children:_.league_id})}),i.jsx(Z,{children:(o==null?void 0:o.id)===_.id?i.jsx(hn,{value:o.draft_id,onChange:E=>l({...o,draft_id:E.target.value})}):i.jsx("code",{className:"text-sm bg-muted px-2 py-1 rounded",children:_.draft_id||"Not set"})}),i.jsx(Z,{children:i.jsx(ee,{variant:_.status==="in_season"?"default":_.status==="complete"?"secondary":"outline",children:_.status})}),i.jsx(Z,{children:i.jsx("div",{className:"flex items-center gap-2",children:(o==null?void 0:o.id)===_.id?i.jsxs(i.Fragment,{children:[i.jsx(te,{size:"sm",onClick:()=>Q(o),disabled:j,children:i.jsx(rN,{className:"h-4 w-4"})}),i.jsx(te,{size:"sm",variant:"outline",onClick:()=>l(null),children:"Cancel"})]}):i.jsxs(i.Fragment,{children:[i.jsx(te,{size:"sm",variant:"outline",onClick:()=>l(_),children:i.jsx(Np,{className:"h-4 w-4"})}),i.jsx(te,{size:"sm",variant:"outline",onClick:()=>O(_.league_id),disabled:y===_.league_id,children:y===_.league_id?i.jsx("div",{className:"animate-spin h-4 w-4 border-b-2 border-blue-600 rounded-full"}):i.jsx(XD,{className:"h-4 w-4"})})]})})})]},_.id))})]})})]})]})};var Yf="Checkbox",[CB,O7]=ts(Yf),[EB,pv]=CB(Yf);function TB(e){const{__scopeCheckbox:t,checked:n,children:s,defaultChecked:r,disabled:a,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[m,x]=Pr({prop:n,defaultProp:r??!1,onChange:c,caller:Yf}),[j,v]=h.useState(null),[y,p]=h.useState(null),g=h.useRef(!1),w=j?!!o||!!j.closest("form"):!0,b={checked:m,disabled:a,setChecked:x,control:j,setControl:v,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:g,required:u,defaultChecked:xi(r)?!1:r,isFormControl:w,bubbleInput:y,setBubbleInput:p};return i.jsx(EB,{scope:t,...b,children:kB(f)?f(b):s})}var GE="CheckboxTrigger",YE=h.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...s},r)=>{const{control:a,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:m,isFormControl:x,bubbleInput:j}=pv(GE,e),v=Ve(r,d),y=h.useRef(c);return h.useEffect(()=>{const p=a==null?void 0:a.form;if(p){const g=()=>f(y.current);return p.addEventListener("reset",g),()=>p.removeEventListener("reset",g)}},[a,f]),i.jsx(xe.button,{type:"button",role:"checkbox","aria-checked":xi(c)?"mixed":c,"aria-required":u,"data-state":eT(c),"data-disabled":l?"":void 0,disabled:l,value:o,...s,ref:v,onKeyDown:ge(t,p=>{p.key==="Enter"&&p.preventDefault()}),onClick:ge(n,p=>{f(g=>xi(g)?!0:!g),j&&x&&(m.current=p.isPropagationStopped(),m.current||p.stopPropagation())})})});YE.displayName=GE;var gv=h.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:s,checked:r,defaultChecked:a,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return i.jsx(TB,{__scopeCheckbox:n,checked:r,defaultChecked:a,disabled:l,required:o,onCheckedChange:u,name:s,form:d,value:c,internal_do_not_use_render:({isFormControl:m})=>i.jsxs(i.Fragment,{children:[i.jsx(YE,{...f,ref:t,__scopeCheckbox:n}),m&&i.jsx(ZE,{__scopeCheckbox:n})]})})});gv.displayName=Yf;var QE="CheckboxIndicator",XE=h.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:s,...r}=e,a=pv(QE,n);return i.jsx(dr,{present:s||xi(a.checked)||a.checked===!0,children:i.jsx(xe.span,{"data-state":eT(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:t,style:{pointerEvents:"none",...e.style}})})});XE.displayName=QE;var JE="CheckboxBubbleInput",ZE=h.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:s,hasConsumerStoppedPropagationRef:r,checked:a,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:m,setBubbleInput:x}=pv(JE,e),j=Ve(n,x),v=sv(a),y=Lx(s);h.useEffect(()=>{const g=m;if(!g)return;const w=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(w,"checked").set,T=!r.current;if(v!==a&&S){const N=new Event("click",{bubbles:T});g.indeterminate=xi(a),S.call(g,xi(a)?!1:a),g.dispatchEvent(N)}},[m,v,a,r]);const p=h.useRef(xi(a)?!1:a);return i.jsx(xe.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??p.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:j,style:{...t.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});ZE.displayName=JE;function kB(e){return typeof e=="function"}function xi(e){return e==="indeterminate"}function eT(e){return xi(e)?"indeterminate":e?"checked":"unchecked"}const tT=h.forwardRef(({className:e,...t},n)=>i.jsx(gv,{ref:n,className:me("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:i.jsx(XE,{className:me("flex items-center justify-center text-current"),children:i.jsx(Nx,{className:"h-4 w-4"})})}));tT.displayName=gv.displayName;class nT{static async fetchLeagueDrafts(t){try{console.log(`Fetching drafts for league: ${t}`);const n=await fetch(`${this.baseUrl}/league/${t}/drafts`);if(!n.ok)throw new Error(`Failed to fetch drafts: ${n.status} ${n.statusText}`);const s=await n.json();return console.log(`Fetched ${s.length} drafts for league ${t}`),s}catch(n){throw console.error("Error fetching league drafts:",n),n}}static async fetchDraftPicks(t){try{console.log(`Fetching picks for draft: ${t}`);const n=await fetch(`${this.baseUrl}/draft/${t}/picks`);if(!n.ok)throw new Error(`Failed to fetch draft picks: ${n.status} ${n.statusText}`);const s=await n.json();return console.log(`Fetched ${s.length} picks for draft ${t}`),s}catch(n){throw console.error("Error fetching draft picks:",n),n}}static async getTeamIdFromOwnerMatcher(t,n){var s,r;try{const{data:a,error:o}=await window.ezsite.apis.tablePage(12853,{PageNo:1,PageSize:1,Filters:[{name:"roster_id",op:"Equal",value:t},{name:"conference_id",op:"Equal",value:n},{name:"is_active",op:"Equal",value:!0}]});if(!o&&((s=a==null?void 0:a.List)==null?void 0:s.length)>0){const u=a.List[0].team_id;return console.log(`Found team ID ${u} for roster_id ${t} in conference ${n}`),u}const{data:l,error:c}=await window.ezsite.apis.tablePage(12852,{PageNo:1,PageSize:1,Filters:[{name:"owner_id",op:"Equal",value:t}]});return c?(console.error(`Error finding team for owner_id ${t}:`,c),null):((r=l==null?void 0:l.List)==null?void 0:r.length)>0?(console.log(`Found team ID ${l.List[0].id} for owner_id ${t} (legacy mapping)`),l.List[0].id):(console.warn(`No team found for Sleeper roster_id/owner_id ${t} in conference ${n}`),null)}catch(a){return console.error("Error in getTeamIdFromOwnerMatcher:",a),null}}static async processDraftPicksForDatabase(t,n,s){var r,a;try{console.log(`Processing ${s.length} draft picks for conference ${t}, season ${n}`);const o=[];for(const l of s){const c=await this.getTeamIdFromOwnerMatcher(l.picked_by,t);if(!c){console.warn(`Skipping pick ${l.pick_no} - no team found for roster_id ${l.picked_by}`);continue}o.push({season_id:n,conference_id:t,round:l.round,draft_slot:l.draft_slot,pick_number:l.pick_no,team_id:c,player_id:l.player_id,player_name:l.metadata?`${l.metadata.first_name||""} ${l.metadata.last_name||""}`.trim():"Unknown Player",position:((r=l.metadata)==null?void 0:r.position)||"UNK",nfl_team:((a=l.metadata)==null?void 0:a.team)||"UNK",draft_id:l.draft_id})}return console.log(`Processed ${o.length} draft picks (${s.length-o.length} skipped due to missing team mapping)`),o}catch(o){throw console.error("Error processing draft picks:",o),o}}static async fetchAndStoreDraftResults(){try{console.log(" Starting draft results sync for all conferences...");const{data:t,error:n}=await window.ezsite.apis.tablePage(12820,{PageNo:1,PageSize:50,OrderByField:"id",IsAsc:!0});if(n)throw new Error(`Failed to fetch conferences: ${n}`);const s=(t==null?void 0:t.List)||[];console.log(`Found ${s.length} conferences`);const{data:r,error:a}=await window.ezsite.apis.tablePage(12818,{PageNo:1,PageSize:50,OrderByField:"season_year",IsAsc:!1});if(a)throw new Error(`Failed to fetch seasons: ${a}`);const o=(r==null?void 0:r.List)||[];console.log(`Found ${o.length} seasons`);let l=0;const c=[];for(const u of s)try{console.log(`
 Processing conference: ${u.conference_name} (League ID: ${u.league_id})`);const d=o.find(m=>m.id===u.season_id);if(!d){console.warn(` Season not found for conference ${u.conference_name}`);continue}const f=await this.fetchLeagueDrafts(u.league_id);if(f.length===0){console.warn(` No drafts found for league ${u.league_id}`);continue}for(const m of f){console.log(` Processing draft: ${m.draft_id} for season ${d.season_year}`);const x=await this.fetchDraftPicks(m.draft_id);if(x.length===0){console.warn(` No picks found for draft ${m.draft_id}`);continue}const j=await this.processDraftPicksForDatabase(u.id,d.id,x);console.log(` Clearing existing draft results for conference ${u.id}, season ${d.id}`);const{data:v,error:y}=await window.ezsite.apis.tablePage(27845,{PageNo:1,PageSize:1e3,Filters:[{name:"conference_id",op:"Equal",value:u.id},{name:"season_id",op:"Equal",value:d.id}]});if(!y&&(v!=null&&v.List))for(const p of v.List)await window.ezsite.apis.tableDelete(27845,{ID:p.id});console.log(` Inserting ${j.length} draft picks into database...`);for(const p of j){const{error:g}=await window.ezsite.apis.tableCreate(27845,{season_id:p.season_id,conference_id:p.conference_id,round:p.round,draft_slot:p.draft_slot,pick_number:p.pick_number,team_id:p.team_id,player_id:p.player_id});g?console.error(` Error inserting pick ${p.pick_number}:`,g):l++}c.push({conference:u.conference_name,season:d.season_year,draftId:m.draft_id,picksProcessed:j.length})}}catch(d){console.error(` Error processing conference ${u.conference_name}:`,d),c.push({conference:u.conference_name,error:d.message})}return console.log(`
 Draft sync completed! Total picks processed: ${l}`),{success:!0,message:`Successfully processed ${l} draft picks across ${c.length} conference/season combinations`,data:c}}catch(t){return console.error(" Error in draft sync:",t),{success:!1,message:`Draft sync failed: ${t.message}`}}}}hr(nT,"baseUrl","https://api.sleeper.app/v1");const PB=()=>{const[e,t]=h.useState([]),[n,s]=h.useState([]),[r,a]=h.useState([]),[o,l]=h.useState(null),[c,u]=h.useState(!1),[d,f]=h.useState(!1),[m,x]=h.useState(!1),[j,v]=h.useState(!1),[y,p]=h.useState(!1),[g,w]=h.useState(!1),[b,S]=h.useState(0),[T,N]=h.useState(0),[C,R]=h.useState(0),[D,k]=h.useState(0),[$,I]=h.useState(0),[B,Q]=h.useState(0),[O,V]=h.useState([]),[A,_]=h.useState([]),[E,P]=h.useState(null),[L,M]=h.useState(null),[H,re]=h.useState(null),[G,z]=h.useState(null),[W,K]=h.useState(null),[F,ne]=h.useState(null),[le,ce]=h.useState(null),[pe,fe]=h.useState(null),[ye,Se]=h.useState(null),[Qe,oe]=h.useState(null),[_e,Xe]=h.useState(!0),[Fe,Ir]=h.useState("all"),[Qt,Jc]=h.useState("all"),[el,Hs]=h.useState("all"),[$n,we]=h.useState("all"),[Ue,Xt]=h.useState(1),[Bt,ba]=h.useState(17),[tl,$i]=h.useState([]),{toast:gt}=An();h.useEffect(()=>{ah(),oh(),lh(),ch(),Ut(),wn(),jn(),bs()},[]),h.useEffect(()=>{o&&nl()},[o]);const ah=async()=>{try{const U=await de.getSeasons(),he=Array.isArray(U)?U:(U==null?void 0:U.data)||[];t(he);const Ge=he.find(Me=>Me.is_current_season);Ge?l(Ge.id):he.length>0&&l(he[0].id)}catch(U){console.error("Error loading seasons:",U),gt({title:"Error",description:`Failed to load seasons: ${U}`,variant:"destructive"})}finally{Xe(!1)}},nl=async()=>{if(o)try{const U=await de.getConferences(),he=Array.isArray(U)?U:(U==null?void 0:U.data)||[];s(he)}catch(U){console.error("Error loading conferences:",U),gt({title:"Error",description:`Failed to load conferences: ${U}`,variant:"destructive"})}},oh=()=>{const U=localStorage.getItem("last_data_sync");U&&K(new Date(U).toLocaleString())},lh=()=>{const U=localStorage.getItem("last_teams_sync");U&&ne(new Date(U).toLocaleString())},ch=()=>{const U=localStorage.getItem("last_players_sync");U&&ce(new Date(U).toLocaleString())},Ut=()=>{const U=localStorage.getItem("last_matchups_sync");U&&fe(new Date(U).toLocaleString())},wn=()=>{const U=localStorage.getItem("last_draft_sync");U&&Se(new Date(U).toLocaleString())},jn=()=>{const U=localStorage.getItem("last_rosters_sync");U&&oe(new Date(U).toLocaleString())},bs=async()=>{try{const U=await de.getTeams(),he=Array.isArray(U)?U:(U==null?void 0:U.data)||[];a(he)}catch(U){console.error("Error loading teams:",U)}},Jt=()=>{switch($n){case"range":const U=[];for(let he=Ue;he<=Bt;he++)U.push(he);return U;case"specific":return[...tl];case"all":default:return Array.from({length:17},(he,Ge)=>Ge+1)}},bn=U=>{$i(he=>he.includes(U)?he.filter(Ge=>Ge!==U):[...he,U].sort((Ge,Me)=>Ge-Me))},ns=()=>{$i(Array.from({length:17},(U,he)=>he+1))},Lr=()=>{$i([])};De.useEffect(()=>{Ue>Bt&&ba(Ue)},[Ue,Bt]);const Mt=async()=>{var he,Ge;if(!o||n.length===0){gt({title:"No Data to Sync",description:"Please select a season with conferences to sync rosters",variant:"destructive"});return}const U=Jt();if(U.length===0){gt({title:"No Weeks Selected",description:"Please select at least one week to sync",variant:"destructive"});return}w(!0),Q(0),z(null);try{console.log("Starting team rosters sync from Sleeper API..."),console.log(`Syncing weeks: ${U.join(", ")}`),Q(5);let Me=0,Je=0,xt=0,st=0,jt=0;const Ie=n.length*U.length;let We=0;for(const ze of n)try{console.log(`Processing rosters for league ${ze.league_id}...`);for(const Te of U){try{console.log(`Fetching roster data for league ${ze.league_id}, week ${Te}...`);const lt=await fetch(`https://api.sleeper.app/v1/league/${ze.league_id}/matchups/${Te}`);if(!lt.ok){if(lt.status===404){console.log(`No matchups found for league ${ze.league_id}, week ${Te} (404 - may not exist yet)`);continue}throw new Error(`API returned ${lt.status}: ${lt.statusText}`)}const on=await lt.json();if(console.log(`Received ${on.length} roster entries for league ${ze.league_id}, week ${Te}`),!Array.isArray(on)||on.length===0){console.log(`No matchup data available for league ${ze.league_id}, week ${Te}`);continue}for(const en of on){if(!en.roster_id||!en.players||!Array.isArray(en.players)){console.warn("Skipping entry with missing roster_id or players array:",en);continue}const _n=await ss(en.roster_id,ze.id);if(!_n){console.warn(`Could not find team ID for roster_id ${en.roster_id} in conference ${ze.id}`);continue}for(const is of en.players)if(is)try{const{data:Mn,error:zt}=await window.ezsite.apis.tablePage(12870,{PageNo:1,PageSize:1,Filters:[{name:"sleeper_player_id",op:"Equal",value:is}]});if(zt){console.error(`Error searching for player ${is}:`,zt);continue}if(((he=Mn==null?void 0:Mn.List)==null?void 0:he.length)>0){const as=Mn.List[0].id,{data:Ks,error:os}=await window.ezsite.apis.tablePage(27886,{PageNo:1,PageSize:1,Filters:[{name:"team_id",op:"Equal",value:_n},{name:"player_id",op:"Equal",value:as},{name:"season_id",op:"Equal",value:o},{name:"week",op:"Equal",value:Te}]});if(os){console.error("Error searching for existing roster record:",os);continue}const eu={team_id:_n,player_id:as,season_id:o,week:Te};if(((Ge=Ks==null?void 0:Ks.List)==null?void 0:Ge.length)>0){const ls=Ks.List[0],uh={...eu,ID:ls.id},{error:Sn}=await $a("tableUpdate");Sn?console.error("Error updating roster record:",Sn):(xt++,Me++)}else{const{error:ls}=await ml("tableCreate");ls?console.error("Error creating roster record:",ls):(Je++,Me++)}}else console.warn(`Player with sleeper_player_id ${is} not found in database`)}catch(Mn){console.error(`Error processing player ${is}:`,Mn)}}jt++,await new Promise(en=>setTimeout(en,100))}catch(lt){console.error(`Error processing week ${Te} for league ${ze.league_id}:`,lt)}We++;const Zt=5+We/Ie*90;Q(Zt)}st++,console.log(` Completed processing rosters for league ${ze.league_id}`),await new Promise(Te=>setTimeout(Te,200))}catch(Te){console.error(`Error processing league ${ze.league_id}:`,Te)}z({success:!0,players_processed:Me,rosters_created:Je,rosters_updated:xt,leagues_processed:st,weeks_processed:jt}),console.log(` Successfully synced rosters: ${Je} created, ${xt} updated, ${Me} total player assignments`);const rt=new Date().toISOString();localStorage.setItem("last_rosters_sync",rt),oe(new Date(rt).toLocaleString()),gt({title:"Team Rosters Sync Complete",description:`${Je} rosters created, ${xt} updated across ${st} leagues`,variant:"default"})}catch(Me){console.error(" Error syncing rosters:",Me),z({success:!1,error:Me.toString(),players_processed:0,rosters_created:0,rosters_updated:0,leagues_processed:0,weeks_processed:0}),gt({title:"Team Rosters Sync Failed",description:`Failed to sync rosters: ${Me}`,variant:"destructive"})}finally{w(!1),Q(100)}},ss=async(U,he)=>{var Ge;try{const{data:Me,error:Je}=await window.ezsite.apis.tablePage(12853,{PageNo:1,PageSize:1,Filters:[{name:"roster_id",op:"Equal",value:U},{name:"conference_id",op:"Equal",value:he},{name:"is_active",op:"Equal",value:!0}]});return Je?(console.error(`Error finding team for roster_id ${U}:`,Je),null):((Ge=Me==null?void 0:Me.List)==null?void 0:Ge.length)>0?Me.List[0].team_id:(console.warn(`No team found for roster_id ${U} in conference ${he}`),null)}catch(Me){return console.error("Error in getTeamIdFromRosterId:",Me),null}},rs=async()=>{if(!o||n.length===0){gt({title:"No Data to Sync",description:"Please select a season with conferences to sync",variant:"destructive"});return}u(!0),S(0),V([]);const U=[],he=n.length;for(let xt=0;xt<n.length;xt++){const st=n[xt];S((xt+1)/he*100);try{console.log(`Syncing league ${st.league_id}...`);const jt=await fetch(`https://api.sleeper.app/v1/league/${st.league_id}`);if(!jt.ok)throw new Error(`API returned ${jt.status}: ${jt.statusText}`);const Ie=await jt.json();console.log("Sleeper API response:",Ie);const We={ID:st.id,conference_name:Ie.name||st.conference_name,league_id:Ie.league_id||st.league_id,season_id:st.season_id,draft_id:Ie.draft_id||st.draft_id,status:Ie.status||st.status,league_logo_url:Ie.avatar?`https://sleepercdn.com/avatars/thumbs/${Ie.avatar}`:st.league_logo_url},{error:rt}=await $a("tableUpdate");if(rt)throw rt;U.push({league_id:st.league_id,success:!0,data:Ie}),console.log(`Successfully synced league ${st.league_id}`)}catch(jt){console.error(`Error syncing league ${st.league_id}:`,jt),U.push({league_id:st.league_id,success:!1,error:jt.toString()})}await new Promise(jt=>setTimeout(jt,200))}V(U),u(!1),S(100);const Ge=new Date().toISOString();localStorage.setItem("last_data_sync",Ge),K(new Date(Ge).toLocaleString()),nl();const Me=U.filter(xt=>xt.success).length,Je=U.filter(xt=>!xt.success).length;gt({title:"Data Sync Complete",description:`${Me} successful, ${Je} failed`,variant:Je>0?"destructive":"default"})},_s=async()=>{var U,he,Ge,Me;if(!o||n.length===0){gt({title:"No Data to Sync",description:"Please select a season with conferences to sync teams",variant:"destructive"});return}f(!0),N(0),_([]);try{console.log("Starting teams sync from Sleeper API..."),N(5);const Je=[],xt=n.length;let st=0,jt=0;for(let ze=0;ze<n.length;ze++){const Te=n[ze];N(5+ze/xt*90);try{console.log(`Processing teams for league ${Te.league_id}...`);const[Zt,lt,on]=await Promise.all([fetch(`https://api.sleeper.app/v1/league/${Te.league_id}`),fetch(`https://api.sleeper.app/v1/league/${Te.league_id}/rosters`),fetch(`https://api.sleeper.app/v1/league/${Te.league_id}/users`)]);if(!Zt.ok||!lt.ok||!on.ok)throw new Error(`API request failed for league ${Te.league_id}`);const[en,_n,is]=await Promise.all([Zt.json(),lt.json(),on.json()]);console.log(`Fetched ${_n.length} rosters and ${is.length} users for league ${Te.league_id}`);for(const Mn of _n){const zt=is.find(Sn=>Sn.user_id===Mn.owner_id);if(!zt){console.warn(`No user found for roster ${Mn.roster_id}`);continue}const Zc={team_name:((U=zt.metadata)==null?void 0:U.team_name)||zt.display_name||zt.username,owner_name:zt.display_name||zt.username,owner_id:zt.user_id,co_owner_name:"",co_owner_id:"",team_logo_url:zt.avatar?`https://sleepercdn.com/avatars/thumbs/${zt.avatar}`:"",team_primary_color:"#1f2937",team_secondary_color:"#6b7280"},{data:as,error:Ks}=await window.ezsite.apis.tablePage(12852,{PageNo:1,PageSize:1,Filters:[{name:"owner_id",op:"Equal",value:zt.user_id}]});if(Ks){console.error("Error searching for existing team:",Ks);continue}let os;if(((he=as==null?void 0:as.List)==null?void 0:he.length)>0){const Sn=as.List[0],_a={...Zc,ID:Sn.id},{error:Li}=await $a("tableUpdate");if(Li){console.error("Error updating team:",Li);continue}os=Sn.id}else{const{error:Sn}=await ml("tableCreate");if(Sn){console.error("Error creating team:",Sn);continue}const{data:_a,error:Li}=await window.ezsite.apis.tablePage(12852,{PageNo:1,PageSize:1,Filters:[{name:"owner_id",op:"Equal",value:zt.user_id}]});if(Li||!((Ge=_a==null?void 0:_a.List)!=null&&Ge.length)){console.error("Error retrieving new team ID");continue}os=_a.List[0].id,st++}const eu={team_id:os,conference_id:Te.id,roster_id:Mn.roster_id.toString(),is_active:!0,joined_date:new Date().toISOString()},{data:ls,error:uh}=await window.ezsite.apis.tablePage(12853,{PageNo:1,PageSize:1,Filters:[{name:"team_id",op:"Equal",value:os},{name:"conference_id",op:"Equal",value:Te.id}]});if(uh){console.error("Error searching for existing junction:",uh);continue}if(((Me=ls==null?void 0:ls.List)==null?void 0:Me.length)>0){const Sn=ls.List[0],_a={...eu,ID:Sn.id},{error:Li}=await $a("tableUpdate");Li&&console.error("Error updating junction:",Li)}else{const{error:Sn}=await ml("tableCreate");Sn?console.error("Error creating junction:",Sn):jt++}}Je.push({league_id:Te.league_id,success:!0,teams_created:st,junction_records_created:jt}),console.log(` Completed teams sync for league ${Te.league_id}`)}catch(Zt){console.error(`Error syncing teams for league ${Te.league_id}:`,Zt),Je.push({league_id:Te.league_id,success:!1,error:Zt.toString(),teams_created:0,junction_records_created:0})}await new Promise(Zt=>setTimeout(Zt,200))}_(Je),N(100);const Ie=new Date().toISOString();localStorage.setItem("last_teams_sync",Ie),ne(new Date(Ie).toLocaleString()),bs();const We=Je.filter(ze=>ze.success).length,rt=Je.filter(ze=>!ze.success).length;gt({title:"Teams Sync Complete",description:`${We} successful, ${rt} failed`,variant:rt>0?"destructive":"default"})}catch(Je){console.error(" Error syncing teams:",Je),gt({title:"Teams Sync Failed",description:`Failed to sync teams: ${Je}`,variant:"destructive"})}finally{f(!1)}},Mi=async()=>{var U;x(!0),R(0),P(null);try{console.log("Starting players sync from Sleeper API..."),R(5);const he=await fetch("https://api.sleeper.app/v1/players/nfl");if(!he.ok)throw new Error(`API returned ${he.status}: ${he.statusText}`);const Ge=await he.json(),Me=Object.keys(Ge);console.log(`Fetched ${Me.length} players from Sleeper API`),R(20);let Je=0,xt=0;const st=Me.length;for(let Ie=0;Ie<Me.length;Ie++){const We=Me[Ie],rt=Ge[We];if(!rt)continue;const ze=20+Ie/st*75;R(ze);try{const{data:Te,error:Zt}=await window.ezsite.apis.tablePage(12870,{PageNo:1,PageSize:1,Filters:[{name:"sleeper_player_id",op:"Equal",value:We}]});if(Zt){console.error(`Error searching for player ${We}:`,Zt);continue}const lt={sleeper_player_id:We,player_name:`${rt.first_name||""} ${rt.last_name||""}`.trim()||"Unknown Player",position:rt.position||"UNK",team_id:0,nfl_team:rt.team||"FA",jersey_number:rt.jersey_number||0,status:rt.status||"Active",injury_status:rt.injury_status||"Healthy",age:rt.age||0,height:rt.height||"",weight:rt.weight||0,years_experience:rt.years_exp||0,depth_chart_position:rt.depth_chart_position||1,college:rt.college||"",is_current_data:!0,last_updated:new Date().toISOString(),data_version:1};if(((U=Te==null?void 0:Te.List)==null?void 0:U.length)>0){const on=Te.List[0],en={...lt,ID:on.id},{error:_n}=await $a("tableUpdate");_n?console.error(`Error updating player ${We}:`,_n):xt++}else{const{error:on}=await ml("tableCreate");on?console.error(`Error creating player ${We}:`,on):Je++}}catch(Te){console.error(`Error processing player ${We}:`,Te)}Ie%100===0&&await new Promise(Te=>setTimeout(Te,50))}P({success:!0,players_created:Je,players_updated:xt}),console.log(` Successfully synced players: ${Je} created, ${xt} updated`);const jt=new Date().toISOString();localStorage.setItem("last_players_sync",jt),ce(new Date(jt).toLocaleString()),gt({title:"Players Sync Complete",description:`${Je} players created, ${xt} updated`,variant:"default"})}catch(he){console.error(" Error syncing players:",he),P({success:!1,error:he.toString(),players_created:0,players_updated:0}),gt({title:"Players Sync Failed",description:`Failed to sync players: ${he}`,variant:"destructive"})}finally{x(!1),R(100)}},Ii=async()=>{var U;if(!o||n.length===0){gt({title:"No Data to Sync",description:"Please select a season with conferences to sync matchups",variant:"destructive"});return}v(!0),k(0),M(null);try{console.log("Starting matchups sync from Sleeper API..."),k(5);let he=0,Ge=0,Me=0,Je=0;const xt=n.length*17;let st=0;for(const Ie of n)try{console.log(`Processing matchups for league ${Ie.league_id}...`);for(let We=1;We<=17;We++){try{console.log(`Fetching matchups for league ${Ie.league_id}, week ${We}...`);const ze=await fetch(`https://api.sleeper.app/v1/league/${Ie.league_id}/matchups/${We}`);if(!ze.ok){if(ze.status===404){console.log(`No matchups found for league ${Ie.league_id}, week ${We} (404)`);continue}throw new Error(`API returned ${ze.status}: ${ze.statusText}`)}const Te=await ze.json();if(console.log(`Received ${Te.length} matchup entries for league ${Ie.league_id}, week ${We}`),!Array.isArray(Te)||Te.length===0){console.log(`No matchup data available for league ${Ie.league_id}, week ${We}`);continue}const Zt=new Map;Te.forEach(lt=>{Zt.has(lt.matchup_id)||Zt.set(lt.matchup_id,[]),Zt.get(lt.matchup_id).push(lt)});for(const[lt,on]of Zt.entries()){if(on.length!==2){console.warn(`Skipping incomplete matchup ${lt} - only ${on.length} teams`);continue}const[en,_n]=on,is=await ss(en.roster_id.toString(),Ie.id),Mn=await ss(_n.roster_id.toString(),Ie.id);if(!is||!Mn){console.warn(`Could not find team IDs for matchup ${lt}`);continue}let zt=0;en.points>_n.points?zt=is:_n.points>en.points&&(zt=Mn);const Zc={conference_id:Ie.id,week:We,team_1_id:is,team_2_id:Mn,is_playoff:We>14,sleeper_matchup_id:lt.toString(),team_1_score:en.points||0,team_2_score:_n.points||0,winner_id:zt,is_manual_override:!1,status:en.points>0||_n.points>0?"complete":"pending",matchup_date:new Date().toISOString(),notes:""},{data:as,error:Ks}=await window.ezsite.apis.tablePage(13329,{PageNo:1,PageSize:1,Filters:[{name:"conference_id",op:"Equal",value:Ie.id},{name:"week",op:"Equal",value:We},{name:"sleeper_matchup_id",op:"Equal",value:lt.toString()}]});if(Ks){console.error("Error searching for existing matchup:",Ks);continue}if(((U=as==null?void 0:as.List)==null?void 0:U.length)>0){const os=as.List[0],eu={...Zc,ID:os.id},{error:ls}=await $a("tableUpdate");ls?console.error("Error updating matchup:",ls):Ge++}else{const{error:os}=await ml("tableCreate");os?console.error("Error creating matchup:",os):he++}}Je++,await new Promise(lt=>setTimeout(lt,100))}catch(ze){console.error(`Error processing week ${We} for league ${Ie.league_id}:`,ze)}st++;const rt=5+st/xt*90;k(rt)}Me++,console.log(` Completed matchups sync for league ${Ie.league_id}`),await new Promise(We=>setTimeout(We,200))}catch(We){console.error(`Error processing league ${Ie.league_id}:`,We)}M({success:!0,matchups_created:he,matchups_updated:Ge,leagues_processed:Me,weeks_processed:Je}),console.log(` Successfully synced matchups: ${he} created, ${Ge} updated`);const jt=new Date().toISOString();localStorage.setItem("last_matchups_sync",jt),fe(new Date(jt).toLocaleString()),gt({title:"Matchups Sync Complete",description:`${he} matchups created, ${Ge} updated across ${Me} leagues`,variant:"default"})}catch(he){console.error(" Error syncing matchups:",he),M({success:!1,error:he.toString(),matchups_created:0,matchups_updated:0,leagues_processed:0,weeks_processed:0}),gt({title:"Matchups Sync Failed",description:`Failed to sync matchups: ${he}`,variant:"destructive"})}finally{v(!1),k(100)}},qs=async()=>{p(!0),I(0),re(null);try{console.log("Starting draft sync from Sleeper API..."),I(5);const U=await nT.fetchAndStoreDraftResults();if(I(100),U.success){re({success:!0,message:U.message,data:U.data});const he=new Date().toISOString();localStorage.setItem("last_draft_sync",he),Se(new Date(he).toLocaleString()),gt({title:"Draft Sync Complete",description:U.message,variant:"default"})}else re({success:!1,error:U.message,message:U.message}),gt({title:"Draft Sync Failed",description:U.message,variant:"destructive"})}catch(U){console.error(" Error syncing draft:",U),re({success:!1,error:U.toString(),message:`Draft sync failed: ${U}`}),gt({title:"Draft Sync Failed",description:`Failed to sync draft: ${U}`,variant:"destructive"})}finally{p(!1)}},Vt=e.find(U=>U.id===o);return _e?i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsx("div",{className:"animate-spin h-8 w-8 border-b-2 border-blue-600 rounded-full"})}):i.jsx("div",{className:"space-y-6",children:i.jsxs(Y,{children:[i.jsxs(ie,{children:[i.jsxs(ae,{className:"flex items-center gap-2",children:[i.jsx(Ma,{className:"h-5 w-5"}),"Data Synchronization"]}),i.jsx(be,{children:"Sync conference, team, and player data from Sleeper API to update database records"})]}),i.jsxs(X,{children:[i.jsx("div",{className:"flex items-center justify-between mb-6",children:i.jsx("div",{className:"flex items-center gap-4",children:i.jsx("div",{className:"flex-1",children:i.jsxs(At,{value:(o==null?void 0:o.toString())||"",onValueChange:U=>l(parseInt(U)),children:[i.jsx(Ct,{className:"w-[200px]",children:i.jsx(Dt,{placeholder:"Select season"})}),i.jsx(Et,{children:e.map(U=>i.jsx($e,{value:U.id.toString(),children:U.season_name},U.id))})]})})})}),Vt&&i.jsxs(i.Fragment,{children:[n.length===0&&i.jsxs(_t,{className:"mb-6",children:[i.jsx(Ze,{className:"h-4 w-4"}),i.jsxs(St,{children:["No conferences found for ",Vt.season_name,". Conference and Team sync require leagues to be added first, but Player sync can be performed independently."]})]}),i.jsxs(ja,{defaultValue:n.length>0?"conferences":"players",className:"space-y-6",children:[i.jsxs(Ai,{className:"grid w-full grid-cols-6",children:[i.jsxs(He,{value:"conferences",className:"flex items-center gap-2",children:[i.jsx(Kt,{className:"h-4 w-4"}),"Conference Sync"]}),i.jsxs(He,{value:"teams",className:"flex items-center gap-2",children:[i.jsx(Yt,{className:"h-4 w-4"}),"Teams Sync"]}),i.jsxs(He,{value:"matchups",className:"flex items-center gap-2",children:[i.jsx(tt,{className:"h-4 w-4"}),"Matchups Sync"]}),i.jsxs(He,{value:"draft",className:"flex items-center gap-2",children:[i.jsx(Qu,{className:"h-4 w-4"}),"Draft Sync"]}),i.jsxs(He,{value:"rosters",className:"flex items-center gap-2",children:[i.jsx(Vh,{className:"h-4 w-4"}),"Team Rosters"]}),i.jsxs(He,{value:"players",className:"flex items-center gap-2",children:[i.jsx(Ml,{className:"h-4 w-4"}),"Players Sync"]})]}),i.jsx(qe,{value:"rosters",children:n.length===0?i.jsxs(_t,{children:[i.jsx(Ze,{className:"h-4 w-4"}),i.jsx(St,{children:"No conferences available for team rosters synchronization. Please add leagues in the League Manager tab first."})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"flex items-center gap-4",children:Qe&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(Zs,{className:"h-4 w-4"}),"Last rosters sync: ",Qe]})}),i.jsx(te,{onClick:Mt,disabled:g||!o||n.length===0,children:g?i.jsxs(i.Fragment,{children:[i.jsx(tt,{className:"h-4 w-4 mr-2 animate-spin"}),"Syncing..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Vh,{className:"h-4 w-4 mr-2"}),"Sync Team Rosters"]})})]}),i.jsxs(Y,{children:[i.jsxs(ie,{children:[i.jsxs(ae,{className:"flex items-center gap-2",children:[i.jsx(sN,{className:"h-5 w-5"}),"Week Filtering Options"]}),i.jsx(be,{children:"Choose which weeks to sync for team rosters data"})]}),i.jsxs(X,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs(At,{value:$n,onValueChange:we,children:[i.jsx(Ct,{className:"w-[200px]",children:i.jsx(Dt,{placeholder:"Select sync mode"})}),i.jsxs(Et,{children:[i.jsx($e,{value:"all",children:"All Weeks (1-17)"}),i.jsx($e,{value:"range",children:"Week Range"}),i.jsx($e,{value:"specific",children:"Specific Weeks"})]})]}),$n==="range"&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm",children:"From week:"}),i.jsxs(At,{value:Ue.toString(),onValueChange:U=>Xt(parseInt(U)),children:[i.jsx(Ct,{className:"w-20",children:i.jsx(Dt,{})}),i.jsx(Et,{children:Array.from({length:17},(U,he)=>he+1).map(U=>i.jsx($e,{value:U.toString(),children:U},U))})]}),i.jsx("span",{className:"text-sm",children:"to week:"}),i.jsxs(At,{value:Bt.toString(),onValueChange:U=>ba(parseInt(U)),children:[i.jsx(Ct,{className:"w-20",children:i.jsx(Dt,{})}),i.jsx(Et,{children:Array.from({length:17},(U,he)=>he+1).filter(U=>U>=Ue).map(U=>i.jsx($e,{value:U.toString(),children:U},U))})]})]})]}),$n==="specific"&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(te,{variant:"outline",size:"sm",onClick:ns,className:"text-xs",children:"Select All"}),i.jsx(te,{variant:"outline",size:"sm",onClick:Lr,className:"text-xs",children:"Clear All"}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:[tl.length," weeks selected"]})]}),i.jsx("div",{className:"grid grid-cols-9 gap-2",children:Array.from({length:17},(U,he)=>he+1).map(U=>i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(tT,{id:`week-${U}`,checked:tl.includes(U),onCheckedChange:()=>bn(U)}),i.jsx("label",{htmlFor:`week-${U}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:U})]},U))})]}),i.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(Yn,{className:"h-4 w-4 text-blue-600"}),i.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Sync Summary"})]}),i.jsx("div",{className:"text-sm text-blue-700",children:(()=>{const U=Jt();return`Will sync ${U.length} week${U.length!==1?"s":""} (${U.join(", ")}) across ${n.length} conference${n.length!==1?"s":""} = ${U.length*n.length} total operations`})()})]})]})]}),g&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-medium",children:"Synchronizing team rosters..."}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(B),"%"]})]}),i.jsx(er,{value:B,className:"w-full"})]}),i.jsxs(Y,{children:[i.jsxs(ie,{children:[i.jsxs(ae,{className:"text-lg",children:["Team Rosters Synchronization - ",Vt.season_name]}),i.jsxs(be,{children:["Sync weekly team roster data from Sleeper API using matchups endpoint for ",n.length," conference",n.length!==1?"s":""," across selected weeks"]})]}),i.jsxs(X,{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Vh,{className:"h-5 w-5 text-blue-600"}),i.jsx("h4",{className:"font-semibold",children:"Roster Data"})]}),i.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Fetches weekly roster information including:"}),i.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[i.jsx("li",{children:" Player assignments to teams by week"}),i.jsx("li",{children:" Active roster compositions"}),i.jsx("li",{children:" Team-player relationships over time"}),i.jsx("li",{children:" Historical roster tracking"})]})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Ma,{className:"h-5 w-5 text-green-600"}),i.jsx("h4",{className:"font-semibold",children:"Data Mapping"})]}),i.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Uses existing data for accurate mapping:"}),i.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[i.jsx("li",{children:" Maps roster_id to team_id via junction table"}),i.jsx("li",{children:" Maps sleeper_player_id to player_id"}),i.jsx("li",{children:" Creates weekly roster assignments"}),i.jsxs("li",{children:[" Processes ",n.length*17," total operations"]})]})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("h4",{className:"font-semibold mb-2",children:"Sync Process Overview:"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[i.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded",children:[i.jsx("div",{className:"text-sm font-medium text-blue-800",children:"Step 1: API Calls"}),i.jsx("div",{className:"text-xs text-blue-600",children:"Fetch matchups for each league & week"})]}),i.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded",children:[i.jsx("div",{className:"text-sm font-medium text-yellow-800",children:"Step 2: Data Mapping"}),i.jsx("div",{className:"text-xs text-yellow-600",children:"Map roster_id & player_id to database"})]}),i.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 rounded",children:[i.jsx("div",{className:"text-sm font-medium text-green-800",children:"Step 3: Store Rosters"}),i.jsx("div",{className:"text-xs text-green-600",children:"Save weekly roster assignments"})]})]})]}),i.jsxs("div",{className:"mt-4",children:[i.jsx("h4",{className:"font-semibold mb-2",children:"Conferences to Process:"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:n.map(U=>i.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded",children:[i.jsx(ee,{variant:"outline",className:"text-xs",children:U.league_id}),i.jsx("span",{className:"text-sm truncate",children:U.conference_name})]},U.id))}),i.jsxs("div",{className:"mt-2 text-xs text-muted-foreground",children:["Total operations: ",n.length," leagues  ",Jt().length," weeks = ",n.length*Jt().length," API calls"]})]}),i.jsxs(_t,{className:"mt-4",children:[i.jsx(Ze,{className:"h-4 w-4"}),i.jsxs(St,{children:[i.jsx("strong",{children:"Note:"}),` This sync processes team rosters for the selected weeks across all conferences using the matchups endpoint. The "players" array from each matchup entry contains all players on that team's roster for that specific week. Weeks that don't exist yet (future weeks) will be skipped automatically.`]})]})]})]}),G&&i.jsxs(Y,{children:[i.jsxs(ie,{children:[i.jsx(ae,{className:"text-lg",children:"Team Rosters Sync Results"}),i.jsx(be,{children:"Results from the last team rosters synchronization"})]}),i.jsx(X,{children:i.jsxs("div",{className:"p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[G.success?i.jsx(wl,{className:"h-5 w-5 text-green-600"}):i.jsx(Ze,{className:"h-5 w-5 text-red-600"}),i.jsx("span",{className:"font-medium",children:"Team Rosters Synchronization"})]}),i.jsx("div",{className:"text-sm",children:G.success?i.jsx("span",{className:"text-green-600",children:"Success"}):i.jsx("span",{className:"text-red-600",children:"Failed"})})]}),G.success&&i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 text-sm text-muted-foreground",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Created:"}),i.jsx("div",{className:"text-lg font-semibold text-green-600",children:G.rosters_created})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Updated:"}),i.jsx("div",{className:"text-lg font-semibold text-blue-600",children:G.rosters_updated})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Players:"}),i.jsx("div",{className:"text-lg font-semibold text-purple-600",children:G.players_processed})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Leagues:"}),i.jsx("div",{className:"text-lg font-semibold text-orange-600",children:G.leagues_processed})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Weeks:"}),i.jsx("div",{className:"text-lg font-semibold text-teal-600",children:G.weeks_processed})]})]}),G.error&&i.jsx("div",{className:"text-sm text-red-600 mt-1",children:G.error})]})})]})]})}),i.jsx(qe,{value:"conferences",children:n.length===0?i.jsxs(_t,{children:[i.jsx(Ze,{className:"h-4 w-4"}),i.jsx(St,{children:"No conferences available. Please add leagues in the League Manager tab first."})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"flex items-center gap-4",children:W&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(Zs,{className:"h-4 w-4"}),"Last sync: ",W]})}),i.jsx(te,{onClick:rs,disabled:c||!o||n.length===0,children:c?i.jsxs(i.Fragment,{children:[i.jsx(tt,{className:"h-4 w-4 mr-2 animate-spin"}),"Syncing..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Kt,{className:"h-4 w-4 mr-2"}),"Sync Conference Data"]})})]}),c&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-medium",children:"Synchronizing conferences..."}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(b),"%"]})]}),i.jsx(er,{value:b,className:"w-full"})]}),i.jsxs(Y,{children:[i.jsxs(ie,{children:[i.jsxs(ae,{className:"text-lg",children:["Conference Synchronization - ",Vt==null?void 0:Vt.season_name]}),i.jsx(be,{children:"Sync conference data from Sleeper API to update league information"})]}),i.jsx(X,{children:i.jsxs("div",{className:"mb-4",children:[i.jsx("h4",{className:"font-semibold mb-2",children:"Conferences to Process:"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:n.map(U=>i.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded",children:[i.jsx(ee,{variant:"outline",className:"text-xs",children:U.league_id}),i.jsx("span",{className:"text-sm truncate",children:U.conference_name})]},U.id))})]})})]}),O.length>0&&i.jsxs(Y,{children:[i.jsx(ie,{children:i.jsx(ae,{className:"text-lg",children:"Sync Results"})}),i.jsx(X,{children:i.jsxs(pn,{children:[i.jsx(gn,{children:i.jsxs(Pe,{children:[i.jsx(se,{children:"League ID"}),i.jsx(se,{children:"Status"}),i.jsx(se,{children:"Details"})]})}),i.jsx(xn,{children:O.map((U,he)=>i.jsxs(Pe,{children:[i.jsx(Z,{className:"font-medium",children:U.league_id}),i.jsx(Z,{children:U.success?i.jsx(ee,{variant:"default",children:"Success"}):i.jsx(ee,{variant:"destructive",children:"Failed"})}),i.jsx(Z,{children:U.success?i.jsx("span",{className:"text-green-600",children:"Updated successfully"}):i.jsx("span",{className:"text-red-600",children:U.error})})]},he))})]})})]})]})}),i.jsx(qe,{value:"teams",children:n.length===0?i.jsxs(_t,{children:[i.jsx(Ze,{className:"h-4 w-4"}),i.jsx(St,{children:"No conferences available for team synchronization. Please add leagues in the League Manager tab first."})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"flex items-center gap-4",children:F&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(Zs,{className:"h-4 w-4"}),"Last teams sync: ",F]})}),i.jsx(te,{onClick:_s,disabled:d||!o||n.length===0,children:d?i.jsxs(i.Fragment,{children:[i.jsx(tt,{className:"h-4 w-4 mr-2 animate-spin"}),"Syncing..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Yt,{className:"h-4 w-4 mr-2"}),"Sync Teams"]})})]}),d&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-medium",children:"Synchronizing teams..."}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(T),"%"]})]}),i.jsx(er,{value:T,className:"w-full"})]}),i.jsxs(Y,{children:[i.jsxs(ie,{children:[i.jsxs(ae,{className:"text-lg",children:["Teams Synchronization - ",Vt==null?void 0:Vt.season_name]}),i.jsx(be,{children:"Sync team data from Sleeper API including owners, team names, and roster mappings"})]}),i.jsx(X,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Yt,{className:"h-5 w-5 text-blue-600"}),i.jsx("h4",{className:"font-semibold",children:"Team Data"})]}),i.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Creates teams and junction records:"}),i.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[i.jsx("li",{children:" Team names and owner information"}),i.jsx("li",{children:" Avatar/logo URLs"}),i.jsx("li",{children:" Roster ID mappings"}),i.jsx("li",{children:" Conference relationships"})]})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Ma,{className:"h-5 w-5 text-green-600"}),i.jsx("h4",{className:"font-semibold",children:"Data Structure"})]}),i.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Updates database tables:"}),i.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[i.jsx("li",{children:" Teams table (team info)"}),i.jsx("li",{children:" Junction table (team-conference mapping)"}),i.jsx("li",{children:" Roster ID associations"}),i.jsx("li",{children:" Active status tracking"})]})]})]})})]}),A.length>0&&i.jsxs(Y,{children:[i.jsx(ie,{children:i.jsx(ae,{className:"text-lg",children:"Teams Sync Results"})}),i.jsx(X,{children:i.jsxs(pn,{children:[i.jsx(gn,{children:i.jsxs(Pe,{children:[i.jsx(se,{children:"League ID"}),i.jsx(se,{children:"Status"}),i.jsx(se,{children:"Teams Created"}),i.jsx(se,{children:"Junction Records"}),i.jsx(se,{children:"Details"})]})}),i.jsx(xn,{children:A.map((U,he)=>i.jsxs(Pe,{children:[i.jsx(Z,{className:"font-medium",children:U.league_id}),i.jsx(Z,{children:U.success?i.jsx(ee,{variant:"default",children:"Success"}):i.jsx(ee,{variant:"destructive",children:"Failed"})}),i.jsx(Z,{children:U.success?U.teams_created:0}),i.jsx(Z,{children:U.success?U.junction_records_created:0}),i.jsx(Z,{children:U.success?i.jsx("span",{className:"text-green-600",children:"Updated successfully"}):i.jsx("span",{className:"text-red-600",children:U.error})})]},he))})]})})]})]})}),i.jsx(qe,{value:"matchups",children:n.length===0?i.jsxs(_t,{children:[i.jsx(Ze,{className:"h-4 w-4"}),i.jsx(St,{children:"No conferences available for matchup synchronization. Please add leagues in the League Manager tab first."})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"flex items-center gap-4",children:pe&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(Zs,{className:"h-4 w-4"}),"Last matchups sync: ",pe]})}),i.jsx(te,{onClick:Ii,disabled:j||!o||n.length===0,children:j?i.jsxs(i.Fragment,{children:[i.jsx(tt,{className:"h-4 w-4 mr-2 animate-spin"}),"Syncing..."]}):i.jsxs(i.Fragment,{children:[i.jsx(tt,{className:"h-4 w-4 mr-2"}),"Sync Matchups"]})})]}),j&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-medium",children:"Synchronizing matchups..."}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(D),"%"]})]}),i.jsx(er,{value:D,className:"w-full"})]}),i.jsxs(Y,{children:[i.jsxs(ie,{children:[i.jsxs(ae,{className:"text-lg",children:["Matchups Synchronization - ",Vt==null?void 0:Vt.season_name]}),i.jsx(be,{children:"Sync matchup data from Sleeper API for all weeks across all conferences"})]}),i.jsx(X,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(tt,{className:"h-5 w-5 text-blue-600"}),i.jsx("h4",{className:"font-semibold",children:"Matchup Data"})]}),i.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Processes matchup information:"}),i.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[i.jsx("li",{children:" Team matchups for all weeks"}),i.jsx("li",{children:" Scores and results"}),i.jsx("li",{children:" Winner determination"}),i.jsx("li",{children:" Playoff vs regular season"})]})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Yn,{className:"h-5 w-5 text-green-600"}),i.jsx("h4",{className:"font-semibold",children:"Season Coverage"})]}),i.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Covers the entire season:"}),i.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[i.jsx("li",{children:" Weeks 1-17 for each conference"}),i.jsx("li",{children:" Regular season and playoffs"}),i.jsxs("li",{children:[" ",n.length*17," total operations"]}),i.jsx("li",{children:" Automatic status detection"})]})]})]})})]}),L&&i.jsxs(Y,{children:[i.jsx(ie,{children:i.jsx(ae,{className:"text-lg",children:"Matchups Sync Results"})}),i.jsx(X,{children:i.jsxs("div",{className:"p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[L.success?i.jsx(wl,{className:"h-5 w-5 text-green-600"}):i.jsx(Ze,{className:"h-5 w-5 text-red-600"}),i.jsx("span",{className:"font-medium",children:"Matchups Synchronization"})]}),i.jsx("div",{className:"text-sm",children:L.success?i.jsx("span",{className:"text-green-600",children:"Success"}):i.jsx("span",{className:"text-red-600",children:"Failed"})})]}),L.success&&i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-muted-foreground",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Created:"}),i.jsx("div",{className:"text-lg font-semibold text-green-600",children:L.matchups_created})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Updated:"}),i.jsx("div",{className:"text-lg font-semibold text-blue-600",children:L.matchups_updated})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Leagues:"}),i.jsx("div",{className:"text-lg font-semibold text-orange-600",children:L.leagues_processed})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Weeks:"}),i.jsx("div",{className:"text-lg font-semibold text-purple-600",children:L.weeks_processed})]})]}),L.error&&i.jsx("div",{className:"text-sm text-red-600 mt-1",children:L.error})]})})]})]})}),i.jsx(qe,{value:"draft",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"flex items-center gap-4",children:ye&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(Zs,{className:"h-4 w-4"}),"Last draft sync: ",ye]})}),i.jsx(te,{onClick:qs,disabled:y,children:y?i.jsxs(i.Fragment,{children:[i.jsx(tt,{className:"h-4 w-4 mr-2 animate-spin"}),"Syncing..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Qu,{className:"h-4 w-4 mr-2"}),"Sync Draft Results"]})})]}),y&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-medium",children:"Synchronizing draft results..."}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round($),"%"]})]}),i.jsx(er,{value:$,className:"w-full"})]}),i.jsxs(Y,{children:[i.jsxs(ie,{children:[i.jsx(ae,{className:"text-lg",children:"Draft Results Synchronization"}),i.jsx(be,{children:"Sync draft results from Sleeper API for all conferences and seasons"})]}),i.jsxs(X,{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Qu,{className:"h-5 w-5 text-blue-600"}),i.jsx("h4",{className:"font-semibold",children:"Draft Data"})]}),i.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Processes draft information:"}),i.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[i.jsx("li",{children:" Draft picks by round and position"}),i.jsx("li",{children:" Player information and positions"}),i.jsx("li",{children:" Team assignments"}),i.jsx("li",{children:" Historical draft tracking"})]})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Ma,{className:"h-5 w-5 text-green-600"}),i.jsx("h4",{className:"font-semibold",children:"Data Processing"})]}),i.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Updates draft results table:"}),i.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[i.jsx("li",{children:" Maps roster IDs to team IDs"}),i.jsx("li",{children:" Processes all conferences"}),i.jsx("li",{children:" Handles multiple seasons"}),i.jsx("li",{children:" Clears and refreshes data"})]})]})]}),i.jsxs(_t,{children:[i.jsx(Ze,{className:"h-4 w-4"}),i.jsxs(St,{children:[i.jsx("strong",{children:"Note:"})," This sync processes draft results for all conferences and seasons. It will clear existing draft data and repopulate it with the latest information from Sleeper API."]})]})]})]}),H&&i.jsxs(Y,{children:[i.jsx(ie,{children:i.jsx(ae,{className:"text-lg",children:"Draft Sync Results"})}),i.jsx(X,{children:i.jsxs("div",{className:"p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[H.success?i.jsx(wl,{className:"h-5 w-5 text-green-600"}):i.jsx(Ze,{className:"h-5 w-5 text-red-600"}),i.jsx("span",{className:"font-medium",children:"Draft Synchronization"})]}),i.jsx("div",{className:"text-sm",children:H.success?i.jsx("span",{className:"text-green-600",children:"Success"}):i.jsx("span",{className:"text-red-600",children:"Failed"})})]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:H.message}),H.error&&i.jsx("div",{className:"text-sm text-red-600 mt-1",children:H.error})]})})]})]})}),i.jsx(qe,{value:"players",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"flex items-center gap-4",children:le&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(Zs,{className:"h-4 w-4"}),"Last players sync: ",le]})}),i.jsx(te,{onClick:Mi,disabled:m,children:m?i.jsxs(i.Fragment,{children:[i.jsx(tt,{className:"h-4 w-4 mr-2 animate-spin"}),"Syncing..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Ml,{className:"h-4 w-4 mr-2"}),"Sync Players"]})})]}),m&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-medium",children:"Synchronizing players..."}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(C),"%"]})]}),i.jsx(er,{value:C,className:"w-full"})]}),i.jsxs(Y,{children:[i.jsxs(ie,{children:[i.jsx(ae,{className:"text-lg",children:"Players Synchronization"}),i.jsx(be,{children:"Sync all NFL players data from Sleeper API - this operation is independent of conferences"})]}),i.jsxs(X,{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Ml,{className:"h-5 w-5 text-blue-600"}),i.jsx("h4",{className:"font-semibold",children:"Player Data"})]}),i.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Syncs comprehensive player information:"}),i.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[i.jsx("li",{children:" Names and positions"}),i.jsx("li",{children:" NFL team affiliations"}),i.jsx("li",{children:" Physical attributes"}),i.jsx("li",{children:" Injury status"}),i.jsx("li",{children:" College and experience"})]})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Ma,{className:"h-5 w-5 text-green-600"}),i.jsx("h4",{className:"font-semibold",children:"Data Management"})]}),i.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Updates player database:"}),i.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[i.jsx("li",{children:" Creates new player records"}),i.jsx("li",{children:" Updates existing player info"}),i.jsx("li",{children:" Maintains Sleeper ID mappings"}),i.jsx("li",{children:" Processes thousands of players"})]})]})]}),i.jsxs(_t,{children:[i.jsx(Ze,{className:"h-4 w-4"}),i.jsxs(St,{children:[i.jsx("strong",{children:"Note:"})," This sync processes all NFL players from Sleeper API. It can take several minutes to complete and will update or create thousands of player records."]})]})]})]}),E&&i.jsxs(Y,{children:[i.jsx(ie,{children:i.jsx(ae,{className:"text-lg",children:"Players Sync Results"})}),i.jsx(X,{children:i.jsxs("div",{className:"p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[E.success?i.jsx(wl,{className:"h-5 w-5 text-green-600"}):i.jsx(Ze,{className:"h-5 w-5 text-red-600"}),i.jsx("span",{className:"font-medium",children:"Players Synchronization"})]}),i.jsx("div",{className:"text-sm",children:E.success?i.jsx("span",{className:"text-green-600",children:"Success"}):i.jsx("span",{className:"text-red-600",children:"Failed"})})]}),E.success&&i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Created:"}),i.jsx("div",{className:"text-lg font-semibold text-green-600",children:E.players_created})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Updated:"}),i.jsx("div",{className:"text-lg font-semibold text-blue-600",children:E.players_updated})]})]}),E.error&&i.jsx("div",{className:"text-sm text-red-600 mt-1",children:E.error})]})})]})]})})]})]})]})]})})},$a=async(e,t)=>(console.log(`Placeholder Update: ${e}`,t),{error:null}),ml=async(e,t)=>(console.log(`Placeholder Create: ${e}`,t),{error:null});function RB(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return h.useMemo(()=>s=>{t.forEach(r=>r(s))},t)}const Qf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Go(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function xv(e){return"nodeType"in e}function Dn(e){var t,n;return e?Go(e)?e:xv(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function vv(e){const{Document:t}=Dn(e);return e instanceof t}function Wc(e){return Go(e)?!1:e instanceof Dn(e).HTMLElement}function sT(e){return e instanceof Dn(e).SVGElement}function Yo(e){return e?Go(e)?e.document:xv(e)?vv(e)?e:Wc(e)||sT(e)?e.ownerDocument:document:document:document}const Us=Qf?h.useLayoutEffect:h.useEffect;function Xf(e){const t=h.useRef(e);return Us(()=>{t.current=e}),h.useCallback(function(){for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return t.current==null?void 0:t.current(...s)},[])}function AB(){const e=h.useRef(null),t=h.useCallback((s,r)=>{e.current=setInterval(s,r)},[]),n=h.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function vc(e,t){t===void 0&&(t=[e]);const n=h.useRef(e);return Us(()=>{n.current!==e&&(n.current=e)},t),n}function Hc(e,t){const n=h.useRef();return h.useMemo(()=>{const s=e(n.current);return n.current=s,s},[...t])}function Wd(e){const t=Xf(e),n=h.useRef(null),s=h.useCallback(r=>{r!==n.current&&(t==null||t(r,n.current)),n.current=r},[]);return[n,s]}function Hd(e){const t=h.useRef();return h.useEffect(()=>{t.current=e},[e]),t.current}let um={};function qc(e,t){return h.useMemo(()=>{if(t)return t;const n=um[e]==null?0:um[e]+1;return um[e]=n,e+"-"+n},[e,t])}function rT(e){return function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),r=1;r<n;r++)s[r-1]=arguments[r];return s.reduce((a,o)=>{const l=Object.entries(o);for(const[c,u]of l){const d=a[c];d!=null&&(a[c]=d+e*u)}return a},{...t})}}const uo=rT(1),yc=rT(-1);function DB(e){return"clientX"in e&&"clientY"in e}function Jf(e){if(!e)return!1;const{KeyboardEvent:t}=Dn(e.target);return t&&e instanceof t}function $B(e){if(!e)return!1;const{TouchEvent:t}=Dn(e.target);return t&&e instanceof t}function qd(e){if($B(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return DB(e)?{x:e.clientX,y:e.clientY}:null}const bi=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[bi.Translate.toString(e),bi.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:s}=e;return t+" "+n+"ms "+s}}}),A0="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function MB(e){return e.matches(A0)?e:e.querySelector(A0)}const IB={display:"none"};function LB(e){let{id:t,value:n}=e;return De.createElement("div",{id:t,style:IB},n)}function OB(e){let{id:t,announcement:n,ariaLiveType:s="assertive"}=e;const r={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return De.createElement("div",{id:t,style:r,role:"status","aria-live":s,"aria-atomic":!0},n)}function FB(){const[e,t]=h.useState("");return{announce:h.useCallback(s=>{s!=null&&t(s)},[]),announcement:e}}const iT=h.createContext(null);function BB(e){const t=h.useContext(iT);h.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function UB(){const[e]=h.useState(()=>new Set),t=h.useCallback(s=>(e.add(s),()=>e.delete(s)),[e]);return[h.useCallback(s=>{let{type:r,event:a}=s;e.forEach(o=>{var l;return(l=o[r])==null?void 0:l.call(o,a)})},[e]),t]}const VB={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},zB={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function WB(e){let{announcements:t=zB,container:n,hiddenTextDescribedById:s,screenReaderInstructions:r=VB}=e;const{announce:a,announcement:o}=FB(),l=qc("DndLiveRegion"),[c,u]=h.useState(!1);if(h.useEffect(()=>{u(!0)},[]),BB(h.useMemo(()=>({onDragStart(f){let{active:m}=f;a(t.onDragStart({active:m}))},onDragMove(f){let{active:m,over:x}=f;t.onDragMove&&a(t.onDragMove({active:m,over:x}))},onDragOver(f){let{active:m,over:x}=f;a(t.onDragOver({active:m,over:x}))},onDragEnd(f){let{active:m,over:x}=f;a(t.onDragEnd({active:m,over:x}))},onDragCancel(f){let{active:m,over:x}=f;a(t.onDragCancel({active:m,over:x}))}}),[a,t])),!c)return null;const d=De.createElement(De.Fragment,null,De.createElement(LB,{id:s,value:r.draggable}),De.createElement(OB,{id:l,announcement:o}));return n?gs.createPortal(d,n):d}var Ot;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Ot||(Ot={}));function Kd(){}function D0(e,t){return h.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function HB(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return h.useMemo(()=>[...t].filter(s=>s!=null),[...t])}const Vs=Object.freeze({x:0,y:0});function aT(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function qB(e,t){const n=qd(e);if(!n)return"0 0";const s={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return s.x+"% "+s.y+"%"}function oT(e,t){let{data:{value:n}}=e,{data:{value:s}}=t;return n-s}function KB(e,t){let{data:{value:n}}=e,{data:{value:s}}=t;return s-n}function $0(e){let{left:t,top:n,height:s,width:r}=e;return[{x:t,y:n},{x:t+r,y:n},{x:t,y:n+s},{x:t+r,y:n+s}]}function lT(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function M0(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const GB=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=e;const r=M0(t,t.left,t.top),a=[];for(const o of s){const{id:l}=o,c=n.get(l);if(c){const u=aT(M0(c),r);a.push({id:l,data:{droppableContainer:o,value:u}})}}return a.sort(oT)},YB=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=e;const r=$0(t),a=[];for(const o of s){const{id:l}=o,c=n.get(l);if(c){const u=$0(c),d=r.reduce((m,x,j)=>m+aT(u[j],x),0),f=Number((d/4).toFixed(4));a.push({id:l,data:{droppableContainer:o,value:f}})}}return a.sort(oT)};function QB(e,t){const n=Math.max(t.top,e.top),s=Math.max(t.left,e.left),r=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),o=r-s,l=a-n;if(s<r&&n<a){const c=t.width*t.height,u=e.width*e.height,d=o*l,f=d/(c+u-d);return Number(f.toFixed(4))}return 0}const XB=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=e;const r=[];for(const a of s){const{id:o}=a,l=n.get(o);if(l){const c=QB(l,t);c>0&&r.push({id:o,data:{droppableContainer:a,value:c}})}}return r.sort(KB)};function JB(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function cT(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Vs}function ZB(e){return function(n){for(var s=arguments.length,r=new Array(s>1?s-1:0),a=1;a<s;a++)r[a-1]=arguments[a];return r.reduce((o,l)=>({...o,top:o.top+e*l.y,bottom:o.bottom+e*l.y,left:o.left+e*l.x,right:o.right+e*l.x}),{...n})}}const eU=ZB(1);function uT(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function tU(e,t,n){const s=uT(t);if(!s)return e;const{scaleX:r,scaleY:a,x:o,y:l}=s,c=e.left-o-(1-r)*parseFloat(n),u=e.top-l-(1-a)*parseFloat(n.slice(n.indexOf(" ")+1)),d=r?e.width/r:e.width,f=a?e.height/a:e.height;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c}}const nU={ignoreTransform:!1};function Qo(e,t){t===void 0&&(t=nU);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:d}=Dn(e).getComputedStyle(e);u&&(n=tU(n,u,d))}const{top:s,left:r,width:a,height:o,bottom:l,right:c}=n;return{top:s,left:r,width:a,height:o,bottom:l,right:c}}function I0(e){return Qo(e,{ignoreTransform:!0})}function sU(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function rU(e,t){return t===void 0&&(t=Dn(e).getComputedStyle(e)),t.position==="fixed"}function iU(e,t){t===void 0&&(t=Dn(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(r=>{const a=t[r];return typeof a=="string"?n.test(a):!1})}function Zf(e,t){const n=[];function s(r){if(t!=null&&n.length>=t||!r)return n;if(vv(r)&&r.scrollingElement!=null&&!n.includes(r.scrollingElement))return n.push(r.scrollingElement),n;if(!Wc(r)||sT(r)||n.includes(r))return n;const a=Dn(e).getComputedStyle(r);return r!==e&&iU(r,a)&&n.push(r),rU(r,a)?n:s(r.parentNode)}return e?s(e):n}function dT(e){const[t]=Zf(e,1);return t??null}function dm(e){return!Qf||!e?null:Go(e)?e:xv(e)?vv(e)||e===Yo(e).scrollingElement?window:Wc(e)?e:null:null}function fT(e){return Go(e)?e.scrollX:e.scrollLeft}function hT(e){return Go(e)?e.scrollY:e.scrollTop}function sg(e){return{x:fT(e),y:hT(e)}}var qt;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(qt||(qt={}));function mT(e){return!Qf||!e?!1:e===document.scrollingElement}function pT(e){const t={x:0,y:0},n=mT(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},s={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},r=e.scrollTop<=t.y,a=e.scrollLeft<=t.x,o=e.scrollTop>=s.y,l=e.scrollLeft>=s.x;return{isTop:r,isLeft:a,isBottom:o,isRight:l,maxScroll:s,minScroll:t}}const aU={x:.2,y:.2};function oU(e,t,n,s,r){let{top:a,left:o,right:l,bottom:c}=n;s===void 0&&(s=10),r===void 0&&(r=aU);const{isTop:u,isBottom:d,isLeft:f,isRight:m}=pT(e),x={x:0,y:0},j={x:0,y:0},v={height:t.height*r.y,width:t.width*r.x};return!u&&a<=t.top+v.height?(x.y=qt.Backward,j.y=s*Math.abs((t.top+v.height-a)/v.height)):!d&&c>=t.bottom-v.height&&(x.y=qt.Forward,j.y=s*Math.abs((t.bottom-v.height-c)/v.height)),!m&&l>=t.right-v.width?(x.x=qt.Forward,j.x=s*Math.abs((t.right-v.width-l)/v.width)):!f&&o<=t.left+v.width&&(x.x=qt.Backward,j.x=s*Math.abs((t.left+v.width-o)/v.width)),{direction:x,speed:j}}function lU(e){if(e===document.scrollingElement){const{innerWidth:a,innerHeight:o}=window;return{top:0,left:0,right:a,bottom:o,width:a,height:o}}const{top:t,left:n,right:s,bottom:r}=e.getBoundingClientRect();return{top:t,left:n,right:s,bottom:r,width:e.clientWidth,height:e.clientHeight}}function gT(e){return e.reduce((t,n)=>uo(t,sg(n)),Vs)}function cU(e){return e.reduce((t,n)=>t+fT(n),0)}function uU(e){return e.reduce((t,n)=>t+hT(n),0)}function xT(e,t){if(t===void 0&&(t=Qo),!e)return;const{top:n,left:s,bottom:r,right:a}=t(e);dT(e)&&(r<=0||a<=0||n>=window.innerHeight||s>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const dU=[["x",["left","right"],cU],["y",["top","bottom"],uU]];class yv{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const s=Zf(n),r=gT(s);this.rect={...t},this.width=t.width,this.height=t.height;for(const[a,o,l]of dU)for(const c of o)Object.defineProperty(this,c,{get:()=>{const u=l(s),d=r[a]-u;return this.rect[c]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Ol{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var s;return(s=this.target)==null?void 0:s.removeEventListener(...n)})},this.target=t}add(t,n,s){var r;(r=this.target)==null||r.addEventListener(t,n,s),this.listeners.push([t,n,s])}}function fU(e){const{EventTarget:t}=Dn(e);return e instanceof t?e:Yo(e)}function fm(e,t){const n=Math.abs(e.x),s=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+s**2)>t:"x"in t&&"y"in t?n>t.x&&s>t.y:"x"in t?n>t.x:"y"in t?s>t.y:!1}var fs;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(fs||(fs={}));function L0(e){e.preventDefault()}function hU(e){e.stopPropagation()}var Ae;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Ae||(Ae={}));const vT={start:[Ae.Space,Ae.Enter],cancel:[Ae.Esc],end:[Ae.Space,Ae.Enter,Ae.Tab]},mU=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Ae.Right:return{...n,x:n.x+25};case Ae.Left:return{...n,x:n.x-25};case Ae.Down:return{...n,y:n.y+25};case Ae.Up:return{...n,y:n.y-25}}};class wv{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Ol(Yo(n)),this.windowListeners=new Ol(Dn(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(fs.Resize,this.handleCancel),this.windowListeners.add(fs.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(fs.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,s=t.node.current;s&&xT(s),n(Vs)}handleKeyDown(t){if(Jf(t)){const{active:n,context:s,options:r}=this.props,{keyboardCodes:a=vT,coordinateGetter:o=mU,scrollBehavior:l="smooth"}=r,{code:c}=t;if(a.end.includes(c)){this.handleEnd(t);return}if(a.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=s.current,d=u?{x:u.left,y:u.top}:Vs;this.referenceCoordinates||(this.referenceCoordinates=d);const f=o(t,{active:n,context:s.current,currentCoordinates:d});if(f){const m=yc(f,d),x={x:0,y:0},{scrollableAncestors:j}=s.current;for(const v of j){const y=t.code,{isTop:p,isRight:g,isLeft:w,isBottom:b,maxScroll:S,minScroll:T}=pT(v),N=lU(v),C={x:Math.min(y===Ae.Right?N.right-N.width/2:N.right,Math.max(y===Ae.Right?N.left:N.left+N.width/2,f.x)),y:Math.min(y===Ae.Down?N.bottom-N.height/2:N.bottom,Math.max(y===Ae.Down?N.top:N.top+N.height/2,f.y))},R=y===Ae.Right&&!g||y===Ae.Left&&!w,D=y===Ae.Down&&!b||y===Ae.Up&&!p;if(R&&C.x!==f.x){const k=v.scrollLeft+m.x,$=y===Ae.Right&&k<=S.x||y===Ae.Left&&k>=T.x;if($&&!m.y){v.scrollTo({left:k,behavior:l});return}$?x.x=v.scrollLeft-k:x.x=y===Ae.Right?v.scrollLeft-S.x:v.scrollLeft-T.x,x.x&&v.scrollBy({left:-x.x,behavior:l});break}else if(D&&C.y!==f.y){const k=v.scrollTop+m.y,$=y===Ae.Down&&k<=S.y||y===Ae.Up&&k>=T.y;if($&&!m.x){v.scrollTo({top:k,behavior:l});return}$?x.y=v.scrollTop-k:x.y=y===Ae.Down?v.scrollTop-S.y:v.scrollTop-T.y,x.y&&v.scrollBy({top:-x.y,behavior:l});break}}this.handleMove(t,uo(yc(f,this.referenceCoordinates),x))}}}handleMove(t,n){const{onMove:s}=this.props;t.preventDefault(),s(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}wv.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:s=vT,onActivation:r}=t,{active:a}=n;const{code:o}=e.nativeEvent;if(s.start.includes(o)){const l=a.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),r==null||r({event:e.nativeEvent}),!0)}return!1}}];function O0(e){return!!(e&&"distance"in e)}function F0(e){return!!(e&&"delay"in e)}class jv{constructor(t,n,s){var r;s===void 0&&(s=fU(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:a}=t,{target:o}=a;this.props=t,this.events=n,this.document=Yo(o),this.documentListeners=new Ol(this.document),this.listeners=new Ol(s),this.windowListeners=new Ol(Dn(o)),this.initialCoordinates=(r=qd(a))!=null?r:Vs,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:s}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(fs.Resize,this.handleCancel),this.windowListeners.add(fs.DragStart,L0),this.windowListeners.add(fs.VisibilityChange,this.handleCancel),this.windowListeners.add(fs.ContextMenu,L0),this.documentListeners.add(fs.Keydown,this.handleKeydown),n){if(s!=null&&s({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(F0(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(O0(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:s,onPending:r}=this.props;r(s,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(fs.Click,hU,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(fs.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:s,initialCoordinates:r,props:a}=this,{onMove:o,options:{activationConstraint:l}}=a;if(!r)return;const c=(n=qd(t))!=null?n:Vs,u=yc(r,c);if(!s&&l){if(O0(l)){if(l.tolerance!=null&&fm(u,l.tolerance))return this.handleCancel();if(fm(u,l.distance))return this.handleStart()}if(F0(l)&&fm(u,l.tolerance))return this.handleCancel();this.handlePending(l,u);return}t.cancelable&&t.preventDefault(),o(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===Ae.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const pU={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class bv extends jv{constructor(t){const{event:n}=t,s=Yo(n.target);super(t,pU,s)}}bv.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;return!n.isPrimary||n.button!==0?!1:(s==null||s({event:n}),!0)}}];const gU={move:{name:"mousemove"},end:{name:"mouseup"}};var rg;(function(e){e[e.RightClick=2]="RightClick"})(rg||(rg={}));class xU extends jv{constructor(t){super(t,gU,Yo(t.event.target))}}xU.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;return n.button===rg.RightClick?!1:(s==null||s({event:n}),!0)}}];const hm={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class vU extends jv{constructor(t){super(t,hm)}static setup(){return window.addEventListener(hm.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(hm.move.name,t)};function t(){}}}vU.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;const{touches:r}=n;return r.length>1?!1:(s==null||s({event:n}),!0)}}];var Fl;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Fl||(Fl={}));var Gd;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Gd||(Gd={}));function yU(e){let{acceleration:t,activator:n=Fl.Pointer,canScroll:s,draggingRect:r,enabled:a,interval:o=5,order:l=Gd.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:f,threshold:m}=e;const x=jU({delta:f,disabled:!a}),[j,v]=AB(),y=h.useRef({x:0,y:0}),p=h.useRef({x:0,y:0}),g=h.useMemo(()=>{switch(n){case Fl.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Fl.DraggableRect:return r}},[n,r,c]),w=h.useRef(null),b=h.useCallback(()=>{const T=w.current;if(!T)return;const N=y.current.x*p.current.x,C=y.current.y*p.current.y;T.scrollBy(N,C)},[]),S=h.useMemo(()=>l===Gd.TreeOrder?[...u].reverse():u,[l,u]);h.useEffect(()=>{if(!a||!u.length||!g){v();return}for(const T of S){if((s==null?void 0:s(T))===!1)continue;const N=u.indexOf(T),C=d[N];if(!C)continue;const{direction:R,speed:D}=oU(T,C,g,t,m);for(const k of["x","y"])x[k][R[k]]||(D[k]=0,R[k]=0);if(D.x>0||D.y>0){v(),w.current=T,j(b,o),y.current=D,p.current=R;return}}y.current={x:0,y:0},p.current={x:0,y:0},v()},[t,b,s,v,a,o,JSON.stringify(g),JSON.stringify(x),j,u,S,d,JSON.stringify(m)])}const wU={x:{[qt.Backward]:!1,[qt.Forward]:!1},y:{[qt.Backward]:!1,[qt.Forward]:!1}};function jU(e){let{delta:t,disabled:n}=e;const s=Hd(t);return Hc(r=>{if(n||!s||!r)return wU;const a={x:Math.sign(t.x-s.x),y:Math.sign(t.y-s.y)};return{x:{[qt.Backward]:r.x[qt.Backward]||a.x===-1,[qt.Forward]:r.x[qt.Forward]||a.x===1},y:{[qt.Backward]:r.y[qt.Backward]||a.y===-1,[qt.Forward]:r.y[qt.Forward]||a.y===1}}},[n,t,s])}function bU(e,t){const n=t!=null?e.get(t):void 0,s=n?n.node.current:null;return Hc(r=>{var a;return t==null?null:(a=s??r)!=null?a:null},[s,t])}function _U(e,t){return h.useMemo(()=>e.reduce((n,s)=>{const{sensor:r}=s,a=r.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,s)}));return[...n,...a]},[]),[e,t])}var wc;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(wc||(wc={}));var ig;(function(e){e.Optimized="optimized"})(ig||(ig={}));const B0=new Map;function SU(e,t){let{dragging:n,dependencies:s,config:r}=t;const[a,o]=h.useState(null),{frequency:l,measure:c,strategy:u}=r,d=h.useRef(e),f=y(),m=vc(f),x=h.useCallback(function(p){p===void 0&&(p=[]),!m.current&&o(g=>g===null?p:g.concat(p.filter(w=>!g.includes(w))))},[m]),j=h.useRef(null),v=Hc(p=>{if(f&&!n)return B0;if(!p||p===B0||d.current!==e||a!=null){const g=new Map;for(let w of e){if(!w)continue;if(a&&a.length>0&&!a.includes(w.id)&&w.rect.current){g.set(w.id,w.rect.current);continue}const b=w.node.current,S=b?new yv(c(b),b):null;w.rect.current=S,S&&g.set(w.id,S)}return g}return p},[e,a,n,f,c]);return h.useEffect(()=>{d.current=e},[e]),h.useEffect(()=>{f||x()},[n,f]),h.useEffect(()=>{a&&a.length>0&&o(null)},[JSON.stringify(a)]),h.useEffect(()=>{f||typeof l!="number"||j.current!==null||(j.current=setTimeout(()=>{x(),j.current=null},l))},[l,f,x,...s]),{droppableRects:v,measureDroppableContainers:x,measuringScheduled:a!=null};function y(){switch(u){case wc.Always:return!1;case wc.BeforeDragging:return n;default:return!n}}}function _v(e,t){return Hc(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function NU(e,t){return _v(e,t)}function CU(e){let{callback:t,disabled:n}=e;const s=Xf(t),r=h.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(s)},[s,n]);return h.useEffect(()=>()=>r==null?void 0:r.disconnect(),[r]),r}function eh(e){let{callback:t,disabled:n}=e;const s=Xf(t),r=h.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(s)},[n]);return h.useEffect(()=>()=>r==null?void 0:r.disconnect(),[r]),r}function EU(e){return new yv(Qo(e),e)}function U0(e,t,n){t===void 0&&(t=EU);const[s,r]=h.useState(null);function a(){r(c=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=c??n)!=null?u:null}const d=t(e);return JSON.stringify(c)===JSON.stringify(d)?c:d})}const o=CU({callback(c){if(e)for(const u of c){const{type:d,target:f}=u;if(d==="childList"&&f instanceof HTMLElement&&f.contains(e)){a();break}}}}),l=eh({callback:a});return Us(()=>{a(),e?(l==null||l.observe(e),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),o==null||o.disconnect())},[e]),s}function TU(e){const t=_v(e);return cT(e,t)}const V0=[];function kU(e){const t=h.useRef(e),n=Hc(s=>e?s&&s!==V0&&e&&t.current&&e.parentNode===t.current.parentNode?s:Zf(e):V0,[e]);return h.useEffect(()=>{t.current=e},[e]),n}function PU(e){const[t,n]=h.useState(null),s=h.useRef(e),r=h.useCallback(a=>{const o=dm(a.target);o&&n(l=>l?(l.set(o,sg(o)),new Map(l)):null)},[]);return h.useEffect(()=>{const a=s.current;if(e!==a){o(a);const l=e.map(c=>{const u=dm(c);return u?(u.addEventListener("scroll",r,{passive:!0}),[u,sg(u)]):null}).filter(c=>c!=null);n(l.length?new Map(l):null),s.current=e}return()=>{o(e),o(a)};function o(l){l.forEach(c=>{const u=dm(c);u==null||u.removeEventListener("scroll",r)})}},[r,e]),h.useMemo(()=>e.length?t?Array.from(t.values()).reduce((a,o)=>uo(a,o),Vs):gT(e):Vs,[e,t])}function z0(e,t){t===void 0&&(t=[]);const n=h.useRef(null);return h.useEffect(()=>{n.current=null},t),h.useEffect(()=>{const s=e!==Vs;s&&!n.current&&(n.current=e),!s&&n.current&&(n.current=null)},[e]),n.current?yc(e,n.current):Vs}function RU(e){h.useEffect(()=>{if(!Qf)return;const t=e.map(n=>{let{sensor:s}=n;return s.setup==null?void 0:s.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function AU(e,t){return h.useMemo(()=>e.reduce((n,s)=>{let{eventName:r,handler:a}=s;return n[r]=o=>{a(o,t)},n},{}),[e,t])}function yT(e){return h.useMemo(()=>e?sU(e):null,[e])}const W0=[];function DU(e,t){t===void 0&&(t=Qo);const[n]=e,s=yT(n?Dn(n):null),[r,a]=h.useState(W0);function o(){a(()=>e.length?e.map(c=>mT(c)?s:new yv(t(c),c)):W0)}const l=eh({callback:o});return Us(()=>{l==null||l.disconnect(),o(),e.forEach(c=>l==null?void 0:l.observe(c))},[e]),r}function wT(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Wc(t)?t:e}function $U(e){let{measure:t}=e;const[n,s]=h.useState(null),r=h.useCallback(u=>{for(const{target:d}of u)if(Wc(d)){s(f=>{const m=t(d);return f?{...f,width:m.width,height:m.height}:m});break}},[t]),a=eh({callback:r}),o=h.useCallback(u=>{const d=wT(u);a==null||a.disconnect(),d&&(a==null||a.observe(d)),s(d?t(d):null)},[t,a]),[l,c]=Wd(o);return h.useMemo(()=>({nodeRef:l,rect:n,setRef:c}),[n,l,c])}const MU=[{sensor:bv,options:{}},{sensor:wv,options:{}}],IU={current:{}},ed={draggable:{measure:I0},droppable:{measure:I0,strategy:wc.WhileDragging,frequency:ig.Optimized},dragOverlay:{measure:Qo}};class Bl extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,s;return(n=(s=this.get(t))==null?void 0:s.node.current)!=null?n:void 0}}const LU={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Bl,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Kd},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:ed,measureDroppableContainers:Kd,windowRect:null,measuringScheduled:!1},jT={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Kd,draggableNodes:new Map,over:null,measureDroppableContainers:Kd},Kc=h.createContext(jT),bT=h.createContext(LU);function OU(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Bl}}}function FU(e,t){switch(t.type){case Ot.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Ot.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Ot.DragEnd:case Ot.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Ot.RegisterDroppable:{const{element:n}=t,{id:s}=n,r=new Bl(e.droppable.containers);return r.set(s,n),{...e,droppable:{...e.droppable,containers:r}}}case Ot.SetDroppableDisabled:{const{id:n,key:s,disabled:r}=t,a=e.droppable.containers.get(n);if(!a||s!==a.key)return e;const o=new Bl(e.droppable.containers);return o.set(n,{...a,disabled:r}),{...e,droppable:{...e.droppable,containers:o}}}case Ot.UnregisterDroppable:{const{id:n,key:s}=t,r=e.droppable.containers.get(n);if(!r||s!==r.key)return e;const a=new Bl(e.droppable.containers);return a.delete(n),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function BU(e){let{disabled:t}=e;const{active:n,activatorEvent:s,draggableNodes:r}=h.useContext(Kc),a=Hd(s),o=Hd(n==null?void 0:n.id);return h.useEffect(()=>{if(!t&&!s&&a&&o!=null){if(!Jf(a)||document.activeElement===a.target)return;const l=r.get(o);if(!l)return;const{activatorNode:c,node:u}=l;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[c.current,u.current]){if(!d)continue;const f=MB(d);if(f){f.focus();break}}})}},[s,t,r,o,a]),null}function _T(e,t){let{transform:n,...s}=t;return e!=null&&e.length?e.reduce((r,a)=>a({transform:r,...s}),n):n}function UU(e){return h.useMemo(()=>({draggable:{...ed.draggable,...e==null?void 0:e.draggable},droppable:{...ed.droppable,...e==null?void 0:e.droppable},dragOverlay:{...ed.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function VU(e){let{activeNode:t,measure:n,initialRect:s,config:r=!0}=e;const a=h.useRef(!1),{x:o,y:l}=typeof r=="boolean"?{x:r,y:r}:r;Us(()=>{if(!o&&!l||!t){a.current=!1;return}if(a.current||!s)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const d=n(u),f=cT(d,s);if(o||(f.x=0),l||(f.y=0),a.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const m=dT(u);m&&m.scrollBy({top:f.y,left:f.x})}},[t,o,l,s,n])}const th=h.createContext({...Vs,scaleX:1,scaleY:1});var Yr;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Yr||(Yr={}));const zU=h.memo(function(t){var n,s,r,a;let{id:o,accessibility:l,autoScroll:c=!0,children:u,sensors:d=MU,collisionDetection:f=XB,measuring:m,modifiers:x,...j}=t;const v=h.useReducer(FU,void 0,OU),[y,p]=v,[g,w]=UB(),[b,S]=h.useState(Yr.Uninitialized),T=b===Yr.Initialized,{draggable:{active:N,nodes:C,translate:R},droppable:{containers:D}}=y,k=N!=null?C.get(N):null,$=h.useRef({initial:null,translated:null}),I=h.useMemo(()=>{var Ut;return N!=null?{id:N,data:(Ut=k==null?void 0:k.data)!=null?Ut:IU,rect:$}:null},[N,k]),B=h.useRef(null),[Q,O]=h.useState(null),[V,A]=h.useState(null),_=vc(j,Object.values(j)),E=qc("DndDescribedBy",o),P=h.useMemo(()=>D.getEnabled(),[D]),L=UU(m),{droppableRects:M,measureDroppableContainers:H,measuringScheduled:re}=SU(P,{dragging:T,dependencies:[R.x,R.y],config:L.droppable}),G=bU(C,N),z=h.useMemo(()=>V?qd(V):null,[V]),W=ch(),K=NU(G,L.draggable.measure);VU({activeNode:N!=null?C.get(N):null,config:W.layoutShiftCompensation,initialRect:K,measure:L.draggable.measure});const F=U0(G,L.draggable.measure,K),ne=U0(G?G.parentElement:null),le=h.useRef({activatorEvent:null,active:null,activeNode:G,collisionRect:null,collisions:null,droppableRects:M,draggableNodes:C,draggingNode:null,draggingNodeRect:null,droppableContainers:D,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ce=D.getNodeFor((n=le.current.over)==null?void 0:n.id),pe=$U({measure:L.dragOverlay.measure}),fe=(s=pe.nodeRef.current)!=null?s:G,ye=T?(r=pe.rect)!=null?r:F:null,Se=!!(pe.nodeRef.current&&pe.rect),Qe=TU(Se?null:F),oe=yT(fe?Dn(fe):null),_e=kU(T?ce??G:null),Xe=DU(_e),Fe=_T(x,{transform:{x:R.x-Qe.x,y:R.y-Qe.y,scaleX:1,scaleY:1},activatorEvent:V,active:I,activeNodeRect:F,containerNodeRect:ne,draggingNodeRect:ye,over:le.current.over,overlayNodeRect:pe.rect,scrollableAncestors:_e,scrollableAncestorRects:Xe,windowRect:oe}),Ir=z?uo(z,R):null,Qt=PU(_e),Jc=z0(Qt),el=z0(Qt,[F]),Hs=uo(Fe,Jc),$n=ye?eU(ye,Fe):null,we=I&&$n?f({active:I,collisionRect:$n,droppableRects:M,droppableContainers:P,pointerCoordinates:Ir}):null,Ue=lT(we,"id"),[Xt,Bt]=h.useState(null),ba=Se?Fe:uo(Fe,el),tl=JB(ba,(a=Xt==null?void 0:Xt.rect)!=null?a:null,F),$i=h.useRef(null),gt=h.useCallback((Ut,wn)=>{let{sensor:jn,options:bs}=wn;if(B.current==null)return;const Jt=C.get(B.current);if(!Jt)return;const bn=Ut.nativeEvent,ns=new jn({active:B.current,activeNode:Jt,event:bn,options:bs,context:le,onAbort(Mt){if(!C.get(Mt))return;const{onDragAbort:rs}=_.current,_s={id:Mt};rs==null||rs(_s),g({type:"onDragAbort",event:_s})},onPending(Mt,ss,rs,_s){if(!C.get(Mt))return;const{onDragPending:Ii}=_.current,qs={id:Mt,constraint:ss,initialCoordinates:rs,offset:_s};Ii==null||Ii(qs),g({type:"onDragPending",event:qs})},onStart(Mt){const ss=B.current;if(ss==null)return;const rs=C.get(ss);if(!rs)return;const{onDragStart:_s}=_.current,Mi={activatorEvent:bn,active:{id:ss,data:rs.data,rect:$}};gs.unstable_batchedUpdates(()=>{_s==null||_s(Mi),S(Yr.Initializing),p({type:Ot.DragStart,initialCoordinates:Mt,active:ss}),g({type:"onDragStart",event:Mi}),O($i.current),A(bn)})},onMove(Mt){p({type:Ot.DragMove,coordinates:Mt})},onEnd:Lr(Ot.DragEnd),onCancel:Lr(Ot.DragCancel)});$i.current=ns;function Lr(Mt){return async function(){const{active:rs,collisions:_s,over:Mi,scrollAdjustedTranslate:Ii}=le.current;let qs=null;if(rs&&Ii){const{cancelDrop:Vt}=_.current;qs={activatorEvent:bn,active:rs,collisions:_s,delta:Ii,over:Mi},Mt===Ot.DragEnd&&typeof Vt=="function"&&await Promise.resolve(Vt(qs))&&(Mt=Ot.DragCancel)}B.current=null,gs.unstable_batchedUpdates(()=>{p({type:Mt}),S(Yr.Uninitialized),Bt(null),O(null),A(null),$i.current=null;const Vt=Mt===Ot.DragEnd?"onDragEnd":"onDragCancel";if(qs){const U=_.current[Vt];U==null||U(qs),g({type:Vt,event:qs})}})}}},[C]),ah=h.useCallback((Ut,wn)=>(jn,bs)=>{const Jt=jn.nativeEvent,bn=C.get(bs);if(B.current!==null||!bn||Jt.dndKit||Jt.defaultPrevented)return;const ns={active:bn};Ut(jn,wn.options,ns)===!0&&(Jt.dndKit={capturedBy:wn.sensor},B.current=bs,gt(jn,wn))},[C,gt]),nl=_U(d,ah);RU(d),Us(()=>{F&&b===Yr.Initializing&&S(Yr.Initialized)},[F,b]),h.useEffect(()=>{const{onDragMove:Ut}=_.current,{active:wn,activatorEvent:jn,collisions:bs,over:Jt}=le.current;if(!wn||!jn)return;const bn={active:wn,activatorEvent:jn,collisions:bs,delta:{x:Hs.x,y:Hs.y},over:Jt};gs.unstable_batchedUpdates(()=>{Ut==null||Ut(bn),g({type:"onDragMove",event:bn})})},[Hs.x,Hs.y]),h.useEffect(()=>{const{active:Ut,activatorEvent:wn,collisions:jn,droppableContainers:bs,scrollAdjustedTranslate:Jt}=le.current;if(!Ut||B.current==null||!wn||!Jt)return;const{onDragOver:bn}=_.current,ns=bs.get(Ue),Lr=ns&&ns.rect.current?{id:ns.id,rect:ns.rect.current,data:ns.data,disabled:ns.disabled}:null,Mt={active:Ut,activatorEvent:wn,collisions:jn,delta:{x:Jt.x,y:Jt.y},over:Lr};gs.unstable_batchedUpdates(()=>{Bt(Lr),bn==null||bn(Mt),g({type:"onDragOver",event:Mt})})},[Ue]),Us(()=>{le.current={activatorEvent:V,active:I,activeNode:G,collisionRect:$n,collisions:we,droppableRects:M,draggableNodes:C,draggingNode:fe,draggingNodeRect:ye,droppableContainers:D,over:Xt,scrollableAncestors:_e,scrollAdjustedTranslate:Hs},$.current={initial:ye,translated:$n}},[I,G,we,$n,C,fe,ye,M,D,Xt,_e,Hs]),yU({...W,delta:R,draggingRect:$n,pointerCoordinates:Ir,scrollableAncestors:_e,scrollableAncestorRects:Xe});const oh=h.useMemo(()=>({active:I,activeNode:G,activeNodeRect:F,activatorEvent:V,collisions:we,containerNodeRect:ne,dragOverlay:pe,draggableNodes:C,droppableContainers:D,droppableRects:M,over:Xt,measureDroppableContainers:H,scrollableAncestors:_e,scrollableAncestorRects:Xe,measuringConfiguration:L,measuringScheduled:re,windowRect:oe}),[I,G,F,V,we,ne,pe,C,D,M,Xt,H,_e,Xe,L,re,oe]),lh=h.useMemo(()=>({activatorEvent:V,activators:nl,active:I,activeNodeRect:F,ariaDescribedById:{draggable:E},dispatch:p,draggableNodes:C,over:Xt,measureDroppableContainers:H}),[V,nl,I,F,p,E,C,Xt,H]);return De.createElement(iT.Provider,{value:w},De.createElement(Kc.Provider,{value:lh},De.createElement(bT.Provider,{value:oh},De.createElement(th.Provider,{value:tl},u)),De.createElement(BU,{disabled:(l==null?void 0:l.restoreFocus)===!1})),De.createElement(WB,{...l,hiddenTextDescribedById:E}));function ch(){const Ut=(Q==null?void 0:Q.autoScrollEnabled)===!1,wn=typeof c=="object"?c.enabled===!1:c===!1,jn=T&&!Ut&&!wn;return typeof c=="object"?{...c,enabled:jn}:{enabled:jn}}}),WU=h.createContext(null),H0="button",HU="Draggable";function qU(e){let{id:t,data:n,disabled:s=!1,attributes:r}=e;const a=qc(HU),{activators:o,activatorEvent:l,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:f,over:m}=h.useContext(Kc),{role:x=H0,roleDescription:j="draggable",tabIndex:v=0}=r??{},y=(c==null?void 0:c.id)===t,p=h.useContext(y?th:WU),[g,w]=Wd(),[b,S]=Wd(),T=AU(o,t),N=vc(n);Us(()=>(f.set(t,{id:t,key:a,node:g,activatorNode:b,data:N}),()=>{const R=f.get(t);R&&R.key===a&&f.delete(t)}),[f,t]);const C=h.useMemo(()=>({role:x,tabIndex:v,"aria-disabled":s,"aria-pressed":y&&x===H0?!0:void 0,"aria-roledescription":j,"aria-describedby":d.draggable}),[s,x,v,y,j,d.draggable]);return{active:c,activatorEvent:l,activeNodeRect:u,attributes:C,isDragging:y,listeners:s?void 0:T,node:g,over:m,setNodeRef:w,setActivatorNodeRef:S,transform:p}}function ST(){return h.useContext(bT)}const KU="Droppable",GU={timeout:25};function YU(e){let{data:t,disabled:n=!1,id:s,resizeObserverConfig:r}=e;const a=qc(KU),{active:o,dispatch:l,over:c,measureDroppableContainers:u}=h.useContext(Kc),d=h.useRef({disabled:n}),f=h.useRef(!1),m=h.useRef(null),x=h.useRef(null),{disabled:j,updateMeasurementsFor:v,timeout:y}={...GU,...r},p=vc(v??s),g=h.useCallback(()=>{if(!f.current){f.current=!0;return}x.current!=null&&clearTimeout(x.current),x.current=setTimeout(()=>{u(Array.isArray(p.current)?p.current:[p.current]),x.current=null},y)},[y]),w=eh({callback:g,disabled:j||!o}),b=h.useCallback((C,R)=>{w&&(R&&(w.unobserve(R),f.current=!1),C&&w.observe(C))},[w]),[S,T]=Wd(b),N=vc(t);return h.useEffect(()=>{!w||!S.current||(w.disconnect(),f.current=!1,w.observe(S.current))},[S,w]),h.useEffect(()=>(l({type:Ot.RegisterDroppable,element:{id:s,key:a,disabled:n,node:S,rect:m,data:N}}),()=>l({type:Ot.UnregisterDroppable,key:a,id:s})),[s]),h.useEffect(()=>{n!==d.current.disabled&&(l({type:Ot.SetDroppableDisabled,id:s,key:a,disabled:n}),d.current.disabled=n)},[s,a,n,l]),{active:o,rect:m,isOver:(c==null?void 0:c.id)===s,node:S,over:c,setNodeRef:T}}function QU(e){let{animation:t,children:n}=e;const[s,r]=h.useState(null),[a,o]=h.useState(null),l=Hd(n);return!n&&!s&&l&&r(l),Us(()=>{if(!a)return;const c=s==null?void 0:s.key,u=s==null?void 0:s.props.id;if(c==null||u==null){r(null);return}Promise.resolve(t(u,a)).then(()=>{r(null)})},[t,s,a]),De.createElement(De.Fragment,null,n,s?h.cloneElement(s,{ref:o}):null)}const XU={x:0,y:0,scaleX:1,scaleY:1};function JU(e){let{children:t}=e;return De.createElement(Kc.Provider,{value:jT},De.createElement(th.Provider,{value:XU},t))}const ZU={position:"fixed",touchAction:"none"},e6=e=>Jf(e)?"transform 250ms ease":void 0,t6=h.forwardRef((e,t)=>{let{as:n,activatorEvent:s,adjustScale:r,children:a,className:o,rect:l,style:c,transform:u,transition:d=e6}=e;if(!l)return null;const f=r?u:{...u,scaleX:1,scaleY:1},m={...ZU,width:l.width,height:l.height,top:l.top,left:l.left,transform:bi.Transform.toString(f),transformOrigin:r&&s?qB(s,l):void 0,transition:typeof d=="function"?d(s):d,...c};return De.createElement(n,{className:o,style:m,ref:t},a)}),n6=e=>t=>{let{active:n,dragOverlay:s}=t;const r={},{styles:a,className:o}=e;if(a!=null&&a.active)for(const[l,c]of Object.entries(a.active))c!==void 0&&(r[l]=n.node.style.getPropertyValue(l),n.node.style.setProperty(l,c));if(a!=null&&a.dragOverlay)for(const[l,c]of Object.entries(a.dragOverlay))c!==void 0&&s.node.style.setProperty(l,c);return o!=null&&o.active&&n.node.classList.add(o.active),o!=null&&o.dragOverlay&&s.node.classList.add(o.dragOverlay),function(){for(const[c,u]of Object.entries(r))n.node.style.setProperty(c,u);o!=null&&o.active&&n.node.classList.remove(o.active)}},s6=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:bi.Transform.toString(t)},{transform:bi.Transform.toString(n)}]},r6={duration:250,easing:"ease",keyframes:s6,sideEffects:n6({styles:{active:{opacity:"0"}}})};function i6(e){let{config:t,draggableNodes:n,droppableContainers:s,measuringConfiguration:r}=e;return Xf((a,o)=>{if(t===null)return;const l=n.get(a);if(!l)return;const c=l.node.current;if(!c)return;const u=wT(o);if(!u)return;const{transform:d}=Dn(o).getComputedStyle(o),f=uT(d);if(!f)return;const m=typeof t=="function"?t:a6(t);return xT(c,r.draggable.measure),m({active:{id:a,data:l.data,node:c,rect:r.draggable.measure(c)},draggableNodes:n,dragOverlay:{node:o,rect:r.dragOverlay.measure(u)},droppableContainers:s,measuringConfiguration:r,transform:f})})}function a6(e){const{duration:t,easing:n,sideEffects:s,keyframes:r}={...r6,...e};return a=>{let{active:o,dragOverlay:l,transform:c,...u}=a;if(!t)return;const d={x:l.rect.left-o.rect.left,y:l.rect.top-o.rect.top},f={scaleX:c.scaleX!==1?o.rect.width*c.scaleX/l.rect.width:1,scaleY:c.scaleY!==1?o.rect.height*c.scaleY/l.rect.height:1},m={x:c.x-d.x,y:c.y-d.y,...f},x=r({...u,active:o,dragOverlay:l,transform:{initial:c,final:m}}),[j]=x,v=x[x.length-1];if(JSON.stringify(j)===JSON.stringify(v))return;const y=s==null?void 0:s({active:o,dragOverlay:l,...u}),p=l.node.animate(x,{duration:t,easing:n,fill:"forwards"});return new Promise(g=>{p.onfinish=()=>{y==null||y(),g()}})}}let q0=0;function o6(e){return h.useMemo(()=>{if(e!=null)return q0++,q0},[e])}const l6=De.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:s,style:r,transition:a,modifiers:o,wrapperElement:l="div",className:c,zIndex:u=999}=e;const{activatorEvent:d,active:f,activeNodeRect:m,containerNodeRect:x,draggableNodes:j,droppableContainers:v,dragOverlay:y,over:p,measuringConfiguration:g,scrollableAncestors:w,scrollableAncestorRects:b,windowRect:S}=ST(),T=h.useContext(th),N=o6(f==null?void 0:f.id),C=_T(o,{activatorEvent:d,active:f,activeNodeRect:m,containerNodeRect:x,draggingNodeRect:y.rect,over:p,overlayNodeRect:y.rect,scrollableAncestors:w,scrollableAncestorRects:b,transform:T,windowRect:S}),R=_v(m),D=i6({config:s,draggableNodes:j,droppableContainers:v,measuringConfiguration:g}),k=R?y.setRef:void 0;return De.createElement(JU,null,De.createElement(QU,{animation:D},f&&N?De.createElement(t6,{key:N,id:f.id,ref:k,as:l,activatorEvent:d,adjustScale:t,className:c,transition:a,rect:R,style:{zIndex:u,...r},transform:C},n):null))});function NT(e,t,n){const s=e.slice();return s.splice(n<0?s.length+n:n,0,s.splice(t,1)[0]),s}function c6(e,t){return e.reduce((n,s,r)=>{const a=t.get(s);return a&&(n[r]=a),n},Array(e.length))}function Ru(e){return e!==null&&e>=0}function u6(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function d6(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Sv=e=>{let{rects:t,activeIndex:n,overIndex:s,index:r}=e;const a=NT(t,s,n),o=t[r],l=a[r];return!l||!o?null:{x:l.left-o.left,y:l.top-o.top,scaleX:l.width/o.width,scaleY:l.height/o.height}},CT="Sortable",ET=De.createContext({activeIndex:-1,containerId:CT,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Sv,disabled:{draggable:!1,droppable:!1}});function f6(e){let{children:t,id:n,items:s,strategy:r=Sv,disabled:a=!1}=e;const{active:o,dragOverlay:l,droppableRects:c,over:u,measureDroppableContainers:d}=ST(),f=qc(CT,n),m=l.rect!==null,x=h.useMemo(()=>s.map(T=>typeof T=="object"&&"id"in T?T.id:T),[s]),j=o!=null,v=o?x.indexOf(o.id):-1,y=u?x.indexOf(u.id):-1,p=h.useRef(x),g=!u6(x,p.current),w=y!==-1&&v===-1||g,b=d6(a);Us(()=>{g&&j&&d(x)},[g,x,j,d]),h.useEffect(()=>{p.current=x},[x]);const S=h.useMemo(()=>({activeIndex:v,containerId:f,disabled:b,disableTransforms:w,items:x,overIndex:y,useDragOverlay:m,sortedRects:c6(x,c),strategy:r}),[v,f,b.draggable,b.droppable,w,x,y,c,m,r]);return De.createElement(ET.Provider,{value:S},t)}const h6=e=>{let{id:t,items:n,activeIndex:s,overIndex:r}=e;return NT(n,s,r).indexOf(t)},m6=e=>{let{containerId:t,isSorting:n,wasDragging:s,index:r,items:a,newIndex:o,previousItems:l,previousContainerId:c,transition:u}=e;return!u||!s||l!==a&&r===o?!1:n?!0:o!==r&&t===c},p6={duration:200,easing:"ease"},TT="transform",g6=bi.Transition.toString({property:TT,duration:0,easing:"linear"}),x6={roleDescription:"sortable"};function v6(e){let{disabled:t,index:n,node:s,rect:r}=e;const[a,o]=h.useState(null),l=h.useRef(n);return Us(()=>{if(!t&&n!==l.current&&s.current){const c=r.current;if(c){const u=Qo(s.current,{ignoreTransform:!0}),d={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(d.x||d.y)&&o(d)}}n!==l.current&&(l.current=n)},[t,n,s,r]),h.useEffect(()=>{a&&o(null)},[a]),a}function y6(e){let{animateLayoutChanges:t=m6,attributes:n,disabled:s,data:r,getNewIndex:a=h6,id:o,strategy:l,resizeObserverConfig:c,transition:u=p6}=e;const{items:d,containerId:f,activeIndex:m,disabled:x,disableTransforms:j,sortedRects:v,overIndex:y,useDragOverlay:p,strategy:g}=h.useContext(ET),w=w6(s,x),b=d.indexOf(o),S=h.useMemo(()=>({sortable:{containerId:f,index:b,items:d},...r}),[f,r,b,d]),T=h.useMemo(()=>d.slice(d.indexOf(o)),[d,o]),{rect:N,node:C,isOver:R,setNodeRef:D}=YU({id:o,data:S,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:T,...c}}),{active:k,activatorEvent:$,activeNodeRect:I,attributes:B,setNodeRef:Q,listeners:O,isDragging:V,over:A,setActivatorNodeRef:_,transform:E}=qU({id:o,data:S,attributes:{...x6,...n},disabled:w.draggable}),P=RB(D,Q),L=!!k,M=L&&!j&&Ru(m)&&Ru(y),H=!p&&V,re=H&&M?E:null,z=M?re??(l??g)({rects:v,activeNodeRect:I,activeIndex:m,overIndex:y,index:b}):null,W=Ru(m)&&Ru(y)?a({id:o,items:d,activeIndex:m,overIndex:y}):b,K=k==null?void 0:k.id,F=h.useRef({activeId:K,items:d,newIndex:W,containerId:f}),ne=d!==F.current.items,le=t({active:k,containerId:f,isDragging:V,isSorting:L,id:o,index:b,items:d,newIndex:F.current.newIndex,previousItems:F.current.items,previousContainerId:F.current.containerId,transition:u,wasDragging:F.current.activeId!=null}),ce=v6({disabled:!le,index:b,node:C,rect:N});return h.useEffect(()=>{L&&F.current.newIndex!==W&&(F.current.newIndex=W),f!==F.current.containerId&&(F.current.containerId=f),d!==F.current.items&&(F.current.items=d)},[L,W,f,d]),h.useEffect(()=>{if(K===F.current.activeId)return;if(K&&!F.current.activeId){F.current.activeId=K;return}const fe=setTimeout(()=>{F.current.activeId=K},50);return()=>clearTimeout(fe)},[K]),{active:k,activeIndex:m,attributes:B,data:S,rect:N,index:b,newIndex:W,items:d,isOver:R,isSorting:L,isDragging:V,listeners:O,node:C,overIndex:y,over:A,setNodeRef:P,setActivatorNodeRef:_,setDroppableNodeRef:D,setDraggableNodeRef:Q,transform:ce??z,transition:pe()};function pe(){if(ce||ne&&F.current.newIndex===b)return g6;if(!(H&&!Jf($)||!u)&&(L||le))return bi.Transition.toString({...u,property:TT})}}function w6(e,t){var n,s;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(s=e==null?void 0:e.droppable)!=null?s:t.droppable}}function Yd(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const j6=[Ae.Down,Ae.Right,Ae.Up,Ae.Left],b6=(e,t)=>{let{context:{active:n,collisionRect:s,droppableRects:r,droppableContainers:a,over:o,scrollableAncestors:l}}=t;if(j6.includes(e.code)){if(e.preventDefault(),!n||!s)return;const c=[];a.getEnabled().forEach(f=>{if(!f||f!=null&&f.disabled)return;const m=r.get(f.id);if(m)switch(e.code){case Ae.Down:s.top<m.top&&c.push(f);break;case Ae.Up:s.top>m.top&&c.push(f);break;case Ae.Left:s.left>m.left&&c.push(f);break;case Ae.Right:s.left<m.left&&c.push(f);break}});const u=YB({collisionRect:s,droppableRects:r,droppableContainers:c});let d=lT(u,"id");if(d===(o==null?void 0:o.id)&&u.length>1&&(d=u[1].id),d!=null){const f=a.get(n.id),m=a.get(d),x=m?r.get(m.id):null,j=m==null?void 0:m.node.current;if(j&&x&&f&&m){const y=Zf(j).some((T,N)=>l[N]!==T),p=kT(f,m),g=_6(f,m),w=y||!p?{x:0,y:0}:{x:g?s.width-x.width:0,y:g?s.height-x.height:0},b={x:x.left,y:x.top};return w.x&&w.y?b:yc(b,w)}}}};function kT(e,t){return!Yd(e)||!Yd(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function _6(e,t){return!Yd(e)||!Yd(t)||!kT(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const K0=({team:e,matchupId:t,teamPosition:n,isWinner:s})=>{const r=`${t}-${n}`,{attributes:a,listeners:o,setNodeRef:l,transform:c,transition:u,isDragging:d}=y6({id:r,data:{type:"team",team:e,matchupId:t,teamPosition:n}}),f={transform:bi.Transform.toString(c),transition:u,opacity:d?.5:1};return i.jsxs("div",{ref:l,style:f,...a,...o,className:`flex items-center gap-2 p-2 rounded cursor-grab hover:cursor-grabbing transition-colors
        ${d?"bg-blue-50 border border-blue-200":"hover:bg-gray-50"}
        ${s?"bg-green-50 border border-green-200":""}
      `,children:[i.jsx(gD,{className:"h-3 w-3 text-gray-400"}),(e==null?void 0:e.team_logo_url)&&i.jsx("img",{src:e.team_logo_url,alt:e.team_name,className:"w-5 h-5 rounded-full"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"text-sm font-medium truncate",children:(e==null?void 0:e.team_name)||`Team ${n==="team1"?"1":"2"}`}),i.jsx("div",{className:"text-xs text-gray-500 truncate",children:e==null?void 0:e.owner_name})]})]})},S6=({matchup:e,teams:t,conferences:n,onToggleOverride:s,onUpdateScores:r})=>{const a=t.find(p=>p.id===e.team1_id),o=t.find(p=>p.id===e.team2_id);n.find(p=>p.id===e.conference_id);const[l,c]=h.useState(!1),[u,d]=h.useState(e.team1_score),[f,m]=h.useState(e.team2_score);h.useEffect(()=>{d(e.team1_score),m(e.team2_score)},[e.team1_score,e.team2_score]);const x=e.winning_team_id===e.team1_id,j=e.winning_team_id===e.team2_id,v=()=>{r(e.id,u,f),c(!1)},y=()=>{d(e.team1_score),m(e.team2_score),c(!1)};return i.jsxs(Pe,{className:`transition-colors ${e.manual_override?"bg-orange-50 border-orange-200":""}`,children:[i.jsx(Z,{className:"w-24",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"text-sm font-medium",children:["#",e.id]}),i.jsxs("div",{className:"flex flex-col gap-1",children:[e.manual_override&&i.jsx(ee,{variant:"outline",className:"text-xs text-orange-600 border-orange-300 px-1 py-0",children:"Override"}),e.is_playoff&&i.jsx(ee,{variant:"default",className:"text-xs bg-purple-600 px-1 py-0",children:"Playoff"})]})]})}),i.jsx(Z,{className:"w-48",children:i.jsx(K0,{team:a,matchupId:e.id,teamPosition:"team1",isWinner:x})}),i.jsx(Z,{className:"w-32 text-center",children:l?i.jsxs("div",{className:"flex items-center gap-1 justify-center",children:[i.jsx(hn,{type:"number",value:u,onChange:p=>d(parseFloat(p.target.value)||0),className:"w-12 h-6 text-xs text-center px-1",step:"0.1"}),i.jsx("span",{className:"text-xs text-gray-400",children:"-"}),i.jsx(hn,{type:"number",value:f,onChange:p=>m(parseFloat(p.target.value)||0),className:"w-12 h-6 text-xs text-center px-1",step:"0.1"}),i.jsx(te,{size:"sm",onClick:v,className:"h-6 w-6 p-0",children:i.jsx(Nx,{className:"h-3 w-3"})}),i.jsx(te,{size:"sm",variant:"ghost",onClick:y,className:"h-6 w-6 p-0",children:i.jsx(bf,{className:"h-3 w-3"})})]}):i.jsxs("div",{className:"flex items-center gap-1 justify-center cursor-pointer hover:bg-gray-100 px-2 py-1 rounded",onClick:()=>c(!0),children:[i.jsx("span",{className:`text-sm font-bold ${x?"text-green-600":""}`,children:e.team1_score}),i.jsx("span",{className:"text-xs text-gray-400",children:"-"}),i.jsx("span",{className:`text-sm font-bold ${j?"text-green-600":""}`,children:e.team2_score}),i.jsx(Np,{className:"h-3 w-3 text-gray-400 ml-1"})]})}),i.jsx(Z,{className:"w-48",children:i.jsx(K0,{team:o,matchupId:e.id,teamPosition:"team2",isWinner:j})}),i.jsx(Z,{className:"w-24",children:i.jsx("div",{className:"text-xs text-gray-500 text-center",children:e.matchup_status})}),i.jsx(Z,{className:"w-24 text-center",children:i.jsx(te,{variant:"ghost",size:"sm",onClick:()=>s(e.id),className:"h-6 px-2 text-xs",children:i.jsx(Np,{className:"h-3 w-3"})})})]})},N6=()=>{const[e,t]=h.useState([]),[n,s]=h.useState([]),[r,a]=h.useState([]),[o,l]=h.useState([]),[c,u]=h.useState(""),[d,f]=h.useState(""),[m,x]=h.useState(!1),[j,v]=h.useState(!1),[y,p]=h.useState(!1),[g,w]=h.useState(null),{toast:b}=An(),S=HB(D0(bv),D0(wv,{coordinateGetter:b6})),T=async(_,E,P,L)=>{var M,H;try{console.log(`Fetching Sleeper scores for teams ${_} and ${E} for week ${L}`),console.log(`Note: Matchup conference_id ${P} will be ignored - checking each team's actual conference`);const[re,G]=await Promise.all([de.getTeamConferenceJunctions({filters:[{column:"team_id",operator:"eq",value:_}]}),de.getTeamConferenceJunctions({filters:[{column:"team_id",operator:"eq",value:E}]})]),z=(M=re.data)==null?void 0:M[0],W=(H=G.data)==null?void 0:H[0];if(!z||!W)return console.warn(`Missing junction data - Team ${_}: ${z?"found":"missing"}, Team ${E}: ${W?"found":"missing"}`),{team1Score:0,team2Score:0};console.log(`Team ${_} junction:`,{conference_id:z.conference_id,roster_id:z.roster_id}),console.log(`Team ${E} junction:`,{conference_id:W.conference_id,roster_id:W.roster_id});const K=n.find(ce=>ce.id===z.conference_id),F=n.find(ce=>ce.id===W.conference_id);if(!K||!F)return console.warn(`Missing conference data - Team ${_} conference: ${K?"found":"missing"}, Team ${E} conference: ${F?"found":"missing"}`),{team1Score:0,team2Score:0};console.log(`Team ${_} in conference "${K.conference_name}" (league_id: ${K.league_id})`),console.log(`Team ${E} in conference "${F.conference_name}" (league_id: ${F.league_id})`);let ne=0,le=0;try{console.log(`Fetching Team ${_} score from league ${K.league_id}, week ${L}`);const pe=(await Ye.fetchMatchups(K.league_id,L)).find(fe=>fe.roster_id===z.roster_id);ne=(pe==null?void 0:pe.points)||0,console.log(`Team ${_} score from Sleeper: ${ne} (roster_id: ${z.roster_id})`)}catch(ce){console.error(`Error fetching Team ${_} score from league ${K.league_id}:`,ce)}try{console.log(`Fetching Team ${E} score from league ${F.league_id}, week ${L}`);const pe=(await Ye.fetchMatchups(F.league_id,L)).find(fe=>fe.roster_id===W.roster_id);le=(pe==null?void 0:pe.points)||0,console.log(`Team ${E} score from Sleeper: ${le} (roster_id: ${W.roster_id})`)}catch(ce){console.error(`Error fetching Team ${E} score from league ${F.league_id}:`,ce)}return console.log(` Final scores - Team ${_}: ${ne}, Team ${E}: ${le}`),console.log(" This properly handles interconference matchups by checking each team's actual conference"),{team1Score:ne,team2Score:le}}catch(re){return console.error("Error fetching Sleeper scores:",re),{team1Score:0,team2Score:0}}};h.useEffect(()=>{C(),D(),N()},[]),h.useEffect(()=>{c&&R()},[c]),h.useEffect(()=>{c&&d&&n.length>0&&k()},[c,d,n]);const N=async()=>{try{const _=await Ye.getCurrentNFLWeek();console.log(`Setting current week to: ${_}`),f(_.toString())}catch(_){console.error("Error loading current week:",_)}},C=async()=>{try{const _=await de.getSeasons({limit:100,orderBy:{column:"season_year",ascending:!1}});if(_.error)throw new Error(_.error);const P=(_.data||[]).map(M=>({id:M.id,season_year:parseInt(M.season_year),season_name:M.season_name,is_current_season:M.is_current}));t(P);const L=P.find(M=>M.is_current_season);L&&u(L.id.toString())}catch(_){console.error("Error loading seasons:",_),b({title:"Error",description:"Failed to load seasons",variant:"destructive"})}},R=async()=>{try{const{data:_,error:E}=await de.getConferences({filters:[{column:"season_id",operator:"eq",value:parseInt(c)}]});if(E)throw new Error(E);s(_||[])}catch(_){console.error("Error loading conferences:",_),b({title:"Error",description:"Failed to load conferences",variant:"destructive"})}},D=async()=>{try{const _=await de.getTeams({limit:100,orderBy:{column:"team_name",ascending:!0}});if(_.error)throw new Error(_.error);const E=_.data||[],P=await de.getTeamConferenceJunctions({limit:1e3,orderBy:{column:"team_id",ascending:!0}});if(P.error)throw new Error(P.error);const L=P.data||[],M=E.map(H=>{const re=L.find(G=>G.team_id===H.id);return{id:H.id,team_name:H.team_name,owner_name:H.owner_name,team_logo_url:H.team_logourl||"",conference_id:(re==null?void 0:re.conference_id)||0}});a(M)}catch(_){console.error("Error loading teams:",_),b({title:"Error",description:"Failed to load teams",variant:"destructive"})}},k=async()=>{x(!0),console.log(`Loading matchups for season ${c}, week ${d}`),console.log("Available conferences:",n.map(_=>({id:_.id,name:_.conference_name})));try{const _=n.map(P=>P.id);console.log("Conference IDs to query:",_);const E=[];for(const P of _){console.log(`Fetching matchups for conference ${P}`);const{data:L,error:M}=await de.getMatchups({filters:[{column:"conference_id",operator:"eq",value:P},{column:"week",operator:"eq",value:parseInt(d)}],orderBy:{column:"id",ascending:!0}});if(M)throw console.error(`Error fetching matchups for conference ${P}:`,M),new Error(M);const H=L||[];console.log(`Found ${H.length} matchups for conference ${P}`);const re=n.find(z=>z.id===P),G=H.map(z=>(console.log(`Loaded matchup ${z.id}:`,{teams:`${z.team1_id} vs ${z.team2_id}`,scores:`${z.team1_score} - ${z.team2_score}`,status:z.matchup_status,manual_override:z.manual_override}),console.log(` LOAD DEBUG - Matchup ${z.id}: team1_score=${z.team1_score}, team2_score=${z.team2_score}`),console.log(" LOAD DEBUG - Raw database values:",{team1_score:z.team1_score,team2_score:z.team2_score,team1_score_type:typeof z.team1_score,team2_score_type:typeof z.team2_score}),{...z,conference_name:re==null?void 0:re.conference_name}));E.push(...G)}E.sort((P,L)=>P.conference_id!==L.conference_id?P.conference_id-L.conference_id:P.id-L.id),console.log(`Total matchups loaded: ${E.length}`),console.log("Matchups breakdown by status:",{pending:E.filter(P=>P.matchup_status==="pending").length,complete:E.filter(P=>P.matchup_status==="complete").length,manual_overrides:E.filter(P=>P.manual_override).length}),l(E)}catch(_){console.error("Error loading matchups:",_),b({title:"Error",description:`Failed to load matchups: ${_}`,variant:"destructive"})}finally{x(!1)}},$=_=>{w(_.active.id)},I=async _=>{const{active:E,over:P}=_;if(w(null),!P||E.id===P.id)return;const L=E.data.current,M=P.data.current;if((L==null?void 0:L.type)==="team"&&(M==null?void 0:M.type)==="team"){const H=L.matchupId,re=L.teamPosition,G=M.matchupId,z=M.teamPosition;if(H===G&&re===z)return;const W=[...o],K=W.find(ce=>ce.id===H),F=W.find(ce=>ce.id===G);if(!K||!F)return;const ne=re==="team1"?K.team1_id:K.team2_id,le=z==="team1"?F.team1_id:F.team2_id;re==="team1"?K.team1_id=le:K.team2_id=le,z==="team1"?F.team1_id=ne:F.team2_id=ne;try{const ce=await T(K.team1_id,K.team2_id,K.conference_id,K.week);console.log(` DRAG DEBUG - Active matchup ${K.id}: Setting scores ${ce.team1Score} vs ${ce.team2Score}`),K.team1_score=ce.team1Score,K.team2_score=ce.team2Score,ce.team1Score>ce.team2Score?K.winning_team_id=K.team1_id:ce.team2Score>ce.team1Score?K.winning_team_id=K.team2_id:K.winning_team_id=null,console.log(` DRAG WINNER - Active matchup ${K.id}: Winner=${K.winning_team_id}`);const pe=await T(F.team1_id,F.team2_id,F.conference_id,F.week);console.log(` DRAG DEBUG - Over matchup ${F.id}: Setting scores ${pe.team1Score} vs ${pe.team2Score}`),F.team1_score=pe.team1Score,F.team2_score=pe.team2Score,pe.team1Score>pe.team2Score?F.winning_team_id=F.team1_id:pe.team2Score>pe.team1Score?F.winning_team_id=F.team2_id:F.winning_team_id=null,console.log(` DRAG WINNER - Over matchup ${F.id}: Winner=${F.winning_team_id}`),console.log(`Fetched Sleeper scores - Active matchup: ${ce.team1Score} vs ${ce.team2Score}, Over matchup: ${pe.team1Score} vs ${pe.team2Score}`)}catch(ce){console.warn("Failed to fetch Sleeper scores, using 0:",ce),K.team1_score=0,K.team2_score=0,K.winning_team_id=null,F.team1_score=0,F.team2_score=0,F.winning_team_id=null}K.winning_team_id=null,K.manual_override=!0,K.matchup_status="pending",F.winning_team_id=null,F.manual_override=!0,F.matchup_status="pending",console.log(`Teams swapped between matchups ${H} and ${G}`),console.log(`Active matchup now has teams ${K.team1_id} vs ${K.team2_id}`),console.log(`Over matchup now has teams ${F.team1_id} vs ${F.team2_id}`),l(W),p(!0),b({title:"Teams Swapped",description:"Team matchups have been updated with current scores. Remember to save your changes.",duration:3e3})}},B=_=>{var E;console.log(`Toggling manual override for matchup ${_}`),l(P=>P.map(L=>{if(L.id===_){const M=!L.manual_override;return console.log(`Matchup ${_} manual override: ${L.manual_override} -> ${M}`),{...L,manual_override:M,status:M?L.matchup_status:"pending"}}return L})),p(!0),b({title:"Override Toggled",description:`Manual override ${(E=o.find(P=>P.id===_))!=null&&E.manual_override?"removed":"enabled"} for matchup ${_}`,duration:2e3})},Q=(_,E,P)=>{console.log(`Updating scores for matchup ${_}: Team 1 = ${E}, Team 2 = ${P}`),l(L=>L.map(M=>{if(M.id===_){let H=null;return E>P?H=M.team1_id:P>E&&(H=M.team2_id),console.log(` WINNER CALC - Matchup ${_}: Team1(${M.team1_id})=${E}, Team2(${M.team2_id})=${P}, Winner=${H}`),{...M,team1_score:E,team2_score:P,winning_team_id:H,manual_override:!0,matchup_status:"complete"}}return M})),p(!0),b({title:"Scores Updated",description:`Matchup ${_} scores updated. Remember to save changes.`,duration:2e3})},O=async()=>{var L;v(!0),console.log("Starting save operation for",o.length,"matchups");let _=0,E=0;const P=[];try{for(const M of o){if(console.log(`Updating matchup ${M.id}:`,{conference_id:M.conference_id,week:M.week,team1_id:M.team1_id,team2_id:M.team2_id,team1_score:M.team1_score,team2_score:M.team2_score,winning_team_id:M.winning_team_id,manual_override:M.manual_override,status:M.manual_override?"complete":M.matchup_status}),console.log(` SCORE DEBUG - Matchup ${M.id}: team1_score=${M.team1_score}, team2_score=${M.team2_score}`),!M.id||M.conference_id<=0||M.week<=0){console.error(`Invalid matchup data for ID ${M.id}:`,{id:M.id,conference_id:M.conference_id,week:M.week}),E++,P.push(M.id);continue}let H=null;M.team1_score>M.team2_score?H=M.team1_id:M.team2_score>M.team1_score&&(H=M.team2_id),console.log(` SAVE WINNER - Matchup ${M.id}: Team1(${M.team1_id})=${M.team1_score}, Team2(${M.team2_id})=${M.team2_score}, Calculated Winner=${H}`);const re={conference_id:M.conference_id,week:((L=M.week)==null?void 0:L.toString())||"1",team1_id:M.team1_id||0,team2_id:M.team2_id||0,is_playoff:M.is_playoff||!1,team1_score:M.team1_score||0,team2_score:M.team2_score||0,winning_team_id:H,manual_override:M.manual_override||!1,matchup_status:M.manual_override?"complete":M.matchup_status||"pending",notes:M.notes||""};console.log(`Sending update for matchup ${M.id} with data:`,re),console.log(` UPDATE DEBUG - Raw scores being sent: team1_score=${re.team1_score}, team2_score=${re.team2_score}`);const G=await de.updateMatchup(M.id,re);if(G.error){console.error(` Failed to update matchup ${M.id}:`,G.error),console.error(" Update data was:",re),console.error(" Matchup object:",M),E++,P.push(M.id);continue}else console.log(` Successfully updated matchup ${M.id}`),console.log(" UPDATE RESULT:",G.data);M.manual_override&&console.log(`Matchup ${M.id} marked as manual override - skipping override record creation due to schema issues`),console.log(`Successfully updated matchup ${M.id}`),_++}console.log(`Save operation completed: ${_} successes, ${E} failures`),E>0?(console.error("Failed matchup IDs:",P),b({title:"Partial Success",description:`${_} matchups updated successfully, ${E} failed. Check console for details.`,variant:"destructive"})):(p(!1),b({title:"Success",description:`All ${_} matchups updated successfully with overrides`})),console.log("Reloading matchups to verify changes persisted..."),await k()}catch(M){console.error("Critical error during save operation:",M),b({title:"Error",description:`Failed to save matchup changes: ${M}`,variant:"destructive"})}finally{v(!1),console.log("Save operation completed, saving state reset")}},V=()=>{k(),p(!1)},A=Array.from({length:18},(_,E)=>E+1);return i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Y,{children:[i.jsxs(ie,{children:[i.jsxs(ae,{className:"flex items-center gap-2",children:[i.jsx(Yn,{className:"h-5 w-5"}),"Matchups Management"]}),i.jsx(be,{children:"Compact view for managing weekly matchups, scores, and overrides across all conferences. Drag and drop teams between matchups, edit scores inline, and toggle overrides quickly."})]}),i.jsxs(X,{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Season"}),i.jsxs(At,{value:c,onValueChange:u,children:[i.jsx(Ct,{children:i.jsx(Dt,{placeholder:"Select season..."})}),i.jsx(Et,{children:e.map(_=>i.jsxs($e,{value:_.id.toString(),children:[_.season_name,_.is_current_season&&i.jsx(ee,{variant:"secondary",className:"ml-2",children:"Current"})]},_.id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Week"}),i.jsxs(At,{value:d,onValueChange:f,disabled:!c,children:[i.jsx(Ct,{children:i.jsx(Dt,{placeholder:"Select week..."})}),i.jsx(Et,{children:A.map(_=>i.jsxs($e,{value:_.toString(),children:["Week ",_]},_))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Status"}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),i.jsxs("span",{children:[o.length," Total"]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),i.jsxs("span",{children:[o.filter(_=>_.manual_override).length," Override"]})]})]})]}),i.jsx("div",{className:"space-y-2 flex items-end",children:y&&i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(te,{onClick:O,disabled:j,className:"flex items-center gap-2",children:[j?i.jsx(sn,{className:"h-4 w-4 animate-spin"}):i.jsx(rN,{className:"h-4 w-4"}),"Save"]}),i.jsxs(te,{variant:"outline",onClick:V,className:"flex items-center gap-2",children:[i.jsx(OD,{className:"h-4 w-4"}),"Reset"]})]})})]}),y&&i.jsxs(_t,{className:"mb-4",children:[i.jsx(n$,{className:"h-4 w-4"}),i.jsx(St,{children:"You have unsaved changes. Remember to save your modifications."})]})]})]}),m?i.jsx(Y,{children:i.jsx(X,{className:"flex items-center justify-center py-12",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(sn,{className:"h-6 w-6 animate-spin"}),i.jsx("span",{children:"Loading matchups..."})]})})}):o.length===0&&d?i.jsx(Y,{children:i.jsx(X,{className:"flex items-center justify-center py-12",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Yt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Matchups Found"}),i.jsx("p",{className:"text-gray-600",children:"No matchups found for the selected week. They may need to be created first."})]})})}):o.length>0?i.jsx(Y,{children:i.jsx(X,{className:"p-0",children:i.jsxs(zU,{sensors:S,collisionDetection:GB,onDragStart:$,onDragEnd:I,children:[i.jsx(f6,{items:o.flatMap(_=>[`${_.id}-team1`,`${_.id}-team2`]),strategy:Sv,children:i.jsxs(pn,{children:[i.jsx(gn,{children:i.jsxs(Pe,{children:[i.jsx(se,{className:"w-24",children:"Match"}),i.jsx(se,{className:"w-48",children:"Team 1"}),i.jsx(se,{className:"w-32 text-center",children:"Score"}),i.jsx(se,{className:"w-48",children:"Team 2"}),i.jsx(se,{className:"w-24 text-center",children:"Status"}),i.jsx(se,{className:"w-24 text-center",children:"Actions"})]})}),i.jsx(xn,{children:n.map(_=>{const E=o.filter(P=>P.conference_id===_.id);return E.length===0?null:i.jsxs(De.Fragment,{children:[i.jsx(Pe,{children:i.jsx(Z,{colSpan:6,className:"bg-gray-50 font-medium text-sm py-2",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Yt,{className:"h-4 w-4 text-blue-600"}),_.conference_name,i.jsxs(ee,{variant:"secondary",className:"text-xs",children:[E.length," matchups"]})]})})}),E.map(P=>i.jsx(S6,{matchup:P,teams:r,conferences:n,onToggleOverride:B,onUpdateScores:Q},P.id))]},_.id)})})]})}),i.jsx(l6,{children:g?i.jsx("div",{className:"bg-white p-2 rounded-lg border-2 border-blue-400 shadow-lg",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 bg-blue-100 rounded-full flex items-center justify-center",children:i.jsx(Yt,{className:"h-2 w-2 text-blue-600"})}),i.jsx("span",{className:"text-xs font-medium",children:"Moving team..."})]})}):null})]})})}):i.jsx(Y,{children:i.jsx(X,{className:"flex items-center justify-center py-12",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Yn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select Filters"}),i.jsx("p",{className:"text-gray-600",children:"Please select a season and week to manage matchups across all conferences."})]})})})]})};var nh="Switch",[C6,F7]=ts(nh),[E6,T6]=C6(nh),PT=h.forwardRef((e,t)=>{const{__scopeSwitch:n,name:s,checked:r,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[m,x]=h.useState(null),j=Ve(t,w=>x(w)),v=h.useRef(!1),y=m?d||!!m.closest("form"):!0,[p,g]=Pr({prop:r,defaultProp:a??!1,onChange:u,caller:nh});return i.jsxs(E6,{scope:n,checked:p,disabled:l,children:[i.jsx(xe.button,{type:"button",role:"switch","aria-checked":p,"aria-required":o,"data-state":$T(p),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:j,onClick:ge(e.onClick,w=>{g(b=>!b),y&&(v.current=w.isPropagationStopped(),v.current||w.stopPropagation())})}),y&&i.jsx(DT,{control:m,bubbles:!v.current,name:s,value:c,checked:p,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});PT.displayName=nh;var RT="SwitchThumb",AT=h.forwardRef((e,t)=>{const{__scopeSwitch:n,...s}=e,r=T6(RT,n);return i.jsx(xe.span,{"data-state":$T(r.checked),"data-disabled":r.disabled?"":void 0,...s,ref:t})});AT.displayName=RT;var k6="SwitchBubbleInput",DT=h.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:s=!0,...r},a)=>{const o=h.useRef(null),l=Ve(o,a),c=sv(n),u=Lx(t);return h.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&x){const j=new Event("click",{bubbles:s});x.call(d,n),d.dispatchEvent(j)}},[c,n,s]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...r,tabIndex:-1,ref:l,style:{...r.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});DT.displayName=k6;function $T(e){return e?"checked":"unchecked"}var MT=PT,P6=AT;const IT=h.forwardRef(({className:e,...t},n)=>i.jsx(MT,{className:me("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:i.jsx(P6,{className:me("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));IT.displayName=MT.displayName;class R6{constructor(){hr(this,"schedule",{enabled:!1,dayOfWeek:2,hour:9,minute:0,timezone:"America/New_York"});hr(this,"syncStatus",{id:"",status:"idle",progress:0,currentStep:"Waiting for next sync",processedMatchups:0,totalMatchups:0,errors:[]});hr(this,"syncHistory",[]);hr(this,"scheduleTimer",null);hr(this,"statusListeners",[]);hr(this,"historyListeners",[]);this.loadSettings(),this.scheduleNextSync()}getSchedule(){return{...this.schedule}}updateSchedule(t){this.schedule={...this.schedule,...t},this.saveSettings(),this.scheduleNextSync(),this.notifyStatusListeners()}getStatus(){return{...this.syncStatus}}getHistory(){return[...this.syncHistory]}async runManualSync(){if(this.syncStatus.status==="running")throw new Error("Sync is already running");await this.executeSync(!0)}onStatusChange(t){return this.statusListeners.push(t),()=>{this.statusListeners=this.statusListeners.filter(n=>n!==t)}}onHistoryChange(t){return this.historyListeners.push(t),()=>{this.historyListeners=this.historyListeners.filter(n=>n!==t)}}loadSettings(){try{const t=localStorage.getItem("weeklyAutoSyncSchedule");t&&(this.schedule={...this.schedule,...JSON.parse(t)});const n=localStorage.getItem("weeklyAutoSyncHistory");n&&(this.syncHistory=JSON.parse(n).map(s=>({...s,timestamp:new Date(s.timestamp)})))}catch(t){console.error("Failed to load sync settings:",t)}}saveSettings(){try{localStorage.setItem("weeklyAutoSyncSchedule",JSON.stringify(this.schedule)),localStorage.setItem("weeklyAutoSyncHistory",JSON.stringify(this.syncHistory))}catch(t){console.error("Failed to save sync settings:",t)}}scheduleNextSync(){if(this.scheduleTimer&&(clearTimeout(this.scheduleTimer),this.scheduleTimer=null),!this.schedule.enabled){this.updateSyncStatus({status:"idle",currentStep:"Automatic sync disabled",nextRunTime:void 0});return}const t=this.calculateNextRunTime(),n=new Date,s=t.getTime()-n.getTime();s>0&&(this.scheduleTimer=setTimeout(()=>{this.executeSync(!1)},s),this.updateSyncStatus({status:"scheduled",currentStep:"Scheduled for next run",nextRunTime:t}))}calculateNextRunTime(){const t=new Date,n=new Date(t);n.setHours(this.schedule.hour,this.schedule.minute,0,0);const s=t.getDay();let a=this.schedule.dayOfWeek-s;return(a<0||a===0&&t.getTime()>=n.getTime())&&(a+=7),n.setDate(n.getDate()+a),n}async executeSync(t){var l,c;const n=`sync_${Date.now()}`,s=new Date;this.updateSyncStatus({id:n,status:"running",startTime:s,progress:0,currentStep:"Initializing sync...",processedMatchups:0,totalMatchups:0,errors:[]});const r=[];let a=0,o=0;try{this.updateSyncStatus({currentStep:"Fetching active conferences...",progress:10});const{data:u}=await window.ezsite.apis.tablePage(12820,{PageNo:1,PageSize:100,Filters:[{name:"is_active",op:"Equal",value:!0}]});if(!((l=u==null?void 0:u.List)!=null&&l.length))throw new Error("No active conferences found");const{data:d}=await window.ezsite.apis.tablePage(12818,{PageNo:1,PageSize:1,Filters:[{name:"is_current_season",op:"Equal",value:!0}]});if(!((c=d==null?void 0:d.List)!=null&&c.length))throw new Error("No current season found");const f=d.List[0];this.updateSyncStatus({currentStep:"Fetching pending matchups...",progress:20});const{data:m}=await window.ezsite.apis.tablePage(13329,{PageNo:1,PageSize:1e3,Filters:[{name:"status",op:"Equal",value:"pending"},{name:"week",op:"Equal",value:f.current_week}]}),x=(m==null?void 0:m.List)||[];this.updateSyncStatus({totalMatchups:x.length,progress:30});for(const p of u.List){this.updateSyncStatus({currentStep:`Processing ${p.conference_name}...`,progress:30+a/x.length*40});try{const g=x.filter(w=>w.conference_id===p.id);for(const w of g)await this.processMatchup(w,p,f),a++,this.updateSyncStatus({processedMatchups:a,progress:30+a/x.length*40});await this.updateTeamRecords(p.id,f.id),o++}catch(g){const w=`Error processing ${p.conference_name}: ${g}`;r.push(w),console.error(w)}}this.updateSyncStatus({currentStep:"Finalizing sync...",progress:90});const j=new Date,v=j.getTime()-s.getTime(),y={id:n,timestamp:s,status:r.length>0?a>0?"partial":"failed":"success",duration:v,matchupsProcessed:a,recordsUpdated:o,errors:[...r],details:t?"Manual sync":"Scheduled sync"};this.syncHistory.unshift(y),this.syncHistory=this.syncHistory.slice(0,100),this.saveSettings(),this.notifyHistoryListeners(),this.updateSyncStatus({status:r.length>0?"failed":"completed",endTime:j,progress:100,currentStep:`Sync completed ${r.length>0?"with errors":"successfully"}`,errors:[...r],lastRunTime:s}),t||setTimeout(()=>this.scheduleNextSync(),5e3),r.length===0?ai({title:"Sync Completed",description:`Processed ${a} matchups successfully`}):ai({title:"Sync Completed with Errors",description:`Processed ${a} matchups with ${r.length} errors`,variant:"destructive"})}catch(u){const d=`Sync failed: ${u}`;r.push(d),this.updateSyncStatus({status:"failed",endTime:new Date,progress:0,currentStep:"Sync failed",errors:[...r]}),console.error("Sync execution failed:",u),ai({title:"Sync Failed",description:d,variant:"destructive"}),t||setTimeout(()=>this.scheduleNextSync(),6e4)}}async processMatchup(t,n,s){var r,a,o,l;try{const c=await Ye.getMatchups(n.league_id,t.week);if(!(c!=null&&c.length))throw new Error(`No Sleeper matchups found for week ${t.week}`);if(!c.find(p=>p.matchup_id===parseInt(t.sleeper_matchup_id)))throw new Error(`Sleeper matchup not found for ID ${t.sleeper_matchup_id}`);const{data:d}=await window.ezsite.apis.tablePage(12853,{PageNo:1,PageSize:1,Filters:[{name:"team_id",op:"Equal",value:t.team_1_id},{name:"conference_id",op:"Equal",value:n.id}]}),{data:f}=await window.ezsite.apis.tablePage(12853,{PageNo:1,PageSize:1,Filters:[{name:"team_id",op:"Equal",value:t.team_2_id},{name:"conference_id",op:"Equal",value:n.id}]});if(!((r=d==null?void 0:d.List)!=null&&r.length)||!((a=f==null?void 0:f.List)!=null&&a.length))throw new Error("Could not find team junction records");const m=d.List[0].roster_id,x=f.List[0].roster_id,j=((o=c.find(p=>p.roster_id===parseInt(m)))==null?void 0:o.points)||0,v=((l=c.find(p=>p.roster_id===parseInt(x)))==null?void 0:l.points)||0;let y=null;j>v?y=t.team_1_id:v>j&&(y=t.team_2_id),await window.ezsite.apis.tableUpdate(13329,{id:t.id,team_1_score:j,team_2_score:v,winner_id:y,status:"complete",is_manual_override:!1})}catch(c){throw new Error(`Failed to process matchup ${t.id}: ${c}`)}}async updateTeamRecords(t,n){var s,r,a;try{const{data:o}=await window.ezsite.apis.tablePage(13329,{PageNo:1,PageSize:1e3,Filters:[{name:"conference_id",op:"Equal",value:t},{name:"status",op:"Equal",value:"complete"}]});if(!((s=o==null?void 0:o.List)!=null&&s.length))return;const{data:l}=await window.ezsite.apis.tablePage(12853,{PageNo:1,PageSize:100,Filters:[{name:"conference_id",op:"Equal",value:t}]});if(!((r=l==null?void 0:l.List)!=null&&r.length))return;for(const c of l.List){const u=c.team_id,d=o.List.filter(b=>b.team_1_id===u||b.team_2_id===u);let f=0,m=0,x=0,j=0,v=0;for(const b of d){const S=b.team_1_id===u,T=S?b.team_1_score:b.team_2_score,N=S?b.team_2_score:b.team_1_score;j+=T,v+=N,b.winner_id===u?f++:b.winner_id===null?x++:m++}const y=f+m+x,p=y>0?f/y:0,{data:g}=await window.ezsite.apis.tablePage(13768,{PageNo:1,PageSize:1,Filters:[{name:"team_id",op:"Equal",value:u},{name:"conference_id",op:"Equal",value:t},{name:"season_id",op:"Equal",value:n}]}),w={team_id:u,conference_id:t,season_id:n,wins:f,losses:m,ties:x,points_for:j,points_against:v,win_percentage:p,last_updated:new Date().toISOString()};(a=g==null?void 0:g.List)!=null&&a.length?await window.ezsite.apis.tableUpdate(13768,{id:g.List[0].id,...w}):await window.ezsite.apis.tableCreate(13768,w)}}catch(o){throw new Error(`Failed to update team records: ${o}`)}}updateSyncStatus(t){this.syncStatus={...this.syncStatus,...t},this.notifyStatusListeners()}notifyStatusListeners(){this.statusListeners.forEach(t=>{try{t(this.getStatus())}catch(n){console.error("Error notifying status listener:",n)}})}notifyHistoryListeners(){this.historyListeners.forEach(t=>{try{t(this.getHistory())}catch(n){console.error("Error notifying history listener:",n)}})}}const Bi=new R6,A6=()=>{const[e,t]=h.useState(Bi.getSchedule()),[n,s]=h.useState(Bi.getStatus()),[r,a]=h.useState(Bi.getHistory()),[o,l]=h.useState(!1),[c,u]=h.useState("overview");h.useEffect(()=>{const p=Bi.onStatusChange(s),g=Bi.onHistoryChange(a);return()=>{p(),g()}},[]);const d=p=>{const g={...e,...p};t(g),Bi.updateSchedule(p),ai({title:"Schedule Updated",description:"Auto-sync schedule has been updated successfully."})},f=async()=>{if(n.status==="running"){ai({title:"Sync Already Running",description:"Please wait for the current sync to complete.",variant:"destructive"});return}l(!0);try{await Bi.runManualSync(),ai({title:"Manual Sync Started",description:"Sync has been initiated manually."})}catch(p){ai({title:"Sync Failed",description:`Failed to start manual sync: ${p}`,variant:"destructive"})}finally{l(!1)}},m=p=>{switch(p){case"completed":case"success":return"bg-green-500";case"running":return"bg-blue-500";case"failed":return"bg-red-500";case"partial":return"bg-yellow-500";case"scheduled":return"bg-purple-500";default:return"bg-gray-500"}},x=p=>{switch(p){case"completed":case"success":return i.jsx(wl,{className:"w-4 h-4"});case"running":return i.jsx(tt,{className:"w-4 h-4 animate-spin"});case"failed":return i.jsx(aD,{className:"w-4 h-4"});case"partial":return i.jsx(Ze,{className:"w-4 h-4"});case"scheduled":return i.jsx(Zs,{className:"w-4 h-4"});default:return i.jsx(AD,{className:"w-4 h-4"})}},j=p=>{const g=Math.floor(p/1e3),w=Math.floor(g/60),b=Math.floor(w/60);return b>0?`${b}h ${w%60}m ${g%60}s`:w>0?`${w}m ${g%60}s`:`${g}s`},v=p=>p?new Date(p).toLocaleString():"N/A",y=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold",children:"Auto-Sync Manager"}),i.jsx("p",{className:"text-muted-foreground",children:"Manage automatic weekly synchronization with Sleeper API"})]}),i.jsxs(te,{onClick:f,disabled:o||n.status==="running",className:"gap-2",children:[o||n.status==="running"?i.jsx(tt,{className:"w-4 h-4 animate-spin"}):i.jsx($D,{className:"w-4 h-4"}),o||n.status==="running"?"Syncing...":"Run Manual Sync"]})]}),i.jsxs(ja,{value:c,onValueChange:u,className:"w-full",children:[i.jsxs(Ai,{className:"grid w-full grid-cols-4",children:[i.jsxs(He,{value:"overview",className:"gap-2",children:[i.jsx(To,{className:"w-4 h-4"}),"Overview"]}),i.jsxs(He,{value:"schedule",className:"gap-2",children:[i.jsx(Yn,{className:"w-4 h-4"}),"Schedule"]}),i.jsxs(He,{value:"monitoring",className:"gap-2",children:[i.jsx(ZA,{className:"w-4 h-4"}),"Monitoring"]}),i.jsxs(He,{value:"history",className:"gap-2",children:[i.jsx(vD,{className:"w-4 h-4"}),"History"]})]}),i.jsxs(qe,{value:"overview",className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs(Y,{children:[i.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ae,{className:"text-sm font-medium",children:"Sync Status"}),x(n.status)]}),i.jsxs(X,{children:[i.jsx("div",{className:"text-2xl font-bold capitalize",children:n.status}),i.jsx("p",{className:"text-xs text-muted-foreground",children:n.currentStep})]})]}),i.jsxs(Y,{children:[i.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ae,{className:"text-sm font-medium",children:"Auto-Sync"}),i.jsx(Rd,{className:"w-4 h-4"})]}),i.jsxs(X,{children:[i.jsx("div",{className:"text-2xl font-bold",children:e.enabled?"Enabled":"Disabled"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:e.enabled?`${y[e.dayOfWeek]} at ${e.hour}:${e.minute.toString().padStart(2,"0")}`:"Manual only"})]})]}),i.jsxs(Y,{children:[i.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ae,{className:"text-sm font-medium",children:"Last Run"}),i.jsx(ZD,{className:"w-4 h-4"})]}),i.jsxs(X,{children:[i.jsx("div",{className:"text-2xl font-bold",children:n.lastRunTime?v(n.lastRunTime).split(" ")[1]:"Never"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:n.lastRunTime?v(n.lastRunTime).split(" ")[0]:"No previous runs"})]})]}),i.jsxs(Y,{children:[i.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ae,{className:"text-sm font-medium",children:"Next Run"}),i.jsx(Zs,{className:"w-4 h-4"})]}),i.jsxs(X,{children:[i.jsx("div",{className:"text-2xl font-bold",children:n.nextRunTime?v(n.nextRunTime).split(" ")[1]:"N/A"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:n.nextRunTime?v(n.nextRunTime).split(" ")[0]:"No scheduled runs"})]})]})]}),n.status==="running"&&i.jsxs(Y,{children:[i.jsx(ie,{children:i.jsxs(ae,{className:"flex items-center gap-2",children:[i.jsx(tt,{className:"w-5 h-5 animate-spin"}),"Sync in Progress"]})}),i.jsxs(X,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:n.currentStep}),i.jsxs("span",{children:[n.progress,"%"]})]}),i.jsx(er,{value:n.progress,className:"h-2"})]}),i.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[i.jsxs("span",{children:["Matchups: ",n.processedMatchups," / ",n.totalMatchups]}),i.jsxs("span",{children:["Started: ",v(n.startTime)]})]})]})]}),n.errors.length>0&&i.jsxs(_t,{variant:"destructive",children:[i.jsx(Ze,{className:"h-4 w-4"}),i.jsxs(St,{children:[i.jsx("div",{className:"font-medium",children:"Sync Errors:"}),i.jsx("ul",{className:"mt-1 space-y-1",children:n.errors.map((p,g)=>i.jsxs("li",{className:"text-sm",children:[" ",p]},g))})]})]})]}),i.jsx(qe,{value:"schedule",className:"space-y-4",children:i.jsxs(Y,{children:[i.jsx(ie,{children:i.jsx(ae,{children:"Sync Schedule Configuration"})}),i.jsxs(X,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(It,{htmlFor:"enable-sync",children:"Enable Automatic Sync"}),i.jsx(IT,{id:"enable-sync",checked:e.enabled,onCheckedChange:p=>d({enabled:p})})]}),e.enabled&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(It,{htmlFor:"day-of-week",children:"Day of Week"}),i.jsxs(At,{value:e.dayOfWeek.toString(),onValueChange:p=>d({dayOfWeek:parseInt(p)}),children:[i.jsx(Ct,{children:i.jsx(Dt,{placeholder:"Select day"})}),i.jsx(Et,{children:y.map((p,g)=>i.jsx($e,{value:g.toString(),children:p},g))})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(It,{htmlFor:"hour",children:"Hour (24-hour format)"}),i.jsx(hn,{id:"hour",type:"number",min:"0",max:"23",value:e.hour,onChange:p=>d({hour:parseInt(p.target.value)||0})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(It,{htmlFor:"minute",children:"Minute"}),i.jsx(hn,{id:"minute",type:"number",min:"0",max:"59",value:e.minute,onChange:p=>d({minute:parseInt(p.target.value)||0})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(It,{htmlFor:"timezone",children:"Timezone"}),i.jsxs(At,{value:e.timezone,onValueChange:p=>d({timezone:p}),children:[i.jsx(Ct,{children:i.jsx(Dt,{placeholder:"Select timezone"})}),i.jsxs(Et,{children:[i.jsx($e,{value:"America/New_York",children:"Eastern Time"}),i.jsx($e,{value:"America/Chicago",children:"Central Time"}),i.jsx($e,{value:"America/Denver",children:"Mountain Time"}),i.jsx($e,{value:"America/Los_Angeles",children:"Pacific Time"})]})]})]})]}),i.jsxs(_t,{children:[i.jsx(Ze,{className:"h-4 w-4"}),i.jsxs(St,{children:[i.jsx("strong",{children:"Note:"})," Automatic sync will only run when the browser is open and active. For production use, consider implementing server-side scheduling."]})]})]})]})}),i.jsx(qe,{value:"monitoring",className:"space-y-4",children:i.jsxs(Y,{children:[i.jsx(ie,{children:i.jsx(ae,{children:"Real-time Monitoring"})}),i.jsx(X,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(It,{children:"Current Status"}),i.jsx(ee,{variant:"outline",className:`${m(n.status)} text-white`,children:n.status})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(It,{children:"Current Step"}),i.jsx("p",{className:"text-sm",children:n.currentStep})]})]}),n.status==="running"&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(It,{children:"Progress"}),i.jsx(er,{value:n.progress,className:"h-2"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.progress,"% complete"]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(It,{children:"Processed Matchups"}),i.jsx("p",{className:"text-2xl font-bold",children:n.processedMatchups})]}),i.jsxs("div",{children:[i.jsx(It,{children:"Total Matchups"}),i.jsx("p",{className:"text-2xl font-bold",children:n.totalMatchups})]})]})]}),n.startTime&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(It,{children:"Started At"}),i.jsx("p",{className:"text-sm",children:v(n.startTime)})]}),n.endTime&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(It,{children:"Completed At"}),i.jsx("p",{className:"text-sm",children:v(n.endTime)})]})]})})]})}),i.jsx(qe,{value:"history",className:"space-y-4",children:i.jsxs(Y,{children:[i.jsx(ie,{children:i.jsx(ae,{children:"Sync History"})}),i.jsx(X,{children:i.jsx("div",{className:"rounded-md border",children:i.jsxs(pn,{children:[i.jsx(gn,{children:i.jsxs(Pe,{children:[i.jsx(se,{children:"Timestamp"}),i.jsx(se,{children:"Status"}),i.jsx(se,{children:"Duration"}),i.jsx(se,{children:"Matchups"}),i.jsx(se,{children:"Records"}),i.jsx(se,{children:"Errors"}),i.jsx(se,{children:"Details"})]})}),i.jsx(xn,{children:r.length===0?i.jsx(Pe,{children:i.jsx(Z,{colSpan:7,className:"text-center text-muted-foreground",children:"No sync history available"})}):r.map(p=>i.jsxs(Pe,{children:[i.jsx(Z,{children:v(p.timestamp)}),i.jsx(Z,{children:i.jsx(ee,{variant:"outline",className:`${m(p.status)} text-white`,children:p.status})}),i.jsx(Z,{children:j(p.duration)}),i.jsx(Z,{children:p.matchupsProcessed}),i.jsx(Z,{children:p.recordsUpdated}),i.jsx(Z,{children:p.errors.length>0?i.jsx(ee,{variant:"destructive",children:p.errors.length}):i.jsx("span",{className:"text-green-600",children:"None"})}),i.jsx(Z,{className:"max-w-xs truncate",children:p.details})]},p.id))})]})})})]})})]})]})},D6=()=>{const[e,t]=h.useState(!1),[n,s]=h.useState(""),[r,a]=h.useState(""),[o,l]=h.useState(null),[c,u]=h.useState(!0),{toast:d}=An(),f="gladleague2025";h.useEffect(()=>{const j=sessionStorage.getItem("admin_authenticated"),v=sessionStorage.getItem("admin_login_time");if(j==="true"&&v){const y=new Date(v);(new Date().getTime()-y.getTime())/(1e3*60*60)<8?(t(!0),l(localStorage.getItem("admin_last_login"))):(sessionStorage.removeItem("admin_authenticated"),sessionStorage.removeItem("admin_login_time"))}u(!1)},[]);const m=j=>{if(j.preventDefault(),n===f){const v=new Date;t(!0),a(""),sessionStorage.setItem("admin_authenticated","true"),sessionStorage.setItem("admin_login_time",v.toISOString()),localStorage.setItem("admin_last_login",v.toLocaleString()),l(v.toLocaleString()),d({title:"Admin Access Granted",description:"Welcome to the admin panel"})}else a("Invalid password"),d({title:"Access Denied",description:"Invalid admin password",variant:"destructive"})},x=()=>{t(!1),s(""),sessionStorage.removeItem("admin_authenticated"),sessionStorage.removeItem("admin_login_time"),d({title:"Logged Out",description:"Admin session ended"})};return c?i.jsx("div",{className:"container mx-auto px-4 py-8","data-id":"ao89vvru5",children:i.jsx("div",{className:"flex items-center justify-center min-h-[400px]","data-id":"pml7mynqn",children:i.jsx("div",{className:"animate-spin h-8 w-8 border-b-2 border-blue-600 rounded-full","data-id":"10jeltn5k"})})}):e?i.jsxs("div",{className:"container mx-auto px-4 py-8","data-id":"zucmgzvwq",children:[i.jsxs("div",{className:"flex items-center justify-between mb-8","data-id":"lro5ngqd4",children:[i.jsxs("div",{"data-id":"noo7qh20h",children:[i.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3","data-id":"fmj1jcz8o",children:[i.jsx(Rd,{className:"h-8 w-8 text-blue-600","data-id":"bdjtdbfnt"}),"Admin Panel"]}),i.jsx("p",{className:"text-muted-foreground mt-2","data-id":"amn1082i4",children:"Manage leagues, sync data, and perform administrative tasks"})]}),i.jsxs("div",{className:"flex items-center gap-4","data-id":"nw6oaovvh",children:[o&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground","data-id":"1kqkbfoj2",children:[i.jsx(Zs,{className:"h-4 w-4","data-id":"u85cv9ybo"}),"Last login: ",o]}),i.jsxs(ee,{variant:"secondary",className:"flex items-center gap-1","data-id":"u49kieuap",children:[i.jsx(To,{className:"h-3 w-3","data-id":"fzemdjhv1"}),"Admin Active"]}),i.jsx(te,{variant:"outline",onClick:x,"data-id":"ssqzxi57s",children:"Logout"})]})]}),i.jsxs(ja,{defaultValue:"league-manager",className:"space-y-6","data-id":"ojttqdptv",children:[i.jsxs(Ai,{className:"grid w-full grid-cols-4","data-id":"55g8xnp5m",children:[i.jsxs(He,{value:"league-manager",className:"flex items-center gap-2","data-id":"mudt4s949",children:[i.jsx(Rd,{className:"h-4 w-4","data-id":"vq59l6i0o"}),"League Manager"]}),i.jsxs(He,{value:"data-sync",className:"flex items-center gap-2","data-id":"x1ln07h9l",children:[i.jsx(Ma,{className:"h-4 w-4","data-id":"gwzxvoplp"}),"Data Sync"]}),i.jsxs(He,{value:"matchups-management",className:"flex items-center gap-2","data-id":"kq8s7gvio",children:[i.jsx(Yn,{className:"h-4 w-4","data-id":"930hxto7y"}),"Matchups & Overrides"]}),i.jsxs(He,{value:"auto-sync",className:"flex items-center gap-2","data-id":"ufa49dbo7",children:[i.jsx(QA,{className:"h-4 w-4","data-id":"xv3rcuk8d"}),"Auto-Sync"]})]}),i.jsx(qe,{value:"league-manager","data-id":"9y7vx68ag",children:i.jsx(NB,{"data-id":"jqk7s5yut"})}),i.jsx(qe,{value:"data-sync","data-id":"mbmsyjmjw",children:i.jsx(PB,{"data-id":"r02lgxd37"})}),i.jsx(qe,{value:"matchups-management","data-id":"2im6bg2ok",children:i.jsx(N6,{"data-id":"ddqsho0df"})}),i.jsx(qe,{value:"auto-sync","data-id":"cr5xmlzdc",children:i.jsx(A6,{"data-id":"5st9c4lq3"})})]})]}):i.jsx("div",{className:"container mx-auto px-4 py-8","data-id":"sep77enuq",children:i.jsx("div",{className:"max-w-md mx-auto","data-id":"qkcxfcevx",children:i.jsxs(Y,{"data-id":"7bka3yyd5",children:[i.jsxs(ie,{className:"text-center","data-id":"alhddkb9x",children:[i.jsx("div",{className:"flex justify-center mb-4","data-id":"20czuz7s8",children:i.jsx(cc,{className:"h-12 w-12 text-blue-600","data-id":"uj6wfwcyd"})}),i.jsxs(ae,{className:"flex items-center gap-2 justify-center","data-id":"easa7srw9",children:[i.jsx(SD,{className:"h-5 w-5","data-id":"srgo1x52n"}),"Admin Access Required"]}),i.jsx(be,{"data-id":"dw6h33z8z",children:"Enter the admin password to access the admin panel"})]}),i.jsx(X,{"data-id":"p54cgo0pa",children:i.jsxs("form",{onSubmit:m,className:"space-y-4","data-id":"nu7k5xnra",children:[i.jsxs("div",{className:"space-y-2","data-id":"rtr62f4xb",children:[i.jsx(It,{htmlFor:"password","data-id":"nell7jvlm",children:"Admin Password"}),i.jsx(hn,{id:"password",type:"password",value:n,onChange:j=>s(j.target.value),placeholder:"Enter admin password",className:"w-full","data-id":"hjlpnn2yv"})]}),r&&i.jsx(_t,{variant:"destructive","data-id":"4zu7gxwp4",children:i.jsx(St,{"data-id":"js05q0hn6",children:r})}),i.jsx(te,{type:"submit",className:"w-full","data-id":"tthln8jfy",children:"Access Admin Panel"})]})})]})})})},LT=h.createContext({});function $6(e){const t=h.useRef(null);return t.current===null&&(t.current=e()),t.current}const Nv=typeof window<"u",M6=Nv?h.useLayoutEffect:h.useEffect,Cv=h.createContext(null);function Ev(e,t){e.indexOf(t)===-1&&e.push(t)}function Tv(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Dr=(e,t,n)=>n>t?t:n<e?e:n;let kv=()=>{};const $r={},OT=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function FT(e){return typeof e=="object"&&e!==null}const BT=e=>/^0[^.\s]+$/u.test(e);function Pv(e){let t;return()=>(t===void 0&&(t=e()),t)}const vs=e=>e,I6=(e,t)=>n=>t(e(n)),Gc=(...e)=>e.reduce(I6),jc=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class Rv{constructor(){this.subscriptions=[]}add(t){return Ev(this.subscriptions,t),()=>Tv(this.subscriptions,t)}notify(t,n,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,n,s);else for(let a=0;a<r;a++){const o=this.subscriptions[a];o&&o(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const or=e=>e*1e3,lr=e=>e/1e3;function UT(e,t){return t?e*(1e3/t):0}const VT=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,L6=1e-7,O6=12;function F6(e,t,n,s,r){let a,o,l=0;do o=t+(n-t)/2,a=VT(o,s,r)-e,a>0?n=o:t=o;while(Math.abs(a)>L6&&++l<O6);return o}function Yc(e,t,n,s){if(e===t&&n===s)return vs;const r=a=>F6(a,0,1,e,n);return a=>a===0||a===1?a:VT(r(a),t,s)}const zT=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,WT=e=>t=>1-e(1-t),HT=Yc(.33,1.53,.69,.99),Av=WT(HT),qT=zT(Av),KT=e=>(e*=2)<1?.5*Av(e):.5*(2-Math.pow(2,-10*(e-1))),Dv=e=>1-Math.sin(Math.acos(e)),GT=WT(Dv),YT=zT(Dv),B6=Yc(.42,0,1,1),U6=Yc(0,0,.58,1),QT=Yc(.42,0,.58,1),V6=e=>Array.isArray(e)&&typeof e[0]!="number",XT=e=>Array.isArray(e)&&typeof e[0]=="number",z6={linear:vs,easeIn:B6,easeInOut:QT,easeOut:U6,circIn:Dv,circInOut:YT,circOut:GT,backIn:Av,backInOut:qT,backOut:HT,anticipate:KT},W6=e=>typeof e=="string",G0=e=>{if(XT(e)){kv(e.length===4);const[t,n,s,r]=e;return Yc(t,n,s,r)}else if(W6(e))return z6[e];return e},Au=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function H6(e,t){let n=new Set,s=new Set,r=!1,a=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(d){o.has(d)&&(u.schedule(d),e()),d(l)}const u={schedule:(d,f=!1,m=!1)=>{const j=m&&r?n:s;return f&&o.add(d),j.has(d)||j.add(d),d},cancel:d=>{s.delete(d),o.delete(d)},process:d=>{if(l=d,r){a=!0;return}r=!0,[n,s]=[s,n],n.forEach(c),n.clear(),r=!1,a&&(a=!1,u.process(d))}};return u}const q6=40;function JT(e,t){let n=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=Au.reduce((w,b)=>(w[b]=H6(a),w),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:f,preRender:m,render:x,postRender:j}=o,v=()=>{const w=$r.useManualTiming?r.timestamp:performance.now();n=!1,$r.useManualTiming||(r.delta=s?1e3/60:Math.max(Math.min(w-r.timestamp,q6),1)),r.timestamp=w,r.isProcessing=!0,l.process(r),c.process(r),u.process(r),d.process(r),f.process(r),m.process(r),x.process(r),j.process(r),r.isProcessing=!1,n&&t&&(s=!1,e(v))},y=()=>{n=!0,s=!0,r.isProcessing||e(v)};return{schedule:Au.reduce((w,b)=>{const S=o[b];return w[b]=(T,N=!1,C=!1)=>(n||y(),S.schedule(T,N,C)),w},{}),cancel:w=>{for(let b=0;b<Au.length;b++)o[Au[b]].cancel(w)},state:r,steps:o}}const{schedule:ut,cancel:_i,state:nn,steps:mm}=JT(typeof requestAnimationFrame<"u"?requestAnimationFrame:vs,!0);let td;function K6(){td=void 0}const Un={now:()=>(td===void 0&&Un.set(nn.isProcessing||$r.useManualTiming?nn.timestamp:performance.now()),td),set:e=>{td=e,queueMicrotask(K6)}},ZT=e=>t=>typeof t=="string"&&t.startsWith(e),$v=ZT("--"),G6=ZT("var(--"),Mv=e=>G6(e)?Y6.test(e.split("/*")[0].trim()):!1,Y6=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Xo={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},bc={...Xo,transform:e=>Dr(0,1,e)},Du={...Xo,default:1},Ul=e=>Math.round(e*1e5)/1e5,Iv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Q6(e){return e==null}const X6=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Lv=(e,t)=>n=>!!(typeof n=="string"&&X6.test(n)&&n.startsWith(e)||t&&!Q6(n)&&Object.prototype.hasOwnProperty.call(n,t)),ek=(e,t,n)=>s=>{if(typeof s!="string")return s;const[r,a,o,l]=s.match(Iv);return{[e]:parseFloat(r),[t]:parseFloat(a),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},J6=e=>Dr(0,255,e),pm={...Xo,transform:e=>Math.round(J6(e))},Qi={test:Lv("rgb","red"),parse:ek("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+pm.transform(e)+", "+pm.transform(t)+", "+pm.transform(n)+", "+Ul(bc.transform(s))+")"};function Z6(e){let t="",n="",s="",r="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),r=e.substring(4,5),t+=t,n+=n,s+=s,r+=r),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const ag={test:Lv("#"),parse:Z6,transform:Qi.transform},Qc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Hr=Qc("deg"),cr=Qc("%"),je=Qc("px"),eV=Qc("vh"),tV=Qc("vw"),Y0={...cr,parse:e=>cr.parse(e)/100,transform:e=>cr.transform(e*100)},Qa={test:Lv("hsl","hue"),parse:ek("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+cr.transform(Ul(t))+", "+cr.transform(Ul(n))+", "+Ul(bc.transform(s))+")"},kt={test:e=>Qi.test(e)||ag.test(e)||Qa.test(e),parse:e=>Qi.test(e)?Qi.parse(e):Qa.test(e)?Qa.parse(e):ag.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Qi.transform(e):Qa.transform(e),getAnimatableNone:e=>{const t=kt.parse(e);return t.alpha=0,kt.transform(t)}},nV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function sV(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Iv))==null?void 0:t.length)||0)+(((n=e.match(nV))==null?void 0:n.length)||0)>0}const tk="number",nk="color",rV="var",iV="var(",Q0="${}",aV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function _c(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},r=[];let a=0;const l=t.replace(aV,c=>(kt.test(c)?(s.color.push(a),r.push(nk),n.push(kt.parse(c))):c.startsWith(iV)?(s.var.push(a),r.push(rV),n.push(c)):(s.number.push(a),r.push(tk),n.push(parseFloat(c))),++a,Q0)).split(Q0);return{values:n,split:l,indexes:s,types:r}}function sk(e){return _c(e).values}function rk(e){const{split:t,types:n}=_c(e),s=t.length;return r=>{let a="";for(let o=0;o<s;o++)if(a+=t[o],r[o]!==void 0){const l=n[o];l===tk?a+=Ul(r[o]):l===nk?a+=kt.transform(r[o]):a+=r[o]}return a}}const oV=e=>typeof e=="number"?0:kt.test(e)?kt.getAnimatableNone(e):e;function lV(e){const t=sk(e);return rk(e)(t.map(oV))}const Si={test:sV,parse:sk,createTransformer:rk,getAnimatableNone:lV};function gm(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function cV({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let r=0,a=0,o=0;if(!t)r=a=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;r=gm(c,l,e+1/3),a=gm(c,l,e),o=gm(c,l,e-1/3)}return{red:Math.round(r*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:s}}function Qd(e,t){return n=>n>0?t:e}const ht=(e,t,n)=>e+(t-e)*n,xm=(e,t,n)=>{const s=e*e,r=n*(t*t-s)+s;return r<0?0:Math.sqrt(r)},uV=[ag,Qi,Qa],dV=e=>uV.find(t=>t.test(e));function X0(e){const t=dV(e);if(!t)return!1;let n=t.parse(e);return t===Qa&&(n=cV(n)),n}const J0=(e,t)=>{const n=X0(e),s=X0(t);if(!n||!s)return Qd(e,t);const r={...n};return a=>(r.red=xm(n.red,s.red,a),r.green=xm(n.green,s.green,a),r.blue=xm(n.blue,s.blue,a),r.alpha=ht(n.alpha,s.alpha,a),Qi.transform(r))},og=new Set(["none","hidden"]);function fV(e,t){return og.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function hV(e,t){return n=>ht(e,t,n)}function Ov(e){return typeof e=="number"?hV:typeof e=="string"?Mv(e)?Qd:kt.test(e)?J0:gV:Array.isArray(e)?ik:typeof e=="object"?kt.test(e)?J0:mV:Qd}function ik(e,t){const n=[...e],s=n.length,r=e.map((a,o)=>Ov(a)(a,t[o]));return a=>{for(let o=0;o<s;o++)n[o]=r[o](a);return n}}function mV(e,t){const n={...e,...t},s={};for(const r in n)e[r]!==void 0&&t[r]!==void 0&&(s[r]=Ov(e[r])(e[r],t[r]));return r=>{for(const a in s)n[a]=s[a](r);return n}}function pV(e,t){const n=[],s={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){const a=t.types[r],o=e.indexes[a][s[a]],l=e.values[o]??0;n[r]=l,s[a]++}return n}const gV=(e,t)=>{const n=Si.createTransformer(t),s=_c(e),r=_c(t);return s.indexes.var.length===r.indexes.var.length&&s.indexes.color.length===r.indexes.color.length&&s.indexes.number.length>=r.indexes.number.length?og.has(e)&&!r.values.length||og.has(t)&&!s.values.length?fV(e,t):Gc(ik(pV(s,r),r.values),n):Qd(e,t)};function ak(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?ht(e,t,n):Ov(e)(e,t)}const xV=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>ut.update(t,n),stop:()=>_i(t),now:()=>nn.isProcessing?nn.timestamp:Un.now()}},ok=(e,t,n=10)=>{let s="";const r=Math.max(Math.round(t/n),2);for(let a=0;a<r;a++)s+=Math.round(e(a/(r-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Xd=2e4;function Fv(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<Xd;)t+=n,s=e.next(t);return t>=Xd?1/0:t}function vV(e,t=100,n){const s=n({...e,keyframes:[0,t]}),r=Math.min(Fv(s),Xd);return{type:"keyframes",ease:a=>s.next(r*a).value/t,duration:lr(r)}}const yV=5;function lk(e,t,n){const s=Math.max(t-yV,0);return UT(n-e(s),t-s)}const yt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},vm=.001;function wV({duration:e=yt.duration,bounce:t=yt.bounce,velocity:n=yt.velocity,mass:s=yt.mass}){let r,a,o=1-t;o=Dr(yt.minDamping,yt.maxDamping,o),e=Dr(yt.minDuration,yt.maxDuration,lr(e)),o<1?(r=u=>{const d=u*o,f=d*e,m=d-n,x=lg(u,o),j=Math.exp(-f);return vm-m/x*j},a=u=>{const f=u*o*e,m=f*n+n,x=Math.pow(o,2)*Math.pow(u,2)*e,j=Math.exp(-f),v=lg(Math.pow(u,2),o);return(-r(u)+vm>0?-1:1)*((m-x)*j)/v}):(r=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-vm+d*f},a=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const l=5/e,c=bV(r,a,l);if(e=or(e),isNaN(c))return{stiffness:yt.stiffness,damping:yt.damping,duration:e};{const u=Math.pow(c,2)*s;return{stiffness:u,damping:o*2*Math.sqrt(s*u),duration:e}}}const jV=12;function bV(e,t,n){let s=n;for(let r=1;r<jV;r++)s=s-e(s)/t(s);return s}function lg(e,t){return e*Math.sqrt(1-t*t)}const _V=["duration","bounce"],SV=["stiffness","damping","mass"];function Z0(e,t){return t.some(n=>e[n]!==void 0)}function NV(e){let t={velocity:yt.velocity,stiffness:yt.stiffness,damping:yt.damping,mass:yt.mass,isResolvedFromDuration:!1,...e};if(!Z0(e,SV)&&Z0(e,_V))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),r=s*s,a=2*Dr(.05,1,1-(e.bounce||0))*Math.sqrt(r);t={...t,mass:yt.mass,stiffness:r,damping:a}}else{const n=wV(e);t={...t,...n,mass:yt.mass},t.isResolvedFromDuration=!0}return t}function Jd(e=yt.visualDuration,t=yt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:r}=n;const a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:u,mass:d,duration:f,velocity:m,isResolvedFromDuration:x}=NV({...n,velocity:-lr(n.velocity||0)}),j=m||0,v=u/(2*Math.sqrt(c*d)),y=o-a,p=lr(Math.sqrt(c/d)),g=Math.abs(y)<5;s||(s=g?yt.restSpeed.granular:yt.restSpeed.default),r||(r=g?yt.restDelta.granular:yt.restDelta.default);let w;if(v<1){const S=lg(p,v);w=T=>{const N=Math.exp(-v*p*T);return o-N*((j+v*p*y)/S*Math.sin(S*T)+y*Math.cos(S*T))}}else if(v===1)w=S=>o-Math.exp(-p*S)*(y+(j+p*y)*S);else{const S=p*Math.sqrt(v*v-1);w=T=>{const N=Math.exp(-v*p*T),C=Math.min(S*T,300);return o-N*((j+v*p*y)*Math.sinh(C)+S*y*Math.cosh(C))/S}}const b={calculatedDuration:x&&f||null,next:S=>{const T=w(S);if(x)l.done=S>=f;else{let N=S===0?j:0;v<1&&(N=S===0?or(j):lk(w,S,T));const C=Math.abs(N)<=s,R=Math.abs(o-T)<=r;l.done=C&&R}return l.value=l.done?o:T,l},toString:()=>{const S=Math.min(Fv(b),Xd),T=ok(N=>b.next(S*N).value,S,30);return S+"ms "+T},toTransition:()=>{}};return b}Jd.applyToOptions=e=>{const t=vV(e,100,Jd);return e.ease=t.ease,e.duration=or(t.duration),e.type="keyframes",e};function cg({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],m={done:!1,value:f},x=C=>l!==void 0&&C<l||c!==void 0&&C>c,j=C=>l===void 0?c:c===void 0||Math.abs(l-C)<Math.abs(c-C)?l:c;let v=n*t;const y=f+v,p=o===void 0?y:o(y);p!==y&&(v=p-f);const g=C=>-v*Math.exp(-C/s),w=C=>p+g(C),b=C=>{const R=g(C),D=w(C);m.done=Math.abs(R)<=u,m.value=m.done?p:D};let S,T;const N=C=>{x(m.value)&&(S=C,T=Jd({keyframes:[m.value,j(m.value)],velocity:lk(w,C,m.value),damping:r,stiffness:a,restDelta:u,restSpeed:d}))};return N(0),{calculatedDuration:null,next:C=>{let R=!1;return!T&&S===void 0&&(R=!0,b(C),N(C)),S!==void 0&&C>=S?T.next(C-S):(!R&&b(C),m)}}}function CV(e,t,n){const s=[],r=n||$r.mix||ak,a=e.length-1;for(let o=0;o<a;o++){let l=r(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||vs:t;l=Gc(c,l)}s.push(l)}return s}function EV(e,t,{clamp:n=!0,ease:s,mixer:r}={}){const a=e.length;if(kv(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=CV(t,s,r),c=l.length,u=d=>{if(o&&d<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const m=jc(e[f],e[f+1],d);return l[f](m)};return n?d=>u(Dr(e[0],e[a-1],d)):u}function TV(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const r=jc(0,t,s);e.push(ht(n,1,r))}}function kV(e){const t=[0];return TV(t,e.length-1),t}function PV(e,t){return e.map(n=>n*t)}function RV(e,t){return e.map(()=>t||QT).splice(0,e.length-1)}function Vl({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const r=V6(s)?s.map(G0):G0(s),a={done:!1,value:t[0]},o=PV(n&&n.length===t.length?n:kV(t),e),l=EV(o,t,{ease:Array.isArray(r)?r:RV(t,r)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}const AV=e=>e!==null;function Bv(e,{repeat:t,repeatType:n="loop"},s,r=1){const a=e.filter(AV),l=r<0||t&&n!=="loop"&&t%2===1?0:a.length-1;return!l||s===void 0?a[l]:s}const DV={decay:cg,inertia:cg,tween:Vl,keyframes:Vl,spring:Jd};function ck(e){typeof e.type=="string"&&(e.type=DV[e.type])}class Uv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const $V=e=>e/100;class Vv extends Uv{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,r;const{motionValue:n}=this.options;n&&n.updatedAt!==Un.now()&&this.tick(Un.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(s=this.options).onStop)==null||r.call(s))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;ck(t);const{type:n=Vl,repeat:s=0,repeatDelay:r=0,repeatType:a,velocity:o=0}=t;let{keyframes:l}=t;const c=n||Vl;c!==Vl&&typeof l[0]!="number"&&(this.mixKeyframes=Gc($V,ak(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});a==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=Fv(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+r,this.totalDuration=this.resolvedDuration*(s+1)-r,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:r,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return s.next(0);const{delay:u=0,keyframes:d,repeat:f,repeatType:m,repeatDelay:x,type:j,onUpdate:v,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-r/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const p=this.currentTime-u*(this.playbackSpeed>=0?1:-1),g=this.playbackSpeed>=0?p<0:p>r;this.currentTime=Math.max(p,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let w=this.currentTime,b=s;if(f){const C=Math.min(this.currentTime,r)/l;let R=Math.floor(C),D=C%1;!D&&C>=1&&(D=1),D===1&&R--,R=Math.min(R,f+1),!!(R%2)&&(m==="reverse"?(D=1-D,x&&(D-=x/l)):m==="mirror"&&(b=o)),w=Dr(0,1,D)*l}const S=g?{done:!1,value:d[0]}:b.next(w);a&&(S.value=a(S.value));let{done:T}=S;!g&&c!==null&&(T=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return N&&j!==cg&&(S.value=Bv(d,this.options,y,this.speed)),v&&v(S.value),N&&this.finish(),S}then(t,n){return this.finished.then(t,n)}get duration(){return lr(this.calculatedDuration)}get time(){return lr(this.currentTime)}set time(t){var n;t=or(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Un.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=lr(this.currentTime))}play(){var r,a;if(this.isStopped)return;const{driver:t=xV,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(a=(r=this.options).onPlay)==null||a.call(r);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Un.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function MV(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Xi=e=>e*180/Math.PI,ug=e=>{const t=Xi(Math.atan2(e[1],e[0]));return dg(t)},IV={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:ug,rotateZ:ug,skewX:e=>Xi(Math.atan(e[1])),skewY:e=>Xi(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},dg=e=>(e=e%360,e<0&&(e+=360),e),ej=ug,tj=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),nj=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),LV={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:tj,scaleY:nj,scale:e=>(tj(e)+nj(e))/2,rotateX:e=>dg(Xi(Math.atan2(e[6],e[5]))),rotateY:e=>dg(Xi(Math.atan2(-e[2],e[0]))),rotateZ:ej,rotate:ej,skewX:e=>Xi(Math.atan(e[4])),skewY:e=>Xi(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function fg(e){return e.includes("scale")?1:0}function hg(e,t){if(!e||e==="none")return fg(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,r;if(n)s=LV,r=n;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=IV,r=l}if(!r)return fg(t);const a=s[t],o=r[1].split(",").map(FV);return typeof a=="function"?a(o):o[a]}const OV=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return hg(n,t)};function FV(e){return parseFloat(e.trim())}const Jo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Zo=new Set(Jo),sj=e=>e===Xo||e===je,BV=new Set(["x","y","z"]),UV=Jo.filter(e=>!BV.has(e));function VV(e){const t=[];return UV.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const aa={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>hg(t,"x"),y:(e,{transform:t})=>hg(t,"y")};aa.translateX=aa.x;aa.translateY=aa.y;const oa=new Set;let mg=!1,pg=!1,gg=!1;function uk(){if(pg){const e=Array.from(oa).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const r=VV(s);r.length&&(n.set(s,r),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const r=n.get(s);r&&r.forEach(([a,o])=>{var l;(l=s.getValue(a))==null||l.set(o)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}pg=!1,mg=!1,oa.forEach(e=>e.complete(gg)),oa.clear()}function dk(){oa.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(pg=!0)})}function zV(){gg=!0,dk(),uk(),gg=!1}class zv{constructor(t,n,s,r,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=r,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(oa.add(this),mg||(mg=!0,ut.read(dk),ut.resolveKeyframes(uk))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:r}=this;if(t[0]===null){const a=r==null?void 0:r.get(),o=t[t.length-1];if(a!==void 0)t[0]=a;else if(s&&n){const l=s.readValue(n,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),r&&a===void 0&&r.set(t[0])}MV(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),oa.delete(this)}cancel(){this.state==="scheduled"&&(oa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const WV=e=>e.startsWith("--");function HV(e,t,n){WV(t)?e.style.setProperty(t,n):e.style[t]=n}const qV=Pv(()=>window.ScrollTimeline!==void 0),KV={};function GV(e,t){const n=Pv(e);return()=>KV[t]??n()}const fk=GV(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),_l=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,rj={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:_l([0,.65,.55,1]),circOut:_l([.55,0,1,.45]),backIn:_l([.31,.01,.66,-.59]),backOut:_l([.33,1.53,.69,.99])};function hk(e,t){if(e)return typeof e=="function"?fk()?ok(e,t):"ease-out":XT(e)?_l(e):Array.isArray(e)?e.map(n=>hk(n,t)||rj.easeOut):rj[e]}function YV(e,t,n,{delay:s=0,duration:r=300,repeat:a=0,repeatType:o="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[t]:n};c&&(d.offset=c);const f=hk(l,r);Array.isArray(f)&&(d.easing=f);const m={delay:s,duration:r,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return u&&(m.pseudoElement=u),e.animate(d,m)}function mk(e){return typeof e=="function"&&"applyToOptions"in e}function QV({type:e,...t}){return mk(e)&&fk()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class XV extends Uv{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:s,keyframes:r,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=t,kv(typeof t.type!="string");const u=QV(t);this.animation=YV(n,s,r,u,a),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const d=Bv(r,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):HV(n,s,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,s;const t=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return lr(Number(t))}get time(){return lr(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=or(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&qV()?(this.animation.timeline=t,vs):n(this)}}const pk={anticipate:KT,backInOut:qT,circInOut:YT};function JV(e){return e in pk}function ZV(e){typeof e.ease=="string"&&JV(e.ease)&&(e.ease=pk[e.ease])}const ij=10;class ez extends XV{constructor(t){ZV(t),ck(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:r,element:a,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const l=new Vv({...o,autoplay:!1}),c=or(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-ij).value,l.sample(c).value,ij),l.stop()}}const aj=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Si.test(e)||e==="0")&&!e.startsWith("url("));function tz(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function nz(e,t,n,s){const r=e[0];if(r===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],o=aj(r,t),l=aj(a,t);return!o||!l?!1:tz(e)||(n==="spring"||mk(n))&&s}const sz=new Set(["opacity","clipPath","filter","transform"]),rz=Pv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function iz(e){var d;const{motionValue:t,name:n,repeatDelay:s,repeatType:r,damping:a,type:o}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return rz()&&n&&sz.has(n)&&(n!=="transform"||!u)&&!c&&!s&&r!=="mirror"&&a!==0&&o!=="inertia"}const az=40;class oz extends Uv{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:o="loop",keyframes:l,name:c,motionValue:u,element:d,...f}){var j;super(),this.stop=()=>{var v,y;this._animation&&(this._animation.stop(),(v=this.stopTimeline)==null||v.call(this)),(y=this.keyframeResolver)==null||y.cancel()},this.createdAt=Un.now();const m={autoplay:t,delay:n,type:s,repeat:r,repeatDelay:a,repeatType:o,name:c,motionValue:u,element:d,...f},x=(d==null?void 0:d.KeyframeResolver)||zv;this.keyframeResolver=new x(l,(v,y,p)=>this.onKeyframesResolved(v,y,m,!p),c,u,d),(j=this.keyframeResolver)==null||j.scheduleResolve()}onKeyframesResolved(t,n,s,r){this.keyframeResolver=void 0;const{name:a,type:o,velocity:l,delay:c,isHandoff:u,onUpdate:d}=s;this.resolvedAt=Un.now(),nz(t,a,o,l)||(($r.instantAnimations||!c)&&(d==null||d(Bv(t,s,n))),t[0]=t[t.length-1],s.duration=0,s.repeat=0);const m={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>az?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},x=!u&&iz(m)?new ez({...m,element:m.motionValue.owner.current}):new Vv(m);x.finished.then(()=>this.notifyFinished()).catch(vs),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),zV()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const lz=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function cz(e){const t=lz.exec(e);if(!t)return[,];const[,n,s,r]=t;return[`--${n??s}`,r]}function gk(e,t,n=1){const[s,r]=cz(e);if(!s)return;const a=window.getComputedStyle(t).getPropertyValue(s);if(a){const o=a.trim();return OT(o)?parseFloat(o):o}return Mv(r)?gk(r,t,n+1):r}function Wv(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const xk=new Set(["width","height","top","left","right","bottom",...Jo]),uz={test:e=>e==="auto",parse:e=>e},vk=e=>t=>t.test(e),yk=[Xo,je,cr,Hr,tV,eV,uz],oj=e=>yk.find(vk(e));function dz(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||BT(e):!0}const fz=new Set(["brightness","contrast","saturate","opacity"]);function hz(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(Iv)||[];if(!s)return e;const r=n.replace(s,"");let a=fz.has(t)?1:0;return s!==n&&(a*=100),t+"("+a+r+")"}const mz=/\b([a-z-]*)\(.*?\)/gu,xg={...Si,getAnimatableNone:e=>{const t=e.match(mz);return t?t.map(hz).join(" "):e}},lj={...Xo,transform:Math.round},pz={rotate:Hr,rotateX:Hr,rotateY:Hr,rotateZ:Hr,scale:Du,scaleX:Du,scaleY:Du,scaleZ:Du,skew:Hr,skewX:Hr,skewY:Hr,distance:je,translateX:je,translateY:je,translateZ:je,x:je,y:je,z:je,perspective:je,transformPerspective:je,opacity:bc,originX:Y0,originY:Y0,originZ:je},Hv={borderWidth:je,borderTopWidth:je,borderRightWidth:je,borderBottomWidth:je,borderLeftWidth:je,borderRadius:je,radius:je,borderTopLeftRadius:je,borderTopRightRadius:je,borderBottomRightRadius:je,borderBottomLeftRadius:je,width:je,maxWidth:je,height:je,maxHeight:je,top:je,right:je,bottom:je,left:je,padding:je,paddingTop:je,paddingRight:je,paddingBottom:je,paddingLeft:je,margin:je,marginTop:je,marginRight:je,marginBottom:je,marginLeft:je,backgroundPositionX:je,backgroundPositionY:je,...pz,zIndex:lj,fillOpacity:bc,strokeOpacity:bc,numOctaves:lj},gz={...Hv,color:kt,backgroundColor:kt,outlineColor:kt,fill:kt,stroke:kt,borderColor:kt,borderTopColor:kt,borderRightColor:kt,borderBottomColor:kt,borderLeftColor:kt,filter:xg,WebkitFilter:xg},wk=e=>gz[e];function jk(e,t){let n=wk(e);return n!==xg&&(n=Si),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const xz=new Set(["auto","none","0"]);function vz(e,t,n){let s=0,r;for(;s<e.length&&!r;){const a=e[s];typeof a=="string"&&!xz.has(a)&&_c(a).values.length&&(r=e[s]),s++}if(r&&n)for(const a of t)e[a]=jk(n,r)}class yz extends zv{constructor(t,n,s,r,a){super(t,n,s,r,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),Mv(u))){const d=gk(u,n.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!xk.has(s)||t.length!==2)return;const[r,a]=t,o=oj(r),l=oj(a);if(o!==l)if(sj(o)&&sj(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else aa[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let r=0;r<t.length;r++)(t[r]===null||dz(t[r]))&&s.push(r);s.length&&vz(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=aa[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&t.getValue(s,r).jump(r,!1)}measureEndState(){var l;const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const r=t.getValue(n);r&&r.jump(this.measuredOrigin,!1);const a=s.length-1,o=s[a];s[a]=aa[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function wz(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const r=(n==null?void 0:n[e])??s.querySelectorAll(e);return r?Array.from(r):[]}return Array.from(e)}const bk=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function jz(e){return FT(e)&&"offsetHeight"in e}const cj=30,bz=e=>!isNaN(parseFloat(e));class _z{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,r=!0)=>{var o,l;const a=Un.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty();r&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Un.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=bz(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Rv);const s=this.events[t].add(n);return t==="change"?()=>{s(),ut.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Un.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>cj)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,cj);return UT(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Do(e,t){return new _z(e,t)}const{schedule:qv}=JT(queueMicrotask,!1),Es={x:!1,y:!1};function _k(){return Es.x||Es.y}function Sz(e){return e==="x"||e==="y"?Es[e]?null:(Es[e]=!0,()=>{Es[e]=!1}):Es.x||Es.y?null:(Es.x=Es.y=!0,()=>{Es.x=Es.y=!1})}function Sk(e,t){const n=wz(e),s=new AbortController,r={passive:!0,...t,signal:s.signal};return[n,r,()=>s.abort()]}function uj(e){return!(e.pointerType==="touch"||_k())}function Nz(e,t,n={}){const[s,r,a]=Sk(e,n),o=l=>{if(!uj(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const d=f=>{uj(f)&&(u(f),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,r)};return s.forEach(l=>{l.addEventListener("pointerenter",o,r)}),a}const Nk=(e,t)=>t?e===t?!0:Nk(e,t.parentElement):!1,Kv=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Cz=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Ez(e){return Cz.has(e.tagName)||e.tabIndex!==-1}const nd=new WeakSet;function dj(e){return t=>{t.key==="Enter"&&e(t)}}function ym(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Tz=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=dj(()=>{if(nd.has(n))return;ym(n,"down");const r=dj(()=>{ym(n,"up")}),a=()=>ym(n,"cancel");n.addEventListener("keyup",r,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function fj(e){return Kv(e)&&!_k()}function kz(e,t,n={}){const[s,r,a]=Sk(e,n),o=l=>{const c=l.currentTarget;if(!fj(l))return;nd.add(c);const u=t(c,l),d=(x,j)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",m),nd.has(c)&&nd.delete(c),fj(x)&&typeof u=="function"&&u(x,{success:j})},f=x=>{d(x,c===window||c===document||n.useGlobalTarget||Nk(c,x.target))},m=x=>{d(x,!1)};window.addEventListener("pointerup",f,r),window.addEventListener("pointercancel",m,r)};return s.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,r),jz(l)&&(l.addEventListener("focus",u=>Tz(u,r)),!Ez(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),a}function Ck(e){return FT(e)&&"ownerSVGElement"in e}function Pz(e){return Ck(e)&&e.tagName==="svg"}const vn=e=>!!(e&&e.getVelocity),Rz=[...yk,kt,Si],Az=e=>Rz.find(vk(e)),Ek=h.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Dz(e=!0){const t=h.useContext(Cv);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:r}=t,a=h.useId();h.useEffect(()=>{if(e)return r(a)},[e]);const o=h.useCallback(()=>e&&s&&s(a),[a,s,e]);return!n&&s?[!1,o]:[!0]}const Tk=h.createContext({strict:!1}),hj={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},$o={};for(const e in hj)$o[e]={isEnabled:t=>hj[e].some(n=>!!t[n])};function $z(e){for(const t in e)$o[t]={...$o[t],...e[t]}}const Mz=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Zd(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Mz.has(e)}let kk=e=>!Zd(e);function Iz(e){typeof e=="function"&&(kk=t=>t.startsWith("on")?!Zd(t):e(t))}try{Iz(require("@emotion/is-prop-valid").default)}catch{}function Lz(e,t,n){const s={};for(const r in e)r==="values"&&typeof e.values=="object"||(kk(r)||n===!0&&Zd(r)||!t&&!Zd(r)||e.draggable&&r.startsWith("onDrag"))&&(s[r]=e[r]);return s}const sh=h.createContext({});function rh(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Sc(e){return typeof e=="string"||Array.isArray(e)}const Gv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Yv=["initial",...Gv];function ih(e){return rh(e.animate)||Yv.some(t=>Sc(e[t]))}function Pk(e){return!!(ih(e)||e.variants)}function Oz(e,t){if(ih(e)){const{initial:n,animate:s}=e;return{initial:n===!1||Sc(n)?n:void 0,animate:Sc(s)?s:void 0}}return e.inherit!==!1?t:{}}function Fz(e){const{initial:t,animate:n}=Oz(e,h.useContext(sh));return h.useMemo(()=>({initial:t,animate:n}),[mj(t),mj(n)])}function mj(e){return Array.isArray(e)?e.join(" "):e}const Nc={};function Bz(e){for(const t in e)Nc[t]=e[t],$v(t)&&(Nc[t].isCSSVariable=!0)}function Rk(e,{layout:t,layoutId:n}){return Zo.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Nc[e]||e==="opacity")}const Uz={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Vz=Jo.length;function zz(e,t,n){let s="",r=!0;for(let a=0;a<Vz;a++){const o=Jo[a],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=bk(l,Hv[o]);if(!c){r=!1;const d=Uz[o]||o;s+=`${d}(${u}) `}n&&(t[o]=u)}}return s=s.trim(),n?s=n(t,r?"":s):r&&(s="none"),s}function Qv(e,t,n){const{style:s,vars:r,transformOrigin:a}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(Zo.has(c)){o=!0;continue}else if($v(c)){r[c]=u;continue}else{const d=bk(u,Hv[c]);c.startsWith("origin")?(l=!0,a[c]=d):s[c]=d}}if(t.transform||(o||n?s.transform=zz(t,e.transform,n):s.transform&&(s.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=a;s.transformOrigin=`${c} ${u} ${d}`}}const Xv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Ak(e,t,n){for(const s in t)!vn(t[s])&&!Rk(s,n)&&(e[s]=t[s])}function Wz({transformTemplate:e},t){return h.useMemo(()=>{const n=Xv();return Qv(n,t,e),Object.assign({},n.vars,n.style)},[t])}function Hz(e,t){const n=e.style||{},s={};return Ak(s,n,e),Object.assign(s,Wz(e,t)),s}function qz(e,t){const n={},s=Hz(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const Kz={offset:"stroke-dashoffset",array:"stroke-dasharray"},Gz={offset:"strokeDashoffset",array:"strokeDasharray"};function Yz(e,t,n=1,s=0,r=!0){e.pathLength=1;const a=r?Kz:Gz;e[a.offset]=je.transform(-s);const o=je.transform(t),l=je.transform(n);e[a.array]=`${o} ${l}`}function Dk(e,{attrX:t,attrY:n,attrScale:s,pathLength:r,pathSpacing:a=1,pathOffset:o=0,...l},c,u,d){if(Qv(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:m}=e;f.transform&&(m.transform=f.transform,delete f.transform),(m.transform||f.transformOrigin)&&(m.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),m.transform&&(m.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),s!==void 0&&(f.scale=s),r!==void 0&&Yz(f,r,a,o,!1)}const $k=()=>({...Xv(),attrs:{}}),Mk=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Qz(e,t,n,s){const r=h.useMemo(()=>{const a=$k();return Dk(a,t,Mk(s),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};Ak(a,e.style,e),r.style={...a,...r.style}}return r}const Xz=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Jv(e){return typeof e!="string"||e.includes("-")?!1:!!(Xz.indexOf(e)>-1||/[A-Z]/u.test(e))}function Jz(e,t,n,{latestValues:s},r,a=!1){const l=(Jv(e)?Qz:qz)(t,s,r,e),c=Lz(t,typeof e=="string",a),u=e!==h.Fragment?{...c,...l,ref:n}:{},{children:d}=t,f=h.useMemo(()=>vn(d)?d.get():d,[d]);return h.createElement(e,{...u,children:f})}function pj(e){const t=[{},{}];return e==null||e.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function Zv(e,t,n,s){if(typeof t=="function"){const[r,a]=pj(s);t=t(n!==void 0?n:e.custom,r,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[r,a]=pj(s);t=t(n!==void 0?n:e.custom,r,a)}return t}function sd(e){return vn(e)?e.get():e}function Zz({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,r){return{latestValues:e8(n,s,r,e),renderState:t()}}function e8(e,t,n,s){const r={},a=s(e,{});for(const m in a)r[m]=sd(a[m]);let{initial:o,animate:l}=e;const c=ih(e),u=Pk(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?l:o;if(f&&typeof f!="boolean"&&!rh(f)){const m=Array.isArray(f)?f:[f];for(let x=0;x<m.length;x++){const j=Zv(e,m[x]);if(j){const{transitionEnd:v,transition:y,...p}=j;for(const g in p){let w=p[g];if(Array.isArray(w)){const b=d?w.length-1:0;w=w[b]}w!==null&&(r[g]=w)}for(const g in v)r[g]=v[g]}}}return r}const Ik=e=>(t,n)=>{const s=h.useContext(sh),r=h.useContext(Cv),a=()=>Zz(e,t,s,r);return n?a():$6(a)};function ey(e,t,n){var a;const{style:s}=e,r={};for(const o in s)(vn(s[o])||t.style&&vn(t.style[o])||Rk(o,e)||((a=n==null?void 0:n.getValue(o))==null?void 0:a.liveStyle)!==void 0)&&(r[o]=s[o]);return r}const t8=Ik({scrapeMotionValuesFromProps:ey,createRenderState:Xv});function Lk(e,t,n){const s=ey(e,t,n);for(const r in e)if(vn(e[r])||vn(t[r])){const a=Jo.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;s[a]=e[r]}return s}const n8=Ik({scrapeMotionValuesFromProps:Lk,createRenderState:$k}),s8=Symbol.for("motionComponentSymbol");function Xa(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function r8(e,t,n){return h.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):Xa(n)&&(n.current=s))},[t])}const ty=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),i8="framerAppearId",Ok="data-"+ty(i8),Fk=h.createContext({});function a8(e,t,n,s,r){var v,y;const{visualElement:a}=h.useContext(sh),o=h.useContext(Tk),l=h.useContext(Cv),c=h.useContext(Ek).reducedMotion,u=h.useRef(null);s=s||o.renderer,!u.current&&s&&(u.current=s(e,{visualState:t,parent:a,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,f=h.useContext(Fk);d&&!d.projection&&r&&(d.type==="html"||d.type==="svg")&&o8(u.current,n,r,f);const m=h.useRef(!1);h.useInsertionEffect(()=>{d&&m.current&&d.update(n,l)});const x=n[Ok],j=h.useRef(!!x&&!((v=window.MotionHandoffIsComplete)!=null&&v.call(window,x))&&((y=window.MotionHasOptimisedAnimation)==null?void 0:y.call(window,x)));return M6(()=>{d&&(m.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),j.current&&d.animationState&&d.animationState.animateChanges())}),h.useEffect(()=>{d&&(!j.current&&d.animationState&&d.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{var p;(p=window.MotionHandoffMarkAsComplete)==null||p.call(window,x)}),j.current=!1))}),d}function o8(e,t,n,s){const{layoutId:r,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Bk(e.parent)),e.projection.setOptions({layoutId:r,layout:a,alwaysMeasureLayout:!!o||l&&Xa(l),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:s,crossfade:d,layoutScroll:c,layoutRoot:u})}function Bk(e){if(e)return e.options.allowProjection!==!1?e.projection:Bk(e.parent)}function wm(e,{forwardMotionProps:t=!1}={},n,s){n&&$z(n);const r=Jv(e)?n8:t8;function a(l,c){let u;const d={...h.useContext(Ek),...l,layoutId:l8(l)},{isStatic:f}=d,m=Fz(l),x=r(l,f);if(!f&&Nv){c8();const j=u8(d);u=j.MeasureLayout,m.visualElement=a8(e,x,d,s,j.ProjectionNode)}return i.jsxs(sh.Provider,{value:m,children:[u&&m.visualElement?i.jsx(u,{visualElement:m.visualElement,...d}):null,Jz(e,l,r8(x,m.visualElement,c),x,f,t)]})}a.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=h.forwardRef(a);return o[s8]=e,o}function l8({layoutId:e}){const t=h.useContext(LT).id;return t&&e!==void 0?t+"-"+e:e}function c8(e,t){h.useContext(Tk).strict}function u8(e){const{drag:t,layout:n}=$o;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function d8(e,t){if(typeof Proxy>"u")return wm;const n=new Map,s=(a,o)=>wm(a,o,e,t),r=(a,o)=>s(a,o);return new Proxy(r,{get:(a,o)=>o==="create"?s:(n.has(o)||n.set(o,wm(o,void 0,e,t)),n.get(o))})}function Uk({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function f8({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function h8(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function jm(e){return e===void 0||e===1}function vg({scale:e,scaleX:t,scaleY:n}){return!jm(e)||!jm(t)||!jm(n)}function Hi(e){return vg(e)||Vk(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Vk(e){return gj(e.x)||gj(e.y)}function gj(e){return e&&e!=="0%"}function ef(e,t,n){const s=e-n,r=t*s;return n+r}function xj(e,t,n,s,r){return r!==void 0&&(e=ef(e,r,s)),ef(e,n,s)+t}function yg(e,t=0,n=1,s,r){e.min=xj(e.min,t,n,s,r),e.max=xj(e.max,t,n,s,r)}function zk(e,{x:t,y:n}){yg(e.x,t.translate,t.scale,t.originPoint),yg(e.y,n.translate,n.scale,n.originPoint)}const vj=.999999999999,yj=1.0000000000001;function m8(e,t,n,s=!1){const r=n.length;if(!r)return;t.x=t.y=1;let a,o;for(let l=0;l<r;l++){a=n[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Za(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,zk(e,o)),s&&Hi(a.latestValues)&&Za(e,a.latestValues))}t.x<yj&&t.x>vj&&(t.x=1),t.y<yj&&t.y>vj&&(t.y=1)}function Ja(e,t){e.min=e.min+t,e.max=e.max+t}function wj(e,t,n,s,r=.5){const a=ht(e.min,e.max,r);yg(e,t,n,a,s)}function Za(e,t){wj(e.x,t.x,t.scaleX,t.scale,t.originX),wj(e.y,t.y,t.scaleY,t.scale,t.originY)}function Wk(e,t){return Uk(h8(e.getBoundingClientRect(),t))}function p8(e,t,n){const s=Wk(e,n),{scroll:r}=t;return r&&(Ja(s.x,r.offset.x),Ja(s.y,r.offset.y)),s}const jj=()=>({translate:0,scale:1,origin:0,originPoint:0}),eo=()=>({x:jj(),y:jj()}),bj=()=>({min:0,max:0}),bt=()=>({x:bj(),y:bj()}),wg={current:null},Hk={current:!1};function g8(){if(Hk.current=!0,!!Nv)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>wg.current=e.matches;e.addEventListener("change",t),t()}else wg.current=!1}const x8=new WeakMap;function v8(e,t,n){for(const s in t){const r=t[s],a=n[s];if(vn(r))e.addValue(s,r);else if(vn(a))e.addValue(s,Do(r,{owner:e}));else if(a!==r)if(e.hasValue(s)){const o=e.getValue(s);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=e.getStaticValue(s);e.addValue(s,Do(o!==void 0?o:r,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const _j=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class y8{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:r,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=zv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Un.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,ut.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=ih(n),this.isVariantNode=Pk(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in f){const x=f[m];c[m]!==void 0&&vn(x)&&x.set(c[m],!1)}}mount(t){this.current=t,x8.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),Hk.current||g8(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:wg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),_i(this.notifyUpdate),_i(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=Zo.has(t);s&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&ut.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{r(),a(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in $o){const n=$o[t];if(!n)continue;const{isEnabled:s,Feature:r}=n;if(!this.features[t]&&r&&s(this.props)&&(this.features[t]=new r(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):bt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<_j.length;s++){const r=_j[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const a="on"+r,o=t[a];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=v8(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=Do(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(OT(s)||BT(s))?s=parseFloat(s):!Az(s)&&Si.test(n)&&(s=jk(t,n)),this.setBaseTarget(t,vn(s)?s.get():s)),vn(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var a;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const o=Zv(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);o&&(s=o[t])}if(n&&s!==void 0)return s;const r=this.getBaseTargetFromProps(this.props,t);return r!==void 0&&!vn(r)?r:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Rv),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){qv.render(this.render)}}class qk extends y8{constructor(){super(...arguments),this.KeyframeResolver=yz}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;vn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Kk(e,{style:t,vars:n},s,r){const a=e.style;let o;for(o in t)a[o]=t[o];r==null||r.applyProjectionStyles(a,s);for(o in n)a.setProperty(o,n[o])}function w8(e){return window.getComputedStyle(e)}class j8 extends qk{constructor(){super(...arguments),this.type="html",this.renderInstance=Kk}readValueFromInstance(t,n){var s;if(Zo.has(n))return(s=this.projection)!=null&&s.isProjecting?fg(n):OV(t,n);{const r=w8(t),a=($v(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Wk(t,n)}build(t,n,s){Qv(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return ey(t,n,s)}}const Gk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function b8(e,t,n,s){Kk(e,t,void 0,s);for(const r in t.attrs)e.setAttribute(Gk.has(r)?r:ty(r),t.attrs[r])}class _8 extends qk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=bt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Zo.has(n)){const s=wk(n);return s&&s.default||0}return n=Gk.has(n)?n:ty(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return Lk(t,n,s)}build(t,n,s){Dk(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,r){b8(t,n,s,r)}mount(t){this.isSVGTag=Mk(t.tagName),super.mount(t)}}const S8=(e,t)=>Jv(e)?new _8(t):new j8(t,{allowProjection:e!==h.Fragment});function Cc(e,t,n){const s=e.getProps();return Zv(s,t,n!==void 0?n:s.custom,e)}const jg=e=>Array.isArray(e);function N8(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Do(n))}function C8(e){return jg(e)?e[e.length-1]||0:e}function E8(e,t){const n=Cc(e,t);let{transitionEnd:s={},transition:r={},...a}=n||{};a={...a,...s};for(const o in a){const l=C8(a[o]);N8(e,o,l)}}function T8(e){return!!(vn(e)&&e.add)}function bg(e,t){const n=e.getValue("willChange");if(T8(n))return n.add(t);if(!n&&$r.WillChange){const s=new $r.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function Yk(e){return e.props[Ok]}const k8=e=>e!==null;function P8(e,{repeat:t,repeatType:n="loop"},s){const r=e.filter(k8),a=t&&n!=="loop"&&t%2===1?0:r.length-1;return r[a]}const R8={type:"spring",stiffness:500,damping:25,restSpeed:10},A8=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),D8={type:"keyframes",duration:.8},$8={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},M8=(e,{keyframes:t})=>t.length>2?D8:Zo.has(e)?e.startsWith("scale")?A8(t[1]):R8:$8;function I8({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:r,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const ny=(e,t,n,s={},r,a)=>o=>{const l=Wv(s,e)||{},c=l.delay||s.delay||0;let{elapsed:u=0}=s;u=u-or(c);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:m=>{t.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:r};I8(l)||Object.assign(d,M8(e,d)),d.duration&&(d.duration=or(d.duration)),d.repeatDelay&&(d.repeatDelay=or(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),($r.instantAnimations||$r.skipAnimations)&&(f=!0,d.duration=0,d.delay=0),d.allowFlatten=!l.type&&!l.ease,f&&!a&&t.get()!==void 0){const m=P8(d.keyframes,l);if(m!==void 0){ut.update(()=>{d.onUpdate(m),d.onComplete()});return}}return l.isSync?new Vv(d):new oz(d)};function L8({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function Qk(e,t,{delay:n=0,transitionOverride:s,type:r}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:o,...l}=t;s&&(a=s);const c=[],u=r&&e.animationState&&e.animationState.getState()[r];for(const d in l){const f=e.getValue(d,e.latestValues[d]??null),m=l[d];if(m===void 0||u&&L8(u,d))continue;const x={delay:n,...Wv(a||{},d)},j=f.get();if(j!==void 0&&!f.isAnimating&&!Array.isArray(m)&&m===j&&!x.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const p=Yk(e);if(p){const g=window.MotionHandoffAnimation(p,d,ut);g!==null&&(x.startTime=g,v=!0)}}bg(e,d),f.start(ny(d,f,m,e.shouldReduceMotion&&xk.has(d)?{type:!1}:x,e,v));const y=f.animation;y&&c.push(y)}return o&&Promise.all(c).then(()=>{ut.update(()=>{o&&E8(e,o)})}),c}function _g(e,t,n={}){var c;const s=Cc(e,t,n.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:r=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(r=n.transitionOverride);const a=s?()=>Promise.all(Qk(e,s,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:m}=r;return O8(e,t,u,d,f,m,n)}:()=>Promise.resolve(),{when:l}=r;if(l){const[u,d]=l==="beforeChildren"?[a,o]:[o,a];return u().then(()=>d())}else return Promise.all([a(),o(n.delay)])}function O8(e,t,n=0,s=0,r=0,a=1,o){const l=[],c=e.variantChildren.size,u=(c-1)*r,d=typeof s=="function",f=d?m=>s(m,c):a===1?(m=0)=>m*r:(m=0)=>u-m*r;return Array.from(e.variantChildren).sort(F8).forEach((m,x)=>{m.notify("AnimationStart",t),l.push(_g(m,t,{...o,delay:n+(d?0:s)+f(x)}).then(()=>m.notify("AnimationComplete",t)))}),Promise.all(l)}function F8(e,t){return e.sortNodePosition(t)}function B8(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const r=t.map(a=>_g(e,a,n));s=Promise.all(r)}else if(typeof t=="string")s=_g(e,t,n);else{const r=typeof t=="function"?Cc(e,t,n.custom):t;s=Promise.all(Qk(e,r,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function Xk(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const U8=Yv.length;function Jk(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?Jk(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<U8;n++){const s=Yv[n],r=e.props[s];(Sc(r)||r===!1)&&(t[s]=r)}return t}const V8=[...Gv].reverse(),z8=Gv.length;function W8(e){return t=>Promise.all(t.map(({animation:n,options:s})=>B8(e,n,s)))}function H8(e){let t=W8(e),n=Sj(),s=!0;const r=c=>(u,d)=>{var m;const f=Cc(e,d,c==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);if(f){const{transition:x,transitionEnd:j,...v}=f;u={...u,...v,...j}}return u};function a(c){t=c(e)}function o(c){const{props:u}=e,d=Jk(e.parent)||{},f=[],m=new Set;let x={},j=1/0;for(let y=0;y<z8;y++){const p=V8[y],g=n[p],w=u[p]!==void 0?u[p]:d[p],b=Sc(w),S=p===c?g.isActive:null;S===!1&&(j=y);let T=w===d[p]&&w!==u[p]&&b;if(T&&s&&e.manuallyAnimateOnMount&&(T=!1),g.protectedKeys={...x},!g.isActive&&S===null||!w&&!g.prevProp||rh(w)||typeof w=="boolean")continue;const N=q8(g.prevProp,w);let C=N||p===c&&g.isActive&&!T&&b||y>j&&b,R=!1;const D=Array.isArray(w)?w:[w];let k=D.reduce(r(p),{});S===!1&&(k={});const{prevResolvedValues:$={}}=g,I={...$,...k},B=V=>{C=!0,m.has(V)&&(R=!0,m.delete(V)),g.needsAnimating[V]=!0;const A=e.getValue(V);A&&(A.liveStyle=!1)};for(const V in I){const A=k[V],_=$[V];if(x.hasOwnProperty(V))continue;let E=!1;jg(A)&&jg(_)?E=!Xk(A,_):E=A!==_,E?A!=null?B(V):m.add(V):A!==void 0&&m.has(V)?B(V):g.protectedKeys[V]=!0}g.prevProp=w,g.prevResolvedValues=k,g.isActive&&(x={...x,...k}),s&&e.blockInitialAnimation&&(C=!1),C&&(!(T&&N)||R)&&f.push(...D.map(V=>({animation:V,options:{type:p}})))}if(m.size){const y={};if(typeof u.initial!="boolean"){const p=Cc(e,Array.isArray(u.initial)?u.initial[0]:u.initial);p&&p.transition&&(y.transition=p.transition)}m.forEach(p=>{const g=e.getBaseTarget(p),w=e.getValue(p);w&&(w.liveStyle=!0),y[p]=g??null}),f.push({animation:y})}let v=!!f.length;return s&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(v=!1),s=!1,v?t(f):Promise.resolve()}function l(c,u){var f;if(n[c].isActive===u)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(m=>{var x;return(x=m.animationState)==null?void 0:x.setActive(c,u)}),n[c].isActive=u;const d=o(c);for(const m in n)n[m].protectedKeys={};return d}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>n,reset:()=>{n=Sj(),s=!0}}}function q8(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Xk(t,e):!1}function Ui(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Sj(){return{animate:Ui(!0),whileInView:Ui(),whileHover:Ui(),whileTap:Ui(),whileDrag:Ui(),whileFocus:Ui(),exit:Ui()}}class Di{constructor(t){this.isMounted=!1,this.node=t}update(){}}class K8 extends Di{constructor(t){super(t),t.animationState||(t.animationState=H8(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();rh(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let G8=0;class Y8 extends Di{constructor(){super(...arguments),this.id=G8++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const r=this.node.animationState.setActive("exit",!t);n&&!t&&r.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Q8={animation:{Feature:K8},exit:{Feature:Y8}};function Ec(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function Xc(e){return{point:{x:e.pageX,y:e.pageY}}}const X8=e=>t=>Kv(t)&&e(t,Xc(t));function zl(e,t,n,s){return Ec(e,t,X8(n),s)}const Zk=1e-4,J8=1-Zk,Z8=1+Zk,eP=.01,eW=0-eP,tW=0+eP;function Tn(e){return e.max-e.min}function nW(e,t,n){return Math.abs(e-t)<=n}function Nj(e,t,n,s=.5){e.origin=s,e.originPoint=ht(t.min,t.max,e.origin),e.scale=Tn(n)/Tn(t),e.translate=ht(n.min,n.max,e.origin)-e.originPoint,(e.scale>=J8&&e.scale<=Z8||isNaN(e.scale))&&(e.scale=1),(e.translate>=eW&&e.translate<=tW||isNaN(e.translate))&&(e.translate=0)}function Wl(e,t,n,s){Nj(e.x,t.x,n.x,s?s.originX:void 0),Nj(e.y,t.y,n.y,s?s.originY:void 0)}function Cj(e,t,n){e.min=n.min+t.min,e.max=e.min+Tn(t)}function sW(e,t,n){Cj(e.x,t.x,n.x),Cj(e.y,t.y,n.y)}function Ej(e,t,n){e.min=t.min-n.min,e.max=e.min+Tn(t)}function Hl(e,t,n){Ej(e.x,t.x,n.x),Ej(e.y,t.y,n.y)}function us(e){return[e("x"),e("y")]}const tP=({current:e})=>e?e.ownerDocument.defaultView:null,Tj=(e,t)=>Math.abs(e-t);function rW(e,t){const n=Tj(e.x,t.x),s=Tj(e.y,t.y);return Math.sqrt(n**2+s**2)}class nP{constructor(t,n,{transformPagePoint:s,contextWindow:r=window,dragSnapToOrigin:a=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=_m(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,j=rW(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!j)return;const{point:v}=m,{timestamp:y}=nn;this.history.push({...v,timestamp:y});const{onStart:p,onMove:g}=this.handlers;x||(p&&p(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,m)},this.handlePointerMove=(m,x)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=bm(x,this.transformPagePoint),ut.update(this.updatePoint,!0)},this.handlePointerUp=(m,x)=>{this.end();const{onEnd:j,onSessionEnd:v,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=_m(m.type==="pointercancel"?this.lastMoveEventInfo:bm(x,this.transformPagePoint),this.history);this.startEvent&&j&&j(m,p),v&&v(m,p)},!Kv(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=o,this.contextWindow=r||window;const l=Xc(t),c=bm(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=nn;this.history=[{...u,timestamp:d}];const{onSessionStart:f}=n;f&&f(t,_m(c,this.history)),this.removeListeners=Gc(zl(this.contextWindow,"pointermove",this.handlePointerMove),zl(this.contextWindow,"pointerup",this.handlePointerUp),zl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),_i(this.updatePoint)}}function bm(e,t){return t?{point:t(e.point)}:e}function kj(e,t){return{x:e.x-t.x,y:e.y-t.y}}function _m({point:e},t){return{point:e,delta:kj(e,sP(t)),offset:kj(e,iW(t)),velocity:aW(t,.1)}}function iW(e){return e[0]}function sP(e){return e[e.length-1]}function aW(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const r=sP(e);for(;n>=0&&(s=e[n],!(r.timestamp-s.timestamp>or(t)));)n--;if(!s)return{x:0,y:0};const a=lr(r.timestamp-s.timestamp);if(a===0)return{x:0,y:0};const o={x:(r.x-s.x)/a,y:(r.y-s.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function oW(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?ht(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?ht(n,e,s.max):Math.min(e,n)),e}function Pj(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function lW(e,{top:t,left:n,bottom:s,right:r}){return{x:Pj(e.x,n,r),y:Pj(e.y,t,s)}}function Rj(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function cW(e,t){return{x:Rj(e.x,t.x),y:Rj(e.y,t.y)}}function uW(e,t){let n=.5;const s=Tn(e),r=Tn(t);return r>s?n=jc(t.min,t.max-s,e.min):s>r&&(n=jc(e.min,e.max-r,t.min)),Dr(0,1,n)}function dW(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Sg=.35;function fW(e=Sg){return e===!1?e=0:e===!0&&(e=Sg),{x:Aj(e,"left","right"),y:Aj(e,"top","bottom")}}function Aj(e,t,n){return{min:Dj(e,t),max:Dj(e,n)}}function Dj(e,t){return typeof e=="number"?e:e[t]||0}const hW=new WeakMap;class mW{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=bt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=f=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Xc(f).point)},o=(f,m)=>{const{drag:x,dragPropagation:j,onDragStart:v}=this.getProps();if(x&&!j&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Sz(x),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),us(p=>{let g=this.getAxisMotionValue(p).get()||0;if(cr.test(g)){const{projection:w}=this.visualElement;if(w&&w.layout){const b=w.layout.layoutBox[p];b&&(g=Tn(b)*(parseFloat(g)/100))}}this.originPoint[p]=g}),v&&ut.postRender(()=>v(f,m)),bg(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},l=(f,m)=>{this.latestPointerEvent=f,this.latestPanInfo=m;const{dragPropagation:x,dragDirectionLock:j,onDirectionLock:v,onDrag:y}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:p}=m;if(j&&this.currentDirection===null){this.currentDirection=pW(p),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",m.point,p),this.updateAxis("y",m.point,p),this.visualElement.render(),y&&y(f,m)},c=(f,m)=>{this.latestPointerEvent=f,this.latestPanInfo=m,this.stop(f,m),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>us(f=>{var m;return this.getAnimationState(f)==="paused"&&((m=this.getAxisMotionValue(f).animation)==null?void 0:m.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new nP(t,{onSessionStart:a,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:s,contextWindow:tP(this.visualElement)})}stop(t,n){const s=t||this.latestPointerEvent,r=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!r||!s)return;const{velocity:o}=r;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&ut.postRender(()=>l(s,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:r}=this.getProps();if(!s||!$u(t,r,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(o=oW(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var a;const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,r=this.constraints;t&&Xa(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=lW(s.layoutBox,t):this.constraints=!1,this.elastic=fW(n),r!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&us(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=dW(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Xa(t))return!1;const s=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const a=p8(s,r.root,this.visualElement.getTransformPagePoint());let o=cW(r.layout.layoutBox,a);if(n){const l=n(f8(o));this.hasMutatedConstraints=!!l,l&&(o=Uk(l))}return o}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:r,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=us(d=>{if(!$u(d,n,this.currentDirection))return;let f=c&&c[d]||{};o&&(f={min:0,max:0});const m=r?200:1e6,x=r?40:1e7,j={type:"inertia",velocity:s?t[d]:0,bounceStiffness:m,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(d,j)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return bg(this.visualElement,t),s.start(ny(t,s,0,n,this.visualElement,!1))}stopAnimation(){us(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){us(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),r=s[n];return r||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){us(n=>{const{drag:s}=this.getProps();if(!$u(n,s,this.currentDirection))return;const{projection:r}=this.visualElement,a=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:l}=r.layout.layoutBox[n];a.set(t[n]-ht(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Xa(n)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};us(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();r[o]=uW({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),us(o=>{if(!$u(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(ht(c,u,r[o]))})}addListeners(){if(!this.visualElement.current)return;hW.set(this.visualElement,this);const t=this.visualElement.current,n=zl(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();Xa(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,a=r.addEventListener("measure",s);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),ut.read(s);const o=Ec(window,"resize",()=>this.scalePositionWithinConstraints()),l=r.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(us(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),n(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:a=!1,dragElastic:o=Sg,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:r,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function $u(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function pW(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class gW extends Di{constructor(t){super(t),this.removeGroupControls=vs,this.removeListeners=vs,this.controls=new mW(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||vs}unmount(){this.removeGroupControls(),this.removeListeners()}}const $j=e=>(t,n)=>{e&&ut.postRender(()=>e(t,n))};class xW extends Di{constructor(){super(...arguments),this.removePointerDownListener=vs}onPointerDown(t){this.session=new nP(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:tP(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:$j(t),onStart:$j(n),onMove:s,onEnd:(a,o)=>{delete this.session,r&&ut.postRender(()=>r(a,o))}}}mount(){this.removePointerDownListener=zl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const rd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Mj(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const pl={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(je.test(e))e=parseFloat(e);else return e;const n=Mj(e,t.target.x),s=Mj(e,t.target.y);return`${n}% ${s}%`}},vW={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,r=Si.parse(e);if(r.length>5)return s;const a=Si.createTransformer(e),o=typeof r[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;r[0+o]/=l,r[1+o]/=c;const u=ht(l,c,.5);return typeof r[2+o]=="number"&&(r[2+o]/=u),typeof r[3+o]=="number"&&(r[3+o]/=u),a(r)}};let Ij=!1;class yW extends h.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:r}=this.props,{projection:a}=t;Bz(wW),a&&(n.group&&n.group.add(a),s&&s.register&&r&&s.register(a),Ij&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),rd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:r,isPresent:a}=this.props,{projection:o}=s;return o&&(o.isPresent=a,Ij=!0,r||t.layoutDependency!==n||n===void 0||t.isPresent!==a?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||ut.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),qv.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:r}=t;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function rP(e){const[t,n]=Dz(),s=h.useContext(LT);return i.jsx(yW,{...e,layoutGroup:s,switchLayoutGroup:h.useContext(Fk),isPresent:t,safeToRemove:n})}const wW={borderRadius:{...pl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:pl,borderTopRightRadius:pl,borderBottomLeftRadius:pl,borderBottomRightRadius:pl,boxShadow:vW};function jW(e,t,n){const s=vn(e)?e:Do(e);return s.start(ny("",s,t,n)),s.animation}const bW=(e,t)=>e.depth-t.depth;class _W{constructor(){this.children=[],this.isDirty=!1}add(t){Ev(this.children,t),this.isDirty=!0}remove(t){Tv(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(bW),this.isDirty=!1,this.children.forEach(t)}}function SW(e,t){const n=Un.now(),s=({timestamp:r})=>{const a=r-n;a>=t&&(_i(s),e(a-t))};return ut.setup(s,!0),()=>_i(s)}const iP=["TopLeft","TopRight","BottomLeft","BottomRight"],NW=iP.length,Lj=e=>typeof e=="string"?parseFloat(e):e,Oj=e=>typeof e=="number"||je.test(e);function CW(e,t,n,s,r,a){r?(e.opacity=ht(0,n.opacity??1,EW(s)),e.opacityExit=ht(t.opacity??1,0,TW(s))):a&&(e.opacity=ht(t.opacity??1,n.opacity??1,s));for(let o=0;o<NW;o++){const l=`border${iP[o]}Radius`;let c=Fj(t,l),u=Fj(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Oj(c)===Oj(u)?(e[l]=Math.max(ht(Lj(c),Lj(u),s),0),(cr.test(u)||cr.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=ht(t.rotate||0,n.rotate||0,s))}function Fj(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const EW=aP(0,.5,GT),TW=aP(.5,.95,vs);function aP(e,t,n){return s=>s<e?0:s>t?1:n(jc(e,t,s))}function Bj(e,t){e.min=t.min,e.max=t.max}function cs(e,t){Bj(e.x,t.x),Bj(e.y,t.y)}function Uj(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Vj(e,t,n,s,r){return e-=t,e=ef(e,1/n,s),r!==void 0&&(e=ef(e,1/r,s)),e}function kW(e,t=0,n=1,s=.5,r,a=e,o=e){if(cr.test(t)&&(t=parseFloat(t),t=ht(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=ht(a.min,a.max,s);e===a&&(l-=t),e.min=Vj(e.min,t,n,l,r),e.max=Vj(e.max,t,n,l,r)}function zj(e,t,[n,s,r],a,o){kW(e,t[n],t[s],t[r],t.scale,a,o)}const PW=["x","scaleX","originX"],RW=["y","scaleY","originY"];function Wj(e,t,n,s){zj(e.x,t,PW,n?n.x:void 0,s?s.x:void 0),zj(e.y,t,RW,n?n.y:void 0,s?s.y:void 0)}function Hj(e){return e.translate===0&&e.scale===1}function oP(e){return Hj(e.x)&&Hj(e.y)}function qj(e,t){return e.min===t.min&&e.max===t.max}function AW(e,t){return qj(e.x,t.x)&&qj(e.y,t.y)}function Kj(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function lP(e,t){return Kj(e.x,t.x)&&Kj(e.y,t.y)}function Gj(e){return Tn(e.x)/Tn(e.y)}function Yj(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class DW{constructor(){this.members=[]}add(t){Ev(this.members,t),t.scheduleRender()}remove(t){if(Tv(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(r=>t===r);if(n===0)return!1;let s;for(let r=n;r>=0;r--){const a=this.members[r];if(a.isPresent!==!1){s=a;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;r===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function $W(e,t,n){let s="";const r=e.x.translate/t.x,a=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((r||a||o)&&(s=`translate3d(${r}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:m,skewX:x,skewY:j}=n;u&&(s=`perspective(${u}px) ${s}`),d&&(s+=`rotate(${d}deg) `),f&&(s+=`rotateX(${f}deg) `),m&&(s+=`rotateY(${m}deg) `),x&&(s+=`skewX(${x}deg) `),j&&(s+=`skewY(${j}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(s+=`scale(${l}, ${c})`),s||"none"}const Sm=["","X","Y","Z"],MW=1e3;let IW=0;function Nm(e,t,n,s){const{latestValues:r}=t;r[e]&&(n[e]=r[e],t.setStaticValue(e,0),s&&(s[e]=0))}function cP(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Yk(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ut,!(r||a))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&cP(s)}function uP({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(o={},l=t==null?void 0:t()){this.id=IW++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(FW),this.nodes.forEach(zW),this.nodes.forEach(WW),this.nodes.forEach(BW)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new _W)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Rv),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=Ck(o)&&!Pz(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let d,f=0;const m=()=>this.root.updateBlockedByResize=!1;ut.read(()=>{f=window.innerWidth}),e(o,()=>{const x=window.innerWidth;x!==f&&(f=x,this.root.updateBlockedByResize=!0,d&&d(),d=SW(m,250),rd.hasAnimatedSinceResize&&(rd.hasAnimatedSinceResize=!1,this.nodes.forEach(Jj)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:m,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||u.getDefaultTransition()||YW,{onLayoutAnimationStart:v,onLayoutAnimationComplete:y}=u.getProps(),p=!this.targetLayout||!lP(this.targetLayout,x),g=!f&&m;if(this.options.layoutRoot||this.resumeFrom||g||f&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...Wv(j,"layout"),onPlay:v,onComplete:y};(u.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(d,g)}else f||Jj(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),_i(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(HW),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cP(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Qj);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Xj);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(VW),this.nodes.forEach(LW),this.nodes.forEach(OW)):this.nodes.forEach(Xj),this.clearAllSnapshots();const l=Un.now();nn.delta=Dr(0,1e3/60,l-nn.timestamp),nn.timestamp=l,nn.isProcessing=!0,mm.update.process(nn),mm.preRender.process(nn),mm.render.process(nn),nn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,qv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(UW),this.sharedNodes.forEach(qW)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ut.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ut.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Tn(this.snapshot.measuredBox.x)&&!Tn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=bt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!oP(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&this.instance&&(l||Hi(this.latestValues)||d)&&(r(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),QW(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return bt();const l=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(XW))){const{scroll:d}=this.root;d&&(Ja(l.x,d.offset.x),Ja(l.y,d.offset.y))}return l}removeElementScroll(o){var c;const l=bt();if(cs(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:m}=d;d!==this.root&&f&&m.layoutScroll&&(f.wasRoot&&cs(l,o),Ja(l.x,f.offset.x),Ja(l.y,f.offset.y))}return l}applyTransform(o,l=!1){const c=bt();cs(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Za(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Hi(d.latestValues)&&Za(c,d.latestValues)}return Hi(this.latestValues)&&Za(c,this.latestValues),c}removeTransform(o){const l=bt();cs(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Hi(u.latestValues))continue;vg(u.latestValues)&&u.updateSnapshot();const d=bt(),f=u.measurePageBox();cs(d,f),Wj(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Hi(this.latestValues)&&Wj(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==nn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var m;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=nn.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bt(),this.relativeTargetOrigin=bt(),Hl(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),cs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=bt(),this.targetWithTransforms=bt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),sW(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):cs(this.target,this.layout.layoutBox),zk(this.target,this.targetDelta)):cs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bt(),this.relativeTargetOrigin=bt(),Hl(this.relativeTargetOrigin,this.target,x.target),cs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||vg(this.parent.latestValues)||Vk(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var j;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(j=this.parent)!=null&&j.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===nn.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;cs(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;m8(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=bt());const{target:x}=o;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Uj(this.prevProjectionDelta.x,this.projectionDelta.x),Uj(this.prevProjectionDelta.y,this.projectionDelta.y)),Wl(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!Yj(this.projectionDelta.x,this.prevProjectionDelta.x)||!Yj(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=eo(),this.projectionDelta=eo(),this.projectionDeltaWithTransform=eo()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=eo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=bt(),x=c?c.source:void 0,j=this.layout?this.layout.source:void 0,v=x!==j,y=this.getStack(),p=!y||y.members.length<=1,g=!!(v&&!p&&this.options.crossfade===!0&&!this.path.some(GW));this.animationProgress=0;let w;this.mixTargetDelta=b=>{const S=b/1e3;Zj(f.x,o.x,S),Zj(f.y,o.y,S),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Hl(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),KW(this.relativeTarget,this.relativeTargetOrigin,m,S),w&&AW(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=bt()),cs(w,this.relativeTarget)),v&&(this.animationValues=d,CW(d,u,this.latestValues,S,g,p)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(_i(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ut.update(()=>{rd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Do(0)),this.currentAnimation=jW(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(MW),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&dP(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||bt();const f=Tn(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const m=Tn(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+m}cs(l,c),Za(l,d),Wl(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new DW),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&Nm("z",o,u,this.animationValues);for(let d=0;d<Sm.length;d++)Nm(`rotate${Sm[d]}`,o,u,this.animationValues),Nm(`skew${Sm[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=sd(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=sd(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Hi(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=$W(this.projectionDeltaWithTransform,this.treeScale,d);c&&(f=c(d,f)),o.transform=f;const{x:m,y:x}=this.projectionDelta;o.transformOrigin=`${m.origin*100}% ${x.origin*100}% 0`,u.animationValues?o.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const j in Nc){if(d[j]===void 0)continue;const{correct:v,applyTo:y,isCSSVariable:p}=Nc[j],g=f==="none"?d[j]:v(d[j],u);if(y){const w=y.length;for(let b=0;b<w;b++)o[y[b]]=g}else p?this.options.visualElement.renderState.vars[j]=g:o[j]=g}this.options.layoutId&&(o.pointerEvents=u===this?sd(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(Qj),this.root.sharedNodes.clear()}}}function LW(e){e.updateLayout()}function OW(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=e.layout,{animationType:a}=e.options,o=t.source!==e.layout.source;a==="size"?us(f=>{const m=o?t.measuredBox[f]:t.layoutBox[f],x=Tn(m);m.min=s[f].min,m.max=m.min+x}):dP(a,t.layoutBox,s)&&us(f=>{const m=o?t.measuredBox[f]:t.layoutBox[f],x=Tn(s[f]);m.max=m.min+x,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+x)});const l=eo();Wl(l,s,t.layoutBox);const c=eo();o?Wl(c,e.applyTransform(r,!0),t.measuredBox):Wl(c,s,t.layoutBox);const u=!oP(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:x}=f;if(m&&x){const j=bt();Hl(j,t.layoutBox,m.layoutBox);const v=bt();Hl(v,s,x.layoutBox),lP(j,v)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=j,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function FW(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function BW(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function UW(e){e.clearSnapshot()}function Qj(e){e.clearMeasurements()}function Xj(e){e.isLayoutDirty=!1}function VW(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Jj(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function zW(e){e.resolveTargetDelta()}function WW(e){e.calcProjection()}function HW(e){e.resetSkewAndRotation()}function qW(e){e.removeLeadSnapshot()}function Zj(e,t,n){e.translate=ht(t.translate,0,n),e.scale=ht(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function eb(e,t,n,s){e.min=ht(t.min,n.min,s),e.max=ht(t.max,n.max,s)}function KW(e,t,n,s){eb(e.x,t.x,n.x,s),eb(e.y,t.y,n.y,s)}function GW(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const YW={duration:.45,ease:[.4,0,.1,1]},tb=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),nb=tb("applewebkit/")&&!tb("chrome/")?Math.round:vs;function sb(e){e.min=nb(e.min),e.max=nb(e.max)}function QW(e){sb(e.x),sb(e.y)}function dP(e,t,n){return e==="position"||e==="preserve-aspect"&&!nW(Gj(t),Gj(n),.2)}function XW(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const JW=uP({attachResizeListener:(e,t)=>Ec(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Cm={current:void 0},fP=uP({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Cm.current){const e=new JW({});e.mount(window),e.setOptions({layoutScroll:!0}),Cm.current=e}return Cm.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),ZW={pan:{Feature:xW},drag:{Feature:gW,ProjectionNode:fP,MeasureLayout:rP}};function rb(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,a=s[r];a&&ut.postRender(()=>a(t,Xc(t)))}class e7 extends Di{mount(){const{current:t}=this.node;t&&(this.unmount=Nz(t,(n,s)=>(rb(this.node,s,"Start"),r=>rb(this.node,r,"End"))))}unmount(){}}class t7 extends Di{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Gc(Ec(this.node.current,"focus",()=>this.onFocus()),Ec(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ib(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),a=s[r];a&&ut.postRender(()=>a(t,Xc(t)))}class n7 extends Di{mount(){const{current:t}=this.node;t&&(this.unmount=kz(t,(n,s)=>(ib(this.node,s,"Start"),(r,{success:a})=>ib(this.node,r,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ng=new WeakMap,Em=new WeakMap,s7=e=>{const t=Ng.get(e.target);t&&t(e)},r7=e=>{e.forEach(s7)};function i7({root:e,...t}){const n=e||document;Em.has(n)||Em.set(n,{});const s=Em.get(n),r=JSON.stringify(t);return s[r]||(s[r]=new IntersectionObserver(r7,{root:e,...t})),s[r]}function a7(e,t,n){const s=i7(t);return Ng.set(e,n),s.observe(e),()=>{Ng.delete(e),s.unobserve(e)}}const o7={some:0,all:1};class l7 extends Di{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:r="some",once:a}=t,o={root:n?n.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:o7[r]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),m=u?d:f;m&&m(c)};return a7(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(c7(t,n))&&this.startObserver()}unmount(){}}function c7({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const u7={inView:{Feature:l7},tap:{Feature:n7},focus:{Feature:t7},hover:{Feature:e7}},d7={layout:{ProjectionNode:fP,MeasureLayout:rP}},f7={...Q8,...u7,...ZW,...d7},Mu=d8(f7,S8),h7=()=>{const e=zo();return h.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:i.jsxs(Mu.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center space-y-6 p-8",children:[i.jsx(Mu.div,{initial:{scale:.5},animate:{scale:1},transition:{duration:.5,delay:.2},children:i.jsx("h1",{className:"text-8xl font-bold text-primary",children:"404"})}),i.jsxs(Mu.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},className:"space-y-4",children:[i.jsx("h2",{className:"text-2xl font-semibold tracking-tight",children:"Page Not Found"}),i.jsx("p",{className:"text-muted-foreground",children:"Sorry, the page you are looking for does not exist or has been removed."})]}),i.jsx(Mu.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.6},children:i.jsx(te,{asChild:!0,variant:"default",size:"lg",children:i.jsx("a",{href:"/",children:"Back to Home"})})})]})})};class Ms{static convertEzSiteOptions(t){const n={};return t.PageNo&&t.PageSize&&(n.offset=(t.PageNo-1)*t.PageSize,n.limit=t.PageSize),t.OrderByField&&(n.orderBy={column:t.OrderByField,ascending:t.IsAsc!==!1}),t.Filters&&Array.isArray(t.Filters)&&(n.filters=t.Filters.map(s=>({column:s.name,operator:Ms.convertEzSiteOperator(s.op),value:s.value}))),n}static convertEzSiteOperator(t){return{Equal:"eq",NotEqual:"neq",GreaterThan:"gt",GreaterThanOrEqual:"gte",LessThan:"lt",LessThanOrEqual:"lte",Contains:"ilike",In:"in",IsNull:"is",IsNotNull:"not"}[t]||"eq"}static getTableName(t){return{12818:"seasons",12820:"conferences",12852:"teams",12853:"team_conference_junction",13329:"matchups",13768:"team_records",12870:"players",draft_results:"draft_results",transactions:"transactions",playoff_bracket:"playoff_bracket",matchup_admin_override:"matchup_admin_override",team_rosters:"team_rosters"}[t.toString()]||t.toString()}static async tablePage(t,n={}){const s=Ms.getTableName(t),r=Ms.convertEzSiteOptions(n),a=await de.queryTable(s,r);return{data:{List:a.data,TotalCount:a.count||0},error:a.error}}static async tableCreate(t,n){const s=Ms.getTableName(t),r={...n};delete r.ID;const a=await de.createRecord(s,r);return{data:a.data,error:a.error}}static async tableUpdate(t,n){const s=Ms.getTableName(t);if(!n.ID&&!n.id)return{error:"Missing ID for update operation"};const r=n.ID||n.id,a={...n};delete a.ID,delete a.id;const o=await de.updateRecord(s,r,a);return{data:o.data,error:o.error}}static async tableDelete(t,n){const s=Ms.getTableName(t);if(!n.ID&&!n.id)return{error:"Missing ID for delete operation"};const r=n.ID||n.id;return{data:null,error:(await de.deleteRecord(s,r)).error}}}const m7={tablePage:Ms.tablePage,tableCreate:Ms.tableCreate,tableUpdate:Ms.tableUpdate,tableDelete:Ms.tableDelete},p7=new eL,g7=()=>(h.useEffect(()=>{window.ezsite||(window.ezsite={apis:m7})},[]),i.jsx(nL,{client:p7,children:i.jsx(PI,{children:i.jsx(j4,{children:i.jsxs(tO,{children:[i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx(l5,{}),i.jsx("main",{className:"container mx-auto px-4 py-6",children:i.jsxs(GL,{children:[i.jsx(Ln,{path:"/",element:i.jsx(h5,{})}),i.jsx(Ln,{path:"/standings",element:i.jsx(g5,{})}),i.jsx(Ln,{path:"/matchups",element:i.jsx(N5,{})}),i.jsx(Ln,{path:"/teams",element:i.jsx(U5,{})}),i.jsx(Ln,{path:"/teams/:teamId",element:i.jsx(aB,{})}),i.jsx(Ln,{path:"/players",element:i.jsx(lB,{})}),i.jsx(Ln,{path:"/players/:playerId",element:i.jsx(gB,{})}),i.jsx(Ln,{path:"/transactions",element:i.jsx(xB,{})}),i.jsx(Ln,{path:"/draft",element:i.jsx(vB,{})}),i.jsx(Ln,{path:"/rules",element:i.jsx(yB,{})}),i.jsx(Ln,{path:"/conferences",element:i.jsx(jB,{})}),i.jsx(Ln,{path:"/admin",element:i.jsx(D6,{})}),i.jsx(Ln,{path:"*",element:i.jsx(h7,{})})]})})]}),i.jsx(W$,{})]})})})}));ES(document.getElementById("root")).render(i.jsx(g7,{}));
