var $P=Object.defineProperty;var pv=e=>{throw TypeError(e)};var DP=(e,t,n)=>t in e?$P(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Jt=(e,t,n)=>DP(e,typeof t!="symbol"?t+"":t,n),bh=(e,t,n)=>t.has(e)||pv("Cannot "+n);var J=(e,t,n)=>(bh(e,t,"read from private field"),n?n.call(e):t.get(e)),Ge=(e,t,n)=>t.has(e)?pv("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Se=(e,t,n,s)=>(bh(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),yn=(e,t,n)=>(bh(e,t,"access private method"),n);var hd=(e,t,n,s)=>({set _(a){Se(e,t,a,n)},get _(){return J(e,t,s)}});function MP(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(s,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var Es=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function S_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function LP(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function s(){return this instanceof s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var a=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:function(){return e[s]}})}),n}var N_={exports:{}},mf={},C_={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zc=Symbol.for("react.element"),IP=Symbol.for("react.portal"),OP=Symbol.for("react.fragment"),FP=Symbol.for("react.strict_mode"),BP=Symbol.for("react.profiler"),UP=Symbol.for("react.provider"),zP=Symbol.for("react.context"),VP=Symbol.for("react.forward_ref"),WP=Symbol.for("react.suspense"),HP=Symbol.for("react.memo"),qP=Symbol.for("react.lazy"),gv=Symbol.iterator;function KP(e){return e===null||typeof e!="object"?null:(e=gv&&e[gv]||e["@@iterator"],typeof e=="function"?e:null)}var E_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T_=Object.assign,k_={};function Yo(e,t,n){this.props=e,this.context=t,this.refs=k_,this.updater=n||E_}Yo.prototype.isReactComponent={};Yo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Yo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function P_(){}P_.prototype=Yo.prototype;function Ug(e,t,n){this.props=e,this.context=t,this.refs=k_,this.updater=n||E_}var zg=Ug.prototype=new P_;zg.constructor=Ug;T_(zg,Yo.prototype);zg.isPureReactComponent=!0;var xv=Array.isArray,R_=Object.prototype.hasOwnProperty,Vg={current:null},A_={key:!0,ref:!0,__self:!0,__source:!0};function $_(e,t,n){var s,a={},i=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)R_.call(t,s)&&!A_.hasOwnProperty(s)&&(a[s]=t[s]);var l=arguments.length-2;if(l===1)a.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)a[s]===void 0&&(a[s]=l[s]);return{$$typeof:zc,type:e,key:i,ref:o,props:a,_owner:Vg.current}}function GP(e,t){return{$$typeof:zc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Wg(e){return typeof e=="object"&&e!==null&&e.$$typeof===zc}function YP(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var yv=/\/+/g;function Sh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?YP(""+e.key):t.toString(36)}function Kd(e,t,n,s,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case zc:case IP:o=!0}}if(o)return o=e,a=a(o),e=s===""?"."+Sh(o,0):s,xv(a)?(n="",e!=null&&(n=e.replace(yv,"$&/")+"/"),Kd(a,t,n,"",function(d){return d})):a!=null&&(Wg(a)&&(a=GP(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(yv,"$&/")+"/")+e)),t.push(a)),1;if(o=0,s=s===""?".":s+":",xv(e))for(var l=0;l<e.length;l++){i=e[l];var c=s+Sh(i,l);o+=Kd(i,t,n,c,a)}else if(c=KP(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=s+Sh(i,l++),o+=Kd(i,t,n,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function md(e,t,n){if(e==null)return e;var s=[],a=0;return Kd(e,s,"","",function(i){return t.call(n,i,a++)}),s}function QP(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var In={current:null},Gd={transition:null},XP={ReactCurrentDispatcher:In,ReactCurrentBatchConfig:Gd,ReactCurrentOwner:Vg};function D_(){throw Error("act(...) is not supported in production builds of React.")}Ae.Children={map:md,forEach:function(e,t,n){md(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return md(e,function(){t++}),t},toArray:function(e){return md(e,function(t){return t})||[]},only:function(e){if(!Wg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ae.Component=Yo;Ae.Fragment=OP;Ae.Profiler=BP;Ae.PureComponent=Ug;Ae.StrictMode=FP;Ae.Suspense=WP;Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XP;Ae.act=D_;Ae.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=T_({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Vg.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)R_.call(t,c)&&!A_.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:zc,type:e.type,key:a,ref:i,props:s,_owner:o}};Ae.createContext=function(e){return e={$$typeof:zP,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:UP,_context:e},e.Consumer=e};Ae.createElement=$_;Ae.createFactory=function(e){var t=$_.bind(null,e);return t.type=e,t};Ae.createRef=function(){return{current:null}};Ae.forwardRef=function(e){return{$$typeof:VP,render:e}};Ae.isValidElement=Wg;Ae.lazy=function(e){return{$$typeof:qP,_payload:{_status:-1,_result:e},_init:QP}};Ae.memo=function(e,t){return{$$typeof:HP,type:e,compare:t===void 0?null:t}};Ae.startTransition=function(e){var t=Gd.transition;Gd.transition={};try{e()}finally{Gd.transition=t}};Ae.unstable_act=D_;Ae.useCallback=function(e,t){return In.current.useCallback(e,t)};Ae.useContext=function(e){return In.current.useContext(e)};Ae.useDebugValue=function(){};Ae.useDeferredValue=function(e){return In.current.useDeferredValue(e)};Ae.useEffect=function(e,t){return In.current.useEffect(e,t)};Ae.useId=function(){return In.current.useId()};Ae.useImperativeHandle=function(e,t,n){return In.current.useImperativeHandle(e,t,n)};Ae.useInsertionEffect=function(e,t){return In.current.useInsertionEffect(e,t)};Ae.useLayoutEffect=function(e,t){return In.current.useLayoutEffect(e,t)};Ae.useMemo=function(e,t){return In.current.useMemo(e,t)};Ae.useReducer=function(e,t,n){return In.current.useReducer(e,t,n)};Ae.useRef=function(e){return In.current.useRef(e)};Ae.useState=function(e){return In.current.useState(e)};Ae.useSyncExternalStore=function(e,t,n){return In.current.useSyncExternalStore(e,t,n)};Ae.useTransition=function(){return In.current.useTransition()};Ae.version="18.3.1";C_.exports=Ae;var h=C_.exports;const De=S_(h),Hg=MP({__proto__:null,default:De},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JP=h,ZP=Symbol.for("react.element"),e2=Symbol.for("react.fragment"),t2=Object.prototype.hasOwnProperty,n2=JP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s2={key:!0,ref:!0,__self:!0,__source:!0};function M_(e,t,n){var s,a={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)t2.call(t,s)&&!s2.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:ZP,type:e,key:i,ref:o,props:a,_owner:n2.current}}mf.Fragment=e2;mf.jsx=M_;mf.jsxs=M_;N_.exports=mf;var r=N_.exports,L_={exports:{}},is={},I_={exports:{}},O_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(S,k){var C=S.length;S.push(k);e:for(;0<C;){var T=C-1>>>1,D=S[T];if(0<a(D,k))S[T]=k,S[C]=D,C=T;else break e}}function n(S){return S.length===0?null:S[0]}function s(S){if(S.length===0)return null;var k=S[0],C=S.pop();if(C!==k){S[0]=C;e:for(var T=0,D=S.length,A=D>>>1;T<A;){var $=2*(T+1)-1,H=S[$],W=$+1,z=S[W];if(0>a(H,C))W<D&&0>a(z,H)?(S[T]=z,S[W]=C,T=W):(S[T]=H,S[$]=C,T=$);else if(W<D&&0>a(z,C))S[T]=z,S[W]=C,T=W;else break e}}return k}function a(S,k){var C=S.sortIndex-k.sortIndex;return C!==0?C:S.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,f=null,m=3,y=!1,j=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(S){for(var k=n(d);k!==null;){if(k.callback===null)s(d);else if(k.startTime<=S)s(d),k.sortIndex=k.expirationTime,t(c,k);else break;k=n(d)}}function _(S){if(g=!1,v(S),!j)if(n(c)!==null)j=!0,F(b);else{var k=n(d);k!==null&&q(_,k.startTime-S)}}function b(S,k){j=!1,g&&(g=!1,x(E),E=-1),y=!0;var C=m;try{for(v(k),f=n(c);f!==null&&(!(f.expirationTime>k)||S&&!U());){var T=f.callback;if(typeof T=="function"){f.callback=null,m=f.priorityLevel;var D=T(f.expirationTime<=k);k=e.unstable_now(),typeof D=="function"?f.callback=D:f===n(c)&&s(c),v(k)}else s(c);f=n(c)}if(f!==null)var A=!0;else{var $=n(d);$!==null&&q(_,$.startTime-k),A=!1}return A}finally{f=null,m=C,y=!1}}var P=!1,N=null,E=-1,R=5,M=-1;function U(){return!(e.unstable_now()-M<R)}function O(){if(N!==null){var S=e.unstable_now();M=S;var k=!0;try{k=N(!0,S)}finally{k?L():(P=!1,N=null)}}else P=!1}var L;if(typeof p=="function")L=function(){p(O)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,K=B.port2;B.port1.onmessage=O,L=function(){K.postMessage(null)}}else L=function(){w(O,0)};function F(S){N=S,P||(P=!0,L())}function q(S,k){E=w(function(){S(e.unstable_now())},k)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(S){S.callback=null},e.unstable_continueExecution=function(){j||y||(j=!0,F(b))},e.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<S?Math.floor(1e3/S):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(S){switch(m){case 1:case 2:case 3:var k=3;break;default:k=m}var C=m;m=k;try{return S()}finally{m=C}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(S,k){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var C=m;m=S;try{return k()}finally{m=C}},e.unstable_scheduleCallback=function(S,k,C){var T=e.unstable_now();switch(typeof C=="object"&&C!==null?(C=C.delay,C=typeof C=="number"&&0<C?T+C:T):C=T,S){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=C+D,S={id:u++,callback:k,priorityLevel:S,startTime:C,expirationTime:D,sortIndex:-1},C>T?(S.sortIndex=C,t(d,S),n(c)===null&&S===n(d)&&(g?(x(E),E=-1):g=!0,q(_,C-T))):(S.sortIndex=D,t(c,S),j||y||(j=!0,F(b))),S},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(S){var k=m;return function(){var C=m;m=k;try{return S.apply(this,arguments)}finally{m=C}}}})(O_);I_.exports=O_;var r2=I_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a2=h,rs=r2;function re(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var F_=new Set,sc={};function Ri(e,t){$o(e,t),$o(e+"Capture",t)}function $o(e,t){for(sc[e]=t,e=0;e<t.length;e++)F_.add(t[e])}var Mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zm=Object.prototype.hasOwnProperty,i2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vv={},wv={};function o2(e){return zm.call(wv,e)?!0:zm.call(vv,e)?!1:i2.test(e)?wv[e]=!0:(vv[e]=!0,!1)}function l2(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function c2(e,t,n,s){if(t===null||typeof t>"u"||l2(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function On(e,t,n,s,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var pn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){pn[e]=new On(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];pn[t]=new On(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){pn[e]=new On(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){pn[e]=new On(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){pn[e]=new On(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){pn[e]=new On(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){pn[e]=new On(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){pn[e]=new On(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){pn[e]=new On(e,5,!1,e.toLowerCase(),null,!1,!1)});var qg=/[\-:]([a-z])/g;function Kg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(qg,Kg);pn[t]=new On(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(qg,Kg);pn[t]=new On(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(qg,Kg);pn[t]=new On(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){pn[e]=new On(e,1,!1,e.toLowerCase(),null,!1,!1)});pn.xlinkHref=new On("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){pn[e]=new On(e,1,!1,e.toLowerCase(),null,!0,!0)});function Gg(e,t,n,s){var a=pn.hasOwnProperty(t)?pn[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(c2(t,n,a,s)&&(n=null),s||a===null?o2(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,s=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var qr=a2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pd=Symbol.for("react.element"),Qi=Symbol.for("react.portal"),Xi=Symbol.for("react.fragment"),Yg=Symbol.for("react.strict_mode"),Vm=Symbol.for("react.profiler"),B_=Symbol.for("react.provider"),U_=Symbol.for("react.context"),Qg=Symbol.for("react.forward_ref"),Wm=Symbol.for("react.suspense"),Hm=Symbol.for("react.suspense_list"),Xg=Symbol.for("react.memo"),ra=Symbol.for("react.lazy"),z_=Symbol.for("react.offscreen"),jv=Symbol.iterator;function ml(e){return e===null||typeof e!="object"?null:(e=jv&&e[jv]||e["@@iterator"],typeof e=="function"?e:null)}var kt=Object.assign,Nh;function El(e){if(Nh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Nh=t&&t[1]||""}return`
`+Nh+e}var Ch=!1;function Eh(e,t){if(!e||Ch)return"";Ch=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var s=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){s=d}e.call(t.prototype)}else{try{throw Error()}catch(d){s=d}e()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=s.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Ch=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?El(e):""}function d2(e){switch(e.tag){case 5:return El(e.type);case 16:return El("Lazy");case 13:return El("Suspense");case 19:return El("SuspenseList");case 0:case 2:case 15:return e=Eh(e.type,!1),e;case 11:return e=Eh(e.type.render,!1),e;case 1:return e=Eh(e.type,!0),e;default:return""}}function qm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Xi:return"Fragment";case Qi:return"Portal";case Vm:return"Profiler";case Yg:return"StrictMode";case Wm:return"Suspense";case Hm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case U_:return(e.displayName||"Context")+".Consumer";case B_:return(e._context.displayName||"Context")+".Provider";case Qg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Xg:return t=e.displayName||null,t!==null?t:qm(e.type)||"Memo";case ra:t=e._payload,e=e._init;try{return qm(e(t))}catch{}}return null}function u2(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qm(t);case 8:return t===Yg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Pa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function V_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function f2(e){var t=V_(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function gd(e){e._valueTracker||(e._valueTracker=f2(e))}function W_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=V_(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function xu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Km(e,t){var n=t.checked;return kt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function _v(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=Pa(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function H_(e,t){t=t.checked,t!=null&&Gg(e,"checked",t,!1)}function Gm(e,t){H_(e,t);var n=Pa(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ym(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ym(e,t.type,Pa(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function bv(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ym(e,t,n){(t!=="number"||xu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Tl=Array.isArray;function mo(e,t,n,s){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Pa(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Qm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(re(91));return kt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Sv(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(re(92));if(Tl(n)){if(1<n.length)throw Error(re(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Pa(n)}}function q_(e,t){var n=Pa(t.value),s=Pa(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function Nv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function K_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?K_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var xd,G_=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(xd=xd||document.createElement("div"),xd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=xd.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function rc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ml={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},h2=["Webkit","ms","Moz","O"];Object.keys(Ml).forEach(function(e){h2.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ml[t]=Ml[e]})});function Y_(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ml.hasOwnProperty(e)&&Ml[e]?(""+t).trim():t+"px"}function Q_(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,a=Y_(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,a):e[n]=a}}var m2=kt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jm(e,t){if(t){if(m2[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(re(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(re(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(re(61))}if(t.style!=null&&typeof t.style!="object")throw Error(re(62))}}function Zm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ep=null;function Jg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var tp=null,po=null,go=null;function Cv(e){if(e=Hc(e)){if(typeof tp!="function")throw Error(re(280));var t=e.stateNode;t&&(t=vf(t),tp(e.stateNode,e.type,t))}}function X_(e){po?go?go.push(e):go=[e]:po=e}function J_(){if(po){var e=po,t=go;if(go=po=null,Cv(e),t)for(e=0;e<t.length;e++)Cv(t[e])}}function Z_(e,t){return e(t)}function eb(){}var Th=!1;function tb(e,t,n){if(Th)return e(t,n);Th=!0;try{return Z_(e,t,n)}finally{Th=!1,(po!==null||go!==null)&&(eb(),J_())}}function ac(e,t){var n=e.stateNode;if(n===null)return null;var s=vf(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(re(231,t,typeof n));return n}var np=!1;if(Mr)try{var pl={};Object.defineProperty(pl,"passive",{get:function(){np=!0}}),window.addEventListener("test",pl,pl),window.removeEventListener("test",pl,pl)}catch{np=!1}function p2(e,t,n,s,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(u){this.onError(u)}}var Ll=!1,yu=null,vu=!1,sp=null,g2={onError:function(e){Ll=!0,yu=e}};function x2(e,t,n,s,a,i,o,l,c){Ll=!1,yu=null,p2.apply(g2,arguments)}function y2(e,t,n,s,a,i,o,l,c){if(x2.apply(this,arguments),Ll){if(Ll){var d=yu;Ll=!1,yu=null}else throw Error(re(198));vu||(vu=!0,sp=d)}}function Ai(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function nb(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ev(e){if(Ai(e)!==e)throw Error(re(188))}function v2(e){var t=e.alternate;if(!t){if(t=Ai(e),t===null)throw Error(re(188));return t!==e?null:e}for(var n=e,s=t;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(s=a.return,s!==null){n=s;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return Ev(a),e;if(i===s)return Ev(a),t;i=i.sibling}throw Error(re(188))}if(n.return!==s.return)n=a,s=i;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,s=i;break}if(l===s){o=!0,s=a,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,s=a;break}if(l===s){o=!0,s=i,n=a;break}l=l.sibling}if(!o)throw Error(re(189))}}if(n.alternate!==s)throw Error(re(190))}if(n.tag!==3)throw Error(re(188));return n.stateNode.current===n?e:t}function sb(e){return e=v2(e),e!==null?rb(e):null}function rb(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=rb(e);if(t!==null)return t;e=e.sibling}return null}var ab=rs.unstable_scheduleCallback,Tv=rs.unstable_cancelCallback,w2=rs.unstable_shouldYield,j2=rs.unstable_requestPaint,Ot=rs.unstable_now,_2=rs.unstable_getCurrentPriorityLevel,Zg=rs.unstable_ImmediatePriority,ib=rs.unstable_UserBlockingPriority,wu=rs.unstable_NormalPriority,b2=rs.unstable_LowPriority,ob=rs.unstable_IdlePriority,pf=null,fr=null;function S2(e){if(fr&&typeof fr.onCommitFiberRoot=="function")try{fr.onCommitFiberRoot(pf,e,void 0,(e.current.flags&128)===128)}catch{}}var Hs=Math.clz32?Math.clz32:E2,N2=Math.log,C2=Math.LN2;function E2(e){return e>>>=0,e===0?32:31-(N2(e)/C2|0)|0}var yd=64,vd=4194304;function kl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ju(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,a=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~a;l!==0?s=kl(l):(i&=o,i!==0&&(s=kl(i)))}else o=n&~a,o!==0?s=kl(o):i!==0&&(s=kl(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-Hs(t),a=1<<n,s|=e[n],t&=~a;return s}function T2(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function k2(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Hs(i),l=1<<o,c=a[o];c===-1?(!(l&n)||l&s)&&(a[o]=T2(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function rp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function lb(){var e=yd;return yd<<=1,!(yd&4194240)&&(yd=64),e}function kh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Vc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Hs(t),e[t]=n}function P2(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-Hs(n),i=1<<a;t[a]=0,s[a]=-1,e[a]=-1,n&=~i}}function ex(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-Hs(n),a=1<<s;a&t|e[s]&t&&(e[s]|=t),n&=~a}}var et=0;function cb(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var db,tx,ub,fb,hb,ap=!1,wd=[],wa=null,ja=null,_a=null,ic=new Map,oc=new Map,la=[],R2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kv(e,t){switch(e){case"focusin":case"focusout":wa=null;break;case"dragenter":case"dragleave":ja=null;break;case"mouseover":case"mouseout":_a=null;break;case"pointerover":case"pointerout":ic.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":oc.delete(t.pointerId)}}function gl(e,t,n,s,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Hc(t),t!==null&&tx(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function A2(e,t,n,s,a){switch(t){case"focusin":return wa=gl(wa,e,t,n,s,a),!0;case"dragenter":return ja=gl(ja,e,t,n,s,a),!0;case"mouseover":return _a=gl(_a,e,t,n,s,a),!0;case"pointerover":var i=a.pointerId;return ic.set(i,gl(ic.get(i)||null,e,t,n,s,a)),!0;case"gotpointercapture":return i=a.pointerId,oc.set(i,gl(oc.get(i)||null,e,t,n,s,a)),!0}return!1}function mb(e){var t=ii(e.target);if(t!==null){var n=Ai(t);if(n!==null){if(t=n.tag,t===13){if(t=nb(n),t!==null){e.blockedOn=t,hb(e.priority,function(){ub(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Yd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ip(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);ep=s,n.target.dispatchEvent(s),ep=null}else return t=Hc(n),t!==null&&tx(t),e.blockedOn=n,!1;t.shift()}return!0}function Pv(e,t,n){Yd(e)&&n.delete(t)}function $2(){ap=!1,wa!==null&&Yd(wa)&&(wa=null),ja!==null&&Yd(ja)&&(ja=null),_a!==null&&Yd(_a)&&(_a=null),ic.forEach(Pv),oc.forEach(Pv)}function xl(e,t){e.blockedOn===t&&(e.blockedOn=null,ap||(ap=!0,rs.unstable_scheduleCallback(rs.unstable_NormalPriority,$2)))}function lc(e){function t(a){return xl(a,e)}if(0<wd.length){xl(wd[0],e);for(var n=1;n<wd.length;n++){var s=wd[n];s.blockedOn===e&&(s.blockedOn=null)}}for(wa!==null&&xl(wa,e),ja!==null&&xl(ja,e),_a!==null&&xl(_a,e),ic.forEach(t),oc.forEach(t),n=0;n<la.length;n++)s=la[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<la.length&&(n=la[0],n.blockedOn===null);)mb(n),n.blockedOn===null&&la.shift()}var xo=qr.ReactCurrentBatchConfig,_u=!0;function D2(e,t,n,s){var a=et,i=xo.transition;xo.transition=null;try{et=1,nx(e,t,n,s)}finally{et=a,xo.transition=i}}function M2(e,t,n,s){var a=et,i=xo.transition;xo.transition=null;try{et=4,nx(e,t,n,s)}finally{et=a,xo.transition=i}}function nx(e,t,n,s){if(_u){var a=ip(e,t,n,s);if(a===null)Fh(e,t,s,bu,n),kv(e,s);else if(A2(a,e,t,n,s))s.stopPropagation();else if(kv(e,s),t&4&&-1<R2.indexOf(e)){for(;a!==null;){var i=Hc(a);if(i!==null&&db(i),i=ip(e,t,n,s),i===null&&Fh(e,t,s,bu,n),i===a)break;a=i}a!==null&&s.stopPropagation()}else Fh(e,t,s,null,n)}}var bu=null;function ip(e,t,n,s){if(bu=null,e=Jg(s),e=ii(e),e!==null)if(t=Ai(e),t===null)e=null;else if(n=t.tag,n===13){if(e=nb(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return bu=e,null}function pb(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_2()){case Zg:return 1;case ib:return 4;case wu:case b2:return 16;case ob:return 536870912;default:return 16}default:return 16}}var ga=null,sx=null,Qd=null;function gb(){if(Qd)return Qd;var e,t=sx,n=t.length,s,a="value"in ga?ga.value:ga.textContent,i=a.length;for(e=0;e<n&&t[e]===a[e];e++);var o=n-e;for(s=1;s<=o&&t[n-s]===a[i-s];s++);return Qd=a.slice(e,1<s?1-s:void 0)}function Xd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function jd(){return!0}function Rv(){return!1}function os(e){function t(n,s,a,i,o){this._reactName=n,this._targetInst=a,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?jd:Rv,this.isPropagationStopped=Rv,this}return kt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=jd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=jd)},persist:function(){},isPersistent:jd}),t}var Qo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rx=os(Qo),Wc=kt({},Qo,{view:0,detail:0}),L2=os(Wc),Ph,Rh,yl,gf=kt({},Wc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ax,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yl&&(yl&&e.type==="mousemove"?(Ph=e.screenX-yl.screenX,Rh=e.screenY-yl.screenY):Rh=Ph=0,yl=e),Ph)},movementY:function(e){return"movementY"in e?e.movementY:Rh}}),Av=os(gf),I2=kt({},gf,{dataTransfer:0}),O2=os(I2),F2=kt({},Wc,{relatedTarget:0}),Ah=os(F2),B2=kt({},Qo,{animationName:0,elapsedTime:0,pseudoElement:0}),U2=os(B2),z2=kt({},Qo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),V2=os(z2),W2=kt({},Qo,{data:0}),$v=os(W2),H2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},q2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},K2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function G2(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=K2[e])?!!t[e]:!1}function ax(){return G2}var Y2=kt({},Wc,{key:function(e){if(e.key){var t=H2[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Xd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?q2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ax,charCode:function(e){return e.type==="keypress"?Xd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Q2=os(Y2),X2=kt({},gf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dv=os(X2),J2=kt({},Wc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ax}),Z2=os(J2),eR=kt({},Qo,{propertyName:0,elapsedTime:0,pseudoElement:0}),tR=os(eR),nR=kt({},gf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sR=os(nR),rR=[9,13,27,32],ix=Mr&&"CompositionEvent"in window,Il=null;Mr&&"documentMode"in document&&(Il=document.documentMode);var aR=Mr&&"TextEvent"in window&&!Il,xb=Mr&&(!ix||Il&&8<Il&&11>=Il),Mv=" ",Lv=!1;function yb(e,t){switch(e){case"keyup":return rR.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vb(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ji=!1;function iR(e,t){switch(e){case"compositionend":return vb(t);case"keypress":return t.which!==32?null:(Lv=!0,Mv);case"textInput":return e=t.data,e===Mv&&Lv?null:e;default:return null}}function oR(e,t){if(Ji)return e==="compositionend"||!ix&&yb(e,t)?(e=gb(),Qd=sx=ga=null,Ji=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xb&&t.locale!=="ko"?null:t.data;default:return null}}var lR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Iv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!lR[e.type]:t==="textarea"}function wb(e,t,n,s){X_(s),t=Su(t,"onChange"),0<t.length&&(n=new rx("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Ol=null,cc=null;function cR(e){Rb(e,0)}function xf(e){var t=to(e);if(W_(t))return e}function dR(e,t){if(e==="change")return t}var jb=!1;if(Mr){var $h;if(Mr){var Dh="oninput"in document;if(!Dh){var Ov=document.createElement("div");Ov.setAttribute("oninput","return;"),Dh=typeof Ov.oninput=="function"}$h=Dh}else $h=!1;jb=$h&&(!document.documentMode||9<document.documentMode)}function Fv(){Ol&&(Ol.detachEvent("onpropertychange",_b),cc=Ol=null)}function _b(e){if(e.propertyName==="value"&&xf(cc)){var t=[];wb(t,cc,e,Jg(e)),tb(cR,t)}}function uR(e,t,n){e==="focusin"?(Fv(),Ol=t,cc=n,Ol.attachEvent("onpropertychange",_b)):e==="focusout"&&Fv()}function fR(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xf(cc)}function hR(e,t){if(e==="click")return xf(t)}function mR(e,t){if(e==="input"||e==="change")return xf(t)}function pR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ks=typeof Object.is=="function"?Object.is:pR;function dc(e,t){if(Ks(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var a=n[s];if(!zm.call(t,a)||!Ks(e[a],t[a]))return!1}return!0}function Bv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Uv(e,t){var n=Bv(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Bv(n)}}function bb(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?bb(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Sb(){for(var e=window,t=xu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=xu(e.document)}return t}function ox(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function gR(e){var t=Sb(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&bb(n.ownerDocument.documentElement,n)){if(s!==null&&ox(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(s.start,a);s=s.end===void 0?i:Math.min(s.end,a),!e.extend&&i>s&&(a=s,s=i,i=a),a=Uv(n,i);var o=Uv(n,s);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var xR=Mr&&"documentMode"in document&&11>=document.documentMode,Zi=null,op=null,Fl=null,lp=!1;function zv(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;lp||Zi==null||Zi!==xu(s)||(s=Zi,"selectionStart"in s&&ox(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Fl&&dc(Fl,s)||(Fl=s,s=Su(op,"onSelect"),0<s.length&&(t=new rx("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Zi)))}function _d(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var eo={animationend:_d("Animation","AnimationEnd"),animationiteration:_d("Animation","AnimationIteration"),animationstart:_d("Animation","AnimationStart"),transitionend:_d("Transition","TransitionEnd")},Mh={},Nb={};Mr&&(Nb=document.createElement("div").style,"AnimationEvent"in window||(delete eo.animationend.animation,delete eo.animationiteration.animation,delete eo.animationstart.animation),"TransitionEvent"in window||delete eo.transitionend.transition);function yf(e){if(Mh[e])return Mh[e];if(!eo[e])return e;var t=eo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Nb)return Mh[e]=t[n];return e}var Cb=yf("animationend"),Eb=yf("animationiteration"),Tb=yf("animationstart"),kb=yf("transitionend"),Pb=new Map,Vv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function La(e,t){Pb.set(e,t),Ri(t,[e])}for(var Lh=0;Lh<Vv.length;Lh++){var Ih=Vv[Lh],yR=Ih.toLowerCase(),vR=Ih[0].toUpperCase()+Ih.slice(1);La(yR,"on"+vR)}La(Cb,"onAnimationEnd");La(Eb,"onAnimationIteration");La(Tb,"onAnimationStart");La("dblclick","onDoubleClick");La("focusin","onFocus");La("focusout","onBlur");La(kb,"onTransitionEnd");$o("onMouseEnter",["mouseout","mouseover"]);$o("onMouseLeave",["mouseout","mouseover"]);$o("onPointerEnter",["pointerout","pointerover"]);$o("onPointerLeave",["pointerout","pointerover"]);Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pl));function Wv(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,y2(s,t,void 0,e),e.currentTarget=null}function Rb(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],a=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;Wv(a,l,d),i=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;Wv(a,l,d),i=c}}}if(vu)throw e=sp,vu=!1,sp=null,e}function gt(e,t){var n=t[hp];n===void 0&&(n=t[hp]=new Set);var s=e+"__bubble";n.has(s)||(Ab(t,e,2,!1),n.add(s))}function Oh(e,t,n){var s=0;t&&(s|=4),Ab(n,e,s,t)}var bd="_reactListening"+Math.random().toString(36).slice(2);function uc(e){if(!e[bd]){e[bd]=!0,F_.forEach(function(n){n!=="selectionchange"&&(wR.has(n)||Oh(n,!1,e),Oh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[bd]||(t[bd]=!0,Oh("selectionchange",!1,t))}}function Ab(e,t,n,s){switch(pb(t)){case 1:var a=D2;break;case 4:a=M2;break;default:a=nx}n=a.bind(null,t,n,e),a=void 0,!np||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Fh(e,t,n,s,a){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=ii(l),o===null)return;if(c=o.tag,c===5||c===6){s=i=o;continue e}l=l.parentNode}}s=s.return}tb(function(){var d=i,u=Jg(n),f=[];e:{var m=Pb.get(e);if(m!==void 0){var y=rx,j=e;switch(e){case"keypress":if(Xd(n)===0)break e;case"keydown":case"keyup":y=Q2;break;case"focusin":j="focus",y=Ah;break;case"focusout":j="blur",y=Ah;break;case"beforeblur":case"afterblur":y=Ah;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Av;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=O2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Z2;break;case Cb:case Eb:case Tb:y=U2;break;case kb:y=tR;break;case"scroll":y=L2;break;case"wheel":y=sR;break;case"copy":case"cut":case"paste":y=V2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Dv}var g=(t&4)!==0,w=!g&&e==="scroll",x=g?m!==null?m+"Capture":null:m;g=[];for(var p=d,v;p!==null;){v=p;var _=v.stateNode;if(v.tag===5&&_!==null&&(v=_,x!==null&&(_=ac(p,x),_!=null&&g.push(fc(p,_,v)))),w)break;p=p.return}0<g.length&&(m=new y(m,j,null,n,u),f.push({event:m,listeners:g}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",m&&n!==ep&&(j=n.relatedTarget||n.fromElement)&&(ii(j)||j[Lr]))break e;if((y||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,y?(j=n.relatedTarget||n.toElement,y=d,j=j?ii(j):null,j!==null&&(w=Ai(j),j!==w||j.tag!==5&&j.tag!==6)&&(j=null)):(y=null,j=d),y!==j)){if(g=Av,_="onMouseLeave",x="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(g=Dv,_="onPointerLeave",x="onPointerEnter",p="pointer"),w=y==null?m:to(y),v=j==null?m:to(j),m=new g(_,p+"leave",y,n,u),m.target=w,m.relatedTarget=v,_=null,ii(u)===d&&(g=new g(x,p+"enter",j,n,u),g.target=v,g.relatedTarget=w,_=g),w=_,y&&j)t:{for(g=y,x=j,p=0,v=g;v;v=Ii(v))p++;for(v=0,_=x;_;_=Ii(_))v++;for(;0<p-v;)g=Ii(g),p--;for(;0<v-p;)x=Ii(x),v--;for(;p--;){if(g===x||x!==null&&g===x.alternate)break t;g=Ii(g),x=Ii(x)}g=null}else g=null;y!==null&&Hv(f,m,y,g,!1),j!==null&&w!==null&&Hv(f,w,j,g,!0)}}e:{if(m=d?to(d):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var b=dR;else if(Iv(m))if(jb)b=mR;else{b=fR;var P=uR}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(b=hR);if(b&&(b=b(e,d))){wb(f,b,n,u);break e}P&&P(e,m,d),e==="focusout"&&(P=m._wrapperState)&&P.controlled&&m.type==="number"&&Ym(m,"number",m.value)}switch(P=d?to(d):window,e){case"focusin":(Iv(P)||P.contentEditable==="true")&&(Zi=P,op=d,Fl=null);break;case"focusout":Fl=op=Zi=null;break;case"mousedown":lp=!0;break;case"contextmenu":case"mouseup":case"dragend":lp=!1,zv(f,n,u);break;case"selectionchange":if(xR)break;case"keydown":case"keyup":zv(f,n,u)}var N;if(ix)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Ji?yb(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(xb&&n.locale!=="ko"&&(Ji||E!=="onCompositionStart"?E==="onCompositionEnd"&&Ji&&(N=gb()):(ga=u,sx="value"in ga?ga.value:ga.textContent,Ji=!0)),P=Su(d,E),0<P.length&&(E=new $v(E,e,null,n,u),f.push({event:E,listeners:P}),N?E.data=N:(N=vb(n),N!==null&&(E.data=N)))),(N=aR?iR(e,n):oR(e,n))&&(d=Su(d,"onBeforeInput"),0<d.length&&(u=new $v("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:d}),u.data=N))}Rb(f,t)})}function fc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Su(e,t){for(var n=t+"Capture",s=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=ac(e,n),i!=null&&s.unshift(fc(e,i,a)),i=ac(e,t),i!=null&&s.push(fc(e,i,a))),e=e.return}return s}function Ii(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Hv(e,t,n,s,a){for(var i=t._reactName,o=[];n!==null&&n!==s;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&d!==null&&(l=d,a?(c=ac(n,i),c!=null&&o.unshift(fc(n,c,l))):a||(c=ac(n,i),c!=null&&o.push(fc(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var jR=/\r\n?/g,_R=/\u0000|\uFFFD/g;function qv(e){return(typeof e=="string"?e:""+e).replace(jR,`
`).replace(_R,"")}function Sd(e,t,n){if(t=qv(t),qv(e)!==t&&n)throw Error(re(425))}function Nu(){}var cp=null,dp=null;function up(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var fp=typeof setTimeout=="function"?setTimeout:void 0,bR=typeof clearTimeout=="function"?clearTimeout:void 0,Kv=typeof Promise=="function"?Promise:void 0,SR=typeof queueMicrotask=="function"?queueMicrotask:typeof Kv<"u"?function(e){return Kv.resolve(null).then(e).catch(NR)}:fp;function NR(e){setTimeout(function(){throw e})}function Bh(e,t){var n=t,s=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(s===0){e.removeChild(a),lc(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=a}while(n);lc(t)}function ba(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Gv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Xo=Math.random().toString(36).slice(2),cr="__reactFiber$"+Xo,hc="__reactProps$"+Xo,Lr="__reactContainer$"+Xo,hp="__reactEvents$"+Xo,CR="__reactListeners$"+Xo,ER="__reactHandles$"+Xo;function ii(e){var t=e[cr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Lr]||n[cr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Gv(e);e!==null;){if(n=e[cr])return n;e=Gv(e)}return t}e=n,n=e.parentNode}return null}function Hc(e){return e=e[cr]||e[Lr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function to(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(re(33))}function vf(e){return e[hc]||null}var mp=[],no=-1;function Ia(e){return{current:e}}function yt(e){0>no||(e.current=mp[no],mp[no]=null,no--)}function ct(e,t){no++,mp[no]=e.current,e.current=t}var Ra={},Nn=Ia(Ra),Gn=Ia(!1),ji=Ra;function Do(e,t){var n=e.type.contextTypes;if(!n)return Ra;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Yn(e){return e=e.childContextTypes,e!=null}function Cu(){yt(Gn),yt(Nn)}function Yv(e,t,n){if(Nn.current!==Ra)throw Error(re(168));ct(Nn,t),ct(Gn,n)}function $b(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(re(108,u2(e)||"Unknown",a));return kt({},n,s)}function Eu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ra,ji=Nn.current,ct(Nn,e),ct(Gn,Gn.current),!0}function Qv(e,t,n){var s=e.stateNode;if(!s)throw Error(re(169));n?(e=$b(e,t,ji),s.__reactInternalMemoizedMergedChildContext=e,yt(Gn),yt(Nn),ct(Nn,e)):yt(Gn),ct(Gn,n)}var Tr=null,wf=!1,Uh=!1;function Db(e){Tr===null?Tr=[e]:Tr.push(e)}function TR(e){wf=!0,Db(e)}function Oa(){if(!Uh&&Tr!==null){Uh=!0;var e=0,t=et;try{var n=Tr;for(et=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Tr=null,wf=!1}catch(a){throw Tr!==null&&(Tr=Tr.slice(e+1)),ab(Zg,Oa),a}finally{et=t,Uh=!1}}return null}var so=[],ro=0,Tu=null,ku=0,js=[],_s=0,_i=null,Rr=1,Ar="";function ti(e,t){so[ro++]=ku,so[ro++]=Tu,Tu=e,ku=t}function Mb(e,t,n){js[_s++]=Rr,js[_s++]=Ar,js[_s++]=_i,_i=e;var s=Rr;e=Ar;var a=32-Hs(s)-1;s&=~(1<<a),n+=1;var i=32-Hs(t)+a;if(30<i){var o=a-a%5;i=(s&(1<<o)-1).toString(32),s>>=o,a-=o,Rr=1<<32-Hs(t)+a|n<<a|s,Ar=i+e}else Rr=1<<i|n<<a|s,Ar=e}function lx(e){e.return!==null&&(ti(e,1),Mb(e,1,0))}function cx(e){for(;e===Tu;)Tu=so[--ro],so[ro]=null,ku=so[--ro],so[ro]=null;for(;e===_i;)_i=js[--_s],js[_s]=null,Ar=js[--_s],js[_s]=null,Rr=js[--_s],js[_s]=null}var ts=null,es=null,_t=!1,Vs=null;function Lb(e,t){var n=bs(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Xv(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ts=e,es=ba(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ts=e,es=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=_i!==null?{id:Rr,overflow:Ar}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=bs(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ts=e,es=null,!0):!1;default:return!1}}function pp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function gp(e){if(_t){var t=es;if(t){var n=t;if(!Xv(e,t)){if(pp(e))throw Error(re(418));t=ba(n.nextSibling);var s=ts;t&&Xv(e,t)?Lb(s,n):(e.flags=e.flags&-4097|2,_t=!1,ts=e)}}else{if(pp(e))throw Error(re(418));e.flags=e.flags&-4097|2,_t=!1,ts=e}}}function Jv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ts=e}function Nd(e){if(e!==ts)return!1;if(!_t)return Jv(e),_t=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!up(e.type,e.memoizedProps)),t&&(t=es)){if(pp(e))throw Ib(),Error(re(418));for(;t;)Lb(e,t),t=ba(t.nextSibling)}if(Jv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(re(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){es=ba(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}es=null}}else es=ts?ba(e.stateNode.nextSibling):null;return!0}function Ib(){for(var e=es;e;)e=ba(e.nextSibling)}function Mo(){es=ts=null,_t=!1}function dx(e){Vs===null?Vs=[e]:Vs.push(e)}var kR=qr.ReactCurrentBatchConfig;function vl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(re(309));var s=n.stateNode}if(!s)throw Error(re(147,e));var a=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(re(284));if(!n._owner)throw Error(re(290,e))}return e}function Cd(e,t){throw e=Object.prototype.toString.call(t),Error(re(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zv(e){var t=e._init;return t(e._payload)}function Ob(e){function t(x,p){if(e){var v=x.deletions;v===null?(x.deletions=[p],x.flags|=16):v.push(p)}}function n(x,p){if(!e)return null;for(;p!==null;)t(x,p),p=p.sibling;return null}function s(x,p){for(x=new Map;p!==null;)p.key!==null?x.set(p.key,p):x.set(p.index,p),p=p.sibling;return x}function a(x,p){return x=Ea(x,p),x.index=0,x.sibling=null,x}function i(x,p,v){return x.index=v,e?(v=x.alternate,v!==null?(v=v.index,v<p?(x.flags|=2,p):v):(x.flags|=2,p)):(x.flags|=1048576,p)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,p,v,_){return p===null||p.tag!==6?(p=Gh(v,x.mode,_),p.return=x,p):(p=a(p,v),p.return=x,p)}function c(x,p,v,_){var b=v.type;return b===Xi?u(x,p,v.props.children,_,v.key):p!==null&&(p.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===ra&&Zv(b)===p.type)?(_=a(p,v.props),_.ref=vl(x,p,v),_.return=x,_):(_=ru(v.type,v.key,v.props,null,x.mode,_),_.ref=vl(x,p,v),_.return=x,_)}function d(x,p,v,_){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=Yh(v,x.mode,_),p.return=x,p):(p=a(p,v.children||[]),p.return=x,p)}function u(x,p,v,_,b){return p===null||p.tag!==7?(p=yi(v,x.mode,_,b),p.return=x,p):(p=a(p,v),p.return=x,p)}function f(x,p,v){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Gh(""+p,x.mode,v),p.return=x,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case pd:return v=ru(p.type,p.key,p.props,null,x.mode,v),v.ref=vl(x,null,p),v.return=x,v;case Qi:return p=Yh(p,x.mode,v),p.return=x,p;case ra:var _=p._init;return f(x,_(p._payload),v)}if(Tl(p)||ml(p))return p=yi(p,x.mode,v,null),p.return=x,p;Cd(x,p)}return null}function m(x,p,v,_){var b=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return b!==null?null:l(x,p,""+v,_);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case pd:return v.key===b?c(x,p,v,_):null;case Qi:return v.key===b?d(x,p,v,_):null;case ra:return b=v._init,m(x,p,b(v._payload),_)}if(Tl(v)||ml(v))return b!==null?null:u(x,p,v,_,null);Cd(x,v)}return null}function y(x,p,v,_,b){if(typeof _=="string"&&_!==""||typeof _=="number")return x=x.get(v)||null,l(p,x,""+_,b);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case pd:return x=x.get(_.key===null?v:_.key)||null,c(p,x,_,b);case Qi:return x=x.get(_.key===null?v:_.key)||null,d(p,x,_,b);case ra:var P=_._init;return y(x,p,v,P(_._payload),b)}if(Tl(_)||ml(_))return x=x.get(v)||null,u(p,x,_,b,null);Cd(p,_)}return null}function j(x,p,v,_){for(var b=null,P=null,N=p,E=p=0,R=null;N!==null&&E<v.length;E++){N.index>E?(R=N,N=null):R=N.sibling;var M=m(x,N,v[E],_);if(M===null){N===null&&(N=R);break}e&&N&&M.alternate===null&&t(x,N),p=i(M,p,E),P===null?b=M:P.sibling=M,P=M,N=R}if(E===v.length)return n(x,N),_t&&ti(x,E),b;if(N===null){for(;E<v.length;E++)N=f(x,v[E],_),N!==null&&(p=i(N,p,E),P===null?b=N:P.sibling=N,P=N);return _t&&ti(x,E),b}for(N=s(x,N);E<v.length;E++)R=y(N,x,E,v[E],_),R!==null&&(e&&R.alternate!==null&&N.delete(R.key===null?E:R.key),p=i(R,p,E),P===null?b=R:P.sibling=R,P=R);return e&&N.forEach(function(U){return t(x,U)}),_t&&ti(x,E),b}function g(x,p,v,_){var b=ml(v);if(typeof b!="function")throw Error(re(150));if(v=b.call(v),v==null)throw Error(re(151));for(var P=b=null,N=p,E=p=0,R=null,M=v.next();N!==null&&!M.done;E++,M=v.next()){N.index>E?(R=N,N=null):R=N.sibling;var U=m(x,N,M.value,_);if(U===null){N===null&&(N=R);break}e&&N&&U.alternate===null&&t(x,N),p=i(U,p,E),P===null?b=U:P.sibling=U,P=U,N=R}if(M.done)return n(x,N),_t&&ti(x,E),b;if(N===null){for(;!M.done;E++,M=v.next())M=f(x,M.value,_),M!==null&&(p=i(M,p,E),P===null?b=M:P.sibling=M,P=M);return _t&&ti(x,E),b}for(N=s(x,N);!M.done;E++,M=v.next())M=y(N,x,E,M.value,_),M!==null&&(e&&M.alternate!==null&&N.delete(M.key===null?E:M.key),p=i(M,p,E),P===null?b=M:P.sibling=M,P=M);return e&&N.forEach(function(O){return t(x,O)}),_t&&ti(x,E),b}function w(x,p,v,_){if(typeof v=="object"&&v!==null&&v.type===Xi&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case pd:e:{for(var b=v.key,P=p;P!==null;){if(P.key===b){if(b=v.type,b===Xi){if(P.tag===7){n(x,P.sibling),p=a(P,v.props.children),p.return=x,x=p;break e}}else if(P.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===ra&&Zv(b)===P.type){n(x,P.sibling),p=a(P,v.props),p.ref=vl(x,P,v),p.return=x,x=p;break e}n(x,P);break}else t(x,P);P=P.sibling}v.type===Xi?(p=yi(v.props.children,x.mode,_,v.key),p.return=x,x=p):(_=ru(v.type,v.key,v.props,null,x.mode,_),_.ref=vl(x,p,v),_.return=x,x=_)}return o(x);case Qi:e:{for(P=v.key;p!==null;){if(p.key===P)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){n(x,p.sibling),p=a(p,v.children||[]),p.return=x,x=p;break e}else{n(x,p);break}else t(x,p);p=p.sibling}p=Yh(v,x.mode,_),p.return=x,x=p}return o(x);case ra:return P=v._init,w(x,p,P(v._payload),_)}if(Tl(v))return j(x,p,v,_);if(ml(v))return g(x,p,v,_);Cd(x,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,p!==null&&p.tag===6?(n(x,p.sibling),p=a(p,v),p.return=x,x=p):(n(x,p),p=Gh(v,x.mode,_),p.return=x,x=p),o(x)):n(x,p)}return w}var Lo=Ob(!0),Fb=Ob(!1),Pu=Ia(null),Ru=null,ao=null,ux=null;function fx(){ux=ao=Ru=null}function hx(e){var t=Pu.current;yt(Pu),e._currentValue=t}function xp(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function yo(e,t){Ru=e,ux=ao=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(qn=!0),e.firstContext=null)}function Ts(e){var t=e._currentValue;if(ux!==e)if(e={context:e,memoizedValue:t,next:null},ao===null){if(Ru===null)throw Error(re(308));ao=e,Ru.dependencies={lanes:0,firstContext:e}}else ao=ao.next=e;return t}var oi=null;function mx(e){oi===null?oi=[e]:oi.push(e)}function Bb(e,t,n,s){var a=t.interleaved;return a===null?(n.next=n,mx(t)):(n.next=a.next,a.next=n),t.interleaved=n,Ir(e,s)}function Ir(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var aa=!1;function px(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ub(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $r(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Sa(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,He&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,Ir(e,n)}return a=s.interleaved,a===null?(t.next=t,mx(s)):(t.next=a.next,a.next=t),s.interleaved=t,Ir(e,n)}function Jd(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,ex(e,n)}}function ew(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?a=i=t:i=i.next=t}else a=i=t;n={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Au(e,t,n,s){var a=e.updateQueue;aa=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,u=d=c=null,l=i;do{var m=l.lane,y=l.eventTime;if((s&m)===m){u!==null&&(u=u.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var j=e,g=l;switch(m=t,y=n,g.tag){case 1:if(j=g.payload,typeof j=="function"){f=j.call(y,f,m);break e}f=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=g.payload,m=typeof j=="function"?j.call(y,f,m):j,m==null)break e;f=kt({},f,m);break e;case 2:aa=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=a.effects,m===null?a.effects=[l]:m.push(l))}else y={eventTime:y,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=y,c=f):u=u.next=y,o|=m;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;m=l,l=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);if(u===null&&(c=f),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Si|=o,e.lanes=o,e.memoizedState=f}}function tw(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=n,typeof a!="function")throw Error(re(191,a));a.call(s)}}}var qc={},hr=Ia(qc),mc=Ia(qc),pc=Ia(qc);function li(e){if(e===qc)throw Error(re(174));return e}function gx(e,t){switch(ct(pc,t),ct(mc,e),ct(hr,qc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Xm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Xm(t,e)}yt(hr),ct(hr,t)}function Io(){yt(hr),yt(mc),yt(pc)}function zb(e){li(pc.current);var t=li(hr.current),n=Xm(t,e.type);t!==n&&(ct(mc,e),ct(hr,n))}function xx(e){mc.current===e&&(yt(hr),yt(mc))}var Nt=Ia(0);function $u(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zh=[];function yx(){for(var e=0;e<zh.length;e++)zh[e]._workInProgressVersionPrimary=null;zh.length=0}var Zd=qr.ReactCurrentDispatcher,Vh=qr.ReactCurrentBatchConfig,bi=0,Tt=null,Ht=null,en=null,Du=!1,Bl=!1,gc=0,PR=0;function vn(){throw Error(re(321))}function vx(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ks(e[n],t[n]))return!1;return!0}function wx(e,t,n,s,a,i){if(bi=i,Tt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Zd.current=e===null||e.memoizedState===null?DR:MR,e=n(s,a),Bl){i=0;do{if(Bl=!1,gc=0,25<=i)throw Error(re(301));i+=1,en=Ht=null,t.updateQueue=null,Zd.current=LR,e=n(s,a)}while(Bl)}if(Zd.current=Mu,t=Ht!==null&&Ht.next!==null,bi=0,en=Ht=Tt=null,Du=!1,t)throw Error(re(300));return e}function jx(){var e=gc!==0;return gc=0,e}function sr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?Tt.memoizedState=en=e:en=en.next=e,en}function ks(){if(Ht===null){var e=Tt.alternate;e=e!==null?e.memoizedState:null}else e=Ht.next;var t=en===null?Tt.memoizedState:en.next;if(t!==null)en=t,Ht=e;else{if(e===null)throw Error(re(310));Ht=e,e={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},en===null?Tt.memoizedState=en=e:en=en.next=e}return en}function xc(e,t){return typeof t=="function"?t(e):t}function Wh(e){var t=ks(),n=t.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=e;var s=Ht,a=s.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}s.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,s=s.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((bi&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var f={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,o=s):c=c.next=f,Tt.lanes|=u,Si|=u}d=d.next}while(d!==null&&d!==i);c===null?o=s:c.next=l,Ks(s,t.memoizedState)||(qn=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){a=e;do i=a.lane,Tt.lanes|=i,Si|=i,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Hh(e){var t=ks(),n=t.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=e;var s=n.dispatch,a=n.pending,i=t.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Ks(i,t.memoizedState)||(qn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,s]}function Vb(){}function Wb(e,t){var n=Tt,s=ks(),a=t(),i=!Ks(s.memoizedState,a);if(i&&(s.memoizedState=a,qn=!0),s=s.queue,_x(Kb.bind(null,n,s,e),[e]),s.getSnapshot!==t||i||en!==null&&en.memoizedState.tag&1){if(n.flags|=2048,yc(9,qb.bind(null,n,s,a,t),void 0,null),nn===null)throw Error(re(349));bi&30||Hb(n,t,a)}return a}function Hb(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Tt.updateQueue,t===null?(t={lastEffect:null,stores:null},Tt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function qb(e,t,n,s){t.value=n,t.getSnapshot=s,Gb(t)&&Yb(e)}function Kb(e,t,n){return n(function(){Gb(t)&&Yb(e)})}function Gb(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ks(e,n)}catch{return!0}}function Yb(e){var t=Ir(e,1);t!==null&&qs(t,e,1,-1)}function nw(e){var t=sr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xc,lastRenderedState:e},t.queue=e,e=e.dispatch=$R.bind(null,Tt,e),[t.memoizedState,e]}function yc(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=Tt.updateQueue,t===null?(t={lastEffect:null,stores:null},Tt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function Qb(){return ks().memoizedState}function eu(e,t,n,s){var a=sr();Tt.flags|=e,a.memoizedState=yc(1|t,n,void 0,s===void 0?null:s)}function jf(e,t,n,s){var a=ks();s=s===void 0?null:s;var i=void 0;if(Ht!==null){var o=Ht.memoizedState;if(i=o.destroy,s!==null&&vx(s,o.deps)){a.memoizedState=yc(t,n,i,s);return}}Tt.flags|=e,a.memoizedState=yc(1|t,n,i,s)}function sw(e,t){return eu(8390656,8,e,t)}function _x(e,t){return jf(2048,8,e,t)}function Xb(e,t){return jf(4,2,e,t)}function Jb(e,t){return jf(4,4,e,t)}function Zb(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function eS(e,t,n){return n=n!=null?n.concat([e]):null,jf(4,4,Zb.bind(null,t,e),n)}function bx(){}function tS(e,t){var n=ks();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&vx(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function nS(e,t){var n=ks();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&vx(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function sS(e,t,n){return bi&21?(Ks(n,t)||(n=lb(),Tt.lanes|=n,Si|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,qn=!0),e.memoizedState=n)}function RR(e,t){var n=et;et=n!==0&&4>n?n:4,e(!0);var s=Vh.transition;Vh.transition={};try{e(!1),t()}finally{et=n,Vh.transition=s}}function rS(){return ks().memoizedState}function AR(e,t,n){var s=Ca(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},aS(e))iS(t,n);else if(n=Bb(e,t,n,s),n!==null){var a=Ln();qs(n,e,s,a),oS(n,t,s)}}function $R(e,t,n){var s=Ca(e),a={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(aS(e))iS(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(a.hasEagerState=!0,a.eagerState=l,Ks(l,o)){var c=t.interleaved;c===null?(a.next=a,mx(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}n=Bb(e,t,a,s),n!==null&&(a=Ln(),qs(n,e,s,a),oS(n,t,s))}}function aS(e){var t=e.alternate;return e===Tt||t!==null&&t===Tt}function iS(e,t){Bl=Du=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function oS(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,ex(e,n)}}var Mu={readContext:Ts,useCallback:vn,useContext:vn,useEffect:vn,useImperativeHandle:vn,useInsertionEffect:vn,useLayoutEffect:vn,useMemo:vn,useReducer:vn,useRef:vn,useState:vn,useDebugValue:vn,useDeferredValue:vn,useTransition:vn,useMutableSource:vn,useSyncExternalStore:vn,useId:vn,unstable_isNewReconciler:!1},DR={readContext:Ts,useCallback:function(e,t){return sr().memoizedState=[e,t===void 0?null:t],e},useContext:Ts,useEffect:sw,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,eu(4194308,4,Zb.bind(null,t,e),n)},useLayoutEffect:function(e,t){return eu(4194308,4,e,t)},useInsertionEffect:function(e,t){return eu(4,2,e,t)},useMemo:function(e,t){var n=sr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=sr();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=AR.bind(null,Tt,e),[s.memoizedState,e]},useRef:function(e){var t=sr();return e={current:e},t.memoizedState=e},useState:nw,useDebugValue:bx,useDeferredValue:function(e){return sr().memoizedState=e},useTransition:function(){var e=nw(!1),t=e[0];return e=RR.bind(null,e[1]),sr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=Tt,a=sr();if(_t){if(n===void 0)throw Error(re(407));n=n()}else{if(n=t(),nn===null)throw Error(re(349));bi&30||Hb(s,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,sw(Kb.bind(null,s,i,e),[e]),s.flags|=2048,yc(9,qb.bind(null,s,i,n,t),void 0,null),n},useId:function(){var e=sr(),t=nn.identifierPrefix;if(_t){var n=Ar,s=Rr;n=(s&~(1<<32-Hs(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=gc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=PR++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},MR={readContext:Ts,useCallback:tS,useContext:Ts,useEffect:_x,useImperativeHandle:eS,useInsertionEffect:Xb,useLayoutEffect:Jb,useMemo:nS,useReducer:Wh,useRef:Qb,useState:function(){return Wh(xc)},useDebugValue:bx,useDeferredValue:function(e){var t=ks();return sS(t,Ht.memoizedState,e)},useTransition:function(){var e=Wh(xc)[0],t=ks().memoizedState;return[e,t]},useMutableSource:Vb,useSyncExternalStore:Wb,useId:rS,unstable_isNewReconciler:!1},LR={readContext:Ts,useCallback:tS,useContext:Ts,useEffect:_x,useImperativeHandle:eS,useInsertionEffect:Xb,useLayoutEffect:Jb,useMemo:nS,useReducer:Hh,useRef:Qb,useState:function(){return Hh(xc)},useDebugValue:bx,useDeferredValue:function(e){var t=ks();return Ht===null?t.memoizedState=e:sS(t,Ht.memoizedState,e)},useTransition:function(){var e=Hh(xc)[0],t=ks().memoizedState;return[e,t]},useMutableSource:Vb,useSyncExternalStore:Wb,useId:rS,unstable_isNewReconciler:!1};function Is(e,t){if(e&&e.defaultProps){t=kt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function yp(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:kt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var _f={isMounted:function(e){return(e=e._reactInternals)?Ai(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=Ln(),a=Ca(e),i=$r(s,a);i.payload=t,n!=null&&(i.callback=n),t=Sa(e,i,a),t!==null&&(qs(t,e,a,s),Jd(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=Ln(),a=Ca(e),i=$r(s,a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Sa(e,i,a),t!==null&&(qs(t,e,a,s),Jd(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ln(),s=Ca(e),a=$r(n,s);a.tag=2,t!=null&&(a.callback=t),t=Sa(e,a,s),t!==null&&(qs(t,e,s,n),Jd(t,e,s))}};function rw(e,t,n,s,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,o):t.prototype&&t.prototype.isPureReactComponent?!dc(n,s)||!dc(a,i):!0}function lS(e,t,n){var s=!1,a=Ra,i=t.contextType;return typeof i=="object"&&i!==null?i=Ts(i):(a=Yn(t)?ji:Nn.current,s=t.contextTypes,i=(s=s!=null)?Do(e,a):Ra),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=_f,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function aw(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&_f.enqueueReplaceState(t,t.state,null)}function vp(e,t,n,s){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},px(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Ts(i):(i=Yn(t)?ji:Nn.current,a.context=Do(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(yp(e,t,i,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&_f.enqueueReplaceState(a,a.state,null),Au(e,n,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Oo(e,t){try{var n="",s=t;do n+=d2(s),s=s.return;while(s);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function qh(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function wp(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var IR=typeof WeakMap=="function"?WeakMap:Map;function cS(e,t,n){n=$r(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){Iu||(Iu=!0,Pp=s),wp(e,t)},n}function dS(e,t,n){n=$r(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;n.payload=function(){return s(a)},n.callback=function(){wp(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){wp(e,t),typeof s!="function"&&(Na===null?Na=new Set([this]):Na.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function iw(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new IR;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(n)||(a.add(n),e=XR.bind(null,e,t,n),t.then(e,e))}function ow(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function lw(e,t,n,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=$r(-1,1),t.tag=2,Sa(n,t,1))),n.lanes|=1),e)}var OR=qr.ReactCurrentOwner,qn=!1;function An(e,t,n,s){t.child=e===null?Fb(t,null,n,s):Lo(t,e.child,n,s)}function cw(e,t,n,s,a){n=n.render;var i=t.ref;return yo(t,a),s=wx(e,t,n,s,i,a),n=jx(),e!==null&&!qn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Or(e,t,a)):(_t&&n&&lx(t),t.flags|=1,An(e,t,s,a),t.child)}function dw(e,t,n,s,a){if(e===null){var i=n.type;return typeof i=="function"&&!Rx(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,uS(e,t,i,s,a)):(e=ru(n.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:dc,n(o,s)&&e.ref===t.ref)return Or(e,t,a)}return t.flags|=1,e=Ea(i,s),e.ref=t.ref,e.return=t,t.child=e}function uS(e,t,n,s,a){if(e!==null){var i=e.memoizedProps;if(dc(i,s)&&e.ref===t.ref)if(qn=!1,t.pendingProps=s=i,(e.lanes&a)!==0)e.flags&131072&&(qn=!0);else return t.lanes=e.lanes,Or(e,t,a)}return jp(e,t,n,s,a)}function fS(e,t,n){var s=t.pendingProps,a=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ct(oo,Xn),Xn|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ct(oo,Xn),Xn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:n,ct(oo,Xn),Xn|=s}else i!==null?(s=i.baseLanes|n,t.memoizedState=null):s=n,ct(oo,Xn),Xn|=s;return An(e,t,a,n),t.child}function hS(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function jp(e,t,n,s,a){var i=Yn(n)?ji:Nn.current;return i=Do(t,i),yo(t,a),n=wx(e,t,n,s,i,a),s=jx(),e!==null&&!qn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Or(e,t,a)):(_t&&s&&lx(t),t.flags|=1,An(e,t,n,a),t.child)}function uw(e,t,n,s,a){if(Yn(n)){var i=!0;Eu(t)}else i=!1;if(yo(t,a),t.stateNode===null)tu(e,t),lS(t,n,s),vp(t,n,s,a),s=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Ts(d):(d=Yn(n)?ji:Nn.current,d=Do(t,d));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==d)&&aw(t,o,s,d),aa=!1;var m=t.memoizedState;o.state=m,Au(t,s,o,a),c=t.memoizedState,l!==s||m!==c||Gn.current||aa?(typeof u=="function"&&(yp(t,n,u,s),c=t.memoizedState),(l=aa||rw(t,n,l,s,m,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=d,s=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,Ub(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Is(t.type,l),o.props=d,f=t.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ts(c):(c=Yn(n)?ji:Nn.current,c=Do(t,c));var y=n.getDerivedStateFromProps;(u=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==c)&&aw(t,o,s,c),aa=!1,m=t.memoizedState,o.state=m,Au(t,s,o,a);var j=t.memoizedState;l!==f||m!==j||Gn.current||aa?(typeof y=="function"&&(yp(t,n,y,s),j=t.memoizedState),(d=aa||rw(t,n,d,s,m,j,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,j,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,j,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=j),o.props=s,o.state=j,o.context=c,s=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),s=!1)}return _p(e,t,n,s,i,a)}function _p(e,t,n,s,a,i){hS(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return a&&Qv(t,n,!1),Or(e,t,i);s=t.stateNode,OR.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=Lo(t,e.child,null,i),t.child=Lo(t,null,l,i)):An(e,t,l,i),t.memoizedState=s.state,a&&Qv(t,n,!0),t.child}function mS(e){var t=e.stateNode;t.pendingContext?Yv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Yv(e,t.context,!1),gx(e,t.containerInfo)}function fw(e,t,n,s,a){return Mo(),dx(a),t.flags|=256,An(e,t,n,s),t.child}var bp={dehydrated:null,treeContext:null,retryLane:0};function Sp(e){return{baseLanes:e,cachePool:null,transitions:null}}function pS(e,t,n){var s=t.pendingProps,a=Nt.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),ct(Nt,a&1),e===null)return gp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,i?(s=t.mode,i=t.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Nf(o,s,0,null),e=yi(e,s,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Sp(n),t.memoizedState=bp,e):Sx(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return FR(e,t,o,s,l,a,n);if(i){i=s.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=Ea(a,c),s.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Ea(l,i):(i=yi(i,o,n,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,o=e.child.memoizedState,o=o===null?Sp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=bp,s}return i=e.child,e=i.sibling,s=Ea(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Sx(e,t){return t=Nf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ed(e,t,n,s){return s!==null&&dx(s),Lo(t,e.child,null,n),e=Sx(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function FR(e,t,n,s,a,i,o){if(n)return t.flags&256?(t.flags&=-257,s=qh(Error(re(422))),Ed(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,a=t.mode,s=Nf({mode:"visible",children:s.children},a,0,null),i=yi(i,a,o,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&Lo(t,e.child,null,o),t.child.memoizedState=Sp(o),t.memoizedState=bp,i);if(!(t.mode&1))return Ed(e,t,o,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var l=s.dgst;return s=l,i=Error(re(419)),s=qh(i,s,void 0),Ed(e,t,o,s)}if(l=(o&e.childLanes)!==0,qn||l){if(s=nn,s!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Ir(e,a),qs(s,e,a,-1))}return Px(),s=qh(Error(re(421))),Ed(e,t,o,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=JR.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,es=ba(a.nextSibling),ts=t,_t=!0,Vs=null,e!==null&&(js[_s++]=Rr,js[_s++]=Ar,js[_s++]=_i,Rr=e.id,Ar=e.overflow,_i=t),t=Sx(t,s.children),t.flags|=4096,t)}function hw(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),xp(e.return,t,n)}function Kh(e,t,n,s,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=a)}function gS(e,t,n){var s=t.pendingProps,a=s.revealOrder,i=s.tail;if(An(e,t,s.children,n),s=Nt.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hw(e,n,t);else if(e.tag===19)hw(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(ct(Nt,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&$u(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Kh(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&$u(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Kh(t,!0,n,null,i);break;case"together":Kh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function tu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Or(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Si|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(re(153));if(t.child!==null){for(e=t.child,n=Ea(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ea(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function BR(e,t,n){switch(t.tag){case 3:mS(t),Mo();break;case 5:zb(t);break;case 1:Yn(t.type)&&Eu(t);break;case 4:gx(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;ct(Pu,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(ct(Nt,Nt.current&1),t.flags|=128,null):n&t.child.childLanes?pS(e,t,n):(ct(Nt,Nt.current&1),e=Or(e,t,n),e!==null?e.sibling:null);ct(Nt,Nt.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return gS(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ct(Nt,Nt.current),s)break;return null;case 22:case 23:return t.lanes=0,fS(e,t,n)}return Or(e,t,n)}var xS,Np,yS,vS;xS=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Np=function(){};yS=function(e,t,n,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,li(hr.current);var i=null;switch(n){case"input":a=Km(e,a),s=Km(e,s),i=[];break;case"select":a=kt({},a,{value:void 0}),s=kt({},s,{value:void 0}),i=[];break;case"textarea":a=Qm(e,a),s=Qm(e,s),i=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Nu)}Jm(n,s);var o;n=null;for(d in a)if(!s.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(sc.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in s){var c=s[d];if(l=a!=null?a[d]:void 0,s.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(sc.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&gt("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};vS=function(e,t,n,s){n!==s&&(t.flags|=4)};function wl(e,t){if(!_t)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function wn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function UR(e,t,n){var s=t.pendingProps;switch(cx(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wn(t),null;case 1:return Yn(t.type)&&Cu(),wn(t),null;case 3:return s=t.stateNode,Io(),yt(Gn),yt(Nn),yx(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Nd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Vs!==null&&($p(Vs),Vs=null))),Np(e,t),wn(t),null;case 5:xx(t);var a=li(pc.current);if(n=t.type,e!==null&&t.stateNode!=null)yS(e,t,n,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(re(166));return wn(t),null}if(e=li(hr.current),Nd(t)){s=t.stateNode,n=t.type;var i=t.memoizedProps;switch(s[cr]=t,s[hc]=i,e=(t.mode&1)!==0,n){case"dialog":gt("cancel",s),gt("close",s);break;case"iframe":case"object":case"embed":gt("load",s);break;case"video":case"audio":for(a=0;a<Pl.length;a++)gt(Pl[a],s);break;case"source":gt("error",s);break;case"img":case"image":case"link":gt("error",s),gt("load",s);break;case"details":gt("toggle",s);break;case"input":_v(s,i),gt("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},gt("invalid",s);break;case"textarea":Sv(s,i),gt("invalid",s)}Jm(n,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?s.textContent!==l&&(i.suppressHydrationWarning!==!0&&Sd(s.textContent,l,e),a=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Sd(s.textContent,l,e),a=["children",""+l]):sc.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&gt("scroll",s)}switch(n){case"input":gd(s),bv(s,i,!0);break;case"textarea":gd(s),Nv(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=Nu)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=K_(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(n,{is:s.is}):(e=o.createElement(n),n==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,n),e[cr]=t,e[hc]=s,xS(e,t,!1,!1),t.stateNode=e;e:{switch(o=Zm(n,s),n){case"dialog":gt("cancel",e),gt("close",e),a=s;break;case"iframe":case"object":case"embed":gt("load",e),a=s;break;case"video":case"audio":for(a=0;a<Pl.length;a++)gt(Pl[a],e);a=s;break;case"source":gt("error",e),a=s;break;case"img":case"image":case"link":gt("error",e),gt("load",e),a=s;break;case"details":gt("toggle",e),a=s;break;case"input":_v(e,s),a=Km(e,s),gt("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=kt({},s,{value:void 0}),gt("invalid",e);break;case"textarea":Sv(e,s),a=Qm(e,s),gt("invalid",e);break;default:a=s}Jm(n,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Q_(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&G_(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&rc(e,c):typeof c=="number"&&rc(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(sc.hasOwnProperty(i)?c!=null&&i==="onScroll"&&gt("scroll",e):c!=null&&Gg(e,i,c,o))}switch(n){case"input":gd(e),bv(e,s,!1);break;case"textarea":gd(e),Nv(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Pa(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?mo(e,!!s.multiple,i,!1):s.defaultValue!=null&&mo(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Nu)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return wn(t),null;case 6:if(e&&t.stateNode!=null)vS(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(re(166));if(n=li(pc.current),li(hr.current),Nd(t)){if(s=t.stateNode,n=t.memoizedProps,s[cr]=t,(i=s.nodeValue!==n)&&(e=ts,e!==null))switch(e.tag){case 3:Sd(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Sd(s.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[cr]=t,t.stateNode=s}return wn(t),null;case 13:if(yt(Nt),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(_t&&es!==null&&t.mode&1&&!(t.flags&128))Ib(),Mo(),t.flags|=98560,i=!1;else if(i=Nd(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(re(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(re(317));i[cr]=t}else Mo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;wn(t),i=!1}else Vs!==null&&($p(Vs),Vs=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||Nt.current&1?Kt===0&&(Kt=3):Px())),t.updateQueue!==null&&(t.flags|=4),wn(t),null);case 4:return Io(),Np(e,t),e===null&&uc(t.stateNode.containerInfo),wn(t),null;case 10:return hx(t.type._context),wn(t),null;case 17:return Yn(t.type)&&Cu(),wn(t),null;case 19:if(yt(Nt),i=t.memoizedState,i===null)return wn(t),null;if(s=(t.flags&128)!==0,o=i.rendering,o===null)if(s)wl(i,!1);else{if(Kt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=$u(e),o!==null){for(t.flags|=128,wl(i,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)i=n,e=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ct(Nt,Nt.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ot()>Fo&&(t.flags|=128,s=!0,wl(i,!1),t.lanes=4194304)}else{if(!s)if(e=$u(o),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),wl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!_t)return wn(t),null}else 2*Ot()-i.renderingStartTime>Fo&&n!==1073741824&&(t.flags|=128,s=!0,wl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ot(),t.sibling=null,n=Nt.current,ct(Nt,s?n&1|2:n&1),t):(wn(t),null);case 22:case 23:return kx(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Xn&1073741824&&(wn(t),t.subtreeFlags&6&&(t.flags|=8192)):wn(t),null;case 24:return null;case 25:return null}throw Error(re(156,t.tag))}function zR(e,t){switch(cx(t),t.tag){case 1:return Yn(t.type)&&Cu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Io(),yt(Gn),yt(Nn),yx(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return xx(t),null;case 13:if(yt(Nt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(re(340));Mo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return yt(Nt),null;case 4:return Io(),null;case 10:return hx(t.type._context),null;case 22:case 23:return kx(),null;case 24:return null;default:return null}}var Td=!1,bn=!1,VR=typeof WeakSet=="function"?WeakSet:Set,he=null;function io(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){$t(e,t,s)}else n.current=null}function Cp(e,t,n){try{n()}catch(s){$t(e,t,s)}}var mw=!1;function WR(e,t){if(cp=_u,e=Sb(),ox(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var a=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,f=e,m=null;t:for(;;){for(var y;f!==n||a!==0&&f.nodeType!==3||(l=o+a),f!==i||s!==0&&f.nodeType!==3||(c=o+s),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)m=f,f=y;for(;;){if(f===e)break t;if(m===n&&++d===a&&(l=o),m===i&&++u===s&&(c=o),(y=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=y}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(dp={focusedElem:e,selectionRange:n},_u=!1,he=t;he!==null;)if(t=he,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,he=e;else for(;he!==null;){t=he;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var g=j.memoizedProps,w=j.memoizedState,x=t.stateNode,p=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:Is(t.type,g),w);x.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(_){$t(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,he=e;break}he=t.return}return j=mw,mw=!1,j}function Ul(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Cp(t,n,i)}a=a.next}while(a!==s)}}function bf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function Ep(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function wS(e){var t=e.alternate;t!==null&&(e.alternate=null,wS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[cr],delete t[hc],delete t[hp],delete t[CR],delete t[ER])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function jS(e){return e.tag===5||e.tag===3||e.tag===4}function pw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||jS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Tp(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Nu));else if(s!==4&&(e=e.child,e!==null))for(Tp(e,t,n),e=e.sibling;e!==null;)Tp(e,t,n),e=e.sibling}function kp(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(kp(e,t,n),e=e.sibling;e!==null;)kp(e,t,n),e=e.sibling}var cn=null,Us=!1;function Qr(e,t,n){for(n=n.child;n!==null;)_S(e,t,n),n=n.sibling}function _S(e,t,n){if(fr&&typeof fr.onCommitFiberUnmount=="function")try{fr.onCommitFiberUnmount(pf,n)}catch{}switch(n.tag){case 5:bn||io(n,t);case 6:var s=cn,a=Us;cn=null,Qr(e,t,n),cn=s,Us=a,cn!==null&&(Us?(e=cn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):cn.removeChild(n.stateNode));break;case 18:cn!==null&&(Us?(e=cn,n=n.stateNode,e.nodeType===8?Bh(e.parentNode,n):e.nodeType===1&&Bh(e,n),lc(e)):Bh(cn,n.stateNode));break;case 4:s=cn,a=Us,cn=n.stateNode.containerInfo,Us=!0,Qr(e,t,n),cn=s,Us=a;break;case 0:case 11:case 14:case 15:if(!bn&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Cp(n,t,o),a=a.next}while(a!==s)}Qr(e,t,n);break;case 1:if(!bn&&(io(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(l){$t(n,t,l)}Qr(e,t,n);break;case 21:Qr(e,t,n);break;case 22:n.mode&1?(bn=(s=bn)||n.memoizedState!==null,Qr(e,t,n),bn=s):Qr(e,t,n);break;default:Qr(e,t,n)}}function gw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new VR),t.forEach(function(s){var a=ZR.bind(null,e,s);n.has(s)||(n.add(s),s.then(a,a))})}}function $s(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var a=n[s];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:cn=l.stateNode,Us=!1;break e;case 3:cn=l.stateNode.containerInfo,Us=!0;break e;case 4:cn=l.stateNode.containerInfo,Us=!0;break e}l=l.return}if(cn===null)throw Error(re(160));_S(i,o,a),cn=null,Us=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){$t(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)bS(t,e),t=t.sibling}function bS(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if($s(t,e),nr(e),s&4){try{Ul(3,e,e.return),bf(3,e)}catch(g){$t(e,e.return,g)}try{Ul(5,e,e.return)}catch(g){$t(e,e.return,g)}}break;case 1:$s(t,e),nr(e),s&512&&n!==null&&io(n,n.return);break;case 5:if($s(t,e),nr(e),s&512&&n!==null&&io(n,n.return),e.flags&32){var a=e.stateNode;try{rc(a,"")}catch(g){$t(e,e.return,g)}}if(s&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&H_(a,i),Zm(l,o);var d=Zm(l,i);for(o=0;o<c.length;o+=2){var u=c[o],f=c[o+1];u==="style"?Q_(a,f):u==="dangerouslySetInnerHTML"?G_(a,f):u==="children"?rc(a,f):Gg(a,u,f,d)}switch(l){case"input":Gm(a,i);break;case"textarea":q_(a,i);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?mo(a,!!i.multiple,y,!1):m!==!!i.multiple&&(i.defaultValue!=null?mo(a,!!i.multiple,i.defaultValue,!0):mo(a,!!i.multiple,i.multiple?[]:"",!1))}a[hc]=i}catch(g){$t(e,e.return,g)}}break;case 6:if($s(t,e),nr(e),s&4){if(e.stateNode===null)throw Error(re(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(g){$t(e,e.return,g)}}break;case 3:if($s(t,e),nr(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{lc(t.containerInfo)}catch(g){$t(e,e.return,g)}break;case 4:$s(t,e),nr(e);break;case 13:$s(t,e),nr(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Ex=Ot())),s&4&&gw(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(bn=(d=bn)||u,$s(t,e),bn=d):$s(t,e),nr(e),s&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(he=e,u=e.child;u!==null;){for(f=he=u;he!==null;){switch(m=he,y=m.child,m.tag){case 0:case 11:case 14:case 15:Ul(4,m,m.return);break;case 1:io(m,m.return);var j=m.stateNode;if(typeof j.componentWillUnmount=="function"){s=m,n=m.return;try{t=s,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(g){$t(s,n,g)}}break;case 5:io(m,m.return);break;case 22:if(m.memoizedState!==null){yw(f);continue}}y!==null?(y.return=m,he=y):yw(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{a=f.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Y_("display",o))}catch(g){$t(e,e.return,g)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(g){$t(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:$s(t,e),nr(e),s&4&&gw(e);break;case 21:break;default:$s(t,e),nr(e)}}function nr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(jS(n)){var s=n;break e}n=n.return}throw Error(re(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(rc(a,""),s.flags&=-33);var i=pw(e);kp(e,i,a);break;case 3:case 4:var o=s.stateNode.containerInfo,l=pw(e);Tp(e,l,o);break;default:throw Error(re(161))}}catch(c){$t(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function HR(e,t,n){he=e,SS(e)}function SS(e,t,n){for(var s=(e.mode&1)!==0;he!==null;){var a=he,i=a.child;if(a.tag===22&&s){var o=a.memoizedState!==null||Td;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||bn;l=Td;var d=bn;if(Td=o,(bn=c)&&!d)for(he=a;he!==null;)o=he,c=o.child,o.tag===22&&o.memoizedState!==null?vw(a):c!==null?(c.return=o,he=c):vw(a);for(;i!==null;)he=i,SS(i),i=i.sibling;he=a,Td=l,bn=d}xw(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,he=i):xw(e)}}function xw(e){for(;he!==null;){var t=he;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:bn||bf(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!bn)if(n===null)s.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:Is(t.type,n.memoizedProps);s.componentDidUpdate(a,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&tw(t,i,s);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}tw(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&lc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}bn||t.flags&512&&Ep(t)}catch(m){$t(t,t.return,m)}}if(t===e){he=null;break}if(n=t.sibling,n!==null){n.return=t.return,he=n;break}he=t.return}}function yw(e){for(;he!==null;){var t=he;if(t===e){he=null;break}var n=t.sibling;if(n!==null){n.return=t.return,he=n;break}he=t.return}}function vw(e){for(;he!==null;){var t=he;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{bf(4,t)}catch(c){$t(t,n,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(c){$t(t,a,c)}}var i=t.return;try{Ep(t)}catch(c){$t(t,i,c)}break;case 5:var o=t.return;try{Ep(t)}catch(c){$t(t,o,c)}}}catch(c){$t(t,t.return,c)}if(t===e){he=null;break}var l=t.sibling;if(l!==null){l.return=t.return,he=l;break}he=t.return}}var qR=Math.ceil,Lu=qr.ReactCurrentDispatcher,Nx=qr.ReactCurrentOwner,Ns=qr.ReactCurrentBatchConfig,He=0,nn=null,zt=null,mn=0,Xn=0,oo=Ia(0),Kt=0,vc=null,Si=0,Sf=0,Cx=0,zl=null,Wn=null,Ex=0,Fo=1/0,Cr=null,Iu=!1,Pp=null,Na=null,kd=!1,xa=null,Ou=0,Vl=0,Rp=null,nu=-1,su=0;function Ln(){return He&6?Ot():nu!==-1?nu:nu=Ot()}function Ca(e){return e.mode&1?He&2&&mn!==0?mn&-mn:kR.transition!==null?(su===0&&(su=lb()),su):(e=et,e!==0||(e=window.event,e=e===void 0?16:pb(e.type)),e):1}function qs(e,t,n,s){if(50<Vl)throw Vl=0,Rp=null,Error(re(185));Vc(e,n,s),(!(He&2)||e!==nn)&&(e===nn&&(!(He&2)&&(Sf|=n),Kt===4&&ca(e,mn)),Qn(e,s),n===1&&He===0&&!(t.mode&1)&&(Fo=Ot()+500,wf&&Oa()))}function Qn(e,t){var n=e.callbackNode;k2(e,t);var s=ju(e,e===nn?mn:0);if(s===0)n!==null&&Tv(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&Tv(n),t===1)e.tag===0?TR(ww.bind(null,e)):Db(ww.bind(null,e)),SR(function(){!(He&6)&&Oa()}),n=null;else{switch(cb(s)){case 1:n=Zg;break;case 4:n=ib;break;case 16:n=wu;break;case 536870912:n=ob;break;default:n=wu}n=AS(n,NS.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function NS(e,t){if(nu=-1,su=0,He&6)throw Error(re(327));var n=e.callbackNode;if(vo()&&e.callbackNode!==n)return null;var s=ju(e,e===nn?mn:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Fu(e,s);else{t=s;var a=He;He|=2;var i=ES();(nn!==e||mn!==t)&&(Cr=null,Fo=Ot()+500,xi(e,t));do try{YR();break}catch(l){CS(e,l)}while(!0);fx(),Lu.current=i,He=a,zt!==null?t=0:(nn=null,mn=0,t=Kt)}if(t!==0){if(t===2&&(a=rp(e),a!==0&&(s=a,t=Ap(e,a))),t===1)throw n=vc,xi(e,0),ca(e,s),Qn(e,Ot()),n;if(t===6)ca(e,s);else{if(a=e.current.alternate,!(s&30)&&!KR(a)&&(t=Fu(e,s),t===2&&(i=rp(e),i!==0&&(s=i,t=Ap(e,i))),t===1))throw n=vc,xi(e,0),ca(e,s),Qn(e,Ot()),n;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(re(345));case 2:ni(e,Wn,Cr);break;case 3:if(ca(e,s),(s&130023424)===s&&(t=Ex+500-Ot(),10<t)){if(ju(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){Ln(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=fp(ni.bind(null,e,Wn,Cr),t);break}ni(e,Wn,Cr);break;case 4:if(ca(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var o=31-Hs(s);i=1<<o,o=t[o],o>a&&(a=o),s&=~i}if(s=a,s=Ot()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*qR(s/1960))-s,10<s){e.timeoutHandle=fp(ni.bind(null,e,Wn,Cr),s);break}ni(e,Wn,Cr);break;case 5:ni(e,Wn,Cr);break;default:throw Error(re(329))}}}return Qn(e,Ot()),e.callbackNode===n?NS.bind(null,e):null}function Ap(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(xi(e,t).flags|=256),e=Fu(e,t),e!==2&&(t=Wn,Wn=n,t!==null&&$p(t)),e}function $p(e){Wn===null?Wn=e:Wn.push.apply(Wn,e)}function KR(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var a=n[s],i=a.getSnapshot;a=a.value;try{if(!Ks(i(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ca(e,t){for(t&=~Cx,t&=~Sf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Hs(t),s=1<<n;e[n]=-1,t&=~s}}function ww(e){if(He&6)throw Error(re(327));vo();var t=ju(e,0);if(!(t&1))return Qn(e,Ot()),null;var n=Fu(e,t);if(e.tag!==0&&n===2){var s=rp(e);s!==0&&(t=s,n=Ap(e,s))}if(n===1)throw n=vc,xi(e,0),ca(e,t),Qn(e,Ot()),n;if(n===6)throw Error(re(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ni(e,Wn,Cr),Qn(e,Ot()),null}function Tx(e,t){var n=He;He|=1;try{return e(t)}finally{He=n,He===0&&(Fo=Ot()+500,wf&&Oa())}}function Ni(e){xa!==null&&xa.tag===0&&!(He&6)&&vo();var t=He;He|=1;var n=Ns.transition,s=et;try{if(Ns.transition=null,et=1,e)return e()}finally{et=s,Ns.transition=n,He=t,!(He&6)&&Oa()}}function kx(){Xn=oo.current,yt(oo)}function xi(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,bR(n)),zt!==null)for(n=zt.return;n!==null;){var s=n;switch(cx(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Cu();break;case 3:Io(),yt(Gn),yt(Nn),yx();break;case 5:xx(s);break;case 4:Io();break;case 13:yt(Nt);break;case 19:yt(Nt);break;case 10:hx(s.type._context);break;case 22:case 23:kx()}n=n.return}if(nn=e,zt=e=Ea(e.current,null),mn=Xn=t,Kt=0,vc=null,Cx=Sf=Si=0,Wn=zl=null,oi!==null){for(t=0;t<oi.length;t++)if(n=oi[t],s=n.interleaved,s!==null){n.interleaved=null;var a=s.next,i=n.pending;if(i!==null){var o=i.next;i.next=a,s.next=o}n.pending=s}oi=null}return e}function CS(e,t){do{var n=zt;try{if(fx(),Zd.current=Mu,Du){for(var s=Tt.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Du=!1}if(bi=0,en=Ht=Tt=null,Bl=!1,gc=0,Nx.current=null,n===null||n.return===null){Kt=1,vc=t,zt=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=mn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var y=ow(o);if(y!==null){y.flags&=-257,lw(y,o,l,i,t),y.mode&1&&iw(i,d,t),t=y,c=d;var j=t.updateQueue;if(j===null){var g=new Set;g.add(c),t.updateQueue=g}else j.add(c);break e}else{if(!(t&1)){iw(i,d,t),Px();break e}c=Error(re(426))}}else if(_t&&l.mode&1){var w=ow(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),lw(w,o,l,i,t),dx(Oo(c,l));break e}}i=c=Oo(c,l),Kt!==4&&(Kt=2),zl===null?zl=[i]:zl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=cS(i,c,t);ew(i,x);break e;case 1:l=c;var p=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Na===null||!Na.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=dS(i,l,t);ew(i,_);break e}}i=i.return}while(i!==null)}kS(n)}catch(b){t=b,zt===n&&n!==null&&(zt=n=n.return);continue}break}while(!0)}function ES(){var e=Lu.current;return Lu.current=Mu,e===null?Mu:e}function Px(){(Kt===0||Kt===3||Kt===2)&&(Kt=4),nn===null||!(Si&268435455)&&!(Sf&268435455)||ca(nn,mn)}function Fu(e,t){var n=He;He|=2;var s=ES();(nn!==e||mn!==t)&&(Cr=null,xi(e,t));do try{GR();break}catch(a){CS(e,a)}while(!0);if(fx(),He=n,Lu.current=s,zt!==null)throw Error(re(261));return nn=null,mn=0,Kt}function GR(){for(;zt!==null;)TS(zt)}function YR(){for(;zt!==null&&!w2();)TS(zt)}function TS(e){var t=RS(e.alternate,e,Xn);e.memoizedProps=e.pendingProps,t===null?kS(e):zt=t,Nx.current=null}function kS(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=zR(n,t),n!==null){n.flags&=32767,zt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Kt=6,zt=null;return}}else if(n=UR(n,t,Xn),n!==null){zt=n;return}if(t=t.sibling,t!==null){zt=t;return}zt=t=e}while(t!==null);Kt===0&&(Kt=5)}function ni(e,t,n){var s=et,a=Ns.transition;try{Ns.transition=null,et=1,QR(e,t,n,s)}finally{Ns.transition=a,et=s}return null}function QR(e,t,n,s){do vo();while(xa!==null);if(He&6)throw Error(re(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(re(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(P2(e,i),e===nn&&(zt=nn=null,mn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||kd||(kd=!0,AS(wu,function(){return vo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ns.transition,Ns.transition=null;var o=et;et=1;var l=He;He|=4,Nx.current=null,WR(e,n),bS(n,e),gR(dp),_u=!!cp,dp=cp=null,e.current=n,HR(n),j2(),He=l,et=o,Ns.transition=i}else e.current=n;if(kd&&(kd=!1,xa=e,Ou=a),i=e.pendingLanes,i===0&&(Na=null),S2(n.stateNode),Qn(e,Ot()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],s(a.value,{componentStack:a.stack,digest:a.digest});if(Iu)throw Iu=!1,e=Pp,Pp=null,e;return Ou&1&&e.tag!==0&&vo(),i=e.pendingLanes,i&1?e===Rp?Vl++:(Vl=0,Rp=e):Vl=0,Oa(),null}function vo(){if(xa!==null){var e=cb(Ou),t=Ns.transition,n=et;try{if(Ns.transition=null,et=16>e?16:e,xa===null)var s=!1;else{if(e=xa,xa=null,Ou=0,He&6)throw Error(re(331));var a=He;for(He|=4,he=e.current;he!==null;){var i=he,o=i.child;if(he.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(he=d;he!==null;){var u=he;switch(u.tag){case 0:case 11:case 15:Ul(8,u,i)}var f=u.child;if(f!==null)f.return=u,he=f;else for(;he!==null;){u=he;var m=u.sibling,y=u.return;if(wS(u),u===d){he=null;break}if(m!==null){m.return=y,he=m;break}he=y}}}var j=i.alternate;if(j!==null){var g=j.child;if(g!==null){j.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}he=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,he=o;else e:for(;he!==null;){if(i=he,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ul(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,he=x;break e}he=i.return}}var p=e.current;for(he=p;he!==null;){o=he;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,he=v;else e:for(o=p;he!==null;){if(l=he,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:bf(9,l)}}catch(b){$t(l,l.return,b)}if(l===o){he=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,he=_;break e}he=l.return}}if(He=a,Oa(),fr&&typeof fr.onPostCommitFiberRoot=="function")try{fr.onPostCommitFiberRoot(pf,e)}catch{}s=!0}return s}finally{et=n,Ns.transition=t}}return!1}function jw(e,t,n){t=Oo(n,t),t=cS(e,t,1),e=Sa(e,t,1),t=Ln(),e!==null&&(Vc(e,1,t),Qn(e,t))}function $t(e,t,n){if(e.tag===3)jw(e,e,n);else for(;t!==null;){if(t.tag===3){jw(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Na===null||!Na.has(s))){e=Oo(n,e),e=dS(t,e,1),t=Sa(t,e,1),e=Ln(),t!==null&&(Vc(t,1,e),Qn(t,e));break}}t=t.return}}function XR(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=Ln(),e.pingedLanes|=e.suspendedLanes&n,nn===e&&(mn&n)===n&&(Kt===4||Kt===3&&(mn&130023424)===mn&&500>Ot()-Ex?xi(e,0):Cx|=n),Qn(e,t)}function PS(e,t){t===0&&(e.mode&1?(t=vd,vd<<=1,!(vd&130023424)&&(vd=4194304)):t=1);var n=Ln();e=Ir(e,t),e!==null&&(Vc(e,t,n),Qn(e,n))}function JR(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),PS(e,n)}function ZR(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(re(314))}s!==null&&s.delete(t),PS(e,n)}var RS;RS=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Gn.current)qn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return qn=!1,BR(e,t,n);qn=!!(e.flags&131072)}else qn=!1,_t&&t.flags&1048576&&Mb(t,ku,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;tu(e,t),e=t.pendingProps;var a=Do(t,Nn.current);yo(t,n),a=wx(null,t,s,e,a,n);var i=jx();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Yn(s)?(i=!0,Eu(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,px(t),a.updater=_f,t.stateNode=a,a._reactInternals=t,vp(t,s,e,n),t=_p(null,t,s,!0,i,n)):(t.tag=0,_t&&i&&lx(t),An(null,t,a,n),t=t.child),t;case 16:s=t.elementType;e:{switch(tu(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=tA(s),e=Is(s,e),a){case 0:t=jp(null,t,s,e,n);break e;case 1:t=uw(null,t,s,e,n);break e;case 11:t=cw(null,t,s,e,n);break e;case 14:t=dw(null,t,s,Is(s.type,e),n);break e}throw Error(re(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Is(s,a),jp(e,t,s,a,n);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Is(s,a),uw(e,t,s,a,n);case 3:e:{if(mS(t),e===null)throw Error(re(387));s=t.pendingProps,i=t.memoizedState,a=i.element,Ub(e,t),Au(t,s,null,n);var o=t.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Oo(Error(re(423)),t),t=fw(e,t,s,n,a);break e}else if(s!==a){a=Oo(Error(re(424)),t),t=fw(e,t,s,n,a);break e}else for(es=ba(t.stateNode.containerInfo.firstChild),ts=t,_t=!0,Vs=null,n=Fb(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Mo(),s===a){t=Or(e,t,n);break e}An(e,t,s,n)}t=t.child}return t;case 5:return zb(t),e===null&&gp(t),s=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,up(s,a)?o=null:i!==null&&up(s,i)&&(t.flags|=32),hS(e,t),An(e,t,o,n),t.child;case 6:return e===null&&gp(t),null;case 13:return pS(e,t,n);case 4:return gx(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Lo(t,null,s,n):An(e,t,s,n),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Is(s,a),cw(e,t,s,a,n);case 7:return An(e,t,t.pendingProps,n),t.child;case 8:return An(e,t,t.pendingProps.children,n),t.child;case 12:return An(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,ct(Pu,s._currentValue),s._currentValue=o,i!==null)if(Ks(i.value,o)){if(i.children===a.children&&!Gn.current){t=Or(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=$r(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),xp(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(re(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),xp(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}An(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,yo(t,n),a=Ts(a),s=s(a),t.flags|=1,An(e,t,s,n),t.child;case 14:return s=t.type,a=Is(s,t.pendingProps),a=Is(s.type,a),dw(e,t,s,a,n);case 15:return uS(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Is(s,a),tu(e,t),t.tag=1,Yn(s)?(e=!0,Eu(t)):e=!1,yo(t,n),lS(t,s,a),vp(t,s,a,n),_p(null,t,s,!0,e,n);case 19:return gS(e,t,n);case 22:return fS(e,t,n)}throw Error(re(156,t.tag))};function AS(e,t){return ab(e,t)}function eA(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bs(e,t,n,s){return new eA(e,t,n,s)}function Rx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function tA(e){if(typeof e=="function")return Rx(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Qg)return 11;if(e===Xg)return 14}return 2}function Ea(e,t){var n=e.alternate;return n===null?(n=bs(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ru(e,t,n,s,a,i){var o=2;if(s=e,typeof e=="function")Rx(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Xi:return yi(n.children,a,i,t);case Yg:o=8,a|=8;break;case Vm:return e=bs(12,n,t,a|2),e.elementType=Vm,e.lanes=i,e;case Wm:return e=bs(13,n,t,a),e.elementType=Wm,e.lanes=i,e;case Hm:return e=bs(19,n,t,a),e.elementType=Hm,e.lanes=i,e;case z_:return Nf(n,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case B_:o=10;break e;case U_:o=9;break e;case Qg:o=11;break e;case Xg:o=14;break e;case ra:o=16,s=null;break e}throw Error(re(130,e==null?e:typeof e,""))}return t=bs(o,n,t,a),t.elementType=e,t.type=s,t.lanes=i,t}function yi(e,t,n,s){return e=bs(7,e,s,t),e.lanes=n,e}function Nf(e,t,n,s){return e=bs(22,e,s,t),e.elementType=z_,e.lanes=n,e.stateNode={isHidden:!1},e}function Gh(e,t,n){return e=bs(6,e,null,t),e.lanes=n,e}function Yh(e,t,n){return t=bs(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function nA(e,t,n,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kh(0),this.expirationTimes=kh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kh(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Ax(e,t,n,s,a,i,o,l,c){return e=new nA(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=bs(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},px(i),e}function sA(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qi,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function $S(e){if(!e)return Ra;e=e._reactInternals;e:{if(Ai(e)!==e||e.tag!==1)throw Error(re(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Yn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(re(171))}if(e.tag===1){var n=e.type;if(Yn(n))return $b(e,n,t)}return t}function DS(e,t,n,s,a,i,o,l,c){return e=Ax(n,s,!0,e,a,i,o,l,c),e.context=$S(null),n=e.current,s=Ln(),a=Ca(n),i=$r(s,a),i.callback=t??null,Sa(n,i,a),e.current.lanes=a,Vc(e,a,s),Qn(e,s),e}function Cf(e,t,n,s){var a=t.current,i=Ln(),o=Ca(a);return n=$S(n),t.context===null?t.context=n:t.pendingContext=n,t=$r(i,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Sa(a,t,o),e!==null&&(qs(e,a,o,i),Jd(e,a,o)),o}function Bu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function _w(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function $x(e,t){_w(e,t),(e=e.alternate)&&_w(e,t)}function rA(){return null}var MS=typeof reportError=="function"?reportError:function(e){console.error(e)};function Dx(e){this._internalRoot=e}Ef.prototype.render=Dx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(re(409));Cf(e,t,null,null)};Ef.prototype.unmount=Dx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ni(function(){Cf(null,e,null,null)}),t[Lr]=null}};function Ef(e){this._internalRoot=e}Ef.prototype.unstable_scheduleHydration=function(e){if(e){var t=fb();e={blockedOn:null,target:e,priority:t};for(var n=0;n<la.length&&t!==0&&t<la[n].priority;n++);la.splice(n,0,e),n===0&&mb(e)}};function Mx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Tf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function bw(){}function aA(e,t,n,s,a){if(a){if(typeof s=="function"){var i=s;s=function(){var d=Bu(o);i.call(d)}}var o=DS(t,s,e,0,null,!1,!1,"",bw);return e._reactRootContainer=o,e[Lr]=o.current,uc(e.nodeType===8?e.parentNode:e),Ni(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var l=s;s=function(){var d=Bu(c);l.call(d)}}var c=Ax(e,0,!1,null,null,!1,!1,"",bw);return e._reactRootContainer=c,e[Lr]=c.current,uc(e.nodeType===8?e.parentNode:e),Ni(function(){Cf(t,c,n,s)}),c}function kf(e,t,n,s,a){var i=n._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=Bu(o);l.call(c)}}Cf(t,o,e,a)}else o=aA(n,t,e,a,s);return Bu(o)}db=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=kl(t.pendingLanes);n!==0&&(ex(t,n|1),Qn(t,Ot()),!(He&6)&&(Fo=Ot()+500,Oa()))}break;case 13:Ni(function(){var s=Ir(e,1);if(s!==null){var a=Ln();qs(s,e,1,a)}}),$x(e,1)}};tx=function(e){if(e.tag===13){var t=Ir(e,134217728);if(t!==null){var n=Ln();qs(t,e,134217728,n)}$x(e,134217728)}};ub=function(e){if(e.tag===13){var t=Ca(e),n=Ir(e,t);if(n!==null){var s=Ln();qs(n,e,t,s)}$x(e,t)}};fb=function(){return et};hb=function(e,t){var n=et;try{return et=e,t()}finally{et=n}};tp=function(e,t,n){switch(t){case"input":if(Gm(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var a=vf(s);if(!a)throw Error(re(90));W_(s),Gm(s,a)}}}break;case"textarea":q_(e,n);break;case"select":t=n.value,t!=null&&mo(e,!!n.multiple,t,!1)}};Z_=Tx;eb=Ni;var iA={usingClientEntryPoint:!1,Events:[Hc,to,vf,X_,J_,Tx]},jl={findFiberByHostInstance:ii,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},oA={bundleType:jl.bundleType,version:jl.version,rendererPackageName:jl.rendererPackageName,rendererConfig:jl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=sb(e),e===null?null:e.stateNode},findFiberByHostInstance:jl.findFiberByHostInstance||rA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pd.isDisabled&&Pd.supportsFiber)try{pf=Pd.inject(oA),fr=Pd}catch{}}is.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iA;is.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mx(t))throw Error(re(200));return sA(e,t,null,n)};is.createRoot=function(e,t){if(!Mx(e))throw Error(re(299));var n=!1,s="",a=MS;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Ax(e,1,!1,null,null,n,!1,s,a),e[Lr]=t.current,uc(e.nodeType===8?e.parentNode:e),new Dx(t)};is.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(re(188)):(e=Object.keys(e).join(","),Error(re(268,e)));return e=sb(t),e=e===null?null:e.stateNode,e};is.flushSync=function(e){return Ni(e)};is.hydrate=function(e,t,n){if(!Tf(t))throw Error(re(200));return kf(null,e,t,!0,n)};is.hydrateRoot=function(e,t,n){if(!Mx(e))throw Error(re(405));var s=n!=null&&n.hydratedSources||null,a=!1,i="",o=MS;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=DS(t,null,e,1,n??null,a,!1,i,o),e[Lr]=t.current,uc(e),s)for(e=0;e<s.length;e++)n=s[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Ef(t)};is.render=function(e,t,n){if(!Tf(t))throw Error(re(200));return kf(null,e,t,!1,n)};is.unmountComponentAtNode=function(e){if(!Tf(e))throw Error(re(40));return e._reactRootContainer?(Ni(function(){kf(null,null,e,!1,function(){e._reactRootContainer=null,e[Lr]=null})}),!0):!1};is.unstable_batchedUpdates=Tx;is.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Tf(n))throw Error(re(200));if(e==null||e._reactInternals===void 0)throw Error(re(38));return kf(e,t,n,!1,s)};is.version="18.3.1-next-f1338f8080-20240426";function LS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(LS)}catch(e){console.error(e)}}LS(),L_.exports=is;var Ss=L_.exports;const lA=S_(Ss);var IS,Sw=Ss;IS=Sw.createRoot,Sw.hydrateRoot;const cA=1,dA=1e6;let Qh=0;function uA(){return Qh=(Qh+1)%Number.MAX_SAFE_INTEGER,Qh.toString()}const Xh=new Map,Nw=e=>{if(Xh.has(e))return;const t=setTimeout(()=>{Xh.delete(e),Wl({type:"REMOVE_TOAST",toastId:e})},dA);Xh.set(e,t)},fA=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,cA)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Nw(n):e.toasts.forEach(s=>{Nw(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},au=[];let iu={toasts:[]};function Wl(e){iu=fA(iu,e),au.forEach(t=>{t(iu)})}function ya({...e}){const t=uA(),n=a=>Wl({type:"UPDATE_TOAST",toast:{...a,id:t}}),s=()=>Wl({type:"DISMISS_TOAST",toastId:t});return Wl({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||s()}}}),{id:t,dismiss:s,update:n}}function gn(){const[e,t]=h.useState(iu);return h.useEffect(()=>(au.push(t),()=>{const n=au.indexOf(t);n>-1&&au.splice(n,1)}),[e]),{...e,toast:ya,dismiss:n=>Wl({type:"DISMISS_TOAST",toastId:n})}}function ve(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function Cw(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function OS(...e){return t=>{let n=!1;const s=e.map(a=>{const i=Cw(a,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let a=0;a<s.length;a++){const i=s[a];typeof i=="function"?i():Cw(e[a],null)}}}}function Ye(...e){return h.useCallback(OS(...e),e)}function hA(e,t){const n=h.createContext(t),s=i=>{const{children:o,...l}=i,c=h.useMemo(()=>l,Object.values(l));return r.jsx(n.Provider,{value:c,children:o})};s.displayName=e+"Provider";function a(i){const o=h.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[s,a]}function ls(e,t=[]){let n=[];function s(i,o){const l=h.createContext(o),c=n.length;n=[...n,o];const d=f=>{var x;const{scope:m,children:y,...j}=f,g=((x=m==null?void 0:m[e])==null?void 0:x[c])||l,w=h.useMemo(()=>j,Object.values(j));return r.jsx(g.Provider,{value:w,children:y})};d.displayName=i+"Provider";function u(f,m){var g;const y=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,j=h.useContext(y);if(j)return j;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=n.map(o=>h.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,mA(a,...t)]}function mA(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function Bo(e){const t=gA(e),n=h.forwardRef((s,a)=>{const{children:i,...o}=s,l=h.Children.toArray(i),c=l.find(yA);if(c){const d=c.props.children,u=l.map(f=>f===c?h.Children.count(d)>1?h.Children.only(null):h.isValidElement(d)?d.props.children:null:f);return r.jsx(t,{...o,ref:a,children:h.isValidElement(d)?h.cloneElement(d,void 0,u):null})}return r.jsx(t,{...o,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}var pA=Bo("Slot");function gA(e){const t=h.forwardRef((n,s)=>{const{children:a,...i}=n;if(h.isValidElement(a)){const o=wA(a),l=vA(i,a.props);return a.type!==h.Fragment&&(l.ref=s?OS(s,o):o),h.cloneElement(a,l)}return h.Children.count(a)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var FS=Symbol("radix.slottable");function xA(e){const t=({children:n})=>r.jsx(r.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=FS,t}function yA(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===FS}function vA(e,t){const n={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?n[s]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(n[s]=a):s==="style"?n[s]={...a,...i}:s==="className"&&(n[s]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function wA(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Lx(e){const t=e+"CollectionProvider",[n,s]=ls(t),[a,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:w,children:x}=g,p=De.useRef(null),v=De.useRef(new Map).current;return r.jsx(a,{scope:w,itemMap:v,collectionRef:p,children:x})};o.displayName=t;const l=e+"CollectionSlot",c=Bo(l),d=De.forwardRef((g,w)=>{const{scope:x,children:p}=g,v=i(l,x),_=Ye(w,v.collectionRef);return r.jsx(c,{ref:_,children:p})});d.displayName=l;const u=e+"CollectionItemSlot",f="data-radix-collection-item",m=Bo(u),y=De.forwardRef((g,w)=>{const{scope:x,children:p,...v}=g,_=De.useRef(null),b=Ye(w,_),P=i(u,x);return De.useEffect(()=>(P.itemMap.set(_,{ref:_,...v}),()=>void P.itemMap.delete(_))),r.jsx(m,{[f]:"",ref:b,children:p})});y.displayName=u;function j(g){const w=i(e+"CollectionConsumer",g);return De.useCallback(()=>{const p=w.collectionRef.current;if(!p)return[];const v=Array.from(p.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((P,N)=>v.indexOf(P.ref.current)-v.indexOf(N.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:d,ItemSlot:y},j,s]}var jA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],we=jA.reduce((e,t)=>{const n=Bo(`Primitive.${t}`),s=h.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:i})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function BS(e,t){e&&Ss.flushSync(()=>e.dispatchEvent(t))}function as(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}function _A(e,t=globalThis==null?void 0:globalThis.document){const n=as(e);h.useEffect(()=>{const s=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var bA="DismissableLayer",Dp="dismissableLayer.update",SA="dismissableLayer.pointerDownOutside",NA="dismissableLayer.focusOutside",Ew,US=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Kc=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=h.useContext(US),[u,f]=h.useState(null),m=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=h.useState({}),j=Ye(t,N=>f(N)),g=Array.from(d.layers),[w]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),x=g.indexOf(w),p=u?g.indexOf(u):-1,v=d.layersWithOutsidePointerEventsDisabled.size>0,_=p>=x,b=EA(N=>{const E=N.target,R=[...d.branches].some(M=>M.contains(E));!_||R||(a==null||a(N),o==null||o(N),N.defaultPrevented||l==null||l())},m),P=TA(N=>{const E=N.target;[...d.branches].some(M=>M.contains(E))||(i==null||i(N),o==null||o(N),N.defaultPrevented||l==null||l())},m);return _A(N=>{p===d.layers.size-1&&(s==null||s(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},m),h.useEffect(()=>{if(u)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Ew=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),Tw(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Ew)}},[u,m,n,d]),h.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),Tw())},[u,d]),h.useEffect(()=>{const N=()=>y({});return document.addEventListener(Dp,N),()=>document.removeEventListener(Dp,N)},[]),r.jsx(we.div,{...c,ref:j,style:{pointerEvents:v?_?"auto":"none":void 0,...e.style},onFocusCapture:ve(e.onFocusCapture,P.onFocusCapture),onBlurCapture:ve(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:ve(e.onPointerDownCapture,b.onPointerDownCapture)})});Kc.displayName=bA;var CA="DismissableLayerBranch",zS=h.forwardRef((e,t)=>{const n=h.useContext(US),s=h.useRef(null),a=Ye(t,s);return h.useEffect(()=>{const i=s.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),r.jsx(we.div,{...e,ref:a})});zS.displayName=CA;function EA(e,t=globalThis==null?void 0:globalThis.document){const n=as(e),s=h.useRef(!1),a=h.useRef(()=>{});return h.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let c=function(){VS(SA,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function TA(e,t=globalThis==null?void 0:globalThis.document){const n=as(e),s=h.useRef(!1);return h.useEffect(()=>{const a=i=>{i.target&&!s.current&&VS(NA,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Tw(){const e=new CustomEvent(Dp);document.dispatchEvent(e)}function VS(e,t,n,{discrete:s}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),s?BS(a,i):a.dispatchEvent(i)}var kA=Kc,PA=zS,Ft=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},RA="Portal",Gc=h.forwardRef((e,t)=>{var l;const{container:n,...s}=e,[a,i]=h.useState(!1);Ft(()=>i(!0),[]);const o=n||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?lA.createPortal(r.jsx(we.div,{...s,ref:t}),o):null});Gc.displayName=RA;function AA(e,t){return h.useReducer((n,s)=>t[n][s]??n,e)}var vr=e=>{const{present:t,children:n}=e,s=$A(t),a=typeof n=="function"?n({present:s.isPresent}):h.Children.only(n),i=Ye(s.ref,DA(a));return typeof n=="function"||s.isPresent?h.cloneElement(a,{ref:i}):null};vr.displayName="Presence";function $A(e){const[t,n]=h.useState(),s=h.useRef(null),a=h.useRef(e),i=h.useRef("none"),o=e?"mounted":"unmounted",[l,c]=AA(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const d=Rd(s.current);i.current=l==="mounted"?d:"none"},[l]),Ft(()=>{const d=s.current,u=a.current;if(u!==e){const m=i.current,y=Rd(d);e?c("MOUNT"):y==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&m!==y?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Ft(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,f=y=>{const g=Rd(s.current).includes(y.animationName);if(y.target===t&&g&&(c("ANIMATION_END"),!a.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},m=y=>{y.target===t&&(i.current=Rd(s.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(d=>{s.current=d?getComputedStyle(d):null,n(d)},[])}}function Rd(e){return(e==null?void 0:e.animationName)||"none"}function DA(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var MA=Hg[" useInsertionEffect ".trim().toString()]||Ft;function Fr({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[a,i,o]=LA({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:a;{const u=h.useRef(e!==void 0);h.useEffect(()=>{const f=u.current;f!==l&&console.warn(`${s} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,s])}const d=h.useCallback(u=>{var f;if(l){const m=IA(u)?u(e):u;m!==e&&((f=o.current)==null||f.call(o,m))}else i(u)},[l,e,i,o]);return[c,d]}function LA({defaultProp:e,onChange:t}){const[n,s]=h.useState(e),a=h.useRef(n),i=h.useRef(t);return MA(()=>{i.current=t},[t]),h.useEffect(()=>{var o;a.current!==n&&((o=i.current)==null||o.call(i,n),a.current=n)},[n,a]),[n,s,i]}function IA(e){return typeof e=="function"}var WS=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),OA="VisuallyHidden",Pf=h.forwardRef((e,t)=>r.jsx(we.span,{...e,ref:t,style:{...WS,...e.style}}));Pf.displayName=OA;var FA=Pf,Ix="ToastProvider",[Ox,BA,UA]=Lx("Toast"),[HS,q7]=ls("Toast",[UA]),[zA,Rf]=HS(Ix),qS=e=>{const{__scopeToast:t,label:n="Notification",duration:s=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=h.useState(null),[d,u]=h.useState(0),f=h.useRef(!1),m=h.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Ix}\`. Expected non-empty \`string\`.`),r.jsx(Ox.Provider,{scope:t,children:r.jsx(zA,{scope:t,label:n,duration:s,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:h.useCallback(()=>u(y=>y+1),[]),onToastRemove:h.useCallback(()=>u(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};qS.displayName=Ix;var KS="ToastViewport",VA=["F8"],Mp="toast.viewportPause",Lp="toast.viewportResume",GS=h.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:s=VA,label:a="Notifications ({hotkey})",...i}=e,o=Rf(KS,n),l=BA(n),c=h.useRef(null),d=h.useRef(null),u=h.useRef(null),f=h.useRef(null),m=Ye(t,f,o.onViewportChange),y=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=o.toastCount>0;h.useEffect(()=>{const w=x=>{var v;s.length!==0&&s.every(_=>x[_]||x.code===_)&&((v=f.current)==null||v.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[s]),h.useEffect(()=>{const w=c.current,x=f.current;if(j&&w&&x){const p=()=>{if(!o.isClosePausedRef.current){const P=new CustomEvent(Mp);x.dispatchEvent(P),o.isClosePausedRef.current=!0}},v=()=>{if(o.isClosePausedRef.current){const P=new CustomEvent(Lp);x.dispatchEvent(P),o.isClosePausedRef.current=!1}},_=P=>{!w.contains(P.relatedTarget)&&v()},b=()=>{w.contains(document.activeElement)||v()};return w.addEventListener("focusin",p),w.addEventListener("focusout",_),w.addEventListener("pointermove",p),w.addEventListener("pointerleave",b),window.addEventListener("blur",p),window.addEventListener("focus",v),()=>{w.removeEventListener("focusin",p),w.removeEventListener("focusout",_),w.removeEventListener("pointermove",p),w.removeEventListener("pointerleave",b),window.removeEventListener("blur",p),window.removeEventListener("focus",v)}}},[j,o.isClosePausedRef]);const g=h.useCallback(({tabbingDirection:w})=>{const p=l().map(v=>{const _=v.ref.current,b=[_,...n$(_)];return w==="forwards"?b:b.reverse()});return(w==="forwards"?p.reverse():p).flat()},[l]);return h.useEffect(()=>{const w=f.current;if(w){const x=p=>{var b,P,N;const v=p.altKey||p.ctrlKey||p.metaKey;if(p.key==="Tab"&&!v){const E=document.activeElement,R=p.shiftKey;if(p.target===w&&R){(b=d.current)==null||b.focus();return}const O=g({tabbingDirection:R?"backwards":"forwards"}),L=O.findIndex(B=>B===E);Jh(O.slice(L+1))?p.preventDefault():R?(P=d.current)==null||P.focus():(N=u.current)==null||N.focus()}};return w.addEventListener("keydown",x),()=>w.removeEventListener("keydown",x)}},[l,g]),r.jsxs(PA,{ref:c,role:"region","aria-label":a.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:j?void 0:"none"},children:[j&&r.jsx(Ip,{ref:d,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"forwards"});Jh(w)}}),r.jsx(Ox.Slot,{scope:n,children:r.jsx(we.ol,{tabIndex:-1,...i,ref:m})}),j&&r.jsx(Ip,{ref:u,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"backwards"});Jh(w)}})]})});GS.displayName=KS;var YS="ToastFocusProxy",Ip=h.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:s,...a}=e,i=Rf(YS,n);return r.jsx(Pf,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&s()}})});Ip.displayName=YS;var Yc="Toast",WA="toast.swipeStart",HA="toast.swipeMove",qA="toast.swipeCancel",KA="toast.swipeEnd",QS=h.forwardRef((e,t)=>{const{forceMount:n,open:s,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=Fr({prop:s,defaultProp:a??!0,onChange:i,caller:Yc});return r.jsx(vr,{present:n||l,children:r.jsx(QA,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:as(e.onPause),onResume:as(e.onResume),onSwipeStart:ve(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ve(e.onSwipeMove,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ve(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ve(e.onSwipeEnd,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});QS.displayName=Yc;var[GA,YA]=HS(Yc,{onClose(){}}),QA=h.forwardRef((e,t)=>{const{__scopeToast:n,type:s="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:y,...j}=e,g=Rf(Yc,n),[w,x]=h.useState(null),p=Ye(t,B=>x(B)),v=h.useRef(null),_=h.useRef(null),b=a||g.duration,P=h.useRef(0),N=h.useRef(b),E=h.useRef(0),{onToastAdd:R,onToastRemove:M}=g,U=as(()=>{var K;(w==null?void 0:w.contains(document.activeElement))&&((K=g.viewport)==null||K.focus()),o()}),O=h.useCallback(B=>{!B||B===1/0||(window.clearTimeout(E.current),P.current=new Date().getTime(),E.current=window.setTimeout(U,B))},[U]);h.useEffect(()=>{const B=g.viewport;if(B){const K=()=>{O(N.current),d==null||d()},F=()=>{const q=new Date().getTime()-P.current;N.current=N.current-q,window.clearTimeout(E.current),c==null||c()};return B.addEventListener(Mp,F),B.addEventListener(Lp,K),()=>{B.removeEventListener(Mp,F),B.removeEventListener(Lp,K)}}},[g.viewport,b,c,d,O]),h.useEffect(()=>{i&&!g.isClosePausedRef.current&&O(b)},[i,b,g.isClosePausedRef,O]),h.useEffect(()=>(R(),()=>M()),[R,M]);const L=h.useMemo(()=>w?sN(w):null,[w]);return g.viewport?r.jsxs(r.Fragment,{children:[L&&r.jsx(XA,{__scopeToast:n,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:L}),r.jsx(GA,{scope:n,onClose:U,children:Ss.createPortal(r.jsx(Ox.ItemSlot,{scope:n,children:r.jsx(kA,{asChild:!0,onEscapeKeyDown:ve(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||U(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(we.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...j,ref:p,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ve(e.onKeyDown,B=>{B.key==="Escape"&&(l==null||l(B.nativeEvent),B.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,U()))}),onPointerDown:ve(e.onPointerDown,B=>{B.button===0&&(v.current={x:B.clientX,y:B.clientY})}),onPointerMove:ve(e.onPointerMove,B=>{if(!v.current)return;const K=B.clientX-v.current.x,F=B.clientY-v.current.y,q=!!_.current,S=["left","right"].includes(g.swipeDirection),k=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,C=S?k(0,K):0,T=S?0:k(0,F),D=B.pointerType==="touch"?10:2,A={x:C,y:T},$={originalEvent:B,delta:A};q?(_.current=A,Ad(HA,f,$,{discrete:!1})):kw(A,g.swipeDirection,D)?(_.current=A,Ad(WA,u,$,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(K)>D||Math.abs(F)>D)&&(v.current=null)}),onPointerUp:ve(e.onPointerUp,B=>{const K=_.current,F=B.target;if(F.hasPointerCapture(B.pointerId)&&F.releasePointerCapture(B.pointerId),_.current=null,v.current=null,K){const q=B.currentTarget,S={originalEvent:B,delta:K};kw(K,g.swipeDirection,g.swipeThreshold)?Ad(KA,y,S,{discrete:!0}):Ad(qA,m,S,{discrete:!0}),q.addEventListener("click",k=>k.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),XA=e=>{const{__scopeToast:t,children:n,...s}=e,a=Rf(Yc,t),[i,o]=h.useState(!1),[l,c]=h.useState(!1);return e$(()=>o(!0)),h.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:r.jsx(Gc,{asChild:!0,children:r.jsx(Pf,{...s,children:i&&r.jsxs(r.Fragment,{children:[a.label," ",n]})})})},JA="ToastTitle",XS=h.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return r.jsx(we.div,{...s,ref:t})});XS.displayName=JA;var ZA="ToastDescription",JS=h.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return r.jsx(we.div,{...s,ref:t})});JS.displayName=ZA;var ZS="ToastAction",eN=h.forwardRef((e,t)=>{const{altText:n,...s}=e;return n.trim()?r.jsx(nN,{altText:n,asChild:!0,children:r.jsx(Fx,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${ZS}\`. Expected non-empty \`string\`.`),null)});eN.displayName=ZS;var tN="ToastClose",Fx=h.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e,a=YA(tN,n);return r.jsx(nN,{asChild:!0,children:r.jsx(we.button,{type:"button",...s,ref:t,onClick:ve(e.onClick,a.onClose)})})});Fx.displayName=tN;var nN=h.forwardRef((e,t)=>{const{__scopeToast:n,altText:s,...a}=e;return r.jsx(we.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...a,ref:t})});function sN(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),t$(s)){const a=s.ariaHidden||s.hidden||s.style.display==="none",i=s.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=s.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...sN(s))}}),t}function Ad(e,t,n,{discrete:s}){const a=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),s?BS(a,i):a.dispatchEvent(i)}var kw=(e,t,n=0)=>{const s=Math.abs(e.x),a=Math.abs(e.y),i=s>a;return t==="left"||t==="right"?i&&s>n:!i&&a>n};function e$(e=()=>{}){const t=as(e);Ft(()=>{let n=0,s=0;return n=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(s)}},[t])}function t$(e){return e.nodeType===e.ELEMENT_NODE}function n$(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Jh(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var s$=qS,rN=GS,aN=QS,iN=XS,oN=JS,lN=eN,cN=Fx;function dN(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=dN(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function uN(){for(var e,t,n=0,s="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=dN(e))&&(s&&(s+=" "),s+=t);return s}const Pw=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Rw=uN,Jo=(e,t)=>n=>{var s;if((t==null?void 0:t.variants)==null)return Rw(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(d=>{const u=n==null?void 0:n[d],f=i==null?void 0:i[d];if(u===null)return null;const m=Pw(u)||Pw(f);return a[d][m]}),l=n&&Object.entries(n).reduce((d,u)=>{let[f,m]=u;return m===void 0||(d[f]=m),d},{}),c=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((d,u)=>{let{class:f,className:m,...y}=u;return Object.entries(y).every(j=>{let[g,w]=j;return Array.isArray(w)?w.includes({...i,...l}[g]):{...i,...l}[g]===w})?[...d,f,m]:d},[]);return Rw(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r$=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a$=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),Aw=e=>{const t=a$(e);return t.charAt(0).toUpperCase()+t.slice(1)},fN=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),i$=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var o$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l$=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:i,iconNode:o,...l},c)=>h.createElement("svg",{ref:c,...o$,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:fN("lucide",a),...!i&&!i$(l)&&{"aria-hidden":"true"},...l},[...o.map(([d,u])=>h.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=(e,t)=>{const n=h.forwardRef(({className:s,...a},i)=>h.createElement(l$,{ref:i,iconNode:t,className:fN(`lucide-${r$(Aw(e))}`,`lucide-${e}`,s),...a}));return n.displayName=Aw(e),n};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c$=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Uo=xe("activity",c$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],u$=xe("arrow-left-right",d$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f$=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Hl=xe("arrow-left",f$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h$=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Zh=xe("arrow-right",h$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m$=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],Ga=xe("arrow-up-down",m$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p$=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],g$=xe("bot",p$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x$=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ns=xe("calendar",x$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y$=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],v$=xe("chart-column",y$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w$=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Zo=xe("check",w$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j$=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Af=xe("chevron-down",j$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _$=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Bx=xe("chevron-up",_$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],We=xe("circle-alert",b$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S$=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Rl=xe("circle-check-big",S$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],C$=xe("circle-x",N$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],or=xe("clock",E$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T$=[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]],k$=xe("cog",T$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P$=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Ki=xe("database",P$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R$=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Op=xe("dollar-sign",R$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A$=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],hN=xe("download",A$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $$=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Qc=xe("external-link",$$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D$=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ql=xe("eye-off",D$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M$=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],mN=xe("eye",M$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L$=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],wc=xe("file-text",L$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I$=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],pN=xe("funnel",I$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O$=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],gN=xe("grip-vertical",O$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F$=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],B$=xe("history",F$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U$=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],z$=xe("house",U$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Ya=xe("info",V$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W$=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],H$=xe("link",W$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q$=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ct=xe("loader-circle",q$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K$=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],G$=xe("lock",K$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y$=[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],Fp=xe("maximize-2",Y$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q$=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],X$=xe("menu",Q$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J$=[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],Bp=xe("minimize-2",J$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z$=[["path",{d:"M5 12h14",key:"1ays0h"}]],eD=xe("minus",Z$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],nD=xe("moon",tD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],rD=xe("pause",sD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],iD=xe("play",aD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Uu=xe("plus",oD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Xe=xe("refresh-cw",lD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],xN=xe("rotate-ccw",cD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],$f=xe("save",dD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ux=xe("search",uD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],em=xe("server",fD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],zu=xe("settings",hD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],jc=xe("shield",mD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Ci=xe("square-pen",pD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],yN=xe("star",gD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],yD=xe("sun",xD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],_c=xe("swords",vD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],ou=xe("target",wD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]],_D=xe("test-tube",jD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],SD=xe("timer",bD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],zo=xe("trending-up",ND);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],vN=xe("triangle-alert",CD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],bt=xe("trophy",ED);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],wo=xe("user-check",TD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],PD=xe("user",kD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Gt=xe("users",RD);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],$i=xe("x",AD),zx="-",$D=e=>{const t=MD(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:o=>{const l=o.split(zx);return l[0]===""&&l.length!==1&&l.shift(),wN(l,t)||DD(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&s[o]?[...c,...s[o]]:c}}},wN=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),a=s?wN(e.slice(1),s):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(zx);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},$w=/^\[(.+)\]$/,DD=e=>{if($w.test(e)){const t=$w.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},MD=e=>{const{theme:t,prefix:n}=e,s={nextPart:new Map,validators:[]};return ID(Object.entries(e.classGroups),n).forEach(([i,o])=>{Up(o,s,i,t)}),s},Up=(e,t,n,s)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:Dw(t,a);i.classGroupId=n;return}if(typeof a=="function"){if(LD(a)){Up(a(s),t,n,s);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([i,o])=>{Up(o,Dw(t,i),n,s)})})},Dw=(e,t)=>{let n=e;return t.split(zx).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},LD=e=>e.isThemeGetter,ID=(e,t)=>t?e.map(([n,s])=>{const a=s.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[n,a]}):e,OD=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const a=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,s=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=s.get(i))!==void 0)return a(i,o),o},set(i,o){n.has(i)?n.set(i,o):a(i,o)}}},jN="!",FD=e=>{const{separator:t,experimentalParseClassName:n}=e,s=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let d=0,u=0,f;for(let w=0;w<l.length;w++){let x=l[w];if(d===0){if(x===a&&(s||l.slice(w,w+i)===t)){c.push(l.slice(u,w)),u=w+i;continue}if(x==="/"){f=w;continue}}x==="["?d++:x==="]"&&d--}const m=c.length===0?l:l.substring(u),y=m.startsWith(jN),j=y?m.substring(1):m,g=f&&f>u?f-u:void 0;return{modifiers:c,hasImportantModifier:y,baseClassName:j,maybePostfixModifierPosition:g}};return n?l=>n({className:l,parseClassName:o}):o},BD=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(s=>{s[0]==="["?(t.push(...n.sort(),s),n=[]):n.push(s)}),t.push(...n.sort()),t},UD=e=>({cache:OD(e.cacheSize),parseClassName:FD(e),...$D(e)}),zD=/\s+/,VD=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(zD);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:y}=n(d);let j=!!y,g=s(j?m.substring(0,y):m);if(!g){if(!j){l=d+(l.length>0?" "+l:l);continue}if(g=s(m),!g){l=d+(l.length>0?" "+l:l);continue}j=!1}const w=BD(u).join(":"),x=f?w+jN:w,p=x+g;if(i.includes(p))continue;i.push(p);const v=a(g,j);for(let _=0;_<v.length;++_){const b=v[_];i.push(x+b)}l=d+(l.length>0?" "+l:l)}return l};function WD(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=_N(t))&&(s&&(s+=" "),s+=n);return s}const _N=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=_N(e[s]))&&(n&&(n+=" "),n+=t);return n};function HD(e,...t){let n,s,a,i=o;function o(c){const d=t.reduce((u,f)=>f(u),e());return n=UD(d),s=n.cache.get,a=n.cache.set,i=l,l(c)}function l(c){const d=s(c);if(d)return d;const u=VD(c,n);return a(c,u),u}return function(){return i(WD.apply(null,arguments))}}const pt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},bN=/^\[(?:([a-z-]+):)?(.+)\]$/i,qD=/^\d+\/\d+$/,KD=new Set(["px","full","screen"]),GD=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,YD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,QD=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,XD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,JD=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,br=e=>jo(e)||KD.has(e)||qD.test(e),Xr=e=>el(e,"length",iM),jo=e=>!!e&&!Number.isNaN(Number(e)),tm=e=>el(e,"number",jo),_l=e=>!!e&&Number.isInteger(Number(e)),ZD=e=>e.endsWith("%")&&jo(e.slice(0,-1)),Ce=e=>bN.test(e),Jr=e=>GD.test(e),eM=new Set(["length","size","percentage"]),tM=e=>el(e,eM,SN),nM=e=>el(e,"position",SN),sM=new Set(["image","url"]),rM=e=>el(e,sM,lM),aM=e=>el(e,"",oM),bl=()=>!0,el=(e,t,n)=>{const s=bN.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):n(s[2]):!1},iM=e=>YD.test(e)&&!QD.test(e),SN=()=>!1,oM=e=>XD.test(e),lM=e=>JD.test(e),cM=()=>{const e=pt("colors"),t=pt("spacing"),n=pt("blur"),s=pt("brightness"),a=pt("borderColor"),i=pt("borderRadius"),o=pt("borderSpacing"),l=pt("borderWidth"),c=pt("contrast"),d=pt("grayscale"),u=pt("hueRotate"),f=pt("invert"),m=pt("gap"),y=pt("gradientColorStops"),j=pt("gradientColorStopPositions"),g=pt("inset"),w=pt("margin"),x=pt("opacity"),p=pt("padding"),v=pt("saturate"),_=pt("scale"),b=pt("sepia"),P=pt("skew"),N=pt("space"),E=pt("translate"),R=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto",Ce,t],O=()=>[Ce,t],L=()=>["",br,Xr],B=()=>["auto",jo,Ce],K=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],S=()=>["start","end","center","between","around","evenly","stretch"],k=()=>["","0",Ce],C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],T=()=>[jo,Ce];return{cacheSize:500,separator:":",theme:{colors:[bl],spacing:[br,Xr],blur:["none","",Jr,Ce],brightness:T(),borderColor:[e],borderRadius:["none","","full",Jr,Ce],borderSpacing:O(),borderWidth:L(),contrast:T(),grayscale:k(),hueRotate:T(),invert:k(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[ZD,Xr],inset:U(),margin:U(),opacity:T(),padding:O(),saturate:T(),scale:T(),sepia:k(),skew:T(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",Ce]}],container:["container"],columns:[{columns:[Jr]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...K(),Ce]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",_l,Ce]}],basis:[{basis:U()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ce]}],grow:[{grow:k()}],shrink:[{shrink:k()}],order:[{order:["first","last","none",_l,Ce]}],"grid-cols":[{"grid-cols":[bl]}],"col-start-end":[{col:["auto",{span:["full",_l,Ce]},Ce]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[bl]}],"row-start-end":[{row:["auto",{span:[_l,Ce]},Ce]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ce]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...S()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...S(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...S(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ce,t]}],"min-w":[{"min-w":[Ce,t,"min","max","fit"]}],"max-w":[{"max-w":[Ce,t,"none","full","min","max","fit","prose",{screen:[Jr]},Jr]}],h:[{h:[Ce,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ce,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ce,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ce,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Jr,Xr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",tm]}],"font-family":[{font:[bl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ce]}],"line-clamp":[{"line-clamp":["none",jo,tm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",br,Ce]}],"list-image":[{"list-image":["none",Ce]}],"list-style-type":[{list:["none","disc","decimal",Ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",br,Xr]}],"underline-offset":[{"underline-offset":["auto",br,Ce]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...K(),nM]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",tM]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},rM]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[j]}],"gradient-via-pos":[{via:[j]}],"gradient-to-pos":[{to:[j]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:F()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[br,Ce]}],"outline-w":[{outline:[br,Xr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[br,Xr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Jr,aM]}],"shadow-color":[{shadow:[bl]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Jr,Ce]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[v]}],sepia:[{sepia:[b]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[b]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ce]}],duration:[{duration:T()}],ease:[{ease:["linear","in","out","in-out",Ce]}],delay:[{delay:T()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[_l,Ce]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ce]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ce]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ce]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[br,Xr,tm]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},dM=HD(cM);function ye(...e){return dM(uN(e))}const uM=s$,NN=h.forwardRef(({className:e,...t},n)=>r.jsx(rN,{ref:n,className:ye("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));NN.displayName=rN.displayName;const fM=Jo("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),CN=h.forwardRef(({className:e,variant:t,...n},s)=>r.jsx(aN,{ref:s,className:ye(fM({variant:t}),e),...n}));CN.displayName=aN.displayName;const hM=h.forwardRef(({className:e,...t},n)=>r.jsx(lN,{ref:n,className:ye("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));hM.displayName=lN.displayName;const EN=h.forwardRef(({className:e,...t},n)=>r.jsx(cN,{ref:n,className:ye("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:r.jsx($i,{className:"h-4 w-4"})}));EN.displayName=cN.displayName;const TN=h.forwardRef(({className:e,...t},n)=>r.jsx(iN,{ref:n,className:ye("text-sm font-semibold [&+div]:text-xs",e),...t}));TN.displayName=iN.displayName;const kN=h.forwardRef(({className:e,...t},n)=>r.jsx(oN,{ref:n,className:ye("text-sm opacity-90",e),...t}));kN.displayName=oN.displayName;function mM(){const{toasts:e}=gn();return r.jsxs(uM,{children:[e.map(function({id:t,title:n,description:s,action:a,...i}){return r.jsxs(CN,{...i,children:[r.jsxs("div",{className:"grid gap-1",children:[n&&r.jsx(TN,{children:n}),s&&r.jsx(kN,{children:s})]}),a,r.jsx(EN,{})]},t)}),r.jsx(NN,{})]})}var pM=Hg[" useId ".trim().toString()]||(()=>{}),gM=0;function Dr(e){const[t,n]=h.useState(pM());return Ft(()=>{n(s=>s??String(gM++))},[e]),t?`radix-${t}`:""}const xM=["top","right","bottom","left"],Aa=Math.min,Jn=Math.max,Vu=Math.round,$d=Math.floor,mr=e=>({x:e,y:e}),yM={left:"right",right:"left",bottom:"top",top:"bottom"},vM={start:"end",end:"start"};function zp(e,t,n){return Jn(e,Aa(t,n))}function Br(e,t){return typeof e=="function"?e(t):e}function Ur(e){return e.split("-")[0]}function tl(e){return e.split("-")[1]}function Vx(e){return e==="x"?"y":"x"}function Wx(e){return e==="y"?"height":"width"}const wM=new Set(["top","bottom"]);function ur(e){return wM.has(Ur(e))?"y":"x"}function Hx(e){return Vx(ur(e))}function jM(e,t,n){n===void 0&&(n=!1);const s=tl(e),a=Hx(e),i=Wx(a);let o=a==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Wu(o)),[o,Wu(o)]}function _M(e){const t=Wu(e);return[Vp(e),t,Vp(t)]}function Vp(e){return e.replace(/start|end/g,t=>vM[t])}const Mw=["left","right"],Lw=["right","left"],bM=["top","bottom"],SM=["bottom","top"];function NM(e,t,n){switch(e){case"top":case"bottom":return n?t?Lw:Mw:t?Mw:Lw;case"left":case"right":return t?bM:SM;default:return[]}}function CM(e,t,n,s){const a=tl(e);let i=NM(Ur(e),n==="start",s);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(Vp)))),i}function Wu(e){return e.replace(/left|right|bottom|top/g,t=>yM[t])}function EM(e){return{top:0,right:0,bottom:0,left:0,...e}}function PN(e){return typeof e!="number"?EM(e):{top:e,right:e,bottom:e,left:e}}function Hu(e){const{x:t,y:n,width:s,height:a}=e;return{width:s,height:a,top:n,left:t,right:t+s,bottom:n+a,x:t,y:n}}function Iw(e,t,n){let{reference:s,floating:a}=e;const i=ur(t),o=Hx(t),l=Wx(o),c=Ur(t),d=i==="y",u=s.x+s.width/2-a.width/2,f=s.y+s.height/2-a.height/2,m=s[l]/2-a[l]/2;let y;switch(c){case"top":y={x:u,y:s.y-a.height};break;case"bottom":y={x:u,y:s.y+s.height};break;case"right":y={x:s.x+s.width,y:f};break;case"left":y={x:s.x-a.width,y:f};break;default:y={x:s.x,y:s.y}}switch(tl(t)){case"start":y[o]-=m*(n&&d?-1:1);break;case"end":y[o]+=m*(n&&d?-1:1);break}return y}const TM=async(e,t,n)=>{const{placement:s="bottom",strategy:a="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:f}=Iw(d,s,c),m=s,y={},j=0;for(let g=0;g<l.length;g++){const{name:w,fn:x}=l[g],{x:p,y:v,data:_,reset:b}=await x({x:u,y:f,initialPlacement:s,placement:m,strategy:a,middlewareData:y,rects:d,platform:o,elements:{reference:e,floating:t}});u=p??u,f=v??f,y={...y,[w]:{...y[w],..._}},b&&j<=50&&(j++,typeof b=="object"&&(b.placement&&(m=b.placement),b.rects&&(d=b.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):b.rects),{x:u,y:f}=Iw(d,m,c)),g=-1)}return{x:u,y:f,placement:m,strategy:a,middlewareData:y}};async function bc(e,t){var n;t===void 0&&(t={});const{x:s,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:m=!1,padding:y=0}=Br(t,e),j=PN(y),w=l[m?f==="floating"?"reference":"floating":f],x=Hu(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),p=f==="floating"?{x:s,y:a,width:o.floating.width,height:o.floating.height}:o.reference,v=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),_=await(i.isElement==null?void 0:i.isElement(v))?await(i.getScale==null?void 0:i.getScale(v))||{x:1,y:1}:{x:1,y:1},b=Hu(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:p,offsetParent:v,strategy:c}):p);return{top:(x.top-b.top+j.top)/_.y,bottom:(b.bottom-x.bottom+j.bottom)/_.y,left:(x.left-b.left+j.left)/_.x,right:(b.right-x.right+j.right)/_.x}}const kM=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=Br(e,t)||{};if(d==null)return{};const f=PN(u),m={x:n,y:s},y=Hx(a),j=Wx(y),g=await o.getDimensions(d),w=y==="y",x=w?"top":"left",p=w?"bottom":"right",v=w?"clientHeight":"clientWidth",_=i.reference[j]+i.reference[y]-m[y]-i.floating[j],b=m[y]-i.reference[y],P=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let N=P?P[v]:0;(!N||!await(o.isElement==null?void 0:o.isElement(P)))&&(N=l.floating[v]||i.floating[j]);const E=_/2-b/2,R=N/2-g[j]/2-1,M=Aa(f[x],R),U=Aa(f[p],R),O=M,L=N-g[j]-U,B=N/2-g[j]/2+E,K=zp(O,B,L),F=!c.arrow&&tl(a)!=null&&B!==K&&i.reference[j]/2-(B<O?M:U)-g[j]/2<0,q=F?B<O?B-O:B-L:0;return{[y]:m[y]+q,data:{[y]:K,centerOffset:B-K-q,...F&&{alignmentOffset:q}},reset:F}}}),PM=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:g=!0,...w}=Br(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=Ur(a),p=ur(l),v=Ur(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(d.floating)),b=m||(v||!g?[Wu(l)]:_M(l)),P=j!=="none";!m&&P&&b.push(...CM(l,g,j,_));const N=[l,...b],E=await bc(t,w),R=[];let M=((s=i.flip)==null?void 0:s.overflows)||[];if(u&&R.push(E[x]),f){const B=jM(a,o,_);R.push(E[B[0]],E[B[1]])}if(M=[...M,{placement:a,overflows:R}],!R.every(B=>B<=0)){var U,O;const B=(((U=i.flip)==null?void 0:U.index)||0)+1,K=N[B];if(K&&(!(f==="alignment"?p!==ur(K):!1)||M.every(S=>S.overflows[0]>0&&ur(S.placement)===p)))return{data:{index:B,overflows:M},reset:{placement:K}};let F=(O=M.filter(q=>q.overflows[0]<=0).sort((q,S)=>q.overflows[1]-S.overflows[1])[0])==null?void 0:O.placement;if(!F)switch(y){case"bestFit":{var L;const q=(L=M.filter(S=>{if(P){const k=ur(S.placement);return k===p||k==="y"}return!0}).map(S=>[S.placement,S.overflows.filter(k=>k>0).reduce((k,C)=>k+C,0)]).sort((S,k)=>S[1]-k[1])[0])==null?void 0:L[0];q&&(F=q);break}case"initialPlacement":F=l;break}if(a!==F)return{reset:{placement:F}}}return{}}}};function Ow(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Fw(e){return xM.some(t=>e[t]>=0)}const RM=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:s="referenceHidden",...a}=Br(e,t);switch(s){case"referenceHidden":{const i=await bc(t,{...a,elementContext:"reference"}),o=Ow(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Fw(o)}}}case"escaped":{const i=await bc(t,{...a,altBoundary:!0}),o=Ow(i,n.floating);return{data:{escapedOffsets:o,escaped:Fw(o)}}}default:return{}}}}},RN=new Set(["left","top"]);async function AM(e,t){const{placement:n,platform:s,elements:a}=e,i=await(s.isRTL==null?void 0:s.isRTL(a.floating)),o=Ur(n),l=tl(n),c=ur(n)==="y",d=RN.has(o)?-1:1,u=i&&c?-1:1,f=Br(t,e);let{mainAxis:m,crossAxis:y,alignmentAxis:j}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof j=="number"&&(y=l==="end"?j*-1:j),c?{x:y*u,y:m*d}:{x:m*d,y:y*u}}const $M=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await AM(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},DM=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:w=>{let{x,y:p}=w;return{x,y:p}}},...c}=Br(e,t),d={x:n,y:s},u=await bc(t,c),f=ur(Ur(a)),m=Vx(f);let y=d[m],j=d[f];if(i){const w=m==="y"?"top":"left",x=m==="y"?"bottom":"right",p=y+u[w],v=y-u[x];y=zp(p,y,v)}if(o){const w=f==="y"?"top":"left",x=f==="y"?"bottom":"right",p=j+u[w],v=j-u[x];j=zp(p,j,v)}const g=l.fn({...t,[m]:y,[f]:j});return{...g,data:{x:g.x-n,y:g.y-s,enabled:{[m]:i,[f]:o}}}}}},MM=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Br(e,t),u={x:n,y:s},f=ur(a),m=Vx(f);let y=u[m],j=u[f];const g=Br(l,t),w=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const v=m==="y"?"height":"width",_=i.reference[m]-i.floating[v]+w.mainAxis,b=i.reference[m]+i.reference[v]-w.mainAxis;y<_?y=_:y>b&&(y=b)}if(d){var x,p;const v=m==="y"?"width":"height",_=RN.has(Ur(a)),b=i.reference[f]-i.floating[v]+(_&&((x=o.offset)==null?void 0:x[f])||0)+(_?0:w.crossAxis),P=i.reference[f]+i.reference[v]+(_?0:((p=o.offset)==null?void 0:p[f])||0)-(_?w.crossAxis:0);j<b?j=b:j>P&&(j=P)}return{[m]:y,[f]:j}}}},LM=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=Br(e,t),u=await bc(t,d),f=Ur(a),m=tl(a),y=ur(a)==="y",{width:j,height:g}=i.floating;let w,x;f==="top"||f==="bottom"?(w=f,x=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(x=f,w=m==="end"?"top":"bottom");const p=g-u.top-u.bottom,v=j-u.left-u.right,_=Aa(g-u[w],p),b=Aa(j-u[x],v),P=!t.middlewareData.shift;let N=_,E=b;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(E=v),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(N=p),P&&!m){const M=Jn(u.left,0),U=Jn(u.right,0),O=Jn(u.top,0),L=Jn(u.bottom,0);y?E=j-2*(M!==0||U!==0?M+U:Jn(u.left,u.right)):N=g-2*(O!==0||L!==0?O+L:Jn(u.top,u.bottom))}await c({...t,availableWidth:E,availableHeight:N});const R=await o.getDimensions(l.floating);return j!==R.width||g!==R.height?{reset:{rects:!0}}:{}}}};function Df(){return typeof window<"u"}function nl(e){return AN(e)?(e.nodeName||"").toLowerCase():"#document"}function ss(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function wr(e){var t;return(t=(AN(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function AN(e){return Df()?e instanceof Node||e instanceof ss(e).Node:!1}function Gs(e){return Df()?e instanceof Element||e instanceof ss(e).Element:!1}function yr(e){return Df()?e instanceof HTMLElement||e instanceof ss(e).HTMLElement:!1}function Bw(e){return!Df()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ss(e).ShadowRoot}const IM=new Set(["inline","contents"]);function Xc(e){const{overflow:t,overflowX:n,overflowY:s,display:a}=Ys(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!IM.has(a)}const OM=new Set(["table","td","th"]);function FM(e){return OM.has(nl(e))}const BM=[":popover-open",":modal"];function Mf(e){return BM.some(t=>{try{return e.matches(t)}catch{return!1}})}const UM=["transform","translate","scale","rotate","perspective"],zM=["transform","translate","scale","rotate","perspective","filter"],VM=["paint","layout","strict","content"];function qx(e){const t=Kx(),n=Gs(e)?Ys(e):e;return UM.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||zM.some(s=>(n.willChange||"").includes(s))||VM.some(s=>(n.contain||"").includes(s))}function WM(e){let t=$a(e);for(;yr(t)&&!Vo(t);){if(qx(t))return t;if(Mf(t))return null;t=$a(t)}return null}function Kx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const HM=new Set(["html","body","#document"]);function Vo(e){return HM.has(nl(e))}function Ys(e){return ss(e).getComputedStyle(e)}function Lf(e){return Gs(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function $a(e){if(nl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Bw(e)&&e.host||wr(e);return Bw(t)?t.host:t}function $N(e){const t=$a(e);return Vo(t)?e.ownerDocument?e.ownerDocument.body:e.body:yr(t)&&Xc(t)?t:$N(t)}function Sc(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=$N(e),i=a===((s=e.ownerDocument)==null?void 0:s.body),o=ss(a);if(i){const l=Wp(o);return t.concat(o,o.visualViewport||[],Xc(a)?a:[],l&&n?Sc(l):[])}return t.concat(a,Sc(a,[],n))}function Wp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function DN(e){const t=Ys(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const a=yr(e),i=a?e.offsetWidth:n,o=a?e.offsetHeight:s,l=Vu(n)!==i||Vu(s)!==o;return l&&(n=i,s=o),{width:n,height:s,$:l}}function Gx(e){return Gs(e)?e:e.contextElement}function _o(e){const t=Gx(e);if(!yr(t))return mr(1);const n=t.getBoundingClientRect(),{width:s,height:a,$:i}=DN(t);let o=(i?Vu(n.width):n.width)/s,l=(i?Vu(n.height):n.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const qM=mr(0);function MN(e){const t=ss(e);return!Kx()||!t.visualViewport?qM:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function KM(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ss(e)?!1:t}function Ei(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),i=Gx(e);let o=mr(1);t&&(s?Gs(s)&&(o=_o(s)):o=_o(e));const l=KM(i,n,s)?MN(i):mr(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,u=a.width/o.x,f=a.height/o.y;if(i){const m=ss(i),y=s&&Gs(s)?ss(s):s;let j=m,g=Wp(j);for(;g&&s&&y!==j;){const w=_o(g),x=g.getBoundingClientRect(),p=Ys(g),v=x.left+(g.clientLeft+parseFloat(p.paddingLeft))*w.x,_=x.top+(g.clientTop+parseFloat(p.paddingTop))*w.y;c*=w.x,d*=w.y,u*=w.x,f*=w.y,c+=v,d+=_,j=ss(g),g=Wp(j)}}return Hu({width:u,height:f,x:c,y:d})}function Yx(e,t){const n=Lf(e).scrollLeft;return t?t.left+n:Ei(wr(e)).left+n}function LN(e,t,n){n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=s.left+t.scrollLeft-(n?0:Yx(e,s)),i=s.top+t.scrollTop;return{x:a,y:i}}function GM(e){let{elements:t,rect:n,offsetParent:s,strategy:a}=e;const i=a==="fixed",o=wr(s),l=t?Mf(t.floating):!1;if(s===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},d=mr(1);const u=mr(0),f=yr(s);if((f||!f&&!i)&&((nl(s)!=="body"||Xc(o))&&(c=Lf(s)),yr(s))){const y=Ei(s);d=_o(s),u.x=y.x+s.clientLeft,u.y=y.y+s.clientTop}const m=o&&!f&&!i?LN(o,c,!0):mr(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+u.x+m.x,y:n.y*d.y-c.scrollTop*d.y+u.y+m.y}}function YM(e){return Array.from(e.getClientRects())}function QM(e){const t=wr(e),n=Lf(e),s=e.ownerDocument.body,a=Jn(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),i=Jn(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let o=-n.scrollLeft+Yx(e);const l=-n.scrollTop;return Ys(s).direction==="rtl"&&(o+=Jn(t.clientWidth,s.clientWidth)-a),{width:a,height:i,x:o,y:l}}function XM(e,t){const n=ss(e),s=wr(e),a=n.visualViewport;let i=s.clientWidth,o=s.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=Kx();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}const JM=new Set(["absolute","fixed"]);function ZM(e,t){const n=Ei(e,!0,t==="fixed"),s=n.top+e.clientTop,a=n.left+e.clientLeft,i=yr(e)?_o(e):mr(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,d=s*i.y;return{width:o,height:l,x:c,y:d}}function Uw(e,t,n){let s;if(t==="viewport")s=XM(e,n);else if(t==="document")s=QM(wr(e));else if(Gs(t))s=ZM(t,n);else{const a=MN(e);s={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Hu(s)}function IN(e,t){const n=$a(e);return n===t||!Gs(n)||Vo(n)?!1:Ys(n).position==="fixed"||IN(n,t)}function eL(e,t){const n=t.get(e);if(n)return n;let s=Sc(e,[],!1).filter(l=>Gs(l)&&nl(l)!=="body"),a=null;const i=Ys(e).position==="fixed";let o=i?$a(e):e;for(;Gs(o)&&!Vo(o);){const l=Ys(o),c=qx(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&JM.has(a.position)||Xc(o)&&!c&&IN(e,o))?s=s.filter(u=>u!==o):a=l,o=$a(o)}return t.set(e,s),s}function tL(e){let{element:t,boundary:n,rootBoundary:s,strategy:a}=e;const o=[...n==="clippingAncestors"?Mf(t)?[]:eL(t,this._c):[].concat(n),s],l=o[0],c=o.reduce((d,u)=>{const f=Uw(t,u,a);return d.top=Jn(f.top,d.top),d.right=Aa(f.right,d.right),d.bottom=Aa(f.bottom,d.bottom),d.left=Jn(f.left,d.left),d},Uw(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function nL(e){const{width:t,height:n}=DN(e);return{width:t,height:n}}function sL(e,t,n){const s=yr(t),a=wr(t),i=n==="fixed",o=Ei(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=mr(0);function d(){c.x=Yx(a)}if(s||!s&&!i)if((nl(t)!=="body"||Xc(a))&&(l=Lf(t)),s){const y=Ei(t,!0,i,t);c.x=y.x+t.clientLeft,c.y=y.y+t.clientTop}else a&&d();i&&!s&&a&&d();const u=a&&!s&&!i?LN(a,l):mr(0),f=o.left+l.scrollLeft-c.x-u.x,m=o.top+l.scrollTop-c.y-u.y;return{x:f,y:m,width:o.width,height:o.height}}function nm(e){return Ys(e).position==="static"}function zw(e,t){if(!yr(e)||Ys(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return wr(e)===n&&(n=n.ownerDocument.body),n}function ON(e,t){const n=ss(e);if(Mf(e))return n;if(!yr(e)){let a=$a(e);for(;a&&!Vo(a);){if(Gs(a)&&!nm(a))return a;a=$a(a)}return n}let s=zw(e,t);for(;s&&FM(s)&&nm(s);)s=zw(s,t);return s&&Vo(s)&&nm(s)&&!qx(s)?n:s||WM(e)||n}const rL=async function(e){const t=this.getOffsetParent||ON,n=this.getDimensions,s=await n(e.floating);return{reference:sL(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function aL(e){return Ys(e).direction==="rtl"}const iL={convertOffsetParentRelativeRectToViewportRelativeRect:GM,getDocumentElement:wr,getClippingRect:tL,getOffsetParent:ON,getElementRects:rL,getClientRects:YM,getDimensions:nL,getScale:_o,isElement:Gs,isRTL:aL};function FN(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function oL(e,t){let n=null,s;const a=wr(e);function i(){var l;clearTimeout(s),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=e.getBoundingClientRect(),{left:u,top:f,width:m,height:y}=d;if(l||t(),!m||!y)return;const j=$d(f),g=$d(a.clientWidth-(u+m)),w=$d(a.clientHeight-(f+y)),x=$d(u),v={rootMargin:-j+"px "+-g+"px "+-w+"px "+-x+"px",threshold:Jn(0,Aa(1,c))||1};let _=!0;function b(P){const N=P[0].intersectionRatio;if(N!==c){if(!_)return o();N?o(!1,N):s=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!FN(d,e.getBoundingClientRect())&&o(),_=!1}try{n=new IntersectionObserver(b,{...v,root:a.ownerDocument})}catch{n=new IntersectionObserver(b,v)}n.observe(e)}return o(!0),i}function lL(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,d=Gx(e),u=a||i?[...d?Sc(d):[],...Sc(t)]:[];u.forEach(x=>{a&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const f=d&&l?oL(d,n):null;let m=-1,y=null;o&&(y=new ResizeObserver(x=>{let[p]=x;p&&p.target===d&&y&&(y.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var v;(v=y)==null||v.observe(t)})),n()}),d&&!c&&y.observe(d),y.observe(t));let j,g=c?Ei(e):null;c&&w();function w(){const x=Ei(e);g&&!FN(g,x)&&n(),g=x,j=requestAnimationFrame(w)}return n(),()=>{var x;u.forEach(p=>{a&&p.removeEventListener("scroll",n),i&&p.removeEventListener("resize",n)}),f==null||f(),(x=y)==null||x.disconnect(),y=null,c&&cancelAnimationFrame(j)}}const cL=$M,dL=DM,uL=PM,fL=LM,hL=RM,Vw=kM,mL=MM,pL=(e,t,n)=>{const s=new Map,a={platform:iL,...n},i={...a.platform,_c:s};return TM(e,t,{...a,platform:i})};var gL=typeof document<"u",xL=function(){},lu=gL?h.useLayoutEffect:xL;function qu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!qu(e[s],t[s]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,a[s]))return!1;for(s=n;s--!==0;){const i=a[s];if(!(i==="_owner"&&e.$$typeof)&&!qu(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function BN(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Ww(e,t){const n=BN(e);return Math.round(t*n)/n}function sm(e){const t=h.useRef(e);return lu(()=>{t.current=e}),t}function yL(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,f]=h.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,y]=h.useState(s);qu(m,s)||y(s);const[j,g]=h.useState(null),[w,x]=h.useState(null),p=h.useCallback(S=>{S!==P.current&&(P.current=S,g(S))},[]),v=h.useCallback(S=>{S!==N.current&&(N.current=S,x(S))},[]),_=i||j,b=o||w,P=h.useRef(null),N=h.useRef(null),E=h.useRef(u),R=c!=null,M=sm(c),U=sm(a),O=sm(d),L=h.useCallback(()=>{if(!P.current||!N.current)return;const S={placement:t,strategy:n,middleware:m};U.current&&(S.platform=U.current),pL(P.current,N.current,S).then(k=>{const C={...k,isPositioned:O.current!==!1};B.current&&!qu(E.current,C)&&(E.current=C,Ss.flushSync(()=>{f(C)}))})},[m,t,n,U,O]);lu(()=>{d===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(S=>({...S,isPositioned:!1})))},[d]);const B=h.useRef(!1);lu(()=>(B.current=!0,()=>{B.current=!1}),[]),lu(()=>{if(_&&(P.current=_),b&&(N.current=b),_&&b){if(M.current)return M.current(_,b,L);L()}},[_,b,L,M,R]);const K=h.useMemo(()=>({reference:P,floating:N,setReference:p,setFloating:v}),[p,v]),F=h.useMemo(()=>({reference:_,floating:b}),[_,b]),q=h.useMemo(()=>{const S={position:n,left:0,top:0};if(!F.floating)return S;const k=Ww(F.floating,u.x),C=Ww(F.floating,u.y);return l?{...S,transform:"translate("+k+"px, "+C+"px)",...BN(F.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:k,top:C}},[n,l,F.floating,u.x,u.y]);return h.useMemo(()=>({...u,update:L,refs:K,elements:F,floatingStyles:q}),[u,L,K,F,q])}const vL=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:a}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?Vw({element:s.current,padding:a}).fn(n):{}:s?Vw({element:s,padding:a}).fn(n):{}}}},wL=(e,t)=>({...cL(e),options:[e,t]}),jL=(e,t)=>({...dL(e),options:[e,t]}),_L=(e,t)=>({...mL(e),options:[e,t]}),bL=(e,t)=>({...uL(e),options:[e,t]}),SL=(e,t)=>({...fL(e),options:[e,t]}),NL=(e,t)=>({...hL(e),options:[e,t]}),CL=(e,t)=>({...vL(e),options:[e,t]});var EL="Arrow",UN=h.forwardRef((e,t)=>{const{children:n,width:s=10,height:a=5,...i}=e;return r.jsx(we.svg,{...i,ref:t,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});UN.displayName=EL;var TL=UN;function Qx(e){const[t,n]=h.useState(void 0);return Ft(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var Xx="Popper",[zN,If]=ls(Xx),[kL,VN]=zN(Xx),WN=e=>{const{__scopePopper:t,children:n}=e,[s,a]=h.useState(null);return r.jsx(kL,{scope:t,anchor:s,onAnchorChange:a,children:n})};WN.displayName=Xx;var HN="PopperAnchor",qN=h.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:s,...a}=e,i=VN(HN,n),o=h.useRef(null),l=Ye(t,o);return h.useEffect(()=>{i.onAnchorChange((s==null?void 0:s.current)||o.current)}),s?null:r.jsx(we.div,{...a,ref:l})});qN.displayName=HN;var Jx="PopperContent",[PL,RL]=zN(Jx),KN=h.forwardRef((e,t)=>{var z,I,Z,G,Y,Q;const{__scopePopper:n,side:s="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:y="optimized",onPlaced:j,...g}=e,w=VN(Jx,n),[x,p]=h.useState(null),v=Ye(t,le=>p(le)),[_,b]=h.useState(null),P=Qx(_),N=(P==null?void 0:P.width)??0,E=(P==null?void 0:P.height)??0,R=s+(i!=="center"?"-"+i:""),M=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},U=Array.isArray(d)?d:[d],O=U.length>0,L={padding:M,boundary:U.filter($L),altBoundary:O},{refs:B,floatingStyles:K,placement:F,isPositioned:q,middlewareData:S}=yL({strategy:"fixed",placement:R,whileElementsMounted:(...le)=>lL(...le,{animationFrame:y==="always"}),elements:{reference:w.anchor},middleware:[wL({mainAxis:a+E,alignmentAxis:o}),c&&jL({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?_L():void 0,...L}),c&&bL({...L}),SL({...L,apply:({elements:le,rects:fe,availableWidth:ge,availableHeight:Me})=>{const{width:qe,height:Dt}=fe.reference,ue=le.floating.style;ue.setProperty("--radix-popper-available-width",`${ge}px`),ue.setProperty("--radix-popper-available-height",`${Me}px`),ue.setProperty("--radix-popper-anchor-width",`${qe}px`),ue.setProperty("--radix-popper-anchor-height",`${Dt}px`)}}),_&&CL({element:_,padding:l}),DL({arrowWidth:N,arrowHeight:E}),m&&NL({strategy:"referenceHidden",...L})]}),[k,C]=QN(F),T=as(j);Ft(()=>{q&&(T==null||T())},[q,T]);const D=(z=S.arrow)==null?void 0:z.x,A=(I=S.arrow)==null?void 0:I.y,$=((Z=S.arrow)==null?void 0:Z.centerOffset)!==0,[H,W]=h.useState();return Ft(()=>{x&&W(window.getComputedStyle(x).zIndex)},[x]),r.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:q?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:H,"--radix-popper-transform-origin":[(G=S.transformOrigin)==null?void 0:G.x,(Y=S.transformOrigin)==null?void 0:Y.y].join(" "),...((Q=S.hide)==null?void 0:Q.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(PL,{scope:n,placedSide:k,onArrowChange:b,arrowX:D,arrowY:A,shouldHideArrow:$,children:r.jsx(we.div,{"data-side":k,"data-align":C,...g,ref:v,style:{...g.style,animation:q?void 0:"none"}})})})});KN.displayName=Jx;var GN="PopperArrow",AL={top:"bottom",right:"left",bottom:"top",left:"right"},YN=h.forwardRef(function(t,n){const{__scopePopper:s,...a}=t,i=RL(GN,s),o=AL[i.placedSide];return r.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:r.jsx(TL,{...a,ref:n,style:{...a.style,display:"block"}})})});YN.displayName=GN;function $L(e){return e!==null}var DL=e=>({name:"transformOrigin",options:e,fn(t){var w,x,p;const{placement:n,rects:s,middlewareData:a}=t,o=((w=a.arrow)==null?void 0:w.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=QN(n),f={start:"0%",center:"50%",end:"100%"}[u],m=(((x=a.arrow)==null?void 0:x.x)??0)+l/2,y=(((p=a.arrow)==null?void 0:p.y)??0)+c/2;let j="",g="";return d==="bottom"?(j=o?f:`${m}px`,g=`${-c}px`):d==="top"?(j=o?f:`${m}px`,g=`${s.floating.height+c}px`):d==="right"?(j=`${-c}px`,g=o?f:`${y}px`):d==="left"&&(j=`${s.floating.width+c}px`,g=o?f:`${y}px`),{data:{x:j,y:g}}}});function QN(e){const[t,n="center"]=e.split("-");return[t,n]}var ML=WN,XN=qN,JN=KN,ZN=YN,[Of,K7]=ls("Tooltip",[If]),Zx=If(),e1="TooltipProvider",LL=700,Hw="tooltip.open",[IL,t1]=Of(e1),n1=e=>{const{__scopeTooltip:t,delayDuration:n=LL,skipDelayDuration:s=300,disableHoverableContent:a=!1,children:i}=e,o=h.useRef(!0),l=h.useRef(!1),c=h.useRef(0);return h.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),r.jsx(IL,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:h.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:h.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,s)},[s]),isPointerInTransitRef:l,onPointerInTransitChange:h.useCallback(d=>{l.current=d},[]),disableHoverableContent:a,children:i})};n1.displayName=e1;var s1="Tooltip",[G7,Jc]=Of(s1),Hp="TooltipTrigger",OL=h.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,a=Jc(Hp,n),i=t1(Hp,n),o=Zx(n),l=h.useRef(null),c=Ye(t,l,a.onTriggerChange),d=h.useRef(!1),u=h.useRef(!1),f=h.useCallback(()=>d.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),r.jsx(XN,{asChild:!0,...o,children:r.jsx(we.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...s,ref:c,onPointerMove:ve(e.onPointerMove,m=>{m.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),u.current=!0)}),onPointerLeave:ve(e.onPointerLeave,()=>{a.onTriggerLeave(),u.current=!1}),onPointerDown:ve(e.onPointerDown,()=>{a.open&&a.onClose(),d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ve(e.onFocus,()=>{d.current||a.onOpen()}),onBlur:ve(e.onBlur,a.onClose),onClick:ve(e.onClick,a.onClose)})})});OL.displayName=Hp;var ey="TooltipPortal",[FL,BL]=Of(ey,{forceMount:void 0}),r1=e=>{const{__scopeTooltip:t,forceMount:n,children:s,container:a}=e,i=Jc(ey,t);return r.jsx(FL,{scope:t,forceMount:n,children:r.jsx(vr,{present:n||i.open,children:r.jsx(Gc,{asChild:!0,container:a,children:s})})})};r1.displayName=ey;var Wo="TooltipContent",a1=h.forwardRef((e,t)=>{const n=BL(Wo,e.__scopeTooltip),{forceMount:s=n.forceMount,side:a="top",...i}=e,o=Jc(Wo,e.__scopeTooltip);return r.jsx(vr,{present:s||o.open,children:o.disableHoverableContent?r.jsx(i1,{side:a,...i,ref:t}):r.jsx(UL,{side:a,...i,ref:t})})}),UL=h.forwardRef((e,t)=>{const n=Jc(Wo,e.__scopeTooltip),s=t1(Wo,e.__scopeTooltip),a=h.useRef(null),i=Ye(t,a),[o,l]=h.useState(null),{trigger:c,onClose:d}=n,u=a.current,{onPointerInTransitChange:f}=s,m=h.useCallback(()=>{l(null),f(!1)},[f]),y=h.useCallback((j,g)=>{const w=j.currentTarget,x={x:j.clientX,y:j.clientY},p=qL(x,w.getBoundingClientRect()),v=KL(x,p),_=GL(g.getBoundingClientRect()),b=QL([...v,..._]);l(b),f(!0)},[f]);return h.useEffect(()=>()=>m(),[m]),h.useEffect(()=>{if(c&&u){const j=w=>y(w,u),g=w=>y(w,c);return c.addEventListener("pointerleave",j),u.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",j),u.removeEventListener("pointerleave",g)}}},[c,u,y,m]),h.useEffect(()=>{if(o){const j=g=>{const w=g.target,x={x:g.clientX,y:g.clientY},p=(c==null?void 0:c.contains(w))||(u==null?void 0:u.contains(w)),v=!YL(x,o);p?m():v&&(m(),d())};return document.addEventListener("pointermove",j),()=>document.removeEventListener("pointermove",j)}},[c,u,o,d,m]),r.jsx(i1,{...e,ref:i})}),[zL,VL]=Of(s1,{isInside:!1}),WL=xA("TooltipContent"),i1=h.forwardRef((e,t)=>{const{__scopeTooltip:n,children:s,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=Jc(Wo,n),d=Zx(n),{onClose:u}=c;return h.useEffect(()=>(document.addEventListener(Hw,u),()=>document.removeEventListener(Hw,u)),[u]),h.useEffect(()=>{if(c.trigger){const f=m=>{const y=m.target;y!=null&&y.contains(c.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,u]),r.jsx(Kc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:r.jsxs(JN,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[r.jsx(WL,{children:s}),r.jsx(zL,{scope:n,isInside:!0,children:r.jsx(FA,{id:c.contentId,role:"tooltip",children:a||s})})]})})});a1.displayName=Wo;var o1="TooltipArrow",HL=h.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,a=Zx(n);return VL(o1,n).isInside?null:r.jsx(ZN,{...a,...s,ref:t})});HL.displayName=o1;function qL(e,t){const n=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,s,a,i)){case i:return"left";case a:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function KL(e,t,n=5){const s=[];switch(t){case"top":s.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":s.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":s.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":s.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return s}function GL(e){const{top:t,right:n,bottom:s,left:a}=e;return[{x:a,y:t},{x:n,y:t},{x:n,y:s},{x:a,y:s}]}function YL(e,t){const{x:n,y:s}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],d=l.x,u=l.y,f=c.x,m=c.y;u>s!=m>s&&n<(f-d)*(s-u)/(m-u)+d&&(a=!a)}return a}function QL(e){const t=e.slice();return t.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),XL(t)}function XL(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const a=e[s];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const n=[];for(let s=e.length-1;s>=0;s--){const a=e[s];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))n.pop();else break}n.push(a)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var JL=n1,ZL=r1,l1=a1;const eI=JL,tI=h.forwardRef(({className:e,sideOffset:t=4,...n},s)=>r.jsx(ZL,{children:r.jsx(l1,{ref:s,sideOffset:t,className:ye("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n})}));tI.displayName=l1.displayName;var Ff=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Bf=typeof window>"u"||"Deno"in globalThis;function Os(){}function nI(e,t){return typeof e=="function"?e(t):e}function sI(e){return typeof e=="number"&&e>=0&&e!==1/0}function rI(e,t){return Math.max(e+(t||0)-Date.now(),0)}function qp(e,t){return typeof e=="function"?e(t):e}function aI(e,t){return typeof e=="function"?e(t):e}function qw(e,t){const{type:n="all",exact:s,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(s){if(t.queryHash!==ty(o,t.options))return!1}else if(!Cc(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function Kw(e,t){const{exact:n,status:s,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Nc(t.options.mutationKey)!==Nc(i))return!1}else if(!Cc(t.options.mutationKey,i))return!1}return!(s&&t.state.status!==s||a&&!a(t))}function ty(e,t){return((t==null?void 0:t.queryKeyHashFn)||Nc)(e)}function Nc(e){return JSON.stringify(e,(t,n)=>Kp(n)?Object.keys(n).sort().reduce((s,a)=>(s[a]=n[a],s),{}):n)}function Cc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Cc(e[n],t[n])):!1}function c1(e,t){if(e===t)return e;const n=Gw(e)&&Gw(t);if(n||Kp(e)&&Kp(t)){const s=n?e:Object.keys(e),a=s.length,i=n?t:Object.keys(t),o=i.length,l=n?[]:{},c=new Set(s);let d=0;for(let u=0;u<o;u++){const f=n?u:i[u];(!n&&c.has(f)||n)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,d++):(l[f]=c1(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&d++)}return a===o&&d===a?e:l}return t}function Gw(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Kp(e){if(!Yw(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Yw(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Yw(e){return Object.prototype.toString.call(e)==="[object Object]"}function iI(e){return new Promise(t=>{setTimeout(t,e)})}function oI(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?c1(e,t):t}function lI(e,t,n=0){const s=[...e,t];return n&&s.length>n?s.slice(1):s}function cI(e,t,n=0){const s=[t,...e];return n&&s.length>n?s.slice(0,-1):s}var ny=Symbol();function d1(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===ny?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var ui,ua,No,g_,dI=(g_=class extends Ff{constructor(){super();Ge(this,ui);Ge(this,ua);Ge(this,No);Se(this,No,t=>{if(!Bf&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){J(this,ua)||this.setEventListener(J(this,No))}onUnsubscribe(){var t;this.hasListeners()||((t=J(this,ua))==null||t.call(this),Se(this,ua,void 0))}setEventListener(t){var n;Se(this,No,t),(n=J(this,ua))==null||n.call(this),Se(this,ua,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){J(this,ui)!==t&&(Se(this,ui,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof J(this,ui)=="boolean"?J(this,ui):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ui=new WeakMap,ua=new WeakMap,No=new WeakMap,g_),u1=new dI,Co,fa,Eo,x_,uI=(x_=class extends Ff{constructor(){super();Ge(this,Co,!0);Ge(this,fa);Ge(this,Eo);Se(this,Eo,t=>{if(!Bf&&window.addEventListener){const n=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){J(this,fa)||this.setEventListener(J(this,Eo))}onUnsubscribe(){var t;this.hasListeners()||((t=J(this,fa))==null||t.call(this),Se(this,fa,void 0))}setEventListener(t){var n;Se(this,Eo,t),(n=J(this,fa))==null||n.call(this),Se(this,fa,t(this.setOnline.bind(this)))}setOnline(t){J(this,Co)!==t&&(Se(this,Co,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return J(this,Co)}},Co=new WeakMap,fa=new WeakMap,Eo=new WeakMap,x_),Ku=new uI;function fI(){let e,t;const n=new Promise((a,i)=>{e=a,t=i});n.status="pending",n.catch(()=>{});function s(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{s({status:"fulfilled",value:a}),e(a)},n.reject=a=>{s({status:"rejected",reason:a}),t(a)},n}function hI(e){return Math.min(1e3*2**e,3e4)}function f1(e){return(e??"online")==="online"?Ku.isOnline():!0}var h1=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function rm(e){return e instanceof h1}function m1(e){let t=!1,n=0,s=!1,a;const i=fI(),o=g=>{var w;s||(m(new h1(g)),(w=e.abort)==null||w.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>u1.isFocused()&&(e.networkMode==="always"||Ku.isOnline())&&e.canRun(),u=()=>f1(e.networkMode)&&e.canRun(),f=g=>{var w;s||(s=!0,(w=e.onSuccess)==null||w.call(e,g),a==null||a(),i.resolve(g))},m=g=>{var w;s||(s=!0,(w=e.onError)==null||w.call(e,g),a==null||a(),i.reject(g))},y=()=>new Promise(g=>{var w;a=x=>{(s||d())&&g(x)},(w=e.onPause)==null||w.call(e)}).then(()=>{var g;a=void 0,s||(g=e.onContinue)==null||g.call(e)}),j=()=>{if(s)return;let g;const w=n===0?e.initialPromise:void 0;try{g=w??e.fn()}catch(x){g=Promise.reject(x)}Promise.resolve(g).then(f).catch(x=>{var P;if(s)return;const p=e.retry??(Bf?0:3),v=e.retryDelay??hI,_=typeof v=="function"?v(n,x):v,b=p===!0||typeof p=="number"&&n<p||typeof p=="function"&&p(n,x);if(t||!b){m(x);return}n++,(P=e.onFail)==null||P.call(e,n,x),iI(_).then(()=>d()?void 0:y()).then(()=>{t?m(x):j()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?j():y().then(j),i)}}var mI=e=>setTimeout(e,0);function pI(){let e=[],t=0,n=l=>{l()},s=l=>{l()},a=mI;const i=l=>{t?e.push(l):a(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{s(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{a=l}}}var $n=pI(),fi,y_,p1=(y_=class{constructor(){Ge(this,fi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),sI(this.gcTime)&&Se(this,fi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Bf?1/0:5*60*1e3))}clearGcTimeout(){J(this,fi)&&(clearTimeout(J(this,fi)),Se(this,fi,void 0))}},fi=new WeakMap,y_),To,hi,vs,mi,_n,Bc,pi,Fs,Sr,v_,gI=(v_=class extends p1{constructor(t){super();Ge(this,Fs);Ge(this,To);Ge(this,hi);Ge(this,vs);Ge(this,mi);Ge(this,_n);Ge(this,Bc);Ge(this,pi);Se(this,pi,!1),Se(this,Bc,t.defaultOptions),this.setOptions(t.options),this.observers=[],Se(this,mi,t.client),Se(this,vs,J(this,mi).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Se(this,To,yI(this.options)),this.state=t.state??J(this,To),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=J(this,_n))==null?void 0:t.promise}setOptions(t){this.options={...J(this,Bc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&J(this,vs).remove(this)}setData(t,n){const s=oI(this.state.data,t,this.options);return yn(this,Fs,Sr).call(this,{data:s,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),s}setState(t,n){yn(this,Fs,Sr).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var s,a;const n=(s=J(this,_n))==null?void 0:s.promise;return(a=J(this,_n))==null||a.cancel(t),n?n.then(Os).catch(Os):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(J(this,To))}isActive(){return this.observers.some(t=>aI(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ny||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>qp(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!rI(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=J(this,_n))==null||n.continue()}onOnline(){var n;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=J(this,_n))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),J(this,vs).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(J(this,_n)&&(J(this,pi)?J(this,_n).cancel({revert:!0}):J(this,_n).cancelRetry()),this.scheduleGc()),J(this,vs).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||yn(this,Fs,Sr).call(this,{type:"invalidate"})}fetch(t,n){var d,u,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(J(this,_n))return J(this,_n).continueRetry(),J(this,_n).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(y=>y.options.queryFn);m&&this.setOptions(m.options)}const s=new AbortController,a=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(Se(this,pi,!0),s.signal)})},i=()=>{const m=d1(this.options,n),j=(()=>{const g={client:J(this,mi),queryKey:this.queryKey,meta:this.meta};return a(g),g})();return Se(this,pi,!1),this.options.persister?this.options.persister(m,j,this):m(j)},l=(()=>{const m={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:J(this,mi),state:this.state,fetchFn:i};return a(m),m})();(d=this.options.behavior)==null||d.onFetch(l,this),Se(this,hi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=l.fetchOptions)==null?void 0:u.meta))&&yn(this,Fs,Sr).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=m=>{var y,j,g,w;rm(m)&&m.silent||yn(this,Fs,Sr).call(this,{type:"error",error:m}),rm(m)||((j=(y=J(this,vs).config).onError)==null||j.call(y,m,this),(w=(g=J(this,vs).config).onSettled)==null||w.call(g,this.state.data,m,this)),this.scheduleGc()};return Se(this,_n,m1({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:s.abort.bind(s),onSuccess:m=>{var y,j,g,w;if(m===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(x){c(x);return}(j=(y=J(this,vs).config).onSuccess)==null||j.call(y,m,this),(w=(g=J(this,vs).config).onSettled)==null||w.call(g,m,this.state.error,this),this.scheduleGc()},onError:c,onFail:(m,y)=>{yn(this,Fs,Sr).call(this,{type:"failed",failureCount:m,error:y})},onPause:()=>{yn(this,Fs,Sr).call(this,{type:"pause"})},onContinue:()=>{yn(this,Fs,Sr).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),J(this,_n).start()}},To=new WeakMap,hi=new WeakMap,vs=new WeakMap,mi=new WeakMap,_n=new WeakMap,Bc=new WeakMap,pi=new WeakMap,Fs=new WeakSet,Sr=function(t){const n=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...xI(s.data,this.options),fetchMeta:t.meta??null};case"success":return Se(this,hi,void 0),{...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return rm(a)&&a.revert&&J(this,hi)?{...J(this,hi),fetchStatus:"idle"}:{...s,error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=n(this.state),$n.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),J(this,vs).notify({query:this,type:"updated",action:t})})},v_);function xI(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:f1(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function yI(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,s=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var rr,w_,vI=(w_=class extends Ff{constructor(t={}){super();Ge(this,rr);this.config=t,Se(this,rr,new Map)}build(t,n,s){const a=n.queryKey,i=n.queryHash??ty(a,n);let o=this.get(i);return o||(o=new gI({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(n),state:s,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){J(this,rr).has(t.queryHash)||(J(this,rr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=J(this,rr).get(t.queryHash);n&&(t.destroy(),n===t&&J(this,rr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){$n.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return J(this,rr).get(t)}getAll(){return[...J(this,rr).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(s=>qw(n,s))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(s=>qw(t,s)):n}notify(t){$n.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){$n.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){$n.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},rr=new WeakMap,w_),ar,Rn,gi,ir,ea,j_,wI=(j_=class extends p1{constructor(t){super();Ge(this,ir);Ge(this,ar);Ge(this,Rn);Ge(this,gi);this.mutationId=t.mutationId,Se(this,Rn,t.mutationCache),Se(this,ar,[]),this.state=t.state||jI(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){J(this,ar).includes(t)||(J(this,ar).push(t),this.clearGcTimeout(),J(this,Rn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Se(this,ar,J(this,ar).filter(n=>n!==t)),this.scheduleGc(),J(this,Rn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){J(this,ar).length||(this.state.status==="pending"?this.scheduleGc():J(this,Rn).remove(this))}continue(){var t;return((t=J(this,gi))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,l,c,d,u,f,m,y,j,g,w,x,p,v,_,b,P,N,E;const n=()=>{yn(this,ir,ea).call(this,{type:"continue"})};Se(this,gi,m1({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(R,M)=>{yn(this,ir,ea).call(this,{type:"failed",failureCount:R,error:M})},onPause:()=>{yn(this,ir,ea).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>J(this,Rn).canRun(this)}));const s=this.state.status==="pending",a=!J(this,gi).canStart();try{if(s)n();else{yn(this,ir,ea).call(this,{type:"pending",variables:t,isPaused:a}),await((o=(i=J(this,Rn).config).onMutate)==null?void 0:o.call(i,t,this));const M=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));M!==this.state.context&&yn(this,ir,ea).call(this,{type:"pending",context:M,variables:t,isPaused:a})}const R=await J(this,gi).start();return await((u=(d=J(this,Rn).config).onSuccess)==null?void 0:u.call(d,R,t,this.state.context,this)),await((m=(f=this.options).onSuccess)==null?void 0:m.call(f,R,t,this.state.context)),await((j=(y=J(this,Rn).config).onSettled)==null?void 0:j.call(y,R,null,this.state.variables,this.state.context,this)),await((w=(g=this.options).onSettled)==null?void 0:w.call(g,R,null,t,this.state.context)),yn(this,ir,ea).call(this,{type:"success",data:R}),R}catch(R){try{throw await((p=(x=J(this,Rn).config).onError)==null?void 0:p.call(x,R,t,this.state.context,this)),await((_=(v=this.options).onError)==null?void 0:_.call(v,R,t,this.state.context)),await((P=(b=J(this,Rn).config).onSettled)==null?void 0:P.call(b,void 0,R,this.state.variables,this.state.context,this)),await((E=(N=this.options).onSettled)==null?void 0:E.call(N,void 0,R,t,this.state.context)),R}finally{yn(this,ir,ea).call(this,{type:"error",error:R})}}finally{J(this,Rn).runNext(this)}}},ar=new WeakMap,Rn=new WeakMap,gi=new WeakMap,ir=new WeakSet,ea=function(t){const n=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),$n.batch(()=>{J(this,ar).forEach(s=>{s.onMutationUpdate(t)}),J(this,Rn).notify({mutation:this,type:"updated",action:t})})},j_);function jI(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Pr,Bs,Uc,__,_I=(__=class extends Ff{constructor(t={}){super();Ge(this,Pr);Ge(this,Bs);Ge(this,Uc);this.config=t,Se(this,Pr,new Set),Se(this,Bs,new Map),Se(this,Uc,0)}build(t,n,s){const a=new wI({mutationCache:this,mutationId:++hd(this,Uc)._,options:t.defaultMutationOptions(n),state:s});return this.add(a),a}add(t){J(this,Pr).add(t);const n=Dd(t);if(typeof n=="string"){const s=J(this,Bs).get(n);s?s.push(t):J(this,Bs).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(J(this,Pr).delete(t)){const n=Dd(t);if(typeof n=="string"){const s=J(this,Bs).get(n);if(s)if(s.length>1){const a=s.indexOf(t);a!==-1&&s.splice(a,1)}else s[0]===t&&J(this,Bs).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Dd(t);if(typeof n=="string"){const s=J(this,Bs).get(n),a=s==null?void 0:s.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var s;const n=Dd(t);if(typeof n=="string"){const a=(s=J(this,Bs).get(n))==null?void 0:s.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){$n.batch(()=>{J(this,Pr).forEach(t=>{this.notify({type:"removed",mutation:t})}),J(this,Pr).clear(),J(this,Bs).clear()})}getAll(){return Array.from(J(this,Pr))}find(t){const n={exact:!0,...t};return this.getAll().find(s=>Kw(n,s))}findAll(t={}){return this.getAll().filter(n=>Kw(t,n))}notify(t){$n.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return $n.batch(()=>Promise.all(t.map(n=>n.continue().catch(Os))))}},Pr=new WeakMap,Bs=new WeakMap,Uc=new WeakMap,__);function Dd(e){var t;return(t=e.options.scope)==null?void 0:t.id}function Qw(e){return{onFetch:(t,n)=>{var u,f,m,y,j;const s=t.options,a=(m=(f=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,i=((y=t.state.data)==null?void 0:y.pages)||[],o=((j=t.state.data)==null?void 0:j.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let g=!1;const w=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},x=d1(t.options,t.fetchOptions),p=async(v,_,b)=>{if(g)return Promise.reject();if(_==null&&v.pages.length)return Promise.resolve(v);const N=(()=>{const U={client:t.client,queryKey:t.queryKey,pageParam:_,direction:b?"backward":"forward",meta:t.options.meta};return w(U),U})(),E=await x(N),{maxPages:R}=t.options,M=b?cI:lI;return{pages:M(v.pages,E,R),pageParams:M(v.pageParams,_,R)}};if(a&&i.length){const v=a==="backward",_=v?bI:Xw,b={pages:i,pageParams:o},P=_(s,b);l=await p(b,P,v)}else{const v=e??i.length;do{const _=c===0?o[0]??s.initialPageParam:Xw(s,l);if(c>0&&_==null)break;l=await p(l,_),c++}while(c<v)}return l};t.options.persister?t.fetchFn=()=>{var g,w;return(w=(g=t.options).persister)==null?void 0:w.call(g,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=d}}}function Xw(e,{pages:t,pageParams:n}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,n[s],n):void 0}function bI(e,{pages:t,pageParams:n}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,n[0],n):void 0}var Rt,ha,ma,ko,Po,pa,Ro,Ao,b_,SI=(b_=class{constructor(e={}){Ge(this,Rt);Ge(this,ha);Ge(this,ma);Ge(this,ko);Ge(this,Po);Ge(this,pa);Ge(this,Ro);Ge(this,Ao);Se(this,Rt,e.queryCache||new vI),Se(this,ha,e.mutationCache||new _I),Se(this,ma,e.defaultOptions||{}),Se(this,ko,new Map),Se(this,Po,new Map),Se(this,pa,0)}mount(){hd(this,pa)._++,J(this,pa)===1&&(Se(this,Ro,u1.subscribe(async e=>{e&&(await this.resumePausedMutations(),J(this,Rt).onFocus())})),Se(this,Ao,Ku.subscribe(async e=>{e&&(await this.resumePausedMutations(),J(this,Rt).onOnline())})))}unmount(){var e,t;hd(this,pa)._--,J(this,pa)===0&&((e=J(this,Ro))==null||e.call(this),Se(this,Ro,void 0),(t=J(this,Ao))==null||t.call(this),Se(this,Ao,void 0))}isFetching(e){return J(this,Rt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return J(this,ha).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=J(this,Rt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=J(this,Rt).build(this,t),s=n.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(qp(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return J(this,Rt).findAll(e).map(({queryKey:t,state:n})=>{const s=n.data;return[t,s]})}setQueryData(e,t,n){const s=this.defaultQueryOptions({queryKey:e}),a=J(this,Rt).get(s.queryHash),i=a==null?void 0:a.state.data,o=nI(t,i);if(o!==void 0)return J(this,Rt).build(this,s).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return $n.batch(()=>J(this,Rt).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=J(this,Rt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=J(this,Rt);$n.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=J(this,Rt);return $n.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},s=$n.batch(()=>J(this,Rt).findAll(e).map(a=>a.cancel(n)));return Promise.all(s).then(Os).catch(Os)}invalidateQueries(e,t={}){return $n.batch(()=>(J(this,Rt).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},s=$n.batch(()=>J(this,Rt).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,n);return n.throwOnError||(i=i.catch(Os)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(Os)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=J(this,Rt).build(this,t);return n.isStaleByTime(qp(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Os).catch(Os)}fetchInfiniteQuery(e){return e.behavior=Qw(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Os).catch(Os)}ensureInfiniteQueryData(e){return e.behavior=Qw(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ku.isOnline()?J(this,ha).resumePausedMutations():Promise.resolve()}getQueryCache(){return J(this,Rt)}getMutationCache(){return J(this,ha)}getDefaultOptions(){return J(this,ma)}setDefaultOptions(e){Se(this,ma,e)}setQueryDefaults(e,t){J(this,ko).set(Nc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...J(this,ko).values()],n={};return t.forEach(s=>{Cc(e,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(e,t){J(this,Po).set(Nc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...J(this,Po).values()],n={};return t.forEach(s=>{Cc(e,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...J(this,ma).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=ty(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===ny&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...J(this,ma).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){J(this,Rt).clear(),J(this,ha).clear()}},Rt=new WeakMap,ha=new WeakMap,ma=new WeakMap,ko=new WeakMap,Po=new WeakMap,pa=new WeakMap,Ro=new WeakMap,Ao=new WeakMap,b_),NI=h.createContext(void 0),CI=({client:e,children:t})=>(h.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(NI.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ec(){return Ec=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ec.apply(this,arguments)}var va;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(va||(va={}));const Jw="popstate";function EI(e){e===void 0&&(e={});function t(s,a){let{pathname:i,search:o,hash:l}=s.location;return Gp("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Gu(a)}return kI(t,n,null,e)}function Vt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function g1(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function TI(){return Math.random().toString(36).substr(2,8)}function Zw(e,t){return{usr:e.state,key:e.key,idx:t}}function Gp(e,t,n,s){return n===void 0&&(n=null),Ec({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?sl(t):t,{state:n,key:t&&t.key||s||TI()})}function Gu(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function sl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function kI(e,t,n,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:i=!1}=s,o=a.history,l=va.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(Ec({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function f(){l=va.Pop;let w=u(),x=w==null?null:w-d;d=w,c&&c({action:l,location:g.location,delta:x})}function m(w,x){l=va.Push;let p=Gp(g.location,w,x);d=u()+1;let v=Zw(p,d),_=g.createHref(p);try{o.pushState(v,"",_)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;a.location.assign(_)}i&&c&&c({action:l,location:g.location,delta:1})}function y(w,x){l=va.Replace;let p=Gp(g.location,w,x);d=u();let v=Zw(p,d),_=g.createHref(p);o.replaceState(v,"",_),i&&c&&c({action:l,location:g.location,delta:0})}function j(w){let x=a.location.origin!=="null"?a.location.origin:a.location.href,p=typeof w=="string"?w:Gu(w);return p=p.replace(/ $/,"%20"),Vt(x,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,x)}let g={get action(){return l},get location(){return e(a,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Jw,f),c=w,()=>{a.removeEventListener(Jw,f),c=null}},createHref(w){return t(a,w)},createURL:j,encodeLocation(w){let x=j(w);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:y,go(w){return o.go(w)}};return g}var e0;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(e0||(e0={}));function PI(e,t,n){return n===void 0&&(n="/"),RI(e,t,n)}function RI(e,t,n,s){let a=typeof t=="string"?sl(t):t,i=sy(a.pathname||"/",n);if(i==null)return null;let o=x1(e);AI(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=WI(i);l=UI(o[c],d)}return l}function x1(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Vt(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let d=Ta([s,c.relativePath]),u=n.concat(c);i.children&&i.children.length>0&&(Vt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),x1(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:FI(d,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of y1(i.path))a(i,o,c)}),t}function y1(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(s.length===0)return a?[i,""]:[i];let o=y1(s.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function AI(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:BI(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const $I=/^:[\w-]+$/,DI=3,MI=2,LI=1,II=10,OI=-2,t0=e=>e==="*";function FI(e,t){let n=e.split("/"),s=n.length;return n.some(t0)&&(s+=OI),t&&(s+=MI),n.filter(a=>!t0(a)).reduce((a,i)=>a+($I.test(i)?DI:i===""?LI:II),s)}function BI(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function UI(e,t,n){let{routesMeta:s}=e,a={},i="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],d=l===s.length-1,u=i==="/"?t:t.slice(i.length)||"/",f=zI({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),m=c.route;if(!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:Ta([i,f.pathname]),pathnameBase:GI(Ta([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=Ta([i,f.pathnameBase]))}return o}function zI(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=VI(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:s.reduce((d,u,f)=>{let{paramName:m,isOptional:y}=u;if(m==="*"){let g=l[f]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const j=l[f];return y&&!j?d[m]=void 0:d[m]=(j||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function VI(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),g1(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function WI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return g1(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function sy(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function HI(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:a=""}=typeof e=="string"?sl(e):e;return{pathname:n?n.startsWith("/")?n:qI(n,t):t,search:YI(s),hash:QI(a)}}function qI(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function am(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function KI(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function v1(e,t){let n=KI(e);return t?n.map((s,a)=>a===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function w1(e,t,n,s){s===void 0&&(s=!1);let a;typeof e=="string"?a=sl(e):(a=Ec({},e),Vt(!a.pathname||!a.pathname.includes("?"),am("?","pathname","search",a)),Vt(!a.pathname||!a.pathname.includes("#"),am("#","pathname","hash",a)),Vt(!a.search||!a.search.includes("#"),am("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=n;else{let f=t.length-1;if(!s&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;a.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=HI(a,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Ta=e=>e.join("/").replace(/\/\/+/g,"/"),GI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),YI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,QI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function XI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const j1=["post","put","patch","delete"];new Set(j1);const JI=["get",...j1];new Set(JI);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tc(){return Tc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Tc.apply(this,arguments)}const ry=h.createContext(null),ZI=h.createContext(null),Di=h.createContext(null),Uf=h.createContext(null),Fa=h.createContext({outlet:null,matches:[],isDataRoute:!1}),_1=h.createContext(null);function eO(e,t){let{relative:n}=t===void 0?{}:t;Zc()||Vt(!1);let{basename:s,navigator:a}=h.useContext(Di),{hash:i,pathname:o,search:l}=N1(e,{relative:n}),c=o;return s!=="/"&&(c=o==="/"?s:Ta([s,o])),a.createHref({pathname:c,search:l,hash:i})}function Zc(){return h.useContext(Uf)!=null}function rl(){return Zc()||Vt(!1),h.useContext(Uf).location}function b1(e){h.useContext(Di).static||h.useLayoutEffect(e)}function tO(){let{isDataRoute:e}=h.useContext(Fa);return e?mO():nO()}function nO(){Zc()||Vt(!1);let e=h.useContext(ry),{basename:t,future:n,navigator:s}=h.useContext(Di),{matches:a}=h.useContext(Fa),{pathname:i}=rl(),o=JSON.stringify(v1(a,n.v7_relativeSplatPath)),l=h.useRef(!1);return b1(()=>{l.current=!0}),h.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){s.go(d);return}let f=w1(d,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Ta([t,f.pathname])),(u.replace?s.replace:s.push)(f,u.state,u)},[t,s,o,i,e])}function S1(){let{matches:e}=h.useContext(Fa),t=e[e.length-1];return t?t.params:{}}function N1(e,t){let{relative:n}=t===void 0?{}:t,{future:s}=h.useContext(Di),{matches:a}=h.useContext(Fa),{pathname:i}=rl(),o=JSON.stringify(v1(a,s.v7_relativeSplatPath));return h.useMemo(()=>w1(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function sO(e,t){return rO(e,t)}function rO(e,t,n,s){Zc()||Vt(!1);let{navigator:a}=h.useContext(Di),{matches:i}=h.useContext(Fa),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=rl(),u;if(t){var f;let w=typeof t=="string"?sl(t):t;c==="/"||(f=w.pathname)!=null&&f.startsWith(c)||Vt(!1),u=w}else u=d;let m=u.pathname||"/",y=m;if(c!=="/"){let w=c.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(w.length).join("/")}let j=PI(e,{pathname:y}),g=cO(j&&j.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:Ta([c,a.encodeLocation?a.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:Ta([c,a.encodeLocation?a.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n,s);return t&&g?h.createElement(Uf.Provider,{value:{location:Tc({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:va.Pop}},g):g}function aO(){let e=hO(),t=XI(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),n?h.createElement("pre",{style:a},n):null,null)}const iO=h.createElement(aO,null);class oO extends h.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?h.createElement(Fa.Provider,{value:this.props.routeContext},h.createElement(_1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lO(e){let{routeContext:t,match:n,children:s}=e,a=h.useContext(ry);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),h.createElement(Fa.Provider,{value:t},s)}function cO(e,t,n,s){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=s)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(a=n)==null?void 0:a.errors;if(l!=null){let u=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);u>=0||Vt(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(n&&s&&s.v7_partialHydration)for(let u=0;u<o.length;u++){let f=o[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=u),f.route.id){let{loaderData:m,errors:y}=n,j=f.route.loader&&m[f.route.id]===void 0&&(!y||y[f.route.id]===void 0);if(f.route.lazy||j){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,f,m)=>{let y,j=!1,g=null,w=null;n&&(y=l&&f.route.id?l[f.route.id]:void 0,g=f.route.errorElement||iO,c&&(d<0&&m===0?(pO("route-fallback"),j=!0,w=null):d===m&&(j=!0,w=f.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,m+1)),p=()=>{let v;return y?v=g:j?v=w:f.route.Component?v=h.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=u,h.createElement(lO,{match:f,routeContext:{outlet:u,matches:x,isDataRoute:n!=null},children:v})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?h.createElement(oO,{location:n.location,revalidation:n.revalidation,component:g,error:y,children:p(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):p()},null)}var C1=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(C1||{}),E1=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(E1||{});function dO(e){let t=h.useContext(ry);return t||Vt(!1),t}function uO(e){let t=h.useContext(ZI);return t||Vt(!1),t}function fO(e){let t=h.useContext(Fa);return t||Vt(!1),t}function T1(e){let t=fO(),n=t.matches[t.matches.length-1];return n.route.id||Vt(!1),n.route.id}function hO(){var e;let t=h.useContext(_1),n=uO(),s=T1();return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function mO(){let{router:e}=dO(C1.UseNavigateStable),t=T1(E1.UseNavigateStable),n=h.useRef(!1);return b1(()=>{n.current=!0}),h.useCallback(function(a,i){i===void 0&&(i={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Tc({fromRouteId:t},i)))},[e,t])}const n0={};function pO(e,t,n){n0[e]||(n0[e]=!0)}function gO(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Vn(e){Vt(!1)}function xO(e){let{basename:t="/",children:n=null,location:s,navigationType:a=va.Pop,navigator:i,static:o=!1,future:l}=e;Zc()&&Vt(!1);let c=t.replace(/^\/*/,"/"),d=h.useMemo(()=>({basename:c,navigator:i,static:o,future:Tc({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof s=="string"&&(s=sl(s));let{pathname:u="/",search:f="",hash:m="",state:y=null,key:j="default"}=s,g=h.useMemo(()=>{let w=sy(u,c);return w==null?null:{location:{pathname:w,search:f,hash:m,state:y,key:j},navigationType:a}},[c,u,f,m,y,j,a]);return g==null?null:h.createElement(Di.Provider,{value:d},h.createElement(Uf.Provider,{children:n,value:g}))}function yO(e){let{children:t,location:n}=e;return sO(Yp(t),n)}new Promise(()=>{});function Yp(e,t){t===void 0&&(t=[]);let n=[];return h.Children.forEach(e,(s,a)=>{if(!h.isValidElement(s))return;let i=[...t,a];if(s.type===h.Fragment){n.push.apply(n,Yp(s.props.children,i));return}s.type!==Vn&&Vt(!1),!s.props.index||!s.props.children||Vt(!1);let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=Yp(s.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qp(){return Qp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Qp.apply(this,arguments)}function vO(e,t){if(e==null)return{};var n={},s=Object.keys(e),a,i;for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function wO(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function jO(e,t){return e.button===0&&(!t||t==="_self")&&!wO(e)}const _O=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],bO="6";try{window.__reactRouterVersion=bO}catch{}const SO="startTransition",s0=Hg[SO];function NO(e){let{basename:t,children:n,future:s,window:a}=e,i=h.useRef();i.current==null&&(i.current=EI({window:a,v5Compat:!0}));let o=i.current,[l,c]=h.useState({action:o.action,location:o.location}),{v7_startTransition:d}=s||{},u=h.useCallback(f=>{d&&s0?s0(()=>c(f)):c(f)},[c,d]);return h.useLayoutEffect(()=>o.listen(u),[o,u]),h.useEffect(()=>gO(s),[s]),h.createElement(xO,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:s})}const CO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",EO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ut=h.forwardRef(function(t,n){let{onClick:s,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:f}=t,m=vO(t,_O),{basename:y}=h.useContext(Di),j,g=!1;if(typeof d=="string"&&EO.test(d)&&(j=d,CO))try{let v=new URL(window.location.href),_=d.startsWith("//")?new URL(v.protocol+d):new URL(d),b=sy(_.pathname,y);_.origin===v.origin&&b!=null?d=b+_.search+_.hash:g=!0}catch{}let w=eO(d,{relative:a}),x=TO(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:f});function p(v){s&&s(v),v.defaultPrevented||x(v)}return h.createElement("a",Qp({},m,{href:j||w,onClick:g||i?s:p,ref:n,target:c}))});var r0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(r0||(r0={}));var a0;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(a0||(a0={}));function TO(e,t){let{target:n,replace:s,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=tO(),d=rl(),u=N1(e,{relative:o});return h.useCallback(f=>{if(jO(f,n)){f.preventDefault();let m=s!==void 0?s:Gu(d)===Gu(u);c(e,{replace:m,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,s,a,n,e,i,o,l])}const kO="modulepreload",PO=function(e){return"/"+e},i0={},zr=function(t,n,s){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(n.map(c=>{if(c=PO(c),c in i0)return;i0[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":kO,d||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),d)return new Promise((m,y)=>{f.addEventListener("load",m),f.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},RO=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>zr(async()=>{const{default:s}=await Promise.resolve().then(()=>al);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)};class ay extends Error{constructor(t,n="FunctionsError",s){super(t),this.name=n,this.context=s}}class AO extends ay{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class o0 extends ay{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class l0 extends ay{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Xp;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Xp||(Xp={}));var $O=function(e,t,n,s){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(f){o(f)}}function c(u){try{d(s.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};class DO{constructor(t,{headers:n={},customFetch:s,region:a=Xp.Any}={}){this.url=t,this.headers=n,this.region=a,this.fetch=RO(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var s;return $O(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:o}=n;let l={},{region:c}=n;c||(c=this.region);const d=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let u;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const f=yield this.fetch(d.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:u}).catch(g=>{throw new AO(g)}),m=f.headers.get("x-relay-error");if(m&&m==="true")throw new o0(f);if(!f.ok)throw new l0(f);let y=((s=f.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),j;return y==="application/json"?j=yield f.json():y==="application/octet-stream"?j=yield f.blob():y==="text/event-stream"?j=f:y==="multipart/form-data"?j=yield f.formData():j=yield f.text(),{data:j,error:null,response:f}}catch(a){return{data:null,error:a,response:a instanceof l0||a instanceof o0?a.context:void 0}}})}}var Hn={},iy={},zf={},ed={},Vf={},Wf={},MO=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ho=MO();const LO=Ho.fetch,k1=Ho.fetch.bind(Ho),P1=Ho.Headers,IO=Ho.Request,OO=Ho.Response,al=Object.freeze(Object.defineProperty({__proto__:null,Headers:P1,Request:IO,Response:OO,default:k1,fetch:LO},Symbol.toStringTag,{value:"Module"})),FO=LP(al);var Hf={};Object.defineProperty(Hf,"__esModule",{value:!0});let BO=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Hf.default=BO;var R1=Es&&Es.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Wf,"__esModule",{value:!0});const UO=R1(FO),zO=R1(Hf);let VO=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=UO.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const s=this.fetch;let a=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let d=null,u=null,f=null,m=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const x=await i.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=x:u=JSON.parse(x))}const g=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),w=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");g&&w&&w.length>1&&(f=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(d={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,f=null,m=406,y="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const g=await i.text();try{d=JSON.parse(g),Array.isArray(d)&&i.status===404&&(u=[],d=null,m=200,y="OK")}catch{i.status===404&&g===""?(m=204,y="No Content"):d={message:g}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,m=200,y="OK"),d&&this.shouldThrowOnError)throw new zO.default(d)}return{error:d,data:u,count:f,status:m,statusText:y}});return this.shouldThrowOnError||(a=a.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,n)}returns(){return this}overrideTypes(){return this}};Wf.default=VO;var WO=Es&&Es.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vf,"__esModule",{value:!0});const HO=WO(Wf);let qO=class extends HO.default{select(t){let n=!1;const s=(t??"*").split("").map(a=>/\s/.test(a)&&!n?"":(a==='"'&&(n=!n),a)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:s,foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:s=n}={}){const a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,n,{foreignTable:s,referencedTable:a=s}={}){const i=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:s=!1,buffers:a=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,s?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Vf.default=qO;var KO=Es&&Es.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ed,"__esModule",{value:!0});const GO=KO(Vf);let YO=class extends GO.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const s=Array.from(new Set(n)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${s})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:s,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const o=s===void 0?"":`(${s})`;return this.url.searchParams.append(t,`${i}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,s])=>{this.url.searchParams.append(n,`eq.${s}`)}),this}not(t,n,s){return this.url.searchParams.append(t,`not.${n}.${s}`),this}or(t,{foreignTable:n,referencedTable:s=n}={}){const a=s?`${s}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,n,s){return this.url.searchParams.append(t,`${n}.${s}`),this}};ed.default=YO;var QO=Es&&Es.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zf,"__esModule",{value:!0});const Sl=QO(ed);let XO=class{constructor(t,{headers:n={},schema:s,fetch:a}){this.url=t,this.headers=n,this.schema=s,this.fetch=a}select(t,{head:n=!1,count:s}={}){const a=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),s&&(this.headers.Prefer=`count=${s}`),new Sl.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:s=!0}={}){const a="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),s||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Sl.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:s=!1,count:a,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${s?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new Sl.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const s="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),this.headers.Prefer=a.join(","),new Sl.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",s=[];return t&&s.push(`count=${t}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new Sl.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};zf.default=XO;var qf={},Kf={};Object.defineProperty(Kf,"__esModule",{value:!0});Kf.version=void 0;Kf.version="0.0.0-automated";Object.defineProperty(qf,"__esModule",{value:!0});qf.DEFAULT_HEADERS=void 0;const JO=Kf;qf.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${JO.version}`};var A1=Es&&Es.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(iy,"__esModule",{value:!0});const ZO=A1(zf),e4=A1(ed),t4=qf;let n4=class $1{constructor(t,{headers:n={},schema:s,fetch:a}={}){this.url=t,this.headers=Object.assign(Object.assign({},t4.DEFAULT_HEADERS),n),this.schemaName=s,this.fetch=a}from(t){const n=new URL(`${this.url}/${t}`);return new ZO.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new $1(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:s=!1,get:a=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;s||a?(o=s?"HEAD":"GET",Object.entries(n).filter(([u,f])=>f!==void 0).map(([u,f])=>[u,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([u,f])=>{l.searchParams.append(u,f)})):(o="POST",c=n);const d=Object.assign({},this.headers);return i&&(d.Prefer=`count=${i}`),new e4.default({method:o,url:l,headers:d,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};iy.default=n4;var il=Es&&Es.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Hn,"__esModule",{value:!0});Hn.PostgrestError=Hn.PostgrestBuilder=Hn.PostgrestTransformBuilder=Hn.PostgrestFilterBuilder=Hn.PostgrestQueryBuilder=Hn.PostgrestClient=void 0;const D1=il(iy);Hn.PostgrestClient=D1.default;const M1=il(zf);Hn.PostgrestQueryBuilder=M1.default;const L1=il(ed);Hn.PostgrestFilterBuilder=L1.default;const I1=il(Vf);Hn.PostgrestTransformBuilder=I1.default;const O1=il(Wf);Hn.PostgrestBuilder=O1.default;const F1=il(Hf);Hn.PostgrestError=F1.default;var s4=Hn.default={PostgrestClient:D1.default,PostgrestQueryBuilder:M1.default,PostgrestFilterBuilder:L1.default,PostgrestTransformBuilder:I1.default,PostgrestBuilder:O1.default,PostgrestError:F1.default};const{PostgrestClient:r4,PostgrestQueryBuilder:eH,PostgrestFilterBuilder:tH,PostgrestTransformBuilder:nH,PostgrestBuilder:sH,PostgrestError:rH}=s4;function a4(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const i4=a4(),o4="2.11.15",l4=`realtime-js/${o4}`,c4="1.0.0",B1=1e4,d4=1e3;var Kl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Kl||(Kl={}));var jn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(jn||(jn={}));var zs;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(zs||(zs={}));var Jp;(function(e){e.websocket="websocket"})(Jp||(Jp={}));var ai;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ai||(ai={}));class u4{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),s=new TextDecoder;return this._decodeBroadcast(t,n,s)}_decodeBroadcast(t,n,s){const a=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=s.decode(t.slice(o,o+a));o=o+a;const c=s.decode(t.slice(o,o+i));o=o+i;const d=JSON.parse(s.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class U1{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var lt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(lt||(lt={}));const c0=(e,t,n={})=>{var s;const a=(s=n.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(t).reduce((i,o)=>(i[o]=f4(o,e,t,a),i),{})},f4=(e,t,n,s)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=n[e];return i&&!s.includes(i)?z1(i,o):Zp(o)},z1=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return g4(t,n)}switch(e){case lt.bool:return h4(t);case lt.float4:case lt.float8:case lt.int2:case lt.int4:case lt.int8:case lt.numeric:case lt.oid:return m4(t);case lt.json:case lt.jsonb:return p4(t);case lt.timestamp:return x4(t);case lt.abstime:case lt.date:case lt.daterange:case lt.int4range:case lt.int8range:case lt.money:case lt.reltime:case lt.text:case lt.time:case lt.timestamptz:case lt.timetz:case lt.tsrange:case lt.tstzrange:return Zp(t);default:return Zp(t)}},Zp=e=>e,h4=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},m4=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},p4=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},g4=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,s=e[n];if(e[0]==="{"&&s==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>z1(t,l))}return e},x4=e=>typeof e=="string"?e.replace(" ","T"):e,V1=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class im{constructor(t,n,s={},a=B1){this.channel=t,this.event=n,this.payload=s,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var s;return this._hasReceived(t)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var d0;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(d0||(d0={}));class Gl{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Gl.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=Gl.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(s.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Gl.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,s,a){const i=this.cloneDeep(t),o=this.transformState(n),l={},c={};return this.map(i,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const f=i[d];if(f){const m=u.map(w=>w.presence_ref),y=f.map(w=>w.presence_ref),j=u.filter(w=>y.indexOf(w.presence_ref)<0),g=f.filter(w=>m.indexOf(w.presence_ref)<0);j.length>0&&(l[d]=j),g.length>0&&(c[d]=g)}else l[d]=u}),this.syncDiff(i,{joins:l,leaves:c},s,a)}static syncDiff(t,n,s,a){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var d;const u=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),u.length>0){const f=t[l].map(y=>y.presence_ref),m=u.filter(y=>f.indexOf(y.presence_ref)<0);t[l].unshift(...m)}s(l,u,c)}),this.map(o,(l,c)=>{let d=t[l];if(!d)return;const u=c.map(f=>f.presence_ref);d=d.filter(f=>u.indexOf(f.presence_ref)<0),t[l]=d,a(l,d,c),d.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(s=>n(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,s)=>{const a=t[s];return"metas"in a?n[s]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[s]=a,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var u0;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(u0||(u0={}));var f0;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(f0||(f0={}));var Er;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Er||(Er={}));class oy{constructor(t,n={config:{}},s){this.topic=t,this.params=n,this.socket=s,this.bindings={},this.state=jn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new im(this,zs.join,this.params,this.timeout),this.rejoinTimer=new U1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=jn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=jn.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=jn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=jn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(zs.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new Gl(this),this.broadcastEndpointURL=V1(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var s,a;if(this.socket.isConnected()||this.socket.connect(),this.state==jn.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(u=>t==null?void 0:t(Er.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(Er.CLOSED));const c={},d={broadcast:i,presence:o,postgres_changes:(a=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(u=>u.filter))!==null&&a!==void 0?a:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var f;if(this.socket.setAuth(),u===void 0){t==null||t(Er.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,y=(f=m==null?void 0:m.length)!==null&&f!==void 0?f:0,j=[];for(let g=0;g<y;g++){const w=m[g],{filter:{event:x,schema:p,table:v,filter:_}}=w,b=u&&u[g];if(b&&b.event===x&&b.schema===p&&b.table===v&&b.filter===_)j.push(Object.assign(Object.assign({},w),{id:b.id}));else{this.unsubscribe(),this.state=jn.errored,t==null||t(Er.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,t&&t(Er.SUBSCRIBED);return}}).receive("error",u=>{this.state=jn.errored,t==null||t(Er.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Er.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,s){return this._on(t,n,s)}async send(t,n={}){var s,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const d=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=jn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(zs.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(a=>{s=new im(this,zs.leave,{},t),s.receive("ok",()=>{n(),a("ok")}).receive("timeout",()=>{n(),a("timed out")}).receive("error",()=>{a("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,s){const a=new AbortController,i=setTimeout(()=>a.abort(),s),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(i),o}_push(t,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new im(this,t,n,s);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,n,s){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,s){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=zs;if(s&&[l,c,d,u].indexOf(o)>=0&&s!==this._joinRef())return;let m=this._onMessage(o,n,s);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(y=>{var j,g,w;return((j=y.filter)===null||j===void 0?void 0:j.event)==="*"||((w=(g=y.filter)===null||g===void 0?void 0:g.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(y=>y.callback(m,s)):(i=this.bindings[o])===null||i===void 0||i.filter(y=>{var j,g,w,x,p,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const _=y.id,b=(j=y.filter)===null||j===void 0?void 0:j.event;return _&&((g=n.ids)===null||g===void 0?void 0:g.includes(_))&&(b==="*"||(b==null?void 0:b.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const _=(p=(x=y==null?void 0:y.filter)===null||x===void 0?void 0:x.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return _==="*"||_===((v=n==null?void 0:n.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof m=="object"&&"ids"in m){const j=m.data,{schema:g,table:w,commit_timestamp:x,type:p,errors:v}=j;m=Object.assign(Object.assign({},{schema:g,table:w,commit_timestamp:x,eventType:p,new:{},old:{},errors:v}),this._getPayloadRecords(j))}y.callback(m,s)})}_isClosed(){return this.state===jn.closed}_isJoined(){return this.state===jn.joined}_isJoining(){return this.state===jn.joining}_isLeaving(){return this.state===jn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,s){const a=t.toLocaleLowerCase(),i={type:a,filter:n,callback:s};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,n){const s=t.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&oy.isEqual(a.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const s in t)if(t[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(zs.close,{},t)}_onError(t){this._on(zs.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=jn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=c0(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=c0(t.columns,t.old_record)),n}}const h0=()=>{},y4=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class v4{constructor(t,n){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=B1,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=h0,this.ref=0,this.logger=h0,this.conn=null,this.sendBuffer=[],this.serializer=new u4,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>zr(async()=>{const{default:c}=await Promise.resolve().then(()=>al);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${Jp.websocket}`,this.httpEndpoint=V1(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const a=(s=n==null?void 0:n.params)===null||s===void 0?void 0:s.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new U1(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=i4),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:c4}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(s=>s.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,s){this.logger(t,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Kl.connecting:return ai.Connecting;case Kl.open:return ai.Open;case Kl.closing:return ai.Closing;default:return ai.Closed}}isConnected(){return this.connectionState()===ai.Open}channel(t,n={config:{}}){const s=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===s);if(a)return a;{const i=new oy(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:s,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${s} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const a={access_token:n,version:l4};n&&s.updateJoinPayload(a),s.joinedOnce&&s._isJoined()&&s._push(zs.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(d4,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:s,event:a,payload:i,ref:o}=n;s==="phoenix"&&a==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${s} ${a} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(s)).forEach(l=>l._trigger(a,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(zs.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const s=t.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${t}${s}${a}`}_workerObjectUrl(t){let n;if(t)n=t;else{const s=new Blob([y4],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}}class ly extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Zt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class w4 extends ly{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class eg extends ly{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var j4=function(e,t,n,s){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(f){o(f)}}function c(u){try{d(s.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};const W1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>zr(async()=>{const{default:s}=await Promise.resolve().then(()=>al);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},_4=()=>j4(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield zr(()=>Promise.resolve().then(()=>al),void 0)).Response:Response}),tg=e=>{if(Array.isArray(e))return e.map(n=>tg(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,s])=>{const a=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=tg(s)}),t};var Mi=function(e,t,n,s){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(f){o(f)}}function c(u){try{d(s.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};const om=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),b4=(e,t,n)=>Mi(void 0,void 0,void 0,function*(){const s=yield _4();e instanceof s&&!(n!=null&&n.noResolveJson)?e.json().then(a=>{t(new w4(om(a),e.status||500))}).catch(a=>{t(new eg(om(a),a))}):t(new eg(om(e),e))}),S4=(e,t,n,s)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s&&(a.body=JSON.stringify(s)),Object.assign(Object.assign({},a),n))};function td(e,t,n,s,a,i){return Mi(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,S4(t,s,a,i)).then(c=>{if(!c.ok)throw c;return s!=null&&s.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>b4(c,l,s))})})}function Yu(e,t,n,s){return Mi(this,void 0,void 0,function*(){return td(e,"GET",t,n,s)})}function ia(e,t,n,s,a){return Mi(this,void 0,void 0,function*(){return td(e,"POST",t,s,a,n)})}function N4(e,t,n,s,a){return Mi(this,void 0,void 0,function*(){return td(e,"PUT",t,s,a,n)})}function C4(e,t,n,s){return Mi(this,void 0,void 0,function*(){return td(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function H1(e,t,n,s,a){return Mi(this,void 0,void 0,function*(){return td(e,"DELETE",t,s,a,n)})}var zn=function(e,t,n,s){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(f){o(f)}}function c(u){try{d(s.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};const E4={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},m0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class T4{constructor(t,n={},s,a){this.url=t,this.headers=n,this.bucketId=s,this.fetch=W1(a)}uploadOrUpdate(t,n,s,a){return zn(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},m0),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=s,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const d=this._removeEmptyFolders(n),u=this._getFinalPath(d),f=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),m=yield f.json();return f.ok?{data:{path:d,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(i){if(Zt(i))return{data:null,error:i};throw i}})}upload(t,n,s){return zn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,s)})}uploadToSignedUrl(t,n,s,a){return zn(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let c;const d=Object.assign({upsert:m0.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.append("cacheControl",d.cacheControl)):(c=s,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:u}),m=yield f.json();return f.ok?{data:{path:i,fullPath:m.Key},error:null}:{data:null,error:m}}catch(c){if(Zt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return zn(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t);const a=Object.assign({},this.headers);n!=null&&n.upsert&&(a["x-upsert"]="true");const i=yield ia(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new ly("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(s){if(Zt(s))return{data:null,error:s};throw s}})}update(t,n,s){return zn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,s)})}move(t,n,s){return zn(this,void 0,void 0,function*(){try{return{data:yield ia(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Zt(a))return{data:null,error:a};throw a}})}copy(t,n,s){return zn(this,void 0,void 0,function*(){try{return{data:{path:(yield ia(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Zt(a))return{data:null,error:a};throw a}})}createSignedUrl(t,n,s){return zn(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield ia(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:n},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(Zt(a))return{data:null,error:a};throw a}})}createSignedUrls(t,n,s){return zn(this,void 0,void 0,function*(){try{const a=yield ia(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(Zt(a))return{data:null,error:a};throw a}})}download(t,n){return zn(this,void 0,void 0,function*(){const a=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Yu(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Zt(l))return{data:null,error:l};throw l}})}info(t){return zn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const s=yield Yu(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:tg(s),error:null}}catch(s){if(Zt(s))return{data:null,error:s};throw s}})}exists(t){return zn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield C4(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(Zt(s)&&s instanceof eg){const a=s.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:s}}throw s}})}getPublicUrl(t,n){const s=this._getFinalPath(t),a=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&a.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&a.push(c);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${s}${d}`)}}}remove(t){return zn(this,void 0,void 0,function*(){try{return{data:yield H1(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Zt(n))return{data:null,error:n};throw n}})}list(t,n,s){return zn(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},E4),n),{prefix:t||""});return{data:yield ia(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},s),error:null}}catch(a){if(Zt(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const k4="2.7.1",P4={"X-Client-Info":`storage-js/${k4}`};var Oi=function(e,t,n,s){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(f){o(f)}}function c(u){try{d(s.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};class R4{constructor(t,n={},s){this.url=t,this.headers=Object.assign(Object.assign({},P4),n),this.fetch=W1(s)}listBuckets(){return Oi(this,void 0,void 0,function*(){try{return{data:yield Yu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Zt(t))return{data:null,error:t};throw t}})}getBucket(t){return Oi(this,void 0,void 0,function*(){try{return{data:yield Yu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Zt(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Oi(this,void 0,void 0,function*(){try{return{data:yield ia(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(Zt(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return Oi(this,void 0,void 0,function*(){try{return{data:yield N4(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(Zt(s))return{data:null,error:s};throw s}})}emptyBucket(t){return Oi(this,void 0,void 0,function*(){try{return{data:yield ia(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Zt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Oi(this,void 0,void 0,function*(){try{return{data:yield H1(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Zt(n))return{data:null,error:n};throw n}})}}class A4 extends R4{constructor(t,n={},s){super(t,n,s)}from(t){return new T4(this.url,this.headers,t,this.fetch)}}const $4="2.51.0";let Al="";typeof Deno<"u"?Al="deno":typeof document<"u"?Al="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Al="react-native":Al="node";const D4={"X-Client-Info":`supabase-js-${Al}/${$4}`},M4={headers:D4},L4={schema:"public"},I4={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},O4={};var F4=function(e,t,n,s){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(f){o(f)}}function c(u){try{d(s.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};const B4=e=>{let t;return e?t=e:typeof fetch>"u"?t=k1:t=fetch,(...n)=>t(...n)},U4=()=>typeof Headers>"u"?P1:Headers,z4=(e,t,n)=>{const s=B4(n),a=U4();return(i,o)=>F4(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let d=new a(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),s(i,Object.assign(Object.assign({},o),{headers:d}))})};var V4=function(e,t,n,s){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(f){o(f)}}function c(u){try{d(s.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};function W4(e){return e.endsWith("/")?e:e+"/"}function H4(e,t){var n,s;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:d,realtime:u,global:f}=t,m={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},u),o),global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(s=l==null?void 0:l.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>V4(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}const q1="2.71.0",Gi=30*1e3,ng=3,lm=ng*Gi,q4="http://localhost:9999",K4="supabase.auth.token",G4={"X-Client-Info":`gotrue-js/${q1}`},sg="X-Supabase-Api-Version",K1={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Y4=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Q4=10*60*1e3;class cy extends Error{constructor(t,n,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function Ne(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class X4 extends cy{constructor(t,n,s){super(t,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function J4(e){return Ne(e)&&e.name==="AuthApiError"}class G1 extends cy{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Ba extends cy{constructor(t,n,s,a){super(t,s,a),this.name=n,this.status=s}}class ta extends Ba{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Z4(e){return Ne(e)&&e.name==="AuthSessionMissingError"}class Md extends Ba{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ld extends Ba{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Id extends Ba{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function eF(e){return Ne(e)&&e.name==="AuthImplicitGrantRedirectError"}class p0 extends Ba{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class rg extends Ba{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function cm(e){return Ne(e)&&e.name==="AuthRetryableFetchError"}class g0 extends Ba{constructor(t,n,s){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class ag extends Ba{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Qu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),x0=` 	
\r=`.split(""),tF=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<x0.length;t+=1)e[x0[t].charCodeAt(0)]=-2;for(let t=0;t<Qu.length;t+=1)e[Qu[t].charCodeAt(0)]=t;return e})();function y0(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n(Qu[s]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n(Qu[s]),t.queuedBits-=6}}function Y1(e,t,n){const s=tF[e];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function v0(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{rF(o,s,n)};for(let o=0;o<e.length;o+=1)Y1(e.charCodeAt(o),a,i);return t.join("")}function nF(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function sF(e,t){for(let n=0;n<e.length;n+=1){let s=e.charCodeAt(n);if(s>55295&&s<=56319){const a=(s-55296)*1024&65535;s=(e.charCodeAt(n+1)-56320&65535|a)+65536,n+=1}nF(s,t)}}function rF(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let s=1;s<6;s+=1)if(!(e>>7-s&1)){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function aF(e){const t=[],n={queue:0,queuedBits:0},s=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)Y1(e.charCodeAt(a),n,s);return new Uint8Array(t)}function iF(e){const t=[];return sF(e,n=>t.push(n)),new Uint8Array(t)}function oF(e){const t=[],n={queue:0,queuedBits:0},s=a=>{t.push(a)};return e.forEach(a=>y0(a,n,s)),y0(null,n,s),t.join("")}function lF(e){return Math.round(Date.now()/1e3)+e}function cF(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ds=()=>typeof window<"u"&&typeof document<"u",Qa={tested:!1,writable:!1},Q1=()=>{if(!Ds())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Qa.tested)return Qa.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Qa.tested=!0,Qa.writable=!0}catch{Qa.tested=!0,Qa.writable=!1}return Qa.writable};function dF(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return n.searchParams.forEach((s,a)=>{t[a]=s}),t}const X1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>zr(async()=>{const{default:s}=await Promise.resolve().then(()=>al);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},uF=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Yi=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Xa=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Zr=async(e,t)=>{await e.removeItem(t)};class Gf{constructor(){this.promise=new Gf.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Gf.promiseConstructor=Promise;function dm(e){const t=e.split(".");if(t.length!==3)throw new ag("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!Y4.test(t[s]))throw new ag("JWT not in base64url format");return{header:JSON.parse(v0(t[0])),payload:JSON.parse(v0(t[1])),signature:aF(t[2]),raw:{header:t[0],payload:t[1]}}}async function fF(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function hF(e,t){return new Promise((s,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){s(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function mF(e){return("0"+e.toString(16)).substr(-2)}function pF(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let a="";for(let i=0;i<56;i++)a+=n.charAt(Math.floor(Math.random()*s));return a}return crypto.getRandomValues(t),Array.from(t,mF).join("")}async function gF(e){const n=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(s);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function xF(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await gF(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Fi(e,t,n=!1){const s=pF();let a=s;n&&(a+="/PASSWORD_RECOVERY"),await Yi(e,`${t}-code-verifier`,a);const i=await xF(s);return[i,s===i?"plain":"s256"]}const yF=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function vF(e){const t=e.headers.get(sg);if(!t||!t.match(yF))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function wF(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function jF(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const _F=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Bi(e){if(!_F.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function um(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}var bF=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n};const si=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),SF=[502,503,504];async function w0(e){var t;if(!uF(e))throw new rg(si(e),0);if(SF.includes(e.status))throw new rg(si(e),e.status);let n;try{n=await e.json()}catch(i){throw new G1(si(i),i)}let s;const a=vF(e);if(a&&a.getTime()>=K1["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new g0(si(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new ta}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new g0(si(n),e.status,n.weak_password.reasons);throw new X4(si(n),e.status||500,s)}const NF=(e,t,n,s)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(s),Object.assign(Object.assign({},a),n))};async function Re(e,t,n,s){var a;const i=Object.assign({},s==null?void 0:s.headers);i[sg]||(i[sg]=K1["2024-01-01"].name),s!=null&&s.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const o=(a=s==null?void 0:s.query)!==null&&a!==void 0?a:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await CF(e,t,n+l,{headers:i,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(c):{data:Object.assign({},c),error:null}}async function CF(e,t,n,s,a,i){const o=NF(t,s,a,i);let l;try{l=await e(n,Object.assign({},o))}catch(c){throw console.error(c),new rg(si(c),0)}if(l.ok||await w0(l),s!=null&&s.noResolveJson)return l;try{return await l.json()}catch(c){await w0(c)}}function Nr(e){var t;let n=null;PF(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=lF(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:s},error:null}}function j0(e){const t=Nr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function da(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function EF(e){return{data:e,error:null}}function TF(e){const{action_link:t,email_otp:n,hashed_token:s,redirect_to:a,verification_type:i}=e,o=bF(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:s,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function kF(e){return e}function PF(e){return e.access_token&&e.refresh_token&&e.expires_in}const fm=["global","local","others"];var RF=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n};class AF{constructor({url:t="",headers:n={},fetch:s}){this.url=t,this.headers=n,this.fetch=X1(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=fm[0]){if(fm.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${fm.join(", ")}`);try{return await Re(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Ne(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,n={}){try{return await Re(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:da})}catch(s){if(Ne(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:n}=t,s=RF(t,["options"]),a=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(a.new_email=s==null?void 0:s.newEmail,delete a.newEmail),await Re(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:TF,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ne(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Re(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:da})}catch(n){if(Ne(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,s,a,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await Re(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:kF});if(u.error)throw u.error;const f=await u.json(),m=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(j=>{const g=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(j.split(";")[1].split("=")[1]);d[`${w}Page`]=g}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},f),d),error:null}}catch(d){if(Ne(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){Bi(t);try{return await Re(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:da})}catch(n){if(Ne(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Bi(t);try{return await Re(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:da})}catch(s){if(Ne(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,n=!1){Bi(t);try{return await Re(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:da})}catch(s){if(Ne(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){Bi(t.userId);try{const{data:n,error:s}=await Re(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:s}}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Bi(t.userId),Bi(t.id);try{return{data:await Re(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ne(n))return{data:null,error:n};throw n}}}function _0(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function $F(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ui={debug:!!(globalThis&&Q1()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class J1 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class DF extends J1{}async function MF(e,t,n){Ui.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),Ui.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async a=>{if(a){Ui.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await n()}finally{Ui.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Ui.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new DF(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ui.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}$F();const LF={url:q4,storageKey:K4,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:G4,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function b0(e,t,n){return await n()}const zi={};class kc{constructor(t){var n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=kc.nextInstanceID,kc.nextInstanceID+=1,this.instanceID>0&&Ds()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},LF),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new AF({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=X1(a.fetch),this.lock=a.lock||b0,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Ds()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=MF:this.lock=b0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:Q1()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=_0(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=_0(this.memoryStorage)),Ds()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=zi[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){zi[this.storageKey]=Object.assign(Object.assign({},zi[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=zi[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){zi[this.storageKey]=Object.assign(Object.assign({},zi[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${q1}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=dF(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),Ds()&&this.detectSessionInUrl&&s!=="none"){const{data:a,error:i}=await this._getSessionFromURL(n,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),eF(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ne(n)?{error:n}:{error:new G1("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,s,a;try{const i=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Nr}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(Ne(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,s,a;try{let i;if("email"in t){const{email:u,password:f,options:m}=t;let y=null,j=null;this.flowType==="pkce"&&([y,j]=await Fi(this.storage,this.storageKey)),i=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:u,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:y,code_challenge_method:j},xform:Nr})}else if("phone"in t){const{phone:u,password:f,options:m}=t;i=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(s=m==null?void 0:m.data)!==null&&s!==void 0?s:{},channel:(a=m==null?void 0:m.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Nr})}else throw new Ld("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(Ne(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:l}=t;n=await Re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:j0})}else if("phone"in t){const{phone:i,password:o,options:l}=t;n=await Re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:j0})}else throw new Ld("You must provide either an email or phone number and a password");const{data:s,error:a}=n;return a?{data:{user:null,session:null},error:a}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Md}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:a})}catch(n){if(Ne(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,s,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,s,a,i,o,l,c,d,u,f,m,y;let j,g;if("message"in t)j=t.message,g=t.signature;else{const{chain:w,wallet:x,statement:p,options:v}=t;let _;if(Ds())if(typeof x=="object")_=x;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))_=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=x}const b=new URL((n=v==null?void 0:v.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const P=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:b.host,uri:b.href}),p?{statement:p}:null));let N;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")N=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)N=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)j=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),g=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${b.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${b.href}`,`Issued At: ${(a=(s=v==null?void 0:v.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=v==null?void 0:v.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((c=v==null?void 0:v.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((d=v==null?void 0:v.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((f=(u=v==null?void 0:v.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||f===void 0)&&f.length?["Resources",...v.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const P=await _.signMessage(new TextEncoder().encode(j),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=P}}try{const{data:w,error:x}=await Re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:oF(g)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Nr});if(x)throw x;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Md}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:x})}catch(w){if(Ne(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const n=await Xa(this.storage,`${this.storageKey}-code-verifier`),[s,a]=(n??"").split("/");try{const{data:i,error:o}=await Re(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:Nr});if(await Zr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Md}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(Ne(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:s,token:a,access_token:i,nonce:o}=t,l=await Re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Nr}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Md}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(n){if(Ne(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,s,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await Fi(this.storage,this.storageKey));const{error:f}=await Re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:u}=await Re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new Ld("You must provide either an email or phone number.")}catch(l){if(Ne(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,s;try{let a,i;"options"in t&&(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:l}=await Re(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Nr});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(Ne(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var n,s,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Fi(this.storage,this.storageKey)),await Re(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:EF})}catch(i){if(Ne(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:s}=t;if(s)throw s;if(!n)throw new ta;const{error:a}=await Re(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(Ne(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:s,type:a,options:i}=t,{error:o}=await Re(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:s,type:a,options:i}=t,{data:o,error:l}=await Re(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Ld("You must provide either an email or phone number and a type")}catch(n){if(Ne(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Xa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<lm:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.userStorage){const o=await Xa(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=um()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,d,u)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:t},error:null}}const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:da}):await this._useSession(async n=>{var s,a,i;const{data:o,error:l}=n;if(l)throw l;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ta}:await Re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:da})})}catch(n){if(Ne(n))return Z4(n)&&(await this._removeSession(),await Zr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async s=>{const{data:a,error:i}=s;if(i)throw i;if(!a.session)throw new ta;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Fi(this.storage,this.storageKey));const{data:d,error:u}=await Re(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:da});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if(Ne(s))return{data:{user:null},error:s};throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ta;const n=Date.now()/1e3;let s=n,a=!0,i=null;const{payload:o}=dm(t.access_token);if(o.exp&&(s=o.exp,a=s<=n),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(Ne(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var s;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(t!=null&&t.refresh_token))throw new ta;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ne(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Ds())throw new Id("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Id(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new p0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Id("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new p0("No code detected.");const{data:p,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=t;if(!i||!l||!o||!d)throw new Id("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(l);let m=u+f;c&&(m=parseInt(c));const y=m-u;y*1e3<=Gi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${f}s`);const j=m-f;u-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,m,u):u-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,m,u);const{data:g,error:w}=await this._getUser(i);if(w)throw w;const x={provider_token:s,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:m,refresh_token:o,token_type:d,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(s){if(Ne(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Xa(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:a,error:i}=n;if(i)return{error:i};const o=(s=a.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(J4(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Zr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=cF(),s={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async n=>{var s,a;try{const{data:{session:i},error:o}=n;if(o)throw o;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let s=null,a=null;this.flowType==="pkce"&&([s,a]=await Fi(this.storage,this.storageKey,!0));try{return await Re(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(Ne(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:s,error:a}=await this._useSession(async i=>{var o,l,c,d,u;const{data:f,error:m}=i;if(m)throw m;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Re(this.fetch,"GET",y,{headers:this.headers,jwt:(u=(d=f.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return Ds()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:t.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(Ne(s))return{data:{provider:t.provider,url:null},error:s};throw s}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var s,a;const{data:i,error:o}=n;if(o)throw o;return await Re(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await hF(async a=>(a>0&&await fF(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await Re(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Nr})),(a,i)=>{const o=200*Math.pow(2,a);return i&&cm(i)&&Date.now()+o-s<Gi})}catch(s){if(this._debug(n,"error",s),Ne(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",s),Ds()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const a=await Xa(this.storage,this.storageKey);if(a&&this.userStorage){let o=await Xa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await Yi(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:um()}else if(a&&!a.user&&!a.user){const o=await Xa(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await Zr(this.storage,this.storageKey+"-user"),await Yi(this.storage,this.storageKey,a)):a.user=um()}if(this._debug(s,"session from storage",a),!this._isValidSession(a)){this._debug(s,"session is not valid"),a!==null&&await this._removeSession();return}const i=((n=a.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<lm;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${lm}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),cm(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(s,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(s,"error",a),console.error(a);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var n,s;if(!t)throw new ta;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Gf;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new ta;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),Ne(i)){const o={session:null,error:i};return cm(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,n,s=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await Yi(this.userStorage,this.storageKey+"-user",{user:n.user});const a=Object.assign({},n);delete a.user;const i=structuredClone(a);await Yi(this.storage,this.storageKey,i)}else{const a=structuredClone(n);await Yi(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Zr(this.storage,this.storageKey),await Zr(this.storage,this.storageKey+"-code-verifier"),await Zr(this.storage,this.storageKey+"-user"),this.userStorage&&await Zr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ds()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Gi);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((s.expires_at*1e3-t)/Gi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Gi}ms, refresh threshold is ${ng} ticks`),a<=ng&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof J1)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ds()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,s){const a=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&a.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&a.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,o]=await Fi(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(s!=null&&s.queryParams){const i=new URLSearchParams(s.queryParams);a.push(i.toString())}return s!=null&&s.skipBrowserRedirect&&a.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var s;const{data:a,error:i}=n;return i?{data:null,error:i}:await Re(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var s,a;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:d}=await Re(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:a,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await Re(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(Ne(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:a,error:i}=n;return i?{data:null,error:i}:await Re(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(Ne(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:s}=await this._challenge({factorId:t.factorId});return s?{data:null,error:s}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const s=(t==null?void 0:t.factors)||[],a=s.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=s.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:s,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,s;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=dm(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((s=(n=a.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,n={keys:[]}){let s=n.keys.find(l=>l.kid===t);if(s)return s;const a=Date.now();if(s=this.jwks.keys.find(l=>l.kid===t),s&&this.jwks_cached_at+Q4>a)return s;const{data:i,error:o}=await Re(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,s=i.keys.find(l=>l.kid===t),!s)?null:s}async getClaims(t,n={}){try{let s=t;if(!s){const{data:y,error:j}=await this.getSession();if(j||!y.session)return{data:null,error:j};s=y.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=dm(s);n!=null&&n.allowExpired||wF(i.exp);const d=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!d){const{error:y}=await this.getUser(s);if(y)throw y;return{data:{claims:i,header:a,signature:o},error:null}}const u=jF(a.alg),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,o,iF(`${l}.${c}`)))throw new ag("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(s){if(Ne(s))return{data:null,error:s};throw s}}}kc.nextInstanceID=0;const IF=kc;class OF extends IF{constructor(t){super(t)}}var FF=function(e,t,n,s){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(f){o(f)}}function c(u){try{d(s.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};class BF{constructor(t,n,s){var a,i,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=W4(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:L4,realtime:O4,auth:Object.assign(Object.assign({},I4),{storageKey:d}),global:M4},f=H4(s??{},u);this.storageKey=(a=f.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(m,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=z4(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new r4(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new DO(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new A4(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},s={}){return this.rest.rpc(t,n,s)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return FF(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(n=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:a,storageKey:i,flowType:o,lock:l,debug:c},d,u){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new OF({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:a,flowType:o,lock:l,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new v4(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(t,n,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const UF=(e,t,n)=>new BF(e,t,n),zF="https://pmtssnzfepkcqpziknbz.supabase.co",VF="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBtdHNzbnpmZXBrY3FwemlrbmJ6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIwMzQ5MDQsImV4cCI6MjA2NzYxMDkwNH0.KNIFrGxC-XaJFzN0m69NX85bMQR2XgCj0JDxfbPcHS0",Dn=UF(zF,VF),Pe={SEASONS:"seasons",CONFERENCES:"conferences",TEAMS:"teams",TEAM_CONFERENCE_JUNCTION:"team_conference_junction",MATCHUPS:"matchups",TEAM_RECORDS:"team_records",PLAYERS:"players",DRAFT_RESULTS:"draft_results",MATCHUP_ADMIN_OVERRIDE:"matchup_admin_override",PLAYOFF_BRACKETS:"playoff_brackets",PLAYOFF_FORMATS:"playoff_formats",TEAM_ROSTERS:"team_rosters",TRANSACTIONS:"transactions"};class ne{static async queryTable(t,n={}){try{let s=Dn.from(t).select("*",{count:"exact"});n.filters&&n.filters.forEach(l=>{s=this.applyFilter(s,l)}),n.orderBy&&(s=s.order(n.orderBy.column,{ascending:n.orderBy.ascending})),n.limit&&(s=s.limit(n.limit)),n.offset&&(s=s.range(n.offset,n.offset+(n.limit||100)-1));const{data:a,error:i,count:o}=await s;return i?(console.error(`Error querying ${t}:`,i),{data:[],error:i}):{data:a||[],count:o||0}}catch(s){return console.error(`Error in queryTable for ${t}:`,s),{data:[],error:s}}}static async createRecord(t,n){try{const{data:s,error:a}=await Dn.from(t).insert(n).select().single();return a?(console.error(`Error creating record in ${t}:`,a),{data:null,error:a}):{data:s,error:null}}catch(s){return console.error(`Error in createRecord for ${t}:`,s),{data:null,error:s}}}static async updateRecord(t,n,s){try{const{data:a,error:i}=await Dn.from(t).update(s).eq("id",n).select().single();return i?(console.error(`Error updating record in ${t}:`,i),{data:null,error:i}):{data:a,error:null}}catch(a){return console.error(`Error in updateRecord for ${t}:`,a),{data:null,error:a}}}static async deleteRecord(t,n){try{const{error:s}=await Dn.from(t).delete().eq("id",n);return s?(console.error(`Error deleting record from ${t}:`,s),{error:s}):{error:null}}catch(s){return console.error(`Error in deleteRecord for ${t}:`,s),{error:s}}}static applyFilter(t,n){const{column:s,operator:a,value:i}=n;switch(a){case"eq":return t.eq(s,i);case"neq":return t.neq(s,i);case"gt":return t.gt(s,i);case"gte":return t.gte(s,i);case"lt":return t.lt(s,i);case"lte":return t.lte(s,i);case"like":return t.like(s,i);case"ilike":return t.ilike(s,i);case"in":return t.in(s,i);case"is":return t.is(s,i);case"not":return t.not(s,i);default:return t}}static async getSeasons(t){return this.queryTable(Pe.SEASONS,t)}static async createSeason(t){return this.createRecord(Pe.SEASONS,t)}static async updateSeason(t,n){return this.updateRecord(Pe.SEASONS,t,n)}static async updateSeasonScoringSettings(t){try{const{data:n}=await this.getConferences({filters:[{column:"season_id",operator:"eq",value:t}]});if(!n||n.length===0)return{success:!1,error:"No conferences found for this season"};const s=n[0],i=await(await zr(async()=>{const{SleeperApiService:l}=await Promise.resolve().then(()=>fg);return{SleeperApiService:l}},void 0)).SleeperApiService.fetchLeague(s.league_id);if(!i.scoring_settings)return{success:!1,error:"No scoring settings found in league data"};const{error:o}=await this.updateSeason(t,{scoring_settings:i.scoring_settings});return o?{success:!1,error:o}:{success:!0}}catch(n){return console.error("Error updating season scoring settings:",n),{success:!1,error:n}}}static async updateSeasonRosterPositions(t){try{const{data:n}=await this.getConferences({filters:[{column:"season_id",operator:"eq",value:t}]});if(!n||n.length===0)return{success:!1,error:"No conferences found for this season"};const s=n[0],i=await(await zr(async()=>{const{SleeperApiService:l}=await Promise.resolve().then(()=>fg);return{SleeperApiService:l}},void 0)).SleeperApiService.fetchLeague(s.league_id);if(!i.roster_positions)return{success:!1,error:"No roster positions found in league data"};const{error:o}=await this.updateSeason(t,{roster_positions:i.roster_positions});return o?{success:!1,error:o}:{success:!0}}catch(n){return console.error("Error updating season roster positions:",n),{success:!1,error:n}}}static async getConferences(t){return this.queryTable(Pe.CONFERENCES,t)}static async createConference(t){return this.createRecord(Pe.CONFERENCES,t)}static async updateConference(t,n){return this.updateRecord(Pe.CONFERENCES,t,n)}static async getTeams(t){return this.queryTable(Pe.TEAMS,t)}static async createTeam(t){return this.createRecord(Pe.TEAMS,t)}static async updateTeam(t,n){return this.updateRecord(Pe.TEAMS,t,n)}static async getTeamConferenceJunctions(t){return this.queryTable(Pe.TEAM_CONFERENCE_JUNCTION,t)}static async createTeamConferenceJunction(t){return this.createRecord(Pe.TEAM_CONFERENCE_JUNCTION,t)}static async getMatchups(t){return this.queryTable(Pe.MATCHUPS,t)}static async createMatchup(t){return this.createRecord(Pe.MATCHUPS,t)}static async updateMatchup(t,n){return this.updateRecord(Pe.MATCHUPS,t,n)}static async getTeamRecords(t){return this.queryTable(Pe.TEAM_RECORDS,t)}static async createTeamRecord(t){return this.createRecord(Pe.TEAM_RECORDS,t)}static async updateTeamRecord(t,n){return this.updateRecord(Pe.TEAM_RECORDS,t,n)}static async deleteTeamRecord(t){return this.deleteRecord(Pe.TEAM_RECORDS,t)}static async getPlayers(t){try{let n=Dn.from(Pe.PLAYERS).select("*",{count:"exact"});t!=null&&t.filters&&t.filters.forEach(o=>{n=this.applyFilter(n,o)}),t!=null&&t.orderBy&&(n=n.order(t.orderBy.column,{ascending:t.orderBy.ascending})),n=n.range(0,14999);const{data:s,error:a,count:i}=await n;return a?(console.error(`Error querying ${Pe.PLAYERS}:`,a),{data:[],error:a}):{data:s||[],count:i||0}}catch(n){return console.error("Error in getPlayers:",n),{data:[],error:n}}}static async createPlayer(t){return this.createRecord(Pe.PLAYERS,t)}static async updatePlayer(t,n){return this.updateRecord(Pe.PLAYERS,t,n)}static async getAllPlayersForMapping(t){try{const n=[];let a=0,i=!0;for(;i;){let o=Dn.from(Pe.PLAYERS).select("*");t&&t.forEach(d=>{o=this.applyFilter(o,d)}),o=o.order("sleeper_id",{ascending:!0}),o=o.range(a,a+1e3-1);const{data:l,error:c}=await o;if(c)throw console.error("Error in getAllPlayersForMapping:",c),c;l&&l.length>0?(n.push(...l),l.length<1e3?i=!1:a+=1e3):i=!1}return n}catch(n){throw console.error("Error in getAllPlayersForMapping:",n),n}}static async getPlayersAsSleeperFormat(){try{const t=await this.getPlayers();if(!t.data)throw new Error("Failed to fetch players from database");const n={};return t.data.forEach(s=>{var a;if(s.sleeper_id){const i=s.player_name.split(" "),o=i[0]||"",l=i.slice(1).join(" ")||"";n[s.sleeper_id]={player_id:s.sleeper_id,first_name:o,last_name:l,position:s.position||"",team:s.nfl_team||"",jersey_number:s.number||0,status:s.playing_status||"",injury_status:s.injury_status||"",age:s.age||0,height:((a=s.height)==null?void 0:a.toString())||"",weight:s.weight||0,years_exp:0,college:s.college||""}}}),n}catch(t){throw console.error("Error fetching players from database:",t),t}}static async getDraftResults(t){return this.queryTable(Pe.DRAFT_RESULTS,t)}static async createDraftResult(t){return this.createRecord(Pe.DRAFT_RESULTS,t)}static async getMatchupAdminOverrides(t){return this.queryTable(Pe.MATCHUP_ADMIN_OVERRIDE,t)}static async createMatchupAdminOverride(t){return this.createRecord(Pe.MATCHUP_ADMIN_OVERRIDE,t)}static async updateMatchupAdminOverride(t,n){return this.updateRecord(Pe.MATCHUP_ADMIN_OVERRIDE,t,n)}static async deleteMatchupAdminOverride(t){return this.deleteRecord(Pe.MATCHUP_ADMIN_OVERRIDE,t)}static async getTransactions(t){return this.queryTable(Pe.TRANSACTIONS,t)}static async createTransaction(t){return this.createRecord(Pe.TRANSACTIONS,t)}static async getPlayoffBrackets(t){return this.queryTable(Pe.PLAYOFF_BRACKETS,t)}static async createPlayoffBracket(t){return this.createRecord(Pe.PLAYOFF_BRACKETS,t)}static async updatePlayoffBracket(t,n){return this.updateRecord(Pe.PLAYOFF_BRACKETS,t,n)}static async getPlayoffFormats(t){return this.queryTable(Pe.PLAYOFF_FORMATS,t)}static async createPlayoffFormat(t){return this.createRecord(Pe.PLAYOFF_FORMATS,t)}static async updatePlayoffFormat(t,n){return this.updateRecord(Pe.PLAYOFF_FORMATS,t,n)}}const WF=Object.freeze(Object.defineProperty({__proto__:null,DatabaseService:ne},Symbol.toStringTag,{value:"Module"})),Z1=h.createContext(void 0),HF=({children:e})=>{const[t,n]=h.useState(2025),[s,a]=h.useState(null),[i,o]=h.useState("light"),[l,c]=h.useState([]),[d,u]=h.useState(!0),[f,m]=h.useState(null),y=async()=>{try{u(!0),m(null);const x=await ne.getSeasons({orderBy:{column:"season_year",ascending:!1}});if(x.error)throw new Error(x.error);const p=x.data||[],v=await ne.getConferences();if(v.error)throw new Error(v.error);const _=v.data||[],b=p.map(N=>{const E=_.filter(R=>R.season_id===N.id).map(R=>({id:R.conference_name.toLowerCase().replace(/[^a-z0-9]/g,""),name:R.conference_name,leagueId:R.league_id,status:R.status,seasonId:R.season_id,dbConferenceId:R.id}));return{year:parseInt(N.season_year),conferences:E,seasonId:N.id,isCurrent:N.is_current}});c(b);const P=b.find(N=>N.isCurrent);P&&t!==P.year&&n(P.year)}catch(x){console.error("Failed to load season data:",x),m(x instanceof Error?x.message:"Failed to load season data"),c([{year:2024,conferences:[{id:"mars",name:"The Legions of Mars",leagueId:"1072580179844857856"},{id:"jupiter",name:"The Guardians of Jupiter",leagueId:"1072593839715667968"},{id:"vulcan",name:"Vulcan's Oathsworn",leagueId:"1072593416955015168"}]},{year:2025,conferences:[{id:"mars",name:"The Legions of Mars",leagueId:"1204854057169072128"},{id:"jupiter",name:"The Guardians of Jupiter",leagueId:"1204857692007440384"},{id:"vulcan",name:"Vulcan's Oathsworn",leagueId:"1204857608989577216"}]}])}finally{u(!1)}};h.useEffect(()=>{y()},[]);const j=()=>{o(x=>x==="light"?"dark":"light")},g=l.find(x=>x.year===t)||l.find(x=>x.isCurrent)||l[0]||{year:t,conferences:[]},w={selectedSeason:t,selectedConference:s,theme:i,setSelectedSeason:n,setSelectedConference:a,toggleTheme:j,seasonConfigs:l,currentSeasonConfig:g,loading:d,error:f,refreshSeasonData:y};return r.jsx(Z1.Provider,{value:w,children:r.jsx("div",{className:i,children:e})})},Fn=()=>{const e=h.useContext(Z1);if(!e)throw new Error("useApp must be used within an AppProvider");return e},qF=Jo("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),ee=h.forwardRef(({className:e,variant:t,size:n,asChild:s=!1,...a},i)=>{const o=s?pA:"button";return r.jsx(o,{className:ye(qF({variant:t,size:n,className:e})),ref:i,...a})});ee.displayName="Button";var hm="focusScope.autoFocusOnMount",mm="focusScope.autoFocusOnUnmount",S0={bubbles:!1,cancelable:!0},KF="FocusScope",dy=h.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=h.useState(null),d=as(a),u=as(i),f=h.useRef(null),m=Ye(t,g=>c(g)),y=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(s){let g=function(v){if(y.paused||!l)return;const _=v.target;l.contains(_)?f.current=_:na(f.current,{select:!0})},w=function(v){if(y.paused||!l)return;const _=v.relatedTarget;_!==null&&(l.contains(_)||na(f.current,{select:!0}))},x=function(v){if(document.activeElement===document.body)for(const b of v)b.removedNodes.length>0&&na(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",w);const p=new MutationObserver(x);return l&&p.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",w),p.disconnect()}}},[s,l,y.paused]),h.useEffect(()=>{if(l){C0.add(y);const g=document.activeElement;if(!l.contains(g)){const x=new CustomEvent(hm,S0);l.addEventListener(hm,d),l.dispatchEvent(x),x.defaultPrevented||(GF(ZF(eC(l)),{select:!0}),document.activeElement===g&&na(l))}return()=>{l.removeEventListener(hm,d),setTimeout(()=>{const x=new CustomEvent(mm,S0);l.addEventListener(mm,u),l.dispatchEvent(x),x.defaultPrevented||na(g??document.body,{select:!0}),l.removeEventListener(mm,u),C0.remove(y)},0)}}},[l,d,u,y]);const j=h.useCallback(g=>{if(!n&&!s||y.paused)return;const w=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,x=document.activeElement;if(w&&x){const p=g.currentTarget,[v,_]=YF(p);v&&_?!g.shiftKey&&x===_?(g.preventDefault(),n&&na(v,{select:!0})):g.shiftKey&&x===v&&(g.preventDefault(),n&&na(_,{select:!0})):x===p&&g.preventDefault()}},[n,s,y.paused]);return r.jsx(we.div,{tabIndex:-1,...o,ref:m,onKeyDown:j})});dy.displayName=KF;function GF(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(na(s,{select:t}),document.activeElement!==n)return}function YF(e){const t=eC(e),n=N0(t,e),s=N0(t.reverse(),e);return[n,s]}function eC(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function N0(e,t){for(const n of e)if(!QF(n,{upTo:t}))return n}function QF(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function XF(e){return e instanceof HTMLInputElement&&"select"in e}function na(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&XF(e)&&t&&e.select()}}var C0=JF();function JF(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=E0(e,t),e.unshift(t)},remove(t){var n;e=E0(e,t),(n=e[0])==null||n.resume()}}}function E0(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function ZF(e){return e.filter(t=>t.tagName!=="A")}var pm=0;function tC(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??T0()),document.body.insertAdjacentElement("beforeend",e[1]??T0()),pm++,()=>{pm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),pm--}},[])}function T0(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var dr=function(){return dr=Object.assign||function(t){for(var n,s=1,a=arguments.length;s<a;s++){n=arguments[s];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},dr.apply(this,arguments)};function nC(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n}function e3(e,t,n){if(n||arguments.length===2)for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}var cu="right-scroll-bar-position",du="width-before-scroll-bar",t3="with-scroll-bars-hidden",n3="--removed-body-scroll-bar-size";function gm(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function s3(e,t){var n=h.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var a=n.value;a!==s&&(n.value=s,n.callback(s,a))}}}})[0];return n.callback=t,n.facade}var r3=typeof window<"u"?h.useLayoutEffect:h.useEffect,k0=new WeakMap;function a3(e,t){var n=s3(null,function(s){return e.forEach(function(a){return gm(a,s)})});return r3(function(){var s=k0.get(n);if(s){var a=new Set(s),i=new Set(e),o=n.current;a.forEach(function(l){i.has(l)||gm(l,null)}),i.forEach(function(l){a.has(l)||gm(l,o)})}k0.set(n,e)},[e]),n}function i3(e){return e}function o3(e,t){t===void 0&&(t=i3);var n=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,s);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(s=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){s=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),n}}}};return a}function l3(e){e===void 0&&(e={});var t=o3(null);return t.options=dr({async:!0,ssr:!1},e),t}var sC=function(e){var t=e.sideCar,n=nC(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return h.createElement(s,dr({},n))};sC.isSideCarExport=!0;function c3(e,t){return e.useMedium(t),sC}var rC=l3(),xm=function(){},Yf=h.forwardRef(function(e,t){var n=h.useRef(null),s=h.useState({onScrollCapture:xm,onWheelCapture:xm,onTouchMoveCapture:xm}),a=s[0],i=s[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,f=e.shards,m=e.sideCar,y=e.noRelative,j=e.noIsolation,g=e.inert,w=e.allowPinchZoom,x=e.as,p=x===void 0?"div":x,v=e.gapMode,_=nC(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=m,P=a3([n,t]),N=dr(dr({},_),a);return h.createElement(h.Fragment,null,u&&h.createElement(b,{sideCar:rC,removeScrollBar:d,shards:f,noRelative:y,noIsolation:j,inert:g,setCallbacks:i,allowPinchZoom:!!w,lockRef:n,gapMode:v}),o?h.cloneElement(h.Children.only(l),dr(dr({},N),{ref:P})):h.createElement(p,dr({},N,{className:c,ref:P}),l))});Yf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Yf.classNames={fullWidth:du,zeroRight:cu};var d3=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function u3(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=d3();return t&&e.setAttribute("nonce",t),e}function f3(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function h3(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var m3=function(){var e=0,t=null;return{add:function(n){e==0&&(t=u3())&&(f3(t,n),h3(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},p3=function(){var e=m3();return function(t,n){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},aC=function(){var e=p3(),t=function(n){var s=n.styles,a=n.dynamic;return e(s,a),null};return t},g3={left:0,top:0,right:0,gap:0},ym=function(e){return parseInt(e||"",10)||0},x3=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[ym(n),ym(s),ym(a)]},y3=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return g3;var t=x3(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},v3=aC(),bo="data-scroll-locked",w3=function(e,t,n,s){var a=e.left,i=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(t3,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(bo,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(cu,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(du,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(cu," .").concat(cu,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(du," .").concat(du,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(bo,`] {
    `).concat(n3,": ").concat(l,`px;
  }
`)},P0=function(){var e=parseInt(document.body.getAttribute(bo)||"0",10);return isFinite(e)?e:0},j3=function(){h.useEffect(function(){return document.body.setAttribute(bo,(P0()+1).toString()),function(){var e=P0()-1;e<=0?document.body.removeAttribute(bo):document.body.setAttribute(bo,e.toString())}},[])},_3=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;j3();var i=h.useMemo(function(){return y3(a)},[a]);return h.createElement(v3,{styles:w3(i,!t,a,n?"":"!important")})},ig=!1;if(typeof window<"u")try{var Od=Object.defineProperty({},"passive",{get:function(){return ig=!0,!0}});window.addEventListener("test",Od,Od),window.removeEventListener("test",Od,Od)}catch{ig=!1}var Vi=ig?{passive:!1}:!1,b3=function(e){return e.tagName==="TEXTAREA"},iC=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!b3(e)&&n[t]==="visible")},S3=function(e){return iC(e,"overflowY")},N3=function(e){return iC(e,"overflowX")},R0=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=oC(e,s);if(a){var i=lC(e,s),o=i[1],l=i[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},C3=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},E3=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},oC=function(e,t){return e==="v"?S3(t):N3(t)},lC=function(e,t){return e==="v"?C3(t):E3(t)},T3=function(e,t){return e==="h"&&t==="rtl"?-1:1},k3=function(e,t,n,s,a){var i=T3(e,window.getComputedStyle(t).direction),o=i*s,l=n.target,c=t.contains(l),d=!1,u=o>0,f=0,m=0;do{if(!l)break;var y=lC(e,l),j=y[0],g=y[1],w=y[2],x=g-w-i*j;(j||x)&&oC(e,l)&&(f+=x,m+=j);var p=l.parentNode;l=p&&p.nodeType===Node.DOCUMENT_FRAGMENT_NODE?p.host:p}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&Math.abs(f)<1||!u&&Math.abs(m)<1)&&(d=!0),d},Fd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},A0=function(e){return[e.deltaX,e.deltaY]},$0=function(e){return e&&"current"in e?e.current:e},P3=function(e,t){return e[0]===t[0]&&e[1]===t[1]},R3=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},A3=0,Wi=[];function $3(e){var t=h.useRef([]),n=h.useRef([0,0]),s=h.useRef(),a=h.useState(A3++)[0],i=h.useState(aC)[0],o=h.useRef(e);h.useEffect(function(){o.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var g=e3([e.lockRef.current],(e.shards||[]).map($0),!0).filter(Boolean);return g.forEach(function(w){return w.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=h.useCallback(function(g,w){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var x=Fd(g),p=n.current,v="deltaX"in g?g.deltaX:p[0]-x[0],_="deltaY"in g?g.deltaY:p[1]-x[1],b,P=g.target,N=Math.abs(v)>Math.abs(_)?"h":"v";if("touches"in g&&N==="h"&&P.type==="range")return!1;var E=R0(N,P);if(!E)return!0;if(E?b=N:(b=N==="v"?"h":"v",E=R0(N,P)),!E)return!1;if(!s.current&&"changedTouches"in g&&(v||_)&&(s.current=b),!b)return!0;var R=s.current||b;return k3(R,w,g,R==="h"?v:_)},[]),c=h.useCallback(function(g){var w=g;if(!(!Wi.length||Wi[Wi.length-1]!==i)){var x="deltaY"in w?A0(w):Fd(w),p=t.current.filter(function(b){return b.name===w.type&&(b.target===w.target||w.target===b.shadowParent)&&P3(b.delta,x)})[0];if(p&&p.should){w.cancelable&&w.preventDefault();return}if(!p){var v=(o.current.shards||[]).map($0).filter(Boolean).filter(function(b){return b.contains(w.target)}),_=v.length>0?l(w,v[0]):!o.current.noIsolation;_&&w.cancelable&&w.preventDefault()}}},[]),d=h.useCallback(function(g,w,x,p){var v={name:g,delta:w,target:x,should:p,shadowParent:D3(x)};t.current.push(v),setTimeout(function(){t.current=t.current.filter(function(_){return _!==v})},1)},[]),u=h.useCallback(function(g){n.current=Fd(g),s.current=void 0},[]),f=h.useCallback(function(g){d(g.type,A0(g),g.target,l(g,e.lockRef.current))},[]),m=h.useCallback(function(g){d(g.type,Fd(g),g.target,l(g,e.lockRef.current))},[]);h.useEffect(function(){return Wi.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Vi),document.addEventListener("touchmove",c,Vi),document.addEventListener("touchstart",u,Vi),function(){Wi=Wi.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,Vi),document.removeEventListener("touchmove",c,Vi),document.removeEventListener("touchstart",u,Vi)}},[]);var y=e.removeScrollBar,j=e.inert;return h.createElement(h.Fragment,null,j?h.createElement(i,{styles:R3(a)}):null,y?h.createElement(_3,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function D3(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const M3=c3(rC,$3);var uy=h.forwardRef(function(e,t){return h.createElement(Yf,dr({},e,{ref:t,sideCar:M3}))});uy.classNames=Yf.classNames;var L3=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Hi=new WeakMap,Bd=new WeakMap,Ud={},vm=0,cC=function(e){return e&&(e.host||cC(e.parentNode))},I3=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=cC(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},O3=function(e,t,n,s){var a=I3(t,Array.isArray(e)?e:[e]);Ud[n]||(Ud[n]=new WeakMap);var i=Ud[n],o=[],l=new Set,c=new Set(a),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};a.forEach(d);var u=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))u(m);else try{var y=m.getAttribute(s),j=y!==null&&y!=="false",g=(Hi.get(m)||0)+1,w=(i.get(m)||0)+1;Hi.set(m,g),i.set(m,w),o.push(m),g===1&&j&&Bd.set(m,!0),w===1&&m.setAttribute(n,"true"),j||m.setAttribute(s,"true")}catch(x){console.error("aria-hidden: cannot operate on ",m,x)}})};return u(t),l.clear(),vm++,function(){o.forEach(function(f){var m=Hi.get(f)-1,y=i.get(f)-1;Hi.set(f,m),i.set(f,y),m||(Bd.has(f)||f.removeAttribute(s),Bd.delete(f)),y||f.removeAttribute(n)}),vm--,vm||(Hi=new WeakMap,Hi=new WeakMap,Bd=new WeakMap,Ud={})}},dC=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=L3(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live], script"))),O3(s,a,n,"aria-hidden")):function(){return null}},Qf="Dialog",[uC,aH]=ls(Qf),[F3,Js]=uC(Qf),fC=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=h.useRef(null),c=h.useRef(null),[d,u]=Fr({prop:s,defaultProp:a??!1,onChange:i,caller:Qf});return r.jsx(F3,{scope:t,triggerRef:l,contentRef:c,contentId:Dr(),titleId:Dr(),descriptionId:Dr(),open:d,onOpenChange:u,onOpenToggle:h.useCallback(()=>u(f=>!f),[u]),modal:o,children:n})};fC.displayName=Qf;var hC="DialogTrigger",mC=h.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=Js(hC,n),i=Ye(t,a.triggerRef);return r.jsx(we.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":my(a.open),...s,ref:i,onClick:ve(e.onClick,a.onOpenToggle)})});mC.displayName=hC;var fy="DialogPortal",[B3,pC]=uC(fy,{forceMount:void 0}),gC=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:a}=e,i=Js(fy,t);return r.jsx(B3,{scope:t,forceMount:n,children:h.Children.map(s,o=>r.jsx(vr,{present:n||i.open,children:r.jsx(Gc,{asChild:!0,container:a,children:o})}))})};gC.displayName=fy;var Xu="DialogOverlay",xC=h.forwardRef((e,t)=>{const n=pC(Xu,e.__scopeDialog),{forceMount:s=n.forceMount,...a}=e,i=Js(Xu,e.__scopeDialog);return i.modal?r.jsx(vr,{present:s||i.open,children:r.jsx(z3,{...a,ref:t})}):null});xC.displayName=Xu;var U3=Bo("DialogOverlay.RemoveScroll"),z3=h.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=Js(Xu,n);return r.jsx(uy,{as:U3,allowPinchZoom:!0,shards:[a.contentRef],children:r.jsx(we.div,{"data-state":my(a.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),Ti="DialogContent",yC=h.forwardRef((e,t)=>{const n=pC(Ti,e.__scopeDialog),{forceMount:s=n.forceMount,...a}=e,i=Js(Ti,e.__scopeDialog);return r.jsx(vr,{present:s||i.open,children:i.modal?r.jsx(V3,{...a,ref:t}):r.jsx(W3,{...a,ref:t})})});yC.displayName=Ti;var V3=h.forwardRef((e,t)=>{const n=Js(Ti,e.__scopeDialog),s=h.useRef(null),a=Ye(t,n.contentRef,s);return h.useEffect(()=>{const i=s.current;if(i)return dC(i)},[]),r.jsx(vC,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ve(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ve(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:ve(e.onFocusOutside,i=>i.preventDefault())})}),W3=h.forwardRef((e,t)=>{const n=Js(Ti,e.__scopeDialog),s=h.useRef(!1),a=h.useRef(!1);return r.jsx(vC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),vC=h.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=Js(Ti,n),c=h.useRef(null),d=Ye(t,c);return tC(),r.jsxs(r.Fragment,{children:[r.jsx(dy,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:r.jsx(Kc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":my(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(H3,{titleId:l.titleId}),r.jsx(K3,{contentRef:c,descriptionId:l.descriptionId})]})]})}),hy="DialogTitle",wC=h.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=Js(hy,n);return r.jsx(we.h2,{id:a.titleId,...s,ref:t})});wC.displayName=hy;var jC="DialogDescription",_C=h.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=Js(jC,n);return r.jsx(we.p,{id:a.descriptionId,...s,ref:t})});_C.displayName=jC;var bC="DialogClose",SC=h.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=Js(bC,n);return r.jsx(we.button,{type:"button",...s,ref:t,onClick:ve(e.onClick,()=>a.onOpenChange(!1))})});SC.displayName=bC;function my(e){return e?"open":"closed"}var NC="DialogTitleWarning",[iH,CC]=hA(NC,{contentName:Ti,titleName:hy,docsSlug:"dialog"}),H3=({titleId:e})=>{const t=CC(NC),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},q3="DialogDescriptionWarning",K3=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${CC(q3).contentName}}.`;return h.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},EC=fC,TC=mC,kC=gC,Xf=xC,Jf=yC,Zf=wC,eh=_C,PC=SC;const G3=EC,Y3=TC,Q3=kC,RC=h.forwardRef(({className:e,...t},n)=>r.jsx(Xf,{className:ye("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));RC.displayName=Xf.displayName;const X3=Jo("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),AC=h.forwardRef(({side:e="right",className:t,children:n,...s},a)=>r.jsxs(Q3,{children:[r.jsx(RC,{}),r.jsxs(Jf,{ref:a,className:ye(X3({side:e}),t),...s,children:[r.jsxs(PC,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[r.jsx($i,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]}),n]})]}));AC.displayName=Jf.displayName;const J3=h.forwardRef(({className:e,...t},n)=>r.jsx(Zf,{ref:n,className:ye("text-lg font-semibold text-foreground",e),...t}));J3.displayName=Zf.displayName;const Z3=h.forwardRef(({className:e,...t},n)=>r.jsx(eh,{ref:n,className:ye("text-sm text-muted-foreground",e),...t}));Z3.displayName=eh.displayName;function D0(e,[t,n]){return Math.min(n,Math.max(t,e))}var e5=h.createContext(void 0);function py(e){const t=h.useContext(e5);return e||t||"ltr"}function gy(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var t5=[" ","Enter","ArrowUp","ArrowDown"],n5=[" ","Enter"],ki="Select",[th,nh,s5]=Lx(ki),[ol,oH]=ls(ki,[s5,If]),sh=If(),[r5,Ua]=ol(ki),[a5,i5]=ol(ki),$C=e=>{const{__scopeSelect:t,children:n,open:s,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:f,disabled:m,required:y,form:j}=e,g=sh(t),[w,x]=h.useState(null),[p,v]=h.useState(null),[_,b]=h.useState(!1),P=py(d),[N,E]=Fr({prop:s,defaultProp:a??!1,onChange:i,caller:ki}),[R,M]=Fr({prop:o,defaultProp:l,onChange:c,caller:ki}),U=h.useRef(null),O=w?j||!!w.closest("form"):!0,[L,B]=h.useState(new Set),K=Array.from(L).map(F=>F.props.value).join(";");return r.jsx(ML,{...g,children:r.jsxs(r5,{required:y,scope:t,trigger:w,onTriggerChange:x,valueNode:p,onValueNodeChange:v,valueNodeHasChildren:_,onValueNodeHasChildrenChange:b,contentId:Dr(),value:R,onValueChange:M,open:N,onOpenChange:E,dir:P,triggerPointerDownPosRef:U,disabled:m,children:[r.jsx(th.Provider,{scope:t,children:r.jsx(a5,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(F=>{B(q=>new Set(q).add(F))},[]),onNativeOptionRemove:h.useCallback(F=>{B(q=>{const S=new Set(q);return S.delete(F),S})},[]),children:n})}),O?r.jsxs(sE,{"aria-hidden":!0,required:y,tabIndex:-1,name:u,autoComplete:f,value:R,onChange:F=>M(F.target.value),disabled:m,form:j,children:[R===void 0?r.jsx("option",{value:""}):null,Array.from(L)]},K):null]})})};$C.displayName=ki;var DC="SelectTrigger",MC=h.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:s=!1,...a}=e,i=sh(n),o=Ua(DC,n),l=o.disabled||s,c=Ye(t,o.onTriggerChange),d=nh(n),u=h.useRef("touch"),[f,m,y]=aE(g=>{const w=d().filter(v=>!v.disabled),x=w.find(v=>v.value===o.value),p=iE(w,g,x);p!==void 0&&o.onValueChange(p.value)}),j=g=>{l||(o.onOpenChange(!0),y()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return r.jsx(XN,{asChild:!0,...i,children:r.jsx(we.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":rE(o.value)?"":void 0,...a,ref:c,onClick:ve(a.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&j(g)}),onPointerDown:ve(a.onPointerDown,g=>{u.current=g.pointerType;const w=g.target;w.hasPointerCapture(g.pointerId)&&w.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(j(g),g.preventDefault())}),onKeyDown:ve(a.onKeyDown,g=>{const w=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&m(g.key),!(w&&g.key===" ")&&t5.includes(g.key)&&(j(),g.preventDefault())})})})});MC.displayName=DC;var LC="SelectValue",IC=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:a,children:i,placeholder:o="",...l}=e,c=Ua(LC,n),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,f=Ye(t,c.onValueNodeChange);return Ft(()=>{d(u)},[d,u]),r.jsx(we.span,{...l,ref:f,style:{pointerEvents:"none"},children:rE(c.value)?r.jsx(r.Fragment,{children:o}):i})});IC.displayName=LC;var o5="SelectIcon",OC=h.forwardRef((e,t)=>{const{__scopeSelect:n,children:s,...a}=e;return r.jsx(we.span,{"aria-hidden":!0,...a,ref:t,children:s||""})});OC.displayName=o5;var l5="SelectPortal",FC=e=>r.jsx(Gc,{asChild:!0,...e});FC.displayName=l5;var Pi="SelectContent",BC=h.forwardRef((e,t)=>{const n=Ua(Pi,e.__scopeSelect),[s,a]=h.useState();if(Ft(()=>{a(new DocumentFragment)},[]),!n.open){const i=s;return i?Ss.createPortal(r.jsx(UC,{scope:e.__scopeSelect,children:r.jsx(th.Slot,{scope:e.__scopeSelect,children:r.jsx("div",{children:e.children})})}),i):null}return r.jsx(zC,{...e,ref:t})});BC.displayName=Pi;var Ms=10,[UC,za]=ol(Pi),c5="SelectContentImpl",d5=Bo("SelectContent.RemoveScroll"),zC=h.forwardRef((e,t)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:m,collisionPadding:y,sticky:j,hideWhenDetached:g,avoidCollisions:w,...x}=e,p=Ua(Pi,n),[v,_]=h.useState(null),[b,P]=h.useState(null),N=Ye(t,z=>_(z)),[E,R]=h.useState(null),[M,U]=h.useState(null),O=nh(n),[L,B]=h.useState(!1),K=h.useRef(!1);h.useEffect(()=>{if(v)return dC(v)},[v]),tC();const F=h.useCallback(z=>{const[I,...Z]=O().map(Q=>Q.ref.current),[G]=Z.slice(-1),Y=document.activeElement;for(const Q of z)if(Q===Y||(Q==null||Q.scrollIntoView({block:"nearest"}),Q===I&&b&&(b.scrollTop=0),Q===G&&b&&(b.scrollTop=b.scrollHeight),Q==null||Q.focus(),document.activeElement!==Y))return},[O,b]),q=h.useCallback(()=>F([E,v]),[F,E,v]);h.useEffect(()=>{L&&q()},[L,q]);const{onOpenChange:S,triggerPointerDownPosRef:k}=p;h.useEffect(()=>{if(v){let z={x:0,y:0};const I=G=>{var Y,Q;z={x:Math.abs(Math.round(G.pageX)-(((Y=k.current)==null?void 0:Y.x)??0)),y:Math.abs(Math.round(G.pageY)-(((Q=k.current)==null?void 0:Q.y)??0))}},Z=G=>{z.x<=10&&z.y<=10?G.preventDefault():v.contains(G.target)||S(!1),document.removeEventListener("pointermove",I),k.current=null};return k.current!==null&&(document.addEventListener("pointermove",I),document.addEventListener("pointerup",Z,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",I),document.removeEventListener("pointerup",Z,{capture:!0})}}},[v,S,k]),h.useEffect(()=>{const z=()=>S(!1);return window.addEventListener("blur",z),window.addEventListener("resize",z),()=>{window.removeEventListener("blur",z),window.removeEventListener("resize",z)}},[S]);const[C,T]=aE(z=>{const I=O().filter(Y=>!Y.disabled),Z=I.find(Y=>Y.ref.current===document.activeElement),G=iE(I,z,Z);G&&setTimeout(()=>G.ref.current.focus())}),D=h.useCallback((z,I,Z)=>{const G=!K.current&&!Z;(p.value!==void 0&&p.value===I||G)&&(R(z),G&&(K.current=!0))},[p.value]),A=h.useCallback(()=>v==null?void 0:v.focus(),[v]),$=h.useCallback((z,I,Z)=>{const G=!K.current&&!Z;(p.value!==void 0&&p.value===I||G)&&U(z)},[p.value]),H=s==="popper"?og:VC,W=H===og?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:m,collisionPadding:y,sticky:j,hideWhenDetached:g,avoidCollisions:w}:{};return r.jsx(UC,{scope:n,content:v,viewport:b,onViewportChange:P,itemRefCallback:D,selectedItem:E,onItemLeave:A,itemTextRefCallback:$,focusSelectedItem:q,selectedItemText:M,position:s,isPositioned:L,searchRef:C,children:r.jsx(uy,{as:d5,allowPinchZoom:!0,children:r.jsx(dy,{asChild:!0,trapped:p.open,onMountAutoFocus:z=>{z.preventDefault()},onUnmountAutoFocus:ve(a,z=>{var I;(I=p.trigger)==null||I.focus({preventScroll:!0}),z.preventDefault()}),children:r.jsx(Kc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:z=>z.preventDefault(),onDismiss:()=>p.onOpenChange(!1),children:r.jsx(H,{role:"listbox",id:p.contentId,"data-state":p.open?"open":"closed",dir:p.dir,onContextMenu:z=>z.preventDefault(),...x,...W,onPlaced:()=>B(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:ve(x.onKeyDown,z=>{const I=z.ctrlKey||z.altKey||z.metaKey;if(z.key==="Tab"&&z.preventDefault(),!I&&z.key.length===1&&T(z.key),["ArrowUp","ArrowDown","Home","End"].includes(z.key)){let G=O().filter(Y=>!Y.disabled).map(Y=>Y.ref.current);if(["ArrowUp","End"].includes(z.key)&&(G=G.slice().reverse()),["ArrowUp","ArrowDown"].includes(z.key)){const Y=z.target,Q=G.indexOf(Y);G=G.slice(Q+1)}setTimeout(()=>F(G)),z.preventDefault()}})})})})})})});zC.displayName=c5;var u5="SelectItemAlignedPosition",VC=h.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:s,...a}=e,i=Ua(Pi,n),o=za(Pi,n),[l,c]=h.useState(null),[d,u]=h.useState(null),f=Ye(t,N=>u(N)),m=nh(n),y=h.useRef(!1),j=h.useRef(!0),{viewport:g,selectedItem:w,selectedItemText:x,focusSelectedItem:p}=o,v=h.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&g&&w&&x){const N=i.trigger.getBoundingClientRect(),E=d.getBoundingClientRect(),R=i.valueNode.getBoundingClientRect(),M=x.getBoundingClientRect();if(i.dir!=="rtl"){const Y=M.left-E.left,Q=R.left-Y,le=N.left-Q,fe=N.width+le,ge=Math.max(fe,E.width),Me=window.innerWidth-Ms,qe=D0(Q,[Ms,Math.max(Ms,Me-ge)]);l.style.minWidth=fe+"px",l.style.left=qe+"px"}else{const Y=E.right-M.right,Q=window.innerWidth-R.right-Y,le=window.innerWidth-N.right-Q,fe=N.width+le,ge=Math.max(fe,E.width),Me=window.innerWidth-Ms,qe=D0(Q,[Ms,Math.max(Ms,Me-ge)]);l.style.minWidth=fe+"px",l.style.right=qe+"px"}const U=m(),O=window.innerHeight-Ms*2,L=g.scrollHeight,B=window.getComputedStyle(d),K=parseInt(B.borderTopWidth,10),F=parseInt(B.paddingTop,10),q=parseInt(B.borderBottomWidth,10),S=parseInt(B.paddingBottom,10),k=K+F+L+S+q,C=Math.min(w.offsetHeight*5,k),T=window.getComputedStyle(g),D=parseInt(T.paddingTop,10),A=parseInt(T.paddingBottom,10),$=N.top+N.height/2-Ms,H=O-$,W=w.offsetHeight/2,z=w.offsetTop+W,I=K+F+z,Z=k-I;if(I<=$){const Y=U.length>0&&w===U[U.length-1].ref.current;l.style.bottom="0px";const Q=d.clientHeight-g.offsetTop-g.offsetHeight,le=Math.max(H,W+(Y?A:0)+Q+q),fe=I+le;l.style.height=fe+"px"}else{const Y=U.length>0&&w===U[0].ref.current;l.style.top="0px";const le=Math.max($,K+g.offsetTop+(Y?D:0)+W)+Z;l.style.height=le+"px",g.scrollTop=I-$+g.offsetTop}l.style.margin=`${Ms}px 0`,l.style.minHeight=C+"px",l.style.maxHeight=O+"px",s==null||s(),requestAnimationFrame(()=>y.current=!0)}},[m,i.trigger,i.valueNode,l,d,g,w,x,i.dir,s]);Ft(()=>v(),[v]);const[_,b]=h.useState();Ft(()=>{d&&b(window.getComputedStyle(d).zIndex)},[d]);const P=h.useCallback(N=>{N&&j.current===!0&&(v(),p==null||p(),j.current=!1)},[v,p]);return r.jsx(h5,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:P,children:r.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:r.jsx(we.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});VC.displayName=u5;var f5="SelectPopperPosition",og=h.forwardRef((e,t)=>{const{__scopeSelect:n,align:s="start",collisionPadding:a=Ms,...i}=e,o=sh(n);return r.jsx(JN,{...o,...i,ref:t,align:s,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});og.displayName=f5;var[h5,xy]=ol(Pi,{}),lg="SelectViewport",WC=h.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:s,...a}=e,i=za(lg,n),o=xy(lg,n),l=Ye(t,i.onViewportChange),c=h.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),r.jsx(th.Slot,{scope:n,children:r.jsx(we.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:ve(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&f){const y=Math.abs(c.current-u.scrollTop);if(y>0){const j=window.innerHeight-Ms*2,g=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),x=Math.max(g,w);if(x<j){const p=x+y,v=Math.min(j,p),_=p-v;f.style.height=v+"px",f.style.bottom==="0px"&&(u.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});WC.displayName=lg;var HC="SelectGroup",[m5,p5]=ol(HC),g5=h.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,a=Dr();return r.jsx(m5,{scope:n,id:a,children:r.jsx(we.div,{role:"group","aria-labelledby":a,...s,ref:t})})});g5.displayName=HC;var qC="SelectLabel",KC=h.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,a=p5(qC,n);return r.jsx(we.div,{id:a.id,...s,ref:t})});KC.displayName=qC;var Ju="SelectItem",[x5,GC]=ol(Ju),YC=h.forwardRef((e,t)=>{const{__scopeSelect:n,value:s,disabled:a=!1,textValue:i,...o}=e,l=Ua(Ju,n),c=za(Ju,n),d=l.value===s,[u,f]=h.useState(i??""),[m,y]=h.useState(!1),j=Ye(t,p=>{var v;return(v=c.itemRefCallback)==null?void 0:v.call(c,p,s,a)}),g=Dr(),w=h.useRef("touch"),x=()=>{a||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(x5,{scope:n,value:s,disabled:a,textId:g,isSelected:d,onItemTextChange:h.useCallback(p=>{f(v=>v||((p==null?void 0:p.textContent)??"").trim())},[]),children:r.jsx(th.ItemSlot,{scope:n,value:s,disabled:a,textValue:u,children:r.jsx(we.div,{role:"option","aria-labelledby":g,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:j,onFocus:ve(o.onFocus,()=>y(!0)),onBlur:ve(o.onBlur,()=>y(!1)),onClick:ve(o.onClick,()=>{w.current!=="mouse"&&x()}),onPointerUp:ve(o.onPointerUp,()=>{w.current==="mouse"&&x()}),onPointerDown:ve(o.onPointerDown,p=>{w.current=p.pointerType}),onPointerMove:ve(o.onPointerMove,p=>{var v;w.current=p.pointerType,a?(v=c.onItemLeave)==null||v.call(c):w.current==="mouse"&&p.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ve(o.onPointerLeave,p=>{var v;p.currentTarget===document.activeElement&&((v=c.onItemLeave)==null||v.call(c))}),onKeyDown:ve(o.onKeyDown,p=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&p.key===" "||(n5.includes(p.key)&&x(),p.key===" "&&p.preventDefault())})})})})});YC.displayName=Ju;var $l="SelectItemText",QC=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:a,...i}=e,o=Ua($l,n),l=za($l,n),c=GC($l,n),d=i5($l,n),[u,f]=h.useState(null),m=Ye(t,x=>f(x),c.onItemTextChange,x=>{var p;return(p=l.itemTextRefCallback)==null?void 0:p.call(l,x,c.value,c.disabled)}),y=u==null?void 0:u.textContent,j=h.useMemo(()=>r.jsx("option",{value:c.value,disabled:c.disabled,children:y},c.value),[c.disabled,c.value,y]),{onNativeOptionAdd:g,onNativeOptionRemove:w}=d;return Ft(()=>(g(j),()=>w(j)),[g,w,j]),r.jsxs(r.Fragment,{children:[r.jsx(we.span,{id:c.textId,...i,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ss.createPortal(i.children,o.valueNode):null]})});QC.displayName=$l;var XC="SelectItemIndicator",JC=h.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return GC(XC,n).isSelected?r.jsx(we.span,{"aria-hidden":!0,...s,ref:t}):null});JC.displayName=XC;var cg="SelectScrollUpButton",ZC=h.forwardRef((e,t)=>{const n=za(cg,e.__scopeSelect),s=xy(cg,e.__scopeSelect),[a,i]=h.useState(!1),o=Ye(t,s.onScrollButtonChange);return Ft(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?r.jsx(tE,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});ZC.displayName=cg;var dg="SelectScrollDownButton",eE=h.forwardRef((e,t)=>{const n=za(dg,e.__scopeSelect),s=xy(dg,e.__scopeSelect),[a,i]=h.useState(!1),o=Ye(t,s.onScrollButtonChange);return Ft(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?r.jsx(tE,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});eE.displayName=dg;var tE=h.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:s,...a}=e,i=za("SelectScrollButton",n),o=h.useRef(null),l=nh(n),c=h.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return h.useEffect(()=>()=>c(),[c]),Ft(()=>{var u;const d=l().find(f=>f.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),r.jsx(we.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:ve(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:ve(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:ve(a.onPointerLeave,()=>{c()})})}),y5="SelectSeparator",nE=h.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return r.jsx(we.div,{"aria-hidden":!0,...s,ref:t})});nE.displayName=y5;var ug="SelectArrow",v5=h.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,a=sh(n),i=Ua(ug,n),o=za(ug,n);return i.open&&o.position==="popper"?r.jsx(ZN,{...a,...s,ref:t}):null});v5.displayName=ug;var w5="SelectBubbleInput",sE=h.forwardRef(({__scopeSelect:e,value:t,...n},s)=>{const a=h.useRef(null),i=Ye(s,a),o=gy(t);return h.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&u){const f=new Event("change",{bubbles:!0});u.call(l,t),l.dispatchEvent(f)}},[o,t]),r.jsx(we.select,{...n,style:{...WS,...n.style},ref:i,defaultValue:t})});sE.displayName=w5;function rE(e){return e===""||e===void 0}function aE(e){const t=as(e),n=h.useRef(""),s=h.useRef(0),a=h.useCallback(o=>{const l=n.current+o;t(l),function c(d){n.current=d,window.clearTimeout(s.current),d!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=h.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,a,i]}function iE(e,t,n){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=j5(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function j5(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var _5=$C,oE=MC,b5=IC,S5=OC,N5=FC,lE=BC,C5=WC,cE=KC,dE=YC,E5=QC,T5=JC,uE=ZC,fE=eE,hE=nE;const vt=_5,wt=b5,dt=h.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(oE,{ref:s,className:ye("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,r.jsx(S5,{asChild:!0,children:r.jsx(Af,{className:"h-4 w-4 opacity-50"})})]}));dt.displayName=oE.displayName;const mE=h.forwardRef(({className:e,...t},n)=>r.jsx(uE,{ref:n,className:ye("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(Bx,{className:"h-4 w-4"})}));mE.displayName=uE.displayName;const pE=h.forwardRef(({className:e,...t},n)=>r.jsx(fE,{ref:n,className:ye("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(Af,{className:"h-4 w-4"})}));pE.displayName=fE.displayName;const ut=h.forwardRef(({className:e,children:t,position:n="popper",...s},a)=>r.jsx(N5,{children:r.jsxs(lE,{ref:a,className:ye("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...s,children:[r.jsx(mE,{}),r.jsx(C5,{className:ye("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),r.jsx(pE,{})]})}));ut.displayName=lE.displayName;const k5=h.forwardRef(({className:e,...t},n)=>r.jsx(cE,{ref:n,className:ye("px-2 py-1.5 text-sm font-semibold",e),...t}));k5.displayName=cE.displayName;const ke=h.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(dE,{ref:s,className:ye("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(T5,{children:r.jsx(Zo,{className:"h-4 w-4"})})}),r.jsx(E5,{children:t})]}));ke.displayName=dE.displayName;const P5=h.forwardRef(({className:e,...t},n)=>r.jsx(hE,{ref:n,className:ye("-mx-1 my-1 h-px bg-muted",e),...t}));P5.displayName=hE.displayName;const R5=Jo("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ae({className:e,variant:t,...n}){return r.jsx("div",{className:ye(R5({variant:t}),e),...n})}const A5=()=>{var j;const[e,t]=h.useState(!1),n=rl(),{selectedSeason:s,selectedConference:a,theme:i,setSelectedSeason:o,setSelectedConference:l,toggleTheme:c,seasonConfigs:d,currentSeasonConfig:u}=Fn(),f=[{path:"/",label:"Home",icon:z$},{path:"/standings",label:"Standings",icon:bt},{path:"/matchups",label:"Matchups",icon:_c},{path:"/teams",label:"Teams",icon:Gt},{path:"/players",label:"Players",icon:wo},{path:"/draft",label:"Draft Results",icon:jc},{path:"/rules",label:"League Rules",icon:wc},{path:"/admin",label:"Admin",icon:k$}],m=g=>g==="/"?n.pathname==="/":n.pathname.startsWith(g),y=({isMobile:g=!1})=>r.jsx(r.Fragment,{children:f.map(w=>{const x=w.icon,p=m(w.path);return r.jsxs(Ut,{to:w.path,onClick:()=>g&&t(!1),className:`flex items-center space-x-2 px-3 py-2 rounded-md ${w.path==="/admin"?"text-xs opacity-75":"text-sm"} font-medium transition-colors ${p?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-accent"}`,children:[r.jsx(x,{className:w.path==="/admin"?"h-3 w-3":"h-4 w-4"}),r.jsx("span",{className:w.path==="/admin"?"text-xs":"",children:w.label})]},w.path)})});return r.jsxs("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:[r.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[r.jsx("div",{className:"flex items-center space-x-4",children:r.jsxs(Ut,{to:"/",className:"flex items-center space-x-2",children:[r.jsx("img",{src:"/gladiator-logo.png",alt:"Gladiator League Logo",className:"h-8 w-8"}),r.jsx("div",{className:"hidden sm:block",children:r.jsx("h1",{className:"text-xl font-bold",children:"Gladiator League"})})]})}),r.jsx("nav",{className:"hidden lg:flex items-center space-x-1",children:r.jsx(y,{})}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(vt,{value:s.toString(),onValueChange:g=>o(parseInt(g)),children:[r.jsx(dt,{className:"w-20",children:r.jsx(wt,{})}),r.jsx(ut,{children:d.map(g=>r.jsx(ke,{value:g.year.toString(),children:g.year},g.year))})]}),r.jsxs(vt,{value:a||"all",onValueChange:g=>l(g==="all"?null:g),children:[r.jsx(dt,{className:"w-40",children:r.jsx(wt,{})}),r.jsxs(ut,{children:[r.jsx(ke,{value:"all",children:"All Conferences"}),u.conferences.map(g=>r.jsx(ke,{value:g.id,children:g.name},g.id))]})]}),r.jsx(ee,{variant:"ghost",size:"icon",onClick:c,children:i==="light"?r.jsx(nD,{className:"h-4 w-4"}):r.jsx(yD,{className:"h-4 w-4"})}),r.jsxs(G3,{open:e,onOpenChange:t,children:[r.jsx(Y3,{asChild:!0,className:"lg:hidden",children:r.jsx(ee,{variant:"ghost",size:"icon",children:r.jsx(X$,{className:"h-4 w-4"})})}),r.jsx(AC,{side:"right",className:"w-64",children:r.jsxs("div",{className:"flex flex-col space-y-4 mt-8",children:[r.jsxs("div",{className:"flex items-center space-x-2 pb-4 border-b",children:[r.jsx(jc,{className:"h-6 w-6 text-primary"}),r.jsxs("div",{children:[r.jsx("h2",{className:"font-semibold",children:"Gladiator League"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Fantasy Football"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Navigation"}),r.jsx(y,{isMobile:!0})]}),r.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium mb-2",children:"Season"}),r.jsxs(vt,{value:s.toString(),onValueChange:g=>o(parseInt(g)),children:[r.jsx(dt,{children:r.jsx(wt,{})}),r.jsx(ut,{children:d.map(g=>r.jsx(ke,{value:g.year.toString(),children:g.year},g.year))})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium mb-2",children:"Conference"}),r.jsxs(vt,{value:a||"all",onValueChange:g=>l(g==="all"?null:g),children:[r.jsx(dt,{children:r.jsx(wt,{})}),r.jsxs(ut,{children:[r.jsx(ke,{value:"all",children:"All Conferences"}),u.conferences.map(g=>r.jsx(ke,{value:g.id,children:g.name},g.id))]})]})]})]})]})})]})]})]}),(a||s!==2025)&&r.jsx("div",{className:"border-t bg-accent/50",children:r.jsx("div",{className:"container py-2",children:r.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Active filters:"}),s!==2025&&r.jsxs(ae,{variant:"secondary",children:[s," Season"]}),a&&r.jsx(ae,{variant:"secondary",children:(j=u.conferences.find(g=>g.id===a))==null?void 0:j.name})]})})})]})},X=h.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:ye("rounded-xl border bg-card text-card-foreground shadow",e),...t}));X.displayName="Card";const ce=h.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:ye("flex flex-col space-y-1.5 p-6",e),...t}));ce.displayName="CardHeader";const de=h.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:ye("font-semibold leading-none tracking-tight",e),...t}));de.displayName="CardTitle";const je=h.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:ye("text-sm text-muted-foreground",e),...t}));je.displayName="CardDescription";const te=h.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:ye("p-6 pt-0",e),...t}));te.displayName="CardContent";const $5=h.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:ye("flex items-center p-6 pt-0",e),...t}));$5.displayName="CardFooter";const D5=Jo("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Ie=h.forwardRef(({className:e,variant:t,...n},s)=>r.jsx("div",{ref:s,role:"alert",className:ye(D5({variant:t}),e),...n}));Ie.displayName="Alert";const kr=h.forwardRef(({className:e,...t},n)=>r.jsx("h5",{ref:n,className:ye("mb-1 font-medium leading-none tracking-tight",e),...t}));kr.displayName="AlertTitle";const Oe=h.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:ye("text-sm [&_p]:leading-relaxed",e),...t}));Oe.displayName="AlertDescription";var M5="Separator",M0="horizontal",L5=["horizontal","vertical"],gE=h.forwardRef((e,t)=>{const{decorative:n,orientation:s=M0,...a}=e,i=I5(s)?s:M0,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return r.jsx(we.div,{"data-orientation":i,...l,...a,ref:t})});gE.displayName=M5;function I5(e){return L5.includes(e)}var xE=gE;const yy=h.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...s},a)=>r.jsx(xE,{ref:a,decorative:n,orientation:t,className:ye("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...s}));yy.displayName=xE.displayName;class Zu{static async getStandingsData(t,n){try{console.log(`StandingsService: Fetching standings for season ${t}, conference ${n||"all"}`);const s=[{column:"season_id",operator:"eq",value:t}];n&&s.push({column:"conference_id",operator:"eq",value:n});const a=await ne.getTeamRecords({filters:s});if(a.error)throw new Error(`Failed to fetch team records: ${a.error}`);const i=a.data||[];if(console.log(`StandingsService: Found ${i.length} team records`),i.length===0)return console.log("StandingsService: No team records found, returning empty array"),[];const o=[...new Set(i.map(w=>w.team_id))],l=[...new Set(i.map(w=>w.conference_id))],[c,d]=await Promise.all([ne.getTeams({filters:[{column:"id",operator:"in",value:o}]}),ne.getConferences({filters:[{column:"id",operator:"in",value:l}]})]);if(c.error)throw new Error(`Failed to fetch teams: ${c.error}`);if(d.error)throw new Error(`Failed to fetch conferences: ${d.error}`);const u=c.data||[],f=d.data||[],m=new Map;u.forEach(w=>m.set(w.id,w));const y=new Map;f.forEach(w=>y.set(w.id,w));const j=i.map(w=>{const x=m.get(w.team_id),p=y.get(w.conference_id),v=w.wins||0,_=w.losses||0,b=0,P=v+_+b,N=P>0?v/P:0;return{team_id:w.team_id,team_name:(x==null?void 0:x.team_name)||`Team ${w.team_id}`,owner_name:(x==null?void 0:x.owner_name)||"Unknown Owner",conference_name:(p==null?void 0:p.conference_name)||"Unknown Conference",team_logourl:(x==null?void 0:x.team_logourl)||"",wins:v,losses:_,ties:b,points_for:w.points_for||0,points_against:w.points_against||0,point_diff:w.point_diff||(w.points_for||0)-(w.points_against||0),win_percentage:N,conference_rank:0,overall_rank:0,playoff_eligible:!1,is_conference_champion:!1}});j.sort((w,x)=>x.win_percentage!==w.win_percentage?x.win_percentage-w.win_percentage:x.points_for-w.points_for),j.forEach((w,x)=>{w.overall_rank=x+1});const g=new Map;return j.forEach(w=>{g.has(w.conference_name)||g.set(w.conference_name,[]),g.get(w.conference_name).push(w)}),g.forEach((w,x)=>{w.sort((p,v)=>v.win_percentage!==p.win_percentage?v.win_percentage-p.win_percentage:v.points_for-p.points_for),w.forEach((p,v)=>{p.conference_rank=v+1,p.playoff_eligible=v<2,p.is_conference_champion=v===0})}),console.log(`StandingsService: Returning ${j.length} standings records`),j}catch(s){throw console.error("StandingsService: Error fetching standings data:",s),s}}static async getConferenceStandings(t,n){return this.getStandingsData(t,n)}static async getLeagueStandings(t){return this.getStandingsData(t)}static formatRecord(t,n,s=0){return s>0?`${t}-${n}-${s}`:`${t}-${n}`}static formatPoints(t){return t.toFixed(1)}}const O5=e=>{const{seasonYear:t,conferenceId:n,limit:s,autoRefresh:a=!1,refreshInterval:i=3e4}=e,[o,l]=h.useState([]),[c,d]=h.useState(!0),[u,f]=h.useState(null),m=async()=>{if(!t){d(!1);return}try{d(!0),f(null);let y=await Zu.getStandingsData(t,n);s&&s>0&&(y=y.slice(0,s)),l(y)}catch(y){const j=y instanceof Error?y.message:"An error occurred while fetching standings";f(j),console.error("Error fetching standings:",y)}finally{d(!1)}};return h.useEffect(()=>{t?m():d(!1)},[t,n,s]),h.useEffect(()=>{if(a&&i>0&&t){const y=setInterval(m,i);return()=>clearInterval(y)}},[a,i,t,n,s]),{standings:o,loading:c,error:u,refetch:m}},F5=["QB","RB","RB","WR","WR","WR","TE","FLEX","SUPER_FLEX","K","DEF"];class Ve{static async fetchLeagueRosters(t){try{console.log(`Fetching rosters for league: ${t}`),typeof window<"u"&&(window.__apiCallCount=(window.__apiCallCount||0)+1);const n=await fetch(`${this.baseUrl}/league/${t}/rosters`);if(!n.ok)throw new Error(`Failed to fetch rosters: ${n.status} ${n.statusText}`);const s=await n.json();return console.log(`Fetched ${s.length} rosters for league ${t}`),s}catch(n){throw console.error("Error fetching league rosters:",n),n}}static async fetchAllPlayers(){try{console.log("Fetching all NFL players data...");const t=await fetch(`${this.baseUrl}/players/nfl`);if(!t.ok)throw new Error(`Failed to fetch players: ${t.status} ${t.statusText}`);const n=await t.json();return console.log(`Fetched ${Object.keys(n).length} players from Sleeper API`),n}catch(t){throw console.error("Error fetching players:",t),t}}static organizeRoster(t,n){const s=(t.starters||[]).map((i,o)=>{const l=n[i],c=F5[o]||"BENCH";return{playerId:i,position:(l==null?void 0:l.position)||"UNK",slotPosition:c}}),a=(t.players||[]).filter(i=>!(t.starters||[]).includes(i)&&!(t.reserve||[]).includes(i));return{starters:s,bench:a,ir:t.reserve||[]}}static async getTeamRosterData(t,n){try{const[s,a]=await Promise.all([this.fetchLeagueRosters(t),(async()=>{const{DatabaseService:l}=await zr(async()=>{const{DatabaseService:u}=await Promise.resolve().then(()=>WF);return{DatabaseService:u}},void 0),c=await l.getAllPlayersForMapping([{column:"playing_status",operator:"eq",value:"Active"},{column:"position",operator:"in",value:["QB","RB","WR","TE","K","DEF"]}]),d={};return c.forEach(u=>{var f;if(u.sleeper_id){const m=u.player_name.split(" "),y=m[0]||"",j=m.slice(1).join(" ")||"";d[u.sleeper_id]={player_id:u.sleeper_id,first_name:y,last_name:j,position:u.position||"",team:u.nfl_team||"",jersey_number:u.number||0,status:u.playing_status||"",injury_status:u.injury_status||"",age:u.age||0,height:((f=u.height)==null?void 0:f.toString())||"",weight:u.weight||0,years_exp:0,college:u.college||""}}}),d})()]),i=s.find(l=>l.roster_id===n);if(!i)throw new Error(`Roster with ID ${n} not found in league ${t}`);const o=this.organizeRoster(i,a);return{roster:i,organizedRoster:o,allPlayers:a}}catch(s){throw console.error("Error getting team roster data:",s),s}}static getPlayerName(t){return t&&`${t.first_name||""} ${t.last_name||""}`.trim()||"Unknown Player"}static calculatePointsPerGame(t,n){return n===0?0:t/n}static formatPoints(t,n=0){return t+n/100}static async fetchMatchups(t,n){try{console.log(` Fetching matchups for league: ${t}, week: ${n}`),typeof window<"u"&&(window.__apiCallCount=(window.__apiCallCount||0)+1);const s=await fetch(`${this.baseUrl}/league/${t}/matchups/${n}`);if(!s.ok)throw new Error(`Failed to fetch matchups: ${s.status} ${s.statusText}`);const a=await s.json();if(console.log(` Fetched ${a.length} matchups for league ${t}, week ${n}`),a.length>0){const i={totalMatchups:a.length,matchupsWithPoints:a.filter(o=>o.points>0).length,matchupsWithZeroPoints:a.filter(o=>o.points===0).length,matchupsWithNullPoints:a.filter(o=>o.points===null||o.points===void 0).length,pointsRange:{min:Math.min(...a.map(o=>o.points||0)),max:Math.max(...a.map(o=>o.points||0)),average:a.reduce((o,l)=>o+(l.points||0),0)/a.length},playersPointsAvailability:{withPlayersPoints:a.filter(o=>o.players_points&&Object.keys(o.players_points).length>0).length,withStartersPoints:a.filter(o=>o.starters_points&&o.starters_points.length>0).length},sampleMatchup:{rosterId:a[0].roster_id,points:a[0].points,playersPointsKeys:Object.keys(a[0].players_points||{}).length,startersPointsLength:(a[0].starters_points||[]).length,matchupId:a[0].matchup_id}};console.log(` Points analysis for league ${t}, week ${n}:`,i),i.matchupsWithPoints===0&&(console.warn(` No matchups with points > 0 found for league ${t}, week ${n}`),console.warn(" This could indicate: week hasn't started, games in progress, or API delay")),i.playersPointsAvailability.withPlayersPoints===0&&console.warn(` No player-level points data available for league ${t}, week ${n}`)}else console.warn(` No matchup data returned for league ${t}, week ${n}`);return a}catch(s){throw console.error(` Error fetching matchups for league ${t}, week ${n}:`,s),s}}static async fetchLeague(t){try{console.log(`Fetching league info: ${t}`);const n=await fetch(`${this.baseUrl}/league/${t}`);if(!n.ok)throw new Error(`Failed to fetch league: ${n.status} ${n.statusText}`);const s=await n.json();return console.log(`Fetched league info for ${t}`),s}catch(n){throw console.error("Error fetching league:",n),n}}static async fetchLeagueUsers(t){try{console.log(`Fetching users for league: ${t}`),typeof window<"u"&&(window.__apiCallCount=(window.__apiCallCount||0)+1);const n=await fetch(`${this.baseUrl}/league/${t}/users`);if(!n.ok)throw new Error(`Failed to fetch users: ${n.status} ${n.statusText}`);const s=await n.json();return console.log(`Fetched ${s.length} users for league ${t}`),s}catch(n){throw console.error("Error fetching league users:",n),n}}static organizeMatchups(t,n,s){const a=new Map;return t.forEach(i=>{a.has(i.matchup_id)||a.set(i.matchup_id,[]),a.get(i.matchup_id).push(i)}),Array.from(a.entries()).filter(([i,o])=>o.length===2).map(([i,o])=>({matchup_id:i,teams:o.map(l=>{const c=n.find(u=>u.roster_id===l.roster_id),d=c?s.find(u=>u.user_id===c.owner_id):null;return{roster_id:l.roster_id,points:l.points,owner:d,roster:c}})}))}static async getCurrentNFLWeek(){try{console.log("Fetching current NFL week from Sleeper API...");const t=await fetch(`${this.baseUrl}/state/nfl`);if(!t.ok)throw new Error(`Failed to fetch NFL state: ${t.status} ${t.statusText}`);const n=await t.json();return console.log("NFL State from Sleeper:",n),console.log(`Current NFL week: ${n.week}`),n.week||1}catch(t){return console.error("Error fetching current NFL week:",t),console.warn("Falling back to default week 1"),1}}static async getNFLState(){try{console.log("Fetching NFL state from Sleeper API...");const t=await fetch(`${this.baseUrl}/state/nfl`);if(!t.ok)throw new Error(`Failed to fetch NFL state: ${t.status} ${t.statusText}`);const n=await t.json();return console.log("NFL State from Sleeper:",n),n}catch(t){throw console.error("Error fetching NFL state:",t),t}}}Jt(Ve,"baseUrl","https://api.sleeper.app/v1");const fg=Object.freeze(Object.defineProperty({__proto__:null,SleeperApiService:Ve,default:Ve},Symbol.toStringTag,{value:"Module"})),B5=()=>{var q,S;const[e,t]=h.useState(1),[n,s]=h.useState([]),[a,i]=h.useState([]),[o,l]=h.useState(!0),[c,d]=h.useState(!0),[u,f]=h.useState(null),[m,y]=h.useState(null),{selectedSeason:j,selectedConference:g,currentSeasonConfig:w,seasonConfigs:x,loading:p,error:v,refreshSeasonData:_}=Fn();w==null||w.year;const{standings:b,loading:P,error:N,refetch:E}=O5({seasonYear:w!=null&&w.seasonId?typeof w.seasonId=="string"?parseInt(w.seasonId):w.seasonId:void 0,conferenceId:g==="all"||g===null||(q=w==null?void 0:w.conferences.find(k=>k.id===g))==null?void 0:q.dbConferenceId,limit:12,autoRefresh:!0,refreshInterval:6e4});h.useEffect(()=>{(async()=>{try{const C=await Ve.getCurrentNFLWeek();t(C===0?1:C)}catch(C){console.error("Error loading current week:",C),t(1)}})()},[]);const R=async(k,C)=>{const T=[];for(const D of k){if(!D.dbConferenceId)continue;const A=await ne.getMatchups({filters:[{column:"conference_id",operator:"eq",value:D.dbConferenceId},{column:"week",operator:"eq",value:C}]});if(A.error||!A.data)continue;const $=await ne.getTeams({});if($.error||!$.data)continue;const H=new Map;$.data.forEach(W=>{H.set(W.id,W.team_name)});for(const W of A.data){const z=H.get(W.team1_id)||"Unknown Team",I=H.get(W.team2_id)||"Unknown Team";T.push({matchup_id:W.id,conference:{conference_name:D.name,league_id:D.leagueId},teams:[{team:{team_name:z},points:W.team1_score||0},{team:{team_name:I},points:W.team2_score||0}],status:W.team1_score&&W.team2_score?"completed":"upcoming"})}}return T},M=async()=>{if(!(!w||e===0)){l(!0),f(null);try{const k=g==="all"||g===null?w.conferences:w.conferences.filter(T=>T.id===g),C=await R(k,e);s(C)}catch(k){console.error("Error loading matchups:",k),f(k instanceof Error?k.message:"Failed to load matchups")}finally{l(!1)}}};h.useEffect(()=>{M()},[e,g,w]);const U=async()=>{if(w){d(!0),y(null);try{const k=g==="all"||g===null?w.conferences:w.conferences.filter(z=>z.id===g),C=k.filter(z=>z.dbConferenceId).map(z=>z.dbConferenceId);if(C.length===0){i([]);return}const T=await ne.getTransactions({filters:[{column:"conference_id",operator:"in",value:C}],orderBy:{column:"created_at",ascending:!1},limit:10});if(T.error||!T.data)throw new Error(T.error||"Failed to fetch transactions");const D=await ne.getTeams({}),A=await ne.getTeamConferenceJunctions({filters:[{column:"conference_id",operator:"in",value:C}]}),$=await ne.getAllPlayersForMapping([{column:"playing_status",operator:"eq",value:"Active"},{column:"position",operator:"in",value:["QB","RB","WR","TE"]}]),H=new Map;$.forEach(z=>{z.sleeper_id&&H.set(String(z.sleeper_id),z.player_name)});const W=await Promise.all(T.data.map(async z=>{let I={};try{I=typeof z.data=="string"?JSON.parse(z.data):z.data||{}}catch(ue){console.warn("Failed to parse transaction data:",ue)}const Z=k.find(ue=>ue.dbConferenceId===z.conference_id),G=ue=>{var sn;const _e=(sn=A.data)==null?void 0:sn.find(Ke=>Ke.roster_id.toString()===ue.toString()&&Ke.conference_id===z.conference_id);if(_e&&D.data){const Ke=D.data.find(cs=>cs.id===_e.team_id);return(Ke==null?void 0:Ke.team_name)||"Unknown Team"}return"Unknown Team"};let Y="Unknown Team";I.roster_ids&&I.roster_ids.length>0&&(Y=G(I.roster_ids[0]));const Q=[],le=[],fe=ue=>{const _e=String(ue);return H.get(_e)||`Player ${_e}`};if(I.adds)for(const[ue,_e]of Object.entries(I.adds)){const sn=fe(ue),Ke=G(_e),cs=I.settings&&I.settings.waiver_bid&&I.settings.waiver_bid[ue];Q.push({name:sn,team:Ke,bidAmount:cs||null})}if(I.drops)for(const[ue,_e]of Object.entries(I.drops)){const sn=fe(ue),Ke=G(_e);le.push({name:sn,team:Ke})}let ge="";const Me=I.type||z.type,qe=new Set;switch(I.roster_ids&&I.roster_ids.forEach(ue=>{const _e=G(ue);_e!=="Unknown Team"&&qe.add(_e)}),Me){case"trade":if(Q.length>0||le.length>0){const ue=[];Q.forEach(_e=>ue.push(`${_e.name} to ${_e.team}`)),le.forEach(_e=>ue.push(`${_e.name} from ${_e.team}`)),qe.size>1?ge=`Trade between ${Array.from(qe).join(" and ")}: ${ue.join(", ")}`:ge=`${Y} trade: ${ue.join(", ")}`}else I.draft_picks&&I.draft_picks.length>0?ge=`Trade involving ${I.draft_picks.map(_e=>`${_e.season} Round ${_e.round} pick`).join(", ")}`:ge=`Trade between ${Array.from(qe).join(" and ")}`;break;case"waiver":Q.length>0&&le.length>0?ge=`${Y} claimed ${Q.map(ue=>ue.name).join(", ")} from waivers, dropped ${le.map(ue=>ue.name).join(", ")}`:Q.length>0?ge=`${Y} claimed ${Q.map(ue=>ue.name).join(", ")} from waivers`:le.length>0?ge=`${Y} dropped ${le.map(ue=>ue.name).join(", ")} to waivers`:ge=`${Y} made a waiver claim`;break;case"free_agent":Q.length>0&&le.length>0?ge=`${Y} added ${Q.map(ue=>ue.name).join(", ")}, dropped ${le.map(ue=>ue.name).join(", ")}`:Q.length>0?ge=`${Y} added ${Q.map(ue=>ue.name).join(", ")} from free agency`:le.length>0?ge=`${Y} dropped ${le.map(ue=>ue.name).join(", ")}`:ge=`${Y} made a free agent transaction`;break;default:ge=`${Y} completed a ${Me||"transaction"}`}const Dt=I.type==="trade"?"trade":I.type==="waiver"?"waiver":I.type==="free_agent"?"free_agent":"commissioner";return{id:z.id.toString(),type:Dt,date:new Date(z.created_at||new Date),details:ge,teams:[Y],players:{added:Q.map(ue=>({id:"",name:ue.name,team:ue.team,bidAmount:ue.bidAmount})),dropped:le.map(ue=>({id:"",name:ue.name,team:ue.team}))},week:I.leg||0,status:"completed",rosterIds:I.roster_ids||[],draftPicks:I.draft_picks||[],waiverBudget:I.waiver_budget||[]}}));i(W)}catch(k){console.error("Error loading transactions:",k),y(k instanceof Error?k.message:"Failed to load transactions")}finally{d(!1)}}};if(h.useEffect(()=>{U()},[g,w]),p)return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Ct,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Loading Gladiator League"}),r.jsx("p",{className:"text-muted-foreground",children:"Connecting to Supabase database..."})]})});if(v)return r.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:r.jsxs(X,{className:"w-full max-w-md",children:[r.jsx(ce,{children:r.jsxs(de,{className:"flex items-center gap-2 text-destructive",children:[r.jsx(We,{className:"h-5 w-5"}),"Connection Error"]})}),r.jsxs(te,{className:"space-y-4",children:[r.jsx(Ie,{children:r.jsx(Oe,{children:v})}),r.jsxs(ee,{onClick:_,className:"w-full",children:[r.jsx(Xe,{className:"h-4 w-4 mr-2"}),"Retry Connection"]})]})]})});if(!x||x.length===0)return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Ct,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Loading Season Configuration"}),r.jsx("p",{className:"text-muted-foreground",children:"Setting up league data..."})]})});if(!w||!w.conferences||w.conferences.length===0)return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Ct,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Loading Conferences"}),r.jsx("p",{className:"text-muted-foreground",children:"Setting up conference data..."})]})});const O=k=>{switch(k){case"live":return r.jsx(ae,{className:"bg-green-500 hover:bg-green-600 text-xs",children:"Live"});case"completed":return r.jsx(ae,{variant:"secondary",className:"text-xs",children:"Final"});case"upcoming":return r.jsx(ae,{variant:"outline",className:"text-xs",children:"Upcoming"});default:return r.jsx(ae,{variant:"secondary",className:"text-xs",children:k})}},L=k=>{switch(k){case"trade":return"";case"waiver":return"";case"free_agent":return"";case"commissioner":return"";default:return""}},B=()=>P?r.jsxs("div",{className:"flex items-center justify-center p-8",children:[r.jsx(Ct,{className:"h-6 w-6 animate-spin text-primary"}),r.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:"Loading standings..."})]}):N?r.jsxs("div",{className:"text-center p-8",children:[r.jsxs("p",{className:"text-sm text-red-600 mb-4",children:["Error loading standings: ",N]}),r.jsx(ee,{variant:"outline",size:"sm",onClick:E,children:"Try Again"})]}):!b||b.length===0?r.jsx("div",{className:"text-center p-8",children:r.jsx("p",{className:"text-sm text-muted-foreground",children:"No standings data available"})}):r.jsx("div",{className:"space-y-3",children:b.map(k=>r.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-accent/50",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("div",{className:"flex items-center space-x-1",children:[k.overall_rank===1&&r.jsx(yN,{className:"h-4 w-4 text-yellow-500"}),r.jsxs("span",{className:"font-semibold w-6",children:["#",k.overall_rank]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:k.team_name}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[k.owner_name,"  ",k.conference_name]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"font-semibold",children:Zu.formatRecord(k.wins,k.losses,k.ties)}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[Zu.formatPoints(k.points_for)," pts"]})]})]},k.team_id))}),K=()=>o?r.jsxs("div",{className:"flex items-center justify-center p-8",children:[r.jsx(Ct,{className:"h-6 w-6 animate-spin text-primary"}),r.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:"Loading matchups..."})]}):u?r.jsxs("div",{className:"text-center p-8",children:[r.jsxs("p",{className:"text-sm text-red-600 mb-4",children:["Error loading matchups: ",u]}),r.jsx(ee,{variant:"outline",size:"sm",onClick:M,children:"Try Again"})]}):!n||n.length===0?r.jsx("div",{className:"text-center p-8",children:r.jsxs("p",{className:"text-sm text-muted-foreground",children:["No matchups found for week ",e]})}):r.jsx("div",{className:"space-y-2",children:n.map(k=>{var C,T,D,A,$,H;return r.jsxs("div",{className:"p-2 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx(ae,{variant:"outline",className:"text-xs",children:k.conference.conference_name}),O(k.status)]}),r.jsxs("div",{className:"grid grid-cols-3 gap-2 items-center text-sm",children:[r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"font-medium truncate text-xs",children:((T=(C=k.teams[0])==null?void 0:C.team)==null?void 0:T.team_name)||"Team 1"}),r.jsx("p",{className:"text-sm font-bold",children:k.status==="upcoming"?"--":(D=k.teams[0])==null?void 0:D.points.toFixed(1)})]}),r.jsx("div",{className:"text-center text-muted-foreground font-semibold text-xs",children:"VS"}),r.jsxs("div",{className:"text-left",children:[r.jsx("p",{className:"font-medium truncate text-xs",children:(($=(A=k.teams[1])==null?void 0:A.team)==null?void 0:$.team_name)||"Team 2"}),r.jsx("p",{className:"text-sm font-bold",children:k.status==="upcoming"?"--":(H=k.teams[1])==null?void 0:H.points.toFixed(1)})]})]})]},k.matchup_id)})}),F=()=>c?r.jsxs("div",{className:"flex items-center justify-center p-8",children:[r.jsx(Ct,{className:"h-6 w-6 animate-spin text-primary"}),r.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:"Loading transactions..."})]}):m?r.jsxs("div",{className:"text-center p-8",children:[r.jsxs("p",{className:"text-sm text-red-600 mb-4",children:["Error loading transactions: ",m]}),r.jsx(ee,{variant:"outline",size:"sm",onClick:U,children:"Try Again"})]}):!a||a.length===0?r.jsx("div",{className:"text-center p-8",children:r.jsx("p",{className:"text-sm text-muted-foreground",children:"No recent transactions found"})}):r.jsx("div",{className:"space-y-3",children:a.map(k=>r.jsxs("div",{className:"p-3 rounded-lg border bg-card hover:bg-accent/50 transition-colors",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"text-base",children:L(k.type)}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ae,{variant:"outline",className:"text-xs",children:k.type.replace("_"," ").toUpperCase()}),r.jsxs("span",{className:"text-xs text-muted-foreground",children:["Week ",k.week]})]})]}),r.jsx("span",{className:"text-xs text-muted-foreground",children:k.date.toLocaleDateString()})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"flex items-center space-x-2",children:r.jsx("span",{className:"text-sm font-medium",children:k.teams[0]})}),(k.players.added.length>0||k.players.dropped.length>0)&&r.jsxs("div",{className:"space-y-2",children:[k.players.added.length>0&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[r.jsxs(ae,{variant:"secondary",className:"text-xs bg-green-100 text-green-800",children:["+",k.players.added.length]}),r.jsx("span",{className:"text-xs font-medium text-green-700",children:"Added"})]}),r.jsx("div",{className:"ml-1 space-y-1",children:k.players.added.map((C,T)=>r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"font-medium",children:C.name}),r.jsxs("div",{className:"flex items-center space-x-1",children:[C.bidAmount&&r.jsxs(ae,{variant:"secondary",className:"text-xs bg-blue-100 text-blue-800",children:["$",C.bidAmount]}),r.jsx(ae,{variant:"outline",className:"text-xs",children:C.team})]})]},T))})]}),k.players.dropped.length>0&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[r.jsxs(ae,{variant:"secondary",className:"text-xs bg-red-100 text-red-800",children:["-",k.players.dropped.length]}),r.jsx("span",{className:"text-xs font-medium text-red-700",children:"Dropped"})]}),r.jsx("div",{className:"ml-1 space-y-1",children:k.players.dropped.map((C,T)=>r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"font-medium",children:C.name}),r.jsx(ae,{variant:"outline",className:"text-xs",children:C.team})]},T))})]})]})]})]},k.id))});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"relative overflow-hidden rounded-lg bg-gradient-to-br from-primary/10 via-primary/5 to-background border",children:[r.jsx("div",{className:"absolute inset-0 bg-grid-white/10 [mask-image:linear-gradient(0deg,white,rgba(255,255,255,0.6))]"}),r.jsx("div",{className:"relative px-6 py-12 sm:px-12",children:r.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("img",{src:"/gladiator-logo.png",alt:"Gladiator League Logo",className:"h-12 w-12"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"Gladiator League"}),r.jsx("p",{className:"text-lg text-muted-foreground",children:"Fantasy Football Championship"})]})]}),r.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl",children:"Welcome to the ultimate fantasy football experience. Track your teams across three competitive conferences in real-time."}),r.jsxs("div",{className:"flex items-center space-x-2 mt-4",children:[r.jsxs(ae,{variant:"outline",children:[j," Season"]}),r.jsxs(ae,{variant:"outline",children:["Week ",e]}),g!=="all"&&w&&r.jsx(ae,{variant:"secondary",children:(S=w.conferences.find(k=>k.id===g))==null?void 0:S.name})]})]})})]}),r.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[r.jsxs("div",{className:"lg:w-2/3 flex flex-col gap-6",children:[r.jsxs(X,{children:[r.jsxs(ce,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(_c,{className:"h-5 w-5 text-primary"}),r.jsxs(de,{children:["Week ",e]})]}),r.jsx(Ut,{to:"/matchups",children:r.jsx(ee,{variant:"ghost",size:"sm",children:r.jsx(Zh,{className:"h-4 w-4"})})})]}),r.jsx(je,{children:"Current matchups"})]}),r.jsx(te,{children:K()})]}),r.jsxs(X,{children:[r.jsxs(ce,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Uo,{className:"h-5 w-5 text-primary"}),r.jsx(de,{children:"Recent Transactions"})]}),r.jsx(Ut,{to:"/transactions",children:r.jsxs(ee,{variant:"ghost",size:"sm",children:["View All ",r.jsx(Zh,{className:"ml-1 h-4 w-4"})]})})]}),r.jsx(je,{children:"Latest roster moves across all conferences"})]}),r.jsx(te,{children:F()})]})]}),r.jsxs("div",{className:"lg:w-1/3 flex flex-col gap-6",children:[r.jsxs(X,{children:[r.jsxs(ce,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(bt,{className:"h-5 w-5 text-primary"}),r.jsx(de,{children:"League Standings"})]}),r.jsx(Ut,{to:"/standings",children:r.jsxs(ee,{variant:"ghost",size:"sm",children:["View All ",r.jsx(Zh,{className:"ml-1 h-4 w-4"})]})})]}),r.jsx(je,{children:"Top 12 teams across all conferences"})]}),r.jsx(te,{children:B()})]}),r.jsxs(X,{children:[r.jsxs(ce,{children:[r.jsxs(de,{className:"flex items-center space-x-2",children:[r.jsx(Gt,{className:"h-5 w-5 text-primary"}),r.jsx("span",{children:"Quick Actions"})]}),r.jsx(je,{children:"Navigate to key sections of the league"})]}),r.jsxs(te,{children:[r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsx(Ut,{to:"/standings",children:r.jsxs(ee,{variant:"outline",className:"w-full h-16 flex flex-col space-y-1",children:[r.jsx(bt,{className:"h-5 w-5"}),r.jsx("span",{className:"text-xs",children:"Standings"})]})}),r.jsx(Ut,{to:"/matchups",children:r.jsxs(ee,{variant:"outline",className:"w-full h-16 flex flex-col space-y-1",children:[r.jsx(_c,{className:"h-5 w-5"}),r.jsx("span",{className:"text-xs",children:"Matchups"})]})}),r.jsx(Ut,{to:"/teams",children:r.jsxs(ee,{variant:"outline",className:"w-full h-16 flex flex-col space-y-1",children:[r.jsx(Gt,{className:"h-5 w-5"}),r.jsx("span",{className:"text-xs",children:"Teams"})]})}),r.jsx(Ut,{to:"/players",children:r.jsxs(ee,{variant:"outline",className:"w-full h-16 flex flex-col space-y-1",children:[r.jsx(Uo,{className:"h-5 w-5"}),r.jsx("span",{className:"text-xs",children:"Players"})]})}),r.jsx(Ut,{to:"/draft",children:r.jsxs(ee,{variant:"outline",className:"w-full h-16 flex flex-col space-y-1",children:[r.jsx(jc,{className:"h-5 w-5"}),r.jsx("span",{className:"text-xs",children:"Draft Results"})]})}),r.jsx(Ut,{to:"/rules",children:r.jsxs(ee,{variant:"outline",className:"w-full h-16 flex flex-col space-y-1",children:[r.jsx(ns,{className:"h-5 w-5"}),r.jsx("span",{className:"text-xs",children:"League Rules"})]})})]}),(w==null?void 0:w.conferences)&&w.conferences.length>0&&r.jsxs("div",{className:"mt-4",children:[r.jsx(yy,{className:"my-3"}),r.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[r.jsx(H$,{className:"h-5 w-5 text-primary"}),r.jsx("h3",{className:"text-sm font-semibold",children:"League Pages"})]}),r.jsx("div",{className:"flex flex-col space-y-2",children:w.conferences.map(k=>r.jsx("a",{href:`https://sleeper.com/leagues/${k.leagueId}/league`,target:"_blank",rel:"noopener noreferrer",children:r.jsx(ee,{variant:"outline",className:"w-full justify-start",children:k.name})},k.leagueId))})]})]})]})]})]}),r.jsxs(X,{children:[r.jsxs(ce,{children:[r.jsx(de,{children:"League Information"}),r.jsx(je,{children:"Current season details and conference structure"})]}),r.jsx(te,{children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:w==null?void 0:w.conferences.map(k=>r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsx("h4",{className:"font-semibold mb-2",children:k.name}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"12 teams  14-week season"}),r.jsx(ae,{variant:"outline",className:"text-xs",children:k.status})]},k.id))})})]})]})},un=h.forwardRef(({className:e,...t},n)=>r.jsx("div",{className:"relative w-full overflow-auto",children:r.jsx("table",{ref:n,className:ye("w-full caption-bottom text-sm",e),...t})}));un.displayName="Table";const fn=h.forwardRef(({className:e,...t},n)=>r.jsx("thead",{ref:n,className:ye("[&_tr]:border-b",e),...t}));fn.displayName="TableHeader";const hn=h.forwardRef(({className:e,...t},n)=>r.jsx("tbody",{ref:n,className:ye("[&_tr:last-child]:border-0",e),...t}));hn.displayName="TableBody";const U5=h.forwardRef(({className:e,...t},n)=>r.jsx("tfoot",{ref:n,className:ye("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));U5.displayName="TableFooter";const Te=h.forwardRef(({className:e,...t},n)=>r.jsx("tr",{ref:n,className:ye("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Te.displayName="TableRow";const oe=h.forwardRef(({className:e,...t},n)=>r.jsx("th",{ref:n,className:ye("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));oe.displayName="TableHead";const se=h.forwardRef(({className:e,...t},n)=>r.jsx("td",{ref:n,className:ye("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));se.displayName="TableCell";const z5=h.forwardRef(({className:e,...t},n)=>r.jsx("caption",{ref:n,className:ye("mt-4 text-sm text-muted-foreground",e),...t}));z5.displayName="TableCaption";const V5=()=>{var b,P;const{selectedSeason:e,selectedConference:t,currentSeasonConfig:n,loading:s}=Fn(),[a,i]=h.useState(null),[o,l]=h.useState([]),[c,d]=h.useState(!0),[u,f]=h.useState(null),[m,y]=h.useState(!1),{toast:j}=gn(),g=async()=>{try{d(!0),f(null),console.log(`Fetching standings data for season ${e} and conference ${t||"all"}...`);const N=n;if(!N)throw new Error(`No season configuration found for year ${e}`);const E=N.seasonId,R=typeof E=="string"?parseInt(E):E;console.log(`Using season ID ${R} for year ${e}`);let M;if(t){const O=N.conferences.find(L=>L.id===t);if(O){const L=await ne.getConferences({filters:[{column:"season_id",operator:"eq",value:R},{column:"conference_name",operator:"eq",value:O.name}]});if(L.error)throw new Error(`Conferences fetch error: ${L.error}`);const B=L.data||[];B.length>0&&(M=typeof B[0].id=="string"?parseInt(B[0].id):B[0].id)}}const U=await Zu.getStandingsData(R,M);console.log("Standings data from service:",U),l(U)}catch(N){console.error("Error fetching standings:",N),f(N instanceof Error?N.message:"Failed to fetch standings data"),j({title:"Error",description:"Failed to fetch standings data. Please try again.",variant:"destructive"})}finally{d(!1)}},w=async()=>{try{y(!0);const N=n;if(!N)throw new Error(`No season configuration found for year ${e}`);const E=N.seasonId,R=typeof E=="string"?parseInt(E):E;let M;if(t){const U=N.conferences.find(O=>O.id===t);if(U){const O=await ne.getConferences({filters:[{column:"season_id",operator:"eq",value:R},{column:"conference_name",operator:"eq",value:U.name}]});if(O.error)throw new Error(`Conferences fetch error: ${O.error}`);const L=O.data||[];L.length>0&&(M=typeof L[0].id=="string"?parseInt(L[0].id):L[0].id)}}console.log("Team records refresh triggered for season:",R,"conference:",M),await g(),j({title:"Success",description:"Standings refreshed successfully"})}catch(N){console.error("Error refreshing standings:",N),j({title:"Error",description:"Failed to refresh standings data",variant:"destructive"})}finally{y(!1)}};h.useEffect(()=>{!s&&n&&g()},[e,t,s,n]);const x=N=>{let E="desc";a&&a.key===N&&a.direction==="desc"&&(E="asc"),i({key:N,direction:E})},p=De.useMemo(()=>{let N=[...o];return a!==null?N.sort((E,R)=>{const M=E[a.key],U=R[a.key];return M<U?a.direction==="asc"?-1:1:M>U?a.direction==="asc"?1:-1:0}):N.sort((E,R)=>E.wins!==R.wins?R.wins-E.wins:R.points_for-E.points_for),N},[o,a]),v=(N,E)=>{const R=N+E;if(R===0)return"outline";const M=N/R;return M>=.7?"default":M>=.5?"secondary":"destructive"},_=(N,E)=>E?r.jsxs(ae,{variant:"default",className:"bg-yellow-500 text-white",children:[r.jsx(bt,{className:"w-3 h-3 mr-1"}),"Champion"]}):N?r.jsx(ae,{variant:"default",className:"bg-green-500",children:"Playoff"}):null;return s||c?r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ct,{className:"h-6 w-6 animate-spin"}),r.jsxs("span",{children:["Loading ",s?"season data":"standings","..."]})]})}):u?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(bt,{className:"h-6 w-6 text-primary"}),r.jsx("h1",{className:"text-3xl font-bold",children:"League Standings"})]}),r.jsxs("p",{className:"text-muted-foreground",children:[e," Season  ",t?(b=n.conferences.find(N=>N.id===t))==null?void 0:b.name:"All Conferences"]})]}),r.jsxs(X,{children:[r.jsxs(ce,{children:[r.jsx(de,{children:"Error Loading Standings"}),r.jsx(je,{children:"Unable to fetch standings data"})]}),r.jsx(te,{children:r.jsxs("div",{className:"text-center space-y-4",children:[r.jsx("p",{className:"text-muted-foreground",children:u}),r.jsx(ee,{onClick:g,children:"Try Again"})]})})]})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(bt,{className:"h-6 w-6 text-primary"}),r.jsx("h1",{className:"text-3xl font-bold",children:"League Standings"})]}),r.jsxs(ee,{variant:"outline",onClick:w,disabled:m,className:"flex items-center gap-2",children:[r.jsx(Xe,{className:`h-4 w-4 ${m?"animate-spin":""}`}),m?"Refreshing...":"Refresh"]})]}),r.jsxs("p",{className:"text-muted-foreground",children:[e," Season  ",t?(P=n.conferences.find(N=>N.id===t))==null?void 0:P.name:"All Conferences"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(X,{children:r.jsxs(ce,{className:"pb-2",children:[r.jsx(je,{children:"Total Teams"}),r.jsx(de,{className:"text-2xl",children:o.length})]})}),r.jsx(X,{children:r.jsxs(ce,{className:"pb-2",children:[r.jsx(je,{children:"Highest Scoring Team"}),r.jsx(de,{className:"text-xl",children:o.length>0&&o.reduce((N,E)=>N.points_for>E.points_for?N:E).team_name})]})}),r.jsx(X,{children:r.jsxs(ce,{className:"pb-2",children:[r.jsx(je,{children:"Playoff Teams"}),r.jsx(de,{className:"text-2xl",children:o.filter(N=>N.playoff_eligible).length})]})})]}),r.jsxs(X,{children:[r.jsxs(ce,{children:[r.jsx(de,{children:"Team Standings"}),r.jsxs(je,{children:["Click column headers to sort. Current standings for the ",e," season."]})]}),r.jsx(te,{children:r.jsx("div",{className:"rounded-md border",children:r.jsxs(un,{children:[r.jsx(fn,{children:r.jsxs(Te,{children:[r.jsx(oe,{className:"w-12",children:r.jsxs(ee,{variant:"ghost",size:"sm",onClick:()=>x("overall_rank"),children:["Rank ",r.jsx(Ga,{className:"ml-1 h-3 w-3"})]})}),r.jsx(oe,{children:r.jsxs(ee,{variant:"ghost",size:"sm",onClick:()=>x("team_name"),children:["Team ",r.jsx(Ga,{className:"ml-1 h-3 w-3"})]})}),r.jsx(oe,{className:"hidden lg:table-cell",children:"Conference"}),r.jsx(oe,{children:r.jsxs(ee,{variant:"ghost",size:"sm",onClick:()=>x("wins"),children:["Record ",r.jsx(Ga,{className:"ml-1 h-3 w-3"})]})}),r.jsx(oe,{className:"text-right hidden md:table-cell",children:r.jsxs(ee,{variant:"ghost",size:"sm",onClick:()=>x("win_percentage"),children:["Win% ",r.jsx(Ga,{className:"ml-1 h-3 w-3"})]})}),r.jsx(oe,{className:"text-right",children:r.jsxs(ee,{variant:"ghost",size:"sm",onClick:()=>x("points_for"),children:["PF ",r.jsx(Ga,{className:"ml-1 h-3 w-3"})]})}),r.jsx(oe,{className:"text-right hidden sm:table-cell",children:r.jsxs(ee,{variant:"ghost",size:"sm",onClick:()=>x("points_against"),children:["PA ",r.jsx(Ga,{className:"ml-1 h-3 w-3"})]})}),r.jsx(oe,{className:"text-right hidden sm:table-cell",children:r.jsxs(ee,{variant:"ghost",size:"sm",onClick:()=>x("point_diff"),children:["Diff ",r.jsx(Ga,{className:"ml-1 h-3 w-3"})]})}),r.jsx(oe,{className:"hidden lg:table-cell",children:"Status"})]})}),r.jsx(hn,{children:p.map((N,E)=>r.jsxs(Te,{className:"hover:bg-muted/50",children:[r.jsx(se,{className:"font-medium",children:r.jsxs("div",{className:"flex items-center space-x-1",children:[N.overall_rank===1&&r.jsx(bt,{className:"h-4 w-4 text-yellow-500"}),r.jsx("span",{children:N.overall_rank})]})}),r.jsx(se,{children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("img",{src:N.team_logourl?`https://sleepercdn.com/avatars/thumbs/${N.team_logourl}`:"/placeholder-team-logo.png",alt:`${N.team_name} logo`,className:"w-10 h-10 rounded-full object-cover",onError:R=>{const M=R.target;M.src="/placeholder-team-logo.png"}})}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("div",{className:"font-medium text-sm",children:N.team_name}),r.jsx("div",{className:"text-xs text-muted-foreground",children:N.owner_name})]})]})}),r.jsx(se,{className:"hidden lg:table-cell",children:r.jsx(ae,{variant:"outline",className:"text-xs",children:N.conference_name})}),r.jsx(se,{children:r.jsxs(ae,{variant:v(N.wins,N.losses),children:[N.wins,"-",N.losses,N.ties>0&&`-${N.ties}`]})}),r.jsxs(se,{className:"text-right font-mono hidden md:table-cell",children:[(N.win_percentage*100).toFixed(1),"%"]}),r.jsx(se,{className:"text-right font-mono",children:N.points_for.toFixed(1)}),r.jsx(se,{className:"text-right font-mono hidden sm:table-cell",children:N.points_against.toFixed(1)}),r.jsx(se,{className:"text-right font-mono hidden sm:table-cell",children:r.jsxs("span",{className:N.point_diff>=0?"text-green-600":"text-red-600",children:[N.point_diff>=0?"+":"",N.point_diff.toFixed(1)]})}),r.jsx(se,{className:"hidden lg:table-cell",children:r.jsx("div",{className:"flex items-center space-x-1",children:_(N.playoff_eligible,N.is_conference_champion)})})]},N.team_id))})]})})})]})]})};var rh="Collapsible",[W5,lH]=ls(rh),[H5,vy]=W5(rh),yE=h.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:s,defaultOpen:a,disabled:i,onOpenChange:o,...l}=e,[c,d]=Fr({prop:s,defaultProp:a??!1,onChange:o,caller:rh});return r.jsx(H5,{scope:n,disabled:i,contentId:Dr(),open:c,onOpenToggle:h.useCallback(()=>d(u=>!u),[d]),children:r.jsx(we.div,{"data-state":jy(c),"data-disabled":i?"":void 0,...l,ref:t})})});yE.displayName=rh;var vE="CollapsibleTrigger",wE=h.forwardRef((e,t)=>{const{__scopeCollapsible:n,...s}=e,a=vy(vE,n);return r.jsx(we.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":jy(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...s,ref:t,onClick:ve(e.onClick,a.onOpenToggle)})});wE.displayName=vE;var wy="CollapsibleContent",jE=h.forwardRef((e,t)=>{const{forceMount:n,...s}=e,a=vy(wy,e.__scopeCollapsible);return r.jsx(vr,{present:n||a.open,children:({present:i})=>r.jsx(q5,{...s,ref:t,present:i})})});jE.displayName=wy;var q5=h.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:s,children:a,...i}=e,o=vy(wy,n),[l,c]=h.useState(s),d=h.useRef(null),u=Ye(t,d),f=h.useRef(0),m=f.current,y=h.useRef(0),j=y.current,g=o.open||l,w=h.useRef(g),x=h.useRef(void 0);return h.useEffect(()=>{const p=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(p)},[]),Ft(()=>{const p=d.current;if(p){x.current=x.current||{transitionDuration:p.style.transitionDuration,animationName:p.style.animationName},p.style.transitionDuration="0s",p.style.animationName="none";const v=p.getBoundingClientRect();f.current=v.height,y.current=v.width,w.current||(p.style.transitionDuration=x.current.transitionDuration,p.style.animationName=x.current.animationName),c(s)}},[o.open,s]),r.jsx(we.div,{"data-state":jy(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!g,...i,ref:u,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":j?`${j}px`:void 0,...e.style},children:g&&a})});function jy(e){return e?"open":"closed"}var K5=yE;const G5=K5,Y5=wE,Q5=jE;class Zn{static async getPlayers(){const t=Date.now();if(this.playerCache&&t-this.playerCache.timestamp<this.playerCache.ttl){if(console.log(` Using cached player data (${Object.keys(this.playerCache.data).length} players)`),typeof window<"u"){const s=window.__cacheStats||{hits:0,total:0};s.total+=1,s.hits+=1,window.__cacheStats=s,window.__cacheHitRate=s.hits/s.total}return this.playerCache.data}console.log(" Refreshing player cache...");const n=performance.now();if(typeof window<"u"){const s=window.__cacheStats||{hits:0,total:0};s.total+=1,window.__cacheStats=s,window.__cacheHitRate=s.total>0?s.hits/s.total:0}try{const s=await ne.getAllPlayersForMapping([{column:"playing_status",operator:"eq",value:"Active"},{column:"position",operator:"in",value:["QB","RB","WR","TE","K","DEF"]}]),a={};return s.forEach(i=>{var o;if(i.sleeper_id){const l=i.player_name.split(" "),c=l[0]||"",d=l.slice(1).join(" ")||"";a[i.sleeper_id]={player_id:i.sleeper_id,first_name:c,last_name:d,position:i.position||"",team:i.nfl_team||"",jersey_number:i.number||0,status:i.playing_status||"",injury_status:i.injury_status||"",age:i.age||0,height:((o=i.height)==null?void 0:o.toString())||"",weight:i.weight||0,years_exp:0,college:i.college||""}}}),this.playerCache={data:a,timestamp:t,ttl:this.PLAYER_CACHE_TTL},console.log(` Player cache refreshed with ${Object.keys(a).length} players in ${(performance.now()-n).toFixed(2)}ms`),a}catch(s){return console.error("Error fetching players:",s),{}}}static getCachedConferenceData(t,n){const s=`${t}_${n}`,a=this.conferenceCache.get(s);if(a&&Date.now()-a.timestamp<a.ttl){if(console.log(` Using cached Sleeper data for league ${t}, week ${n}`),typeof window<"u"){const i=window.__cacheStats||{hits:0,total:0};i.total+=1,i.hits+=1,window.__cacheStats=i,window.__cacheHitRate=i.hits/i.total}return a.data}return null}static setCachedConferenceData(t,n,s){const a=`${t}_${n}`;this.conferenceCache.set(a,{data:s,timestamp:Date.now(),ttl:this.CONFERENCE_CACHE_TTL})}static getCachedMatchupDetails(t,n){const s=`details_${t}_${n}`,a=this.matchupDetailsCache.get(s);return a&&Date.now()-a.timestamp<a.ttl?(console.log(` Using cached details for matchup ${t}`),a.data):null}static setCachedMatchupDetails(t,n,s){const a=`details_${t}_${n}`;this.matchupDetailsCache.set(a,{data:s,timestamp:Date.now(),ttl:this.DETAILS_CACHE_TTL})}static clearAll(){console.log(" Clearing all caches"),this.playerCache=null,this.conferenceCache.clear(),this.matchupDetailsCache.clear()}static cleanupExpired(){const t=Date.now();this.playerCache&&t-this.playerCache.timestamp>=this.playerCache.ttl&&(this.playerCache=null);for(const[n,s]of this.conferenceCache.entries())t-s.timestamp>=s.ttl&&this.conferenceCache.delete(n);for(const[n,s]of this.matchupDetailsCache.entries())t-s.timestamp>=s.ttl&&this.matchupDetailsCache.delete(n)}static getStats(){const t=Date.now();return{players:{cached:!!this.playerCache,count:this.playerCache?Object.keys(this.playerCache.data).length:0,age:this.playerCache?t-this.playerCache.timestamp:0,ttl:this.PLAYER_CACHE_TTL},conferences:{count:this.conferenceCache.size,entries:Array.from(this.conferenceCache.keys())},details:{count:this.matchupDetailsCache.size,entries:Array.from(this.matchupDetailsCache.keys())}}}}Jt(Zn,"playerCache",null),Jt(Zn,"conferenceCache",new Map),Jt(Zn,"matchupDetailsCache",new Map),Jt(Zn,"PLAYER_CACHE_TTL",10*60*1e3),Jt(Zn,"CONFERENCE_CACHE_TTL",5*60*1e3),Jt(Zn,"DETAILS_CACHE_TTL",2*60*1e3);setInterval(()=>{Zn.cleanupExpired()},5*60*1e3);class L0{static async getHybridMatchups(t,n,s){try{console.log(" Getting optimized hybrid matchups:",{seasonId:t,week:n,conferenceId:s});const a=performance.now(),[i,o,l,c]=await Promise.all([n>=13?this.getPlayoffBrackets(t,n,s):this.getDatabaseMatchups(t,n,s),this.getConferences(t),this.getTeams(),this.getTeamConferenceJunctions()]);let d=[];if(n>=13?(console.log(` Week ${n} is playoffs - using playoff_brackets table`),d=this.convertPlayoffBracketsToMatchups(i,o)):(console.log(` Week ${n} is regular season - using matchups table`),d=i),console.log(` Found ${d.length} database matchups in ${(performance.now()-a).toFixed(2)}ms`),d.length===0)return console.warn("No database matchups found for the specified criteria"),[];const u=o,f=l,m=c;console.log(` Loaded ${u.length} conferences, ${f.length} teams`);const y=[];for(const j of d)try{console.log(` Processing matchup: Team ${j.team1_id} vs Team ${j.team2_id}`);const g=u.find(K=>K.id===j.conference_id);if(!g){console.warn(`Conference ${j.conference_id} not found for matchup ${j.id}`);continue}const w=f.find(K=>K.id===j.team1_id),x=j.team2_id?f.find(K=>K.id===j.team2_id):null;if(!w){console.warn(`Team1 not found: team1_id=${j.team1_id}`);continue}if(!j.is_bye&&!x){console.warn(`Team2 not found for non-bye matchup: team2_id=${j.team2_id}`);continue}if(j.is_bye||!x){console.log(` Processing bye week for team ${w.id}`);let K=m.find(A=>A.team_id===w.id&&A.conference_id===g.id);if(K||(K=m.find(A=>A.team_id===w.id)),!K){console.warn(`Roster mapping not found for bye team ${w.id}`);continue}const F=u.find(A=>A.id===K.conference_id);if(!F){console.warn(`Conference not found for bye team ${w.id}`);continue}const q=await Ve.fetchMatchups(F.league_id,parseInt(j.week)),S=await Ve.fetchLeagueRosters(F.league_id),k=await Ve.fetchLeagueUsers(F.league_id),C=q.find(A=>A.roster_id===K.roster_id);if(!C){console.warn(`Sleeper matchup not found for bye team roster ID ${K.roster_id}`);continue}const T=await this.buildByeMatchupTeam(w,C,S,k,K.roster_id),D={matchup_id:C.matchup_id||0,conference:g,teams:T,status:"completed",rawData:{dbMatchup:j,team1SleeperMatchup:C,team2SleeperMatchup:null,isOverride:j.manual_override||!1,isBye:!0,playoffBracket:n>=13?playoffBrackets.find(A=>A.id===j.id):void 0}};y.push(D),console.log(` Successfully processed bye matchup ${j.id}`);continue}let p=m.find(K=>K.team_id===w.id&&K.conference_id===g.id),v=m.find(K=>K.team_id===x.id&&K.conference_id===g.id);if(p||(console.log(` Team ${w.id} not in conference ${g.id}, searching home conference`),p=m.find(K=>K.team_id===w.id),p&&console.log(` Found team ${w.id} in conference ${p.conference_id}`)),v||(console.log(` Team ${x.id} not in conference ${g.id}, searching home conference`),v=m.find(K=>K.team_id===x.id),v&&console.log(` Found team ${x.id} in conference ${v.conference_id}`)),!p||!v){console.warn(`Roster mappings not found for teams ${w.id}, ${x.id} (searched all conferences)`);continue}const _=j.is_playoff||parseInt(j.week)>=13,b=_||p.conference_id!==v.conference_id;let P,N,E,R,M,U;if(b){console.log(_?` Processing playoff matchup (treated as interconference): Team ${w.id} (conf ${p.conference_id}) vs Team ${x.id} (conf ${v.conference_id})`:` Processing interconference matchup: Team ${w.id} (conf ${p.conference_id}) vs Team ${x.id} (conf ${v.conference_id})`);const K=u.find(A=>A.id===p.conference_id),F=u.find(A=>A.id===v.conference_id);if(!K||!F){console.warn("Conference details not found for interconference matchup");continue}const[q,S]=await Promise.all([Ve.fetchMatchups(K.league_id,parseInt(j.week)),Ve.fetchMatchups(F.league_id,parseInt(j.week))]),[k,C]=await Promise.all([Ve.fetchLeagueRosters(K.league_id),Ve.fetchLeagueRosters(F.league_id)]),[T,D]=await Promise.all([Ve.fetchLeagueUsers(K.league_id),Ve.fetchLeagueUsers(F.league_id)]);P=q.find(A=>A.roster_id===p.roster_id),N=S.find(A=>A.roster_id===v.roster_id),E=k,R=C,M=T,U=D}else{console.log(` Processing same-conference regular season matchup: Team ${w.id} vs Team ${x.id} (conf ${p.conference_id})`);const K=await Ve.fetchMatchups(g.league_id,parseInt(j.week)),F=await Ve.fetchLeagueRosters(g.league_id),q=await Ve.fetchLeagueUsers(g.league_id);P=K.find(S=>S.roster_id===p.roster_id),N=K.find(S=>S.roster_id===v.roster_id),E=F,R=F,M=q,U=q}if(!P||!N){console.warn(`Sleeper matchups not found for roster IDs ${p.roster_id}, ${v.roster_id}`);continue}if(!b&&!_&&P.matchup_id!==N.matchup_id){console.warn(`Teams are not matched against each other in Sleeper: ${P.matchup_id} vs ${N.matchup_id}`);continue}const O=await this.buildMatchupTeamsFromDatabaseInterconference(w,x,P,N,E,R,M,U,p.roster_id,v.roster_id),L=this.determineMatchupStatusFromSleeper(P,N),B={matchup_id:P.matchup_id||0,conference:g,teams:O,status:L,rawData:{dbMatchup:j,team1SleeperMatchup:P,team2SleeperMatchup:N,isOverride:j.manual_override||!1,playoffBracket:n>=13?playoffBrackets.find(K=>K.id===j.id):void 0}};y.push(B),console.log(` Successfully processed matchup ${j.id}`)}catch(g){console.error(`Error processing matchup ${j.id}:`,g)}return console.log(` Processed ${y.length} hybrid matchups from ${d.length} database records`),y}catch(a){return console.error("Error in getHybridMatchups:",a),[]}}static async getMinimalMatchups(t,n,s){try{console.log(" Loading minimal matchups (optimized)...");const a=performance.now(),[i,o,l,c]=await Promise.all([n>=13?this.getPlayoffBrackets(t,n,s):this.getDatabaseMatchups(t,n,s),this.getConferences(t),this.getTeams(),this.getTeamConferenceJunctions()]);let d=[];n>=13?d=this.convertPlayoffBracketsToMatchups(i,o):d=i,console.log(` Batch data loaded in ${(performance.now()-a).toFixed(2)}ms`);const u=[];for(const f of d){const m=o.find(p=>p.id===f.conference_id);if(!m)continue;const y=l.find(p=>p.id===f.team1_id),j=f.team2_id?l.find(p=>p.id===f.team2_id):null;if(!y)continue;const g=c.find(p=>p.team_id===y.id),w=j?c.find(p=>p.team_id===j.id):null,x={id:f.id,matchup_id:0,conference:{id:m.id,name:m.conference_name},teams:[{id:y.id,name:y.team_name,owner:y.owner_name,points:f.team1_score||0,roster_id:(g==null?void 0:g.roster_id)||0}],status:this.determineMatchupStatusFromDb(f),week:parseInt(f.week),is_playoff:f.is_playoff||!1,is_bye:f.is_bye||!1};j&&w&&!f.is_bye&&x.teams.push({id:j.id,name:j.team_name,owner:j.owner_name,points:f.team2_score||0,roster_id:w.roster_id}),n>=13&&"playoff_round_name"in f&&(x.playoff_round_name=f.playoff_round_name),u.push(x)}return console.log(` Minimal matchups loaded in ${(performance.now()-a).toFixed(2)}ms`),u}catch(a){return console.error("Error loading minimal matchups:",a),[]}}static async getMatchupDetails(t,n,s){var a,i,o,l,c,d;try{console.log(` Loading details for matchup ${t}...`);const u=performance.now(),f=Zn.getCachedMatchupDetails(t,s);if(f)return f;const y=(a=(s>=13?await ne.getPlayoffBrackets({filters:[{column:"id",operator:"eq",value:t}]}):await ne.getMatchups({filters:[{column:"id",operator:"eq",value:t}]})).data)==null?void 0:a[0];if(!y)return null;const[j,g,w]=await Promise.all([ne.getConferences({filters:[{column:"season_id",operator:"eq",value:n}]}),ne.getTeams({limit:500}),ne.getTeamConferenceJunctions({limit:1e3})]),x=(i=j.data)==null?void 0:i.find(R=>R.id===y.conference_id);if(!x)return null;let p,v,_;const b=Zn.getCachedConferenceData(x.league_id,s);b?{matchups:p,rosters:v,users:_}=b:([p,v,_]=await Promise.all([Ve.fetchMatchups(x.league_id,s),Ve.fetchLeagueRosters(x.league_id),Ve.fetchLeagueUsers(x.league_id)]),Zn.setCachedConferenceData(x.league_id,s,{matchups:p,rosters:v,users:_}));const P={players_points:{},starters:{},bench_players:{},rosters:{},users:{}},N=(o=g.data)==null?void 0:o.find(R=>R.id===y.team1_id),E=y.team2_id?(l=g.data)==null?void 0:l.find(R=>R.id===y.team2_id):null;if(N){const R=(c=w.data)==null?void 0:c.find(M=>M.team_id===N.id);if(R){const M=p.find(L=>L.roster_id===R.roster_id),U=v.find(L=>L.roster_id===R.roster_id),O=_.find(L=>L.user_id===(U==null?void 0:U.owner_id));M&&U&&(P.players_points[N.id.toString()]=M.players_points||{},P.starters[N.id.toString()]=M.starters||[],P.bench_players[N.id.toString()]=(U.players||[]).filter(L=>{var B;return!((B=M.starters)!=null&&B.includes(L))}),P.rosters[N.id.toString()]=U,O&&(P.users[N.id.toString()]=O))}}if(E){const R=(d=w.data)==null?void 0:d.find(M=>M.team_id===E.id);if(R){const M=p.find(L=>L.roster_id===R.roster_id),U=v.find(L=>L.roster_id===R.roster_id),O=_.find(L=>L.user_id===(U==null?void 0:U.owner_id));M&&U&&(P.players_points[E.id.toString()]=M.players_points||{},P.starters[E.id.toString()]=M.starters||[],P.bench_players[E.id.toString()]=(U.players||[]).filter(L=>{var B;return!((B=M.starters)!=null&&B.includes(L))}),P.rosters[E.id.toString()]=U,O&&(P.users[E.id.toString()]=O))}}return Zn.setCachedMatchupDetails(t,s,P),console.log(` Matchup details loaded in ${(performance.now()-u).toFixed(2)}ms`),P}catch(u){return console.error(`Error loading matchup details for ${t}:`,u),null}}static determineMatchupStatusFromDb(t){return t.matchup_status==="completed"||t.winning_team_id?"completed":t.team1_score>0||t.team2_score>0?"live":"upcoming"}static async getConferences(t){try{return(await ne.getConferences({filters:[{column:"season_id",operator:"eq",value:t}],limit:50})).data||[]}catch(n){return console.error("Error in getConferences:",n),[]}}static async getTeams(){try{return(await ne.getTeams({limit:500})).data||[]}catch(t){return console.error("Error in getTeams:",t),[]}}static async getTeamConferenceJunctions(){try{return(await ne.getTeamConferenceJunctions({limit:1e3})).data||[]}catch(t){return console.error("Error in getTeamConferenceJunctions:",t),[]}}static async getPlayoffBrackets(t,n,s){try{console.log(` Getting playoff brackets for season ${t}, week ${n}, conference: ${s||"all"}`);const a=[{column:"season_id",operator:"eq",value:t},{column:"week",operator:"eq",value:n}];let o=(await ne.getPlayoffBrackets({filters:a,limit:100})).data||[];if(s&&o.length>0){const c=(await this.getTeamConferenceJunctions()).filter(d=>d.conference_id===s).map(d=>d.team_id);o=o.filter(d=>c.includes(d.team1_id)||c.includes(d.team2_id))}return console.log(` Found ${o.length} playoff brackets`),o}catch(a){return console.error("Error in getPlayoffBrackets:",a),[]}}static convertPlayoffBracketsToMatchups(t,n){return t.map(s=>{const a=n[0];return{id:s.id,conference_id:(a==null?void 0:a.id)||1,week:s.week.toString(),team1_id:s.team1_id,team2_id:s.team2_id,is_playoff:!0,manual_override:!1,matchup_status:s.winning_team_id?"completed":"upcoming",notes:s.playoff_round_name||null,matchup_type:"playoff",team1_score:s.team1_score||null,team2_score:s.team2_score||null,winning_team_id:s.winning_team_id||null,is_bye:s.is_bye||!1}})}static async getDatabaseMatchups(t,n,s){var a,i;try{if(s){console.log(` Filtering matchups for specific conference: ${s}`);const u=[{column:"week",operator:"eq",value:n.toString()},{column:"conference_id",operator:"eq",value:s}],f=await ne.getMatchups({filters:u,limit:100});return console.log(` Found ${((a=f.data)==null?void 0:a.length)||0} matchups for conference ${s}`),f.data||[]}const l=(await this.getConferences(t)).map(u=>u.id);if(l.length===0)return console.warn("No conferences found for season:",t),[];const c=[{column:"week",operator:"eq",value:n.toString()},{column:"conference_id",operator:"in",value:l}],d=await ne.getMatchups({filters:c,limit:100});return console.log(` Found ${((i=d.data)==null?void 0:i.length)||0} matchups for season ${t}, week ${n}`),d.data||[]}catch(o){return console.error("Error in getDatabaseMatchups:",o),[]}}static async getMatchupOverrides(t,n,s){var a;try{console.log("Fetching matchup overrides:",{seasonId:t,week:n,conferenceId:s});const i=[{column:"season_id",operator:"eq",value:t},{column:"week",operator:"eq",value:n},{column:"is_active",operator:"eq",value:!0}];s&&i.push({column:"conference_id",operator:"eq",value:s});const o=await ne.getMatchupAdminOverrides({filters:i,limit:100});return console.log("Matchup overrides found:",((a=o.data)==null?void 0:a.length)||0),o.data||[]}catch(i){return console.error("Error in getMatchupOverrides:",i),[]}}static async getOrganizedMatchups(t,n,s){try{console.log("Getting organized matchups:",{seasonId:t,week:n,conferenceId:s});let a=[];if(n>=13){console.log(` Week ${n} is playoffs - using playoff_brackets table`);const c=await this.getPlayoffBrackets(t,n,s),d=await this.getConferences(t);a=this.convertPlayoffBracketsToMatchups(c,d)}else console.log(` Week ${n} is regular season - using matchups table`),a=await this.getDatabaseMatchups(t,n,s);const i=await this.getConferences(t),o=await this.getTeams(),l=await this.getMatchupOverrides(t,n,s);return console.log("Found data:",{matchups:a.length,conferences:i.length,teams:o.length,overrides:l.length}),this.getHybridMatchups(t,n,s)}catch(a){return console.error("Error in getOrganizedMatchups:",a),[]}}static async buildMatchupTeamsSimple(t,n,s,a,i){try{const o=[],l=n.find(f=>f.roster_id===t.roster_id);if(!l)return console.warn(`No roster found for roster_id: ${t.roster_id}`),[];const c=s.find(f=>f.user_id===l.owner_id),d=a.find(f=>f.owner_id===l.owner_id),u={roster_id:t.roster_id,points:t.points||0,projected_points:t.projected_points||0,owner:c||null,roster:l||null,team:d||null,players_points:t.players_points||{},starters_points:t.starters_points||[],matchup_starters:t.starters||[]};return o.push(u),o}catch(o){return console.error("Error building simple matchup teams:",o),[]}}static determineMatchupStatusSimple(t){return t.points&&t.points>0?"completed":"upcoming"}static async buildMatchupTeamsFromDatabase(t,n,s,a,i,o,l,c){try{const d=[],u=i.find(w=>w.roster_id===l),f=o.find(w=>w.user_id===(u==null?void 0:u.owner_id)),m={roster_id:l,points:s.points||0,projected_points:s.projected_points||0,owner:f||null,roster:u||null,team:t,players_points:s.players_points||{},starters_points:s.starters_points||[],matchup_starters:s.starters||[]},y=i.find(w=>w.roster_id===c),j=o.find(w=>w.user_id===(y==null?void 0:y.owner_id)),g={roster_id:c,points:a.points||0,projected_points:a.projected_points||0,owner:j||null,roster:y||null,team:n,players_points:a.players_points||{},starters_points:a.starters_points||[],matchup_starters:a.starters||[]};return d.push(m,g),d}catch(d){return console.error("Error building matchup teams from database:",d),[]}}static async buildMatchupTeamsFromDatabaseInterconference(t,n,s,a,i,o,l,c,d,u){try{const f=[],m=i.find(p=>p.roster_id===d),y=l.find(p=>p.user_id===(m==null?void 0:m.owner_id)),j={roster_id:d,points:s.points||0,projected_points:s.projected_points||0,owner:y||null,roster:m||null,team:t,players_points:s.players_points||{},starters_points:s.starters_points||[],matchup_starters:s.starters||[]},g=o.find(p=>p.roster_id===u),w=c.find(p=>p.user_id===(g==null?void 0:g.owner_id)),x={roster_id:u,points:a.points||0,projected_points:a.projected_points||0,owner:w||null,roster:g||null,team:n,players_points:a.players_points||{},starters_points:a.starters_points||[],matchup_starters:a.starters||[]};return f.push(j,x),f}catch(f){return console.error("Error building interconference matchup teams from database:",f),[]}}static async buildByeMatchupTeam(t,n,s,a,i){try{const o=s.find(d=>d.roster_id===i),l=a.find(d=>d.user_id===(o==null?void 0:o.owner_id));return[{roster_id:i,points:n.points||0,projected_points:n.projected_points||0,owner:l||null,roster:o||null,team:t,players_points:n.players_points||{},starters_points:n.starters_points||[],matchup_starters:n.starters||[]}]}catch(o){return console.error("Error building bye matchup team:",o),[]}}static determineMatchupStatusFromSleeper(t,n){const s=t.points&&t.points>0,a=n&&n.points&&n.points>0;return s&&a?"completed":s||a?"live":"upcoming"}}const X5=()=>{window.__apiCallCount=0,window.__cacheStats={hits:0,total:0},window.__cacheHitRate=0},_E=De.memo(({matchup:e,isExpanded:t,onToggleExpand:n,detailedData:s,allPlayers:a,loading:i})=>{const[o,l]=e.teams,c=e.status==="completed"?o.points>((l==null?void 0:l.points)||0)?o:l:null,d=y=>{switch(y){case"live":return r.jsx(ae,{className:"bg-green-500 hover:bg-green-600",children:"Live"});case"completed":return r.jsx(ae,{variant:"secondary",children:"Final"});case"upcoming":return r.jsx(ae,{variant:"outline",children:"Upcoming"});default:return r.jsx(ae,{variant:"secondary",children:y})}},u=y=>({QB:"QB",RB:"RB",WR:"WR",TE:"TE",FLEX:"W/R/T",SUPER_FLEX:"Q/W/R/T",K:"K",DEF:"DEF"})[y]||y,f=y=>{const j=a[y];return j?{name:`${j.first_name||""} ${j.last_name||""}`.trim()||"Unknown",position:j.position||"N/A",team:j.team||"N/A"}:{name:"Unknown Player",position:"N/A",team:"N/A"}},m=(y,j)=>{if(!s)return r.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading roster..."});const g=s.starters[y]||[],w=s.players_points[y]||{},x=s.bench_players[y]||[];return r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("h5",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide mb-2",children:"Starters"}),r.jsx("div",{className:"space-y-1",children:g.map((p,v)=>{const _=f(p),b=w[p]||0,P=["QB","RB","RB","WR","WR","WR","TE","FLEX","SUPER_FLEX"][v]||"FLEX";return r.jsxs("div",{className:"flex justify-between items-center py-1 px-2 bg-gray-50 rounded text-xs",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ae,{variant:"outline",className:"text-xs px-1 py-0",children:u(P)}),r.jsx("span",{className:"font-medium",children:_.name}),r.jsxs("span",{className:"text-muted-foreground",children:["(",_.position," - ",_.team,")"]})]}),r.jsx("span",{className:"font-bold",children:b.toFixed(1)})]},`${p}-${v}`)})})]}),x.length>0&&r.jsxs("div",{children:[r.jsx("h5",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide mb-2",children:"Bench"}),r.jsx("div",{className:"space-y-1",children:x.map(p=>{const v=f(p),_=w[p]||0;return r.jsxs("div",{className:"flex justify-between items-center py-1 px-2 bg-gray-25 rounded text-xs",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"font-medium",children:v.name}),r.jsxs("span",{className:"text-muted-foreground",children:["(",v.position," - ",v.team,")"]})]}),r.jsx("span",{className:"text-muted-foreground",children:_.toFixed(1)})]},p)})})]})]})};return r.jsxs(X,{className:"hover:shadow-md transition-shadow",children:[r.jsx(ce,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(de,{className:"text-base",children:e.playoff_round_name||e.conference.name}),d(e.status)]})}),r.jsxs(te,{className:"pt-0 space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-3 gap-2 items-center",children:[r.jsxs("div",{className:"text-right space-y-1",children:[r.jsx("div",{className:"font-medium text-sm",children:o.name}),r.jsx("div",{className:`text-lg font-bold ${(c==null?void 0:c.id)===o.id?"text-green-600":""}`,children:e.status==="upcoming"?"--":o.points.toFixed(1)})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"VS"}),e.status==="completed"&&c&&r.jsx(bt,{className:"h-4 w-4 mx-auto mt-1 text-yellow-500"})]}),r.jsxs("div",{className:"text-left space-y-1",children:[r.jsx("div",{className:"font-medium text-sm",children:e.is_bye||!l?"BYE":l.name}),r.jsx("div",{className:`text-lg font-bold ${(c==null?void 0:c.id)===(l==null?void 0:l.id)?"text-green-600":""}`,children:e.is_bye||!l?"BYE":e.status==="upcoming"?"--":l.points.toFixed(1)})]})]}),!e.is_bye&&r.jsxs(G5,{open:t,children:[r.jsx(Q5,{className:"space-y-4",children:r.jsx("div",{className:"border-t pt-4",children:i?r.jsxs("div",{className:"text-center py-4",children:[r.jsx(Xe,{className:"h-6 w-6 animate-spin mx-auto mb-2 text-primary"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading roster details..."})]}):r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("h4",{className:"font-semibold text-sm mb-3 flex items-center",children:[r.jsx(Gt,{className:"h-4 w-4 mr-2"}),o.name," Lineup"]}),m(o.id.toString(),o.name)]}),l&&r.jsxs("div",{children:[r.jsxs("h4",{className:"font-semibold text-sm mb-3 flex items-center",children:[r.jsx(Gt,{className:"h-4 w-4 mr-2"}),l.name," Lineup"]}),m(l.id.toString(),l.name)]})]})})}),r.jsx(Y5,{asChild:!0,children:r.jsx(ee,{variant:"outline",className:"w-full mt-3",onClick:()=>n(e.id),children:t?r.jsxs(r.Fragment,{children:["Hide Details",r.jsx(Bx,{className:"h-4 w-4 ml-2"})]}):r.jsxs(r.Fragment,{children:["View Details",r.jsx(Af,{className:"h-4 w-4 ml-2"})]})})})]})]})]})});_E.displayName="MatchupCard";const J5=()=>{var k;const e=h.useRef(0);e.current+=1,e.current%10===0&&console.warn(` MatchupsPage render count: ${e.current}`);const{selectedSeason:t,selectedConference:n,currentSeasonConfig:s,seasonConfigs:a}=Fn(),{toast:i}=gn(),[o,l]=h.useState(1),[c,d]=h.useState(1),[u,f]=h.useState(new Set),[m,y]=h.useState([]),[j,g]=h.useState(new Map),[w,x]=h.useState(new Set),[p,v]=h.useState({}),[_,b]=h.useState(!0),[P,N]=h.useState(!1),[E,R]=h.useState([]),M=h.useRef(!1),U=h.useRef(new Map),O=h.useMemo(()=>a.find(C=>C.year===t),[a,t]),L=h.useCallback(async()=>{try{console.log(" Loading player data...");const C=performance.now(),T=await Zn.getPlayers();console.log(` Player data loaded in ${(performance.now()-C).toFixed(2)}ms`),v(T)}catch(C){console.error("Error loading player data:",C),v({})}},[]),B=h.useCallback(async()=>{if(!t||!O||P||M.current){console.log(" Skipping matchup fetch - missing data or already refreshing"),b(!1);return}M.current=!0,N(!0),R([]);try{console.log(` Fetching optimized matchups for season ${t}, week ${o}`);const C=performance.now(),T=typeof O.seasonId=="string"?parseInt(O.seasonId):O.seasonId||t;let D;if(n){const $=O.conferences.find(H=>H.id===n);D=$==null?void 0:$.dbConferenceId,console.log(` Conference filter: ${n} -> DB conferenceId: ${D}`)}const A=await L0.getMinimalMatchups(T,o,D);console.log(` Loaded ${A.length} minimal matchups in ${(performance.now()-C).toFixed(2)}ms`),y(A),g(new Map),U.current=new Map,f(new Set)}catch(C){console.error("Error fetching matchups:",C);const T=C instanceof Error?C.message:"Unknown error";R([T]),i({title:"Error Loading Matchups",description:`Failed to load matchup data: ${T}`,variant:"destructive"}),y([])}finally{M.current=!1,N(!1),b(!1)}},[o,n,t,O,i]),K=h.useCallback(async C=>{if(!(!t||!O)){x(T=>new Set(T).add(C));try{console.log(` Loading details for matchup ${C}...`);const T=performance.now(),D=typeof O.seasonId=="string"?parseInt(O.seasonId):O.seasonId||t,A=await L0.getMatchupDetails(C,D,o);A&&(g($=>{const H=new Map($).set(C,A);return U.current=H,H}),console.log(` Matchup ${C} details loaded in ${(performance.now()-T).toFixed(2)}ms`))}catch(T){console.error(`Error loading details for matchup ${C}:`,T)}finally{x(T=>{const D=new Set(T);return D.delete(C),D})}}},[t,O,o]),F=h.useCallback(async()=>{try{console.log(" Loading current NFL week...");const C=await Ve.getCurrentNFLWeek();console.log(` Current NFL week: ${C}`),d(C),l(C)}catch(C){console.error("Error getting current week:",C),d(1),l(1)}},[]),q=h.useCallback(C=>{u.has(C)?f(D=>{const A=new Set(D);return A.delete(C),A}):(f(D=>{const A=new Set(D);return A.add(C),A}),U.current.has(C)||K(C))},[u,K]);h.useEffect(()=>{X5(),F(),L()},[]),h.useEffect(()=>{t&&O?(b(!0),B()):b(!1)},[o,n,t,O,B]);const S=h.useMemo(()=>[...m].sort((C,T)=>C.conference.name.localeCompare(T.conference.name)),[m]);return _?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(_c,{className:"h-6 w-6 text-primary"}),r.jsx("h1",{className:"text-3xl font-bold",children:"Matchups"})]}),r.jsx(X,{children:r.jsxs(te,{className:"py-8 text-center",children:[r.jsx(Xe,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-primary"}),r.jsx("p",{children:"Loading matchup data..."})]})})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(_c,{className:"h-6 w-6 text-primary"}),r.jsx("h1",{className:"text-3xl font-bold",children:"Matchups (Enhanced)"})]}),r.jsxs("p",{className:"text-muted-foreground",children:[t," Season  Week ",o,"  ",n?((k=O==null?void 0:O.conferences.find(C=>C.id===n))==null?void 0:k.name)||"Selected Conference":"All Conferences"]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs(vt,{value:o.toString(),onValueChange:C=>l(parseInt(C)),children:[r.jsx(dt,{className:"w-32",children:r.jsx(wt,{})}),r.jsx(ut,{children:Array.from({length:18},(C,T)=>T+1).map(C=>r.jsx(ke,{value:C.toString(),children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("span",{children:["Week ",C]}),C===c&&r.jsx(ae,{variant:"outline",className:"text-xs",children:"Current"})]})},C))})]}),o===c&&r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[r.jsx(or,{className:"h-4 w-4"}),r.jsx("span",{children:"Current week"})]})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>{Zn.clearAll(),B()},disabled:P,children:[r.jsx(Xe,{className:`h-4 w-4 ${P?"animate-spin":""}`}),"Refresh"]}),r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[r.jsx(Gt,{className:"h-4 w-4"}),r.jsxs("span",{children:[m.length," matchups"]})]})]})]}),E.length>0&&r.jsxs(X,{className:"border-l-4 border-l-red-500",children:[r.jsx(ce,{className:"pb-2",children:r.jsxs(de,{className:"text-sm flex items-center space-x-2",children:[r.jsx(We,{className:"h-4 w-4 text-red-500"}),r.jsxs("span",{children:["API Errors (",E.length,")"]})]})}),r.jsx(te,{children:r.jsx("div",{className:"space-y-1",children:E.map((C,T)=>r.jsx("div",{className:"text-sm text-red-600 bg-red-50 p-2 rounded",children:C},T))})})]}),r.jsxs("div",{className:"grid gap-3",children:[S.map(C=>r.jsx(_E,{matchup:C,isExpanded:u.has(C.id),onToggleExpand:q,detailedData:j.get(C.id),allPlayers:p,loading:w.has(C.id)},C.id)),m.length===0&&r.jsx(X,{children:r.jsxs(te,{className:"py-8 text-center",children:[r.jsx(We,{className:"h-8 w-8 mx-auto mb-4 text-muted-foreground"}),r.jsx("p",{className:"text-muted-foreground",children:"No matchups found for the selected filters."})]})})]})]})},It=h.forwardRef(({className:e,type:t,...n},s)=>r.jsx("input",{type:t,className:ye("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...n}));It.displayName="Input";var bE={exports:{}},SE={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qo=h;function Z5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var e6=typeof Object.is=="function"?Object.is:Z5,t6=qo.useState,n6=qo.useEffect,s6=qo.useLayoutEffect,r6=qo.useDebugValue;function a6(e,t){var n=t(),s=t6({inst:{value:n,getSnapshot:t}}),a=s[0].inst,i=s[1];return s6(function(){a.value=n,a.getSnapshot=t,wm(a)&&i({inst:a})},[e,n,t]),n6(function(){return wm(a)&&i({inst:a}),e(function(){wm(a)&&i({inst:a})})},[e]),r6(n),n}function wm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!e6(e,n)}catch{return!0}}function i6(e,t){return t()}var o6=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?i6:a6;SE.useSyncExternalStore=qo.useSyncExternalStore!==void 0?qo.useSyncExternalStore:o6;bE.exports=SE;var l6=bE.exports;function c6(){return l6.useSyncExternalStore(d6,()=>!0,()=>!1)}function d6(){return()=>{}}var _y="Avatar",[u6,cH]=ls(_y),[f6,NE]=u6(_y),CE=h.forwardRef((e,t)=>{const{__scopeAvatar:n,...s}=e,[a,i]=h.useState("idle");return r.jsx(f6,{scope:n,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:r.jsx(we.span,{...s,ref:t})})});CE.displayName=_y;var EE="AvatarImage",TE=h.forwardRef((e,t)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:a=()=>{},...i}=e,o=NE(EE,n),l=h6(s,i),c=as(d=>{a(d),o.onImageLoadingStatusChange(d)});return Ft(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?r.jsx(we.img,{...i,ref:t,src:s}):null});TE.displayName=EE;var kE="AvatarFallback",PE=h.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:s,...a}=e,i=NE(kE,n),[o,l]=h.useState(s===void 0);return h.useEffect(()=>{if(s!==void 0){const c=window.setTimeout(()=>l(!0),s);return()=>window.clearTimeout(c)}},[s]),o&&i.imageLoadingStatus!=="loaded"?r.jsx(we.span,{...a,ref:t}):null});PE.displayName=kE;function I0(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function h6(e,{referrerPolicy:t,crossOrigin:n}){const s=c6(),a=h.useRef(null),i=s?(a.current||(a.current=new window.Image),a.current):null,[o,l]=h.useState(()=>I0(i,e));return Ft(()=>{l(I0(i,e))},[i,e]),Ft(()=>{const c=f=>()=>{l(f)};if(!i)return;const d=c("loaded"),u=c("error");return i.addEventListener("load",d),i.addEventListener("error",u),t&&(i.referrerPolicy=t),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",d),i.removeEventListener("error",u)}},[i,n,t]),o}var RE=CE,AE=TE,$E=PE;const by=h.forwardRef(({className:e,...t},n)=>r.jsx(RE,{ref:n,className:ye("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));by.displayName=RE.displayName;const Sy=h.forwardRef(({className:e,...t},n)=>r.jsx(AE,{ref:n,className:ye("aspect-square h-full w-full",e),...t}));Sy.displayName=AE.displayName;const Ny=h.forwardRef(({className:e,...t},n)=>r.jsx($E,{ref:n,className:ye("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Ny.displayName=$E.displayName;const m6=()=>{var x;const{selectedSeason:e,selectedConference:t,currentSeasonConfig:n}=Fn(),{toast:s}=gn(),[a,i]=h.useState(""),[o,l]=h.useState([]),[c,d]=h.useState(!0),[u,f]=h.useState(null),m=async()=>{var p;d(!0),f(null);try{console.log("Fetching teams data for season:",e);const v=t?n.conferences.filter(O=>O.id===t):n.conferences;console.log("Conferences to fetch:",v);const{data:_,error:b}=await window.ezsite.apis.tablePage("12852",{PageNo:1,PageSize:100,OrderByField:"team_name",IsAsc:!0,Filters:[]});if(b)throw new Error(b);const P=(_==null?void 0:_.List)||[];console.log("Database teams:",P);const{data:N,error:E}=await window.ezsite.apis.tablePage("12820",{PageNo:1,PageSize:50,OrderByField:"conference_name",IsAsc:!0,Filters:[]});if(E)throw new Error(E);const R=(N==null?void 0:N.List)||[];console.log("Database conferences:",R);const M=[];for(const O of v)try{console.log(`Fetching roster data for league: ${O.leagueId}`);const L=await fetch(`https://api.sleeper.app/v1/league/${O.leagueId}/rosters`);if(!L.ok){console.warn(`Failed to fetch roster data for league ${O.leagueId}:`,L.statusText);continue}const B=await L.json();console.log(`Roster data for ${O.name}:`,B),M.push(...B.map(K=>({...K,league_id:O.leagueId})))}catch(L){console.warn(`Error fetching roster data for league ${O.leagueId}:`,L)}console.log("All roster data:",M);const U=[];for(const O of P){const L=M.find(B=>B.owner_id===O.owner_id);if(L){const B=v.find(F=>F.leagueId===L.league_id),K=y(L.settings.wins,L.settings.losses);U.push({id:O.id.toString(),teamName:O.team_name,ownerName:O.owner_name,coOwnerName:O.co_owner_name||void 0,ownerAvatar:O.team_logo_url||null,conference:(B==null?void 0:B.name)||"Unknown Conference",record:{wins:L.settings.wins,losses:L.settings.losses,ties:L.settings.ties},pointsFor:L.settings.fpts+L.settings.fpts_decimal/100,pointsAgainst:L.settings.fpts_against+L.settings.fpts_against_decimal/100,rank:0,streak:K,rosterCount:((p=L.players)==null?void 0:p.length)||0,waiversCount:L.settings.total_moves||0,tradesCount:0,rosterId:L.roster_id,leagueId:L.league_id})}else console.warn(`No matching roster found for team: ${O.team_name} (owner_id: ${O.owner_id})`)}U.sort((O,L)=>O.record.wins!==L.record.wins?L.record.wins-O.record.wins:L.pointsFor-O.pointsFor),U.forEach((O,L)=>{O.rank=L+1}),console.log("Final combined teams data:",U),l(U)}catch(v){console.error("Error fetching teams data:",v),f(v instanceof Error?v.message:"Failed to load teams data"),s({title:"Error Loading Teams",description:"Failed to load team data. Please try again.",variant:"destructive"})}finally{d(!1)}},y=(p,v)=>p>v?`W${Math.min(p-v,5)}`:v>p?`L${Math.min(v-p,5)}`:"T1";h.useEffect(()=>{m()},[e,t]);const j=o.filter(p=>a===""||p.teamName.toLowerCase().includes(a.toLowerCase())||p.ownerName.toLowerCase().includes(a.toLowerCase())||p.coOwnerName&&p.coOwnerName.toLowerCase().includes(a.toLowerCase())),g=(p,v)=>{const _=p/(p+v);return _>=.7?"default":_>=.5?"secondary":"destructive"},w=p=>p.startsWith("W")?"text-green-600":p.startsWith("L")?"text-red-600":"text-muted-foreground";return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Gt,{className:"h-6 w-6 text-primary"}),r.jsx("h1",{className:"text-3xl font-bold",children:"Teams"})]}),r.jsxs("p",{className:"text-muted-foreground",children:[e," Season  ",t?(x=n.conferences.find(p=>p.id===t))==null?void 0:x.name:"All Conferences","  ",j.length," teams"]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("div",{className:"relative flex-1 max-w-md",children:[r.jsx(Ux,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(It,{placeholder:"Search teams or owners...",value:a,onChange:p=>i(p.target.value),className:"pl-10"})]}),r.jsx(ee,{variant:"outline",onClick:()=>i(""),children:"Clear"}),r.jsxs(ee,{variant:"outline",onClick:m,disabled:c,children:[r.jsx(Xe,{className:`h-4 w-4 mr-2 ${c?"animate-spin":""}`}),"Refresh"]})]}),c&&r.jsx(X,{children:r.jsxs(te,{className:"py-12 text-center",children:[r.jsx(Xe,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4 animate-spin"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Loading Teams"}),r.jsx("p",{className:"text-muted-foreground",children:"Fetching team data from Sleeper API..."})]})}),u&&!c&&r.jsx(X,{children:r.jsxs(te,{className:"py-12 text-center",children:[r.jsx(We,{className:"h-12 w-12 mx-auto text-destructive mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Error Loading Teams"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:u}),r.jsxs(ee,{onClick:m,children:[r.jsx(Xe,{className:"h-4 w-4 mr-2"}),"Try Again"]})]})}),!c&&!u&&r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.map(p=>r.jsxs(X,{className:"hover:shadow-lg transition-shadow",children:[r.jsx(ce,{className:"pb-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs(by,{className:"h-12 w-12",children:[r.jsx(Sy,{src:p.ownerAvatar||void 0}),r.jsx(Ny,{className:"bg-primary/10",children:p.ownerName.split(" ").map(v=>v[0]).join("").toUpperCase()})]}),r.jsxs("div",{children:[r.jsx(de,{className:"text-lg leading-tight",children:p.teamName}),r.jsxs(je,{children:[p.ownerName,p.coOwnerName&&` & ${p.coOwnerName}`]})]})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[p.rank<=3&&r.jsx(bt,{className:"h-4 w-4 text-yellow-500"}),r.jsxs("span",{className:"text-sm font-semibold",children:["#",p.rank]})]})]})}),r.jsxs(te,{className:"space-y-4",children:[r.jsx(ae,{variant:"outline",className:"text-xs",children:p.conference}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Record"}),r.jsxs(ae,{variant:g(p.record.wins,p.record.losses),children:[p.record.wins,"-",p.record.losses,p.record.ties>0&&`-${p.record.ties}`]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Streak"}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(zo,{className:`h-4 w-4 ${w(p.streak)}`}),r.jsx("span",{className:`font-semibold ${w(p.streak)}`,children:p.streak})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"Points For"}),r.jsx("p",{className:"font-semibold",children:p.pointsFor.toFixed(1)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"Points Against"}),r.jsx("p",{className:"font-semibold",children:p.pointsAgainst.toFixed(1)})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs text-muted-foreground",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"font-medium",children:p.rosterCount}),r.jsx("p",{children:"Roster"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"font-medium",children:p.waiversCount}),r.jsx("p",{children:"Moves"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("p",{className:"font-medium",children:["#",p.rosterId]}),r.jsx("p",{children:"Roster ID"})]})]}),r.jsx(Ut,{to:`/teams/${p.id}`,className:"w-full",children:r.jsxs(ee,{variant:"outline",className:"w-full",children:[r.jsx(Qc,{className:"mr-2 h-4 w-4"}),"View Team Details"]})})]})]},p.id))}),!c&&!u&&j.length===0&&r.jsx(X,{children:r.jsxs(te,{className:"py-12 text-center",children:[r.jsx(Gt,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No teams found"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:"No teams match your current search criteria."}),r.jsx(ee,{variant:"outline",onClick:()=>i(""),children:"Clear Search"})]})}),!c&&!u&&j.length>0&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(X,{children:r.jsxs(ce,{className:"pb-2",children:[r.jsx(je,{children:"Average Points For"}),r.jsx(de,{className:"text-2xl",children:(j.reduce((p,v)=>p+v.pointsFor,0)/j.length).toFixed(1)})]})}),r.jsx(X,{children:r.jsxs(ce,{className:"pb-2",children:[r.jsx(je,{children:"Most Active Team"}),r.jsx(de,{className:"text-lg",children:j.reduce((p,v)=>p.waiversCount>v.waiversCount?p:v).teamName})]})}),r.jsx(X,{children:r.jsxs(ce,{className:"pb-2",children:[r.jsx(je,{children:"Total Moves"}),r.jsx(de,{className:"text-2xl",children:j.reduce((p,v)=>p+v.waiversCount,0)})]})})]})]})};var jm="rovingFocusGroup.onEntryFocus",p6={bubbles:!1,cancelable:!0},nd="RovingFocusGroup",[hg,DE,g6]=Lx(nd),[x6,ME]=ls(nd,[g6]),[y6,v6]=x6(nd),LE=h.forwardRef((e,t)=>r.jsx(hg.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(hg.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(w6,{...e,ref:t})})}));LE.displayName=nd;var w6=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...f}=e,m=h.useRef(null),y=Ye(t,m),j=py(i),[g,w]=Fr({prop:o,defaultProp:l??null,onChange:c,caller:nd}),[x,p]=h.useState(!1),v=as(d),_=DE(n),b=h.useRef(!1),[P,N]=h.useState(0);return h.useEffect(()=>{const E=m.current;if(E)return E.addEventListener(jm,v),()=>E.removeEventListener(jm,v)},[v]),r.jsx(y6,{scope:n,orientation:s,dir:j,loop:a,currentTabStopId:g,onItemFocus:h.useCallback(E=>w(E),[w]),onItemShiftTab:h.useCallback(()=>p(!0),[]),onFocusableItemAdd:h.useCallback(()=>N(E=>E+1),[]),onFocusableItemRemove:h.useCallback(()=>N(E=>E-1),[]),children:r.jsx(we.div,{tabIndex:x||P===0?-1:0,"data-orientation":s,...f,ref:y,style:{outline:"none",...e.style},onMouseDown:ve(e.onMouseDown,()=>{b.current=!0}),onFocus:ve(e.onFocus,E=>{const R=!b.current;if(E.target===E.currentTarget&&R&&!x){const M=new CustomEvent(jm,p6);if(E.currentTarget.dispatchEvent(M),!M.defaultPrevented){const U=_().filter(F=>F.focusable),O=U.find(F=>F.active),L=U.find(F=>F.id===g),K=[O,L,...U].filter(Boolean).map(F=>F.ref.current);FE(K,u)}}b.current=!1}),onBlur:ve(e.onBlur,()=>p(!1))})})}),IE="RovingFocusGroupItem",OE=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=Dr(),d=i||c,u=v6(IE,n),f=u.currentTabStopId===d,m=DE(n),{onFocusableItemAdd:y,onFocusableItemRemove:j,currentTabStopId:g}=u;return h.useEffect(()=>{if(s)return y(),()=>j()},[s,y,j]),r.jsx(hg.ItemSlot,{scope:n,id:d,focusable:s,active:a,children:r.jsx(we.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...l,ref:t,onMouseDown:ve(e.onMouseDown,w=>{s?u.onItemFocus(d):w.preventDefault()}),onFocus:ve(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:ve(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){u.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const x=b6(w,u.orientation,u.dir);if(x!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let v=m().filter(_=>_.focusable).map(_=>_.ref.current);if(x==="last")v.reverse();else if(x==="prev"||x==="next"){x==="prev"&&v.reverse();const _=v.indexOf(w.currentTarget);v=u.loop?S6(v,_+1):v.slice(_+1)}setTimeout(()=>FE(v))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:g!=null}):o})})});OE.displayName=IE;var j6={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function _6(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function b6(e,t,n){const s=_6(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return j6[s]}function FE(e,t=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:t}),document.activeElement!==n))return}function S6(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var N6=LE,C6=OE,ah="Tabs",[E6,dH]=ls(ah,[ME]),BE=ME(),[T6,Cy]=E6(ah),UE=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=py(l),[f,m]=Fr({prop:s,onChange:a,defaultProp:i??"",caller:ah});return r.jsx(T6,{scope:n,baseId:Dr(),value:f,onValueChange:m,orientation:o,dir:u,activationMode:c,children:r.jsx(we.div,{dir:u,"data-orientation":o,...d,ref:t})})});UE.displayName=ah;var zE="TabsList",VE=h.forwardRef((e,t)=>{const{__scopeTabs:n,loop:s=!0,...a}=e,i=Cy(zE,n),o=BE(n);return r.jsx(N6,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:s,children:r.jsx(we.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});VE.displayName=zE;var WE="TabsTrigger",HE=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,disabled:a=!1,...i}=e,o=Cy(WE,n),l=BE(n),c=GE(o.baseId,s),d=YE(o.baseId,s),u=s===o.value;return r.jsx(C6,{asChild:!0,...l,focusable:!a,active:u,children:r.jsx(we.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:ve(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(s):f.preventDefault()}),onKeyDown:ve(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(s)}),onFocus:ve(e.onFocus,()=>{const f=o.activationMode!=="manual";!u&&!a&&f&&o.onValueChange(s)})})})});HE.displayName=WE;var qE="TabsContent",KE=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,forceMount:a,children:i,...o}=e,l=Cy(qE,n),c=GE(l.baseId,s),d=YE(l.baseId,s),u=s===l.value,f=h.useRef(u);return h.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),r.jsx(vr,{present:a||u,children:({present:m})=>r.jsx(we.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&i})})});KE.displayName=qE;function GE(e,t){return`${e}-trigger-${t}`}function YE(e,t){return`${e}-content-${t}`}var k6=UE,QE=VE,XE=HE,JE=KE;const Kr=k6,jr=h.forwardRef(({className:e,...t},n)=>r.jsx(QE,{ref:n,className:ye("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));jr.displayName=QE.displayName;const Fe=h.forwardRef(({className:e,...t},n)=>r.jsx(XE,{ref:n,className:ye("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));Fe.displayName=XE.displayName;const Be=h.forwardRef(({className:e,...t},n)=>r.jsx(JE,{ref:n,className:ye("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Be.displayName=JE.displayName;const ZE=({transaction:e})=>{const t=()=>{switch(e.type){case"trade":return r.jsx(u$,{className:"h-4 w-4"});case"free_agent":return r.jsx(Uu,{className:"h-4 w-4"});case"waiver":return r.jsx(zo,{className:"h-4 w-4"});default:return r.jsx(wc,{className:"h-4 w-4"})}},n=()=>{switch(e.type){case"trade":return"bg-blue-100 text-blue-800";case"free_agent":return"bg-green-100 text-green-800";case"waiver":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},s=()=>{switch(e.status){case"complete":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},a=o=>new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}).format(o),i=o=>{switch(o){case"free_agent":return"Free Agent";case"waiver":return"Waiver";case"trade":return"Trade";default:return o.charAt(0).toUpperCase()+o.slice(1)}};return r.jsxs(X,{className:"mb-4 hover:shadow-md transition-shadow",children:[r.jsx(ce,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:`p-2 rounded-full ${n()}`,children:t()}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ae,{className:n(),children:i(e.type)}),r.jsxs(ae,{variant:"outline",children:["Week ",e.week]}),r.jsx(ae,{className:s(),children:e.status})]}),r.jsxs("div",{className:"flex items-center space-x-1 mt-1 text-sm text-muted-foreground",children:[r.jsx(ns,{className:"h-3 w-3"}),r.jsx("span",{children:a(e.date)})]})]})]}),e.waiverBid&&r.jsxs("div",{className:"flex items-center space-x-1 text-sm text-muted-foreground",children:[r.jsx(Op,{className:"h-3 w-3"}),r.jsxs("span",{children:["$",e.waiverBid]})]})]})}),r.jsx(te,{className:"pt-0",children:r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{children:r.jsx("p",{className:"text-sm font-medium text-foreground",children:e.details})}),e.teams.length>0&&r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Teams:"}),r.jsx("div",{className:"flex flex-wrap gap-1",children:e.teams.map((o,l)=>r.jsx(ae,{variant:"secondary",className:"text-xs",children:o},l))})]}),(e.players.added.length>0||e.players.dropped.length>0)&&r.jsxs("div",{className:"space-y-2",children:[e.players.added.length>0&&r.jsxs("div",{children:[r.jsxs("p",{className:"text-xs text-muted-foreground mb-1 flex items-center",children:[r.jsx(Uu,{className:"h-3 w-3 mr-1 text-green-600"}),"Added:"]}),r.jsx("div",{className:"space-y-1",children:e.players.added.map((o,l)=>r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"font-medium",children:o.name}),r.jsxs(ae,{variant:"outline",className:"text-xs",children:["to ",o.team]})]},l))})]}),e.players.dropped.length>0&&r.jsxs("div",{children:[r.jsxs("p",{className:"text-xs text-muted-foreground mb-1 flex items-center",children:[r.jsx(eD,{className:"h-3 w-3 mr-1 text-red-600"}),"Dropped:"]}),r.jsx("div",{className:"space-y-1",children:e.players.dropped.map((o,l)=>r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"font-medium",children:o.name}),r.jsxs(ae,{variant:"outline",className:"text-xs",children:["from ",o.team]})]},l))})]})]}),e.draftPicks.length>0&&r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Draft Picks:"}),r.jsx("div",{className:"space-y-1",children:e.draftPicks.map((o,l)=>r.jsxs("div",{className:"text-sm",children:[r.jsxs("span",{className:"font-medium",children:[o.season," Round ",o.round]}),r.jsxs("span",{className:"text-muted-foreground ml-2",children:["(Roster ",o.previous_owner_id,"  Roster ",o.owner_id,")"]})]},l))})]}),e.waiverBudget.length>0&&r.jsxs("div",{children:[r.jsxs("p",{className:"text-xs text-muted-foreground mb-1 flex items-center",children:[r.jsx(Op,{className:"h-3 w-3 mr-1"}),"FAAB Transfers:"]}),r.jsx("div",{className:"space-y-1",children:e.waiverBudget.map((o,l)=>r.jsxs("div",{className:"text-sm",children:[r.jsxs("span",{className:"font-medium",children:["$",o.amount]}),r.jsxs("span",{className:"text-muted-foreground ml-2",children:["(Roster ",o.sender,"  Roster ",o.receiver,")"]})]},l))})]}),e.notes&&r.jsxs(r.Fragment,{children:[r.jsx(yy,{}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Notes:"}),r.jsx("p",{className:"text-sm italic text-muted-foreground",children:e.notes})]})]})]})})]})},P6=()=>{const{teamId:e}=S1(),{selectedSeason:t,currentSeasonConfig:n}=Fn(),[s,a]=h.useState("roster"),[i,o]=h.useState(null),[l,c]=h.useState([]),[d,u]=h.useState(!1),[f,m]=h.useState([]),[y,j]=h.useState(!1),[g,w]=h.useState(null),[x,p]=h.useState(!0),[v,_]=h.useState(null),{toast:b}=gn();h.useEffect(()=>{e&&n&&P(parseInt(e))},[e,n]),h.useEffect(()=>{s==="transactions"&&i&&l.length===0&&N()},[s,i]),h.useEffect(()=>{s==="schedule"&&i&&f.length===0&&E()},[s,i,t]),h.useEffect(()=>{(s==="schedule"||s==="performance")&&i&&!g&&R()},[s,i,t]),h.useEffect(()=>{f.length>0&&m([]),g&&w(null)},[t]);const P=async A=>{try{p(!0),_(null),console.log(`Fetching data for team ID: ${A}`);const $=await ne.getTeams({filters:[{column:"id",operator:"eq",value:A}]});if($.error||!$.data||$.data.length===0)throw new Error("Team not found");const H=$.data[0];console.log("Team data:",H);const W=await ne.getTeamConferenceJunctions({filters:[{column:"team_id",operator:"eq",value:A}]});if(W.error||!W.data||W.data.length===0)throw new Error("Team conference mapping not found");const z=W.data[0],I=z.roster_id;console.log("Junction data:",z,"Roster ID:",I),console.log("All junctions for this team:",W.data);const Z=await ne.getConferences({filters:[{column:"id",operator:"eq",value:z.conference_id}]});if(Z.error||!Z.data||Z.data.length===0)throw new Error("Conference not found");const G=Z.data[0];console.log("Conference data:",G),console.log(`Fetching Sleeper data for league ${G.league_id}, roster ${I}`);const Y=await Ve.getTeamRosterData(G.league_id,I);o({...Y,teamData:H,conferenceData:G}),console.log("Successfully loaded team roster data")}catch($){console.error("Error fetching team data:",$);const H=$ instanceof Error?$.message:"Failed to load team data";_(H),b({title:"Error",description:H,variant:"destructive"})}finally{p(!1)}},N=async()=>{if(i)try{u(!0),console.log(`Fetching transactions for team ${i.teamData.team_name} across all conferences`);const A=await ne.getTeamConferenceJunctions({filters:[{column:"team_id",operator:"eq",value:i.teamData.id}]});if(A.error||!A.data||A.data.length===0)throw new Error("Team conference mappings not found");const $=A.data.map(Q=>Q.conference_id);console.log(`Team participates in conferences: ${$.join(", ")}`);const H=await ne.getTransactions({filters:[{column:"conference_id",operator:"in",value:$}],orderBy:{column:"created_at",ascending:!1}});if(H.error||!H.data)throw new Error(H.error||"Failed to fetch transactions");const W=await ne.getTeams({}),z=await ne.getTeamConferenceJunctions({filters:[{column:"conference_id",operator:"in",value:$}]}),I=await ne.getAllPlayersForMapping(),Z=new Map;I.forEach(Q=>{Q.sleeper_id&&Z.set(String(Q.sleeper_id),Q.player_name)});const Y=(await Promise.all(H.data.map(async Q=>{var st,tt,ft;let le={};try{le=typeof Q.data=="string"?JSON.parse(Q.data):Q.data||{}}catch(me){console.warn("Failed to parse transaction data:",me)}const fe=i.teamData.id,ge=Q.conference_id,Me=le.roster_ids||[],qe=(st=A.data)==null?void 0:st.find(me=>me.team_id===fe&&me.conference_id===ge);if(!qe||!Me.includes(qe.roster_id))return null;const Dt=me=>{var at;const $e=(at=z.data)==null?void 0:at.find(it=>it.roster_id.toString()===me.toString()&&it.conference_id===Q.conference_id);if($e&&W.data){const it=W.data.find(ot=>ot.id===$e.team_id);return(it==null?void 0:it.team_name)||"Unknown Team"}return"Unknown Team"},ue=[],_e=[],sn=me=>{const $e=String(me);return Z.get($e)||`Player ${$e}`};if(le.adds)for(const[me,$e]of Object.entries(le.adds)){const at=sn(me),it=Dt($e);ue.push({name:at,team:it})}if(le.drops)for(const[me,$e]of Object.entries(le.drops)){const at=sn(me),it=Dt($e);_e.push({name:at,team:it})}let Ke="";const cs=le.type||Q.type,Zs=new Set;le.roster_ids&&le.roster_ids.forEach(me=>{const $e=Dt(me);$e!=="Unknown Team"&&Zs.add($e)});const rn=i.teamData.team_name,ie=((ft=(tt=(await ne.getConferences({filters:[{column:"id",operator:"eq",value:Q.conference_id}]})).data)==null?void 0:tt[0])==null?void 0:ft.conference_name)||"Unknown Conference";switch(cs){case"trade":if(ue.length>0||_e.length>0){const me=[];ue.forEach($e=>me.push(`${$e.name} to ${$e.team}`)),_e.forEach($e=>me.push(`${$e.name} from ${$e.team}`)),Zs.size>1?Ke=`[${ie}] Trade between ${Array.from(Zs).join(" and ")}: ${me.join(", ")}`:Ke=`[${ie}] ${rn} trade: ${me.join(", ")}`}else if(le.draft_picks&&le.draft_picks.length>0){const me=le.draft_picks.map($e=>`${$e.season} Round ${$e.round} pick`);Ke=`[${ie}] Trade involving ${me.join(", ")}`}else Ke=`[${ie}] Trade between ${Array.from(Zs).join(" and ")}`;break;case"waiver":ue.length>0&&_e.length>0?Ke=`[${ie}] ${rn} claimed ${ue.map(me=>me.name).join(", ")} from waivers, dropped ${_e.map(me=>me.name).join(", ")}`:ue.length>0?Ke=`[${ie}] ${rn} claimed ${ue.map(me=>me.name).join(", ")} from waivers`:_e.length>0?Ke=`[${ie}] ${rn} dropped ${_e.map(me=>me.name).join(", ")} to waivers`:Ke=`[${ie}] ${rn} made a waiver claim`;break;case"free_agent":ue.length>0&&_e.length>0?Ke=`[${ie}] ${rn} added ${ue.map(me=>me.name).join(", ")}, dropped ${_e.map(me=>me.name).join(", ")}`:ue.length>0?Ke=`[${ie}] ${rn} added ${ue.map(me=>me.name).join(", ")} from free agency`:_e.length>0?Ke=`[${ie}] ${rn} dropped ${_e.map(me=>me.name).join(", ")}`:Ke=`[${ie}] ${rn} made a free agent transaction`;break;default:Ke=`[${ie}] ${rn} completed a ${cs||"transaction"}`}const Je=le.type==="trade"?"trade":le.type==="waiver"?"waiver":le.type==="free_agent"?"free_agent":"commissioner";return{id:Q.id.toString(),type:Je,date:new Date(Q.created_at||new Date),details:Ke,teams:[rn],players:{added:ue.map(me=>({id:"",name:me.name,team:me.team})),dropped:_e.map(me=>({id:"",name:me.name,team:me.team}))},week:le.leg||0,status:"completed",rosterIds:le.roster_ids||[],draftPicks:le.draft_picks||[],waiverBudget:le.waiver_budget||[]}}))).filter(Q=>Q!==null);c(Y),console.log(`Loaded ${Y.length} transactions for this team across all conferences`),b({title:"Transactions Loaded",description:`Found ${Y.length} transactions for this team across all seasons`})}catch(A){console.error("Error fetching transactions:",A);const $=A instanceof Error?A.message:"Failed to load transactions";b({title:"Error Loading Transactions",description:$,variant:"destructive"})}finally{u(!1)}},E=async()=>{var A,$,H;if(!(!i||!n))try{j(!0),console.log(`Fetching schedule for team ${i.teamData.team_name} for season ${t}`);const W=n.conferences.filter(ie=>ie.dbConferenceId);if(W.length===0){console.log("No conferences found for selected season"),m([]);return}const z=await ne.getTeamConferenceJunctions({filters:[{column:"team_id",operator:"eq",value:i.teamData.id}]});if(z.error||!z.data)throw new Error("Failed to get team conference mappings");const I=W.map(ie=>ie.dbConferenceId),Z=z.data.find(ie=>I.includes(ie.conference_id));if(!Z){console.log(`Team not found in any conference for season ${t}`),m([]);return}const G=await ne.getTeams({}),Y=new Map;G.data&&G.data.forEach(ie=>{Y.set(ie.id,ie.team_name)});const Q=await ne.getSeasons({filters:[{column:"season_year",operator:"eq",value:t}]});if(Q.error||!Q.data||Q.data.length===0)throw new Error("Season not found");const le=Q.data[0].id,ge=((A=(await ne.getConferences({filters:[{column:"season_id",operator:"eq",value:le}]})).data)==null?void 0:A.map(ie=>ie.id))||[],Me=await ne.getMatchups({filters:[{column:"conference_id",operator:"eq",value:Z.conference_id},{column:"week",operator:"lte",value:12}],orderBy:{column:"week",ascending:!0}}),qe=new Set;($=Me.data)==null||$.forEach(ie=>{ie.manual_override&&qe.add(ie.week)});let Dt=[];qe.size>0&&(console.log(`Found manual override weeks: ${Array.from(qe).join(", ")}`),Dt=(await ne.getMatchups({filters:[{column:"conference_id",operator:"in",value:ge},{column:"week",operator:"in",value:Array.from(qe)}],orderBy:{column:"week",ascending:!0}})).data||[],console.log(`Found ${Dt.length} cross-conference matchups for manual override weeks`));const ue=await ne.getMatchupAdminOverrides({filters:[{column:"conference_id",operator:"eq",value:Z.conference_id},{column:"is_active",operator:"eq",value:!0}]}),_e=[];(Me.data||[]).filter(ie=>!ie.manual_override).forEach(ie=>{var $e;const Je=($e=ue.data)==null?void 0:$e.find(at=>at.conference_id===ie.conference_id&&at.week===parseInt(ie.week)&&at.is_active);let st,tt,ft=!1,me=null;if(Je?(st=Je.override_team1_id,tt=Je.override_team2_id,ft=!0,me=Je.override_reason,console.log(`Week ${ie.week}: Using admin override - teams ${st} vs ${tt}`)):(st=ie.team1_id,tt=ie.team2_id),st===i.teamData.id||tt===i.teamData.id){const at=st===i.teamData.id,it=at?tt:st,ot=Y.get(it)||"Unknown Team";let Gr="TBD",Ps=null,_r=null;ie.team1_score!==null&&ie.team2_score!==null&&(at?(Ps=ie.team1_score,_r=ie.team2_score):(Ps=ie.team2_score,_r=ie.team1_score),Ps>_r?Gr="W":Ps<_r?Gr="L":Gr="T"),_e.push({week:ie.week,opponent:ot,isHome:at,result:Gr,teamScore:Ps,opponentScore:_r,isPlayoff:!1,isOverridden:ft,overrideReason:me,matchupStatus:ie.matchup_status||"scheduled",playoffRoundName:null})}}),Dt.forEach(ie=>{const Je=ie.team1_id,st=ie.team2_id;if(Je===i.teamData.id||st===i.teamData.id){console.log(`Week ${ie.week}: Found cross-conference manual override matchup - teams ${Je} vs ${st}`);const tt=Je===i.teamData.id,ft=tt?st:Je,me=Y.get(ft)||"Unknown Team";let $e="TBD",at=null,it=null;ie.team1_score!==null&&ie.team2_score!==null&&(tt?(at=ie.team1_score,it=ie.team2_score):(at=ie.team2_score,it=ie.team1_score),at>it?$e="W":at<it?$e="L":$e="T"),_e.push({week:ie.week,opponent:me,isHome:tt,result:$e,teamScore:at,opponentScore:it,isPlayoff:!1,isOverridden:!0,overrideReason:"Interconference",matchupStatus:ie.matchup_status||"scheduled",playoffRoundName:null})}});const cs=((H=(await ne.getPlayoffBrackets({filters:[{column:"season_id",operator:"eq",value:le}],orderBy:{column:"week",ascending:!0}})).data)==null?void 0:H.filter(ie=>ie.team1_id===i.teamData.id||ie.team2_id===i.teamData.id))||[],Zs=ie=>{switch(ie){case 13:return"Conference Championship";case 14:return"Wildcard";case 15:return"Quarterfinals";case 16:return"Semifinals";case 17:return"Colosseum Championship";default:return`Playoff Week ${ie}`}},rn=cs.map(ie=>{let Je="Unknown Team",st=!0;if(ie.is_bye&&ie.week===14)Je="BYE",st=ie.team1_id===i.teamData.id;else{st=ie.team1_id===i.teamData.id;const $e=st?ie.team2_id:ie.team1_id;Je=Y.get($e)||"Unknown Team"}let tt="TBD",ft=null,me=null;return ie.is_bye&&ie.week===14?(tt="W",ft=null,me=null):ie.team1_score!==null&&ie.team2_score!==null&&(st?(ft=ie.team1_score,me=ie.team2_score):(ft=ie.team2_score,me=ie.team1_score),ft>me?tt="W":ft<me?tt="L":tt="T"),{week:ie.week.toString(),opponent:Je,isHome:st,result:tt,teamScore:ft,opponentScore:me,isPlayoff:!0,isOverridden:!1,overrideReason:null,matchupStatus:ie.winning_team_id?"completed":"scheduled",playoffRoundName:Zs(ie.week)}});_e.sort((ie,Je)=>parseInt(ie.week)-parseInt(Je.week));const Wa=[..._e,...rn];m(Wa),console.log(`Loaded ${Wa.length} matchups for ${t} season (${_e.length} regular season, ${rn.length} playoff)`),b({title:"Schedule Loaded",description:`Found ${Wa.length} matchups for ${t} season`})}catch(W){console.error("Error fetching schedule:",W);const z=W instanceof Error?W.message:"Failed to load schedule";b({title:"Error Loading Schedule",description:z,variant:"destructive"})}finally{j(!1)}},R=async()=>{if(!(!i||!n))try{console.log(`Fetching team record for team ${i.teamData.team_name} for season ${t}`);const A=await ne.getSeasons({filters:[{column:"season_year",operator:"eq",value:t}]});if(A.error||!A.data||A.data.length===0)throw new Error("Season not found");const $=A.data[0].id,H=n.conferences.filter(Q=>Q.dbConferenceId);if(H.length===0){console.log("No conferences found for selected season");return}const W=await ne.getTeamConferenceJunctions({filters:[{column:"team_id",operator:"eq",value:i.teamData.id}]});if(W.error||!W.data)throw new Error("Failed to get team conference mappings");const z=H.map(Q=>Q.dbConferenceId),I=W.data.find(Q=>z.includes(Q.conference_id));if(!I){console.log(`Team not found in any conference for season ${t}`);return}const Z=await ne.getTeamRecords({filters:[{column:"team_id",operator:"eq",value:i.teamData.id},{column:"conference_id",operator:"eq",value:I.conference_id},{column:"season_id",operator:"eq",value:$}]});if(Z.error||!Z.data||Z.data.length===0){console.log("No team record found for this season");return}const G=Z.data[0],Y=await ne.getTeamRecords({filters:[{column:"conference_id",operator:"eq",value:I.conference_id},{column:"season_id",operator:"eq",value:$}]});if(Y.data){const le=Y.data.sort((fe,ge)=>ge.wins!==fe.wins?ge.wins-fe.wins:ge.points_for-fe.points_for).findIndex(fe=>fe.team_id===i.teamData.id)+1;G.rank=le}w(G),console.log("Loaded team record:",G)}catch(A){console.error("Error fetching team record:",A)}},M=A=>{switch(A){case"QB":return"bg-red-100 text-red-800";case"RB":return"bg-green-100 text-green-800";case"WR":return"bg-blue-100 text-blue-800";case"TE":return"bg-yellow-100 text-yellow-800";case"K":return"bg-purple-100 text-purple-800";case"DEF":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},U=A=>{switch(A){case"FLEX":return"bg-orange-100 text-orange-800";case"SUPER_FLEX":return"bg-pink-100 text-pink-800";default:return"bg-slate-100 text-slate-800"}},O=A=>{if(!A||A==="Active")return null;const $={IR:"destructive",Out:"destructive",Doubtful:"destructive",Questionable:"secondary",Probable:"outline"};return r.jsx(ae,{variant:$[A]||"outline",className:"text-xs",children:A})};if(x)return r.jsx("div",{className:"flex items-center justify-center min-h-64",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ct,{className:"h-6 w-6 animate-spin"}),r.jsx("span",{children:"Loading team data..."})]})});if(v||!i)return r.jsxs("div",{className:"space-y-6",children:[r.jsx(Ut,{to:"/teams",children:r.jsxs(ee,{variant:"ghost",className:"mb-4",children:[r.jsx(Hl,{className:"mr-2 h-4 w-4"}),"Back to Teams"]})}),r.jsx(X,{children:r.jsx(te,{className:"flex items-center justify-center min-h-64",children:r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx(We,{className:"h-12 w-12 text-destructive mx-auto"}),r.jsx("h3",{className:"text-lg font-semibold",children:"Error Loading Team"}),r.jsx("p",{className:"text-muted-foreground",children:v||"Team data not available"}),r.jsx(ee,{onClick:()=>e&&P(parseInt(e)),children:"Try Again"})]})})})]});const{roster:L,organizedRoster:B,allPlayers:K,teamData:F,conferenceData:q}=i,S=(g==null?void 0:g.points_for)??Ve.formatPoints(L.settings.fpts,L.settings.fpts_decimal),k=(g==null?void 0:g.points_against)??Ve.formatPoints(L.settings.fpts_against,L.settings.fpts_against_decimal),C=g?g.wins+g.losses+(g.ties||0):L.settings.wins+L.settings.losses+L.settings.ties,T=Ve.calculatePointsPerGame(S,C),D=C>0?((g==null?void 0:g.wins)??L.settings.wins)/C*100:0;return r.jsxs("div",{className:"space-y-6",children:[r.jsx(Ut,{to:"/teams",children:r.jsxs(ee,{variant:"ghost",className:"mb-4",children:[r.jsx(Hl,{className:"mr-2 h-4 w-4"}),"Back to Teams"]})}),r.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between space-y-4 md:space-y-0",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs(by,{className:"h-16 w-16",children:[r.jsx(Sy,{src:F.team_logo_url||void 0}),r.jsx(Ny,{className:"bg-primary/10 text-lg",style:{backgroundColor:F.team_primary_color+"20"},children:F.team_name.split(" ").map(A=>A[0]).join("").toUpperCase()})]}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:F.team_name}),r.jsxs("p",{className:"text-muted-foreground",children:["Owned by ",F.owner_name]}),F.co_owner_name&&r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Co-owner: ",F.co_owner_name]}),r.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[r.jsx(ae,{variant:"outline",children:q.conference_name}),r.jsxs(ae,{variant:"secondary",children:["Roster #",L.roster_id]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"text-2xl font-bold",children:[L.settings.wins,"-",L.settings.losses]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Record"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:S.toFixed(1)}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Points For"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:T.toFixed(1)}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg/Game"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[D.toFixed(1),"%"]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Win %"})]})]})]}),r.jsxs(Kr,{value:s,onValueChange:a,className:"w-full",children:[r.jsxs(jr,{className:"grid w-full grid-cols-4",children:[r.jsx(Fe,{value:"roster",children:"Roster"}),r.jsx(Fe,{value:"performance",children:"Performance"}),r.jsx(Fe,{value:"transactions",children:"Transactions"}),r.jsx(Fe,{value:"schedule",children:"Schedule"})]}),r.jsxs(Be,{value:"roster",className:"space-y-4",children:[r.jsxs(X,{children:[r.jsxs(ce,{children:[r.jsxs(de,{className:"flex items-center space-x-2",children:[r.jsx(yN,{className:"h-5 w-5"}),r.jsx("span",{children:"Starting Lineup"})]}),r.jsx(je,{children:"Current starting players for this roster"})]}),r.jsx(te,{children:r.jsx("div",{className:"rounded-md border",children:r.jsxs(un,{children:[r.jsx(fn,{children:r.jsxs(Te,{children:[r.jsx(oe,{children:"Position"}),r.jsx(oe,{children:"Player"}),r.jsx(oe,{children:"NFL Team"}),r.jsx(oe,{children:"Status"})]})}),r.jsx(hn,{children:B.starters.map((A,$)=>{const H=K[A.playerId];return r.jsxs(Te,{children:[r.jsx(se,{children:r.jsx(ae,{className:U(A.slotPosition),children:A.slotPosition})}),r.jsx(se,{children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"font-medium",children:H?Ve.getPlayerName(H):"Unknown Player"}),H&&r.jsx(ae,{className:M(H.position),children:H.position})]})}),r.jsx(se,{children:(H==null?void 0:H.team)||"N/A"}),r.jsx(se,{children:O(H==null?void 0:H.injury_status)})]},`starter-${$}`)})})]})})})]}),r.jsxs(X,{children:[r.jsxs(ce,{children:[r.jsxs(de,{className:"flex items-center space-x-2",children:[r.jsx(Gt,{className:"h-5 w-5"}),r.jsxs("span",{children:["Bench (",B.bench.length,")"]})]}),r.jsx(je,{children:"Players available as substitutes"})]}),r.jsx(te,{children:r.jsx("div",{className:"rounded-md border",children:r.jsxs(un,{children:[r.jsx(fn,{children:r.jsxs(Te,{children:[r.jsx(oe,{children:"Player"}),r.jsx(oe,{children:"Position"}),r.jsx(oe,{children:"NFL Team"}),r.jsx(oe,{children:"Status"})]})}),r.jsxs(hn,{children:[B.bench.map(A=>{const $=K[A];return r.jsxs(Te,{children:[r.jsx(se,{className:"font-medium",children:$?Ve.getPlayerName($):"Unknown Player"}),r.jsx(se,{children:$&&r.jsx(ae,{className:M($.position),children:$.position})}),r.jsx(se,{children:($==null?void 0:$.team)||"N/A"}),r.jsx(se,{children:O($==null?void 0:$.injury_status)})]},`bench-${A}`)}),B.bench.length===0&&r.jsx(Te,{children:r.jsx(se,{colSpan:4,className:"text-center text-muted-foreground py-4",children:"No bench players"})})]})]})})})]}),B.ir.length>0&&r.jsxs(X,{children:[r.jsxs(ce,{children:[r.jsxs(de,{className:"flex items-center space-x-2",children:[r.jsx(We,{className:"h-5 w-5"}),r.jsxs("span",{children:["Injured Reserve (",B.ir.length,")"]})]}),r.jsx(je,{children:"Players on injured reserve"})]}),r.jsx(te,{children:r.jsx("div",{className:"rounded-md border",children:r.jsxs(un,{children:[r.jsx(fn,{children:r.jsxs(Te,{children:[r.jsx(oe,{children:"Player"}),r.jsx(oe,{children:"Position"}),r.jsx(oe,{children:"NFL Team"}),r.jsx(oe,{children:"Status"})]})}),r.jsx(hn,{children:B.ir.map(A=>{const $=K[A];return r.jsxs(Te,{children:[r.jsx(se,{className:"font-medium",children:$?Ve.getPlayerName($):"Unknown Player"}),r.jsx(se,{children:$&&r.jsx(ae,{className:M($.position),children:$.position})}),r.jsx(se,{children:($==null?void 0:$.team)||"N/A"}),r.jsx(se,{children:r.jsx(ae,{variant:"destructive",className:"text-xs",children:"IR"})})]},`ir-${A}`)})})]})})})]})]}),r.jsx(Be,{value:"performance",className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs(X,{children:[r.jsxs(ce,{children:[r.jsxs(de,{className:"flex items-center space-x-2",children:[r.jsx(bt,{className:"h-5 w-5"}),r.jsxs("span",{children:[t," Season Stats"]})]}),r.jsx(je,{children:g?"Official season statistics from team records":"Statistics from current roster data"})]}),r.jsx(te,{className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Points For"}),r.jsx("p",{className:"text-2xl font-bold",children:S.toFixed(1)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Points Against"}),r.jsx("p",{className:"text-2xl font-bold",children:k.toFixed(1)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Point Differential"}),r.jsxs("p",{className:`text-2xl font-bold ${S-k>0?"text-green-600":"text-red-600"}`,children:[S-k>0?"+":"",(S-k).toFixed(1)]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Win Percentage"}),r.jsxs("p",{className:"text-2xl font-bold",children:[D.toFixed(1),"%"]})]}),g&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Conference Rank"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:g.rank?`#${g.rank}`:"-"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Streak"}),r.jsx("p",{className:"text-2xl font-bold",children:g.streak||"-"})]})]})]})})]}),r.jsxs(X,{children:[r.jsx(ce,{children:r.jsxs(de,{className:"flex items-center space-x-2",children:[r.jsx(zo,{className:"h-5 w-5"}),r.jsx("span",{children:"Team Management"})]})}),r.jsx(te,{className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Waiver Position"}),r.jsx("p",{className:"text-2xl font-bold",children:L.settings.waiver_position})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Waiver Budget Used"}),r.jsxs("p",{className:"text-2xl font-bold",children:["$",L.settings.waiver_budget_used]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Moves"}),r.jsx("p",{className:"text-2xl font-bold",children:L.settings.total_moves})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Games Played"}),r.jsx("p",{className:"text-2xl font-bold",children:C})]})]})})]})]})}),r.jsxs(Be,{value:"transactions",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Transaction History"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"All trades, waivers, and roster moves for this team across all seasons"})]}),r.jsx(ee,{onClick:N,disabled:d,variant:"outline",size:"sm",children:d?r.jsxs(r.Fragment,{children:[r.jsx(Ct,{className:"h-4 w-4 mr-2 animate-spin"}),"Loading..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]}),d&&l.length===0?r.jsx(X,{children:r.jsx(te,{className:"flex items-center justify-center min-h-32",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ct,{className:"h-6 w-6 animate-spin"}),r.jsx("span",{children:"Loading transactions..."})]})})}):l.length===0?r.jsx(X,{children:r.jsx(te,{className:"flex items-center justify-center min-h-32",children:r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx(ns,{className:"h-12 w-12 text-muted-foreground mx-auto"}),r.jsx("h3",{className:"text-lg font-semibold",children:"No Transactions Found"}),r.jsx("p",{className:"text-muted-foreground",children:"This team hasn't made any trades, waiver claims, or free agent pickups this season."}),r.jsx("div",{className:"mt-4",children:r.jsxs(ae,{variant:"secondary",children:["Total moves: ",L.settings.total_moves]})})]})})}):r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",l.length," transaction",l.length!==1?"s":""]}),r.jsxs(ae,{variant:"secondary",children:["Total moves: ",L.settings.total_moves]})]}),r.jsx("div",{className:"space-y-3",children:l.map(A=>r.jsx(ZE,{transaction:A},A.id))})]})]}),r.jsxs(Be,{value:"schedule",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Season Schedule"}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Complete schedule and results for ",t," season"]})]}),r.jsx(ee,{onClick:E,disabled:y,variant:"outline",size:"sm",children:y?r.jsxs(r.Fragment,{children:[r.jsx(Ct,{className:"h-4 w-4 mr-2 animate-spin"}),"Loading..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]}),y&&f.length===0?r.jsx(X,{children:r.jsx(te,{className:"flex items-center justify-center min-h-32",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ct,{className:"h-6 w-6 animate-spin"}),r.jsx("span",{children:"Loading schedule..."})]})})}):f.length===0?r.jsx(X,{children:r.jsx(te,{className:"flex items-center justify-center min-h-32",children:r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx(ns,{className:"h-12 w-12 text-muted-foreground mx-auto"}),r.jsx("h3",{className:"text-lg font-semibold",children:"No Schedule Found"}),r.jsxs("p",{className:"text-muted-foreground",children:["No matchups found for this team in the ",t," season."]})]})})}):r.jsxs("div",{className:"space-y-4",children:[r.jsxs(X,{children:[r.jsx(ce,{children:r.jsxs(de,{className:"flex items-center space-x-2",children:[r.jsx(ns,{className:"h-5 w-5"}),r.jsxs("span",{children:[t," Season Schedule"]})]})}),r.jsx(te,{children:r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 text-center",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:(g==null?void 0:g.wins)??f.filter(A=>A.result==="W").length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Wins"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:(g==null?void 0:g.losses)??f.filter(A=>A.result==="L").length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Losses"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:(g==null?void 0:g.ties)??f.filter(A=>A.result==="T").length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Ties"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:f.filter(A=>A.result==="TBD").length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Remaining"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:g!=null&&g.rank?`#${g.rank}`:"-"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Rank"})]})]})})]}),r.jsxs(X,{children:[r.jsxs(ce,{children:[r.jsx(de,{children:"Matchup Results"}),r.jsx(je,{children:"Week-by-week schedule and results"})]}),r.jsx(te,{children:r.jsx("div",{className:"rounded-md border",children:r.jsxs(un,{children:[r.jsx(fn,{children:r.jsxs(Te,{children:[r.jsx(oe,{className:"w-16",children:"Week"}),r.jsx(oe,{children:"Opponent"}),r.jsx(oe,{className:"w-16",children:"@/vs"}),r.jsx(oe,{className:"w-20",children:"Result"}),r.jsx(oe,{className:"w-24",children:"Score"}),r.jsx(oe,{className:"w-16",children:"Status"})]})}),r.jsx(hn,{children:f.map((A,$)=>r.jsxs(Te,{children:[r.jsx(se,{className:"font-medium",children:r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{children:A.week}),A.isPlayoff&&A.playoffRoundName&&r.jsx(ae,{variant:"secondary",className:"text-xs mt-1 w-fit bg-purple-100 text-purple-800",children:A.playoffRoundName})]})}),r.jsx(se,{children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{children:A.opponent}),A.isOverridden&&r.jsx(ae,{variant:"outline",className:`text-xs ${A.overrideReason==="Interconference"?"bg-orange-100 text-orange-800 border-orange-300":"bg-blue-100 text-blue-800 border-blue-300"}`,title:A.overrideReason||"Matchup Override",children:A.overrideReason==="Interconference"?"Interconference":"Override"})]})}),r.jsx(se,{className:"text-center",children:A.isHome?"vs":"@"}),r.jsx(se,{children:r.jsx(ae,{variant:A.result==="W"?"default":A.result==="L"?"destructive":A.result==="T"?"secondary":"outline",className:"w-8 justify-center",children:A.result})}),r.jsx(se,{children:A.teamScore!==null&&A.opponentScore!==null?r.jsxs("div",{className:"text-sm",children:[r.jsx("span",{className:A.result==="W"?"font-bold":"",children:A.teamScore}),r.jsx("span",{className:"text-muted-foreground mx-1",children:"-"}),r.jsx("span",{className:A.result==="L"?"font-bold":"",children:A.opponentScore})]}):r.jsx("span",{className:"text-muted-foreground",children:"-"})}),r.jsx(se,{children:r.jsx(ae,{variant:"outline",className:"text-xs",children:A.matchupStatus})})]},`matchup-${$}`))})]})})})]})]})]})]})]})};async function R6(e={},t=1,n=25){try{const{data:{session:s},error:a}=await Dn.auth.getSession();if(a)throw console.error("Session error:",a),new Error(`Authentication error: ${a.message}`);console.log("Fetching players directly from database...");let i=Dn.from("players_with_roster_status").select(`
        id,
        player_name,
        position,
        nfl_team,
        sleeper_id,
        injury_status,
        total_points,
        avg_points,
        is_rostered,
        rostered_by_teams,
        playing_status
      `,{count:"exact"});e.search&&(i=i.or(`player_name.ilike.%${e.search}%,nfl_team.ilike.%${e.search}%`)),e.position&&e.position!=="all"&&(i=i.eq("position",e.position)),e.is_rostered!==""&&(i=i.eq("is_rostered",e.is_rostered));const o=(t-1)*n,l=o+n-1;i=i.range(o,l).order("total_points",{ascending:!1});const{data:c,error:d,count:u}=await i;if(d)throw console.error("Database query error:",d),new Error(`Database error: ${d.message}`);return console.log(` Fetched ${(c==null?void 0:c.length)||0} players (total: ${u})`),{data:c||[],count:u||0}}catch(s){throw console.error("fetchPlayersFromApi error:",s),s}}const A6=()=>{const{selectedSeason:e,selectedConference:t,currentSeasonConfig:n}=Fn(),{toast:s}=gn(),[a,i]=h.useState([]),[o,l]=h.useState(0),[c,d]=h.useState(1),u=50,[f,m]=h.useState(!0),[y,j]=h.useState(null),[g,w]=h.useState(""),[x,p]=h.useState("all"),[v,_]=h.useState("all"),[b,P]=h.useState(new Map),[N,E]=h.useState("all-players"),R=["QB","RB","WR","TE"];h.useEffect(()=>{(async()=>{try{const{data:B,error:K}=await Dn.from("teams").select("id, team_name");if(K){console.error("Error loading teams:",K);return}const F=new Map;(B||[]).forEach(q=>{F.set(q.id,q.team_name)}),P(F)}catch(B){console.error("Error setting up team lookup:",B)}})()},[]),h.useEffect(()=>{(async()=>{m(!0),j(null);try{const B={search:g,position:x,is_rostered:v==="rostered"?!0:v==="free_agent"?!1:""},{data:K,count:F}=await R6(B,c,u);i(K||[]),l(F||0),s({title:"Players Loaded",description:`Found ${F||0} players for ${e} season`})}catch(B){const K=B instanceof Error?B.message:"Failed to fetch players";j(K),s({title:"Error",description:K,variant:"destructive"})}finally{m(!1)}})()},[g,x,v,c,e,t]);const M=L=>{switch(L){case"QB":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"RB":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"WR":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"TE":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},U=(L,B)=>{if(B){const K={IR:"destructive",O:"destructive",D:"destructive",Q:"secondary",P:"outline"};return r.jsx(ae,{variant:K[B]||"outline",className:"text-xs",children:B})}return L?r.jsx(ae,{variant:"default",className:"text-xs",children:"Rostered"}):r.jsx(ae,{variant:"outline",className:"text-xs",children:"FA"})},O=L=>!L||L.length===0?null:r.jsx("div",{className:"flex flex-col gap-1",children:L.map(B=>{const K=b.get(B)||`Team ${B}`;return r.jsx(Ut,{to:`/teams/${B}`,children:r.jsx(ae,{variant:"outline",className:"text-xs hover:bg-primary hover:text-primary-foreground cursor-pointer transition-colors",children:K})},B)})});return f&&a.length===0?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Ct,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Loading Players"}),r.jsx("p",{className:"text-muted-foreground",children:"Fetching player data..."})]})}):y&&a.length===0?r.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:r.jsxs(X,{className:"w-full max-w-md",children:[r.jsx(ce,{children:r.jsx(de,{className:"flex items-center gap-2 text-destructive",children:"Error Loading Players"})}),r.jsxs(te,{className:"space-y-4",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:y}),r.jsx(ee,{onClick:()=>window.location.reload(),className:"w-full",children:"Retry"})]})]})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(wo,{className:"h-6 w-6 text-primary"}),r.jsx("h1",{className:"text-3xl font-bold",children:"Players"})]}),r.jsxs("p",{className:"text-muted-foreground",children:[e," Season  ",o," players"]})]}),r.jsxs(Kr,{value:N,onValueChange:E,className:"w-full",children:[r.jsxs(jr,{className:"grid w-full grid-cols-2",children:[r.jsxs(Fe,{value:"all-players",className:"flex items-center gap-2",children:[r.jsx(wo,{className:"h-4 w-4"}),"All Players"]}),r.jsxs(Fe,{value:"trending",className:"flex items-center gap-2",children:[r.jsx(zo,{className:"h-4 w-4"}),"Trending Players"]})]}),r.jsxs(Be,{value:"all-players",className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Ux,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(It,{placeholder:"Search players...",value:g,onChange:L=>{w(L.target.value),d(1)},className:"pl-10"})]}),r.jsxs(vt,{value:x,onValueChange:L=>{p(L),d(1)},children:[r.jsx(dt,{children:r.jsx(wt,{placeholder:"All Positions"})}),r.jsxs(ut,{children:[r.jsx(ke,{value:"all",children:"All Positions"}),R.map(L=>r.jsx(ke,{value:L,children:L},L))]})]}),r.jsxs(vt,{value:v,onValueChange:L=>{_(L),d(1)},children:[r.jsx(dt,{children:r.jsx(wt,{placeholder:"All Status"})}),r.jsxs(ut,{children:[r.jsx(ke,{value:"all",children:"All Status"}),r.jsx(ke,{value:"rostered",children:"Rostered"}),r.jsx(ke,{value:"free_agent",children:"Free Agent"})]})]})]}),r.jsx(X,{children:r.jsxs(te,{className:"pt-6",children:[r.jsx("div",{className:"rounded-md border",children:r.jsxs(un,{children:[r.jsx(fn,{children:r.jsxs(Te,{children:[r.jsx(oe,{children:"Player"}),r.jsx(oe,{children:"Pos"}),r.jsx(oe,{className:"hidden sm:table-cell",children:"NFL Team"}),r.jsx(oe,{className:"text-right",children:"Points"}),r.jsx(oe,{className:"text-right hidden md:table-cell",children:"Avg"}),r.jsx(oe,{children:"Status"}),r.jsx(oe,{className:"hidden lg:table-cell",children:"Rostered By"}),r.jsx(oe,{className:"w-10"})]})}),r.jsx(hn,{children:f?r.jsx(Te,{children:r.jsx(se,{colSpan:8,className:"text-center py-8",children:r.jsx(Ct,{className:"h-6 w-6 animate-spin mx-auto"})})}):a.length===0?r.jsx(Te,{children:r.jsx(se,{colSpan:8,className:"text-center py-8",children:"No players found."})}):a.map(L=>r.jsxs(Te,{children:[r.jsx(se,{children:r.jsx("div",{className:"font-medium",children:L.player_name})}),r.jsx(se,{children:r.jsx(ae,{className:M(L.position),children:L.position})}),r.jsx(se,{className:"hidden sm:table-cell",children:L.nfl_team||"FA"}),r.jsx(se,{className:"text-right font-mono",children:L.total_points.toFixed(1)}),r.jsx(se,{className:"text-right font-mono hidden md:table-cell",children:L.avg_points.toFixed(1)}),r.jsx(se,{children:U(L.is_rostered,L.injury_status)}),r.jsx(se,{className:"hidden lg:table-cell",children:O(L.rostered_by_teams)}),r.jsx(se,{children:r.jsx(Ut,{to:`/players/${L.sleeper_id}`,children:r.jsx(ee,{variant:"ghost",size:"sm",children:r.jsx(Qc,{className:"h-4 w-4"})})})})]},L.id))})]})}),r.jsxs("div",{className:"flex items-center justify-between space-x-2 py-4",children:[r.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",Math.min((c-1)*u+1,o)," to ",Math.min(c*u,o)," of ",o," players"]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ee,{variant:"outline",size:"sm",onClick:()=>d(L=>Math.max(1,L-1)),disabled:c===1,children:"Previous"}),r.jsxs("span",{className:"text-sm",children:["Page ",c," of ",Math.ceil(o/u)]}),r.jsx(ee,{variant:"outline",size:"sm",onClick:()=>d(L=>L+1),disabled:c*u>=o,children:"Next"})]})]})]})})]}),r.jsx(Be,{value:"trending",className:"space-y-6",children:r.jsxs(X,{children:[r.jsxs(ce,{children:[r.jsxs(de,{className:"flex items-center gap-2",children:[r.jsx(zo,{className:"h-5 w-5"}),"Trending Players (Last 24 Hours)"]}),r.jsx(je,{children:"Most added players across all Sleeper leagues in the past 24 hours"})]}),r.jsx(te,{className:"flex justify-center",children:r.jsx("iframe",{src:"https://sleeper.app/embed/players/nfl/trending/add?lookback_hours=24&limit=25",width:"350",height:"500",allowTransparency:!0,frameBorder:"0",className:"rounded-lg border",title:"Trending Players"})})]})})]})]})};var Ey="Progress",Ty=100,[$6,uH]=ls(Ey),[D6,M6]=$6(Ey),eT=h.forwardRef((e,t)=>{const{__scopeProgress:n,value:s=null,max:a,getValueLabel:i=L6,...o}=e;(a||a===0)&&!O0(a)&&console.error(I6(`${a}`,"Progress"));const l=O0(a)?a:Ty;s!==null&&!F0(s,l)&&console.error(O6(`${s}`,"Progress"));const c=F0(s,l)?s:null,d=ef(c)?i(c,l):void 0;return r.jsx(D6,{scope:n,value:c,max:l,children:r.jsx(we.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":ef(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":sT(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});eT.displayName=Ey;var tT="ProgressIndicator",nT=h.forwardRef((e,t)=>{const{__scopeProgress:n,...s}=e,a=M6(tT,n);return r.jsx(we.div,{"data-state":sT(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...s,ref:t})});nT.displayName=tT;function L6(e,t){return`${Math.round(e/t*100)}%`}function sT(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function ef(e){return typeof e=="number"}function O0(e){return ef(e)&&!isNaN(e)&&e>0}function F0(e,t){return ef(e)&&!isNaN(e)&&e<=t&&e>=0}function I6(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Ty}\`.`}function O6(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Ty} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var rT=eT,F6=nT;const lr=h.forwardRef(({className:e,value:t,...n},s)=>r.jsx(rT,{ref:s,className:ye("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",e),...n,children:r.jsx(F6,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));lr.displayName=rT.displayName;const B6=()=>{const{playerId:e}=S1(),{selectedSeason:t,selectedConference:n,currentSeasonConfig:s}=Fn(),{toast:a}=gn(),[i,o]=h.useState("overview"),[l,c]=h.useState(null),[d,u]=h.useState(!0),[f,m]=h.useState(null),y=async()=>{if(!(!e||!s))try{u(!0),m(null),console.log("Fetching player detail for ID:",e);const x=await ne.getPlayers({filters:[{column:"sleeper_id",operator:"eq",value:e},{column:"playing_status",operator:"eq",value:"Active"},{column:"position",operator:"in",value:["QB","RB","WR","TE"]}]});if(x.error||!x.data||x.data.length===0)throw new Error("Player not found or not active");const p=x.data[0];console.log("Found player:",p);let v=s.conferences;n&&n!=="all"&&(v=s.conferences.filter(F=>F.id===n));const _=v.filter(F=>F.dbConferenceId).map(F=>F.dbConferenceId);if(_.length===0)throw new Error("No valid conference IDs found");const b=await ne.getTeamConferenceJunctions({filters:[{column:"conference_id",operator:"in",value:_}]});if(b.error||!b.data)throw new Error("Failed to fetch team mappings");const P=[...new Set(b.data.map(F=>F.team_id))],N=await ne.getTeams({filters:[{column:"id",operator:"in",value:P}]});if(N.error||!N.data)throw new Error("Failed to fetch teams");const E=await Promise.all(v.map(async F=>{try{if(!F.leagueId)return console.warn(`No league ID for conference ${F.name}`),{conference:F,rosters:[]};const q=await Ve.fetchLeagueRosters(F.leagueId);return{conference:F,rosters:q}}catch(q){return console.warn(`Failed to fetch rosters for conference ${F.name}:`,q),{conference:F,rosters:[]}}})),R=[];E.forEach(({conference:F,rosters:q})=>{q.forEach(S=>{var k,C;if(S.players&&S.players.includes(e)){const T=(k=b.data)==null?void 0:k.find(D=>D.conference_id===F.dbConferenceId&&D.roster_id===S.roster_id);if(T){const D=(C=N.data)==null?void 0:C.find(A=>A.id===T.team_id);D&&R.push({conference_id:F.dbConferenceId,conference_name:F.name,team_id:D.id,team_name:D.team_name,owner_name:D.owner_name,roster_id:S.roster_id,league_id:F.leagueId})}}})});const M=[],U=j(),O=[...new Set(R.map(F=>F.league_id))];for(const F of O){const q=R.find(S=>S.league_id===F);if(q)for(let S=1;S<=Math.min(U,17);S++)try{const C=(await Ve.fetchMatchups(F,S)).find(T=>T.players&&T.players.includes(e));if(C&&C.players_points){const T=C.players_points[e]||0;M.push({week:S,points:T,league_id:F,conference_name:q.conference_name})}}catch(k){console.warn(`Failed to fetch matchup data for league ${F}, week ${S}:`,k)}}const L={totalPoints:M.reduce((F,q)=>F+q.points,0),gamesPlayed:M.length,bestGame:M.length>0?Math.max(...M.map(F=>F.points)):0,worstGame:M.length>0?Math.min(...M.map(F=>F.points)):0,avgPoints:0,consistency:0,weeklyPerformance:M};if(L.avgPoints=L.gamesPlayed>0?L.totalPoints/L.gamesPlayed:0,L.gamesPlayed>1){const F=L.avgPoints,q=M.reduce((C,T)=>C+Math.pow(T.points-F,2),0)/L.gamesPlayed,S=Math.sqrt(q),k=F>0?S/F:0;L.consistency=Math.max(0,100-k*100)}let B;R.length===0?B="free_agent":R.length===1?B="rostered":B="multi_rostered";const K={id:p.id,sleeper_id:p.sleeper_id,player_name:p.player_name,position:p.position,nfl_team:p.nfl_team||"FA",number:p.number||0,age:p.age||0,height:p.height||0,weight:p.weight||0,college:p.college||"Unknown",playing_status:p.playing_status||"Active",injury_status:p.injury_status,depth_chart:p.depth_chart||1,rostered_by:R,availability_status:B,season_stats:L};c(K),console.log("Loaded player detail:",K),a({title:"Player Loaded",description:`Found ${K.player_name} with ${L.gamesPlayed} games of data`})}catch(x){console.error("Error fetching player data:",x);const p=x instanceof Error?x.message:"Failed to fetch player data";m(p),a({title:"Error Loading Player",description:p,variant:"destructive"})}finally{u(!1)}};h.useEffect(()=>{e&&s&&y()},[e,t,n,s]);const j=()=>{const x=new Date,p=new Date(x.getFullYear(),8,1),v=Math.floor((x.getTime()-p.getTime())/(7*24*60*60*1e3));return Math.min(Math.max(v+1,1),17)},g=x=>{switch(x){case"QB":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"RB":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"WR":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"TE":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},w=x=>{if(!x||x==="Healthy")return null;const p={IR:"destructive",Out:"destructive",Doubtful:"destructive",Questionable:"secondary",Probable:"secondary",Q:"secondary",D:"destructive",O:"destructive"};return r.jsx(ae,{variant:p[x]||"outline",children:x})};return d?r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Ct,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Loading player data..."})]})}):f?r.jsxs("div",{className:"space-y-6",children:[r.jsx(Ut,{to:"/players",children:r.jsxs(ee,{variant:"ghost",className:"mb-4",children:[r.jsx(Hl,{className:"mr-2 h-4 w-4"}),"Back to Players"]})}),r.jsxs(Ie,{variant:"destructive",children:[r.jsx(We,{className:"h-4 w-4"}),r.jsx(Oe,{children:f})]}),r.jsx("div",{className:"text-center",children:r.jsxs(ee,{onClick:y,variant:"outline",children:[r.jsx(Xe,{className:"mr-2 h-4 w-4"}),"Try Again"]})})]}):l?r.jsxs("div",{className:"space-y-6",children:[r.jsx(Ut,{to:"/players",children:r.jsxs(ee,{variant:"ghost",className:"mb-4",children:[r.jsx(Hl,{className:"mr-2 h-4 w-4"}),"Back to Players"]})}),r.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between space-y-4 md:space-y-0",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"h-16 w-16 bg-primary/10 rounded-full flex items-center justify-center",children:r.jsx(PD,{className:"h-8 w-8 text-primary"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:l.player_name}),r.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[r.jsx(ae,{className:g(l.position),children:l.position}),r.jsxs(ae,{variant:"outline",children:[l.nfl_team," #",l.number]}),w(l.injury_status)]}),r.jsxs("p",{className:"text-muted-foreground mt-1",children:[l.age," years old  ",l.height,'"", ',l.weight," lbs  ",l.college]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:l.season_stats.totalPoints.toFixed(1)}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Points"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:l.season_stats.avgPoints.toFixed(1)}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg/Game"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:l.season_stats.bestGame.toFixed(1)}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Best Game"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"text-2xl font-bold",children:[l.season_stats.consistency.toFixed(0),"%"]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Consistency"})]})]})]}),l.rostered_by.length>0&&r.jsx(X,{children:r.jsx(te,{className:"pt-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Currently rostered by:"}),l.rostered_by.map((x,p)=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("p",{className:"font-semibold",children:x.team_name}),r.jsx("span",{className:"text-muted-foreground",children:""}),r.jsx("p",{className:"text-muted-foreground",children:x.owner_name})]}),l.rostered_by.length>1&&r.jsx("p",{className:"text-sm text-blue-600",children:x.conference_name})]}),r.jsx(Ut,{to:`/teams/${x.team_id}`,children:r.jsx(ee,{variant:"outline",size:"sm",children:"View Team"})})]},p))]})})}),r.jsxs(Kr,{value:i,onValueChange:o,className:"w-full",children:[r.jsxs(jr,{className:"grid w-full grid-cols-3",children:[r.jsx(Fe,{value:"overview",children:"Overview"}),r.jsx(Fe,{value:"performance",children:"Performance"}),r.jsx(Fe,{value:"details",children:"Details"})]}),r.jsx(Be,{value:"overview",className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs(X,{children:[r.jsx(ce,{children:r.jsxs(de,{className:"flex items-center space-x-2",children:[r.jsx(bt,{className:"h-5 w-5"}),r.jsx("span",{children:"Season Summary"})]})}),r.jsxs(te,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Fantasy Points"}),r.jsx("p",{className:"text-2xl font-bold",children:l.season_stats.totalPoints.toFixed(1)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Games Played"}),r.jsx("p",{className:"text-2xl font-bold",children:l.season_stats.gamesPlayed})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Best Game"}),r.jsx("p",{className:"text-2xl font-bold",children:l.season_stats.bestGame.toFixed(1)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Consistency"}),r.jsxs("p",{className:"text-2xl font-bold",children:[l.season_stats.consistency.toFixed(0),"%"]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:"Availability Status"}),r.jsx("span",{className:"capitalize",children:l.availability_status.replace("_"," ")})]}),r.jsx(lr,{value:l.availability_status==="multi_rostered"?100:l.availability_status==="rostered"?75:25,className:"h-2"})]})]})]}),r.jsxs(X,{children:[r.jsx(ce,{children:r.jsx(de,{children:"Player Info"})}),r.jsx(te,{className:"space-y-3",children:r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"Position"}),r.jsx("p",{className:"font-medium",children:l.position})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"NFL Team"}),r.jsx("p",{className:"font-medium",children:l.nfl_team})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"Number"}),r.jsxs("p",{className:"font-medium",children:["#",l.number]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"Depth Chart"}),r.jsx("p",{className:"font-medium",children:l.depth_chart})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"Height"}),r.jsxs("p",{className:"font-medium",children:[l.height,'""']})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"Weight"}),r.jsxs("p",{className:"font-medium",children:[l.weight," lbs"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"College"}),r.jsx("p",{className:"font-medium",children:l.college})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"Age"}),r.jsx("p",{className:"font-medium",children:l.age})]})]})})]})]})}),r.jsx(Be,{value:"performance",className:"space-y-4",children:r.jsxs(X,{children:[r.jsxs(ce,{children:[r.jsxs(de,{className:"flex items-center space-x-2",children:[r.jsx(zo,{className:"h-5 w-5"}),r.jsx("span",{children:"Weekly Performance"})]}),r.jsx(je,{children:"Fantasy points by week across all leagues"})]}),r.jsx(te,{children:l.season_stats.weeklyPerformance.length>0?r.jsx("div",{className:"rounded-md border",children:r.jsxs(un,{children:[r.jsx(fn,{children:r.jsxs(Te,{children:[r.jsx(oe,{children:"Week"}),r.jsx(oe,{children:"Conference"}),r.jsx(oe,{className:"text-right",children:"Points"})]})}),r.jsx(hn,{children:l.season_stats.weeklyPerformance.sort((x,p)=>p.week-x.week).slice(0,10).map((x,p)=>r.jsxs(Te,{children:[r.jsxs(se,{className:"font-medium",children:["Week ",x.week]}),r.jsx(se,{children:x.conference_name}),r.jsx(se,{className:"text-right font-mono",children:x.points.toFixed(1)})]},p))})]})}):r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-muted-foreground",children:"No performance data available"})})})]})}),r.jsxs(Be,{value:"details",className:"space-y-4",children:[r.jsxs(X,{children:[r.jsxs(ce,{children:[r.jsx(de,{children:"Roster Information"}),r.jsx(je,{children:"Current roster status across all conferences"})]}),r.jsx(te,{children:l.rostered_by.length>0?r.jsx("div",{className:"space-y-4",children:l.rostered_by.map((x,p)=>r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"font-semibold",children:x.team_name}),r.jsx(ae,{variant:"outline",children:x.conference_name})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"Owner"}),r.jsx("p",{className:"font-medium",children:x.owner_name})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"Roster ID"}),r.jsx("p",{className:"font-medium",children:x.roster_id})]})]})]},p))}):r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-muted-foreground",children:"Player is currently a free agent"})})})]}),l.injury_status&&r.jsxs(X,{children:[r.jsx(ce,{children:r.jsxs(de,{className:"flex items-center space-x-2",children:[r.jsx(We,{className:"h-5 w-5 text-yellow-600"}),r.jsx("span",{children:"Injury Status"})]})}),r.jsx(te,{children:r.jsxs("div",{className:"flex items-start space-x-3 p-4 border rounded-lg bg-yellow-50 dark:bg-yellow-900/20",children:[r.jsx(We,{className:"h-5 w-5 text-yellow-600 mt-0.5"}),r.jsxs("div",{children:[r.jsxs("h4",{className:"font-semibold text-yellow-800 dark:text-yellow-200",children:["Status: ",l.injury_status]}),r.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"Player is currently listed with an injury designation. Monitor status updates."})]})]})})]})]})]})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsx(Ut,{to:"/players",children:r.jsxs(ee,{variant:"ghost",className:"mb-4",children:[r.jsx(Hl,{className:"mr-2 h-4 w-4"}),"Back to Players"]})}),r.jsxs(Ie,{children:[r.jsx(We,{className:"h-4 w-4"}),r.jsx(Oe,{children:"Player not found or not available in the current season configuration."})]})]})},U6=()=>{var b,P,N;const{toast:e}=gn(),{selectedConference:t,currentSeasonConfig:n,loading:s,error:a}=Fn(),[i,o]=h.useState([]),[l,c]=h.useState([]),[d,u]=h.useState(!0),[f,m]=h.useState(null),[y,j]=h.useState({team:"all",player:"",type:"all",conference:"all"}),g=async()=>{if(!n){u(!1);return}try{u(!0),m(null);const E=t==="all"||t===null?n.conferences:n.conferences.filter(F=>F.id===t),R=E.filter(F=>F.dbConferenceId).map(F=>F.dbConferenceId);if(R.length===0){o([]),c([]);return}const M=await ne.getTransactions({filters:[{column:"conference_id",operator:"in",value:R}],orderBy:{column:"created_at",ascending:!1}});if(M.error||!M.data)throw new Error(M.error||"Failed to fetch transactions");const U=await ne.getTeams({}),O=await ne.getTeamConferenceJunctions({filters:[{column:"conference_id",operator:"in",value:R}]}),L=await ne.getAllPlayersForMapping([{column:"playing_status",operator:"eq",value:"Active"},{column:"position",operator:"in",value:["QB","RB","WR","TE"]}]),B=new Map;L.forEach(F=>{F.sleeper_id&&B.set(String(F.sleeper_id),F.player_name)});const K=await Promise.all(M.data.map(async F=>{let q={};try{q=typeof F.data=="string"?JSON.parse(F.data):F.data||{}}catch(I){console.warn("Failed to parse transaction data:",I)}const S=E.find(I=>I.dbConferenceId===F.conference_id),k=I=>{var G;const Z=(G=O.data)==null?void 0:G.find(Y=>Y.roster_id.toString()===I.toString()&&Y.conference_id===F.conference_id);if(Z&&U.data){const Y=U.data.find(Q=>Q.id===Z.team_id);return(Y==null?void 0:Y.team_name)||"Unknown Team"}return"Unknown Team"};let C="Unknown Team";q.roster_ids&&q.roster_ids.length>0&&(C=k(q.roster_ids[0]));const T=[],D=[],A=I=>{const Z=String(I);return B.get(Z)||`Player ${Z}`};if(q.adds)for(const[I,Z]of Object.entries(q.adds)){const G=A(I),Y=k(Z);T.push({name:G,team:Y})}if(q.drops)for(const[I,Z]of Object.entries(q.drops)){const G=A(I),Y=k(Z);D.push({name:G,team:Y})}let $="";const H=q.type||F.type,W=new Set;switch(q.roster_ids&&q.roster_ids.forEach(I=>{const Z=k(I);Z!=="Unknown Team"&&W.add(Z)}),H){case"trade":if(T.length>0||D.length>0){const I=[];T.forEach(Z=>I.push(`${Z.name} to ${Z.team}`)),D.forEach(Z=>I.push(`${Z.name} from ${Z.team}`)),W.size>1?$=`Trade between ${Array.from(W).join(" and ")}: ${I.join(", ")}`:$=`${C} trade: ${I.join(", ")}`}else q.draft_picks&&q.draft_picks.length>0?$=`Trade involving ${q.draft_picks.map(Z=>`${Z.season} Round ${Z.round} pick`).join(", ")}`:$=`Trade between ${Array.from(W).join(" and ")}`;break;case"waiver":T.length>0&&D.length>0?$=`${C} claimed ${T.map(I=>I.name).join(", ")} from waivers, dropped ${D.map(I=>I.name).join(", ")}`:T.length>0?$=`${C} claimed ${T.map(I=>I.name).join(", ")} from waivers`:D.length>0?$=`${C} dropped ${D.map(I=>I.name).join(", ")} to waivers`:$=`${C} made a waiver claim`;break;case"free_agent":T.length>0&&D.length>0?$=`${C} added ${T.map(I=>I.name).join(", ")}, dropped ${D.map(I=>I.name).join(", ")}`:T.length>0?$=`${C} added ${T.map(I=>I.name).join(", ")} from free agency`:D.length>0?$=`${C} dropped ${D.map(I=>I.name).join(", ")}`:$=`${C} made a free agent transaction`;break;default:$=`${C} completed a ${H||"transaction"}`}const z=q.type==="trade"?"trade":q.type==="waiver"?"waiver":q.type==="free_agent"?"free_agent":"commissioner";return{id:F.id.toString(),type:z,date:new Date(F.created_at||new Date),details:$,teams:[C],players:{added:T.map(I=>({id:"",name:I.name,team:I.team})),dropped:D.map(I=>({id:"",name:I.name,team:I.team}))},week:q.leg||0,status:"completed",rosterIds:q.roster_ids||[],draftPicks:q.draft_picks||[],waiverBudget:q.waiver_budget||[],conference:(S==null?void 0:S.name)||"Unknown Conference",conferenceId:F.conference_id.toString()}}));o(K),c(K)}catch(E){console.error("Error fetching transactions:",E),m("Failed to load transactions. Please try again."),e({title:"Error",description:"Failed to load transactions. Please try again.",variant:"destructive"})}finally{u(!1)}},w=()=>{let E=[...i];y.team&&y.team!=="all"&&(E=E.filter(R=>R.teams.some(M=>M.toLowerCase().includes(y.team.toLowerCase())))),y.player&&(E=E.filter(R=>{const M=R.players.added||[],U=R.players.dropped||[];return[...M,...U].some(O=>O.name.toLowerCase().includes(y.player.toLowerCase()))})),y.type&&y.type!=="all"&&(E=E.filter(R=>R.type===y.type)),y.conference&&y.conference!=="all"&&(E=E.filter(R=>R.conferenceId===y.conference)),c(E)},x=()=>{j({team:"all",player:"",type:"all",conference:"all"})},p=(E,R)=>{j(M=>({...M,[E]:R}))};h.useEffect(()=>{g()},[n,t]),h.useEffect(()=>{w()},[y,i]);const v=()=>{const E=new Set(i.map(R=>R.type));return Array.from(E).filter(R=>R&&R.trim()!=="")},_=()=>{const E=new Set;return i.forEach(R=>{R.teams.forEach(M=>{M&&M.trim()!==""&&E.add(M)})}),Array.from(E).sort()};return s?r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Transactions"}),r.jsx("p",{className:"text-muted-foreground",children:"All roster moves and trades across conferences"})]})}),r.jsx("div",{className:"grid gap-4",children:[...Array(5)].map((E,R)=>r.jsx(X,{className:"animate-pulse",children:r.jsxs(te,{className:"p-6",children:[r.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),r.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]})},R))})]}):a?r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Transactions"}),r.jsx("p",{className:"text-muted-foreground",children:"All roster moves and trades across conferences"})]})}),r.jsx(Ie,{variant:"destructive",children:r.jsxs(Oe,{children:["App Error: ",a]})})]}):n?d?r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Transactions"}),r.jsx("p",{className:"text-muted-foreground",children:"All roster moves and trades across conferences"})]})}),r.jsx("div",{className:"grid gap-4",children:[...Array(5)].map((E,R)=>r.jsx(X,{className:"animate-pulse",children:r.jsxs(te,{className:"p-6",children:[r.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),r.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]})},R))})]}):f?r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Transactions"}),r.jsx("p",{className:"text-muted-foreground",children:"All roster moves and trades across conferences"})]})}),r.jsx(Ie,{variant:"destructive",children:r.jsx(Oe,{children:f})}),r.jsxs(ee,{onClick:g,className:"w-full",children:[r.jsx(Xe,{className:"mr-2 h-4 w-4"}),"Try Again"]})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Transactions"}),r.jsx("p",{className:"text-muted-foreground",children:"All roster moves and trades across conferences"})]}),r.jsxs(ee,{onClick:g,variant:"outline",size:"sm",children:[r.jsx(Xe,{className:"mr-2 h-4 w-4"}),"Refresh"]})]}),r.jsxs(X,{children:[r.jsxs(ce,{children:[r.jsxs(de,{className:"flex items-center space-x-2",children:[r.jsx(pN,{className:"h-5 w-5"}),r.jsx("span",{children:"Filters"})]}),r.jsx(je,{children:"Filter transactions by team, player, type, or conference"})]}),r.jsxs(te,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Team"}),r.jsxs(vt,{value:y.team,onValueChange:E=>p("team",E),children:[r.jsx(dt,{children:r.jsx(wt,{placeholder:"All teams"})}),r.jsxs(ut,{children:[r.jsx(ke,{value:"all",children:"All teams"}),_().filter(E=>E&&E.trim()!=="").map(E=>r.jsx(ke,{value:E,children:E},E))]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Player"}),r.jsxs("div",{className:"relative",children:[r.jsx(Ux,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(It,{placeholder:"Search players...",value:y.player,onChange:E=>p("player",E.target.value),className:"pl-10"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Type"}),r.jsxs(vt,{value:y.type,onValueChange:E=>p("type",E),children:[r.jsx(dt,{children:r.jsx(wt,{placeholder:"All types"})}),r.jsxs(ut,{children:[r.jsx(ke,{value:"all",children:"All types"}),v().filter(E=>E&&E.trim()!=="").map(E=>r.jsx(ke,{value:E,children:E==="trade"?"Trade":E==="free_agent"?"Free Agent":E==="waiver"?"Waiver":E==="commissioner"?"Commissioner":E},E))]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Conference"}),r.jsxs(vt,{value:y.conference,onValueChange:E=>p("conference",E),children:[r.jsx(dt,{children:r.jsx(wt,{placeholder:"All conferences"})}),r.jsxs(ut,{children:[r.jsx(ke,{value:"all",children:"All conferences"}),(b=n==null?void 0:n.conferences)==null?void 0:b.filter(E=>{var M;const R=((M=E.dbConferenceId)==null?void 0:M.toString())||E.id;return R&&R.trim()!==""}).map(E=>{var M;const R=((M=E.dbConferenceId)==null?void 0:M.toString())||E.id;return r.jsx(ke,{value:R,children:E.name},R)})]})]})]})]}),r.jsxs("div",{className:"flex items-center justify-between mt-4",children:[r.jsx("div",{className:"flex items-center space-x-2",children:(y.team!=="all"||y.player!==""||y.type!=="all"||y.conference!=="all")&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Active filters:"}),y.team!=="all"&&r.jsxs(ae,{variant:"secondary",children:["Team: ",y.team]}),y.player!==""&&r.jsxs(ae,{variant:"secondary",children:["Player: ",y.player]}),y.type!=="all"&&r.jsxs(ae,{variant:"secondary",children:["Type: ",y.type]}),y.conference!=="all"&&r.jsxs(ae,{variant:"secondary",children:["Conference: ",(N=(P=n==null?void 0:n.conferences)==null?void 0:P.filter(E=>{var M;const R=((M=E.dbConferenceId)==null?void 0:M.toString())||E.id;return R&&R.trim()!==""}).find(E=>{var R;return((R=E.dbConferenceId)==null?void 0:R.toString())===y.conference}))==null?void 0:N.name]})]})}),(y.team!=="all"||y.player!==""||y.type!=="all"||y.conference!=="all")&&r.jsx(ee,{variant:"outline",size:"sm",onClick:x,children:"Reset Filters"})]})]})]}),r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Uo,{className:"h-5 w-5 text-primary"}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:["Showing ",l.length," of ",i.length," transactions"]})]})}),r.jsx("div",{className:"space-y-4",children:l.length>0?l.map((E,R)=>r.jsx(ZE,{transaction:E},R)):r.jsx(X,{children:r.jsxs(te,{className:"p-12 text-center",children:[r.jsx(Uo,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No transactions found"}),r.jsx("p",{className:"text-muted-foreground",children:y.team!=="all"||y.player!==""||y.type!=="all"||y.conference!=="all"?"No transactions match your current filters. Try adjusting your search criteria.":"No transactions available at this time."}),(y.team!=="all"||y.player!==""||y.type!=="all"||y.conference!=="all")&&r.jsx(ee,{variant:"outline",onClick:x,className:"mt-4",children:"Clear Filters"})]})})})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Transactions"}),r.jsx("p",{className:"text-muted-foreground",children:"All roster moves and trades across conferences"})]})}),r.jsx("div",{className:"grid gap-4",children:[...Array(5)].map((E,R)=>r.jsx(X,{className:"animate-pulse",children:r.jsxs(te,{className:"p-6",children:[r.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),r.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]})},R))})]})},z6=()=>{var q;const{selectedSeason:e,selectedConference:t}=Fn(),{toast:n}=gn(),[s,a]=h.useState(1),[i,o]=h.useState("board"),[l,c]=h.useState(!0),[d,u]=h.useState([]),[f,m]=h.useState([]),[y,j]=h.useState([]),[g,w]=h.useState({}),[x,p]=h.useState([]),[v,_]=h.useState(!1),[b,P]=h.useState(new Set);h.useEffect(()=>{N()},[]),h.useEffect(()=>{e&&y.length>0&&f.length>0&&x.length>0&&Object.keys(g).length>0&&E()},[e,t,y,f,x,g]);const N=async()=>{c(!0);try{const S=await ne.getSeasons({orderBy:{column:"season_year",ascending:!1},limit:50});if(S.error)throw S.error;j(S.data||[]);const k=await ne.getConferences({orderBy:{column:"conference_name",ascending:!0},limit:50});if(k.error)throw k.error;m(k.data||[]);const C=await ne.getTeams({orderBy:{column:"team_name",ascending:!0},limit:100});if(C.error)throw C.error;p(C.data||[]);try{const T=await ne.getAllPlayersForMapping(),D={};T.forEach(A=>{A.sleeper_id&&(D[A.sleeper_id]=A)}),w(D),console.log(` Loaded ${Object.keys(D).length} players from database (${T.length} total players)`)}catch(T){console.warn("Could not load players data from database:",T),w({})}}catch(S){console.error("Error loading initial data:",S),n({title:"Error",description:`Failed to load initial data: ${S}`,variant:"destructive"})}finally{c(!1)}},E=async()=>{var S;if(!e){console.log(" No selectedSeason, skipping draft data load");return}if(y.length===0){console.log(" Seasons not loaded yet, skipping draft data load");return}if(f.length===0){console.log(" Conferences not loaded yet, skipping draft data load");return}if(x.length===0){console.log(" Teams not loaded yet, skipping draft data load");return}if(Object.keys(g).length===0){console.log(" Players not loaded yet, skipping draft data load");return}_(!0);try{if(console.log(` Loading draft data for season ${e}, conference: ${t||"all"}`),console.log(` Available data: seasons=${y.length}, conferences=${f.length}, teams=${x.length}, players=${Object.keys(g).length}`),!y.find($=>$.season_year===e.toString())){console.warn(` Season ${e} not found in database`),console.log("Available seasons:",y.map($=>$.season_year)),u([]);return}const C=[{column:"draft_year",operator:"eq",value:e.toString()}];console.log(" Draft query filters:",C);const T=await ne.getDraftResults({filters:C,orderBy:{column:"pick_number",ascending:!0},limit:1e3});if(T.error)throw T.error;console.log(` Loaded ${((S=T.data)==null?void 0:S.length)||0} draft picks`);const D=T.data||[],A=D.map($=>{const H=f.find(I=>I.league_id===$.league_id),W=g[$.sleeper_id],z=x.find(I=>I.owner_id===$.owner_id);return D.indexOf($)<3&&console.log(` Processing pick ${$.pick_number}:`,{sleeper_id:$.sleeper_id,player_found:!!W,player_name:W==null?void 0:W.player_name,conference_found:!!H,team_found:!!z}),{...$,conference_name:(H==null?void 0:H.conference_name)||"Unknown Conference",player_name:(W==null?void 0:W.player_name)||"Unknown Player",position:(W==null?void 0:W.position)||"UNK",nfl_team:(W==null?void 0:W.nfl_team)||"UNK",owner_name:(z==null?void 0:z.owner_name)||"Unknown Owner",team_name:(z==null?void 0:z.team_name)||"Unknown Team",conference_id:H==null?void 0:H.id,team_id:z==null?void 0:z.id,player_id:$.sleeper_id}});console.log(` Processed ${A.length} draft picks`),console.log("First few picks:",A.slice(0,3)),u(A)}catch(k){console.error("Error loading draft data:",k),n({title:"Error",description:`Failed to load draft data: ${k}`,variant:"destructive"}),u([])}finally{_(!1)}},R=S=>{const k=new Set(b);k.has(S)?k.delete(S):k.add(S),P(k)},M=()=>{if(!t){const D=y.find($=>$.season_year===e.toString());if(!D)return console.log(" Season not found for getConferencesToShow"),[];const A=f.filter($=>$.season_id===D.id);return console.log(` Showing ${A.length} conferences for season ${e}`),A}const k={thelegionsofmars:"The Legions of Mars",theguardiansofjupiter:"The Guardians of Jupiter",vulcansoathsworn:"Vulcan's Oathsworn"}[t];if(!k)return console.log(` Unknown conference ID: ${t}`),[];const C=y.find(D=>D.season_year===e.toString());if(!C)return console.log(" Season not found for specific conference"),[];const T=f.find(D=>D.season_id===C.id&&D.conference_name===k);return console.log(` Selected conference: ${k}, found: ${T?"yes":"no"}`),T?[T]:[]},U=S=>{switch(S){case"QB":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"RB":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"WR":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"TE":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"K":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200";case"DEF":return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},O=S=>{let C=d.filter(T=>T.conference_id===S.id).filter(T=>parseInt(T.round)===s);return C.sort((T,D)=>parseInt(T.draft_slot)-parseInt(D.draft_slot)),r.jsxs(X,{children:[r.jsxs(ce,{children:[r.jsxs(de,{className:"flex items-center space-x-2",children:[r.jsx(jc,{className:"h-5 w-5"}),r.jsx("span",{children:S.conference_name})]}),r.jsxs(je,{children:["Round ",s,"  ",C.length," picks"]})]}),r.jsx(te,{children:r.jsx("div",{className:"rounded-md border",children:r.jsxs(un,{children:[r.jsx(fn,{children:r.jsxs(Te,{children:[r.jsx(oe,{className:"w-16",children:"Pick"}),r.jsx(oe,{className:"w-16",children:"Overall"}),r.jsx(oe,{children:"Player"}),r.jsx(oe,{children:"Position"}),r.jsx(oe,{className:"hidden sm:table-cell",children:"NFL Team"}),r.jsx(oe,{children:"Drafted By"})]})}),r.jsx(hn,{children:C.length>0?C.map(T=>r.jsxs(Te,{children:[r.jsx(se,{className:"font-medium",children:T.draft_slot}),r.jsx(se,{className:"font-medium",children:T.pick_number}),r.jsx(se,{className:"font-semibold",children:T.player_name}),r.jsx(se,{children:r.jsx(ae,{className:U(T.position),children:T.position})}),r.jsx(se,{className:"hidden sm:table-cell",children:T.nfl_team}),r.jsx(se,{children:r.jsxs("div",{className:"text-sm",children:[r.jsx("div",{className:"font-medium",children:T.team_name}),r.jsx("div",{className:"text-muted-foreground",children:T.owner_name})]})})]},`${S.id}-${T.pick_number}`)):r.jsx(Te,{children:r.jsxs(se,{colSpan:6,className:"text-center text-muted-foreground py-8",children:["No picks found for round ",s]})})})]})})})]},S.id)},L=()=>{const S=M();return r.jsx("div",{className:"space-y-6",children:S.map(k=>{const C=d.filter(A=>A.conference_id===k.id),T=new Map;C.forEach(A=>{const $=A.team_id;T.has($)||T.set($,{team_id:A.team_id,owner_name:A.owner_name,team_name:A.team_name,picks:[]}),T.get($).picks.push(A)}),T.forEach(A=>{A.picks.sort(($,H)=>{const W=parseInt($.round),z=parseInt(H.round);return W!==z?W-z:parseInt($.draft_slot)-parseInt(H.draft_slot)})});const D=Array.from(T.values());return r.jsxs(X,{children:[r.jsx(ce,{children:r.jsxs(de,{className:"flex items-center space-x-2",children:[r.jsx(Gt,{className:"h-5 w-5"}),r.jsxs("span",{children:[k.conference_name," - Team Draft Summary"]})]})}),r.jsxs(te,{children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:D.map(A=>{const $=b.has(A.team_id),H=$?A.picks:A.picks.slice(0,8);return r.jsxs(X,{children:[r.jsxs(ce,{className:"pb-2",children:[r.jsx(de,{className:"text-lg",children:A.team_name}),r.jsxs(je,{children:[A.owner_name,"  ",A.picks.length," picks"]})]}),r.jsx(te,{children:r.jsxs("div",{className:"space-y-2",children:[H.map(W=>r.jsxs("div",{className:"flex items-center justify-between p-2 rounded-md bg-accent/50",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(ae,{variant:"outline",className:"text-xs",children:["R",W.round]}),r.jsx("span",{className:"font-medium text-sm",children:W.player_name}),r.jsx(ae,{className:`${U(W.position)} text-xs`,children:W.position})]}),r.jsxs("span",{className:"text-xs text-muted-foreground",children:["#",W.pick_number]})]},W.pick_number)),A.picks.length>8&&r.jsx("div",{className:"flex justify-center pt-2",children:r.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>R(A.team_id),className:"text-xs",children:$?r.jsxs(r.Fragment,{children:[r.jsx(Bx,{className:"h-3 w-3 mr-1"}),"Show Less"]}):r.jsxs(r.Fragment,{children:[r.jsx(Af,{className:"h-3 w-3 mr-1"}),"Show All ",A.picks.length," Picks"]})})})]})})]},A.team_id)})}),D.length===0&&r.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[r.jsx(We,{className:"h-8 w-8 mx-auto mb-2"}),r.jsx("p",{children:"No draft picks found for this conference"}),r.jsx("p",{className:"text-sm",children:"Try syncing draft data from the Admin panel"})]})]})]},k.id)})})};if(l)return r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsx("div",{className:"animate-spin h-8 w-8 border-b-2 border-blue-600 rounded-full"})});console.log(" Render debug:",{selectedSeason:e,selectedConference:t,draftPicksCount:d.length,seasonsCount:y.length,conferencesCount:f.length,teamsCount:x.length});const B=M();console.log(" Conferences to show:",B.length);const K=B.reduce((S,k)=>{const C=new Set(d.filter(T=>T.conference_id===k.id).map(T=>T.team_id));return S+C.size},0),F=Math.max(...d.map(S=>parseInt(S.round)),1);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ou,{className:"h-6 w-6 text-primary"}),r.jsx("h1",{className:"text-3xl font-bold",children:"Draft Results"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("p",{className:"text-muted-foreground",children:[e," Season  ",t?((q=B[0])==null?void 0:q.conference_name)||"Conference":"All Conferences"]}),r.jsxs(ee,{variant:"outline",size:"sm",onClick:E,disabled:v,children:[v?r.jsx(Xe,{className:"h-4 w-4 mr-2 animate-spin"}):r.jsx(Xe,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(X,{children:r.jsxs(ce,{className:"pb-2",children:[r.jsx(je,{children:"Total Conferences"}),r.jsx(de,{className:"text-2xl",children:B.length})]})}),r.jsx(X,{children:r.jsxs(ce,{className:"pb-2",children:[r.jsx(je,{children:"Total Teams"}),r.jsx(de,{className:"text-2xl",children:K})]})}),r.jsx(X,{children:r.jsxs(ce,{className:"pb-2",children:[r.jsx(je,{children:"Total Picks"}),r.jsx(de,{className:"text-2xl",children:d.length})]})}),r.jsx(X,{children:r.jsxs(ce,{className:"pb-2",children:[r.jsx(je,{children:"Max Rounds"}),r.jsx(de,{className:"text-2xl",children:F})]})})]}),d.length===0?r.jsx(X,{children:r.jsxs(te,{className:"flex flex-col items-center justify-center py-12",children:[r.jsx(We,{className:"h-12 w-12 text-muted-foreground mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Draft Results Found"}),r.jsxs("p",{className:"text-muted-foreground text-center mb-4",children:["No draft picks found for the ",e," season",t?` in ${t}`:"","."]}),r.jsxs("div",{className:"text-sm text-muted-foreground text-center space-y-2",children:[r.jsx("p",{children:"Try:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[r.jsx("li",{children:"Selecting a different season from the dropdown above"}),r.jsx("li",{children:'Choosing "All Conferences" if you have a conference selected'}),r.jsx("li",{children:"Syncing draft data from Admin  Data Sync  Draft Sync"})]})]})]})}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:r.jsx("div",{className:"flex items-center space-x-4",children:r.jsxs(vt,{value:s.toString(),onValueChange:S=>a(parseInt(S)),children:[r.jsx(dt,{className:"w-32",children:r.jsx(wt,{})}),r.jsx(ut,{children:Array.from({length:F},(S,k)=>r.jsxs(ke,{value:(k+1).toString(),children:["Round ",k+1]},k+1))})]})})}),r.jsxs(Kr,{value:i,onValueChange:S=>o(S),className:"w-full",children:[r.jsxs(jr,{children:[r.jsx(Fe,{value:"board",children:"Draft Board"}),r.jsx(Fe,{value:"team",children:"Team View"})]}),r.jsx(Be,{value:"board",className:"space-y-6",children:B.map(S=>O(S))}),r.jsx(Be,{value:"team",className:"space-y-6",children:L()})]}),r.jsxs(X,{children:[r.jsxs(ce,{children:[r.jsxs(de,{className:"flex items-center space-x-2",children:[r.jsx(bt,{className:"h-5 w-5"}),r.jsx("span",{children:"Draft Analysis"})]}),r.jsx(je,{children:"Draft insights and position trends"})]}),r.jsx(te,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold text-green-600",children:d.filter(S=>S.position==="RB").length}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Running Backs Drafted"})]}),r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold",children:d.filter(S=>S.position==="QB").length}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Quarterbacks Drafted"})]}),r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold",children:d.filter(S=>S.position==="WR").length}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Wide Receivers Drafted"})]})]})})]})]})]})},V6={pass_yd:{category:"passing",key:"passingYards",description:"passing yards",per:25},pass_td:{category:"passing",key:"passingTDs",description:"passing touchdown",per:1},pass_int:{category:"passing",key:"interceptions",description:"interception",per:1},pass_2pt:{category:"passing",key:"passing2pt",description:"2-point conversion",per:1},rush_yd:{category:"rushing",key:"rushingYards",description:"rushing yards",per:10},rush_td:{category:"rushing",key:"rushingTDs",description:"rushing touchdown",per:1},rush_2pt:{category:"rushing",key:"rushing2pt",description:"2-point conversion",per:1},rec_yd:{category:"receiving",key:"receivingYards",description:"receiving yards",per:10},rec:{category:"receiving",key:"receptions",description:"reception (PPR)",per:1},rec_td:{category:"receiving",key:"receivingTDs",description:"receiving touchdown",per:1},rec_2pt:{category:"receiving",key:"receiving2pt",description:"2-point conversion",per:1}},W6=()=>{const{selectedSeason:e}=Fn(),[t,n]=h.useState(null),[s,a]=h.useState(!0),[i,o]=h.useState(null),l=d=>{const u={passing:{},rushing:{},receiving:{}};return Object.entries(d).forEach(([f,m])=>{const y=V6[f];y&&(u[y.category][y.key]={points:m,per:y.per,description:`${m>0?"+":""}${m} point${Math.abs(m)!==1?"s":""} per ${y.description}`})}),u},c=async()=>{if(!e){o("No season selected"),a(!1);return}try{a(!0),o(null);const{data:d}=await ne.getSeasons({filters:[{column:"season_year",operator:"eq",value:e}]});if(!d||d.length===0){o("Season not found"),a(!1);return}const u=d[0];if(u.scoring_settings){const f=l(u.scoring_settings);n(f)}else{if(console.log("Scoring settings not found, fetching from Sleeper API..."),!(await ne.updateSeasonScoringSettings(u.id)).success){o("Failed to fetch scoring settings from Sleeper API"),a(!1);return}const{data:m}=await ne.getSeasons({filters:[{column:"season_year",operator:"eq",value:e}]});if(m&&m.length>0&&m[0].scoring_settings){const y=l(m[0].scoring_settings);n(y)}else o("Failed to update scoring settings")}}catch(d){console.error("Error fetching scoring settings:",d),o("Failed to load scoring settings")}finally{a(!1)}};return h.useEffect(()=>{c()},[e]),{scoringSettings:t,loading:s,error:i,refetch:c}},_m={positions:{QB:1,RB:2,WR:2,TE:1,FLEX:1,SUPER_FLEX:1,DEF:1,BENCH:6},totalRosterSize:15,startingLineupSize:9,benchSize:6},H6=()=>{const{selectedSeason:e}=Fn(),[t,n]=h.useState(null),[s,a]=h.useState(!0),[i,o]=h.useState(null),l=d=>{const u={};d.forEach(j=>{u[j]=(u[j]||0)+1});const f=d.length,m=15,y=m-f;return y>0&&(u.BENCH=y),{positions:u,totalRosterSize:m,startingLineupSize:f,benchSize:y}},c=async()=>{if(!e){o("No season selected"),a(!1);return}try{a(!0),o(null);const{data:d}=await ne.getSeasons({filters:[{column:"season_year",operator:"eq",value:e}]});if(!d||d.length===0){o("Season not found"),a(!1);return}const u=d[0];if(u.roster_positions){const f=l(u.roster_positions);n(f)}else{if(console.log("Roster positions not found, fetching from Sleeper API..."),!(await ne.updateSeasonRosterPositions(u.id)).success){console.warn("Failed to fetch roster positions from Sleeper API, using defaults"),n(_m),a(!1);return}const{data:m}=await ne.getSeasons({filters:[{column:"season_year",operator:"eq",value:e}]});if(m&&m.length>0&&m[0].roster_positions){const y=l(m[0].roster_positions);n(y)}else n(_m)}}catch(d){console.error("Error fetching roster settings:",d),o("Failed to load roster settings"),n(_m)}finally{a(!1)}};return h.useEffect(()=>{c()},[e]),{rosterSettings:t,loading:s,error:i,refetch:c}},bm={id:0,season_id:0,playoff_teams:10,week_14_byes:6,reseed:!0,playoff_start_week:14,championship_week:17,is_active:!0},q6=()=>{const{selectedSeason:e}=Fn(),[t,n]=h.useState(null),[s,a]=h.useState(!0),[i,o]=h.useState(null),l=async()=>{if(!e){o("No season selected"),a(!1);return}try{a(!0),o(null);const{data:c}=await ne.getSeasons({filters:[{column:"season_year",operator:"eq",value:e}]});if(!c||c.length===0){o("Season not found"),n(bm),a(!1);return}const d=c[0],{data:u}=await ne.getPlayoffFormats({filters:[{column:"season_id",operator:"eq",value:d.id},{column:"is_active",operator:"eq",value:!0}]});u&&u.length>0?n(u[0]):(console.warn("No playoff format found for season, using defaults"),n(bm))}catch(c){console.error("Error fetching playoff format:",c),o("Failed to load playoff format"),n(bm)}finally{a(!1)}};return h.useEffect(()=>{l()},[e]),{playoffFormat:t,loading:s,error:i,refetch:l}};class uu{static async initializeBucket(){try{const{data:t}=await Dn.storage.listBuckets();if(!(t==null?void 0:t.some(s=>s.name===this.BUCKET_NAME))){const{error:s}=await Dn.storage.createBucket(this.BUCKET_NAME,{public:!0,allowedMimeTypes:this.ALLOWED_FILE_TYPES,fileSizeLimit:this.MAX_FILE_SIZE});if(s)throw console.error("Error creating charter bucket:",s),s}}catch(t){throw console.error("Error initializing charter bucket:",t),t}}static async uploadCharter(t,n,s){try{const a=this.validateFile(n);if(!a.valid)return{success:!1,error:a.error};await this.initializeBucket();const i=n.name.split(".").pop(),l=`charters/${`charter-season-${t}-${Date.now()}.${i}`}`,{data:c,error:d}=await Dn.storage.from(this.BUCKET_NAME).upload(l,n,{cacheControl:"3600",upsert:!0});if(d)return console.error("Error uploading charter:",d),{success:!1,error:"Failed to upload file"};const{data:u}=Dn.storage.from(this.BUCKET_NAME).getPublicUrl(l);if(!u.publicUrl)return{success:!1,error:"Failed to get file URL"};const{error:f}=await ne.updateSeason(t,{charter_file_url:u.publicUrl,charter_file_name:n.name,charter_uploaded_at:new Date().toISOString(),charter_uploaded_by:s});return f?(console.error("Error updating season with charter info:",f),await this.deleteCharterFile(l),{success:!1,error:"Failed to save charter information"}):{success:!0,fileUrl:u.publicUrl,fileName:n.name}}catch(a){return console.error("Error in uploadCharter:",a),{success:!1,error:"Unexpected error during upload"}}}static async getCharterInfo(t){try{const{data:n}=await ne.getSeasons({filters:[{column:"id",operator:"eq",value:t}]});if(!n||n.length===0)return null;const s=n[0];return!s.charter_file_url||!s.charter_file_name?null:{fileUrl:s.charter_file_url,fileName:s.charter_file_name,uploadedAt:s.charter_uploaded_at||"",uploadedBy:s.charter_uploaded_by||""}}catch(n){return console.error("Error getting charter info:",n),null}}static async deleteCharter(t){try{const n=await this.getCharterInfo(t);if(!n)return{success:!1,error:"No charter found for this season"};const a=new URL(n.fileUrl).pathname.split("/").slice(-2).join("/"),{error:i}=await Dn.storage.from(this.BUCKET_NAME).remove([a]);i&&console.error("Error deleting charter file:",i);const{error:o}=await ne.updateSeason(t,{charter_file_url:null,charter_file_name:null,charter_uploaded_at:null,charter_uploaded_by:null});return o?(console.error("Error updating season after charter deletion:",o),{success:!1,error:"Failed to update season record"}):{success:!0}}catch(n){return console.error("Error in deleteCharter:",n),{success:!1,error:"Unexpected error during deletion"}}}static validateFile(t){return t.size>this.MAX_FILE_SIZE?{valid:!1,error:"File size must be less than 10MB"}:this.ALLOWED_FILE_TYPES.includes(t.type)?{valid:!0}:{valid:!1,error:"File must be PDF, Word document, or text file"}}static async deleteCharterFile(t){try{await Dn.storage.from(this.BUCKET_NAME).remove([t])}catch(n){console.error("Error deleting charter file:",n)}}static getFileIcon(t){var s;switch((s=t.split(".").pop())==null?void 0:s.toLowerCase()){case"pdf":return"";case"doc":case"docx":return"";case"txt":return"";default:return""}}}Jt(uu,"BUCKET_NAME","league-documents"),Jt(uu,"ALLOWED_FILE_TYPES",["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain"]),Jt(uu,"MAX_FILE_SIZE",10*1024*1024);const K6=()=>{const{selectedSeason:e}=Fn(),[t,n]=h.useState(null),[s,a]=h.useState(!0),[i,o]=h.useState(null),l=async()=>{if(!e){o("No season selected"),a(!1);return}try{a(!0),o(null);const{data:c}=await ne.getSeasons({filters:[{column:"season_year",operator:"eq",value:e}]});if(!c||c.length===0){o("Season not found"),a(!1);return}const d=c[0],u=await uu.getCharterInfo(d.id);n(u)}catch(c){console.error("Error fetching charter info:",c),o("Failed to load charter information"),n(null)}finally{a(!1)}};return h.useEffect(()=>{l()},[e]),{charterInfo:t,loading:s,error:i,refetch:l,hasCharter:!!t}},G6=({fileUrl:e,fileName:t,className:n=""})=>{const[s,a]=h.useState(!1),[i,o]=h.useState(!0),[l,c]=h.useState(null),[d,u]=h.useState("iframe"),[f,m]=h.useState(!0),y=()=>{const p=navigator.mimeTypes&&navigator.mimeTypes["application/pdf"],v=/Chrome/.test(navigator.userAgent),_=/Firefox/.test(navigator.userAgent),b=/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent);return p||v||_||b},j=()=>{m(!1),c(null)},g=()=>{m(!1),c("Failed to load PDF in iframe. Trying alternative method..."),d==="iframe"?u("embed"):d==="embed"&&u("object")},w=()=>{c(null),m(!0),u("iframe")},x=()=>{const p={width:"100%",height:"100%",title:t,onLoad:j,onError:g},v=`${e}#toolbar=1&navpanes=1&scrollbar=1&view=FitH`;switch(d){case"iframe":return r.jsx("iframe",{src:v,className:"border-0 w-full h-full",...p});case"embed":return r.jsx("embed",{src:v,type:"application/pdf",className:"w-full h-full",...p});case"object":return r.jsx("object",{data:v,type:"application/pdf",className:"w-full h-full",...p,children:r.jsxs("p",{children:["Your browser doesn't support PDF viewing.",r.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"text-primary underline ml-1",children:"Click here to download the PDF"})]})});default:return null}};return i?r.jsxs("div",{className:`space-y-4 ${n}`,children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ae,{variant:"secondary",children:"PDF Viewer"}),!y()&&r.jsx(ae,{variant:"destructive",children:"Limited Browser Support"})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(ee,{variant:"outline",size:"sm",onClick:w,disabled:f,children:[r.jsx(Xe,{className:`h-4 w-4 mr-1 ${f?"animate-spin":""}`}),"Reload"]}),r.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>o(!1),children:[r.jsx(ql,{className:"h-4 w-4 mr-1"}),"Hide"]}),r.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>a(!s),children:[s?r.jsx(Bp,{className:"h-4 w-4 mr-1"}):r.jsx(Fp,{className:"h-4 w-4 mr-1"}),s?"Minimize":"Expand"]}),r.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>window.open(e,"_blank"),children:[r.jsx(Qc,{className:"h-4 w-4 mr-1"}),"New Tab"]}),r.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>{const p=document.createElement("a");p.href=e,p.download=t,document.body.appendChild(p),p.click(),document.body.removeChild(p)},children:[r.jsx(hN,{className:"h-4 w-4 mr-1"}),"Download"]})]})]}),r.jsxs("div",{className:`border rounded-lg overflow-hidden bg-gray-100 dark:bg-gray-800 relative ${s?"fixed inset-4 z-50 bg-white dark:bg-gray-900":"h-96 md:h-[600px]"}`,children:[f&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white dark:bg-gray-900 z-10",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading PDF..."})]})}),l?r.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white dark:bg-gray-900 z-10",children:r.jsxs(Ie,{variant:"destructive",className:"max-w-md",children:[r.jsx(We,{className:"h-4 w-4"}),r.jsxs(Oe,{children:[l,r.jsxs("div",{className:"mt-2 space-x-2",children:[r.jsx(ee,{size:"sm",variant:"outline",onClick:w,children:"Try Again"}),r.jsx(ee,{size:"sm",variant:"outline",onClick:()=>window.open(e,"_blank"),children:"Open in New Tab"})]})]})]})}):x()]}),!y()&&r.jsxs(Ie,{children:[r.jsx(We,{className:"h-4 w-4"}),r.jsx(Oe,{children:"Your browser may have limited PDF viewing support. For the best experience, try opening the PDF in a new tab or downloading it."})]}),r.jsxs(Ie,{children:[r.jsx(We,{className:"h-4 w-4"}),r.jsxs(Oe,{children:[r.jsx("strong",{children:"Tips:"}),` Use the expand button for full-screen viewing. If the PDF doesn't load properly, try the "New Tab" or "Download" options.`]})]})]}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(ql,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"PDF viewer hidden"}),r.jsxs(ee,{variant:"outline",onClick:()=>o(!0),className:"mt-2",children:[r.jsx(mN,{className:"h-4 w-4 mr-2"}),"Show PDF"]})]})},Y6=({fileUrl:e,fileName:t,uploadedAt:n})=>{const[s,a]=h.useState(!1),[i,o]=h.useState(!0),[l,c]=h.useState(null),d=w=>{var x;return((x=w.split(".").pop())==null?void 0:x.toLowerCase())||""},u=w=>{switch(d(w)){case"pdf":return"PDF Document";case"doc":case"docx":return"Word Document";case"txt":return"Text Document";default:return"Document"}},f=()=>{const w=d(t);if(!i)return r.jsxs("div",{className:"text-center py-8",children:[r.jsx(ql,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Document viewer hidden"}),r.jsxs(ee,{variant:"outline",onClick:()=>o(!0),className:"mt-2",children:[r.jsx(mN,{className:"h-4 w-4 mr-2"}),"Show Document"]})]});switch(w){case"pdf":return m();case"doc":case"docx":return y();case"txt":return j();default:return g()}},m=()=>r.jsx(G6,{fileUrl:e,fileName:t}),y=()=>r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(ae,{variant:"secondary",children:"Document Viewer"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>o(!1),children:[r.jsx(ql,{className:"h-4 w-4 mr-1"}),"Hide"]}),r.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>a(!s),children:[s?r.jsx(Bp,{className:"h-4 w-4 mr-1"}):r.jsx(Fp,{className:"h-4 w-4 mr-1"}),s?"Minimize":"Expand"]})]})]}),r.jsx("div",{className:`border rounded-lg overflow-hidden ${s?"h-screen":"h-96"}`,children:r.jsx("iframe",{src:`https://docs.google.com/viewer?url=${encodeURIComponent(e)}&embedded=true`,width:"100%",height:"100%",title:t,className:"border-0",onError:()=>c("Failed to load document. Please try downloading the file.")})}),r.jsxs(Ie,{children:[r.jsx(We,{className:"h-4 w-4"}),r.jsx(Oe,{children:"Word documents are displayed using Google Docs Viewer. For best experience, consider uploading as PDF."})]})]}),j=()=>{const[w,x]=h.useState(""),[p,v]=h.useState(!0);return De.useEffect(()=>{fetch(e).then(_=>_.text()).then(_=>{x(_),v(!1)}).catch(_=>{console.error("Error loading text file:",_),c("Failed to load text file content."),v(!1)})},[e]),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(ae,{variant:"secondary",children:"Text Viewer"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>o(!1),children:[r.jsx(ql,{className:"h-4 w-4 mr-1"}),"Hide"]}),r.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>a(!s),children:[s?r.jsx(Bp,{className:"h-4 w-4 mr-1"}):r.jsx(Fp,{className:"h-4 w-4 mr-1"}),s?"Minimize":"Expand"]})]})]}),r.jsx("div",{className:`border rounded-lg p-4 bg-gray-50 dark:bg-gray-900 overflow-auto ${s?"h-screen":"h-96"}`,children:p?r.jsx("div",{className:"flex items-center justify-center h-full",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):r.jsx("pre",{className:"whitespace-pre-wrap text-sm font-mono",children:w})})]})},g=()=>r.jsxs(Ie,{children:[r.jsx(We,{className:"h-4 w-4"}),r.jsx(kr,{children:"Preview Not Available"}),r.jsx(Oe,{children:"This file type cannot be previewed in the browser. Please download the file to view its contents."})]});return r.jsxs(X,{children:[r.jsx(ce,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(wc,{className:"h-6 w-6 text-primary"}),r.jsxs("div",{children:[r.jsx(de,{className:"text-lg",children:t}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[u(t),"  Last updated: ",new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>window.open(e,"_blank"),children:[r.jsx(Qc,{className:"h-4 w-4 mr-1"}),"Open in New Tab"]}),r.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>{const w=document.createElement("a");w.href=e,w.download=t,document.body.appendChild(w),w.click(),document.body.removeChild(w)},children:[r.jsx(hN,{className:"h-4 w-4 mr-1"}),"Download"]})]})]})}),r.jsx(te,{children:l?r.jsxs(Ie,{variant:"destructive",children:[r.jsx(We,{className:"h-4 w-4"}),r.jsx(kr,{children:"Viewer Error"}),r.jsx(Oe,{children:l})]}):f()})]})},Ja={scoring:{passing:{passingYards:{points:1,per:25,description:"1 point per 25 passing yards"},passingTDs:{points:4,per:1,description:"4 points per passing touchdown"},interceptions:{points:-2,per:1,description:"-2 points per interception"},passing2pt:{points:2,per:1,description:"2 points per 2-point conversion"}},rushing:{rushingYards:{points:1,per:10,description:"1 point per 10 rushing yards"},rushingTDs:{points:6,per:1,description:"6 points per rushing touchdown"},rushing2pt:{points:2,per:1,description:"2 points per 2-point conversion"}},receiving:{receivingYards:{points:1,per:10,description:"1 point per 10 receiving yards"},receptions:{points:.5,per:1,description:"0.5 points per reception (PPR)"},receivingTDs:{points:6,per:1,description:"6 points per receiving touchdown"},receiving2pt:{points:2,per:1,description:"2 points per 2-point conversion"}}},roster:{positions:{QB:1,RB:2,WR:2,TE:1,FLEX:1,K:1,DEF:1,BENCH:6},waiverSystem:"FAAB",waiverBudget:100,waiverClearTime:"Wednesday 3:00 AM ET"}},Q6=()=>{var v,_,b,P,N,E;const{selectedSeason:e,selectedConference:t,currentSeasonConfig:n}=Fn(),{scoringSettings:s,loading:a,error:i}=W6(),{rosterSettings:o,loading:l,error:c}=H6(),{playoffFormat:d,loading:u,error:f}=q6(),{charterInfo:m,loading:y,error:j,hasCharter:g}=K6(),[w,x]=h.useState("scoring"),p=(R,M)=>!M||Object.keys(M).length===0?r.jsxs(X,{children:[r.jsx(ce,{children:r.jsx(de,{className:"capitalize",children:R})}),r.jsx(te,{children:r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:["No ",R," scoring rules configured"]})})]}):r.jsxs(X,{children:[r.jsx(ce,{children:r.jsx(de,{className:"capitalize",children:R})}),r.jsx(te,{children:r.jsx("div",{className:"rounded-md border",children:r.jsxs(un,{children:[r.jsx(fn,{children:r.jsxs(Te,{children:[r.jsx(oe,{children:"Statistic"}),r.jsx(oe,{className:"text-right",children:"Points"}),r.jsx(oe,{className:"hidden md:table-cell",children:"Description"})]})}),r.jsx(hn,{children:Object.entries(M).map(([U,O])=>r.jsxs(Te,{children:[r.jsx(se,{className:"font-medium",children:U.replace(/([A-Z])/g," $1").replace(/^./,L=>L.toUpperCase())}),r.jsx(se,{className:"text-right font-mono",children:r.jsxs(ae,{variant:O.points>0?"default":"destructive",children:[O.points>0?"+":"",O.points]})}),r.jsx(se,{className:"hidden md:table-cell text-sm text-muted-foreground",children:O.description})]},U))})]})})})]});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(wc,{className:"h-6 w-6 text-primary"}),r.jsx("h1",{className:"text-3xl font-bold",children:"League Rules"})]}),r.jsxs("p",{className:"text-muted-foreground",children:[e," Season  Official rules and regulations for the Gladiator League"]})]}),r.jsxs(Ie,{children:[r.jsx(Ya,{className:"h-4 w-4"}),r.jsx(kr,{children:"League Information"}),r.jsx(Oe,{children:"These rules apply to all three conferences within the Gladiator League. Conference-specific variations are noted where applicable."})]}),r.jsxs(Kr,{value:w,onValueChange:x,className:"w-full",children:[r.jsxs(jr,{className:"grid w-full grid-cols-5",children:[r.jsx(Fe,{value:"scoring",children:"Scoring"}),r.jsx(Fe,{value:"roster",children:"Roster"}),r.jsx(Fe,{value:"schedule",children:"Schedule"}),r.jsx(Fe,{value:"payouts",children:"Payouts"}),r.jsx(Fe,{value:"charter",children:"Charter"})]}),r.jsxs(Be,{value:"scoring",className:"space-y-6",children:[a?r.jsx(X,{children:r.jsx(te,{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ct,{className:"h-6 w-6 animate-spin"}),r.jsx("span",{children:"Loading scoring settings..."})]})})}):i?r.jsxs(Ie,{variant:"destructive",children:[r.jsx(Ya,{className:"h-4 w-4"}),r.jsx(kr,{children:"Error Loading Scoring Settings"}),r.jsxs(Oe,{children:[i,". Using default scoring rules as fallback."]})]}):null,r.jsx("div",{className:"grid gap-6",children:s?r.jsxs(r.Fragment,{children:[p("passing",s.passing),p("rushing",s.rushing),p("receiving",s.receiving)]}):r.jsxs(r.Fragment,{children:[p("passing",Ja.scoring.passing),p("rushing",Ja.scoring.rushing),p("receiving",Ja.scoring.receiving)]})}),r.jsxs(X,{children:[r.jsx(ce,{children:r.jsxs(de,{className:"flex items-center space-x-2",children:[r.jsx(zu,{className:"h-5 w-5"}),r.jsx("span",{children:"Scoring Summary"})]})}),r.jsx(te,{children:s?r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold",children:s.receiving.receptions?`${s.receiving.receptions.points} PPR`:"Standard"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:s.receiving.receptions?`${s.receiving.receptions.points} Points per Reception`:"No PPR Scoring"})]}),r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsxs("p",{className:"text-2xl font-bold",children:[((v=s.passing.passingTDs)==null?void 0:v.points)||0,"/",((_=s.rushing.rushingTDs)==null?void 0:_.points)||((b=s.receiving.receivingTDs)==null?void 0:b.points)||0]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Pass TD / Rush-Rec TD"})]}),r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsxs("p",{className:"text-2xl font-bold",children:[((P=s.passing.passingYards)==null?void 0:P.per)||25,"/",((N=s.rushing.rushingYards)==null?void 0:N.per)||((E=s.receiving.receivingYards)==null?void 0:E.per)||10]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Pass Yards / Rush-Rec Yards"})]})]}):r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold",children:"PPR"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"0.5 Points per Reception"})]}),r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold",children:"4/6"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Pass TD / Rush-Rec TD"})]}),r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold",children:"25/10"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Pass Yards / Rush-Rec Yards"})]})]})})]})]}),r.jsxs(Be,{value:"roster",className:"space-y-6",children:[l?r.jsx(X,{children:r.jsx(te,{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ct,{className:"h-6 w-6 animate-spin"}),r.jsx("span",{children:"Loading roster settings..."})]})})}):c?r.jsxs(Ie,{variant:"destructive",children:[r.jsx(Ya,{className:"h-4 w-4"}),r.jsx(kr,{children:"Error Loading Roster Settings"}),r.jsxs(Oe,{children:[c,". Using default roster configuration as fallback."]})]}):null,r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs(X,{children:[r.jsxs(ce,{children:[r.jsxs(de,{className:"flex items-center space-x-2",children:[r.jsx(Gt,{className:"h-5 w-5"}),r.jsx("span",{children:"Starting Lineup"})]}),r.jsx(je,{children:"Required positions for weekly lineup"})]}),r.jsx(te,{children:r.jsx("div",{className:"space-y-3",children:Object.entries((o==null?void 0:o.positions)||Ja.roster.positions).filter(([R])=>R!=="BENCH").map(([R,M])=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ae,{variant:"outline",children:R}),r.jsx("span",{className:"text-sm text-muted-foreground",children:R==="FLEX"?"RB/WR/TE":R==="SUPER_FLEX"?"QB/RB/WR/TE":R==="DEF"?"Team Defense":R})]}),r.jsx("span",{className:"font-semibold",children:M})]},R))})})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(X,{children:[r.jsxs(ce,{className:"pb-3",children:[r.jsx(de,{className:"text-lg",children:"Roster Management"}),r.jsx(je,{className:"text-sm",children:"Roster size and configuration"})]}),r.jsx(te,{children:r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Roster Size"}),r.jsx("p",{className:"text-xl font-bold",children:"21"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Starting Lineup"}),r.jsx("p",{className:"text-xl font-bold",children:"9"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Bench"}),r.jsx("p",{className:"text-xl font-bold",children:"12"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"IR"}),r.jsx("p",{className:"text-xl font-bold",children:"2"})]})]})})]}),r.jsxs(X,{children:[r.jsxs(ce,{className:"pb-3",children:[r.jsx(de,{className:"text-lg",children:"Waiver & Trade Rules"}),r.jsx(je,{className:"text-sm",children:"League transaction settings"})]}),r.jsxs(te,{children:[r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Waiver System"}),r.jsx("p",{className:"font-semibold",children:Ja.roster.waiverSystem})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"FAAB Budget"}),r.jsxs("p",{className:"font-semibold",children:["$",Ja.roster.waiverBudget]})]})]}),r.jsxs("div",{className:"pt-3 mt-3 border-t",children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Waiver Clear Time"}),r.jsx("p",{className:"text-sm font-medium",children:Ja.roster.waiverClearTime})]})]})]})]})]})]}),r.jsxs(Be,{value:"schedule",className:"space-y-6",children:[u?r.jsx(X,{children:r.jsx(te,{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ct,{className:"h-6 w-6 animate-spin"}),r.jsx("span",{children:"Loading schedule information..."})]})})}):f?r.jsxs(Ie,{variant:"destructive",children:[r.jsx(Ya,{className:"h-4 w-4"}),r.jsx(kr,{children:"Error Loading Schedule Information"}),r.jsxs(Oe,{children:[f,". Using default schedule information as fallback."]})]}):null,r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs(X,{children:[r.jsxs(ce,{children:[r.jsxs(de,{className:"flex items-center space-x-2",children:[r.jsx(ns,{className:"h-5 w-5"}),r.jsx("span",{children:"Season Structure"})]}),r.jsx(je,{children:"Regular season and playoff format"})]}),r.jsx(te,{className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Regular Season"}),r.jsx("p",{className:"text-2xl font-bold",children:"12 weeks"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Playoffs"}),r.jsx("p",{className:"text-2xl font-bold",children:"5 weeks"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Playoff Teams"}),r.jsxs("p",{className:"text-2xl font-bold",children:[(d==null?void 0:d.playoff_teams)||10,"/36"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"First Round Byes"}),r.jsx("p",{className:"text-2xl font-bold",children:(d==null?void 0:d.week_14_byes)||6})]})]})})]}),r.jsxs(X,{children:[r.jsxs(ce,{children:[r.jsx(de,{children:"Important Dates"}),r.jsxs(je,{children:[e," season timeline"]})]}),r.jsxs(te,{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsx("span",{className:"font-medium",children:"Regular Season"}),r.jsx("span",{className:"text-sm",children:"Weeks 1-12"})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsx("span",{className:"font-medium",children:"Conference Championships"}),r.jsx("span",{className:"text-sm",children:"Week 13"})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsx("span",{className:"font-medium",children:"Playoffs Begin"}),r.jsxs("span",{className:"text-sm",children:["Week ",(d==null?void 0:d.playoff_start_week)||14]})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsx("span",{className:"font-medium",children:"Coliseum Championship"}),r.jsxs("span",{className:"text-sm",children:["Week ",(d==null?void 0:d.championship_week)||17]})]})]})]})]}),r.jsxs(X,{children:[r.jsx(ce,{children:r.jsx(de,{children:"Playoff Format"})}),r.jsx(te,{children:r.jsxs("div",{className:"prose prose-sm max-w-none",children:[r.jsxs("p",{className:"mb-4",children:["The playoffs consist of ",(d==null?void 0:d.playoff_teams)||10," teams total across all conferences, with the following structure:"]}),r.jsxs("ul",{className:"space-y-3",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Week 13: Conference Championships"})," - Top 2 teams from each conference compete to become Conference Champion"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Playoff Seeding:"}),r.jsxs("ul",{className:"ml-4 mt-2 space-y-1",children:[r.jsx("li",{children:" Top 3 seeds go to Conference Champions"}),r.jsx("li",{children:" Seeds 4-6 go to losing teams of Conference Championship"}),r.jsxs("li",{children:[" Seeds 7-",(d==null?void 0:d.playoff_teams)||10," go to next highest ranked teams, across all Conferences"]})]})]}),r.jsxs("li",{children:[r.jsxs("strong",{children:["Week ",(d==null?void 0:d.playoff_start_week)||14,": Wildcard Round"]})," - Top ",(d==null?void 0:d.week_14_byes)||6," teams get byes. Remaining teams are matched up based on seeding."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Week 15: Quarterfinals Round"})," - Teams are reseeded, includes winners of Wildcard round matchups and teams on bye"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Week 16: Semifinals Round"})," - Teams are reseeded, includes winners of Quarterfinals"]}),r.jsxs("li",{children:[r.jsxs("strong",{children:["Week ",(d==null?void 0:d.championship_week)||17,": Coliseum Championship"]})," - Winners of Semifinals compete to become the Coliseum Champion"]})]}),r.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:d!=null&&d.reseed?"Teams are reseeded after each round based on original seeding.":"Teams maintain their bracket position throughout the playoffs."})]})})]})]}),r.jsx(Be,{value:"payouts",className:"space-y-6",children:r.jsxs(X,{children:[r.jsxs(ce,{children:[r.jsxs(de,{className:"flex items-center space-x-2",children:[r.jsx(Op,{className:"h-5 w-5"}),r.jsx("span",{children:"Prize Structure"})]}),r.jsx(je,{children:"Annual dues: $100 per team  Total prize pool: $3,600"})]}),r.jsx(te,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-semibold",children:"Coliseum Championship Payouts"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-yellow-50 dark:bg-yellow-900/20",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(bt,{className:"h-5 w-5 text-yellow-600"}),r.jsx("span",{className:"font-medium",children:"Coliseum Champion"})]}),r.jsx("span",{className:"font-bold text-lg",children:"$1,200"})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsx("span",{className:"font-medium",children:"Runner-up"}),r.jsx("span",{className:"font-bold",children:"$800"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-semibold",children:"Regular Season Awards"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsx("span",{className:"font-medium",children:"Conference Champions"}),r.jsx("span",{className:"font-bold",children:"$500 each"})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsx("span",{className:"font-medium",children:"Single Week High Score"}),r.jsx("span",{className:"font-bold",children:"$100"})]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx("p",{children:"Conference champions are determined by regular season record within each conference."}),r.jsx("p",{className:"mt-2",children:"Single week high score award goes to the team with the most points in a single week during the regular season."})]})]})]})]})})]})}),r.jsxs(Be,{value:"charter",className:"space-y-6",children:[y?r.jsx(X,{children:r.jsx(te,{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ct,{className:"h-6 w-6 animate-spin"}),r.jsx("span",{children:"Loading charter information..."})]})})}):j?r.jsxs(Ie,{variant:"destructive",children:[r.jsx(Ya,{className:"h-4 w-4"}),r.jsx(kr,{children:"Error Loading Charter"}),r.jsxs(Oe,{children:[j,". Please contact an administrator if this issue persists."]})]}):null,r.jsxs(X,{children:[r.jsxs(ce,{children:[r.jsx(de,{children:"League Charter"}),r.jsxs(je,{children:["Official constitution and bylaws of the Gladiator League - ",e," Season"]})]}),r.jsx(te,{children:g&&m?r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Ie,{children:[r.jsx(Ya,{className:"h-4 w-4"}),r.jsx(kr,{children:"Official League Document"}),r.jsx(Oe,{children:"This charter contains the complete rules, policies, and procedures for the Gladiator League. All league members are expected to be familiar with its contents."})]}),r.jsx(Y6,{fileUrl:m.fileUrl,fileName:m.fileName,uploadedAt:m.uploadedAt})]}):r.jsxs("div",{className:"text-center py-12 border-2 border-dashed rounded-lg",children:[r.jsx(wc,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Charter Available"}),r.jsxs("p",{className:"text-muted-foreground mb-4",children:["The league charter document for the ",e," season has not been uploaded yet."]}),r.jsxs(Ie,{className:"max-w-md mx-auto",children:[r.jsx(Ya,{className:"h-4 w-4"}),r.jsx(Oe,{children:"League administrators can upload the charter document through the admin panel."})]})]})})]}),r.jsxs(X,{children:[r.jsx(ce,{children:r.jsx(de,{children:"League History"})}),r.jsx(te,{children:r.jsxs("div",{className:"prose prose-sm max-w-none",children:[r.jsx("p",{children:"The Gladiator League was founded in 2024 as a premier fantasy football competition consisting of three competitive conferences: Legions of Mars, Guardians of Jupiter, and Vulcan's Oathsworn."}),r.jsx("p",{className:"mt-4",children:"Each conference operates as an independent league while following unified rules and participating in inter-conference competition during special events."}),r.jsx("p",{className:"mt-4",children:"The league charter serves as the official constitution, outlining all rules, procedures, and policies that govern league operations and member conduct."})]})})]})]})]})]})},X6=()=>{const{toast:e}=gn(),[t,n]=h.useState(!1),[s,a]=h.useState([]),i={2024:["1072580179844857856","1072593839715667968","1072593416955015168"],2025:["1204854057169072128","1204857692007440384","1204857608989577216"]},o={2024:1,2025:2},l=async d=>{try{console.log(`Fetching data for league ID: ${d}`);const u=await fetch(`https://api.sleeper.app/v1/league/${d}`);if(!u.ok)throw new Error(`HTTP error! status: ${u.status}`);const f=await u.json();return console.log(`Data received for league ${d}:`,f),{name:f.name||"",league_id:f.league_id||d,season:f.season||"",draft_id:f.draft_id||"",status:f.status||"",avatar:f.avatar||""}}catch(u){return console.error(`Error fetching data for league ${d}:`,u),null}},c=async()=>{n(!0);const d=[];try{const u=[...i[2024],...i[2025]];for(const m of u){const y=await l(m);y&&d.push(y)}console.log("All fetched data:",d),a(d);const f=d.map(m=>{const y=o[m.season]||0,j=m.avatar?`https://sleepercdn.com/avatars/thumbs/${m.avatar}`:"";return{conference_name:m.name,league_id:m.league_id,season_id:y,draft_id:m.draft_id,status:m.status,league_logo_url:j}});console.log("Conference records to insert:",f);for(const m of f)try{const{error:y}=await window.ezsite.apis.tableCreate("12820",m);if(y)throw console.error("Error inserting conference record:",y),new Error(y)}catch(y){console.error("Failed to insert conference record:",y),e({title:"Error",description:`Failed to insert conference: ${m.conference_name}`,variant:"destructive"})}e({title:"Success",description:`Successfully loaded ${f.length} conferences from Sleeper API`})}catch(u){console.error("Error loading conferences data:",u),e({title:"Error",description:"Failed to load conferences data from Sleeper API",variant:"destructive"})}finally{n(!1)}};return r.jsxs("div",{className:"p-4 space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Conferences Data Loader"}),r.jsx("button",{onClick:c,disabled:t,className:"px-4 py-2 bg-blue-600 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-blue-700 transition-colors",children:t?"Loading...":"Load Conferences Data"})]}),r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsx("p",{children:"This will fetch data from Sleeper API for the following league IDs:"}),r.jsxs("div",{className:"mt-2 space-y-1",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"2024 Season:"})," ",i[2024].join(", ")]}),r.jsxs("div",{children:[r.jsx("strong",{children:"2025 Season:"})," ",i[2025].join(", ")]})]})]}),s.length>0&&r.jsxs("div",{className:"mt-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Loaded Data Preview:"}),r.jsx("div",{className:"space-y-2",children:s.map((d,u)=>r.jsxs("div",{className:"p-3 border rounded-lg bg-gray-50",children:[r.jsx("div",{className:"font-medium",children:d.name}),r.jsxs("div",{className:"text-sm text-gray-600",children:["League ID: ",d.league_id," | Season: ",d.season," | Status: ",d.status]})]},u))})]})]})},J6=()=>{const{toast:e}=gn(),[t,n]=h.useState([]),[s,a]=h.useState([]),[i,o]=h.useState(!0),[l,c]=h.useState(!1),d=async()=>{try{const{data:j,error:g}=await window.ezsite.apis.tablePage("12818",{PageNo:1,PageSize:10,OrderByField:"season_year",IsAsc:!0,Filters:[]});if(g)throw new Error(g);a(j.List||[])}catch(j){console.error("Error fetching seasons:",j),e({title:"Error",description:"Failed to load seasons data",variant:"destructive"})}},u=async()=>{try{const{data:j,error:g}=await window.ezsite.apis.tablePage("12820",{PageNo:1,PageSize:50,OrderByField:"conference_name",IsAsc:!0,Filters:[]});if(g)throw new Error(g);n(j.List||[])}catch(j){console.error("Error fetching conferences:",j),e({title:"Error",description:"Failed to load conferences data",variant:"destructive"})}};h.useEffect(()=>{(async()=>{o(!0),await Promise.all([d(),u()]),o(!1)})()},[]);const f=j=>{const g=s.find(w=>w.id===j);return g?g.season_name:`Season ${j}`},m=j=>{switch(j.toLowerCase()){case"in_season":return"bg-green-500";case"complete":return"bg-blue-500";case"drafting":return"bg-orange-500";case"pre_draft":return"bg-yellow-500";default:return"bg-gray-500"}},y=j=>j.replace(/_/g," ").replace(/\b\w/g,g=>g.toUpperCase());return i?r.jsx("div",{className:"container mx-auto px-4 py-8",children:r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"text-lg",children:"Loading conferences..."})})}):r.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-6",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[r.jsx(bt,{className:"h-8 w-8 text-yellow-600"}),"Conferences"]}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Fantasy football conferences and leagues"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(ee,{variant:"outline",onClick:()=>c(!l),children:[l?"Hide":"Show"," Data Loader"]}),r.jsx(ee,{onClick:()=>{u(),e({title:"Refreshed",description:"Conferences data has been refreshed"})},children:"Refresh Data"})]})]}),l&&r.jsx(X,{children:r.jsx(te,{className:"p-0",children:r.jsx(X6,{})})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(X,{children:r.jsx(te,{className:"p-6",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Gt,{className:"h-8 w-8 text-blue-600"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:t.length}),r.jsx("div",{className:"text-sm text-gray-600",children:"Total Conferences"})]})]})})}),r.jsx(X,{children:r.jsx(te,{className:"p-6",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ns,{className:"h-8 w-8 text-green-600"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:t.filter(j=>j.status==="in_season").length}),r.jsx("div",{className:"text-sm text-gray-600",children:"Active Seasons"})]})]})})}),r.jsx(X,{children:r.jsx(te,{className:"p-6",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(bt,{className:"h-8 w-8 text-yellow-600"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:s.length}),r.jsx("div",{className:"text-sm text-gray-600",children:"Total Seasons"})]})]})})})]}),r.jsxs(X,{children:[r.jsx(ce,{children:r.jsx(de,{children:"Conference Details"})}),r.jsx(te,{children:t.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("p",{className:"text-gray-500 mb-4",children:"No conferences found."}),r.jsx(ee,{onClick:()=>c(!0),variant:"outline",children:"Load Conferences Data"})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(un,{children:[r.jsx(fn,{children:r.jsxs(Te,{children:[r.jsx(oe,{children:"Logo"}),r.jsx(oe,{children:"Conference Name"}),r.jsx(oe,{children:"Season"}),r.jsx(oe,{children:"Status"}),r.jsx(oe,{children:"League ID"}),r.jsx(oe,{children:"Draft ID"}),r.jsx(oe,{children:"Actions"})]})}),r.jsx(hn,{children:t.map(j=>r.jsxs(Te,{children:[r.jsx(se,{children:j.league_logo_url?r.jsx("img",{src:j.league_logo_url,alt:`${j.conference_name} logo`,className:"w-10 h-10 rounded-full object-cover",onError:g=>{g.target.src="/placeholder.svg"}}):r.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center",children:r.jsx(bt,{className:"h-5 w-5 text-gray-400"})})}),r.jsx(se,{className:"font-medium",children:j.conference_name}),r.jsx(se,{children:r.jsx(ae,{variant:"secondary",children:f(j.season_id)})}),r.jsx(se,{children:r.jsx(ae,{className:`text-white ${m(j.status)}`,children:y(j.status)})}),r.jsx(se,{className:"font-mono text-sm",children:j.league_id}),r.jsx(se,{className:"font-mono text-sm",children:j.draft_id||"N/A"}),r.jsx(se,{children:r.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>{window.open(`https://sleeper.app/leagues/${j.league_id}`,"_blank")},children:r.jsx(Qc,{className:"h-4 w-4"})})})]},j.id))})]})})})]})]})};var Z6="Label",aT=h.forwardRef((e,t)=>r.jsx(we.label,{...e,ref:t,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));aT.displayName=Z6;var iT=aT;const eB=Jo("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),xt=h.forwardRef(({className:e,...t},n)=>r.jsx(iT,{ref:n,className:ye(eB(),e),...t}));xt.displayName=iT.displayName;const B0=EC,U0=TC,tB=kC,oT=h.forwardRef(({className:e,...t},n)=>r.jsx(Xf,{ref:n,className:ye("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));oT.displayName=Xf.displayName;const mg=h.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(tB,{children:[r.jsx(oT,{}),r.jsxs(Jf,{ref:s,className:ye("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,r.jsxs(PC,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx($i,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));mg.displayName=Jf.displayName;const pg=({className:e,...t})=>r.jsx("div",{className:ye("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});pg.displayName="DialogHeader";const gg=h.forwardRef(({className:e,...t},n)=>r.jsx(Zf,{ref:n,className:ye("text-lg font-semibold leading-none tracking-tight",e),...t}));gg.displayName=Zf.displayName;const xg=h.forwardRef(({className:e,...t},n)=>r.jsx(eh,{ref:n,className:ye("text-sm text-muted-foreground",e),...t}));xg.displayName=eh.displayName;const nB=()=>{const[e,t]=h.useState([]),[n,s]=h.useState([]),[a,i]=h.useState(null),[o,l]=h.useState(null),[c,d]=h.useState(!1),[u,f]=h.useState(!1),[m,y]=h.useState(!0),[j,g]=h.useState(!1),[w,x]=h.useState(null),{toast:p}=gn(),[v,_]=h.useState(""),[b,P]=h.useState(""),[N,E]=h.useState(""),[R,M]=h.useState("");h.useEffect(()=>{U()},[]),h.useEffect(()=>{a&&O()},[a]);const U=async()=>{try{const S=await ne.getSeasons({orderBy:{column:"season_year",ascending:!1}});if(S.error)throw S.error;const k=S.data||[];t(k);const C=k.find(T=>T.is_current);C?i(C.id):k.length>0&&i(k[0].id)}catch(S){console.error("Error loading seasons:",S),p({title:"Error",description:`Failed to load seasons: ${S}`,variant:"destructive"})}finally{y(!1)}},O=async()=>{if(a)try{const S=await ne.getConferences({filters:[{column:"season_id",operator:"eq",value:a}],orderBy:{column:"conference_name",ascending:!0}});if(S.error)throw S.error;s(S.data||[])}catch(S){console.error("Error loading conferences:",S),p({title:"Error",description:`Failed to load conferences: ${S}`,variant:"destructive"})}},L=async S=>{if(S.preventDefault(),!(!v||!b))try{g(!0);const k=await ne.createSeason({season_year:v,season_name:b,is_current:!1});if(k.error)throw k.error;p({title:"Season Added",description:`${b} has been created successfully`}),_(""),P(""),d(!1),U()}catch(k){console.error("Error adding season:",k),p({title:"Error",description:`Failed to add season: ${k}`,variant:"destructive"})}finally{g(!1)}},B=async S=>{if(S.preventDefault(),!(!N||!R||!a))try{g(!0);const k=await ne.createConference({conference_name:N,league_id:R,season_id:a,status:"draft"});if(k.error)throw k.error;p({title:"League Added",description:`${N} has been created successfully`}),E(""),M(""),f(!1),O()}catch(k){console.error("Error adding league:",k),p({title:"Error",description:`Failed to add league: ${k}`,variant:"destructive"})}finally{g(!1)}},K=async S=>{try{g(!0);const k=await ne.updateConference(S.id,{conference_name:S.conference_name,league_id:S.league_id,season_id:S.season_id,draft_id:S.draft_id||void 0,status:S.status,league_logo_url:S.league_logo_url||void 0});if(k.error)throw k.error;p({title:"Conference Updated",description:"Conference details have been saved successfully"}),l(null),O()}catch(k){console.error("Error saving conference:",k),p({title:"Error",description:`Failed to save conference: ${k}`,variant:"destructive"})}finally{g(!1)}},F=async S=>{if(S)try{x(S);const k=await fetch(`https://api.sleeper.app/v1/league/${S}`);if(k.ok){const C=await k.json();p({title:"Connection Successful",description:`League "${C.name}" found on Sleeper API`})}else throw new Error(`API returned ${k.status}`)}catch(k){console.error("Error testing connection:",k),p({title:"Connection Failed",description:`Unable to connect to Sleeper API for league ID: ${S}`,variant:"destructive"})}finally{x(null)}},q=e.find(S=>S.id===a);return m?r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsx("div",{className:"animate-spin h-8 w-8 border-b-2 border-blue-600 rounded-full"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs(X,{children:[r.jsxs(ce,{children:[r.jsx(de,{children:"Season Management"}),r.jsx(je,{children:"Select and manage fantasy football seasons"})]}),r.jsx(te,{children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx(xt,{htmlFor:"season-select",children:"Select Season"}),r.jsxs(vt,{value:(a==null?void 0:a.toString())||"",onValueChange:S=>i(parseInt(S)),children:[r.jsx(dt,{children:r.jsx(wt,{placeholder:"Select a season"})}),r.jsx(ut,{children:e.map(S=>r.jsx(ke,{value:S.id.toString(),children:r.jsxs("div",{className:"flex items-center gap-2",children:[S.season_name,S.is_current&&r.jsx(ae,{variant:"secondary",className:"text-xs",children:"Current"})]})},S.id))})]})]}),r.jsxs(B0,{open:c,onOpenChange:d,children:[r.jsx(U0,{asChild:!0,children:r.jsx(ee,{variant:"outline",size:"icon",children:r.jsx(Uu,{className:"h-4 w-4"})})}),r.jsxs(mg,{children:[r.jsxs(pg,{children:[r.jsx(gg,{children:"Add New Season"}),r.jsx(xg,{children:"Create a new fantasy football season"})]}),r.jsxs("form",{onSubmit:L,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(xt,{htmlFor:"season-year",children:"Season Year"}),r.jsx(It,{id:"season-year",type:"number",value:v,onChange:S=>_(S.target.value),placeholder:"2025",min:"2020",max:"2030"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(xt,{htmlFor:"season-name",children:"Season Name"}),r.jsx(It,{id:"season-name",value:b,onChange:S=>P(S.target.value),placeholder:"2025 Season"})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(ee,{type:"button",variant:"outline",onClick:()=>d(!1),children:"Cancel"}),r.jsx(ee,{type:"submit",disabled:j,children:j?"Adding...":"Add Season"})]})]})]})]})]})})]}),q&&r.jsxs(X,{children:[r.jsx(ce,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(de,{children:["Conferences - ",q.season_name]}),r.jsxs(je,{children:["Manage league IDs and conference settings for ",q.season_name]})]}),r.jsxs(B0,{open:u,onOpenChange:f,children:[r.jsx(U0,{asChild:!0,children:r.jsxs(ee,{children:[r.jsx(Uu,{className:"h-4 w-4 mr-2"}),"Add New League"]})}),r.jsxs(mg,{children:[r.jsxs(pg,{children:[r.jsx(gg,{children:"Add New League"}),r.jsxs(xg,{children:["Add a new conference/league to ",q.season_name]})]}),r.jsxs("form",{onSubmit:B,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(xt,{htmlFor:"league-name",children:"League Name"}),r.jsx(It,{id:"league-name",value:N,onChange:S=>E(S.target.value),placeholder:"Conference Name"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(xt,{htmlFor:"league-id",children:"Sleeper League ID"}),r.jsx(It,{id:"league-id",value:R,onChange:S=>M(S.target.value),placeholder:"123456789012345678"})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(ee,{type:"button",variant:"outline",onClick:()=>f(!1),children:"Cancel"}),r.jsx(ee,{type:"submit",disabled:j,children:j?"Adding...":"Add League"})]})]})]})]})]})}),r.jsx(te,{children:n.length===0?r.jsx(Ie,{children:r.jsxs(Oe,{children:["No conferences found for ",q.season_name,". Add a new league to get started."]})}):r.jsxs(un,{children:[r.jsx(fn,{children:r.jsxs(Te,{children:[r.jsx(oe,{children:"Conference Name"}),r.jsx(oe,{children:"League ID"}),r.jsx(oe,{children:"Draft ID"}),r.jsx(oe,{children:"Status"}),r.jsx(oe,{children:"Actions"})]})}),r.jsx(hn,{children:n.map(S=>r.jsxs(Te,{children:[r.jsx(se,{children:(o==null?void 0:o.id)===S.id?r.jsx(It,{value:o.conference_name,onChange:k=>l({...o,conference_name:k.target.value})}):r.jsx("span",{className:"font-medium",children:S.conference_name})}),r.jsx(se,{children:(o==null?void 0:o.id)===S.id?r.jsx(It,{value:o.league_id,onChange:k=>l({...o,league_id:k.target.value})}):r.jsx("code",{className:"text-sm bg-muted px-2 py-1 rounded",children:S.league_id})}),r.jsx(se,{children:(o==null?void 0:o.id)===S.id?r.jsx(It,{value:o.draft_id||"",onChange:k=>l({...o,draft_id:k.target.value})}):r.jsx("code",{className:"text-sm bg-muted px-2 py-1 rounded",children:S.draft_id||"Not set"})}),r.jsx(se,{children:r.jsx(ae,{variant:S.status==="in_season"?"default":S.status==="complete"?"secondary":"outline",children:S.status})}),r.jsx(se,{children:r.jsx("div",{className:"flex items-center gap-2",children:(o==null?void 0:o.id)===S.id?r.jsxs(r.Fragment,{children:[r.jsx(ee,{size:"sm",onClick:()=>K(o),disabled:j,children:r.jsx($f,{className:"h-4 w-4"})}),r.jsx(ee,{size:"sm",variant:"outline",onClick:()=>l(null),children:"Cancel"})]}):r.jsxs(r.Fragment,{children:[r.jsx(ee,{size:"sm",variant:"outline",onClick:()=>l(S),children:r.jsx(Ci,{className:"h-4 w-4"})}),r.jsx(ee,{size:"sm",variant:"outline",onClick:()=>F(S.league_id),disabled:w===S.league_id,children:w===S.league_id?r.jsx("div",{className:"animate-spin h-4 w-4 border-b-2 border-blue-600 rounded-full"}):r.jsx(_D,{className:"h-4 w-4"})})]})})})]},S.id))})]})})]})]})};var ih="Checkbox",[sB,fH]=ls(ih),[rB,ky]=sB(ih);function aB(e){const{__scopeCheckbox:t,checked:n,children:s,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:d,value:u="on",internal_do_not_use_render:f}=e,[m,y]=Fr({prop:n,defaultProp:a??!1,onChange:c,caller:ih}),[j,g]=h.useState(null),[w,x]=h.useState(null),p=h.useRef(!1),v=j?!!o||!!j.closest("form"):!0,_={checked:m,disabled:i,setChecked:y,control:j,setControl:g,name:l,form:o,value:u,hasConsumerStoppedPropagationRef:p,required:d,defaultChecked:ka(a)?!1:a,isFormControl:v,bubbleInput:w,setBubbleInput:x};return r.jsx(rB,{scope:t,..._,children:iB(f)?f(_):s})}var lT="CheckboxTrigger",cT=h.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...s},a)=>{const{control:i,value:o,disabled:l,checked:c,required:d,setControl:u,setChecked:f,hasConsumerStoppedPropagationRef:m,isFormControl:y,bubbleInput:j}=ky(lT,e),g=Ye(a,u),w=h.useRef(c);return h.useEffect(()=>{const x=i==null?void 0:i.form;if(x){const p=()=>f(w.current);return x.addEventListener("reset",p),()=>x.removeEventListener("reset",p)}},[i,f]),r.jsx(we.button,{type:"button",role:"checkbox","aria-checked":ka(c)?"mixed":c,"aria-required":d,"data-state":mT(c),"data-disabled":l?"":void 0,disabled:l,value:o,...s,ref:g,onKeyDown:ve(t,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:ve(n,x=>{f(p=>ka(p)?!0:!p),j&&y&&(m.current=x.isPropagationStopped(),m.current||x.stopPropagation())})})});cT.displayName=lT;var Py=h.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:d,form:u,...f}=e;return r.jsx(aB,{__scopeCheckbox:n,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:d,name:s,form:u,value:c,internal_do_not_use_render:({isFormControl:m})=>r.jsxs(r.Fragment,{children:[r.jsx(cT,{...f,ref:t,__scopeCheckbox:n}),m&&r.jsx(hT,{__scopeCheckbox:n})]})})});Py.displayName=ih;var dT="CheckboxIndicator",uT=h.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:s,...a}=e,i=ky(dT,n);return r.jsx(vr,{present:s||ka(i.checked)||i.checked===!0,children:r.jsx(we.span,{"data-state":mT(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});uT.displayName=dT;var fT="CheckboxBubbleInput",hT=h.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:s,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:d,value:u,form:f,bubbleInput:m,setBubbleInput:y}=ky(fT,e),j=Ye(n,y),g=gy(i),w=Qx(s);h.useEffect(()=>{const p=m;if(!p)return;const v=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(v,"checked").set,P=!a.current;if(g!==i&&b){const N=new Event("click",{bubbles:P});p.indeterminate=ka(i),b.call(p,ka(i)?!1:i),p.dispatchEvent(N)}},[m,g,i,a]);const x=h.useRef(ka(i)?!1:i);return r.jsx(we.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??x.current,required:l,disabled:c,name:d,value:u,form:f,...t,tabIndex:-1,ref:j,style:{...t.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});hT.displayName=fT;function iB(e){return typeof e=="function"}function ka(e){return e==="indeterminate"}function mT(e){return ka(e)?"indeterminate":e?"checked":"unchecked"}const Ry=h.forwardRef(({className:e,...t},n)=>r.jsx(Py,{ref:n,className:ye("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:r.jsx(uT,{className:ye("flex items-center justify-center text-current"),children:r.jsx(Zo,{className:"h-4 w-4"})})}));Ry.displayName=Py.displayName;class pT{static async fetchLeagueDrafts(t){try{console.log(`Fetching drafts for league: ${t}`);const n=await fetch(`${this.baseUrl}/league/${t}/drafts`);if(!n.ok)throw new Error(`Failed to fetch drafts: ${n.status} ${n.statusText}`);const s=await n.json();return console.log(`Fetched ${s.length} drafts for league ${t}`),s}catch(n){throw console.error("Error fetching league drafts:",n),n}}static async fetchDraftPicks(t){try{console.log(`Fetching picks for draft: ${t}`);const n=await fetch(`${this.baseUrl}/draft/${t}/picks`);if(!n.ok)throw new Error(`Failed to fetch draft picks: ${n.status} ${n.statusText}`);const s=await n.json();return console.log(`Fetched ${s.length} picks for draft ${t}`),s}catch(n){throw console.error("Error fetching draft picks:",n),n}}static async getTeamIdFromOwnerMatcher(t,n){var s,a;try{const{data:i,error:o}=await window.ezsite.apis.tablePage(12853,{PageNo:1,PageSize:1,Filters:[{name:"roster_id",op:"Equal",value:t},{name:"conference_id",op:"Equal",value:n},{name:"is_active",op:"Equal",value:!0}]});if(!o&&((s=i==null?void 0:i.List)==null?void 0:s.length)>0){const d=i.List[0].team_id;return console.log(`Found team ID ${d} for roster_id ${t} in conference ${n}`),d}const{data:l,error:c}=await window.ezsite.apis.tablePage(12852,{PageNo:1,PageSize:1,Filters:[{name:"owner_id",op:"Equal",value:t}]});return c?(console.error(`Error finding team for owner_id ${t}:`,c),null):((a=l==null?void 0:l.List)==null?void 0:a.length)>0?(console.log(`Found team ID ${l.List[0].id} for owner_id ${t} (legacy mapping)`),l.List[0].id):(console.warn(`No team found for Sleeper roster_id/owner_id ${t} in conference ${n}`),null)}catch(i){return console.error("Error in getTeamIdFromOwnerMatcher:",i),null}}static async processDraftPicksForDatabase(t,n,s){var a,i;try{console.log(`Processing ${s.length} draft picks for conference ${t}, season ${n}`);const o=[];for(const l of s){const c=await this.getTeamIdFromOwnerMatcher(l.picked_by,t);if(!c){console.warn(`Skipping pick ${l.pick_no} - no team found for roster_id ${l.picked_by}`);continue}o.push({season_id:n,conference_id:t,round:l.round,draft_slot:l.draft_slot,pick_number:l.pick_no,team_id:c,player_id:l.player_id,player_name:l.metadata?`${l.metadata.first_name||""} ${l.metadata.last_name||""}`.trim():"Unknown Player",position:((a=l.metadata)==null?void 0:a.position)||"UNK",nfl_team:((i=l.metadata)==null?void 0:i.team)||"UNK",draft_id:l.draft_id})}return console.log(`Processed ${o.length} draft picks (${s.length-o.length} skipped due to missing team mapping)`),o}catch(o){throw console.error("Error processing draft picks:",o),o}}static async fetchAndStoreDraftResults(){try{console.log(" Starting draft results sync for all conferences...");const{data:t,error:n}=await window.ezsite.apis.tablePage(12820,{PageNo:1,PageSize:50,OrderByField:"id",IsAsc:!0});if(n)throw new Error(`Failed to fetch conferences: ${n}`);const s=(t==null?void 0:t.List)||[];console.log(`Found ${s.length} conferences`);const{data:a,error:i}=await window.ezsite.apis.tablePage(12818,{PageNo:1,PageSize:50,OrderByField:"season_year",IsAsc:!1});if(i)throw new Error(`Failed to fetch seasons: ${i}`);const o=(a==null?void 0:a.List)||[];console.log(`Found ${o.length} seasons`);let l=0;const c=[];for(const d of s)try{console.log(`
 Processing conference: ${d.conference_name} (League ID: ${d.league_id})`);const u=o.find(m=>m.id===d.season_id);if(!u){console.warn(` Season not found for conference ${d.conference_name}`);continue}const f=await this.fetchLeagueDrafts(d.league_id);if(f.length===0){console.warn(` No drafts found for league ${d.league_id}`);continue}for(const m of f){console.log(` Processing draft: ${m.draft_id} for season ${u.season_year}`);const y=await this.fetchDraftPicks(m.draft_id);if(y.length===0){console.warn(` No picks found for draft ${m.draft_id}`);continue}const j=await this.processDraftPicksForDatabase(d.id,u.id,y);console.log(` Clearing existing draft results for conference ${d.id}, season ${u.id}`);const{data:g,error:w}=await window.ezsite.apis.tablePage(27845,{PageNo:1,PageSize:1e3,Filters:[{name:"conference_id",op:"Equal",value:d.id},{name:"season_id",op:"Equal",value:u.id}]});if(!w&&(g!=null&&g.List))for(const x of g.List)await window.ezsite.apis.tableDelete(27845,{ID:x.id});console.log(` Inserting ${j.length} draft picks into database...`);for(const x of j){const{error:p}=await window.ezsite.apis.tableCreate(27845,{season_id:x.season_id,conference_id:x.conference_id,round:x.round,draft_slot:x.draft_slot,pick_number:x.pick_number,team_id:x.team_id,player_id:x.player_id});p?console.error(` Error inserting pick ${x.pick_number}:`,p):l++}c.push({conference:d.conference_name,season:u.season_year,draftId:m.draft_id,picksProcessed:j.length})}}catch(u){console.error(` Error processing conference ${d.conference_name}:`,u),c.push({conference:d.conference_name,error:u.message})}return console.log(`
 Draft sync completed! Total picks processed: ${l}`),{success:!0,message:`Successfully processed ${l} draft picks across ${c.length} conference/season combinations`,data:c}}catch(t){return console.error(" Error in draft sync:",t),{success:!1,message:`Draft sync failed: ${t.message}`}}}}Jt(pT,"baseUrl","https://api.sleeper.app/v1");const oB=()=>{const[e,t]=h.useState([]),[n,s]=h.useState([]),[a,i]=h.useState([]),[o,l]=h.useState(null),[c,d]=h.useState(!1),[u,f]=h.useState(!1),[m,y]=h.useState(!1),[j,g]=h.useState(!1),[w,x]=h.useState(!1),[p,v]=h.useState(!1),[_,b]=h.useState(0),[P,N]=h.useState(0),[E,R]=h.useState(0),[M,U]=h.useState(0),[O,L]=h.useState(0),[B,K]=h.useState(0),[F,q]=h.useState([]),[S,k]=h.useState([]),[C,T]=h.useState(null),[D,A]=h.useState(null),[$,H]=h.useState(null),[W,z]=h.useState(null),[I,Z]=h.useState(null),[G,Y]=h.useState(null),[Q,le]=h.useState(null),[fe,ge]=h.useState(null),[Me,qe]=h.useState(null),[Dt,ue]=h.useState(null),[_e,sn]=h.useState(!0),[Ke,cs]=h.useState("all"),[Zs,rn]=h.useState("all"),[Wa,ie]=h.useState("all"),[Je,st]=h.useState("all"),[tt,ft]=h.useState(1),[me,$e]=h.useState(17),[at,it]=h.useState([]),{toast:ot}=gn();h.useEffect(()=>{Gr(),_r(),wh(),jh(),Yt(),Cn(),En(),Rs()},[]),h.useEffect(()=>{o&&Ps()},[o]);const Gr=async()=>{try{const V=await ne.getSeasons(),pe=Array.isArray(V)?V:(V==null?void 0:V.data)||[];t(pe);const nt=pe.find(Ue=>Ue.is_current_season);nt?l(nt.id):pe.length>0&&l(pe[0].id)}catch(V){console.error("Error loading seasons:",V),ot({title:"Error",description:`Failed to load seasons: ${V}`,variant:"destructive"})}finally{sn(!1)}},Ps=async()=>{if(o)try{const V=await ne.getConferences(),pe=Array.isArray(V)?V:(V==null?void 0:V.data)||[];s(pe)}catch(V){console.error("Error loading conferences:",V),ot({title:"Error",description:`Failed to load conferences: ${V}`,variant:"destructive"})}},_r=()=>{const V=localStorage.getItem("last_data_sync");V&&Z(new Date(V).toLocaleString())},wh=()=>{const V=localStorage.getItem("last_teams_sync");V&&Y(new Date(V).toLocaleString())},jh=()=>{const V=localStorage.getItem("last_players_sync");V&&le(new Date(V).toLocaleString())},Yt=()=>{const V=localStorage.getItem("last_matchups_sync");V&&ge(new Date(V).toLocaleString())},Cn=()=>{const V=localStorage.getItem("last_draft_sync");V&&qe(new Date(V).toLocaleString())},En=()=>{const V=localStorage.getItem("last_rosters_sync");V&&ue(new Date(V).toLocaleString())},Rs=async()=>{try{const V=await ne.getTeams(),pe=Array.isArray(V)?V:(V==null?void 0:V.data)||[];i(pe)}catch(V){console.error("Error loading teams:",V)}},an=()=>{switch(Je){case"range":const V=[];for(let pe=tt;pe<=me;pe++)V.push(pe);return V;case"specific":return[...at];case"all":default:return Array.from({length:17},(pe,nt)=>nt+1)}},Tn=V=>{it(pe=>pe.includes(V)?pe.filter(nt=>nt!==V):[...pe,V].sort((nt,Ue)=>nt-Ue))},ds=()=>{it(Array.from({length:17},(V,pe)=>pe+1))},Yr=()=>{it([])};De.useEffect(()=>{tt>me&&$e(tt)},[tt,me]);const Wt=async()=>{var pe,nt;if(!o||n.length===0){ot({title:"No Data to Sync",description:"Please select a season with conferences to sync rosters",variant:"destructive"});return}const V=an();if(V.length===0){ot({title:"No Weeks Selected",description:"Please select at least one week to sync",variant:"destructive"});return}v(!0),K(0),z(null);try{console.log("Starting team rosters sync from Sleeper API..."),console.log(`Syncing weeks: ${V.join(", ")}`),K(5);let Ue=0,rt=0,Pt=0,ht=0,Mt=0;const ze=n.length*V.length;let Ze=0;for(const Qe of n)try{console.log(`Processing rosters for league ${Qe.league_id}...`);for(const Ee of V){try{console.log(`Fetching roster data for league ${Qe.league_id}, week ${Ee}...`);const jt=await fetch(`https://api.sleeper.app/v1/league/${Qe.league_id}/matchups/${Ee}`);if(!jt.ok){if(jt.status===404){console.log(`No matchups found for league ${Qe.league_id}, week ${Ee} (404 - may not exist yet)`);continue}throw new Error(`API returned ${jt.status}: ${jt.statusText}`)}const xn=await jt.json();if(console.log(`Received ${xn.length} roster entries for league ${Qe.league_id}, week ${Ee}`),!Array.isArray(xn)||xn.length===0){console.log(`No matchup data available for league ${Qe.league_id}, week ${Ee}`);continue}for(const ln of xn){if(!ln.roster_id||!ln.players||!Array.isArray(ln.players)){console.warn("Skipping entry with missing roster_id or players array:",ln);continue}const kn=await us(ln.roster_id,Qe.id);if(!kn){console.warn(`Could not find team ID for roster_id ${ln.roster_id} in conference ${Qe.id}`);continue}for(const hs of ln.players)if(hs)try{const{data:Un,error:Xt}=await window.ezsite.apis.tablePage(12870,{PageNo:1,PageSize:1,Filters:[{name:"sleeper_player_id",op:"Equal",value:hs}]});if(Xt){console.error(`Error searching for player ${hs}:`,Xt);continue}if(((pe=Un==null?void 0:Un.List)==null?void 0:pe.length)>0){const ms=Un.List[0].id,{data:tr,error:ps}=await window.ezsite.apis.tablePage(27886,{PageNo:1,PageSize:1,Filters:[{name:"team_id",op:"Equal",value:kn},{name:"player_id",op:"Equal",value:ms},{name:"season_id",op:"Equal",value:o},{name:"week",op:"Equal",value:Ee}]});if(ps){console.error("Error searching for existing roster record:",ps);continue}const fd={team_id:kn,player_id:ms,season_id:o,week:Ee};if(((nt=tr==null?void 0:tr.List)==null?void 0:nt.length)>0){const gs=tr.List[0],_h={...fd,ID:gs.id},{error:Pn}=await qi("tableUpdate");Pn?console.error("Error updating roster record:",Pn):(Pt++,Ue++)}else{const{error:gs}=await Nl("tableCreate");gs?console.error("Error creating roster record:",gs):(rt++,Ue++)}}else console.warn(`Player with sleeper_player_id ${hs} not found in database`)}catch(Un){console.error(`Error processing player ${hs}:`,Un)}}Mt++,await new Promise(ln=>setTimeout(ln,100))}catch(jt){console.error(`Error processing week ${Ee} for league ${Qe.league_id}:`,jt)}Ze++;const on=5+Ze/ze*90;K(on)}ht++,console.log(` Completed processing rosters for league ${Qe.league_id}`),await new Promise(Ee=>setTimeout(Ee,200))}catch(Ee){console.error(`Error processing league ${Qe.league_id}:`,Ee)}z({success:!0,players_processed:Ue,rosters_created:rt,rosters_updated:Pt,leagues_processed:ht,weeks_processed:Mt}),console.log(` Successfully synced rosters: ${rt} created, ${Pt} updated, ${Ue} total player assignments`);const mt=new Date().toISOString();localStorage.setItem("last_rosters_sync",mt),ue(new Date(mt).toLocaleString()),ot({title:"Team Rosters Sync Complete",description:`${rt} rosters created, ${Pt} updated across ${ht} leagues`,variant:"default"})}catch(Ue){console.error(" Error syncing rosters:",Ue),z({success:!1,error:Ue.toString(),players_processed:0,rosters_created:0,rosters_updated:0,leagues_processed:0,weeks_processed:0}),ot({title:"Team Rosters Sync Failed",description:`Failed to sync rosters: ${Ue}`,variant:"destructive"})}finally{v(!1),K(100)}},us=async(V,pe)=>{var nt;try{const{data:Ue,error:rt}=await window.ezsite.apis.tablePage(12853,{PageNo:1,PageSize:1,Filters:[{name:"roster_id",op:"Equal",value:V},{name:"conference_id",op:"Equal",value:pe},{name:"is_active",op:"Equal",value:!0}]});return rt?(console.error(`Error finding team for roster_id ${V}:`,rt),null):((nt=Ue==null?void 0:Ue.List)==null?void 0:nt.length)>0?Ue.List[0].team_id:(console.warn(`No team found for roster_id ${V} in conference ${pe}`),null)}catch(Ue){return console.error("Error in getTeamIdFromRosterId:",Ue),null}},fs=async()=>{if(!o||n.length===0){ot({title:"No Data to Sync",description:"Please select a season with conferences to sync",variant:"destructive"});return}d(!0),b(0),q([]);const V=[],pe=n.length;for(let Pt=0;Pt<n.length;Pt++){const ht=n[Pt];b((Pt+1)/pe*100);try{console.log(`Syncing league ${ht.league_id}...`);const Mt=await fetch(`https://api.sleeper.app/v1/league/${ht.league_id}`);if(!Mt.ok)throw new Error(`API returned ${Mt.status}: ${Mt.statusText}`);const ze=await Mt.json();console.log("Sleeper API response:",ze);const Ze={ID:ht.id,conference_name:ze.name||ht.conference_name,league_id:ze.league_id||ht.league_id,season_id:ht.season_id,draft_id:ze.draft_id||ht.draft_id,status:ze.status||ht.status,league_logo_url:ze.avatar?`https://sleepercdn.com/avatars/thumbs/${ze.avatar}`:ht.league_logo_url},{error:mt}=await qi("tableUpdate");if(mt)throw mt;V.push({league_id:ht.league_id,success:!0,data:ze}),console.log(`Successfully synced league ${ht.league_id}`)}catch(Mt){console.error(`Error syncing league ${ht.league_id}:`,Mt),V.push({league_id:ht.league_id,success:!1,error:Mt.toString()})}await new Promise(Mt=>setTimeout(Mt,200))}q(V),d(!1),b(100);const nt=new Date().toISOString();localStorage.setItem("last_data_sync",nt),Z(new Date(nt).toLocaleString()),Ps();const Ue=V.filter(Pt=>Pt.success).length,rt=V.filter(Pt=>!Pt.success).length;ot({title:"Data Sync Complete",description:`${Ue} successful, ${rt} failed`,variant:rt>0?"destructive":"default"})},As=async()=>{var V,pe,nt,Ue;if(!o||n.length===0){ot({title:"No Data to Sync",description:"Please select a season with conferences to sync teams",variant:"destructive"});return}f(!0),N(0),k([]);try{console.log("Starting teams sync from Sleeper API..."),N(5);const rt=[],Pt=n.length;let ht=0,Mt=0;for(let Qe=0;Qe<n.length;Qe++){const Ee=n[Qe];N(5+Qe/Pt*90);try{console.log(`Processing teams for league ${Ee.league_id}...`);const[on,jt,xn]=await Promise.all([fetch(`https://api.sleeper.app/v1/league/${Ee.league_id}`),fetch(`https://api.sleeper.app/v1/league/${Ee.league_id}/rosters`),fetch(`https://api.sleeper.app/v1/league/${Ee.league_id}/users`)]);if(!on.ok||!jt.ok||!xn.ok)throw new Error(`API request failed for league ${Ee.league_id}`);const[ln,kn,hs]=await Promise.all([on.json(),jt.json(),xn.json()]);console.log(`Fetched ${kn.length} rosters and ${hs.length} users for league ${Ee.league_id}`);for(const Un of kn){const Xt=hs.find(Pn=>Pn.user_id===Un.owner_id);if(!Xt){console.warn(`No user found for roster ${Un.roster_id}`);continue}const ud={team_name:((V=Xt.metadata)==null?void 0:V.team_name)||Xt.display_name||Xt.username,owner_name:Xt.display_name||Xt.username,owner_id:Xt.user_id,co_owner_name:"",co_owner_id:"",team_logo_url:Xt.avatar?`https://sleepercdn.com/avatars/thumbs/${Xt.avatar}`:"",team_primary_color:"#1f2937",team_secondary_color:"#6b7280"},{data:ms,error:tr}=await window.ezsite.apis.tablePage(12852,{PageNo:1,PageSize:1,Filters:[{name:"owner_id",op:"Equal",value:Xt.user_id}]});if(tr){console.error("Error searching for existing team:",tr);continue}let ps;if(((pe=ms==null?void 0:ms.List)==null?void 0:pe.length)>0){const Pn=ms.List[0],Li={...ud,ID:Pn.id},{error:Ka}=await qi("tableUpdate");if(Ka){console.error("Error updating team:",Ka);continue}ps=Pn.id}else{const{error:Pn}=await Nl("tableCreate");if(Pn){console.error("Error creating team:",Pn);continue}const{data:Li,error:Ka}=await window.ezsite.apis.tablePage(12852,{PageNo:1,PageSize:1,Filters:[{name:"owner_id",op:"Equal",value:Xt.user_id}]});if(Ka||!((nt=Li==null?void 0:Li.List)!=null&&nt.length)){console.error("Error retrieving new team ID");continue}ps=Li.List[0].id,ht++}const fd={team_id:ps,conference_id:Ee.id,roster_id:Un.roster_id.toString(),is_active:!0,joined_date:new Date().toISOString()},{data:gs,error:_h}=await window.ezsite.apis.tablePage(12853,{PageNo:1,PageSize:1,Filters:[{name:"team_id",op:"Equal",value:ps},{name:"conference_id",op:"Equal",value:Ee.id}]});if(_h){console.error("Error searching for existing junction:",_h);continue}if(((Ue=gs==null?void 0:gs.List)==null?void 0:Ue.length)>0){const Pn=gs.List[0],Li={...fd,ID:Pn.id},{error:Ka}=await qi("tableUpdate");Ka&&console.error("Error updating junction:",Ka)}else{const{error:Pn}=await Nl("tableCreate");Pn?console.error("Error creating junction:",Pn):Mt++}}rt.push({league_id:Ee.league_id,success:!0,teams_created:ht,junction_records_created:Mt}),console.log(` Completed teams sync for league ${Ee.league_id}`)}catch(on){console.error(`Error syncing teams for league ${Ee.league_id}:`,on),rt.push({league_id:Ee.league_id,success:!1,error:on.toString(),teams_created:0,junction_records_created:0})}await new Promise(on=>setTimeout(on,200))}k(rt),N(100);const ze=new Date().toISOString();localStorage.setItem("last_teams_sync",ze),Y(new Date(ze).toLocaleString()),Rs();const Ze=rt.filter(Qe=>Qe.success).length,mt=rt.filter(Qe=>!Qe.success).length;ot({title:"Teams Sync Complete",description:`${Ze} successful, ${mt} failed`,variant:mt>0?"destructive":"default"})}catch(rt){console.error(" Error syncing teams:",rt),ot({title:"Teams Sync Failed",description:`Failed to sync teams: ${rt}`,variant:"destructive"})}finally{f(!1)}},Ha=async()=>{var V;y(!0),R(0),T(null);try{console.log("Starting players sync from Sleeper API..."),R(5);const pe=await fetch("https://api.sleeper.app/v1/players/nfl");if(!pe.ok)throw new Error(`API returned ${pe.status}: ${pe.statusText}`);const nt=await pe.json(),Ue=Object.keys(nt);console.log(`Fetched ${Ue.length} players from Sleeper API`),R(20);let rt=0,Pt=0;const ht=Ue.length;for(let ze=0;ze<Ue.length;ze++){const Ze=Ue[ze],mt=nt[Ze];if(!mt)continue;const Qe=20+ze/ht*75;R(Qe);try{const{data:Ee,error:on}=await window.ezsite.apis.tablePage(12870,{PageNo:1,PageSize:1,Filters:[{name:"sleeper_player_id",op:"Equal",value:Ze}]});if(on){console.error(`Error searching for player ${Ze}:`,on);continue}const jt={sleeper_player_id:Ze,player_name:`${mt.first_name||""} ${mt.last_name||""}`.trim()||"Unknown Player",position:mt.position||"UNK",team_id:0,nfl_team:mt.team||"FA",jersey_number:mt.jersey_number||0,status:mt.status||"Active",injury_status:mt.injury_status||"Healthy",age:mt.age||0,height:mt.height||"",weight:mt.weight||0,years_experience:mt.years_exp||0,depth_chart_position:mt.depth_chart_position||1,college:mt.college||"",is_current_data:!0,last_updated:new Date().toISOString(),data_version:1};if(((V=Ee==null?void 0:Ee.List)==null?void 0:V.length)>0){const xn=Ee.List[0],ln={...jt,ID:xn.id},{error:kn}=await qi("tableUpdate");kn?console.error(`Error updating player ${Ze}:`,kn):Pt++}else{const{error:xn}=await Nl("tableCreate");xn?console.error(`Error creating player ${Ze}:`,xn):rt++}}catch(Ee){console.error(`Error processing player ${Ze}:`,Ee)}ze%100===0&&await new Promise(Ee=>setTimeout(Ee,50))}T({success:!0,players_created:rt,players_updated:Pt}),console.log(` Successfully synced players: ${rt} created, ${Pt} updated`);const Mt=new Date().toISOString();localStorage.setItem("last_players_sync",Mt),le(new Date(Mt).toLocaleString()),ot({title:"Players Sync Complete",description:`${rt} players created, ${Pt} updated`,variant:"default"})}catch(pe){console.error(" Error syncing players:",pe),T({success:!1,error:pe.toString(),players_created:0,players_updated:0}),ot({title:"Players Sync Failed",description:`Failed to sync players: ${pe}`,variant:"destructive"})}finally{y(!1),R(100)}},qa=async()=>{var V;if(!o||n.length===0){ot({title:"No Data to Sync",description:"Please select a season with conferences to sync matchups",variant:"destructive"});return}g(!0),U(0),A(null);try{console.log("Starting matchups sync from Sleeper API..."),U(5);let pe=0,nt=0,Ue=0,rt=0;const Pt=n.length*17;let ht=0;for(const ze of n)try{console.log(`Processing matchups for league ${ze.league_id}...`);for(let Ze=1;Ze<=17;Ze++){try{console.log(`Fetching matchups for league ${ze.league_id}, week ${Ze}...`);const Qe=await fetch(`https://api.sleeper.app/v1/league/${ze.league_id}/matchups/${Ze}`);if(!Qe.ok){if(Qe.status===404){console.log(`No matchups found for league ${ze.league_id}, week ${Ze} (404)`);continue}throw new Error(`API returned ${Qe.status}: ${Qe.statusText}`)}const Ee=await Qe.json();if(console.log(`Received ${Ee.length} matchup entries for league ${ze.league_id}, week ${Ze}`),!Array.isArray(Ee)||Ee.length===0){console.log(`No matchup data available for league ${ze.league_id}, week ${Ze}`);continue}const on=new Map;Ee.forEach(jt=>{on.has(jt.matchup_id)||on.set(jt.matchup_id,[]),on.get(jt.matchup_id).push(jt)});for(const[jt,xn]of on.entries()){if(xn.length!==2){console.warn(`Skipping incomplete matchup ${jt} - only ${xn.length} teams`);continue}const[ln,kn]=xn,hs=await us(ln.roster_id.toString(),ze.id),Un=await us(kn.roster_id.toString(),ze.id);if(!hs||!Un){console.warn(`Could not find team IDs for matchup ${jt}`);continue}let Xt=0;ln.points>kn.points?Xt=hs:kn.points>ln.points&&(Xt=Un);const ud={conference_id:ze.id,week:Ze,team_1_id:hs,team_2_id:Un,is_playoff:Ze>14,sleeper_matchup_id:jt.toString(),team_1_score:ln.points||0,team_2_score:kn.points||0,winner_id:Xt,is_manual_override:!1,status:ln.points>0||kn.points>0?"complete":"pending",matchup_date:new Date().toISOString(),notes:""},{data:ms,error:tr}=await window.ezsite.apis.tablePage(13329,{PageNo:1,PageSize:1,Filters:[{name:"conference_id",op:"Equal",value:ze.id},{name:"week",op:"Equal",value:Ze},{name:"sleeper_matchup_id",op:"Equal",value:jt.toString()}]});if(tr){console.error("Error searching for existing matchup:",tr);continue}if(((V=ms==null?void 0:ms.List)==null?void 0:V.length)>0){const ps=ms.List[0],fd={...ud,ID:ps.id},{error:gs}=await qi("tableUpdate");gs?console.error("Error updating matchup:",gs):nt++}else{const{error:ps}=await Nl("tableCreate");ps?console.error("Error creating matchup:",ps):pe++}}rt++,await new Promise(jt=>setTimeout(jt,100))}catch(Qe){console.error(`Error processing week ${Ze} for league ${ze.league_id}:`,Qe)}ht++;const mt=5+ht/Pt*90;U(mt)}Ue++,console.log(` Completed matchups sync for league ${ze.league_id}`),await new Promise(Ze=>setTimeout(Ze,200))}catch(Ze){console.error(`Error processing league ${ze.league_id}:`,Ze)}A({success:!0,matchups_created:pe,matchups_updated:nt,leagues_processed:Ue,weeks_processed:rt}),console.log(` Successfully synced matchups: ${pe} created, ${nt} updated`);const Mt=new Date().toISOString();localStorage.setItem("last_matchups_sync",Mt),ge(new Date(Mt).toLocaleString()),ot({title:"Matchups Sync Complete",description:`${pe} matchups created, ${nt} updated across ${Ue} leagues`,variant:"default"})}catch(pe){console.error(" Error syncing matchups:",pe),A({success:!1,error:pe.toString(),matchups_created:0,matchups_updated:0,leagues_processed:0,weeks_processed:0}),ot({title:"Matchups Sync Failed",description:`Failed to sync matchups: ${pe}`,variant:"destructive"})}finally{g(!1),U(100)}},er=async()=>{x(!0),L(0),H(null);try{console.log("Starting draft sync from Sleeper API..."),L(5);const V=await pT.fetchAndStoreDraftResults();if(L(100),V.success){H({success:!0,message:V.message,data:V.data});const pe=new Date().toISOString();localStorage.setItem("last_draft_sync",pe),qe(new Date(pe).toLocaleString()),ot({title:"Draft Sync Complete",description:V.message,variant:"default"})}else H({success:!1,error:V.message,message:V.message}),ot({title:"Draft Sync Failed",description:V.message,variant:"destructive"})}catch(V){console.error(" Error syncing draft:",V),H({success:!1,error:V.toString(),message:`Draft sync failed: ${V}`}),ot({title:"Draft Sync Failed",description:`Failed to sync draft: ${V}`,variant:"destructive"})}finally{x(!1)}},Qt=e.find(V=>V.id===o);return _e?r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsx("div",{className:"animate-spin h-8 w-8 border-b-2 border-blue-600 rounded-full"})}):r.jsx("div",{className:"space-y-6",children:r.jsxs(X,{children:[r.jsxs(ce,{children:[r.jsxs(de,{className:"flex items-center gap-2",children:[r.jsx(Ki,{className:"h-5 w-5"}),"Data Synchronization"]}),r.jsx(je,{children:"Sync conference, team, and player data from Sleeper API to update database records"})]}),r.jsxs(te,{children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsx("div",{className:"flex items-center gap-4",children:r.jsx("div",{className:"flex-1",children:r.jsxs(vt,{value:(o==null?void 0:o.toString())||"",onValueChange:V=>l(parseInt(V)),children:[r.jsx(dt,{className:"w-[200px]",children:r.jsx(wt,{placeholder:"Select season"})}),r.jsx(ut,{children:e.map(V=>r.jsx(ke,{value:V.id.toString(),children:V.season_name},V.id))})]})})})}),Qt&&r.jsxs(r.Fragment,{children:[n.length===0&&r.jsxs(Ie,{className:"mb-6",children:[r.jsx(We,{className:"h-4 w-4"}),r.jsxs(Oe,{children:["No conferences found for ",Qt.season_name,". Conference and Team sync require leagues to be added first, but Player sync can be performed independently."]})]}),r.jsxs(Kr,{defaultValue:n.length>0?"conferences":"players",className:"space-y-6",children:[r.jsxs(jr,{className:"grid w-full grid-cols-6",children:[r.jsxs(Fe,{value:"conferences",className:"flex items-center gap-2",children:[r.jsx(bt,{className:"h-4 w-4"}),"Conference Sync"]}),r.jsxs(Fe,{value:"teams",className:"flex items-center gap-2",children:[r.jsx(Gt,{className:"h-4 w-4"}),"Teams Sync"]}),r.jsxs(Fe,{value:"matchups",className:"flex items-center gap-2",children:[r.jsx(Xe,{className:"h-4 w-4"}),"Matchups Sync"]}),r.jsxs(Fe,{value:"draft",className:"flex items-center gap-2",children:[r.jsx(ou,{className:"h-4 w-4"}),"Draft Sync"]}),r.jsxs(Fe,{value:"rosters",className:"flex items-center gap-2",children:[r.jsx(em,{className:"h-4 w-4"}),"Team Rosters"]}),r.jsxs(Fe,{value:"players",className:"flex items-center gap-2",children:[r.jsx(wo,{className:"h-4 w-4"}),"Players Sync"]})]}),r.jsx(Be,{value:"rosters",children:n.length===0?r.jsxs(Ie,{children:[r.jsx(We,{className:"h-4 w-4"}),r.jsx(Oe,{children:"No conferences available for team rosters synchronization. Please add leagues in the League Manager tab first."})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center gap-4",children:Dt&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx(or,{className:"h-4 w-4"}),"Last rosters sync: ",Dt]})}),r.jsx(ee,{onClick:Wt,disabled:p||!o||n.length===0,children:p?r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"h-4 w-4 mr-2 animate-spin"}),"Syncing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(em,{className:"h-4 w-4 mr-2"}),"Sync Team Rosters"]})})]}),r.jsxs(X,{children:[r.jsxs(ce,{children:[r.jsxs(de,{className:"flex items-center gap-2",children:[r.jsx(pN,{className:"h-5 w-5"}),"Week Filtering Options"]}),r.jsx(je,{children:"Choose which weeks to sync for team rosters data"})]}),r.jsxs(te,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs(vt,{value:Je,onValueChange:st,children:[r.jsx(dt,{className:"w-[200px]",children:r.jsx(wt,{placeholder:"Select sync mode"})}),r.jsxs(ut,{children:[r.jsx(ke,{value:"all",children:"All Weeks (1-17)"}),r.jsx(ke,{value:"range",children:"Week Range"}),r.jsx(ke,{value:"specific",children:"Specific Weeks"})]})]}),Je==="range"&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm",children:"From week:"}),r.jsxs(vt,{value:tt.toString(),onValueChange:V=>ft(parseInt(V)),children:[r.jsx(dt,{className:"w-20",children:r.jsx(wt,{})}),r.jsx(ut,{children:Array.from({length:17},(V,pe)=>pe+1).map(V=>r.jsx(ke,{value:V.toString(),children:V},V))})]}),r.jsx("span",{className:"text-sm",children:"to week:"}),r.jsxs(vt,{value:me.toString(),onValueChange:V=>$e(parseInt(V)),children:[r.jsx(dt,{className:"w-20",children:r.jsx(wt,{})}),r.jsx(ut,{children:Array.from({length:17},(V,pe)=>pe+1).filter(V=>V>=tt).map(V=>r.jsx(ke,{value:V.toString(),children:V},V))})]})]})]}),Je==="specific"&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ee,{variant:"outline",size:"sm",onClick:ds,className:"text-xs",children:"Select All"}),r.jsx(ee,{variant:"outline",size:"sm",onClick:Yr,className:"text-xs",children:"Clear All"}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[at.length," weeks selected"]})]}),r.jsx("div",{className:"grid grid-cols-9 gap-2",children:Array.from({length:17},(V,pe)=>pe+1).map(V=>r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Ry,{id:`week-${V}`,checked:at.includes(V),onCheckedChange:()=>Tn(V)}),r.jsx("label",{htmlFor:`week-${V}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:V})]},V))})]}),r.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(ns,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Sync Summary"})]}),r.jsx("div",{className:"text-sm text-blue-700",children:(()=>{const V=an();return`Will sync ${V.length} week${V.length!==1?"s":""} (${V.join(", ")}) across ${n.length} conference${n.length!==1?"s":""} = ${V.length*n.length} total operations`})()})]})]})]}),p&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium",children:"Synchronizing team rosters..."}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(B),"%"]})]}),r.jsx(lr,{value:B,className:"w-full"})]}),r.jsxs(X,{children:[r.jsxs(ce,{children:[r.jsxs(de,{className:"text-lg",children:["Team Rosters Synchronization - ",Qt.season_name]}),r.jsxs(je,{children:["Sync weekly team roster data from Sleeper API using matchups endpoint for ",n.length," conference",n.length!==1?"s":""," across selected weeks"]})]}),r.jsxs(te,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(em,{className:"h-5 w-5 text-blue-600"}),r.jsx("h4",{className:"font-semibold",children:"Roster Data"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Fetches weekly roster information including:"}),r.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[r.jsx("li",{children:" Player assignments to teams by week"}),r.jsx("li",{children:" Active roster compositions"}),r.jsx("li",{children:" Team-player relationships over time"}),r.jsx("li",{children:" Historical roster tracking"})]})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Ki,{className:"h-5 w-5 text-green-600"}),r.jsx("h4",{className:"font-semibold",children:"Data Mapping"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Uses existing data for accurate mapping:"}),r.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[r.jsx("li",{children:" Maps roster_id to team_id via junction table"}),r.jsx("li",{children:" Maps sleeper_player_id to player_id"}),r.jsx("li",{children:" Creates weekly roster assignments"}),r.jsxs("li",{children:[" Processes ",n.length*17," total operations"]})]})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Sync Process Overview:"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[r.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded",children:[r.jsx("div",{className:"text-sm font-medium text-blue-800",children:"Step 1: API Calls"}),r.jsx("div",{className:"text-xs text-blue-600",children:"Fetch matchups for each league & week"})]}),r.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded",children:[r.jsx("div",{className:"text-sm font-medium text-yellow-800",children:"Step 2: Data Mapping"}),r.jsx("div",{className:"text-xs text-yellow-600",children:"Map roster_id & player_id to database"})]}),r.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 rounded",children:[r.jsx("div",{className:"text-sm font-medium text-green-800",children:"Step 3: Store Rosters"}),r.jsx("div",{className:"text-xs text-green-600",children:"Save weekly roster assignments"})]})]})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Conferences to Process:"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:n.map(V=>r.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded",children:[r.jsx(ae,{variant:"outline",className:"text-xs",children:V.league_id}),r.jsx("span",{className:"text-sm truncate",children:V.conference_name})]},V.id))}),r.jsxs("div",{className:"mt-2 text-xs text-muted-foreground",children:["Total operations: ",n.length," leagues  ",an().length," weeks = ",n.length*an().length," API calls"]})]}),r.jsxs(Ie,{className:"mt-4",children:[r.jsx(We,{className:"h-4 w-4"}),r.jsxs(Oe,{children:[r.jsx("strong",{children:"Note:"}),` This sync processes team rosters for the selected weeks across all conferences using the matchups endpoint. The "players" array from each matchup entry contains all players on that team's roster for that specific week. Weeks that don't exist yet (future weeks) will be skipped automatically.`]})]})]})]}),W&&r.jsxs(X,{children:[r.jsxs(ce,{children:[r.jsx(de,{className:"text-lg",children:"Team Rosters Sync Results"}),r.jsx(je,{children:"Results from the last team rosters synchronization"})]}),r.jsx(te,{children:r.jsxs("div",{className:"p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[W.success?r.jsx(Rl,{className:"h-5 w-5 text-green-600"}):r.jsx(We,{className:"h-5 w-5 text-red-600"}),r.jsx("span",{className:"font-medium",children:"Team Rosters Synchronization"})]}),r.jsx("div",{className:"text-sm",children:W.success?r.jsx("span",{className:"text-green-600",children:"Success"}):r.jsx("span",{className:"text-red-600",children:"Failed"})})]}),W.success&&r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 text-sm text-muted-foreground",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Created:"}),r.jsx("div",{className:"text-lg font-semibold text-green-600",children:W.rosters_created})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Updated:"}),r.jsx("div",{className:"text-lg font-semibold text-blue-600",children:W.rosters_updated})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Players:"}),r.jsx("div",{className:"text-lg font-semibold text-purple-600",children:W.players_processed})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Leagues:"}),r.jsx("div",{className:"text-lg font-semibold text-orange-600",children:W.leagues_processed})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Weeks:"}),r.jsx("div",{className:"text-lg font-semibold text-teal-600",children:W.weeks_processed})]})]}),W.error&&r.jsx("div",{className:"text-sm text-red-600 mt-1",children:W.error})]})})]})]})}),r.jsx(Be,{value:"conferences",children:n.length===0?r.jsxs(Ie,{children:[r.jsx(We,{className:"h-4 w-4"}),r.jsx(Oe,{children:"No conferences available. Please add leagues in the League Manager tab first."})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center gap-4",children:I&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx(or,{className:"h-4 w-4"}),"Last sync: ",I]})}),r.jsx(ee,{onClick:fs,disabled:c||!o||n.length===0,children:c?r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"h-4 w-4 mr-2 animate-spin"}),"Syncing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(bt,{className:"h-4 w-4 mr-2"}),"Sync Conference Data"]})})]}),c&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium",children:"Synchronizing conferences..."}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(_),"%"]})]}),r.jsx(lr,{value:_,className:"w-full"})]}),r.jsxs(X,{children:[r.jsxs(ce,{children:[r.jsxs(de,{className:"text-lg",children:["Conference Synchronization - ",Qt==null?void 0:Qt.season_name]}),r.jsx(je,{children:"Sync conference data from Sleeper API to update league information"})]}),r.jsx(te,{children:r.jsxs("div",{className:"mb-4",children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Conferences to Process:"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:n.map(V=>r.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded",children:[r.jsx(ae,{variant:"outline",className:"text-xs",children:V.league_id}),r.jsx("span",{className:"text-sm truncate",children:V.conference_name})]},V.id))})]})})]}),F.length>0&&r.jsxs(X,{children:[r.jsx(ce,{children:r.jsx(de,{className:"text-lg",children:"Sync Results"})}),r.jsx(te,{children:r.jsxs(un,{children:[r.jsx(fn,{children:r.jsxs(Te,{children:[r.jsx(oe,{children:"League ID"}),r.jsx(oe,{children:"Status"}),r.jsx(oe,{children:"Details"})]})}),r.jsx(hn,{children:F.map((V,pe)=>r.jsxs(Te,{children:[r.jsx(se,{className:"font-medium",children:V.league_id}),r.jsx(se,{children:V.success?r.jsx(ae,{variant:"default",children:"Success"}):r.jsx(ae,{variant:"destructive",children:"Failed"})}),r.jsx(se,{children:V.success?r.jsx("span",{className:"text-green-600",children:"Updated successfully"}):r.jsx("span",{className:"text-red-600",children:V.error})})]},pe))})]})})]})]})}),r.jsx(Be,{value:"teams",children:n.length===0?r.jsxs(Ie,{children:[r.jsx(We,{className:"h-4 w-4"}),r.jsx(Oe,{children:"No conferences available for team synchronization. Please add leagues in the League Manager tab first."})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center gap-4",children:G&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx(or,{className:"h-4 w-4"}),"Last teams sync: ",G]})}),r.jsx(ee,{onClick:As,disabled:u||!o||n.length===0,children:u?r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"h-4 w-4 mr-2 animate-spin"}),"Syncing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Gt,{className:"h-4 w-4 mr-2"}),"Sync Teams"]})})]}),u&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium",children:"Synchronizing teams..."}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(P),"%"]})]}),r.jsx(lr,{value:P,className:"w-full"})]}),r.jsxs(X,{children:[r.jsxs(ce,{children:[r.jsxs(de,{className:"text-lg",children:["Teams Synchronization - ",Qt==null?void 0:Qt.season_name]}),r.jsx(je,{children:"Sync team data from Sleeper API including owners, team names, and roster mappings"})]}),r.jsx(te,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Gt,{className:"h-5 w-5 text-blue-600"}),r.jsx("h4",{className:"font-semibold",children:"Team Data"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Creates teams and junction records:"}),r.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[r.jsx("li",{children:" Team names and owner information"}),r.jsx("li",{children:" Avatar/logo URLs"}),r.jsx("li",{children:" Roster ID mappings"}),r.jsx("li",{children:" Conference relationships"})]})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Ki,{className:"h-5 w-5 text-green-600"}),r.jsx("h4",{className:"font-semibold",children:"Data Structure"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Updates database tables:"}),r.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[r.jsx("li",{children:" Teams table (team info)"}),r.jsx("li",{children:" Junction table (team-conference mapping)"}),r.jsx("li",{children:" Roster ID associations"}),r.jsx("li",{children:" Active status tracking"})]})]})]})})]}),S.length>0&&r.jsxs(X,{children:[r.jsx(ce,{children:r.jsx(de,{className:"text-lg",children:"Teams Sync Results"})}),r.jsx(te,{children:r.jsxs(un,{children:[r.jsx(fn,{children:r.jsxs(Te,{children:[r.jsx(oe,{children:"League ID"}),r.jsx(oe,{children:"Status"}),r.jsx(oe,{children:"Teams Created"}),r.jsx(oe,{children:"Junction Records"}),r.jsx(oe,{children:"Details"})]})}),r.jsx(hn,{children:S.map((V,pe)=>r.jsxs(Te,{children:[r.jsx(se,{className:"font-medium",children:V.league_id}),r.jsx(se,{children:V.success?r.jsx(ae,{variant:"default",children:"Success"}):r.jsx(ae,{variant:"destructive",children:"Failed"})}),r.jsx(se,{children:V.success?V.teams_created:0}),r.jsx(se,{children:V.success?V.junction_records_created:0}),r.jsx(se,{children:V.success?r.jsx("span",{className:"text-green-600",children:"Updated successfully"}):r.jsx("span",{className:"text-red-600",children:V.error})})]},pe))})]})})]})]})}),r.jsx(Be,{value:"matchups",children:n.length===0?r.jsxs(Ie,{children:[r.jsx(We,{className:"h-4 w-4"}),r.jsx(Oe,{children:"No conferences available for matchup synchronization. Please add leagues in the League Manager tab first."})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center gap-4",children:fe&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx(or,{className:"h-4 w-4"}),"Last matchups sync: ",fe]})}),r.jsx(ee,{onClick:qa,disabled:j||!o||n.length===0,children:j?r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"h-4 w-4 mr-2 animate-spin"}),"Syncing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"h-4 w-4 mr-2"}),"Sync Matchups"]})})]}),j&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium",children:"Synchronizing matchups..."}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(M),"%"]})]}),r.jsx(lr,{value:M,className:"w-full"})]}),r.jsxs(X,{children:[r.jsxs(ce,{children:[r.jsxs(de,{className:"text-lg",children:["Matchups Synchronization - ",Qt==null?void 0:Qt.season_name]}),r.jsx(je,{children:"Sync matchup data from Sleeper API for all weeks across all conferences"})]}),r.jsx(te,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Xe,{className:"h-5 w-5 text-blue-600"}),r.jsx("h4",{className:"font-semibold",children:"Matchup Data"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Processes matchup information:"}),r.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[r.jsx("li",{children:" Team matchups for all weeks"}),r.jsx("li",{children:" Scores and results"}),r.jsx("li",{children:" Winner determination"}),r.jsx("li",{children:" Playoff vs regular season"})]})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(ns,{className:"h-5 w-5 text-green-600"}),r.jsx("h4",{className:"font-semibold",children:"Season Coverage"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Covers the entire season:"}),r.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[r.jsx("li",{children:" Weeks 1-17 for each conference"}),r.jsx("li",{children:" Regular season and playoffs"}),r.jsxs("li",{children:[" ",n.length*17," total operations"]}),r.jsx("li",{children:" Automatic status detection"})]})]})]})})]}),D&&r.jsxs(X,{children:[r.jsx(ce,{children:r.jsx(de,{className:"text-lg",children:"Matchups Sync Results"})}),r.jsx(te,{children:r.jsxs("div",{className:"p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[D.success?r.jsx(Rl,{className:"h-5 w-5 text-green-600"}):r.jsx(We,{className:"h-5 w-5 text-red-600"}),r.jsx("span",{className:"font-medium",children:"Matchups Synchronization"})]}),r.jsx("div",{className:"text-sm",children:D.success?r.jsx("span",{className:"text-green-600",children:"Success"}):r.jsx("span",{className:"text-red-600",children:"Failed"})})]}),D.success&&r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-muted-foreground",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Created:"}),r.jsx("div",{className:"text-lg font-semibold text-green-600",children:D.matchups_created})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Updated:"}),r.jsx("div",{className:"text-lg font-semibold text-blue-600",children:D.matchups_updated})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Leagues:"}),r.jsx("div",{className:"text-lg font-semibold text-orange-600",children:D.leagues_processed})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Weeks:"}),r.jsx("div",{className:"text-lg font-semibold text-purple-600",children:D.weeks_processed})]})]}),D.error&&r.jsx("div",{className:"text-sm text-red-600 mt-1",children:D.error})]})})]})]})}),r.jsx(Be,{value:"draft",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center gap-4",children:Me&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx(or,{className:"h-4 w-4"}),"Last draft sync: ",Me]})}),r.jsx(ee,{onClick:er,disabled:w,children:w?r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"h-4 w-4 mr-2 animate-spin"}),"Syncing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(ou,{className:"h-4 w-4 mr-2"}),"Sync Draft Results"]})})]}),w&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium",children:"Synchronizing draft results..."}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(O),"%"]})]}),r.jsx(lr,{value:O,className:"w-full"})]}),r.jsxs(X,{children:[r.jsxs(ce,{children:[r.jsx(de,{className:"text-lg",children:"Draft Results Synchronization"}),r.jsx(je,{children:"Sync draft results from Sleeper API for all conferences and seasons"})]}),r.jsxs(te,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(ou,{className:"h-5 w-5 text-blue-600"}),r.jsx("h4",{className:"font-semibold",children:"Draft Data"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Processes draft information:"}),r.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[r.jsx("li",{children:" Draft picks by round and position"}),r.jsx("li",{children:" Player information and positions"}),r.jsx("li",{children:" Team assignments"}),r.jsx("li",{children:" Historical draft tracking"})]})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Ki,{className:"h-5 w-5 text-green-600"}),r.jsx("h4",{className:"font-semibold",children:"Data Processing"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Updates draft results table:"}),r.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[r.jsx("li",{children:" Maps roster IDs to team IDs"}),r.jsx("li",{children:" Processes all conferences"}),r.jsx("li",{children:" Handles multiple seasons"}),r.jsx("li",{children:" Clears and refreshes data"})]})]})]}),r.jsxs(Ie,{children:[r.jsx(We,{className:"h-4 w-4"}),r.jsxs(Oe,{children:[r.jsx("strong",{children:"Note:"})," This sync processes draft results for all conferences and seasons. It will clear existing draft data and repopulate it with the latest information from Sleeper API."]})]})]})]}),$&&r.jsxs(X,{children:[r.jsx(ce,{children:r.jsx(de,{className:"text-lg",children:"Draft Sync Results"})}),r.jsx(te,{children:r.jsxs("div",{className:"p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[$.success?r.jsx(Rl,{className:"h-5 w-5 text-green-600"}):r.jsx(We,{className:"h-5 w-5 text-red-600"}),r.jsx("span",{className:"font-medium",children:"Draft Synchronization"})]}),r.jsx("div",{className:"text-sm",children:$.success?r.jsx("span",{className:"text-green-600",children:"Success"}):r.jsx("span",{className:"text-red-600",children:"Failed"})})]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:$.message}),$.error&&r.jsx("div",{className:"text-sm text-red-600 mt-1",children:$.error})]})})]})]})}),r.jsx(Be,{value:"players",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center gap-4",children:Q&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx(or,{className:"h-4 w-4"}),"Last players sync: ",Q]})}),r.jsx(ee,{onClick:Ha,disabled:m,children:m?r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"h-4 w-4 mr-2 animate-spin"}),"Syncing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(wo,{className:"h-4 w-4 mr-2"}),"Sync Players"]})})]}),m&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium",children:"Synchronizing players..."}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(E),"%"]})]}),r.jsx(lr,{value:E,className:"w-full"})]}),r.jsxs(X,{children:[r.jsxs(ce,{children:[r.jsx(de,{className:"text-lg",children:"Players Synchronization"}),r.jsx(je,{children:"Sync all NFL players data from Sleeper API - this operation is independent of conferences"})]}),r.jsxs(te,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(wo,{className:"h-5 w-5 text-blue-600"}),r.jsx("h4",{className:"font-semibold",children:"Player Data"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Syncs comprehensive player information:"}),r.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[r.jsx("li",{children:" Names and positions"}),r.jsx("li",{children:" NFL team affiliations"}),r.jsx("li",{children:" Physical attributes"}),r.jsx("li",{children:" Injury status"}),r.jsx("li",{children:" College and experience"})]})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Ki,{className:"h-5 w-5 text-green-600"}),r.jsx("h4",{className:"font-semibold",children:"Data Management"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Updates player database:"}),r.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[r.jsx("li",{children:" Creates new player records"}),r.jsx("li",{children:" Updates existing player info"}),r.jsx("li",{children:" Maintains Sleeper ID mappings"}),r.jsx("li",{children:" Processes thousands of players"})]})]})]}),r.jsxs(Ie,{children:[r.jsx(We,{className:"h-4 w-4"}),r.jsxs(Oe,{children:[r.jsx("strong",{children:"Note:"})," This sync processes all NFL players from Sleeper API. It can take several minutes to complete and will update or create thousands of player records."]})]})]})]}),C&&r.jsxs(X,{children:[r.jsx(ce,{children:r.jsx(de,{className:"text-lg",children:"Players Sync Results"})}),r.jsx(te,{children:r.jsxs("div",{className:"p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[C.success?r.jsx(Rl,{className:"h-5 w-5 text-green-600"}):r.jsx(We,{className:"h-5 w-5 text-red-600"}),r.jsx("span",{className:"font-medium",children:"Players Synchronization"})]}),r.jsx("div",{className:"text-sm",children:C.success?r.jsx("span",{className:"text-green-600",children:"Success"}):r.jsx("span",{className:"text-red-600",children:"Failed"})})]}),C.success&&r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Created:"}),r.jsx("div",{className:"text-lg font-semibold text-green-600",children:C.players_created})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Updated:"}),r.jsx("div",{className:"text-lg font-semibold text-blue-600",children:C.players_updated})]})]}),C.error&&r.jsx("div",{className:"text-sm text-red-600 mt-1",children:C.error})]})})]})]})})]})]})]})]})})},qi=async(e,t)=>(console.log(`Placeholder Update: ${e}`,t),{error:null}),Nl=async(e,t)=>(console.log(`Placeholder Create: ${e}`,t),{error:null});function lB(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return h.useMemo(()=>s=>{t.forEach(a=>a(s))},t)}const oh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ll(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Ay(e){return"nodeType"in e}function Bn(e){var t,n;return e?ll(e)?e:Ay(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function $y(e){const{Document:t}=Bn(e);return e instanceof t}function sd(e){return ll(e)?!1:e instanceof Bn(e).HTMLElement}function gT(e){return e instanceof Bn(e).SVGElement}function cl(e){return e?ll(e)?e.document:Ay(e)?$y(e)?e:sd(e)||gT(e)?e.ownerDocument:document:document:document}const Qs=oh?h.useLayoutEffect:h.useEffect;function lh(e){const t=h.useRef(e);return Qs(()=>{t.current=e}),h.useCallback(function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return t.current==null?void 0:t.current(...s)},[])}function cB(){const e=h.useRef(null),t=h.useCallback((s,a)=>{e.current=setInterval(s,a)},[]),n=h.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Pc(e,t){t===void 0&&(t=[e]);const n=h.useRef(e);return Qs(()=>{n.current!==e&&(n.current=e)},t),n}function rd(e,t){const n=h.useRef();return h.useMemo(()=>{const s=e(n.current);return n.current=s,s},[...t])}function tf(e){const t=lh(e),n=h.useRef(null),s=h.useCallback(a=>{a!==n.current&&(t==null||t(a,n.current)),n.current=a},[]);return[n,s]}function nf(e){const t=h.useRef();return h.useEffect(()=>{t.current=e},[e]),t.current}let Sm={};function ad(e,t){return h.useMemo(()=>{if(t)return t;const n=Sm[e]==null?0:Sm[e]+1;return Sm[e]=n,e+"-"+n},[e,t])}function xT(e){return function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),a=1;a<n;a++)s[a-1]=arguments[a];return s.reduce((i,o)=>{const l=Object.entries(o);for(const[c,d]of l){const u=i[c];u!=null&&(i[c]=u+e*d)}return i},{...t})}}const So=xT(1),Rc=xT(-1);function dB(e){return"clientX"in e&&"clientY"in e}function ch(e){if(!e)return!1;const{KeyboardEvent:t}=Bn(e.target);return t&&e instanceof t}function uB(e){if(!e)return!1;const{TouchEvent:t}=Bn(e.target);return t&&e instanceof t}function sf(e){if(uB(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return dB(e)?{x:e.clientX,y:e.clientY}:null}const Vr=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Vr.Translate.toString(e),Vr.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:s}=e;return t+" "+n+"ms "+s}}}),z0="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function fB(e){return e.matches(z0)?e:e.querySelector(z0)}const hB={display:"none"};function mB(e){let{id:t,value:n}=e;return De.createElement("div",{id:t,style:hB},n)}function pB(e){let{id:t,announcement:n,ariaLiveType:s="assertive"}=e;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return De.createElement("div",{id:t,style:a,role:"status","aria-live":s,"aria-atomic":!0},n)}function gB(){const[e,t]=h.useState("");return{announce:h.useCallback(s=>{s!=null&&t(s)},[]),announcement:e}}const yT=h.createContext(null);function xB(e){const t=h.useContext(yT);h.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function yB(){const[e]=h.useState(()=>new Set),t=h.useCallback(s=>(e.add(s),()=>e.delete(s)),[e]);return[h.useCallback(s=>{let{type:a,event:i}=s;e.forEach(o=>{var l;return(l=o[a])==null?void 0:l.call(o,i)})},[e]),t]}const vB={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},wB={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function jB(e){let{announcements:t=wB,container:n,hiddenTextDescribedById:s,screenReaderInstructions:a=vB}=e;const{announce:i,announcement:o}=gB(),l=ad("DndLiveRegion"),[c,d]=h.useState(!1);if(h.useEffect(()=>{d(!0)},[]),xB(h.useMemo(()=>({onDragStart(f){let{active:m}=f;i(t.onDragStart({active:m}))},onDragMove(f){let{active:m,over:y}=f;t.onDragMove&&i(t.onDragMove({active:m,over:y}))},onDragOver(f){let{active:m,over:y}=f;i(t.onDragOver({active:m,over:y}))},onDragEnd(f){let{active:m,over:y}=f;i(t.onDragEnd({active:m,over:y}))},onDragCancel(f){let{active:m,over:y}=f;i(t.onDragCancel({active:m,over:y}))}}),[i,t])),!c)return null;const u=De.createElement(De.Fragment,null,De.createElement(mB,{id:s,value:a.draggable}),De.createElement(pB,{id:l,announcement:o}));return n?Ss.createPortal(u,n):u}var qt;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(qt||(qt={}));function rf(){}function af(e,t){return h.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function vT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return h.useMemo(()=>[...t].filter(s=>s!=null),[...t])}const Xs=Object.freeze({x:0,y:0});function wT(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function _B(e,t){const n=sf(e);if(!n)return"0 0";const s={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return s.x+"% "+s.y+"%"}function jT(e,t){let{data:{value:n}}=e,{data:{value:s}}=t;return n-s}function bB(e,t){let{data:{value:n}}=e,{data:{value:s}}=t;return s-n}function V0(e){let{left:t,top:n,height:s,width:a}=e;return[{x:t,y:n},{x:t+a,y:n},{x:t,y:n+s},{x:t+a,y:n+s}]}function _T(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function W0(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const bT=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=e;const a=W0(t,t.left,t.top),i=[];for(const o of s){const{id:l}=o,c=n.get(l);if(c){const d=wT(W0(c),a);i.push({id:l,data:{droppableContainer:o,value:d}})}}return i.sort(jT)},SB=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=e;const a=V0(t),i=[];for(const o of s){const{id:l}=o,c=n.get(l);if(c){const d=V0(c),u=a.reduce((m,y,j)=>m+wT(d[j],y),0),f=Number((u/4).toFixed(4));i.push({id:l,data:{droppableContainer:o,value:f}})}}return i.sort(jT)};function NB(e,t){const n=Math.max(t.top,e.top),s=Math.max(t.left,e.left),a=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),o=a-s,l=i-n;if(s<a&&n<i){const c=t.width*t.height,d=e.width*e.height,u=o*l,f=u/(c+d-u);return Number(f.toFixed(4))}return 0}const CB=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=e;const a=[];for(const i of s){const{id:o}=i,l=n.get(o);if(l){const c=NB(l,t);c>0&&a.push({id:o,data:{droppableContainer:i,value:c}})}}return a.sort(bB)};function EB(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function ST(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Xs}function TB(e){return function(n){for(var s=arguments.length,a=new Array(s>1?s-1:0),i=1;i<s;i++)a[i-1]=arguments[i];return a.reduce((o,l)=>({...o,top:o.top+e*l.y,bottom:o.bottom+e*l.y,left:o.left+e*l.x,right:o.right+e*l.x}),{...n})}}const kB=TB(1);function NT(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function PB(e,t,n){const s=NT(t);if(!s)return e;const{scaleX:a,scaleY:i,x:o,y:l}=s,c=e.left-o-(1-a)*parseFloat(n),d=e.top-l-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),u=a?e.width/a:e.width,f=i?e.height/i:e.height;return{width:u,height:f,top:d,right:c+u,bottom:d+f,left:c}}const RB={ignoreTransform:!1};function dl(e,t){t===void 0&&(t=RB);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:d,transformOrigin:u}=Bn(e).getComputedStyle(e);d&&(n=PB(n,d,u))}const{top:s,left:a,width:i,height:o,bottom:l,right:c}=n;return{top:s,left:a,width:i,height:o,bottom:l,right:c}}function H0(e){return dl(e,{ignoreTransform:!0})}function AB(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function $B(e,t){return t===void 0&&(t=Bn(e).getComputedStyle(e)),t.position==="fixed"}function DB(e,t){t===void 0&&(t=Bn(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const i=t[a];return typeof i=="string"?n.test(i):!1})}function dh(e,t){const n=[];function s(a){if(t!=null&&n.length>=t||!a)return n;if($y(a)&&a.scrollingElement!=null&&!n.includes(a.scrollingElement))return n.push(a.scrollingElement),n;if(!sd(a)||gT(a)||n.includes(a))return n;const i=Bn(e).getComputedStyle(a);return a!==e&&DB(a,i)&&n.push(a),$B(a,i)?n:s(a.parentNode)}return e?s(e):n}function CT(e){const[t]=dh(e,1);return t??null}function Nm(e){return!oh||!e?null:ll(e)?e:Ay(e)?$y(e)||e===cl(e).scrollingElement?window:sd(e)?e:null:null}function ET(e){return ll(e)?e.scrollX:e.scrollLeft}function TT(e){return ll(e)?e.scrollY:e.scrollTop}function yg(e){return{x:ET(e),y:TT(e)}}var tn;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(tn||(tn={}));function kT(e){return!oh||!e?!1:e===document.scrollingElement}function PT(e){const t={x:0,y:0},n=kT(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},s={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},a=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,o=e.scrollTop>=s.y,l=e.scrollLeft>=s.x;return{isTop:a,isLeft:i,isBottom:o,isRight:l,maxScroll:s,minScroll:t}}const MB={x:.2,y:.2};function LB(e,t,n,s,a){let{top:i,left:o,right:l,bottom:c}=n;s===void 0&&(s=10),a===void 0&&(a=MB);const{isTop:d,isBottom:u,isLeft:f,isRight:m}=PT(e),y={x:0,y:0},j={x:0,y:0},g={height:t.height*a.y,width:t.width*a.x};return!d&&i<=t.top+g.height?(y.y=tn.Backward,j.y=s*Math.abs((t.top+g.height-i)/g.height)):!u&&c>=t.bottom-g.height&&(y.y=tn.Forward,j.y=s*Math.abs((t.bottom-g.height-c)/g.height)),!m&&l>=t.right-g.width?(y.x=tn.Forward,j.x=s*Math.abs((t.right-g.width-l)/g.width)):!f&&o<=t.left+g.width&&(y.x=tn.Backward,j.x=s*Math.abs((t.left+g.width-o)/g.width)),{direction:y,speed:j}}function IB(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:o}=window;return{top:0,left:0,right:i,bottom:o,width:i,height:o}}const{top:t,left:n,right:s,bottom:a}=e.getBoundingClientRect();return{top:t,left:n,right:s,bottom:a,width:e.clientWidth,height:e.clientHeight}}function RT(e){return e.reduce((t,n)=>So(t,yg(n)),Xs)}function OB(e){return e.reduce((t,n)=>t+ET(n),0)}function FB(e){return e.reduce((t,n)=>t+TT(n),0)}function AT(e,t){if(t===void 0&&(t=dl),!e)return;const{top:n,left:s,bottom:a,right:i}=t(e);CT(e)&&(a<=0||i<=0||n>=window.innerHeight||s>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const BB=[["x",["left","right"],OB],["y",["top","bottom"],FB]];class Dy{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const s=dh(n),a=RT(s);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,o,l]of BB)for(const c of o)Object.defineProperty(this,c,{get:()=>{const d=l(s),u=a[i]-d;return this.rect[c]+u},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Yl{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var s;return(s=this.target)==null?void 0:s.removeEventListener(...n)})},this.target=t}add(t,n,s){var a;(a=this.target)==null||a.addEventListener(t,n,s),this.listeners.push([t,n,s])}}function UB(e){const{EventTarget:t}=Bn(e);return e instanceof t?e:cl(e)}function Cm(e,t){const n=Math.abs(e.x),s=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+s**2)>t:"x"in t&&"y"in t?n>t.x&&s>t.y:"x"in t?n>t.x:"y"in t?s>t.y:!1}var ws;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(ws||(ws={}));function q0(e){e.preventDefault()}function zB(e){e.stopPropagation()}var Le;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Le||(Le={}));const $T={start:[Le.Space,Le.Enter],cancel:[Le.Esc],end:[Le.Space,Le.Enter,Le.Tab]},VB=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Le.Right:return{...n,x:n.x+25};case Le.Left:return{...n,x:n.x-25};case Le.Down:return{...n,y:n.y+25};case Le.Up:return{...n,y:n.y-25}}};class uh{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Yl(cl(n)),this.windowListeners=new Yl(Bn(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ws.Resize,this.handleCancel),this.windowListeners.add(ws.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ws.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,s=t.node.current;s&&AT(s),n(Xs)}handleKeyDown(t){if(ch(t)){const{active:n,context:s,options:a}=this.props,{keyboardCodes:i=$T,coordinateGetter:o=VB,scrollBehavior:l="smooth"}=a,{code:c}=t;if(i.end.includes(c)){this.handleEnd(t);return}if(i.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:d}=s.current,u=d?{x:d.left,y:d.top}:Xs;this.referenceCoordinates||(this.referenceCoordinates=u);const f=o(t,{active:n,context:s.current,currentCoordinates:u});if(f){const m=Rc(f,u),y={x:0,y:0},{scrollableAncestors:j}=s.current;for(const g of j){const w=t.code,{isTop:x,isRight:p,isLeft:v,isBottom:_,maxScroll:b,minScroll:P}=PT(g),N=IB(g),E={x:Math.min(w===Le.Right?N.right-N.width/2:N.right,Math.max(w===Le.Right?N.left:N.left+N.width/2,f.x)),y:Math.min(w===Le.Down?N.bottom-N.height/2:N.bottom,Math.max(w===Le.Down?N.top:N.top+N.height/2,f.y))},R=w===Le.Right&&!p||w===Le.Left&&!v,M=w===Le.Down&&!_||w===Le.Up&&!x;if(R&&E.x!==f.x){const U=g.scrollLeft+m.x,O=w===Le.Right&&U<=b.x||w===Le.Left&&U>=P.x;if(O&&!m.y){g.scrollTo({left:U,behavior:l});return}O?y.x=g.scrollLeft-U:y.x=w===Le.Right?g.scrollLeft-b.x:g.scrollLeft-P.x,y.x&&g.scrollBy({left:-y.x,behavior:l});break}else if(M&&E.y!==f.y){const U=g.scrollTop+m.y,O=w===Le.Down&&U<=b.y||w===Le.Up&&U>=P.y;if(O&&!m.x){g.scrollTo({top:U,behavior:l});return}O?y.y=g.scrollTop-U:y.y=w===Le.Down?g.scrollTop-b.y:g.scrollTop-P.y,y.y&&g.scrollBy({top:-y.y,behavior:l});break}}this.handleMove(t,So(Rc(f,this.referenceCoordinates),y))}}}handleMove(t,n){const{onMove:s}=this.props;t.preventDefault(),s(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}uh.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:s=$T,onActivation:a}=t,{active:i}=n;const{code:o}=e.nativeEvent;if(s.start.includes(o)){const l=i.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),a==null||a({event:e.nativeEvent}),!0)}return!1}}];function K0(e){return!!(e&&"distance"in e)}function G0(e){return!!(e&&"delay"in e)}class My{constructor(t,n,s){var a;s===void 0&&(s=UB(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:i}=t,{target:o}=i;this.props=t,this.events=n,this.document=cl(o),this.documentListeners=new Yl(this.document),this.listeners=new Yl(s),this.windowListeners=new Yl(Bn(o)),this.initialCoordinates=(a=sf(i))!=null?a:Xs,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:s}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(ws.Resize,this.handleCancel),this.windowListeners.add(ws.DragStart,q0),this.windowListeners.add(ws.VisibilityChange,this.handleCancel),this.windowListeners.add(ws.ContextMenu,q0),this.documentListeners.add(ws.Keydown,this.handleKeydown),n){if(s!=null&&s({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(G0(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(K0(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:s,onPending:a}=this.props;a(s,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(ws.Click,zB,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ws.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:s,initialCoordinates:a,props:i}=this,{onMove:o,options:{activationConstraint:l}}=i;if(!a)return;const c=(n=sf(t))!=null?n:Xs,d=Rc(a,c);if(!s&&l){if(K0(l)){if(l.tolerance!=null&&Cm(d,l.tolerance))return this.handleCancel();if(Cm(d,l.distance))return this.handleStart()}if(G0(l)&&Cm(d,l.tolerance))return this.handleCancel();this.handlePending(l,d);return}t.cancelable&&t.preventDefault(),o(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===Le.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const WB={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class fh extends My{constructor(t){const{event:n}=t,s=cl(n.target);super(t,WB,s)}}fh.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;return!n.isPrimary||n.button!==0?!1:(s==null||s({event:n}),!0)}}];const HB={move:{name:"mousemove"},end:{name:"mouseup"}};var vg;(function(e){e[e.RightClick=2]="RightClick"})(vg||(vg={}));class qB extends My{constructor(t){super(t,HB,cl(t.event.target))}}qB.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;return n.button===vg.RightClick?!1:(s==null||s({event:n}),!0)}}];const Em={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class KB extends My{constructor(t){super(t,Em)}static setup(){return window.addEventListener(Em.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Em.move.name,t)};function t(){}}}KB.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;const{touches:a}=n;return a.length>1?!1:(s==null||s({event:n}),!0)}}];var Ql;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Ql||(Ql={}));var of;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(of||(of={}));function GB(e){let{acceleration:t,activator:n=Ql.Pointer,canScroll:s,draggingRect:a,enabled:i,interval:o=5,order:l=of.TreeOrder,pointerCoordinates:c,scrollableAncestors:d,scrollableAncestorRects:u,delta:f,threshold:m}=e;const y=QB({delta:f,disabled:!i}),[j,g]=cB(),w=h.useRef({x:0,y:0}),x=h.useRef({x:0,y:0}),p=h.useMemo(()=>{switch(n){case Ql.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Ql.DraggableRect:return a}},[n,a,c]),v=h.useRef(null),_=h.useCallback(()=>{const P=v.current;if(!P)return;const N=w.current.x*x.current.x,E=w.current.y*x.current.y;P.scrollBy(N,E)},[]),b=h.useMemo(()=>l===of.TreeOrder?[...d].reverse():d,[l,d]);h.useEffect(()=>{if(!i||!d.length||!p){g();return}for(const P of b){if((s==null?void 0:s(P))===!1)continue;const N=d.indexOf(P),E=u[N];if(!E)continue;const{direction:R,speed:M}=LB(P,E,p,t,m);for(const U of["x","y"])y[U][R[U]]||(M[U]=0,R[U]=0);if(M.x>0||M.y>0){g(),v.current=P,j(_,o),w.current=M,x.current=R;return}}w.current={x:0,y:0},x.current={x:0,y:0},g()},[t,_,s,g,i,o,JSON.stringify(p),JSON.stringify(y),j,d,b,u,JSON.stringify(m)])}const YB={x:{[tn.Backward]:!1,[tn.Forward]:!1},y:{[tn.Backward]:!1,[tn.Forward]:!1}};function QB(e){let{delta:t,disabled:n}=e;const s=nf(t);return rd(a=>{if(n||!s||!a)return YB;const i={x:Math.sign(t.x-s.x),y:Math.sign(t.y-s.y)};return{x:{[tn.Backward]:a.x[tn.Backward]||i.x===-1,[tn.Forward]:a.x[tn.Forward]||i.x===1},y:{[tn.Backward]:a.y[tn.Backward]||i.y===-1,[tn.Forward]:a.y[tn.Forward]||i.y===1}}},[n,t,s])}function XB(e,t){const n=t!=null?e.get(t):void 0,s=n?n.node.current:null;return rd(a=>{var i;return t==null?null:(i=s??a)!=null?i:null},[s,t])}function JB(e,t){return h.useMemo(()=>e.reduce((n,s)=>{const{sensor:a}=s,i=a.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,s)}));return[...n,...i]},[]),[e,t])}var Ac;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Ac||(Ac={}));var wg;(function(e){e.Optimized="optimized"})(wg||(wg={}));const Y0=new Map;function ZB(e,t){let{dragging:n,dependencies:s,config:a}=t;const[i,o]=h.useState(null),{frequency:l,measure:c,strategy:d}=a,u=h.useRef(e),f=w(),m=Pc(f),y=h.useCallback(function(x){x===void 0&&(x=[]),!m.current&&o(p=>p===null?x:p.concat(x.filter(v=>!p.includes(v))))},[m]),j=h.useRef(null),g=rd(x=>{if(f&&!n)return Y0;if(!x||x===Y0||u.current!==e||i!=null){const p=new Map;for(let v of e){if(!v)continue;if(i&&i.length>0&&!i.includes(v.id)&&v.rect.current){p.set(v.id,v.rect.current);continue}const _=v.node.current,b=_?new Dy(c(_),_):null;v.rect.current=b,b&&p.set(v.id,b)}return p}return x},[e,i,n,f,c]);return h.useEffect(()=>{u.current=e},[e]),h.useEffect(()=>{f||y()},[n,f]),h.useEffect(()=>{i&&i.length>0&&o(null)},[JSON.stringify(i)]),h.useEffect(()=>{f||typeof l!="number"||j.current!==null||(j.current=setTimeout(()=>{y(),j.current=null},l))},[l,f,y,...s]),{droppableRects:g,measureDroppableContainers:y,measuringScheduled:i!=null};function w(){switch(d){case Ac.Always:return!1;case Ac.BeforeDragging:return n;default:return!n}}}function Ly(e,t){return rd(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function eU(e,t){return Ly(e,t)}function tU(e){let{callback:t,disabled:n}=e;const s=lh(t),a=h.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(s)},[s,n]);return h.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function hh(e){let{callback:t,disabled:n}=e;const s=lh(t),a=h.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(s)},[n]);return h.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function nU(e){return new Dy(dl(e),e)}function Q0(e,t,n){t===void 0&&(t=nU);const[s,a]=h.useState(null);function i(){a(c=>{if(!e)return null;if(e.isConnected===!1){var d;return(d=c??n)!=null?d:null}const u=t(e);return JSON.stringify(c)===JSON.stringify(u)?c:u})}const o=tU({callback(c){if(e)for(const d of c){const{type:u,target:f}=d;if(u==="childList"&&f instanceof HTMLElement&&f.contains(e)){i();break}}}}),l=hh({callback:i});return Qs(()=>{i(),e?(l==null||l.observe(e),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),o==null||o.disconnect())},[e]),s}function sU(e){const t=Ly(e);return ST(e,t)}const X0=[];function rU(e){const t=h.useRef(e),n=rd(s=>e?s&&s!==X0&&e&&t.current&&e.parentNode===t.current.parentNode?s:dh(e):X0,[e]);return h.useEffect(()=>{t.current=e},[e]),n}function aU(e){const[t,n]=h.useState(null),s=h.useRef(e),a=h.useCallback(i=>{const o=Nm(i.target);o&&n(l=>l?(l.set(o,yg(o)),new Map(l)):null)},[]);return h.useEffect(()=>{const i=s.current;if(e!==i){o(i);const l=e.map(c=>{const d=Nm(c);return d?(d.addEventListener("scroll",a,{passive:!0}),[d,yg(d)]):null}).filter(c=>c!=null);n(l.length?new Map(l):null),s.current=e}return()=>{o(e),o(i)};function o(l){l.forEach(c=>{const d=Nm(c);d==null||d.removeEventListener("scroll",a)})}},[a,e]),h.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,o)=>So(i,o),Xs):RT(e):Xs,[e,t])}function J0(e,t){t===void 0&&(t=[]);const n=h.useRef(null);return h.useEffect(()=>{n.current=null},t),h.useEffect(()=>{const s=e!==Xs;s&&!n.current&&(n.current=e),!s&&n.current&&(n.current=null)},[e]),n.current?Rc(e,n.current):Xs}function iU(e){h.useEffect(()=>{if(!oh)return;const t=e.map(n=>{let{sensor:s}=n;return s.setup==null?void 0:s.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function oU(e,t){return h.useMemo(()=>e.reduce((n,s)=>{let{eventName:a,handler:i}=s;return n[a]=o=>{i(o,t)},n},{}),[e,t])}function DT(e){return h.useMemo(()=>e?AB(e):null,[e])}const Z0=[];function lU(e,t){t===void 0&&(t=dl);const[n]=e,s=DT(n?Bn(n):null),[a,i]=h.useState(Z0);function o(){i(()=>e.length?e.map(c=>kT(c)?s:new Dy(t(c),c)):Z0)}const l=hh({callback:o});return Qs(()=>{l==null||l.disconnect(),o(),e.forEach(c=>l==null?void 0:l.observe(c))},[e]),a}function MT(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return sd(t)?t:e}function cU(e){let{measure:t}=e;const[n,s]=h.useState(null),a=h.useCallback(d=>{for(const{target:u}of d)if(sd(u)){s(f=>{const m=t(u);return f?{...f,width:m.width,height:m.height}:m});break}},[t]),i=hh({callback:a}),o=h.useCallback(d=>{const u=MT(d);i==null||i.disconnect(),u&&(i==null||i.observe(u)),s(u?t(u):null)},[t,i]),[l,c]=tf(o);return h.useMemo(()=>({nodeRef:l,rect:n,setRef:c}),[n,l,c])}const dU=[{sensor:fh,options:{}},{sensor:uh,options:{}}],uU={current:{}},fu={draggable:{measure:H0},droppable:{measure:H0,strategy:Ac.WhileDragging,frequency:wg.Optimized},dragOverlay:{measure:dl}};class Xl extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,s;return(n=(s=this.get(t))==null?void 0:s.node.current)!=null?n:void 0}}const fU={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Xl,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:rf},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:fu,measureDroppableContainers:rf,windowRect:null,measuringScheduled:!1},LT={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:rf,draggableNodes:new Map,over:null,measureDroppableContainers:rf},id=h.createContext(LT),IT=h.createContext(fU);function hU(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Xl}}}function mU(e,t){switch(t.type){case qt.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case qt.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case qt.DragEnd:case qt.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case qt.RegisterDroppable:{const{element:n}=t,{id:s}=n,a=new Xl(e.droppable.containers);return a.set(s,n),{...e,droppable:{...e.droppable,containers:a}}}case qt.SetDroppableDisabled:{const{id:n,key:s,disabled:a}=t,i=e.droppable.containers.get(n);if(!i||s!==i.key)return e;const o=new Xl(e.droppable.containers);return o.set(n,{...i,disabled:a}),{...e,droppable:{...e.droppable,containers:o}}}case qt.UnregisterDroppable:{const{id:n,key:s}=t,a=e.droppable.containers.get(n);if(!a||s!==a.key)return e;const i=new Xl(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function pU(e){let{disabled:t}=e;const{active:n,activatorEvent:s,draggableNodes:a}=h.useContext(id),i=nf(s),o=nf(n==null?void 0:n.id);return h.useEffect(()=>{if(!t&&!s&&i&&o!=null){if(!ch(i)||document.activeElement===i.target)return;const l=a.get(o);if(!l)return;const{activatorNode:c,node:d}=l;if(!c.current&&!d.current)return;requestAnimationFrame(()=>{for(const u of[c.current,d.current]){if(!u)continue;const f=fB(u);if(f){f.focus();break}}})}},[s,t,a,o,i]),null}function OT(e,t){let{transform:n,...s}=t;return e!=null&&e.length?e.reduce((a,i)=>i({transform:a,...s}),n):n}function gU(e){return h.useMemo(()=>({draggable:{...fu.draggable,...e==null?void 0:e.draggable},droppable:{...fu.droppable,...e==null?void 0:e.droppable},dragOverlay:{...fu.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function xU(e){let{activeNode:t,measure:n,initialRect:s,config:a=!0}=e;const i=h.useRef(!1),{x:o,y:l}=typeof a=="boolean"?{x:a,y:a}:a;Qs(()=>{if(!o&&!l||!t){i.current=!1;return}if(i.current||!s)return;const d=t==null?void 0:t.node.current;if(!d||d.isConnected===!1)return;const u=n(d),f=ST(u,s);if(o||(f.x=0),l||(f.y=0),i.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const m=CT(d);m&&m.scrollBy({top:f.y,left:f.x})}},[t,o,l,s,n])}const mh=h.createContext({...Xs,scaleX:1,scaleY:1});var oa;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(oa||(oa={}));const FT=h.memo(function(t){var n,s,a,i;let{id:o,accessibility:l,autoScroll:c=!0,children:d,sensors:u=dU,collisionDetection:f=CB,measuring:m,modifiers:y,...j}=t;const g=h.useReducer(mU,void 0,hU),[w,x]=g,[p,v]=yB(),[_,b]=h.useState(oa.Uninitialized),P=_===oa.Initialized,{draggable:{active:N,nodes:E,translate:R},droppable:{containers:M}}=w,U=N!=null?E.get(N):null,O=h.useRef({initial:null,translated:null}),L=h.useMemo(()=>{var Yt;return N!=null?{id:N,data:(Yt=U==null?void 0:U.data)!=null?Yt:uU,rect:O}:null},[N,U]),B=h.useRef(null),[K,F]=h.useState(null),[q,S]=h.useState(null),k=Pc(j,Object.values(j)),C=ad("DndDescribedBy",o),T=h.useMemo(()=>M.getEnabled(),[M]),D=gU(m),{droppableRects:A,measureDroppableContainers:$,measuringScheduled:H}=ZB(T,{dragging:P,dependencies:[R.x,R.y],config:D.droppable}),W=XB(E,N),z=h.useMemo(()=>q?sf(q):null,[q]),I=jh(),Z=eU(W,D.draggable.measure);xU({activeNode:N!=null?E.get(N):null,config:I.layoutShiftCompensation,initialRect:Z,measure:D.draggable.measure});const G=Q0(W,D.draggable.measure,Z),Y=Q0(W?W.parentElement:null),Q=h.useRef({activatorEvent:null,active:null,activeNode:W,collisionRect:null,collisions:null,droppableRects:A,draggableNodes:E,draggingNode:null,draggingNodeRect:null,droppableContainers:M,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),le=M.getNodeFor((n=Q.current.over)==null?void 0:n.id),fe=cU({measure:D.dragOverlay.measure}),ge=(s=fe.nodeRef.current)!=null?s:W,Me=P?(a=fe.rect)!=null?a:G:null,qe=!!(fe.nodeRef.current&&fe.rect),Dt=sU(qe?null:G),ue=DT(ge?Bn(ge):null),_e=rU(P?le??W:null),sn=lU(_e),Ke=OT(y,{transform:{x:R.x-Dt.x,y:R.y-Dt.y,scaleX:1,scaleY:1},activatorEvent:q,active:L,activeNodeRect:G,containerNodeRect:Y,draggingNodeRect:Me,over:Q.current.over,overlayNodeRect:fe.rect,scrollableAncestors:_e,scrollableAncestorRects:sn,windowRect:ue}),cs=z?So(z,R):null,Zs=aU(_e),rn=J0(Zs),Wa=J0(Zs,[G]),ie=So(Ke,rn),Je=Me?kB(Me,Ke):null,st=L&&Je?f({active:L,collisionRect:Je,droppableRects:A,droppableContainers:T,pointerCoordinates:cs}):null,tt=_T(st,"id"),[ft,me]=h.useState(null),$e=qe?Ke:So(Ke,Wa),at=EB($e,(i=ft==null?void 0:ft.rect)!=null?i:null,G),it=h.useRef(null),ot=h.useCallback((Yt,Cn)=>{let{sensor:En,options:Rs}=Cn;if(B.current==null)return;const an=E.get(B.current);if(!an)return;const Tn=Yt.nativeEvent,ds=new En({active:B.current,activeNode:an,event:Tn,options:Rs,context:Q,onAbort(Wt){if(!E.get(Wt))return;const{onDragAbort:fs}=k.current,As={id:Wt};fs==null||fs(As),p({type:"onDragAbort",event:As})},onPending(Wt,us,fs,As){if(!E.get(Wt))return;const{onDragPending:qa}=k.current,er={id:Wt,constraint:us,initialCoordinates:fs,offset:As};qa==null||qa(er),p({type:"onDragPending",event:er})},onStart(Wt){const us=B.current;if(us==null)return;const fs=E.get(us);if(!fs)return;const{onDragStart:As}=k.current,Ha={activatorEvent:Tn,active:{id:us,data:fs.data,rect:O}};Ss.unstable_batchedUpdates(()=>{As==null||As(Ha),b(oa.Initializing),x({type:qt.DragStart,initialCoordinates:Wt,active:us}),p({type:"onDragStart",event:Ha}),F(it.current),S(Tn)})},onMove(Wt){x({type:qt.DragMove,coordinates:Wt})},onEnd:Yr(qt.DragEnd),onCancel:Yr(qt.DragCancel)});it.current=ds;function Yr(Wt){return async function(){const{active:fs,collisions:As,over:Ha,scrollAdjustedTranslate:qa}=Q.current;let er=null;if(fs&&qa){const{cancelDrop:Qt}=k.current;er={activatorEvent:Tn,active:fs,collisions:As,delta:qa,over:Ha},Wt===qt.DragEnd&&typeof Qt=="function"&&await Promise.resolve(Qt(er))&&(Wt=qt.DragCancel)}B.current=null,Ss.unstable_batchedUpdates(()=>{x({type:Wt}),b(oa.Uninitialized),me(null),F(null),S(null),it.current=null;const Qt=Wt===qt.DragEnd?"onDragEnd":"onDragCancel";if(er){const V=k.current[Qt];V==null||V(er),p({type:Qt,event:er})}})}}},[E]),Gr=h.useCallback((Yt,Cn)=>(En,Rs)=>{const an=En.nativeEvent,Tn=E.get(Rs);if(B.current!==null||!Tn||an.dndKit||an.defaultPrevented)return;const ds={active:Tn};Yt(En,Cn.options,ds)===!0&&(an.dndKit={capturedBy:Cn.sensor},B.current=Rs,ot(En,Cn))},[E,ot]),Ps=JB(u,Gr);iU(u),Qs(()=>{G&&_===oa.Initializing&&b(oa.Initialized)},[G,_]),h.useEffect(()=>{const{onDragMove:Yt}=k.current,{active:Cn,activatorEvent:En,collisions:Rs,over:an}=Q.current;if(!Cn||!En)return;const Tn={active:Cn,activatorEvent:En,collisions:Rs,delta:{x:ie.x,y:ie.y},over:an};Ss.unstable_batchedUpdates(()=>{Yt==null||Yt(Tn),p({type:"onDragMove",event:Tn})})},[ie.x,ie.y]),h.useEffect(()=>{const{active:Yt,activatorEvent:Cn,collisions:En,droppableContainers:Rs,scrollAdjustedTranslate:an}=Q.current;if(!Yt||B.current==null||!Cn||!an)return;const{onDragOver:Tn}=k.current,ds=Rs.get(tt),Yr=ds&&ds.rect.current?{id:ds.id,rect:ds.rect.current,data:ds.data,disabled:ds.disabled}:null,Wt={active:Yt,activatorEvent:Cn,collisions:En,delta:{x:an.x,y:an.y},over:Yr};Ss.unstable_batchedUpdates(()=>{me(Yr),Tn==null||Tn(Wt),p({type:"onDragOver",event:Wt})})},[tt]),Qs(()=>{Q.current={activatorEvent:q,active:L,activeNode:W,collisionRect:Je,collisions:st,droppableRects:A,draggableNodes:E,draggingNode:ge,draggingNodeRect:Me,droppableContainers:M,over:ft,scrollableAncestors:_e,scrollAdjustedTranslate:ie},O.current={initial:Me,translated:Je}},[L,W,st,Je,E,ge,Me,A,M,ft,_e,ie]),GB({...I,delta:R,draggingRect:Je,pointerCoordinates:cs,scrollableAncestors:_e,scrollableAncestorRects:sn});const _r=h.useMemo(()=>({active:L,activeNode:W,activeNodeRect:G,activatorEvent:q,collisions:st,containerNodeRect:Y,dragOverlay:fe,draggableNodes:E,droppableContainers:M,droppableRects:A,over:ft,measureDroppableContainers:$,scrollableAncestors:_e,scrollableAncestorRects:sn,measuringConfiguration:D,measuringScheduled:H,windowRect:ue}),[L,W,G,q,st,Y,fe,E,M,A,ft,$,_e,sn,D,H,ue]),wh=h.useMemo(()=>({activatorEvent:q,activators:Ps,active:L,activeNodeRect:G,ariaDescribedById:{draggable:C},dispatch:x,draggableNodes:E,over:ft,measureDroppableContainers:$}),[q,Ps,L,G,x,C,E,ft,$]);return De.createElement(yT.Provider,{value:v},De.createElement(id.Provider,{value:wh},De.createElement(IT.Provider,{value:_r},De.createElement(mh.Provider,{value:at},d)),De.createElement(pU,{disabled:(l==null?void 0:l.restoreFocus)===!1})),De.createElement(jB,{...l,hiddenTextDescribedById:C}));function jh(){const Yt=(K==null?void 0:K.autoScrollEnabled)===!1,Cn=typeof c=="object"?c.enabled===!1:c===!1,En=P&&!Yt&&!Cn;return typeof c=="object"?{...c,enabled:En}:{enabled:En}}}),yU=h.createContext(null),ej="button",vU="Draggable";function wU(e){let{id:t,data:n,disabled:s=!1,attributes:a}=e;const i=ad(vU),{activators:o,activatorEvent:l,active:c,activeNodeRect:d,ariaDescribedById:u,draggableNodes:f,over:m}=h.useContext(id),{role:y=ej,roleDescription:j="draggable",tabIndex:g=0}=a??{},w=(c==null?void 0:c.id)===t,x=h.useContext(w?mh:yU),[p,v]=tf(),[_,b]=tf(),P=oU(o,t),N=Pc(n);Qs(()=>(f.set(t,{id:t,key:i,node:p,activatorNode:_,data:N}),()=>{const R=f.get(t);R&&R.key===i&&f.delete(t)}),[f,t]);const E=h.useMemo(()=>({role:y,tabIndex:g,"aria-disabled":s,"aria-pressed":w&&y===ej?!0:void 0,"aria-roledescription":j,"aria-describedby":u.draggable}),[s,y,g,w,j,u.draggable]);return{active:c,activatorEvent:l,activeNodeRect:d,attributes:E,isDragging:w,listeners:s?void 0:P,node:p,over:m,setNodeRef:v,setActivatorNodeRef:b,transform:x}}function BT(){return h.useContext(IT)}const jU="Droppable",_U={timeout:25};function bU(e){let{data:t,disabled:n=!1,id:s,resizeObserverConfig:a}=e;const i=ad(jU),{active:o,dispatch:l,over:c,measureDroppableContainers:d}=h.useContext(id),u=h.useRef({disabled:n}),f=h.useRef(!1),m=h.useRef(null),y=h.useRef(null),{disabled:j,updateMeasurementsFor:g,timeout:w}={..._U,...a},x=Pc(g??s),p=h.useCallback(()=>{if(!f.current){f.current=!0;return}y.current!=null&&clearTimeout(y.current),y.current=setTimeout(()=>{d(Array.isArray(x.current)?x.current:[x.current]),y.current=null},w)},[w]),v=hh({callback:p,disabled:j||!o}),_=h.useCallback((E,R)=>{v&&(R&&(v.unobserve(R),f.current=!1),E&&v.observe(E))},[v]),[b,P]=tf(_),N=Pc(t);return h.useEffect(()=>{!v||!b.current||(v.disconnect(),f.current=!1,v.observe(b.current))},[b,v]),h.useEffect(()=>(l({type:qt.RegisterDroppable,element:{id:s,key:i,disabled:n,node:b,rect:m,data:N}}),()=>l({type:qt.UnregisterDroppable,key:i,id:s})),[s]),h.useEffect(()=>{n!==u.current.disabled&&(l({type:qt.SetDroppableDisabled,id:s,key:i,disabled:n}),u.current.disabled=n)},[s,i,n,l]),{active:o,rect:m,isOver:(c==null?void 0:c.id)===s,node:b,over:c,setNodeRef:P}}function SU(e){let{animation:t,children:n}=e;const[s,a]=h.useState(null),[i,o]=h.useState(null),l=nf(n);return!n&&!s&&l&&a(l),Qs(()=>{if(!i)return;const c=s==null?void 0:s.key,d=s==null?void 0:s.props.id;if(c==null||d==null){a(null);return}Promise.resolve(t(d,i)).then(()=>{a(null)})},[t,s,i]),De.createElement(De.Fragment,null,n,s?h.cloneElement(s,{ref:o}):null)}const NU={x:0,y:0,scaleX:1,scaleY:1};function CU(e){let{children:t}=e;return De.createElement(id.Provider,{value:LT},De.createElement(mh.Provider,{value:NU},t))}const EU={position:"fixed",touchAction:"none"},TU=e=>ch(e)?"transform 250ms ease":void 0,kU=h.forwardRef((e,t)=>{let{as:n,activatorEvent:s,adjustScale:a,children:i,className:o,rect:l,style:c,transform:d,transition:u=TU}=e;if(!l)return null;const f=a?d:{...d,scaleX:1,scaleY:1},m={...EU,width:l.width,height:l.height,top:l.top,left:l.left,transform:Vr.Transform.toString(f),transformOrigin:a&&s?_B(s,l):void 0,transition:typeof u=="function"?u(s):u,...c};return De.createElement(n,{className:o,style:m,ref:t},i)}),PU=e=>t=>{let{active:n,dragOverlay:s}=t;const a={},{styles:i,className:o}=e;if(i!=null&&i.active)for(const[l,c]of Object.entries(i.active))c!==void 0&&(a[l]=n.node.style.getPropertyValue(l),n.node.style.setProperty(l,c));if(i!=null&&i.dragOverlay)for(const[l,c]of Object.entries(i.dragOverlay))c!==void 0&&s.node.style.setProperty(l,c);return o!=null&&o.active&&n.node.classList.add(o.active),o!=null&&o.dragOverlay&&s.node.classList.add(o.dragOverlay),function(){for(const[c,d]of Object.entries(a))n.node.style.setProperty(c,d);o!=null&&o.active&&n.node.classList.remove(o.active)}},RU=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:Vr.Transform.toString(t)},{transform:Vr.Transform.toString(n)}]},AU={duration:250,easing:"ease",keyframes:RU,sideEffects:PU({styles:{active:{opacity:"0"}}})};function $U(e){let{config:t,draggableNodes:n,droppableContainers:s,measuringConfiguration:a}=e;return lh((i,o)=>{if(t===null)return;const l=n.get(i);if(!l)return;const c=l.node.current;if(!c)return;const d=MT(o);if(!d)return;const{transform:u}=Bn(o).getComputedStyle(o),f=NT(u);if(!f)return;const m=typeof t=="function"?t:DU(t);return AT(c,a.draggable.measure),m({active:{id:i,data:l.data,node:c,rect:a.draggable.measure(c)},draggableNodes:n,dragOverlay:{node:o,rect:a.dragOverlay.measure(d)},droppableContainers:s,measuringConfiguration:a,transform:f})})}function DU(e){const{duration:t,easing:n,sideEffects:s,keyframes:a}={...AU,...e};return i=>{let{active:o,dragOverlay:l,transform:c,...d}=i;if(!t)return;const u={x:l.rect.left-o.rect.left,y:l.rect.top-o.rect.top},f={scaleX:c.scaleX!==1?o.rect.width*c.scaleX/l.rect.width:1,scaleY:c.scaleY!==1?o.rect.height*c.scaleY/l.rect.height:1},m={x:c.x-u.x,y:c.y-u.y,...f},y=a({...d,active:o,dragOverlay:l,transform:{initial:c,final:m}}),[j]=y,g=y[y.length-1];if(JSON.stringify(j)===JSON.stringify(g))return;const w=s==null?void 0:s({active:o,dragOverlay:l,...d}),x=l.node.animate(y,{duration:t,easing:n,fill:"forwards"});return new Promise(p=>{x.onfinish=()=>{w==null||w(),p()}})}}let tj=0;function MU(e){return h.useMemo(()=>{if(e!=null)return tj++,tj},[e])}const UT=De.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:s,style:a,transition:i,modifiers:o,wrapperElement:l="div",className:c,zIndex:d=999}=e;const{activatorEvent:u,active:f,activeNodeRect:m,containerNodeRect:y,draggableNodes:j,droppableContainers:g,dragOverlay:w,over:x,measuringConfiguration:p,scrollableAncestors:v,scrollableAncestorRects:_,windowRect:b}=BT(),P=h.useContext(mh),N=MU(f==null?void 0:f.id),E=OT(o,{activatorEvent:u,active:f,activeNodeRect:m,containerNodeRect:y,draggingNodeRect:w.rect,over:x,overlayNodeRect:w.rect,scrollableAncestors:v,scrollableAncestorRects:_,transform:P,windowRect:b}),R=Ly(m),M=$U({config:s,draggableNodes:j,droppableContainers:g,measuringConfiguration:p}),U=R?w.setRef:void 0;return De.createElement(CU,null,De.createElement(SU,{animation:M},f&&N?De.createElement(kU,{key:N,id:f.id,ref:U,as:l,activatorEvent:u,adjustScale:t,className:c,transition:i,rect:R,style:{zIndex:d,...a},transform:E},n):null))});function zT(e,t,n){const s=e.slice();return s.splice(n<0?s.length+n:n,0,s.splice(t,1)[0]),s}function LU(e,t){return e.reduce((n,s,a)=>{const i=t.get(s);return i&&(n[a]=i),n},Array(e.length))}function zd(e){return e!==null&&e>=0}function IU(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function OU(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const ph=e=>{let{rects:t,activeIndex:n,overIndex:s,index:a}=e;const i=zT(t,s,n),o=t[a],l=i[a];return!l||!o?null:{x:l.left-o.left,y:l.top-o.top,scaleX:l.width/o.width,scaleY:l.height/o.height}},VT="Sortable",WT=De.createContext({activeIndex:-1,containerId:VT,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:ph,disabled:{draggable:!1,droppable:!1}});function HT(e){let{children:t,id:n,items:s,strategy:a=ph,disabled:i=!1}=e;const{active:o,dragOverlay:l,droppableRects:c,over:d,measureDroppableContainers:u}=BT(),f=ad(VT,n),m=l.rect!==null,y=h.useMemo(()=>s.map(P=>typeof P=="object"&&"id"in P?P.id:P),[s]),j=o!=null,g=o?y.indexOf(o.id):-1,w=d?y.indexOf(d.id):-1,x=h.useRef(y),p=!IU(y,x.current),v=w!==-1&&g===-1||p,_=OU(i);Qs(()=>{p&&j&&u(y)},[p,y,j,u]),h.useEffect(()=>{x.current=y},[y]);const b=h.useMemo(()=>({activeIndex:g,containerId:f,disabled:_,disableTransforms:v,items:y,overIndex:w,useDragOverlay:m,sortedRects:LU(y,c),strategy:a}),[g,f,_.draggable,_.droppable,v,y,w,c,m,a]);return De.createElement(WT.Provider,{value:b},t)}const FU=e=>{let{id:t,items:n,activeIndex:s,overIndex:a}=e;return zT(n,s,a).indexOf(t)},BU=e=>{let{containerId:t,isSorting:n,wasDragging:s,index:a,items:i,newIndex:o,previousItems:l,previousContainerId:c,transition:d}=e;return!d||!s||l!==i&&a===o?!1:n?!0:o!==a&&t===c},UU={duration:200,easing:"ease"},qT="transform",zU=Vr.Transition.toString({property:qT,duration:0,easing:"linear"}),VU={roleDescription:"sortable"};function WU(e){let{disabled:t,index:n,node:s,rect:a}=e;const[i,o]=h.useState(null),l=h.useRef(n);return Qs(()=>{if(!t&&n!==l.current&&s.current){const c=a.current;if(c){const d=dl(s.current,{ignoreTransform:!0}),u={x:c.left-d.left,y:c.top-d.top,scaleX:c.width/d.width,scaleY:c.height/d.height};(u.x||u.y)&&o(u)}}n!==l.current&&(l.current=n)},[t,n,s,a]),h.useEffect(()=>{i&&o(null)},[i]),i}function KT(e){let{animateLayoutChanges:t=BU,attributes:n,disabled:s,data:a,getNewIndex:i=FU,id:o,strategy:l,resizeObserverConfig:c,transition:d=UU}=e;const{items:u,containerId:f,activeIndex:m,disabled:y,disableTransforms:j,sortedRects:g,overIndex:w,useDragOverlay:x,strategy:p}=h.useContext(WT),v=HU(s,y),_=u.indexOf(o),b=h.useMemo(()=>({sortable:{containerId:f,index:_,items:u},...a}),[f,a,_,u]),P=h.useMemo(()=>u.slice(u.indexOf(o)),[u,o]),{rect:N,node:E,isOver:R,setNodeRef:M}=bU({id:o,data:b,disabled:v.droppable,resizeObserverConfig:{updateMeasurementsFor:P,...c}}),{active:U,activatorEvent:O,activeNodeRect:L,attributes:B,setNodeRef:K,listeners:F,isDragging:q,over:S,setActivatorNodeRef:k,transform:C}=wU({id:o,data:b,attributes:{...VU,...n},disabled:v.draggable}),T=lB(M,K),D=!!U,A=D&&!j&&zd(m)&&zd(w),$=!x&&q,H=$&&A?C:null,z=A?H??(l??p)({rects:g,activeNodeRect:L,activeIndex:m,overIndex:w,index:_}):null,I=zd(m)&&zd(w)?i({id:o,items:u,activeIndex:m,overIndex:w}):_,Z=U==null?void 0:U.id,G=h.useRef({activeId:Z,items:u,newIndex:I,containerId:f}),Y=u!==G.current.items,Q=t({active:U,containerId:f,isDragging:q,isSorting:D,id:o,index:_,items:u,newIndex:G.current.newIndex,previousItems:G.current.items,previousContainerId:G.current.containerId,transition:d,wasDragging:G.current.activeId!=null}),le=WU({disabled:!Q,index:_,node:E,rect:N});return h.useEffect(()=>{D&&G.current.newIndex!==I&&(G.current.newIndex=I),f!==G.current.containerId&&(G.current.containerId=f),u!==G.current.items&&(G.current.items=u)},[D,I,f,u]),h.useEffect(()=>{if(Z===G.current.activeId)return;if(Z&&!G.current.activeId){G.current.activeId=Z;return}const ge=setTimeout(()=>{G.current.activeId=Z},50);return()=>clearTimeout(ge)},[Z]),{active:U,activeIndex:m,attributes:B,data:b,rect:N,index:_,newIndex:I,items:u,isOver:R,isSorting:D,isDragging:q,listeners:F,node:E,overIndex:w,over:S,setNodeRef:T,setActivatorNodeRef:k,setDroppableNodeRef:M,setDraggableNodeRef:K,transform:le??z,transition:fe()};function fe(){if(le||Y&&G.current.newIndex===_)return zU;if(!($&&!ch(O)||!d)&&(D||Q))return Vr.Transition.toString({...d,property:qT})}}function HU(e,t){var n,s;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(s=e==null?void 0:e.droppable)!=null?s:t.droppable}}function lf(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const qU=[Le.Down,Le.Right,Le.Up,Le.Left],GT=(e,t)=>{let{context:{active:n,collisionRect:s,droppableRects:a,droppableContainers:i,over:o,scrollableAncestors:l}}=t;if(qU.includes(e.code)){if(e.preventDefault(),!n||!s)return;const c=[];i.getEnabled().forEach(f=>{if(!f||f!=null&&f.disabled)return;const m=a.get(f.id);if(m)switch(e.code){case Le.Down:s.top<m.top&&c.push(f);break;case Le.Up:s.top>m.top&&c.push(f);break;case Le.Left:s.left>m.left&&c.push(f);break;case Le.Right:s.left<m.left&&c.push(f);break}});const d=SB({collisionRect:s,droppableRects:a,droppableContainers:c});let u=_T(d,"id");if(u===(o==null?void 0:o.id)&&d.length>1&&(u=d[1].id),u!=null){const f=i.get(n.id),m=i.get(u),y=m?a.get(m.id):null,j=m==null?void 0:m.node.current;if(j&&y&&f&&m){const w=dh(j).some((P,N)=>l[N]!==P),x=YT(f,m),p=KU(f,m),v=w||!x?{x:0,y:0}:{x:p?s.width-y.width:0,y:p?s.height-y.height:0},_={x:y.left,y:y.top};return v.x&&v.y?_:Rc(_,v)}}}};function YT(e,t){return!lf(e)||!lf(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function KU(e,t){return!lf(e)||!lf(t)||!YT(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const nj=({team:e,matchupId:t,teamPosition:n,isWinner:s,allTeams:a,onTeamChange:i})=>{var _;const[o,l]=h.useState(!1),[c,d]=h.useState(((_=e==null?void 0:e.id)==null?void 0:_.toString())||"");h.useEffect(()=>{var b;d(((b=e==null?void 0:e.id)==null?void 0:b.toString())||"")},[e==null?void 0:e.id]);const u=()=>{const b=parseInt(c);b&&b!==(e==null?void 0:e.id)&&i(t,n,b),l(!1)},f=()=>{var b;d(((b=e==null?void 0:e.id)==null?void 0:b.toString())||""),l(!1)},m=`${t}-${n}`,{attributes:y,listeners:j,setNodeRef:g,transform:w,transition:x,isDragging:p}=KT({id:m,data:{type:"team",team:e,matchupId:t,teamPosition:n}}),v={transform:Vr.Transform.toString(w),transition:x,opacity:p?.5:1};return o?r.jsxs("div",{className:"flex items-center gap-2 p-2 rounded border border-blue-200 bg-blue-50",children:[r.jsx("div",{className:"flex-1",children:r.jsxs(vt,{value:c,onValueChange:d,children:[r.jsx(dt,{className:"h-8 text-xs",children:r.jsx(wt,{placeholder:"Select team..."})}),r.jsx(ut,{children:a.map(b=>r.jsx(ke,{value:b.id.toString(),children:r.jsxs("div",{className:"flex items-center gap-2",children:[b.team_logo_url&&r.jsx("img",{src:b.team_logo_url,alt:b.team_name,className:"w-4 h-4 rounded-full"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs font-medium",children:b.team_name}),r.jsx("div",{className:"text-xs text-gray-500",children:b.owner_name})]})]})},b.id))})]})}),r.jsx(ee,{size:"sm",onClick:u,className:"h-6 w-6 p-0",children:r.jsx(Zo,{className:"h-3 w-3"})}),r.jsx(ee,{size:"sm",variant:"ghost",onClick:f,className:"h-6 w-6 p-0",children:r.jsx($i,{className:"h-3 w-3"})})]}):r.jsxs("div",{ref:g,style:v,className:`flex items-center gap-2 p-2 rounded transition-colors group
        ${p?"bg-blue-50 border border-blue-200":"hover:bg-gray-50"}
        ${s?"bg-green-50 border border-green-200":""}
      `,children:[r.jsx("div",{...y,...j,className:"cursor-grab hover:cursor-grabbing",children:r.jsx(gN,{className:"h-3 w-3 text-gray-400"})}),(e==null?void 0:e.team_logo_url)&&r.jsx("img",{src:e.team_logo_url,alt:e.team_name,className:"w-5 h-5 rounded-full"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"text-sm font-medium truncate",children:(e==null?void 0:e.team_name)||`Team ${n==="team1"?"1":"2"}`}),r.jsx("div",{className:"text-xs text-gray-500 truncate",children:e==null?void 0:e.owner_name})]}),r.jsx(ee,{size:"sm",variant:"ghost",onClick:()=>l(!0),className:"h-6 w-6 p-0 opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsx(Ci,{className:"h-3 w-3"})})]})},GU=({matchup:e,teams:t,allTeams:n,conferences:s,onToggleOverride:a,onUpdateScores:i,onTeamChange:o})=>{const l=t.find(v=>v.id===e.team1_id),c=t.find(v=>v.id===e.team2_id);s.find(v=>v.id===e.conference_id);const[d,u]=h.useState(!1),[f,m]=h.useState(e.team1_score),[y,j]=h.useState(e.team2_score);h.useEffect(()=>{m(e.team1_score),j(e.team2_score)},[e.team1_score,e.team2_score]);const g=e.winning_team_id===e.team1_id,w=e.winning_team_id===e.team2_id,x=()=>{i(e.id,f,y),u(!1)},p=()=>{m(e.team1_score),j(e.team2_score),u(!1)};return r.jsxs(Te,{className:`transition-colors ${e.manual_override?"bg-orange-50 border-orange-200":""}`,children:[r.jsx(se,{className:"w-24",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-sm font-medium",children:["#",e.id]}),r.jsx("div",{className:"flex flex-col gap-1",children:e.manual_override&&r.jsx(ae,{variant:"outline",className:"text-xs text-orange-600 border-orange-300 px-1 py-0",children:"Override"})})]})}),r.jsx(se,{className:"w-48",children:r.jsx(nj,{team:l,matchupId:e.id,teamPosition:"team1",isWinner:g,allTeams:n,onTeamChange:o})}),r.jsx(se,{className:"w-32 text-center",children:d?r.jsxs("div",{className:"flex items-center gap-1 justify-center",children:[r.jsx(It,{type:"number",value:f,onChange:v=>m(parseFloat(v.target.value)||0),className:"w-12 h-6 text-xs text-center px-1",step:"0.1"}),r.jsx("span",{className:"text-xs text-gray-400",children:"-"}),r.jsx(It,{type:"number",value:y,onChange:v=>j(parseFloat(v.target.value)||0),className:"w-12 h-6 text-xs text-center px-1",step:"0.1"}),r.jsx(ee,{size:"sm",onClick:x,className:"h-6 w-6 p-0",children:r.jsx(Zo,{className:"h-3 w-3"})}),r.jsx(ee,{size:"sm",variant:"ghost",onClick:p,className:"h-6 w-6 p-0",children:r.jsx($i,{className:"h-3 w-3"})})]}):r.jsxs("div",{className:"flex items-center gap-1 justify-center cursor-pointer hover:bg-gray-100 px-2 py-1 rounded",onClick:()=>u(!0),children:[r.jsx("span",{className:`text-sm font-bold ${g?"text-green-600":""}`,children:e.team1_score}),r.jsx("span",{className:"text-xs text-gray-400",children:"-"}),r.jsx("span",{className:`text-sm font-bold ${w?"text-green-600":""}`,children:e.team2_score}),r.jsx(Ci,{className:"h-3 w-3 text-gray-400 ml-1"})]})}),r.jsx(se,{className:"w-48",children:r.jsx(nj,{team:c,matchupId:e.id,teamPosition:"team2",isWinner:w,allTeams:n,onTeamChange:o})}),r.jsx(se,{className:"w-24",children:r.jsx("div",{className:"text-xs text-gray-500 text-center",children:e.matchup_status})}),r.jsx(se,{className:"w-24 text-center",children:r.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>a(e.id),className:"h-6 px-2 text-xs",children:r.jsx(Ci,{className:"h-3 w-3"})})})]})},YU=()=>{const[e,t]=h.useState([]),[n,s]=h.useState([]),[a,i]=h.useState([]),[o,l]=h.useState([]),[c,d]=h.useState(""),[u,f]=h.useState(""),[m,y]=h.useState(!1),[j,g]=h.useState(!1),[w,x]=h.useState(!1),[p,v]=h.useState(null),{toast:_}=gn(),b=vT(af(fh),af(uh,{coordinateGetter:GT})),P=async(C,T,D,A)=>{var $,H;try{console.log(`Fetching Sleeper scores for teams ${C} and ${T} for week ${A}`),console.log(`Note: Matchup conference_id ${D} will be ignored - checking each team's actual conference`);const[W,z]=await Promise.all([ne.getTeamConferenceJunctions({filters:[{column:"team_id",operator:"eq",value:C}]}),ne.getTeamConferenceJunctions({filters:[{column:"team_id",operator:"eq",value:T}]})]),I=($=W.data)==null?void 0:$[0],Z=(H=z.data)==null?void 0:H[0];if(!I||!Z)return console.warn(`Missing junction data - Team ${C}: ${I?"found":"missing"}, Team ${T}: ${Z?"found":"missing"}`),{team1Score:0,team2Score:0};console.log(`Team ${C} junction:`,{conference_id:I.conference_id,roster_id:I.roster_id}),console.log(`Team ${T} junction:`,{conference_id:Z.conference_id,roster_id:Z.roster_id});const G=n.find(fe=>fe.id===I.conference_id),Y=n.find(fe=>fe.id===Z.conference_id);if(!G||!Y)return console.warn(`Missing conference data - Team ${C} conference: ${G?"found":"missing"}, Team ${T} conference: ${Y?"found":"missing"}`),{team1Score:0,team2Score:0};console.log(`Team ${C} in conference "${G.conference_name}" (league_id: ${G.league_id})`),console.log(`Team ${T} in conference "${Y.conference_name}" (league_id: ${Y.league_id})`);let Q=0,le=0;try{console.log(`Fetching Team ${C} score from league ${G.league_id}, week ${A}`);const ge=(await Ve.fetchMatchups(G.league_id,A)).find(Me=>Me.roster_id===I.roster_id);Q=(ge==null?void 0:ge.points)||0,console.log(`Team ${C} score from Sleeper: ${Q} (roster_id: ${I.roster_id})`)}catch(fe){console.error(`Error fetching Team ${C} score from league ${G.league_id}:`,fe)}try{console.log(`Fetching Team ${T} score from league ${Y.league_id}, week ${A}`);const ge=(await Ve.fetchMatchups(Y.league_id,A)).find(Me=>Me.roster_id===Z.roster_id);le=(ge==null?void 0:ge.points)||0,console.log(`Team ${T} score from Sleeper: ${le} (roster_id: ${Z.roster_id})`)}catch(fe){console.error(`Error fetching Team ${T} score from league ${Y.league_id}:`,fe)}return console.log(` Final scores - Team ${C}: ${Q}, Team ${T}: ${le}`),console.log(" This properly handles interconference matchups by checking each team's actual conference"),{team1Score:Q,team2Score:le}}catch(W){return console.error("Error fetching Sleeper scores:",W),{team1Score:0,team2Score:0}}};h.useEffect(()=>{E(),M(),N()},[]),h.useEffect(()=>{c&&R()},[c]),h.useEffect(()=>{c&&u&&n.length>0&&U()},[c,u,n]);const N=async()=>{try{const C=await Ve.getCurrentNFLWeek();console.log(`Setting current week to: ${C}`),C<=12?f(C.toString()):f("1")}catch(C){console.error("Error loading current week:",C),f("1")}},E=async()=>{try{const C=await ne.getSeasons({limit:100,orderBy:{column:"season_year",ascending:!1}});if(C.error)throw new Error(C.error);const D=(C.data||[]).map($=>({id:$.id,season_year:parseInt($.season_year),season_name:$.season_name,is_current_season:$.is_current}));t(D);const A=D.find($=>$.is_current_season);A&&d(A.id.toString())}catch(C){console.error("Error loading seasons:",C),_({title:"Error",description:"Failed to load seasons",variant:"destructive"})}},R=async()=>{try{const{data:C,error:T}=await ne.getConferences({filters:[{column:"season_id",operator:"eq",value:parseInt(c)}]});if(T)throw new Error(T);s(C||[])}catch(C){console.error("Error loading conferences:",C),_({title:"Error",description:"Failed to load conferences",variant:"destructive"})}},M=async()=>{try{const C=await ne.getTeams({limit:100,orderBy:{column:"team_name",ascending:!0}});if(C.error)throw new Error(C.error);const T=C.data||[],D=await ne.getTeamConferenceJunctions({limit:1e3,orderBy:{column:"team_id",ascending:!0}});if(D.error)throw new Error(D.error);const A=D.data||[],$=T.map(H=>{const W=A.find(z=>z.team_id===H.id);return{id:H.id,team_name:H.team_name,owner_name:H.owner_name,team_logo_url:H.team_logourl||"",conference_id:(W==null?void 0:W.conference_id)||0}});i($)}catch(C){console.error("Error loading teams:",C),_({title:"Error",description:"Failed to load teams",variant:"destructive"})}},U=async()=>{y(!0),console.log(`Loading regular season matchups for season ${c}, week ${u}`),console.log("Available conferences:",n.map(C=>({id:C.id,name:C.conference_name})));try{const C=n.map(D=>D.id);console.log("Conference IDs to query:",C);const T=[];for(const D of C){console.log(`Fetching regular season matchups for conference ${D}`);const{data:A,error:$}=await ne.getMatchups({filters:[{column:"conference_id",operator:"eq",value:D},{column:"week",operator:"eq",value:parseInt(u)},{column:"is_playoff",operator:"eq",value:!1}],orderBy:{column:"id",ascending:!0}});if($)throw console.error(`Error fetching matchups for conference ${D}:`,$),new Error($);const H=A||[];console.log(`Found ${H.length} regular season matchups for conference ${D}`);const W=n.find(I=>I.id===D),z=H.map(I=>(console.log(`Loaded regular season matchup ${I.id}:`,{teams:`${I.team1_id} vs ${I.team2_id}`,scores:`${I.team1_score} - ${I.team2_score}`,status:I.matchup_status,manual_override:I.manual_override}),{...I,conference_name:W==null?void 0:W.conference_name}));T.push(...z)}T.sort((D,A)=>D.conference_id!==A.conference_id?D.conference_id-A.conference_id:D.id-A.id),console.log(`Total regular season matchups loaded: ${T.length}`),console.log("Regular season matchups breakdown by status:",{pending:T.filter(D=>D.matchup_status==="pending").length,complete:T.filter(D=>D.matchup_status==="complete").length,manual_overrides:T.filter(D=>D.manual_override).length}),l(T)}catch(C){console.error("Error loading regular season matchups:",C),_({title:"Error",description:`Failed to load regular season matchups: ${C}`,variant:"destructive"})}finally{y(!1)}},O=C=>{v(C.active.id)},L=async C=>{const{active:T,over:D}=C;if(v(null),!D||T.id===D.id)return;const A=T.data.current,$=D.data.current;if((A==null?void 0:A.type)==="team"&&($==null?void 0:$.type)==="team"){const H=A.matchupId,W=A.teamPosition,z=$.matchupId,I=$.teamPosition;if(H===z&&W===I)return;const Z=[...o],G=Z.find(fe=>fe.id===H),Y=Z.find(fe=>fe.id===z);if(!G||!Y)return;const Q=W==="team1"?G.team1_id:G.team2_id,le=I==="team1"?Y.team1_id:Y.team2_id;W==="team1"?G.team1_id=le:G.team2_id=le,I==="team1"?Y.team1_id=Q:Y.team2_id=Q;try{const fe=await P(G.team1_id,G.team2_id,G.conference_id,G.week);console.log(` DRAG DEBUG - Active matchup ${G.id}: Setting scores ${fe.team1Score} vs ${fe.team2Score}`),G.team1_score=fe.team1Score,G.team2_score=fe.team2Score,fe.team1Score>fe.team2Score?G.winning_team_id=G.team1_id:fe.team2Score>fe.team1Score?G.winning_team_id=G.team2_id:G.winning_team_id=null,console.log(` DRAG WINNER - Active matchup ${G.id}: Winner=${G.winning_team_id}`);const ge=await P(Y.team1_id,Y.team2_id,Y.conference_id,Y.week);console.log(` DRAG DEBUG - Over matchup ${Y.id}: Setting scores ${ge.team1Score} vs ${ge.team2Score}`),Y.team1_score=ge.team1Score,Y.team2_score=ge.team2Score,ge.team1Score>ge.team2Score?Y.winning_team_id=Y.team1_id:ge.team2Score>ge.team1Score?Y.winning_team_id=Y.team2_id:Y.winning_team_id=null,console.log(` DRAG WINNER - Over matchup ${Y.id}: Winner=${Y.winning_team_id}`),console.log(`Fetched Sleeper scores - Active matchup: ${fe.team1Score} vs ${fe.team2Score}, Over matchup: ${ge.team1Score} vs ${ge.team2Score}`)}catch(fe){console.warn("Failed to fetch Sleeper scores, using 0:",fe),G.team1_score=0,G.team2_score=0,G.winning_team_id=null,Y.team1_score=0,Y.team2_score=0,Y.winning_team_id=null}G.winning_team_id=null,G.manual_override=!0,G.matchup_status="pending",Y.winning_team_id=null,Y.manual_override=!0,Y.matchup_status="pending",console.log(`Teams swapped between matchups ${H} and ${z}`),console.log(`Active matchup now has teams ${G.team1_id} vs ${G.team2_id}`),console.log(`Over matchup now has teams ${Y.team1_id} vs ${Y.team2_id}`),l(Z),x(!0),_({title:"Teams Swapped",description:"Team matchups have been updated with current scores. Remember to save your changes.",duration:3e3})}},B=C=>{var T;console.log(`Toggling manual override for matchup ${C}`),l(D=>D.map(A=>{if(A.id===C){const $=!A.manual_override;return console.log(`Matchup ${C} manual override: ${A.manual_override} -> ${$}`),{...A,manual_override:$,status:$?A.matchup_status:"pending"}}return A})),x(!0),_({title:"Override Toggled",description:`Manual override ${(T=o.find(D=>D.id===C))!=null&&T.manual_override?"removed":"enabled"} for matchup ${C}`,duration:2e3})},K=(C,T,D)=>{console.log(`Updating scores for matchup ${C}: Team 1 = ${T}, Team 2 = ${D}`),l(A=>A.map($=>{if($.id===C){let H=null;return T>D?H=$.team1_id:D>T&&(H=$.team2_id),console.log(` WINNER CALC - Matchup ${C}: Team1(${$.team1_id})=${T}, Team2(${$.team2_id})=${D}, Winner=${H}`),{...$,team1_score:T,team2_score:D,winning_team_id:H,manual_override:!0,matchup_status:"complete"}}return $})),x(!0),_({title:"Scores Updated",description:`Matchup ${C} scores updated. Remember to save changes.`,duration:2e3})},F=async(C,T,D)=>{console.log(`Changing team for regular season matchup ${C}, position ${T} to team ${D}`),l(H=>H.map(W=>{if(W.id===C){const z={...W,manual_override:!0};return T==="team1"?z.team1_id=D:z.team2_id=D,console.log(`Updated regular season matchup ${C}: team1_id=${z.team1_id}, team2_id=${z.team2_id}`),z}return W}));const A=o.find(H=>H.id===C);if(A)try{const H=T==="team1"?D:A.team1_id,W=T==="team2"?D:A.team2_id;console.log(`Fetching regular season scores for updated matchup ${C}: team1=${H}, team2=${W}, week=${A.week}`);const{team1Score:z,team2Score:I}=await P(H,W,A.conference_id,A.week);l(Z=>Z.map(G=>{if(G.id===C){let Y=null;return z>I?Y=H:I>z&&(Y=W),console.log(` REGULAR SEASON TEAM CHANGE WINNER - Matchup ${C}: Team1(${H})=${z}, Team2(${W})=${I}, Winner=${Y}`),{...G,team1_score:z,team2_score:I,winning_team_id:Y}}return G})),console.log(` Updated regular season matchup ${C} with scores: ${z} - ${I}`)}catch(H){console.error(`Error fetching regular season scores for matchup ${C}:`,H),l(W=>W.map(z=>z.id===C?{...z,team1_score:0,team2_score:0,winning_team_id:null}:z))}x(!0);const $=a.find(H=>H.id===D);_({title:"Team Changed",description:`Regular season matchup ${C} ${T} changed to ${$==null?void 0:$.team_name}. Scores updated automatically. Remember to save changes.`,duration:3e3})},q=async()=>{var A;g(!0),console.log("Starting save operation for",o.length,"regular season matchups");let C=0,T=0;const D=[];try{for(const $ of o){if(console.log(`Updating regular season matchup ${$.id}:`,{conference_id:$.conference_id,week:$.week,team1_id:$.team1_id,team2_id:$.team2_id,team1_score:$.team1_score,team2_score:$.team2_score,winning_team_id:$.winning_team_id,manual_override:$.manual_override,status:$.manual_override?"complete":$.matchup_status}),!$.id||$.conference_id<=0||$.week<=0){console.error(`Invalid matchup data for ID ${$.id}:`,{id:$.id,conference_id:$.conference_id,week:$.week}),T++,D.push($.id);continue}let H=null;$.team1_score>$.team2_score?H=$.team1_id:$.team2_score>$.team1_score&&(H=$.team2_id),console.log(` SAVE WINNER - Matchup ${$.id}: Team1(${$.team1_id})=${$.team1_score}, Team2(${$.team2_id})=${$.team2_score}, Calculated Winner=${H}`);const W={conference_id:$.conference_id,week:((A=$.week)==null?void 0:A.toString())||"1",team1_id:$.team1_id||0,team2_id:$.team2_id||0,is_playoff:!1,team1_score:$.team1_score||0,team2_score:$.team2_score||0,winning_team_id:H,manual_override:$.manual_override||!1,matchup_status:$.manual_override?"complete":$.matchup_status||"pending",notes:$.notes||""};console.log(`Sending update for regular season matchup ${$.id} with data:`,W);const z=await ne.updateMatchup($.id,W);if(z.error){console.error(` Failed to update regular season matchup ${$.id}:`,z.error),console.error(" Update data was:",W),console.error(" Matchup object:",$),T++,D.push($.id);continue}else console.log(` Successfully updated regular season matchup ${$.id}`),console.log(" UPDATE RESULT:",z.data);console.log(`Successfully updated regular season matchup ${$.id}`),C++}console.log(`Save operation completed: ${C} successes, ${T} failures`),T>0?(console.error("Failed matchup IDs:",D),_({title:"Partial Success",description:`${C} regular season matchups updated successfully, ${T} failed. Check console for details.`,variant:"destructive"})):(x(!1),_({title:"Success",description:`All ${C} regular season matchups updated successfully`})),console.log("Reloading regular season matchups to verify changes persisted..."),await U()}catch($){console.error("Critical error during save operation:",$),_({title:"Error",description:`Failed to save regular season matchup changes: ${$}`,variant:"destructive"})}finally{g(!1),console.log("Save operation completed, saving state reset")}},S=()=>{U(),x(!1)},k=Array.from({length:12},(C,T)=>T+1);return r.jsxs("div",{className:"space-y-6",children:[r.jsx(X,{children:r.jsxs(te,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Season"}),r.jsxs(vt,{value:c,onValueChange:d,children:[r.jsx(dt,{children:r.jsx(wt,{placeholder:"Select season..."})}),r.jsx(ut,{children:e.map(C=>r.jsxs(ke,{value:C.id.toString(),children:[C.season_name,C.is_current_season&&r.jsx(ae,{variant:"secondary",className:"ml-2",children:"Current"})]},C.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Week (Regular Season)"}),r.jsxs(vt,{value:u,onValueChange:f,disabled:!c,children:[r.jsx(dt,{children:r.jsx(wt,{placeholder:"Select week..."})}),r.jsx(ut,{children:k.map(C=>r.jsxs(ke,{value:C.toString(),children:["Week ",C]},C))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Status"}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),r.jsxs("span",{children:[o.length," Total"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),r.jsxs("span",{children:[o.filter(C=>C.manual_override).length," Override"]})]})]})]}),r.jsx("div",{className:"space-y-2 flex items-end",children:w&&r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(ee,{onClick:q,disabled:j,className:"flex items-center gap-2",children:[j?r.jsx(Ct,{className:"h-4 w-4 animate-spin"}):r.jsx($f,{className:"h-4 w-4"}),"Save"]}),r.jsxs(ee,{variant:"outline",onClick:S,className:"flex items-center gap-2",children:[r.jsx(xN,{className:"h-4 w-4"}),"Reset"]})]})})]}),w&&r.jsxs(Ie,{className:"mb-4",children:[r.jsx(vN,{className:"h-4 w-4"}),r.jsx(Oe,{children:"You have unsaved changes. Remember to save your modifications."})]})]})}),m?r.jsx(X,{children:r.jsx(te,{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ct,{className:"h-6 w-6 animate-spin"}),r.jsx("span",{children:"Loading regular season matchups..."})]})})}):o.length===0&&u?r.jsx(X,{children:r.jsx(te,{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Gt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Regular Season Matchups Found"}),r.jsx("p",{className:"text-gray-600",children:"No regular season matchups found for the selected week. They may need to be created first."})]})})}):o.length>0?r.jsx(X,{children:r.jsx(te,{className:"p-0",children:r.jsxs(FT,{sensors:b,collisionDetection:bT,onDragStart:O,onDragEnd:L,children:[r.jsx(HT,{items:o.flatMap(C=>[`${C.id}-team1`,`${C.id}-team2`]),strategy:ph,children:r.jsxs(un,{children:[r.jsx(fn,{children:r.jsxs(Te,{children:[r.jsx(oe,{className:"w-24",children:"Match"}),r.jsx(oe,{className:"w-48",children:"Team 1"}),r.jsx(oe,{className:"w-32 text-center",children:"Score"}),r.jsx(oe,{className:"w-48",children:"Team 2"}),r.jsx(oe,{className:"w-24 text-center",children:"Status"}),r.jsx(oe,{className:"w-24 text-center",children:"Actions"})]})}),r.jsx(hn,{children:n.map(C=>{const T=o.filter(D=>D.conference_id===C.id);return T.length===0?null:r.jsxs(De.Fragment,{children:[r.jsx(Te,{children:r.jsx(se,{colSpan:6,className:"bg-gray-50 font-medium text-sm py-2",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gt,{className:"h-4 w-4 text-blue-600"}),C.conference_name,r.jsxs(ae,{variant:"secondary",className:"text-xs",children:[T.length," matchups"]})]})})}),T.map(D=>r.jsx(GU,{matchup:D,teams:a,allTeams:a,conferences:n,onToggleOverride:B,onUpdateScores:K,onTeamChange:F},D.id))]},C.id)})})]})}),r.jsx(UT,{children:p?r.jsx("div",{className:"bg-white p-2 rounded-lg border-2 border-blue-400 shadow-lg",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-4 h-4 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx(Gt,{className:"h-2 w-2 text-blue-600"})}),r.jsx("span",{className:"text-xs font-medium",children:"Moving team..."})]})}):null})]})})}):r.jsx(X,{children:r.jsx(te,{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Gt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select Filters"}),r.jsx("p",{className:"text-gray-600",children:"Please select a season and week to manage regular season matchups across all conferences."})]})})})]})},sj=({team:e,bracketId:t,teamPosition:n,isWinner:s,allTeams:a,onTeamChange:i})=>{var _;const[o,l]=h.useState(!1),[c,d]=h.useState(((_=e==null?void 0:e.id)==null?void 0:_.toString())||"");h.useEffect(()=>{var b;d(((b=e==null?void 0:e.id)==null?void 0:b.toString())||"")},[e==null?void 0:e.id]);const u=()=>{const b=parseInt(c);b&&b!==(e==null?void 0:e.id)&&i(t,n,b),l(!1)},f=()=>{var b;d(((b=e==null?void 0:e.id)==null?void 0:b.toString())||""),l(!1)},m=`${t}-${n}`,{attributes:y,listeners:j,setNodeRef:g,transform:w,transition:x,isDragging:p}=KT({id:m,data:{type:"team",team:e,bracketId:t,teamPosition:n}}),v={transform:Vr.Transform.toString(w),transition:x,opacity:p?.5:1};return o?r.jsxs("div",{className:"flex items-center gap-2 p-2 rounded border border-blue-200 bg-blue-50",children:[r.jsx("div",{className:"flex-1",children:r.jsxs(vt,{value:c,onValueChange:d,children:[r.jsx(dt,{className:"h-8 text-xs",children:r.jsx(wt,{placeholder:"Select team..."})}),r.jsx(ut,{children:a.map(b=>r.jsx(ke,{value:b.id.toString(),children:r.jsxs("div",{className:"flex items-center gap-2",children:[b.team_logo_url&&r.jsx("img",{src:b.team_logo_url,alt:b.team_name,className:"w-4 h-4 rounded-full"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs font-medium",children:b.team_name}),r.jsx("div",{className:"text-xs text-gray-500",children:b.owner_name})]})]})},b.id))})]})}),r.jsx(ee,{size:"sm",onClick:u,className:"h-6 w-6 p-0",children:r.jsx(Zo,{className:"h-3 w-3"})}),r.jsx(ee,{size:"sm",variant:"ghost",onClick:f,className:"h-6 w-6 p-0",children:r.jsx($i,{className:"h-3 w-3"})})]}):r.jsxs("div",{ref:g,style:v,className:`flex items-center gap-2 p-2 rounded transition-colors group
        ${p?"bg-blue-50 border border-blue-200":"hover:bg-gray-50"}
        ${s?"bg-green-50 border border-green-200":""}
      `,children:[r.jsx("div",{...y,...j,className:"cursor-grab hover:cursor-grabbing",children:r.jsx(gN,{className:"h-3 w-3 text-gray-400"})}),(e==null?void 0:e.team_logo_url)&&r.jsx("img",{src:e.team_logo_url,alt:e.team_name,className:"w-5 h-5 rounded-full"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"text-sm font-medium truncate",children:(e==null?void 0:e.team_name)||`Team ${n==="team1"?"1":"2"}`}),r.jsx("div",{className:"text-xs text-gray-500 truncate",children:e==null?void 0:e.owner_name})]}),r.jsx(ee,{size:"sm",variant:"ghost",onClick:()=>l(!0),className:"h-6 w-6 p-0 opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsx(Ci,{className:"h-3 w-3"})})]})},QU=({bracket:e,teams:t,allTeams:n,onToggleOverride:s,onUpdateScores:a,onUpdateTeams:i,onTeamChange:o})=>{const l=t.find(v=>v.id===e.team1_id),c=t.find(v=>v.id===e.team2_id),[d,u]=h.useState(!1),[f,m]=h.useState(e.team1_score||0),[y,j]=h.useState(e.team2_score||0);h.useEffect(()=>{m(e.team1_score||0),j(e.team2_score||0)},[e.team1_score,e.team2_score]);const g=e.winning_team_id===e.team1_id,w=e.winning_team_id===e.team2_id,x=()=>{a(e.id,f,y),u(!1)},p=()=>{m(e.team1_score||0),j(e.team2_score||0),u(!1)};return r.jsxs(Te,{className:`transition-colors ${e.manual_override?"bg-orange-50 border-orange-200":""}`,children:[r.jsx(se,{className:"w-32",children:r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsxs("span",{className:"text-sm font-medium",children:["#",e.id]}),r.jsx("div",{className:"text-xs text-gray-500",children:e.playoff_round_name||`Round ${e.round}`}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Week ",e.week]}),e.manual_override&&r.jsx(ae,{variant:"outline",className:"text-xs text-orange-600 border-orange-300 px-1 py-0",children:"Override"}),e.is_bye&&r.jsx(ae,{variant:"secondary",className:"text-xs px-1 py-0",children:"Bye"})]})}),r.jsx(se,{className:"w-48",children:r.jsx(sj,{team:l,bracketId:e.id,teamPosition:"team1",isWinner:g,allTeams:n,onTeamChange:o})}),r.jsx(se,{className:"w-32 text-center",children:d?r.jsxs("div",{className:"flex items-center gap-1 justify-center",children:[r.jsx(It,{type:"number",value:f,onChange:v=>m(parseFloat(v.target.value)||0),className:"w-12 h-6 text-xs text-center px-1",step:"0.1"}),r.jsx("span",{className:"text-xs text-gray-400",children:"-"}),r.jsx(It,{type:"number",value:y,onChange:v=>j(parseFloat(v.target.value)||0),className:"w-12 h-6 text-xs text-center px-1",step:"0.1"}),r.jsx(ee,{size:"sm",onClick:x,className:"h-6 w-6 p-0",children:r.jsx(Zo,{className:"h-3 w-3"})}),r.jsx(ee,{size:"sm",variant:"ghost",onClick:p,className:"h-6 w-6 p-0",children:r.jsx($i,{className:"h-3 w-3"})})]}):r.jsxs("div",{className:"flex items-center gap-1 justify-center cursor-pointer hover:bg-gray-100 px-2 py-1 rounded",onClick:()=>u(!0),children:[r.jsx("span",{className:`text-sm font-bold ${g?"text-green-600":""}`,children:e.team1_score||0}),r.jsx("span",{className:"text-xs text-gray-400",children:"-"}),r.jsx("span",{className:`text-sm font-bold ${w?"text-green-600":""}`,children:e.team2_score||0}),r.jsx(Ci,{className:"h-3 w-3 text-gray-400 ml-1"})]})}),r.jsx(se,{className:"w-48",children:r.jsx(sj,{team:c,bracketId:e.id,teamPosition:"team2",isWinner:w,allTeams:n,onTeamChange:o})}),r.jsx(se,{className:"w-24 text-center",children:r.jsxs("div",{className:"text-xs text-gray-500",children:[r.jsxs("div",{children:["#",e.team1_seed]}),r.jsx("div",{children:"vs"}),r.jsxs("div",{children:["#",e.team2_seed]})]})}),r.jsx(se,{className:"w-24 text-center",children:r.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>s(e.id),className:"h-6 px-2 text-xs",children:r.jsx(Ci,{className:"h-3 w-3"})})})]})},XU=()=>{const[e,t]=h.useState([]),[n,s]=h.useState([]),[a,i]=h.useState([]),[o,l]=h.useState(""),[c,d]=h.useState(""),[u,f]=h.useState(!1),[m,y]=h.useState(!1),[j,g]=h.useState(!1),[w,x]=h.useState(null),{toast:p}=gn(),v=vT(af(fh),af(uh,{coordinateGetter:GT})),_=async(S,k,C)=>{var T,D,A,$;try{console.log(`Fetching playoff scores for teams ${S} and ${k} for week ${C}`);const[H,W]=await Promise.all([ne.getTeamConferenceJunctions({filters:[{column:"team_id",operator:"eq",value:S}]}),ne.getTeamConferenceJunctions({filters:[{column:"team_id",operator:"eq",value:k}]})]),z=(T=H.data)==null?void 0:T[0],I=(D=W.data)==null?void 0:D[0];if(!z||!I)return console.warn(`Missing junction data - Team ${S}: ${z?"found":"missing"}, Team ${k}: ${I?"found":"missing"}`),{team1Score:0,team2Score:0};const[Z,G]=await Promise.all([ne.getConferences({filters:[{column:"id",operator:"eq",value:z.conference_id}]}),ne.getConferences({filters:[{column:"id",operator:"eq",value:I.conference_id}]})]),Y=(A=Z.data)==null?void 0:A[0],Q=($=G.data)==null?void 0:$[0];if(!Y||!Q)return console.warn(`Missing conference data - Team ${S} conference: ${Y?"found":"missing"}, Team ${k} conference: ${Q?"found":"missing"}`),{team1Score:0,team2Score:0};console.log(`Team ${S} in conference "${Y.conference_name}" (league_id: ${Y.league_id})`),console.log(`Team ${k} in conference "${Q.conference_name}" (league_id: ${Q.league_id})`);let le=0,fe=0;const{SleeperApiService:ge}=await zr(async()=>{const{SleeperApiService:Me}=await Promise.resolve().then(()=>fg);return{SleeperApiService:Me}},void 0);try{console.log(`Fetching Team ${S} playoff score from league ${Y.league_id}, week ${C}`);const qe=(await ge.fetchMatchups(Y.league_id,C)).find(Dt=>Dt.roster_id===z.roster_id);le=(qe==null?void 0:qe.points)||0,console.log(`Team ${S} playoff score from Sleeper: ${le} (roster_id: ${z.roster_id})`)}catch(Me){console.error(`Error fetching Team ${S} playoff score from league ${Y.league_id}:`,Me)}try{console.log(`Fetching Team ${k} playoff score from league ${Q.league_id}, week ${C}`);const qe=(await ge.fetchMatchups(Q.league_id,C)).find(Dt=>Dt.roster_id===I.roster_id);fe=(qe==null?void 0:qe.points)||0,console.log(`Team ${k} playoff score from Sleeper: ${fe} (roster_id: ${I.roster_id})`)}catch(Me){console.error(`Error fetching Team ${k} playoff score from league ${Q.league_id}:`,Me)}return console.log(` Final playoff scores - Team ${S}: ${le}, Team ${k}: ${fe}`),{team1Score:le,team2Score:fe}}catch(H){return console.error("Error fetching playoff scores:",H),{team1Score:0,team2Score:0}}};h.useEffect(()=>{P(),N(),b()},[]),h.useEffect(()=>{o&&c&&E()},[o,c]);const b=async()=>{try{d("14")}catch(S){console.error("Error setting default playoff week:",S),d("14")}},P=async()=>{try{const S=await ne.getSeasons({limit:100,orderBy:{column:"season_year",ascending:!1}});if(S.error)throw new Error(S.error);const C=(S.data||[]).map(D=>({id:D.id,season_year:parseInt(D.season_year),season_name:D.season_name,is_current_season:D.is_current}));t(C);const T=C.find(D=>D.is_current_season);T&&l(T.id.toString())}catch(S){console.error("Error loading seasons:",S),p({title:"Error",description:"Failed to load seasons",variant:"destructive"})}},N=async()=>{try{const S=await ne.getTeams({limit:100,orderBy:{column:"team_name",ascending:!0}});if(S.error)throw new Error(S.error);const C=(S.data||[]).map(T=>({id:T.id,team_name:T.team_name,owner_name:T.owner_name,team_logo_url:T.team_logourl||""}));s(C)}catch(S){console.error("Error loading teams:",S),p({title:"Error",description:"Failed to load teams",variant:"destructive"})}},E=async()=>{f(!0),console.log(`Loading playoff brackets for season ${o}, week ${c}`);try{const{data:S,error:k}=await ne.getPlayoffBrackets({filters:[{column:"season_id",operator:"eq",value:parseInt(o)},{column:"week",operator:"eq",value:parseInt(c)}],orderBy:{column:"matchup_number",ascending:!0}});if(k)throw console.error("Error fetching playoff brackets:",k),new Error(k);const C=S||[];console.log(`Found ${C.length} playoff brackets`);const T=C.map(D=>({...D,manual_override:!1}));console.log("Playoff brackets breakdown:",{total:T.length,byes:T.filter(D=>D.is_bye).length,completed:T.filter(D=>D.winning_team_id).length}),i(T)}catch(S){console.error("Error loading playoff brackets:",S),p({title:"Error",description:`Failed to load playoff brackets: ${S}`,variant:"destructive"})}finally{f(!1)}},R=S=>{x(S.active.id)},M=async S=>{const{active:k,over:C}=S;if(x(null),!C||k.id===C.id)return;const T=k.data.current,D=C.data.current;if((T==null?void 0:T.type)==="team"&&(D==null?void 0:D.type)==="team"){const A=T.bracketId,$=T.teamPosition,H=D.bracketId,W=D.teamPosition;if(A===H&&$===W)return;const z=[...a],I=z.find(Q=>Q.id===A),Z=z.find(Q=>Q.id===H);if(!I||!Z)return;const G=$==="team1"?I.team1_id:I.team2_id,Y=W==="team1"?Z.team1_id:Z.team2_id;$==="team1"?I.team1_id=Y:I.team2_id=Y,W==="team1"?Z.team1_id=G:Z.team2_id=G,I.manual_override=!0,Z.manual_override=!0;try{const Q=await _(I.team1_id,I.team2_id,I.week);I.team1_score=Q.team1Score,I.team2_score=Q.team2Score,Q.team1Score>Q.team2Score?I.winning_team_id=I.team1_id:Q.team2Score>Q.team1Score?I.winning_team_id=I.team2_id:I.winning_team_id=null;const le=await _(Z.team1_id,Z.team2_id,Z.week);Z.team1_score=le.team1Score,Z.team2_score=le.team2Score,le.team1Score>le.team2Score?Z.winning_team_id=Z.team1_id:le.team2Score>le.team1Score?Z.winning_team_id=Z.team2_id:Z.winning_team_id=null,console.log(` Updated playoff scores - Active bracket: ${Q.team1Score} - ${Q.team2Score}, Over bracket: ${le.team1Score} - ${le.team2Score}`)}catch(Q){console.error("Error fetching playoff scores after team swap:",Q),I.team1_score=0,I.team2_score=0,I.winning_team_id=null,Z.team1_score=0,Z.team2_score=0,Z.winning_team_id=null}console.log(`Teams swapped between playoff brackets ${A} and ${H}`),console.log(`Active bracket now has teams ${I.team1_id} vs ${I.team2_id}`),console.log(`Over bracket now has teams ${Z.team1_id} vs ${Z.team2_id}`),i(z),g(!0),p({title:"Teams Swapped",description:"Playoff matchup teams have been updated with current scores. Remember to save your changes.",duration:3e3})}},U=S=>{var k;console.log(`Toggling manual override for playoff bracket ${S}`),i(C=>C.map(T=>{if(T.id===S){const D=!T.manual_override;return console.log(`Playoff bracket ${S} manual override: ${T.manual_override} -> ${D}`),{...T,manual_override:D}}return T})),g(!0),p({title:"Override Toggled",description:`Manual override ${(k=a.find(C=>C.id===S))!=null&&k.manual_override?"removed":"enabled"} for playoff bracket ${S}`,duration:2e3})},O=(S,k,C)=>{console.log(`Updating scores for playoff bracket ${S}: Team 1 = ${k}, Team 2 = ${C}`),i(T=>T.map(D=>{if(D.id===S){let A=null;return k>C?A=D.team1_id:C>k&&(A=D.team2_id),console.log(` PLAYOFF WINNER CALC - Bracket ${S}: Team1(${D.team1_id})=${k}, Team2(${D.team2_id})=${C}, Winner=${A}`),{...D,team1_score:k,team2_score:C,winning_team_id:A,manual_override:!0}}return D})),g(!0),p({title:"Playoff Scores Updated",description:`Playoff bracket ${S} scores updated. Remember to save changes.`,duration:2e3})},L=(S,k,C)=>{i(T=>T.map(D=>D.id===S?{...D,team1_id:k,team2_id:C,manual_override:!0}:D)),g(!0)},B=async(S,k,C)=>{console.log(`Changing team for playoff bracket ${S}, position ${k} to team ${C}`),i(A=>A.map($=>{if($.id===S){const H={...$,manual_override:!0};return k==="team1"?H.team1_id=C:H.team2_id=C,console.log(`Updated bracket ${S}: team1_id=${H.team1_id}, team2_id=${H.team2_id}`),H}return $}));const T=a.find(A=>A.id===S);if(T)try{const A=k==="team1"?C:T.team1_id,$=k==="team2"?C:T.team2_id;console.log(`Fetching playoff scores for updated bracket ${S}: team1=${A}, team2=${$}, week=${T.week}`);const{team1Score:H,team2Score:W}=await _(A,$,T.week);i(z=>z.map(I=>{if(I.id===S){let Z=null;return H>W?Z=A:W>H&&(Z=$),console.log(` TEAM CHANGE WINNER - Bracket ${S}: Team1(${A})=${H}, Team2(${$})=${W}, Winner=${Z}`),{...I,team1_score:H,team2_score:W,winning_team_id:Z}}return I})),console.log(` Updated bracket ${S} with scores: ${H} - ${W}`)}catch(A){console.error(`Error fetching playoff scores for bracket ${S}:`,A),i($=>$.map(H=>H.id===S?{...H,team1_score:0,team2_score:0,winning_team_id:null}:H))}g(!0);const D=n.find(A=>A.id===C);p({title:"Team Changed",description:`Playoff bracket ${S} ${k} changed to ${D==null?void 0:D.team_name}. Scores updated automatically. Remember to save changes.`,duration:3e3})},K=async()=>{y(!0),console.log("Starting save operation for",a.length,"playoff brackets");let S=0,k=0;const C=[];try{for(const T of a){if(console.log(`Updating playoff bracket ${T.id}:`,{season_id:T.season_id,round:T.round,team1_id:T.team1_id,team2_id:T.team2_id,team1_score:T.team1_score,team2_score:T.team2_score,winning_team_id:T.winning_team_id,manual_override:T.manual_override}),!T.id||T.season_id<=0){console.error(`Invalid bracket data for ID ${T.id}:`,{id:T.id,season_id:T.season_id}),k++,C.push(T.id);continue}let D=null;T.team1_score&&T.team2_score&&(T.team1_score>T.team2_score?D=T.team1_id:T.team2_score>T.team1_score&&(D=T.team2_id)),console.log(` PLAYOFF SAVE WINNER - Bracket ${T.id}: Team1(${T.team1_id})=${T.team1_score}, Team2(${T.team2_id})=${T.team2_score}, Calculated Winner=${D}`);const A={season_id:T.season_id,round:T.round,team1_seed:T.team1_seed,team2_seed:T.team2_seed,team1_id:T.team1_id,team2_id:T.team2_id,winning_team_id:D,playoff_round_name:T.playoff_round_name||null,is_bye:T.is_bye||!1,matchup_number:T.matchup_number||null,week:T.week,team1_score:T.team1_score||0,team2_score:T.team2_score||0};console.log(`Sending update for playoff bracket ${T.id} with data:`,A);const $=await ne.updatePlayoffBracket(T.id,A);if($.error){console.error(` Failed to update playoff bracket ${T.id}:`,$.error),console.error(" Update data was:",A),console.error(" Bracket object:",T),k++,C.push(T.id);continue}else console.log(` Successfully updated playoff bracket ${T.id}`),console.log(" UPDATE RESULT:",$.data);console.log(`Successfully updated playoff bracket ${T.id}`),S++}console.log(`Save operation completed: ${S} successes, ${k} failures`),k>0?(console.error("Failed bracket IDs:",C),p({title:"Partial Success",description:`${S} playoff brackets updated successfully, ${k} failed. Check console for details.`,variant:"destructive"})):(g(!1),p({title:"Success",description:`All ${S} playoff brackets updated successfully`})),console.log("Reloading playoff brackets to verify changes persisted..."),await E()}catch(T){console.error("Critical error during save operation:",T),p({title:"Error",description:`Failed to save playoff bracket changes: ${T}`,variant:"destructive"})}finally{y(!1),console.log("Save operation completed, saving state reset")}},F=()=>{E(),g(!1)},q=Array.from({length:6},(S,k)=>k+13);return r.jsxs("div",{className:"space-y-6",children:[r.jsx(X,{children:r.jsxs(te,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Season"}),r.jsxs(vt,{value:o,onValueChange:l,children:[r.jsx(dt,{children:r.jsx(wt,{placeholder:"Select season..."})}),r.jsx(ut,{children:e.map(S=>r.jsxs(ke,{value:S.id.toString(),children:[S.season_name,S.is_current_season&&r.jsx(ae,{variant:"secondary",className:"ml-2",children:"Current"})]},S.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Week (Playoffs)"}),r.jsxs(vt,{value:c,onValueChange:d,disabled:!o,children:[r.jsx(dt,{children:r.jsx(wt,{placeholder:"Select week..."})}),r.jsx(ut,{children:q.map(S=>r.jsxs(ke,{value:S.toString(),children:["Week ",S]},S))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Status"}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),r.jsxs("span",{children:[a.length," Total"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),r.jsxs("span",{children:[a.filter(S=>S.manual_override).length," Override"]})]})]})]}),r.jsx("div",{className:"space-y-2 flex items-end",children:j&&r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(ee,{onClick:K,disabled:m,className:"flex items-center gap-2",children:[m?r.jsx(Ct,{className:"h-4 w-4 animate-spin"}):r.jsx($f,{className:"h-4 w-4"}),"Save"]}),r.jsxs(ee,{variant:"outline",onClick:F,className:"flex items-center gap-2",children:[r.jsx(xN,{className:"h-4 w-4"}),"Reset"]})]})})]}),j&&r.jsxs(Ie,{className:"mb-4",children:[r.jsx(vN,{className:"h-4 w-4"}),r.jsx(Oe,{children:"You have unsaved changes. Remember to save your modifications."})]})]})}),u?r.jsx(X,{children:r.jsx(te,{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ct,{className:"h-6 w-6 animate-spin"}),r.jsx("span",{children:"Loading playoff brackets..."})]})})}):a.length===0&&c?r.jsx(X,{children:r.jsx(te,{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx(bt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Playoff Brackets Found"}),r.jsx("p",{className:"text-gray-600",children:"No playoff brackets found for the selected week. They may need to be created first."})]})})}):a.length>0?r.jsx(X,{children:r.jsx(te,{className:"p-0",children:r.jsxs(FT,{sensors:v,collisionDetection:bT,onDragStart:R,onDragEnd:M,children:[r.jsx(HT,{items:a.flatMap(S=>[`${S.id}-team1`,`${S.id}-team2`]),strategy:ph,children:r.jsxs(un,{children:[r.jsx(fn,{children:r.jsxs(Te,{children:[r.jsx(oe,{className:"w-32",children:"Bracket"}),r.jsx(oe,{className:"w-48",children:"Team 1"}),r.jsx(oe,{className:"w-32 text-center",children:"Score"}),r.jsx(oe,{className:"w-48",children:"Team 2"}),r.jsx(oe,{className:"w-24 text-center",children:"Seeds"}),r.jsx(oe,{className:"w-24 text-center",children:"Actions"})]})}),r.jsx(hn,{children:a.map(S=>r.jsx(QU,{bracket:S,teams:n,allTeams:n,onToggleOverride:U,onUpdateScores:O,onUpdateTeams:L,onTeamChange:B},S.id))})]})}),r.jsx(UT,{children:w?r.jsx("div",{className:"bg-white p-2 rounded-lg border-2 border-purple-400 shadow-lg",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-4 h-4 bg-purple-100 rounded-full flex items-center justify-center",children:r.jsx(bt,{className:"h-2 w-2 text-purple-600"})}),r.jsx("span",{className:"text-xs font-medium",children:"Moving playoff team..."})]})}):null})]})})}):r.jsx(X,{children:r.jsx(te,{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx(bt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select Filters"}),r.jsx("p",{className:"text-gray-600",children:"Please select a season and week to manage playoff brackets."})]})})})]})},JU=()=>r.jsx("div",{className:"space-y-6",children:r.jsxs(X,{children:[r.jsxs(ce,{children:[r.jsxs(de,{className:"flex items-center gap-2",children:[r.jsx(ns,{className:"h-5 w-5"}),"Matchups & Overrides Management"]}),r.jsx(je,{children:"Manage regular season and playoff matchups, scores, and overrides across all conferences"})]}),r.jsx(te,{children:r.jsxs(Kr,{defaultValue:"regular-season",className:"space-y-6",children:[r.jsxs(jr,{className:"grid w-full grid-cols-2",children:[r.jsxs(Fe,{value:"regular-season",className:"flex items-center gap-2",children:[r.jsx(ns,{className:"h-4 w-4"}),"Regular Season"]}),r.jsxs(Fe,{value:"playoffs",className:"flex items-center gap-2",children:[r.jsx(bt,{className:"h-4 w-4"}),"Playoffs"]})]}),r.jsx(Be,{value:"regular-season",children:r.jsx(YU,{})}),r.jsx(Be,{value:"playoffs",children:r.jsx(XU,{})})]})})]})}),ZU=()=>{const[e,t]=h.useState([]),[n,s]=h.useState(null),[a,i]=h.useState(null),[o,l]=h.useState(!1),[c,d]=h.useState(!1),[u,f]=h.useState({playoff_teams:10,first_round_byes:6,playoff_start_week:14,reseed:!0}),{toast:m}=gn();h.useEffect(()=>{y()},[]),h.useEffect(()=>{n&&j()},[n]);const y=async()=>{try{const p=await ne.getSeasons({orderBy:{column:"season_year",ascending:!1}});if(p.error)throw new Error("Failed to load seasons");t(p.data);const v=p.data.find(_=>_.is_current);v&&s(v.id)}catch(p){console.error("Error loading seasons:",p),m({title:"Error",description:"Failed to load seasons",variant:"destructive"})}},j=async()=>{if(n){l(!0);try{const p=await ne.getPlayoffFormats({filters:[{column:"season_id",operator:"eq",value:n},{column:"is_active",operator:"eq",value:!0}]});if(p.error)throw new Error("Failed to load playoff format");if(p.data.length>0){const v=p.data[0];i(v),f({playoff_teams:v.playoff_teams,first_round_byes:v.week_14_byes,playoff_start_week:v.playoff_start_week,reseed:v.reseed})}else i(null),f({playoff_teams:10,first_round_byes:6,playoff_start_week:14,reseed:!0})}catch(p){console.error("Error loading playoff format:",p),m({title:"Error",description:"Failed to load playoff format",variant:"destructive"})}finally{l(!1)}}},g=async()=>{if(!n){m({title:"Error",description:"Please select a season",variant:"destructive"});return}d(!0);try{const p={season_id:n,playoff_teams:u.playoff_teams,week_14_byes:u.first_round_byes,playoff_start_week:u.playoff_start_week,reseed:u.reseed,championship_week:17,is_active:!0};let v;if(a?v=await ne.updatePlayoffFormat(a.id,p):v=await ne.createPlayoffFormat(p),v.error)throw new Error("Failed to save playoff format");i(v.data),m({title:"Success",description:"Playoff format saved successfully"}),await j()}catch(p){console.error("Error saving playoff format:",p),m({title:"Error",description:"Failed to save playoff format",variant:"destructive"})}finally{d(!1)}},w=(p,v)=>{f(_=>({..._,[p]:v}))},x=e.find(p=>p.id===n);return r.jsx("div",{className:"space-y-6",children:r.jsxs(X,{children:[r.jsxs(ce,{children:[r.jsxs(de,{className:"flex items-center gap-2",children:[r.jsx(bt,{className:"h-5 w-5"}),"Playoff Format Management"]}),r.jsx(je,{children:"Configure playoff settings for each season including teams, byes, and format rules"})]}),r.jsxs(te,{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(xt,{htmlFor:"season-select",children:"Season"}),r.jsxs(vt,{value:(n==null?void 0:n.toString())||"",onValueChange:p=>s(parseInt(p)),children:[r.jsx(dt,{children:r.jsx(wt,{placeholder:"Select a season"})}),r.jsx(ut,{children:e.map(p=>r.jsxs(ke,{value:p.id.toString(),children:[p.season_name," (",p.season_year,")",p.is_current&&" - Current"]},p.id))})]})]}),n&&r.jsxs(r.Fragment,{children:[o?r.jsxs("div",{className:"flex items-center justify-center py-8",children:[r.jsx(Xe,{className:"h-6 w-6 animate-spin"}),r.jsx("span",{className:"ml-2",children:"Loading playoff format..."})]}):r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(xt,{htmlFor:"playoff-teams",children:"Playoff Teams"}),r.jsx(It,{id:"playoff-teams",type:"number",min:"4",max:"16",value:u.playoff_teams,onChange:p=>w("playoff_teams",parseInt(p.target.value)),placeholder:"Number of teams in playoffs"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Total number of teams that make the playoffs"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(xt,{htmlFor:"first-round-byes",children:"First Round Byes"}),r.jsx(It,{id:"first-round-byes",type:"number",min:"0",max:"8",value:u.first_round_byes,onChange:p=>w("first_round_byes",parseInt(p.target.value)),placeholder:"Number of teams with first round byes"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Number of top-seeded teams that skip the first round"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(xt,{htmlFor:"playoff-start-week",children:"Playoff Start Week"}),r.jsx(It,{id:"playoff-start-week",type:"number",min:"1",max:"18",value:u.playoff_start_week,onChange:p=>w("playoff_start_week",parseInt(p.target.value)),placeholder:"Week when playoffs begin"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"NFL week when playoff games start"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(xt,{children:"Playoff Reseeding"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ry,{id:"reseed",checked:u.reseed,onCheckedChange:p=>w("reseed",p)}),r.jsx(xt,{htmlFor:"reseed",className:"text-sm font-normal",children:"Reseed teams after each playoff round"})]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"If checked, teams are reseeded after each round (highest seed plays lowest seed)"})]})]}),a&&!o&&r.jsx(Ie,{children:r.jsxs(Oe,{children:[r.jsxs("strong",{children:["Current Settings for ",x==null?void 0:x.season_name,":"]}),r.jsx("br",{}),"Playoff Teams: ",a.playoff_teams," | First Round Byes: ",a.week_14_byes," | Start Week: ",a.playoff_start_week," | Reseed: ",a.reseed?"Yes":"No"]})}),r.jsx("div",{className:"flex justify-end",children:r.jsxs(ee,{onClick:g,disabled:c||o,className:"flex items-center gap-2",children:[c?r.jsx(Xe,{className:"h-4 w-4 animate-spin"}):r.jsx($f,{className:"h-4 w-4"}),c?"Saving...":"Save Playoff Format"]})})]})]})]})})};var gh="Switch",[ez,hH]=ls(gh),[tz,nz]=ez(gh),QT=h.forwardRef((e,t)=>{const{__scopeSwitch:n,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...f}=e,[m,y]=h.useState(null),j=Ye(t,v=>y(v)),g=h.useRef(!1),w=m?u||!!m.closest("form"):!0,[x,p]=Fr({prop:a,defaultProp:i??!1,onChange:d,caller:gh});return r.jsxs(tz,{scope:n,checked:x,disabled:l,children:[r.jsx(we.button,{type:"button",role:"switch","aria-checked":x,"aria-required":o,"data-state":ek(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:j,onClick:ve(e.onClick,v=>{p(_=>!_),w&&(g.current=v.isPropagationStopped(),g.current||v.stopPropagation())})}),w&&r.jsx(ZT,{control:m,bubbles:!g.current,name:s,value:c,checked:x,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});QT.displayName=gh;var XT="SwitchThumb",JT=h.forwardRef((e,t)=>{const{__scopeSwitch:n,...s}=e,a=nz(XT,n);return r.jsx(we.span,{"data-state":ek(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})});JT.displayName=XT;var sz="SwitchBubbleInput",ZT=h.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:s=!0,...a},i)=>{const o=h.useRef(null),l=Ye(o,i),c=gy(n),d=Qx(t);return h.useEffect(()=>{const u=o.current;if(!u)return;const f=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&y){const j=new Event("click",{bubbles:s});y.call(u,n),u.dispatchEvent(j)}},[c,n,s]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:l,style:{...a.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});ZT.displayName=sz;function ek(e){return e?"checked":"unchecked"}var tk=QT,rz=JT;const nk=h.forwardRef(({className:e,...t},n)=>r.jsx(tk,{className:ye("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:r.jsx(rz,{className:ye("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));nk.displayName=tk.displayName;class az{constructor(){Jt(this,"schedule",{enabled:!1,dayOfWeek:2,hour:9,minute:0,timezone:"America/New_York"});Jt(this,"syncStatus",{id:"",status:"idle",progress:0,currentStep:"Waiting for next sync",processedMatchups:0,totalMatchups:0,errors:[]});Jt(this,"syncHistory",[]);Jt(this,"scheduleTimer",null);Jt(this,"statusListeners",[]);Jt(this,"historyListeners",[]);this.loadSettings(),this.scheduleNextSync()}getSchedule(){return{...this.schedule}}updateSchedule(t){this.schedule={...this.schedule,...t},this.saveSettings(),this.scheduleNextSync(),this.notifyStatusListeners()}getStatus(){return{...this.syncStatus}}getHistory(){return[...this.syncHistory]}async runManualSync(){if(this.syncStatus.status==="running")throw new Error("Sync is already running");await this.executeSync(!0)}onStatusChange(t){return this.statusListeners.push(t),()=>{this.statusListeners=this.statusListeners.filter(n=>n!==t)}}onHistoryChange(t){return this.historyListeners.push(t),()=>{this.historyListeners=this.historyListeners.filter(n=>n!==t)}}loadSettings(){try{const t=localStorage.getItem("weeklyAutoSyncSchedule");t&&(this.schedule={...this.schedule,...JSON.parse(t)});const n=localStorage.getItem("weeklyAutoSyncHistory");n&&(this.syncHistory=JSON.parse(n).map(s=>({...s,timestamp:new Date(s.timestamp)})))}catch(t){console.error("Failed to load sync settings:",t)}}saveSettings(){try{localStorage.setItem("weeklyAutoSyncSchedule",JSON.stringify(this.schedule)),localStorage.setItem("weeklyAutoSyncHistory",JSON.stringify(this.syncHistory))}catch(t){console.error("Failed to save sync settings:",t)}}scheduleNextSync(){if(this.scheduleTimer&&(clearTimeout(this.scheduleTimer),this.scheduleTimer=null),!this.schedule.enabled){this.updateSyncStatus({status:"idle",currentStep:"Automatic sync disabled",nextRunTime:void 0});return}const t=this.calculateNextRunTime(),n=new Date,s=t.getTime()-n.getTime();s>0&&(this.scheduleTimer=setTimeout(()=>{this.executeSync(!1)},s),this.updateSyncStatus({status:"scheduled",currentStep:"Scheduled for next run",nextRunTime:t}))}calculateNextRunTime(){const t=new Date,n=new Date(t);n.setHours(this.schedule.hour,this.schedule.minute,0,0);const s=t.getDay();let i=this.schedule.dayOfWeek-s;return(i<0||i===0&&t.getTime()>=n.getTime())&&(i+=7),n.setDate(n.getDate()+i),n}async executeSync(t){var l,c;const n=`sync_${Date.now()}`,s=new Date;this.updateSyncStatus({id:n,status:"running",startTime:s,progress:0,currentStep:"Initializing sync...",processedMatchups:0,totalMatchups:0,errors:[]});const a=[];let i=0,o=0;try{this.updateSyncStatus({currentStep:"Fetching active conferences...",progress:10});const{data:d}=await window.ezsite.apis.tablePage(12820,{PageNo:1,PageSize:100,Filters:[{name:"is_active",op:"Equal",value:!0}]});if(!((l=d==null?void 0:d.List)!=null&&l.length))throw new Error("No active conferences found");const{data:u}=await window.ezsite.apis.tablePage(12818,{PageNo:1,PageSize:1,Filters:[{name:"is_current_season",op:"Equal",value:!0}]});if(!((c=u==null?void 0:u.List)!=null&&c.length))throw new Error("No current season found");const f=u.List[0];this.updateSyncStatus({currentStep:"Fetching pending matchups...",progress:20});const{data:m}=await window.ezsite.apis.tablePage(13329,{PageNo:1,PageSize:1e3,Filters:[{name:"status",op:"Equal",value:"pending"},{name:"week",op:"Equal",value:f.current_week}]}),y=(m==null?void 0:m.List)||[];this.updateSyncStatus({totalMatchups:y.length,progress:30});for(const x of d.List){this.updateSyncStatus({currentStep:`Processing ${x.conference_name}...`,progress:30+i/y.length*40});try{const p=y.filter(v=>v.conference_id===x.id);for(const v of p)await this.processMatchup(v,x,f),i++,this.updateSyncStatus({processedMatchups:i,progress:30+i/y.length*40});await this.updateTeamRecords(x.id,f.id),o++}catch(p){const v=`Error processing ${x.conference_name}: ${p}`;a.push(v),console.error(v)}}this.updateSyncStatus({currentStep:"Finalizing sync...",progress:90});const j=new Date,g=j.getTime()-s.getTime(),w={id:n,timestamp:s,status:a.length>0?i>0?"partial":"failed":"success",duration:g,matchupsProcessed:i,recordsUpdated:o,errors:[...a],details:t?"Manual sync":"Scheduled sync"};this.syncHistory.unshift(w),this.syncHistory=this.syncHistory.slice(0,100),this.saveSettings(),this.notifyHistoryListeners(),this.updateSyncStatus({status:a.length>0?"failed":"completed",endTime:j,progress:100,currentStep:`Sync completed ${a.length>0?"with errors":"successfully"}`,errors:[...a],lastRunTime:s}),t||setTimeout(()=>this.scheduleNextSync(),5e3),a.length===0?ya({title:"Sync Completed",description:`Processed ${i} matchups successfully`}):ya({title:"Sync Completed with Errors",description:`Processed ${i} matchups with ${a.length} errors`,variant:"destructive"})}catch(d){const u=`Sync failed: ${d}`;a.push(u),this.updateSyncStatus({status:"failed",endTime:new Date,progress:0,currentStep:"Sync failed",errors:[...a]}),console.error("Sync execution failed:",d),ya({title:"Sync Failed",description:u,variant:"destructive"}),t||setTimeout(()=>this.scheduleNextSync(),6e4)}}async processMatchup(t,n,s){var a,i,o,l;try{const c=await Ve.getMatchups(n.league_id,t.week);if(!(c!=null&&c.length))throw new Error(`No Sleeper matchups found for week ${t.week}`);if(!c.find(x=>x.matchup_id===parseInt(t.sleeper_matchup_id)))throw new Error(`Sleeper matchup not found for ID ${t.sleeper_matchup_id}`);const{data:u}=await window.ezsite.apis.tablePage(12853,{PageNo:1,PageSize:1,Filters:[{name:"team_id",op:"Equal",value:t.team_1_id},{name:"conference_id",op:"Equal",value:n.id}]}),{data:f}=await window.ezsite.apis.tablePage(12853,{PageNo:1,PageSize:1,Filters:[{name:"team_id",op:"Equal",value:t.team_2_id},{name:"conference_id",op:"Equal",value:n.id}]});if(!((a=u==null?void 0:u.List)!=null&&a.length)||!((i=f==null?void 0:f.List)!=null&&i.length))throw new Error("Could not find team junction records");const m=u.List[0].roster_id,y=f.List[0].roster_id,j=((o=c.find(x=>x.roster_id===parseInt(m)))==null?void 0:o.points)||0,g=((l=c.find(x=>x.roster_id===parseInt(y)))==null?void 0:l.points)||0;let w=null;j>g?w=t.team_1_id:g>j&&(w=t.team_2_id),await window.ezsite.apis.tableUpdate(13329,{id:t.id,team_1_score:j,team_2_score:g,winner_id:w,status:"complete",is_manual_override:!1})}catch(c){throw new Error(`Failed to process matchup ${t.id}: ${c}`)}}async updateTeamRecords(t,n){var s,a,i;try{const{data:o}=await window.ezsite.apis.tablePage(13329,{PageNo:1,PageSize:1e3,Filters:[{name:"conference_id",op:"Equal",value:t},{name:"status",op:"Equal",value:"complete"}]});if(!((s=o==null?void 0:o.List)!=null&&s.length))return;const{data:l}=await window.ezsite.apis.tablePage(12853,{PageNo:1,PageSize:100,Filters:[{name:"conference_id",op:"Equal",value:t}]});if(!((a=l==null?void 0:l.List)!=null&&a.length))return;for(const c of l.List){const d=c.team_id,u=o.List.filter(_=>_.team_1_id===d||_.team_2_id===d);let f=0,m=0,y=0,j=0,g=0;for(const _ of u){const b=_.team_1_id===d,P=b?_.team_1_score:_.team_2_score,N=b?_.team_2_score:_.team_1_score;j+=P,g+=N,_.winner_id===d?f++:_.winner_id===null?y++:m++}const w=f+m+y,x=w>0?f/w:0,{data:p}=await window.ezsite.apis.tablePage(13768,{PageNo:1,PageSize:1,Filters:[{name:"team_id",op:"Equal",value:d},{name:"conference_id",op:"Equal",value:t},{name:"season_id",op:"Equal",value:n}]}),v={team_id:d,conference_id:t,season_id:n,wins:f,losses:m,ties:y,points_for:j,points_against:g,win_percentage:x,last_updated:new Date().toISOString()};(i=p==null?void 0:p.List)!=null&&i.length?await window.ezsite.apis.tableUpdate(13768,{id:p.List[0].id,...v}):await window.ezsite.apis.tableCreate(13768,v)}}catch(o){throw new Error(`Failed to update team records: ${o}`)}}updateSyncStatus(t){this.syncStatus={...this.syncStatus,...t},this.notifyStatusListeners()}notifyStatusListeners(){this.statusListeners.forEach(t=>{try{t(this.getStatus())}catch(n){console.error("Error notifying status listener:",n)}})}notifyHistoryListeners(){this.historyListeners.forEach(t=>{try{t(this.getHistory())}catch(n){console.error("Error notifying history listener:",n)}})}}const Za=new az,iz=()=>{const[e,t]=h.useState(Za.getSchedule()),[n,s]=h.useState(Za.getStatus()),[a,i]=h.useState(Za.getHistory()),[o,l]=h.useState(!1),[c,d]=h.useState("overview");h.useEffect(()=>{const x=Za.onStatusChange(s),p=Za.onHistoryChange(i);return()=>{x(),p()}},[]);const u=x=>{const p={...e,...x};t(p),Za.updateSchedule(x),ya({title:"Schedule Updated",description:"Auto-sync schedule has been updated successfully."})},f=async()=>{if(n.status==="running"){ya({title:"Sync Already Running",description:"Please wait for the current sync to complete.",variant:"destructive"});return}l(!0);try{await Za.runManualSync(),ya({title:"Manual Sync Started",description:"Sync has been initiated manually."})}catch(x){ya({title:"Sync Failed",description:`Failed to start manual sync: ${x}`,variant:"destructive"})}finally{l(!1)}},m=x=>{switch(x){case"completed":case"success":return"bg-green-500";case"running":return"bg-blue-500";case"failed":return"bg-red-500";case"partial":return"bg-yellow-500";case"scheduled":return"bg-purple-500";default:return"bg-gray-500"}},y=x=>{switch(x){case"completed":case"success":return r.jsx(Rl,{className:"w-4 h-4"});case"running":return r.jsx(Xe,{className:"w-4 h-4 animate-spin"});case"failed":return r.jsx(C$,{className:"w-4 h-4"});case"partial":return r.jsx(We,{className:"w-4 h-4"});case"scheduled":return r.jsx(or,{className:"w-4 h-4"});default:return r.jsx(rD,{className:"w-4 h-4"})}},j=x=>{const p=Math.floor(x/1e3),v=Math.floor(p/60),_=Math.floor(v/60);return _>0?`${_}h ${v%60}m ${p%60}s`:v>0?`${v}m ${p%60}s`:`${p}s`},g=x=>x?new Date(x).toLocaleString():"N/A",w=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Auto-Sync Manager"}),r.jsx("p",{className:"text-muted-foreground",children:"Manage automatic weekly synchronization with Sleeper API"})]}),r.jsxs(ee,{onClick:f,disabled:o||n.status==="running",className:"gap-2",children:[o||n.status==="running"?r.jsx(Xe,{className:"w-4 h-4 animate-spin"}):r.jsx(iD,{className:"w-4 h-4"}),o||n.status==="running"?"Syncing...":"Run Manual Sync"]})]}),r.jsxs(Kr,{value:c,onValueChange:d,className:"w-full",children:[r.jsxs(jr,{className:"grid w-full grid-cols-4",children:[r.jsxs(Fe,{value:"overview",className:"gap-2",children:[r.jsx(Uo,{className:"w-4 h-4"}),"Overview"]}),r.jsxs(Fe,{value:"schedule",className:"gap-2",children:[r.jsx(ns,{className:"w-4 h-4"}),"Schedule"]}),r.jsxs(Fe,{value:"monitoring",className:"gap-2",children:[r.jsx(v$,{className:"w-4 h-4"}),"Monitoring"]}),r.jsxs(Fe,{value:"history",className:"gap-2",children:[r.jsx(B$,{className:"w-4 h-4"}),"History"]})]}),r.jsxs(Be,{value:"overview",className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs(X,{children:[r.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(de,{className:"text-sm font-medium",children:"Sync Status"}),y(n.status)]}),r.jsxs(te,{children:[r.jsx("div",{className:"text-2xl font-bold capitalize",children:n.status}),r.jsx("p",{className:"text-xs text-muted-foreground",children:n.currentStep})]})]}),r.jsxs(X,{children:[r.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(de,{className:"text-sm font-medium",children:"Auto-Sync"}),r.jsx(zu,{className:"w-4 h-4"})]}),r.jsxs(te,{children:[r.jsx("div",{className:"text-2xl font-bold",children:e.enabled?"Enabled":"Disabled"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:e.enabled?`${w[e.dayOfWeek]} at ${e.hour}:${e.minute.toString().padStart(2,"0")}`:"Manual only"})]})]}),r.jsxs(X,{children:[r.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(de,{className:"text-sm font-medium",children:"Last Run"}),r.jsx(SD,{className:"w-4 h-4"})]}),r.jsxs(te,{children:[r.jsx("div",{className:"text-2xl font-bold",children:n.lastRunTime?g(n.lastRunTime).split(" ")[1]:"Never"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:n.lastRunTime?g(n.lastRunTime).split(" ")[0]:"No previous runs"})]})]}),r.jsxs(X,{children:[r.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(de,{className:"text-sm font-medium",children:"Next Run"}),r.jsx(or,{className:"w-4 h-4"})]}),r.jsxs(te,{children:[r.jsx("div",{className:"text-2xl font-bold",children:n.nextRunTime?g(n.nextRunTime).split(" ")[1]:"N/A"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:n.nextRunTime?g(n.nextRunTime).split(" ")[0]:"No scheduled runs"})]})]})]}),n.status==="running"&&r.jsxs(X,{children:[r.jsx(ce,{children:r.jsxs(de,{className:"flex items-center gap-2",children:[r.jsx(Xe,{className:"w-5 h-5 animate-spin"}),"Sync in Progress"]})}),r.jsxs(te,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:n.currentStep}),r.jsxs("span",{children:[n.progress,"%"]})]}),r.jsx(lr,{value:n.progress,className:"h-2"})]}),r.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[r.jsxs("span",{children:["Matchups: ",n.processedMatchups," / ",n.totalMatchups]}),r.jsxs("span",{children:["Started: ",g(n.startTime)]})]})]})]}),n.errors.length>0&&r.jsxs(Ie,{variant:"destructive",children:[r.jsx(We,{className:"h-4 w-4"}),r.jsxs(Oe,{children:[r.jsx("div",{className:"font-medium",children:"Sync Errors:"}),r.jsx("ul",{className:"mt-1 space-y-1",children:n.errors.map((x,p)=>r.jsxs("li",{className:"text-sm",children:[" ",x]},p))})]})]})]}),r.jsx(Be,{value:"schedule",className:"space-y-4",children:r.jsxs(X,{children:[r.jsx(ce,{children:r.jsx(de,{children:"Sync Schedule Configuration"})}),r.jsxs(te,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(xt,{htmlFor:"enable-sync",children:"Enable Automatic Sync"}),r.jsx(nk,{id:"enable-sync",checked:e.enabled,onCheckedChange:x=>u({enabled:x})})]}),e.enabled&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(xt,{htmlFor:"day-of-week",children:"Day of Week"}),r.jsxs(vt,{value:e.dayOfWeek.toString(),onValueChange:x=>u({dayOfWeek:parseInt(x)}),children:[r.jsx(dt,{children:r.jsx(wt,{placeholder:"Select day"})}),r.jsx(ut,{children:w.map((x,p)=>r.jsx(ke,{value:p.toString(),children:x},p))})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(xt,{htmlFor:"hour",children:"Hour (24-hour format)"}),r.jsx(It,{id:"hour",type:"number",min:"0",max:"23",value:e.hour,onChange:x=>u({hour:parseInt(x.target.value)||0})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(xt,{htmlFor:"minute",children:"Minute"}),r.jsx(It,{id:"minute",type:"number",min:"0",max:"59",value:e.minute,onChange:x=>u({minute:parseInt(x.target.value)||0})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(xt,{htmlFor:"timezone",children:"Timezone"}),r.jsxs(vt,{value:e.timezone,onValueChange:x=>u({timezone:x}),children:[r.jsx(dt,{children:r.jsx(wt,{placeholder:"Select timezone"})}),r.jsxs(ut,{children:[r.jsx(ke,{value:"America/New_York",children:"Eastern Time"}),r.jsx(ke,{value:"America/Chicago",children:"Central Time"}),r.jsx(ke,{value:"America/Denver",children:"Mountain Time"}),r.jsx(ke,{value:"America/Los_Angeles",children:"Pacific Time"})]})]})]})]}),r.jsxs(Ie,{children:[r.jsx(We,{className:"h-4 w-4"}),r.jsxs(Oe,{children:[r.jsx("strong",{children:"Note:"})," Automatic sync will only run when the browser is open and active. For production use, consider implementing server-side scheduling."]})]})]})]})}),r.jsx(Be,{value:"monitoring",className:"space-y-4",children:r.jsxs(X,{children:[r.jsx(ce,{children:r.jsx(de,{children:"Real-time Monitoring"})}),r.jsx(te,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(xt,{children:"Current Status"}),r.jsx(ae,{variant:"outline",className:`${m(n.status)} text-white`,children:n.status})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(xt,{children:"Current Step"}),r.jsx("p",{className:"text-sm",children:n.currentStep})]})]}),n.status==="running"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(xt,{children:"Progress"}),r.jsx(lr,{value:n.progress,className:"h-2"}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.progress,"% complete"]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(xt,{children:"Processed Matchups"}),r.jsx("p",{className:"text-2xl font-bold",children:n.processedMatchups})]}),r.jsxs("div",{children:[r.jsx(xt,{children:"Total Matchups"}),r.jsx("p",{className:"text-2xl font-bold",children:n.totalMatchups})]})]})]}),n.startTime&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(xt,{children:"Started At"}),r.jsx("p",{className:"text-sm",children:g(n.startTime)})]}),n.endTime&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(xt,{children:"Completed At"}),r.jsx("p",{className:"text-sm",children:g(n.endTime)})]})]})})]})}),r.jsx(Be,{value:"history",className:"space-y-4",children:r.jsxs(X,{children:[r.jsx(ce,{children:r.jsx(de,{children:"Sync History"})}),r.jsx(te,{children:r.jsx("div",{className:"rounded-md border",children:r.jsxs(un,{children:[r.jsx(fn,{children:r.jsxs(Te,{children:[r.jsx(oe,{children:"Timestamp"}),r.jsx(oe,{children:"Status"}),r.jsx(oe,{children:"Duration"}),r.jsx(oe,{children:"Matchups"}),r.jsx(oe,{children:"Records"}),r.jsx(oe,{children:"Errors"}),r.jsx(oe,{children:"Details"})]})}),r.jsx(hn,{children:a.length===0?r.jsx(Te,{children:r.jsx(se,{colSpan:7,className:"text-center text-muted-foreground",children:"No sync history available"})}):a.map(x=>r.jsxs(Te,{children:[r.jsx(se,{children:g(x.timestamp)}),r.jsx(se,{children:r.jsx(ae,{variant:"outline",className:`${m(x.status)} text-white`,children:x.status})}),r.jsx(se,{children:j(x.duration)}),r.jsx(se,{children:x.matchupsProcessed}),r.jsx(se,{children:x.recordsUpdated}),r.jsx(se,{children:x.errors.length>0?r.jsx(ae,{variant:"destructive",children:x.errors.length}):r.jsx("span",{className:"text-green-600",children:"None"})}),r.jsx(se,{className:"max-w-xs truncate",children:x.details})]},x.id))})]})})})]})})]})]})},oz=()=>{const[e,t]=h.useState(!1),[n,s]=h.useState(""),[a,i]=h.useState(""),[o,l]=h.useState(null),[c,d]=h.useState(!0),{toast:u}=gn(),f="gladleague2025";h.useEffect(()=>{const j=sessionStorage.getItem("admin_authenticated"),g=sessionStorage.getItem("admin_login_time");if(j==="true"&&g){const w=new Date(g);(new Date().getTime()-w.getTime())/(1e3*60*60)<8?(t(!0),l(localStorage.getItem("admin_last_login"))):(sessionStorage.removeItem("admin_authenticated"),sessionStorage.removeItem("admin_login_time"))}d(!1)},[]);const m=j=>{if(j.preventDefault(),n===f){const g=new Date;t(!0),i(""),sessionStorage.setItem("admin_authenticated","true"),sessionStorage.setItem("admin_login_time",g.toISOString()),localStorage.setItem("admin_last_login",g.toLocaleString()),l(g.toLocaleString()),u({title:"Admin Access Granted",description:"Welcome to the admin panel"})}else i("Invalid password"),u({title:"Access Denied",description:"Invalid admin password",variant:"destructive"})},y=()=>{t(!1),s(""),sessionStorage.removeItem("admin_authenticated"),sessionStorage.removeItem("admin_login_time"),u({title:"Logged Out",description:"Admin session ended"})};return c?r.jsx("div",{className:"container mx-auto px-4 py-8","data-id":"ao89vvru5",children:r.jsx("div",{className:"flex items-center justify-center min-h-[400px]","data-id":"pml7mynqn",children:r.jsx("div",{className:"animate-spin h-8 w-8 border-b-2 border-blue-600 rounded-full","data-id":"10jeltn5k"})})}):e?r.jsxs("div",{className:"container mx-auto px-4 py-8","data-id":"zucmgzvwq",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8","data-id":"lro5ngqd4",children:[r.jsxs("div",{"data-id":"noo7qh20h",children:[r.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3","data-id":"fmj1jcz8o",children:[r.jsx(zu,{className:"h-8 w-8 text-blue-600","data-id":"bdjtdbfnt"}),"Admin Panel"]}),r.jsx("p",{className:"text-muted-foreground mt-2","data-id":"amn1082i4",children:"Manage leagues, sync data, and perform administrative tasks"})]}),r.jsxs("div",{className:"flex items-center gap-4","data-id":"nw6oaovvh",children:[o&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground","data-id":"1kqkbfoj2",children:[r.jsx(or,{className:"h-4 w-4","data-id":"u85cv9ybo"}),"Last login: ",o]}),r.jsxs(ae,{variant:"secondary",className:"flex items-center gap-1","data-id":"u49kieuap",children:[r.jsx(Uo,{className:"h-3 w-3","data-id":"fzemdjhv1"}),"Admin Active"]}),r.jsx(ee,{variant:"outline",onClick:y,"data-id":"ssqzxi57s",children:"Logout"})]})]}),r.jsxs(Kr,{defaultValue:"league-manager",className:"space-y-6","data-id":"ojttqdptv",children:[r.jsxs(jr,{className:"grid w-full grid-cols-5","data-id":"55g8xnp5m",children:[r.jsxs(Fe,{value:"league-manager",className:"flex items-center gap-2","data-id":"mudt4s949",children:[r.jsx(zu,{className:"h-4 w-4","data-id":"vq59l6i0o"}),"League Manager"]}),r.jsxs(Fe,{value:"data-sync",className:"flex items-center gap-2","data-id":"x1ln07h9l",children:[r.jsx(Ki,{className:"h-4 w-4","data-id":"gwzxvoplp"}),"Data Sync"]}),r.jsxs(Fe,{value:"matchups-management",className:"flex items-center gap-2","data-id":"kq8s7gvio",children:[r.jsx(ns,{className:"h-4 w-4","data-id":"930hxto7y"}),"Matchups & Overrides"]}),r.jsxs(Fe,{value:"playoff-format",className:"flex items-center gap-2",children:[r.jsx(bt,{className:"h-4 w-4"}),"Playoff Format"]}),r.jsxs(Fe,{value:"auto-sync",className:"flex items-center gap-2","data-id":"ufa49dbo7",children:[r.jsx(g$,{className:"h-4 w-4","data-id":"xv3rcuk8d"}),"Auto-Sync"]})]}),r.jsx(Be,{value:"league-manager","data-id":"9y7vx68ag",children:r.jsx(nB,{"data-id":"jqk7s5yut"})}),r.jsx(Be,{value:"data-sync","data-id":"mbmsyjmjw",children:r.jsx(oB,{"data-id":"r02lgxd37"})}),r.jsx(Be,{value:"matchups-management","data-id":"2im6bg2ok",children:r.jsx(JU,{"data-id":"ddqsho0df"})}),r.jsx(Be,{value:"playoff-format",children:r.jsx(ZU,{})}),r.jsx(Be,{value:"auto-sync","data-id":"cr5xmlzdc",children:r.jsx(iz,{"data-id":"5st9c4lq3"})})]})]}):r.jsx("div",{className:"container mx-auto px-4 py-8","data-id":"sep77enuq",children:r.jsx("div",{className:"max-w-md mx-auto","data-id":"qkcxfcevx",children:r.jsxs(X,{"data-id":"7bka3yyd5",children:[r.jsxs(ce,{className:"text-center","data-id":"alhddkb9x",children:[r.jsx("div",{className:"flex justify-center mb-4","data-id":"20czuz7s8",children:r.jsx(jc,{className:"h-12 w-12 text-blue-600","data-id":"uj6wfwcyd"})}),r.jsxs(de,{className:"flex items-center gap-2 justify-center","data-id":"easa7srw9",children:[r.jsx(G$,{className:"h-5 w-5","data-id":"srgo1x52n"}),"Admin Access Required"]}),r.jsx(je,{"data-id":"dw6h33z8z",children:"Enter the admin password to access the admin panel"})]}),r.jsx(te,{"data-id":"p54cgo0pa",children:r.jsxs("form",{onSubmit:m,className:"space-y-4","data-id":"nu7k5xnra",children:[r.jsxs("div",{className:"space-y-2","data-id":"rtr62f4xb",children:[r.jsx(xt,{htmlFor:"password","data-id":"nell7jvlm",children:"Admin Password"}),r.jsx(It,{id:"password",type:"password",value:n,onChange:j=>s(j.target.value),placeholder:"Enter admin password",className:"w-full","data-id":"hjlpnn2yv"})]}),a&&r.jsx(Ie,{variant:"destructive","data-id":"4zu7gxwp4",children:r.jsx(Oe,{"data-id":"js05q0hn6",children:a})}),r.jsx(ee,{type:"submit",className:"w-full","data-id":"tthln8jfy",children:"Access Admin Panel"})]})})]})})})},sk=h.createContext({});function lz(e){const t=h.useRef(null);return t.current===null&&(t.current=e()),t.current}const Iy=typeof window<"u",cz=Iy?h.useLayoutEffect:h.useEffect,Oy=h.createContext(null);function Fy(e,t){e.indexOf(t)===-1&&e.push(t)}function By(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Wr=(e,t,n)=>n>t?t:n<e?e:n;let Uy=()=>{};const Hr={},rk=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function ak(e){return typeof e=="object"&&e!==null}const ik=e=>/^0[^.\s]+$/u.test(e);function zy(e){let t;return()=>(t===void 0&&(t=e()),t)}const Cs=e=>e,dz=(e,t)=>n=>t(e(n)),od=(...e)=>e.reduce(dz),$c=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class Vy{constructor(){this.subscriptions=[]}add(t){return Fy(this.subscriptions,t),()=>By(this.subscriptions,t)}notify(t,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,s);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const pr=e=>e*1e3,gr=e=>e/1e3;function ok(e,t){return t?e*(1e3/t):0}const lk=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,uz=1e-7,fz=12;function hz(e,t,n,s,a){let i,o,l=0;do o=t+(n-t)/2,i=lk(o,s,a)-e,i>0?n=o:t=o;while(Math.abs(i)>uz&&++l<fz);return o}function ld(e,t,n,s){if(e===t&&n===s)return Cs;const a=i=>hz(i,0,1,e,n);return i=>i===0||i===1?i:lk(a(i),t,s)}const ck=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,dk=e=>t=>1-e(1-t),uk=ld(.33,1.53,.69,.99),Wy=dk(uk),fk=ck(Wy),hk=e=>(e*=2)<1?.5*Wy(e):.5*(2-Math.pow(2,-10*(e-1))),Hy=e=>1-Math.sin(Math.acos(e)),mk=dk(Hy),pk=ck(Hy),mz=ld(.42,0,1,1),pz=ld(0,0,.58,1),gk=ld(.42,0,.58,1),gz=e=>Array.isArray(e)&&typeof e[0]!="number",xk=e=>Array.isArray(e)&&typeof e[0]=="number",xz={linear:Cs,easeIn:mz,easeInOut:gk,easeOut:pz,circIn:Hy,circInOut:pk,circOut:mk,backIn:Wy,backInOut:fk,backOut:uk,anticipate:hk},yz=e=>typeof e=="string",rj=e=>{if(xk(e)){Uy(e.length===4);const[t,n,s,a]=e;return ld(t,n,s,a)}else if(yz(e))return xz[e];return e},Vd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function vz(e,t){let n=new Set,s=new Set,a=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(u){o.has(u)&&(d.schedule(u),e()),u(l)}const d={schedule:(u,f=!1,m=!1)=>{const j=m&&a?n:s;return f&&o.add(u),j.has(u)||j.add(u),u},cancel:u=>{s.delete(u),o.delete(u)},process:u=>{if(l=u,a){i=!0;return}a=!0,[n,s]=[s,n],n.forEach(c),n.clear(),a=!1,i&&(i=!1,d.process(u))}};return d}const wz=40;function yk(e,t){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Vd.reduce((v,_)=>(v[_]=vz(i),v),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:u,update:f,preRender:m,render:y,postRender:j}=o,g=()=>{const v=Hr.useManualTiming?a.timestamp:performance.now();n=!1,Hr.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(v-a.timestamp,wz),1)),a.timestamp=v,a.isProcessing=!0,l.process(a),c.process(a),d.process(a),u.process(a),f.process(a),m.process(a),y.process(a),j.process(a),a.isProcessing=!1,n&&t&&(s=!1,e(g))},w=()=>{n=!0,s=!0,a.isProcessing||e(g)};return{schedule:Vd.reduce((v,_)=>{const b=o[_];return v[_]=(P,N=!1,E=!1)=>(n||w(),b.schedule(P,N,E)),v},{}),cancel:v=>{for(let _=0;_<Vd.length;_++)o[Vd[_]].cancel(v)},state:a,steps:o}}const{schedule:St,cancel:Da,state:dn,steps:Tm}=yk(typeof requestAnimationFrame<"u"?requestAnimationFrame:Cs,!0);let hu;function jz(){hu=void 0}const Kn={now:()=>(hu===void 0&&Kn.set(dn.isProcessing||Hr.useManualTiming?dn.timestamp:performance.now()),hu),set:e=>{hu=e,queueMicrotask(jz)}},vk=e=>t=>typeof t=="string"&&t.startsWith(e),qy=vk("--"),_z=vk("var(--"),Ky=e=>_z(e)?bz.test(e.split("/*")[0].trim()):!1,bz=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ul={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Dc={...ul,transform:e=>Wr(0,1,e)},Wd={...ul,default:1},Jl=e=>Math.round(e*1e5)/1e5,Gy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Sz(e){return e==null}const Nz=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Yy=(e,t)=>n=>!!(typeof n=="string"&&Nz.test(n)&&n.startsWith(e)||t&&!Sz(n)&&Object.prototype.hasOwnProperty.call(n,t)),wk=(e,t,n)=>s=>{if(typeof s!="string")return s;const[a,i,o,l]=s.match(Gy);return{[e]:parseFloat(a),[t]:parseFloat(i),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Cz=e=>Wr(0,255,e),km={...ul,transform:e=>Math.round(Cz(e))},ci={test:Yy("rgb","red"),parse:wk("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+km.transform(e)+", "+km.transform(t)+", "+km.transform(n)+", "+Jl(Dc.transform(s))+")"};function Ez(e){let t="",n="",s="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,s+=s,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const jg={test:Yy("#"),parse:Ez,transform:ci.transform},cd=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),sa=cd("deg"),xr=cd("%"),be=cd("px"),Tz=cd("vh"),kz=cd("vw"),aj={...xr,parse:e=>xr.parse(e)/100,transform:e=>xr.transform(e*100)},lo={test:Yy("hsl","hue"),parse:wk("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+xr.transform(Jl(t))+", "+xr.transform(Jl(n))+", "+Jl(Dc.transform(s))+")"},Bt={test:e=>ci.test(e)||jg.test(e)||lo.test(e),parse:e=>ci.test(e)?ci.parse(e):lo.test(e)?lo.parse(e):jg.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ci.transform(e):lo.transform(e),getAnimatableNone:e=>{const t=Bt.parse(e);return t.alpha=0,Bt.transform(t)}},Pz=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Rz(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Gy))==null?void 0:t.length)||0)+(((n=e.match(Pz))==null?void 0:n.length)||0)>0}const jk="number",_k="color",Az="var",$z="var(",ij="${}",Dz=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Mc(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},a=[];let i=0;const l=t.replace(Dz,c=>(Bt.test(c)?(s.color.push(i),a.push(_k),n.push(Bt.parse(c))):c.startsWith($z)?(s.var.push(i),a.push(Az),n.push(c)):(s.number.push(i),a.push(jk),n.push(parseFloat(c))),++i,ij)).split(ij);return{values:n,split:l,indexes:s,types:a}}function bk(e){return Mc(e).values}function Sk(e){const{split:t,types:n}=Mc(e),s=t.length;return a=>{let i="";for(let o=0;o<s;o++)if(i+=t[o],a[o]!==void 0){const l=n[o];l===jk?i+=Jl(a[o]):l===_k?i+=Bt.transform(a[o]):i+=a[o]}return i}}const Mz=e=>typeof e=="number"?0:Bt.test(e)?Bt.getAnimatableNone(e):e;function Lz(e){const t=bk(e);return Sk(e)(t.map(Mz))}const Ma={test:Rz,parse:bk,createTransformer:Sk,getAnimatableNone:Lz};function Pm(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Iz({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let a=0,i=0,o=0;if(!t)a=i=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;a=Pm(c,l,e+1/3),i=Pm(c,l,e),o=Pm(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:s}}function cf(e,t){return n=>n>0?t:e}const Et=(e,t,n)=>e+(t-e)*n,Rm=(e,t,n)=>{const s=e*e,a=n*(t*t-s)+s;return a<0?0:Math.sqrt(a)},Oz=[jg,ci,lo],Fz=e=>Oz.find(t=>t.test(e));function oj(e){const t=Fz(e);if(!t)return!1;let n=t.parse(e);return t===lo&&(n=Iz(n)),n}const lj=(e,t)=>{const n=oj(e),s=oj(t);if(!n||!s)return cf(e,t);const a={...n};return i=>(a.red=Rm(n.red,s.red,i),a.green=Rm(n.green,s.green,i),a.blue=Rm(n.blue,s.blue,i),a.alpha=Et(n.alpha,s.alpha,i),ci.transform(a))},_g=new Set(["none","hidden"]);function Bz(e,t){return _g.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function Uz(e,t){return n=>Et(e,t,n)}function Qy(e){return typeof e=="number"?Uz:typeof e=="string"?Ky(e)?cf:Bt.test(e)?lj:Wz:Array.isArray(e)?Nk:typeof e=="object"?Bt.test(e)?lj:zz:cf}function Nk(e,t){const n=[...e],s=n.length,a=e.map((i,o)=>Qy(i)(i,t[o]));return i=>{for(let o=0;o<s;o++)n[o]=a[o](i);return n}}function zz(e,t){const n={...e,...t},s={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(s[a]=Qy(e[a])(e[a],t[a]));return a=>{for(const i in s)n[i]=s[i](a);return n}}function Vz(e,t){const n=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],o=e.indexes[i][s[i]],l=e.values[o]??0;n[a]=l,s[i]++}return n}const Wz=(e,t)=>{const n=Ma.createTransformer(t),s=Mc(e),a=Mc(t);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?_g.has(e)&&!a.values.length||_g.has(t)&&!s.values.length?Bz(e,t):od(Nk(Vz(s,a),a.values),n):cf(e,t)};function Ck(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Et(e,t,n):Qy(e)(e,t)}const Hz=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>St.update(t,n),stop:()=>Da(t),now:()=>dn.isProcessing?dn.timestamp:Kn.now()}},Ek=(e,t,n=10)=>{let s="";const a=Math.max(Math.round(t/n),2);for(let i=0;i<a;i++)s+=Math.round(e(i/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},df=2e4;function Xy(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<df;)t+=n,s=e.next(t);return t>=df?1/0:t}function qz(e,t=100,n){const s=n({...e,keyframes:[0,t]}),a=Math.min(Xy(s),df);return{type:"keyframes",ease:i=>s.next(a*i).value/t,duration:gr(a)}}const Kz=5;function Tk(e,t,n){const s=Math.max(t-Kz,0);return ok(n-e(s),t-s)}const At={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Am=.001;function Gz({duration:e=At.duration,bounce:t=At.bounce,velocity:n=At.velocity,mass:s=At.mass}){let a,i,o=1-t;o=Wr(At.minDamping,At.maxDamping,o),e=Wr(At.minDuration,At.maxDuration,gr(e)),o<1?(a=d=>{const u=d*o,f=u*e,m=u-n,y=bg(d,o),j=Math.exp(-f);return Am-m/y*j},i=d=>{const f=d*o*e,m=f*n+n,y=Math.pow(o,2)*Math.pow(d,2)*e,j=Math.exp(-f),g=bg(Math.pow(d,2),o);return(-a(d)+Am>0?-1:1)*((m-y)*j)/g}):(a=d=>{const u=Math.exp(-d*e),f=(d-n)*e+1;return-Am+u*f},i=d=>{const u=Math.exp(-d*e),f=(n-d)*(e*e);return u*f});const l=5/e,c=Qz(a,i,l);if(e=pr(e),isNaN(c))return{stiffness:At.stiffness,damping:At.damping,duration:e};{const d=Math.pow(c,2)*s;return{stiffness:d,damping:o*2*Math.sqrt(s*d),duration:e}}}const Yz=12;function Qz(e,t,n){let s=n;for(let a=1;a<Yz;a++)s=s-e(s)/t(s);return s}function bg(e,t){return e*Math.sqrt(1-t*t)}const Xz=["duration","bounce"],Jz=["stiffness","damping","mass"];function cj(e,t){return t.some(n=>e[n]!==void 0)}function Zz(e){let t={velocity:At.velocity,stiffness:At.stiffness,damping:At.damping,mass:At.mass,isResolvedFromDuration:!1,...e};if(!cj(e,Jz)&&cj(e,Xz))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,i=2*Wr(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:At.mass,stiffness:a,damping:i}}else{const n=Gz(e);t={...t,...n,mass:At.mass},t.isResolvedFromDuration=!0}return t}function uf(e=At.visualDuration,t=At.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:a}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:d,mass:u,duration:f,velocity:m,isResolvedFromDuration:y}=Zz({...n,velocity:-gr(n.velocity||0)}),j=m||0,g=d/(2*Math.sqrt(c*u)),w=o-i,x=gr(Math.sqrt(c/u)),p=Math.abs(w)<5;s||(s=p?At.restSpeed.granular:At.restSpeed.default),a||(a=p?At.restDelta.granular:At.restDelta.default);let v;if(g<1){const b=bg(x,g);v=P=>{const N=Math.exp(-g*x*P);return o-N*((j+g*x*w)/b*Math.sin(b*P)+w*Math.cos(b*P))}}else if(g===1)v=b=>o-Math.exp(-x*b)*(w+(j+x*w)*b);else{const b=x*Math.sqrt(g*g-1);v=P=>{const N=Math.exp(-g*x*P),E=Math.min(b*P,300);return o-N*((j+g*x*w)*Math.sinh(E)+b*w*Math.cosh(E))/b}}const _={calculatedDuration:y&&f||null,next:b=>{const P=v(b);if(y)l.done=b>=f;else{let N=b===0?j:0;g<1&&(N=b===0?pr(j):Tk(v,b,P));const E=Math.abs(N)<=s,R=Math.abs(o-P)<=a;l.done=E&&R}return l.value=l.done?o:P,l},toString:()=>{const b=Math.min(Xy(_),df),P=Ek(N=>_.next(b*N).value,b,30);return b+"ms "+P},toTransition:()=>{}};return _}uf.applyToOptions=e=>{const t=qz(e,100,uf);return e.ease=t.ease,e.duration=pr(t.duration),e.type="keyframes",e};function Sg({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const f=e[0],m={done:!1,value:f},y=E=>l!==void 0&&E<l||c!==void 0&&E>c,j=E=>l===void 0?c:c===void 0||Math.abs(l-E)<Math.abs(c-E)?l:c;let g=n*t;const w=f+g,x=o===void 0?w:o(w);x!==w&&(g=x-f);const p=E=>-g*Math.exp(-E/s),v=E=>x+p(E),_=E=>{const R=p(E),M=v(E);m.done=Math.abs(R)<=d,m.value=m.done?x:M};let b,P;const N=E=>{y(m.value)&&(b=E,P=uf({keyframes:[m.value,j(m.value)],velocity:Tk(v,E,m.value),damping:a,stiffness:i,restDelta:d,restSpeed:u}))};return N(0),{calculatedDuration:null,next:E=>{let R=!1;return!P&&b===void 0&&(R=!0,_(E),N(E)),b!==void 0&&E>=b?P.next(E-b):(!R&&_(E),m)}}}function eV(e,t,n){const s=[],a=n||Hr.mix||Ck,i=e.length-1;for(let o=0;o<i;o++){let l=a(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Cs:t;l=od(c,l)}s.push(l)}return s}function tV(e,t,{clamp:n=!0,ease:s,mixer:a}={}){const i=e.length;if(Uy(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=eV(t,s,a),c=l.length,d=u=>{if(o&&u<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(u<e[f+1]);f++);const m=$c(e[f],e[f+1],u);return l[f](m)};return n?u=>d(Wr(e[0],e[i-1],u)):d}function nV(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const a=$c(0,t,s);e.push(Et(n,1,a))}}function sV(e){const t=[0];return nV(t,e.length-1),t}function rV(e,t){return e.map(n=>n*t)}function aV(e,t){return e.map(()=>t||gk).splice(0,e.length-1)}function Zl({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const a=gz(s)?s.map(rj):rj(s),i={done:!1,value:t[0]},o=rV(n&&n.length===t.length?n:sV(t),e),l=tV(o,t,{ease:Array.isArray(a)?a:aV(t,a)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const iV=e=>e!==null;function Jy(e,{repeat:t,repeatType:n="loop"},s,a=1){const i=e.filter(iV),l=a<0||t&&n!=="loop"&&t%2===1?0:i.length-1;return!l||s===void 0?i[l]:s}const oV={decay:Sg,inertia:Sg,tween:Zl,keyframes:Zl,spring:uf};function kk(e){typeof e.type=="string"&&(e.type=oV[e.type])}class Zy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const lV=e=>e/100;class ev extends Zy{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,a;const{motionValue:n}=this.options;n&&n.updatedAt!==Kn.now()&&this.tick(Kn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(s=this.options).onStop)==null||a.call(s))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;kk(t);const{type:n=Zl,repeat:s=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=t;let{keyframes:l}=t;const c=n||Zl;c!==Zl&&typeof l[0]!="number"&&(this.mixKeyframes=od(lV,Ck(l[0],l[1])),l=[0,100]);const d=c({...t,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=Xy(d));const{calculatedDuration:u}=d;this.calculatedDuration=u,this.resolvedDuration=u+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=d}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:a,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return s.next(0);const{delay:d=0,keyframes:u,repeat:f,repeatType:m,repeatDelay:y,type:j,onUpdate:g,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const x=this.currentTime-d*(this.playbackSpeed>=0?1:-1),p=this.playbackSpeed>=0?x<0:x>a;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let v=this.currentTime,_=s;if(f){const E=Math.min(this.currentTime,a)/l;let R=Math.floor(E),M=E%1;!M&&E>=1&&(M=1),M===1&&R--,R=Math.min(R,f+1),!!(R%2)&&(m==="reverse"?(M=1-M,y&&(M-=y/l)):m==="mirror"&&(_=o)),v=Wr(0,1,M)*l}const b=p?{done:!1,value:u[0]}:_.next(v);i&&(b.value=i(b.value));let{done:P}=b;!p&&c!==null&&(P=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return N&&j!==Sg&&(b.value=Jy(u,this.options,w,this.speed)),g&&g(b.value),N&&this.finish(),b}then(t,n){return this.finished.then(t,n)}get duration(){return gr(this.calculatedDuration)}get time(){return gr(this.currentTime)}set time(t){var n;t=pr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Kn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=gr(this.currentTime))}play(){var a,i;if(this.isStopped)return;const{driver:t=Hz,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(a=this.options).onPlay)==null||i.call(a);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Kn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function cV(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const di=e=>e*180/Math.PI,Ng=e=>{const t=di(Math.atan2(e[1],e[0]));return Cg(t)},dV={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Ng,rotateZ:Ng,skewX:e=>di(Math.atan(e[1])),skewY:e=>di(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Cg=e=>(e=e%360,e<0&&(e+=360),e),dj=Ng,uj=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),fj=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),uV={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:uj,scaleY:fj,scale:e=>(uj(e)+fj(e))/2,rotateX:e=>Cg(di(Math.atan2(e[6],e[5]))),rotateY:e=>Cg(di(Math.atan2(-e[2],e[0]))),rotateZ:dj,rotate:dj,skewX:e=>di(Math.atan(e[4])),skewY:e=>di(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Eg(e){return e.includes("scale")?1:0}function Tg(e,t){if(!e||e==="none")return Eg(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=uV,a=n;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=dV,a=l}if(!a)return Eg(t);const i=s[t],o=a[1].split(",").map(hV);return typeof i=="function"?i(o):o[i]}const fV=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Tg(n,t)};function hV(e){return parseFloat(e.trim())}const fl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],hl=new Set(fl),hj=e=>e===ul||e===be,mV=new Set(["x","y","z"]),pV=fl.filter(e=>!mV.has(e));function gV(e){const t=[];return pV.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const vi={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Tg(t,"x"),y:(e,{transform:t})=>Tg(t,"y")};vi.translateX=vi.x;vi.translateY=vi.y;const wi=new Set;let kg=!1,Pg=!1,Rg=!1;function Pk(){if(Pg){const e=Array.from(wi).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const a=gV(s);a.length&&(n.set(s,a),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([i,o])=>{var l;(l=s.getValue(i))==null||l.set(o)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Pg=!1,kg=!1,wi.forEach(e=>e.complete(Rg)),wi.clear()}function Rk(){wi.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Pg=!0)})}function xV(){Rg=!0,Rk(),Pk(),Rg=!1}class tv{constructor(t,n,s,a,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(wi.add(this),kg||(kg=!0,St.read(Rk),St.resolveKeyframes(Pk))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:a}=this;if(t[0]===null){const i=a==null?void 0:a.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(s&&n){const l=s.readValue(n,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),a&&i===void 0&&a.set(t[0])}cV(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),wi.delete(this)}cancel(){this.state==="scheduled"&&(wi.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const yV=e=>e.startsWith("--");function vV(e,t,n){yV(t)?e.style.setProperty(t,n):e.style[t]=n}const wV=zy(()=>window.ScrollTimeline!==void 0),jV={};function _V(e,t){const n=zy(e);return()=>jV[t]??n()}const Ak=_V(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Dl=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,mj={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Dl([0,.65,.55,1]),circOut:Dl([.55,0,1,.45]),backIn:Dl([.31,.01,.66,-.59]),backOut:Dl([.33,1.53,.69,.99])};function $k(e,t){if(e)return typeof e=="function"?Ak()?Ek(e,t):"ease-out":xk(e)?Dl(e):Array.isArray(e)?e.map(n=>$k(n,t)||mj.easeOut):mj[e]}function bV(e,t,n,{delay:s=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const u={[t]:n};c&&(u.offset=c);const f=$k(l,a);Array.isArray(f)&&(u.easing=f);const m={delay:s,duration:a,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return d&&(m.pseudoElement=d),e.animate(u,m)}function Dk(e){return typeof e=="function"&&"applyToOptions"in e}function SV({type:e,...t}){return Dk(e)&&Ak()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class NV extends Zy{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:s,keyframes:a,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,Uy(typeof t.type!="string");const d=SV(t);this.animation=bV(n,s,a,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=Jy(a,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(u):vV(n,s,u),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,s;const t=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return gr(Number(t))}get time(){return gr(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=pr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&wV()?(this.animation.timeline=t,Cs):n(this)}}const Mk={anticipate:hk,backInOut:fk,circInOut:pk};function CV(e){return e in Mk}function EV(e){typeof e.ease=="string"&&CV(e.ease)&&(e.ease=Mk[e.ease])}const pj=10;class TV extends NV{constructor(t){EV(t),kk(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:a,element:i,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const l=new ev({...o,autoplay:!1}),c=pr(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-pj).value,l.sample(c).value,pj),l.stop()}}const gj=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ma.test(e)||e==="0")&&!e.startsWith("url("));function kV(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function PV(e,t,n,s){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=gj(a,t),l=gj(i,t);return!o||!l?!1:kV(e)||(n==="spring"||Dk(n))&&s}const RV=new Set(["opacity","clipPath","filter","transform"]),AV=zy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function $V(e){var u;const{motionValue:t,name:n,repeatDelay:s,repeatType:a,damping:i,type:o}=e;if(!(((u=t==null?void 0:t.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=t.owner.getProps();return AV()&&n&&RV.has(n)&&(n!=="transform"||!d)&&!c&&!s&&a!=="mirror"&&i!==0&&o!=="inertia"}const DV=40;class MV extends Zy{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:u,...f}){var j;super(),this.stop=()=>{var g,w;this._animation&&(this._animation.stop(),(g=this.stopTimeline)==null||g.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=Kn.now();const m={autoplay:t,delay:n,type:s,repeat:a,repeatDelay:i,repeatType:o,name:c,motionValue:d,element:u,...f},y=(u==null?void 0:u.KeyframeResolver)||tv;this.keyframeResolver=new y(l,(g,w,x)=>this.onKeyframesResolved(g,w,m,!x),c,d,u),(j=this.keyframeResolver)==null||j.scheduleResolve()}onKeyframesResolved(t,n,s,a){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:u}=s;this.resolvedAt=Kn.now(),PV(t,i,o,l)||((Hr.instantAnimations||!c)&&(u==null||u(Jy(t,s,n))),t[0]=t[t.length-1],s.duration=0,s.repeat=0);const m={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>DV?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},y=!d&&$V(m)?new TV({...m,element:m.motionValue.owner.current}):new ev(m);y.finished.then(()=>this.notifyFinished()).catch(Cs),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),xV()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const LV=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function IV(e){const t=LV.exec(e);if(!t)return[,];const[,n,s,a]=t;return[`--${n??s}`,a]}function Lk(e,t,n=1){const[s,a]=IV(e);if(!s)return;const i=window.getComputedStyle(t).getPropertyValue(s);if(i){const o=i.trim();return rk(o)?parseFloat(o):o}return Ky(a)?Lk(a,t,n+1):a}function nv(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const Ik=new Set(["width","height","top","left","right","bottom",...fl]),OV={test:e=>e==="auto",parse:e=>e},Ok=e=>t=>t.test(e),Fk=[ul,be,xr,sa,kz,Tz,OV],xj=e=>Fk.find(Ok(e));function FV(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||ik(e):!0}const BV=new Set(["brightness","contrast","saturate","opacity"]);function UV(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(Gy)||[];if(!s)return e;const a=n.replace(s,"");let i=BV.has(t)?1:0;return s!==n&&(i*=100),t+"("+i+a+")"}const zV=/\b([a-z-]*)\(.*?\)/gu,Ag={...Ma,getAnimatableNone:e=>{const t=e.match(zV);return t?t.map(UV).join(" "):e}},yj={...ul,transform:Math.round},VV={rotate:sa,rotateX:sa,rotateY:sa,rotateZ:sa,scale:Wd,scaleX:Wd,scaleY:Wd,scaleZ:Wd,skew:sa,skewX:sa,skewY:sa,distance:be,translateX:be,translateY:be,translateZ:be,x:be,y:be,z:be,perspective:be,transformPerspective:be,opacity:Dc,originX:aj,originY:aj,originZ:be},sv={borderWidth:be,borderTopWidth:be,borderRightWidth:be,borderBottomWidth:be,borderLeftWidth:be,borderRadius:be,radius:be,borderTopLeftRadius:be,borderTopRightRadius:be,borderBottomRightRadius:be,borderBottomLeftRadius:be,width:be,maxWidth:be,height:be,maxHeight:be,top:be,right:be,bottom:be,left:be,padding:be,paddingTop:be,paddingRight:be,paddingBottom:be,paddingLeft:be,margin:be,marginTop:be,marginRight:be,marginBottom:be,marginLeft:be,backgroundPositionX:be,backgroundPositionY:be,...VV,zIndex:yj,fillOpacity:Dc,strokeOpacity:Dc,numOctaves:yj},WV={...sv,color:Bt,backgroundColor:Bt,outlineColor:Bt,fill:Bt,stroke:Bt,borderColor:Bt,borderTopColor:Bt,borderRightColor:Bt,borderBottomColor:Bt,borderLeftColor:Bt,filter:Ag,WebkitFilter:Ag},Bk=e=>WV[e];function Uk(e,t){let n=Bk(e);return n!==Ag&&(n=Ma),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const HV=new Set(["auto","none","0"]);function qV(e,t,n){let s=0,a;for(;s<e.length&&!a;){const i=e[s];typeof i=="string"&&!HV.has(i)&&Mc(i).values.length&&(a=e[s]),s++}if(a&&n)for(const i of t)e[i]=Uk(n,a)}class KV extends tv{constructor(t,n,s,a,i){super(t,n,s,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="string"&&(d=d.trim(),Ky(d))){const u=Lk(d,n.current);u!==void 0&&(t[c]=u),c===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!Ik.has(s)||t.length!==2)return;const[a,i]=t,o=xj(a),l=xj(i);if(o!==l)if(hj(o)&&hj(l))for(let c=0;c<t.length;c++){const d=t[c];typeof d=="string"&&(t[c]=parseFloat(d))}else vi[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let a=0;a<t.length;a++)(t[a]===null||FV(t[a]))&&s.push(a);s.length&&qV(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=vi[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(s,a).jump(a,!1)}measureEndState(){var l;const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const i=s.length-1,o=s[i];s[i]=vi[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{t.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function GV(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const a=(n==null?void 0:n[e])??s.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const zk=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function YV(e){return ak(e)&&"offsetHeight"in e}const vj=30,QV=e=>!isNaN(parseFloat(e));class XV{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,a=!0)=>{var o,l;const i=Kn.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty();a&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Kn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=QV(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Vy);const s=this.events[t].add(n);return t==="change"?()=>{s(),St.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Kn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>vj)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,vj);return ok(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ko(e,t){return new XV(e,t)}const{schedule:rv}=yk(queueMicrotask,!1),Ls={x:!1,y:!1};function Vk(){return Ls.x||Ls.y}function JV(e){return e==="x"||e==="y"?Ls[e]?null:(Ls[e]=!0,()=>{Ls[e]=!1}):Ls.x||Ls.y?null:(Ls.x=Ls.y=!0,()=>{Ls.x=Ls.y=!1})}function Wk(e,t){const n=GV(e),s=new AbortController,a={passive:!0,...t,signal:s.signal};return[n,a,()=>s.abort()]}function wj(e){return!(e.pointerType==="touch"||Vk())}function ZV(e,t,n={}){const[s,a,i]=Wk(e,n),o=l=>{if(!wj(l))return;const{target:c}=l,d=t(c,l);if(typeof d!="function"||!c)return;const u=f=>{wj(f)&&(d(f),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,a)};return s.forEach(l=>{l.addEventListener("pointerenter",o,a)}),i}const Hk=(e,t)=>t?e===t?!0:Hk(e,t.parentElement):!1,av=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,e8=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function t8(e){return e8.has(e.tagName)||e.tabIndex!==-1}const mu=new WeakSet;function jj(e){return t=>{t.key==="Enter"&&e(t)}}function $m(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const n8=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=jj(()=>{if(mu.has(n))return;$m(n,"down");const a=jj(()=>{$m(n,"up")}),i=()=>$m(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function _j(e){return av(e)&&!Vk()}function s8(e,t,n={}){const[s,a,i]=Wk(e,n),o=l=>{const c=l.currentTarget;if(!_j(l))return;mu.add(c);const d=t(c,l),u=(y,j)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",m),mu.has(c)&&mu.delete(c),_j(y)&&typeof d=="function"&&d(y,{success:j})},f=y=>{u(y,c===window||c===document||n.useGlobalTarget||Hk(c,y.target))},m=y=>{u(y,!1)};window.addEventListener("pointerup",f,a),window.addEventListener("pointercancel",m,a)};return s.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),YV(l)&&(l.addEventListener("focus",d=>n8(d,a)),!t8(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function qk(e){return ak(e)&&"ownerSVGElement"in e}function r8(e){return qk(e)&&e.tagName==="svg"}const Sn=e=>!!(e&&e.getVelocity),a8=[...Fk,Bt,Ma],i8=e=>a8.find(Ok(e)),Kk=h.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function o8(e=!0){const t=h.useContext(Oy);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=t,i=h.useId();h.useEffect(()=>{if(e)return a(i)},[e]);const o=h.useCallback(()=>e&&s&&s(i),[i,s,e]);return!n&&s?[!1,o]:[!0]}const Gk=h.createContext({strict:!1}),bj={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Go={};for(const e in bj)Go[e]={isEnabled:t=>bj[e].some(n=>!!t[n])};function l8(e){for(const t in e)Go[t]={...Go[t],...e[t]}}const c8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ff(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||c8.has(e)}let Yk=e=>!ff(e);function d8(e){typeof e=="function"&&(Yk=t=>t.startsWith("on")?!ff(t):e(t))}try{d8(require("@emotion/is-prop-valid").default)}catch{}function u8(e,t,n){const s={};for(const a in e)a==="values"&&typeof e.values=="object"||(Yk(a)||n===!0&&ff(a)||!t&&!ff(a)||e.draggable&&a.startsWith("onDrag"))&&(s[a]=e[a]);return s}const xh=h.createContext({});function yh(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Lc(e){return typeof e=="string"||Array.isArray(e)}const iv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ov=["initial",...iv];function vh(e){return yh(e.animate)||ov.some(t=>Lc(e[t]))}function Qk(e){return!!(vh(e)||e.variants)}function f8(e,t){if(vh(e)){const{initial:n,animate:s}=e;return{initial:n===!1||Lc(n)?n:void 0,animate:Lc(s)?s:void 0}}return e.inherit!==!1?t:{}}function h8(e){const{initial:t,animate:n}=f8(e,h.useContext(xh));return h.useMemo(()=>({initial:t,animate:n}),[Sj(t),Sj(n)])}function Sj(e){return Array.isArray(e)?e.join(" "):e}const Ic={};function m8(e){for(const t in e)Ic[t]=e[t],qy(t)&&(Ic[t].isCSSVariable=!0)}function Xk(e,{layout:t,layoutId:n}){return hl.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Ic[e]||e==="opacity")}const p8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},g8=fl.length;function x8(e,t,n){let s="",a=!0;for(let i=0;i<g8;i++){const o=fl[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const d=zk(l,sv[o]);if(!c){a=!1;const u=p8[o]||o;s+=`${u}(${d}) `}n&&(t[o]=d)}}return s=s.trim(),n?s=n(t,a?"":s):a&&(s="none"),s}function lv(e,t,n){const{style:s,vars:a,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const d=t[c];if(hl.has(c)){o=!0;continue}else if(qy(c)){a[c]=d;continue}else{const u=zk(d,sv[c]);c.startsWith("origin")?(l=!0,i[c]=u):s[c]=u}}if(t.transform||(o||n?s.transform=x8(t,e.transform,n):s.transform&&(s.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=i;s.transformOrigin=`${c} ${d} ${u}`}}const cv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Jk(e,t,n){for(const s in t)!Sn(t[s])&&!Xk(s,n)&&(e[s]=t[s])}function y8({transformTemplate:e},t){return h.useMemo(()=>{const n=cv();return lv(n,t,e),Object.assign({},n.vars,n.style)},[t])}function v8(e,t){const n=e.style||{},s={};return Jk(s,n,e),Object.assign(s,y8(e,t)),s}function w8(e,t){const n={},s=v8(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const j8={offset:"stroke-dashoffset",array:"stroke-dasharray"},_8={offset:"strokeDashoffset",array:"strokeDasharray"};function b8(e,t,n=1,s=0,a=!0){e.pathLength=1;const i=a?j8:_8;e[i.offset]=be.transform(-s);const o=be.transform(t),l=be.transform(n);e[i.array]=`${o} ${l}`}function Zk(e,{attrX:t,attrY:n,attrScale:s,pathLength:a,pathSpacing:i=1,pathOffset:o=0,...l},c,d,u){if(lv(e,l,d),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:m}=e;f.transform&&(m.transform=f.transform,delete f.transform),(m.transform||f.transformOrigin)&&(m.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),m.transform&&(m.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),s!==void 0&&(f.scale=s),a!==void 0&&b8(f,a,i,o,!1)}const eP=()=>({...cv(),attrs:{}}),tP=e=>typeof e=="string"&&e.toLowerCase()==="svg";function S8(e,t,n,s){const a=h.useMemo(()=>{const i=eP();return Zk(i,t,tP(s),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};Jk(i,e.style,e),a.style={...i,...a.style}}return a}const N8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function dv(e){return typeof e!="string"||e.includes("-")?!1:!!(N8.indexOf(e)>-1||/[A-Z]/u.test(e))}function C8(e,t,n,{latestValues:s},a,i=!1){const l=(dv(e)?S8:w8)(t,s,a,e),c=u8(t,typeof e=="string",i),d=e!==h.Fragment?{...c,...l,ref:n}:{},{children:u}=t,f=h.useMemo(()=>Sn(u)?u.get():u,[u]);return h.createElement(e,{...d,children:f})}function Nj(e){const t=[{},{}];return e==null||e.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function uv(e,t,n,s){if(typeof t=="function"){const[a,i]=Nj(s);t=t(n!==void 0?n:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=Nj(s);t=t(n!==void 0?n:e.custom,a,i)}return t}function pu(e){return Sn(e)?e.get():e}function E8({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,a){return{latestValues:T8(n,s,a,e),renderState:t()}}function T8(e,t,n,s){const a={},i=s(e,{});for(const m in i)a[m]=pu(i[m]);let{initial:o,animate:l}=e;const c=vh(e),d=Qk(e);t&&d&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const f=u?l:o;if(f&&typeof f!="boolean"&&!yh(f)){const m=Array.isArray(f)?f:[f];for(let y=0;y<m.length;y++){const j=uv(e,m[y]);if(j){const{transitionEnd:g,transition:w,...x}=j;for(const p in x){let v=x[p];if(Array.isArray(v)){const _=u?v.length-1:0;v=v[_]}v!==null&&(a[p]=v)}for(const p in g)a[p]=g[p]}}}return a}const nP=e=>(t,n)=>{const s=h.useContext(xh),a=h.useContext(Oy),i=()=>E8(e,t,s,a);return n?i():lz(i)};function fv(e,t,n){var i;const{style:s}=e,a={};for(const o in s)(Sn(s[o])||t.style&&Sn(t.style[o])||Xk(o,e)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(a[o]=s[o]);return a}const k8=nP({scrapeMotionValuesFromProps:fv,createRenderState:cv});function sP(e,t,n){const s=fv(e,t,n);for(const a in e)if(Sn(e[a])||Sn(t[a])){const i=fl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[i]=e[a]}return s}const P8=nP({scrapeMotionValuesFromProps:sP,createRenderState:eP}),R8=Symbol.for("motionComponentSymbol");function co(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function A8(e,t,n){return h.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):co(n)&&(n.current=s))},[t])}const hv=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),$8="framerAppearId",rP="data-"+hv($8),aP=h.createContext({});function D8(e,t,n,s,a){var g,w;const{visualElement:i}=h.useContext(xh),o=h.useContext(Gk),l=h.useContext(Oy),c=h.useContext(Kk).reducedMotion,d=h.useRef(null);s=s||o.renderer,!d.current&&s&&(d.current=s(e,{visualState:t,parent:i,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const u=d.current,f=h.useContext(aP);u&&!u.projection&&a&&(u.type==="html"||u.type==="svg")&&M8(d.current,n,a,f);const m=h.useRef(!1);h.useInsertionEffect(()=>{u&&m.current&&u.update(n,l)});const y=n[rP],j=h.useRef(!!y&&!((g=window.MotionHandoffIsComplete)!=null&&g.call(window,y))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,y)));return cz(()=>{u&&(m.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),j.current&&u.animationState&&u.animationState.animateChanges())}),h.useEffect(()=>{u&&(!j.current&&u.animationState&&u.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)==null||x.call(window,y)}),j.current=!1))}),u}function M8(e,t,n,s){const{layoutId:a,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:iP(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||l&&co(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:s,crossfade:u,layoutScroll:c,layoutRoot:d})}function iP(e){if(e)return e.options.allowProjection!==!1?e.projection:iP(e.parent)}function Dm(e,{forwardMotionProps:t=!1}={},n,s){n&&l8(n);const a=dv(e)?P8:k8;function i(l,c){let d;const u={...h.useContext(Kk),...l,layoutId:L8(l)},{isStatic:f}=u,m=h8(l),y=a(l,f);if(!f&&Iy){I8();const j=O8(u);d=j.MeasureLayout,m.visualElement=D8(e,y,u,s,j.ProjectionNode)}return r.jsxs(xh.Provider,{value:m,children:[d&&m.visualElement?r.jsx(d,{visualElement:m.visualElement,...u}):null,C8(e,l,A8(y,m.visualElement,c),y,f,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=h.forwardRef(i);return o[R8]=e,o}function L8({layoutId:e}){const t=h.useContext(sk).id;return t&&e!==void 0?t+"-"+e:e}function I8(e,t){h.useContext(Gk).strict}function O8(e){const{drag:t,layout:n}=Go;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function F8(e,t){if(typeof Proxy>"u")return Dm;const n=new Map,s=(i,o)=>Dm(i,o,e,t),a=(i,o)=>s(i,o);return new Proxy(a,{get:(i,o)=>o==="create"?s:(n.has(o)||n.set(o,Dm(o,void 0,e,t)),n.get(o))})}function oP({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function B8({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function U8(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Mm(e){return e===void 0||e===1}function $g({scale:e,scaleX:t,scaleY:n}){return!Mm(e)||!Mm(t)||!Mm(n)}function ri(e){return $g(e)||lP(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function lP(e){return Cj(e.x)||Cj(e.y)}function Cj(e){return e&&e!=="0%"}function hf(e,t,n){const s=e-n,a=t*s;return n+a}function Ej(e,t,n,s,a){return a!==void 0&&(e=hf(e,a,s)),hf(e,n,s)+t}function Dg(e,t=0,n=1,s,a){e.min=Ej(e.min,t,n,s,a),e.max=Ej(e.max,t,n,s,a)}function cP(e,{x:t,y:n}){Dg(e.x,t.translate,t.scale,t.originPoint),Dg(e.y,n.translate,n.scale,n.originPoint)}const Tj=.999999999999,kj=1.0000000000001;function z8(e,t,n,s=!1){const a=n.length;if(!a)return;t.x=t.y=1;let i,o;for(let l=0;l<a;l++){i=n[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&fo(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,cP(e,o)),s&&ri(i.latestValues)&&fo(e,i.latestValues))}t.x<kj&&t.x>Tj&&(t.x=1),t.y<kj&&t.y>Tj&&(t.y=1)}function uo(e,t){e.min=e.min+t,e.max=e.max+t}function Pj(e,t,n,s,a=.5){const i=Et(e.min,e.max,a);Dg(e,t,n,i,s)}function fo(e,t){Pj(e.x,t.x,t.scaleX,t.scale,t.originX),Pj(e.y,t.y,t.scaleY,t.scale,t.originY)}function dP(e,t){return oP(U8(e.getBoundingClientRect(),t))}function V8(e,t,n){const s=dP(e,n),{scroll:a}=t;return a&&(uo(s.x,a.offset.x),uo(s.y,a.offset.y)),s}const Rj=()=>({translate:0,scale:1,origin:0,originPoint:0}),ho=()=>({x:Rj(),y:Rj()}),Aj=()=>({min:0,max:0}),Lt=()=>({x:Aj(),y:Aj()}),Mg={current:null},uP={current:!1};function W8(){if(uP.current=!0,!!Iy)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Mg.current=e.matches;e.addEventListener("change",t),t()}else Mg.current=!1}const H8=new WeakMap;function q8(e,t,n){for(const s in t){const a=t[s],i=n[s];if(Sn(a))e.addValue(s,a);else if(Sn(i))e.addValue(s,Ko(a,{owner:e}));else if(i!==a)if(e.hasValue(s)){const o=e.getValue(s);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=e.getStaticValue(s);e.addValue(s,Ko(o!==void 0?o:a,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const $j=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class K8{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=tv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Kn.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,St.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=vh(n),this.isVariantNode=Qk(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in f){const y=f[m];c[m]!==void 0&&Sn(y)&&y.set(c[m],!1)}}mount(t){this.current=t,H8.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),uP.current||W8(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Mg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Da(this.notifyUpdate),Da(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=hl.has(t);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&St.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Go){const n=Go[t];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[t]&&a&&s(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Lt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<$j.length;s++){const a=$j[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=t[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=q8(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=Ko(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(rk(s)||ik(s))?s=parseFloat(s):!i8(s)&&Ma.test(n)&&(s=Uk(t,n)),this.setBaseTarget(t,Sn(s)?s.get():s)),Sn(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var i;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const o=uv(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(s=o[t])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Sn(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Vy),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){rv.render(this.render)}}class fP extends K8{constructor(){super(...arguments),this.KeyframeResolver=KV}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Sn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function hP(e,{style:t,vars:n},s,a){const i=e.style;let o;for(o in t)i[o]=t[o];a==null||a.applyProjectionStyles(i,s);for(o in n)i.setProperty(o,n[o])}function G8(e){return window.getComputedStyle(e)}class Y8 extends fP{constructor(){super(...arguments),this.type="html",this.renderInstance=hP}readValueFromInstance(t,n){var s;if(hl.has(n))return(s=this.projection)!=null&&s.isProjecting?Eg(n):fV(t,n);{const a=G8(t),i=(qy(n)?a.getPropertyValue(n):a[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return dP(t,n)}build(t,n,s){lv(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return fv(t,n,s)}}const mP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Q8(e,t,n,s){hP(e,t,void 0,s);for(const a in t.attrs)e.setAttribute(mP.has(a)?a:hv(a),t.attrs[a])}class X8 extends fP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Lt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(hl.has(n)){const s=Bk(n);return s&&s.default||0}return n=mP.has(n)?n:hv(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return sP(t,n,s)}build(t,n,s){Zk(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,a){Q8(t,n,s,a)}mount(t){this.isSVGTag=tP(t.tagName),super.mount(t)}}const J8=(e,t)=>dv(e)?new X8(t):new Y8(t,{allowProjection:e!==h.Fragment});function Oc(e,t,n){const s=e.getProps();return uv(s,t,n!==void 0?n:s.custom,e)}const Lg=e=>Array.isArray(e);function Z8(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ko(n))}function eW(e){return Lg(e)?e[e.length-1]||0:e}function tW(e,t){const n=Oc(e,t);let{transitionEnd:s={},transition:a={},...i}=n||{};i={...i,...s};for(const o in i){const l=eW(i[o]);Z8(e,o,l)}}function nW(e){return!!(Sn(e)&&e.add)}function Ig(e,t){const n=e.getValue("willChange");if(nW(n))return n.add(t);if(!n&&Hr.WillChange){const s=new Hr.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function pP(e){return e.props[rP]}const sW=e=>e!==null;function rW(e,{repeat:t,repeatType:n="loop"},s){const a=e.filter(sW),i=t&&n!=="loop"&&t%2===1?0:a.length-1;return a[i]}const aW={type:"spring",stiffness:500,damping:25,restSpeed:10},iW=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),oW={type:"keyframes",duration:.8},lW={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},cW=(e,{keyframes:t})=>t.length>2?oW:hl.has(e)?e.startsWith("scale")?iW(t[1]):aW:lW;function dW({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const mv=(e,t,n,s={},a,i)=>o=>{const l=nv(s,e)||{},c=l.delay||s.delay||0;let{elapsed:d=0}=s;d=d-pr(c);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:m=>{t.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:a};dW(l)||Object.assign(u,cW(e,u)),u.duration&&(u.duration=pr(u.duration)),u.repeatDelay&&(u.repeatDelay=pr(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(f=!0)),(Hr.instantAnimations||Hr.skipAnimations)&&(f=!0,u.duration=0,u.delay=0),u.allowFlatten=!l.type&&!l.ease,f&&!i&&t.get()!==void 0){const m=rW(u.keyframes,l);if(m!==void 0){St.update(()=>{u.onUpdate(m),u.onComplete()});return}}return l.isSync?new ev(u):new MV(u)};function uW({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function gP(e,t,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=t;s&&(i=s);const c=[],d=a&&e.animationState&&e.animationState.getState()[a];for(const u in l){const f=e.getValue(u,e.latestValues[u]??null),m=l[u];if(m===void 0||d&&uW(d,u))continue;const y={delay:n,...nv(i||{},u)},j=f.get();if(j!==void 0&&!f.isAnimating&&!Array.isArray(m)&&m===j&&!y.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const x=pP(e);if(x){const p=window.MotionHandoffAnimation(x,u,St);p!==null&&(y.startTime=p,g=!0)}}Ig(e,u),f.start(mv(u,f,m,e.shouldReduceMotion&&Ik.has(u)?{type:!1}:y,e,g));const w=f.animation;w&&c.push(w)}return o&&Promise.all(c).then(()=>{St.update(()=>{o&&tW(e,o)})}),c}function Og(e,t,n={}){var c;const s=Oc(e,t,n.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const i=s?()=>Promise.all(gP(e,s,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:m}=a;return fW(e,t,d,u,f,m,n)}:()=>Promise.resolve(),{when:l}=a;if(l){const[d,u]=l==="beforeChildren"?[i,o]:[o,i];return d().then(()=>u())}else return Promise.all([i(),o(n.delay)])}function fW(e,t,n=0,s=0,a=0,i=1,o){const l=[],c=e.variantChildren.size,d=(c-1)*a,u=typeof s=="function",f=u?m=>s(m,c):i===1?(m=0)=>m*a:(m=0)=>d-m*a;return Array.from(e.variantChildren).sort(hW).forEach((m,y)=>{m.notify("AnimationStart",t),l.push(Og(m,t,{...o,delay:n+(u?0:s)+f(y)}).then(()=>m.notify("AnimationComplete",t)))}),Promise.all(l)}function hW(e,t){return e.sortNodePosition(t)}function mW(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const a=t.map(i=>Og(e,i,n));s=Promise.all(a)}else if(typeof t=="string")s=Og(e,t,n);else{const a=typeof t=="function"?Oc(e,t,n.custom):t;s=Promise.all(gP(e,a,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function xP(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const pW=ov.length;function yP(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?yP(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<pW;n++){const s=ov[n],a=e.props[s];(Lc(a)||a===!1)&&(t[s]=a)}return t}const gW=[...iv].reverse(),xW=iv.length;function yW(e){return t=>Promise.all(t.map(({animation:n,options:s})=>mW(e,n,s)))}function vW(e){let t=yW(e),n=Dj(),s=!0;const a=c=>(d,u)=>{var m;const f=Oc(e,u,c==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);if(f){const{transition:y,transitionEnd:j,...g}=f;d={...d,...g,...j}}return d};function i(c){t=c(e)}function o(c){const{props:d}=e,u=yP(e.parent)||{},f=[],m=new Set;let y={},j=1/0;for(let w=0;w<xW;w++){const x=gW[w],p=n[x],v=d[x]!==void 0?d[x]:u[x],_=Lc(v),b=x===c?p.isActive:null;b===!1&&(j=w);let P=v===u[x]&&v!==d[x]&&_;if(P&&s&&e.manuallyAnimateOnMount&&(P=!1),p.protectedKeys={...y},!p.isActive&&b===null||!v&&!p.prevProp||yh(v)||typeof v=="boolean")continue;const N=wW(p.prevProp,v);let E=N||x===c&&p.isActive&&!P&&_||w>j&&_,R=!1;const M=Array.isArray(v)?v:[v];let U=M.reduce(a(x),{});b===!1&&(U={});const{prevResolvedValues:O={}}=p,L={...O,...U},B=q=>{E=!0,m.has(q)&&(R=!0,m.delete(q)),p.needsAnimating[q]=!0;const S=e.getValue(q);S&&(S.liveStyle=!1)};for(const q in L){const S=U[q],k=O[q];if(y.hasOwnProperty(q))continue;let C=!1;Lg(S)&&Lg(k)?C=!xP(S,k):C=S!==k,C?S!=null?B(q):m.add(q):S!==void 0&&m.has(q)?B(q):p.protectedKeys[q]=!0}p.prevProp=v,p.prevResolvedValues=U,p.isActive&&(y={...y,...U}),s&&e.blockInitialAnimation&&(E=!1),E&&(!(P&&N)||R)&&f.push(...M.map(q=>({animation:q,options:{type:x}})))}if(m.size){const w={};if(typeof d.initial!="boolean"){const x=Oc(e,Array.isArray(d.initial)?d.initial[0]:d.initial);x&&x.transition&&(w.transition=x.transition)}m.forEach(x=>{const p=e.getBaseTarget(x),v=e.getValue(x);v&&(v.liveStyle=!0),w[x]=p??null}),f.push({animation:w})}let g=!!f.length;return s&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(g=!1),s=!1,g?t(f):Promise.resolve()}function l(c,d){var f;if(n[c].isActive===d)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(m=>{var y;return(y=m.animationState)==null?void 0:y.setActive(c,d)}),n[c].isActive=d;const u=o(c);for(const m in n)n[m].protectedKeys={};return u}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=Dj(),s=!0}}}function wW(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!xP(t,e):!1}function ei(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Dj(){return{animate:ei(!0),whileInView:ei(),whileHover:ei(),whileTap:ei(),whileDrag:ei(),whileFocus:ei(),exit:ei()}}class Va{constructor(t){this.isMounted=!1,this.node=t}update(){}}class jW extends Va{constructor(t){super(t),t.animationState||(t.animationState=vW(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();yh(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let _W=0;class bW extends Va{constructor(){super(...arguments),this.id=_W++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const SW={animation:{Feature:jW},exit:{Feature:bW}};function Fc(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function dd(e){return{point:{x:e.pageX,y:e.pageY}}}const NW=e=>t=>av(t)&&e(t,dd(t));function ec(e,t,n,s){return Fc(e,t,NW(n),s)}const vP=1e-4,CW=1-vP,EW=1+vP,wP=.01,TW=0-wP,kW=0+wP;function Mn(e){return e.max-e.min}function PW(e,t,n){return Math.abs(e-t)<=n}function Mj(e,t,n,s=.5){e.origin=s,e.originPoint=Et(t.min,t.max,e.origin),e.scale=Mn(n)/Mn(t),e.translate=Et(n.min,n.max,e.origin)-e.originPoint,(e.scale>=CW&&e.scale<=EW||isNaN(e.scale))&&(e.scale=1),(e.translate>=TW&&e.translate<=kW||isNaN(e.translate))&&(e.translate=0)}function tc(e,t,n,s){Mj(e.x,t.x,n.x,s?s.originX:void 0),Mj(e.y,t.y,n.y,s?s.originY:void 0)}function Lj(e,t,n){e.min=n.min+t.min,e.max=e.min+Mn(t)}function RW(e,t,n){Lj(e.x,t.x,n.x),Lj(e.y,t.y,n.y)}function Ij(e,t,n){e.min=t.min-n.min,e.max=e.min+Mn(t)}function nc(e,t,n){Ij(e.x,t.x,n.x),Ij(e.y,t.y,n.y)}function ys(e){return[e("x"),e("y")]}const jP=({current:e})=>e?e.ownerDocument.defaultView:null,Oj=(e,t)=>Math.abs(e-t);function AW(e,t){const n=Oj(e.x,t.x),s=Oj(e.y,t.y);return Math.sqrt(n**2+s**2)}class _P{constructor(t,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Im(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,j=AW(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!j)return;const{point:g}=m,{timestamp:w}=dn;this.history.push({...g,timestamp:w});const{onStart:x,onMove:p}=this.handlers;y||(x&&x(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),p&&p(this.lastMoveEvent,m)},this.handlePointerMove=(m,y)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Lm(y,this.transformPagePoint),St.update(this.updatePoint,!0)},this.handlePointerUp=(m,y)=>{this.end();const{onEnd:j,onSessionEnd:g,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Im(m.type==="pointercancel"?this.lastMoveEventInfo:Lm(y,this.transformPagePoint),this.history);this.startEvent&&j&&j(m,x),g&&g(m,x)},!av(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=o,this.contextWindow=a||window;const l=dd(t),c=Lm(l,this.transformPagePoint),{point:d}=c,{timestamp:u}=dn;this.history=[{...d,timestamp:u}];const{onSessionStart:f}=n;f&&f(t,Im(c,this.history)),this.removeListeners=od(ec(this.contextWindow,"pointermove",this.handlePointerMove),ec(this.contextWindow,"pointerup",this.handlePointerUp),ec(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Da(this.updatePoint)}}function Lm(e,t){return t?{point:t(e.point)}:e}function Fj(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Im({point:e},t){return{point:e,delta:Fj(e,bP(t)),offset:Fj(e,$W(t)),velocity:DW(t,.1)}}function $W(e){return e[0]}function bP(e){return e[e.length-1]}function DW(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const a=bP(e);for(;n>=0&&(s=e[n],!(a.timestamp-s.timestamp>pr(t)));)n--;if(!s)return{x:0,y:0};const i=gr(a.timestamp-s.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-s.x)/i,y:(a.y-s.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function MW(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?Et(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?Et(n,e,s.max):Math.min(e,n)),e}function Bj(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function LW(e,{top:t,left:n,bottom:s,right:a}){return{x:Bj(e.x,n,a),y:Bj(e.y,t,s)}}function Uj(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function IW(e,t){return{x:Uj(e.x,t.x),y:Uj(e.y,t.y)}}function OW(e,t){let n=.5;const s=Mn(e),a=Mn(t);return a>s?n=$c(t.min,t.max-s,e.min):s>a&&(n=$c(e.min,e.max-a,t.min)),Wr(0,1,n)}function FW(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Fg=.35;function BW(e=Fg){return e===!1?e=0:e===!0&&(e=Fg),{x:zj(e,"left","right"),y:zj(e,"top","bottom")}}function zj(e,t,n){return{min:Vj(e,t),max:Vj(e,n)}}function Vj(e,t){return typeof e=="number"?e:e[t]||0}const UW=new WeakMap;class zW{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Lt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(dd(f).point)},o=(f,m)=>{const{drag:y,dragPropagation:j,onDragStart:g}=this.getProps();if(y&&!j&&(this.openDragLock&&this.openDragLock(),this.openDragLock=JV(y),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ys(x=>{let p=this.getAxisMotionValue(x).get()||0;if(xr.test(p)){const{projection:v}=this.visualElement;if(v&&v.layout){const _=v.layout.layoutBox[x];_&&(p=Mn(_)*(parseFloat(p)/100))}}this.originPoint[x]=p}),g&&St.postRender(()=>g(f,m)),Ig(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},l=(f,m)=>{this.latestPointerEvent=f,this.latestPanInfo=m;const{dragPropagation:y,dragDirectionLock:j,onDirectionLock:g,onDrag:w}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:x}=m;if(j&&this.currentDirection===null){this.currentDirection=VW(x),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",m.point,x),this.updateAxis("y",m.point,x),this.visualElement.render(),w&&w(f,m)},c=(f,m)=>{this.latestPointerEvent=f,this.latestPanInfo=m,this.stop(f,m),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>ys(f=>{var m;return this.getAnimationState(f)==="paused"&&((m=this.getAxisMotionValue(f).animation)==null?void 0:m.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new _P(t,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:s,contextWindow:jP(this.visualElement)})}stop(t,n){const s=t||this.latestPointerEvent,a=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!a||!s)return;const{velocity:o}=a;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&St.postRender(()=>l(s,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:a}=this.getProps();if(!s||!Hd(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(o=MW(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,a=this.constraints;t&&co(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=LW(s.layoutBox,t):this.constraints=!1,this.elastic=BW(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ys(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=FW(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!co(t))return!1;const s=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=V8(s,a.root,this.visualElement.getTransformPagePoint());let o=IW(a.layout.layoutBox,i);if(n){const l=n(B8(o));this.hasMutatedConstraints=!!l,l&&(o=oP(l))}return o}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=ys(u=>{if(!Hd(u,n,this.currentDirection))return;let f=c&&c[u]||{};o&&(f={min:0,max:0});const m=a?200:1e6,y=a?40:1e7,j={type:"inertia",velocity:s?t[u]:0,bounceStiffness:m,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(u,j)});return Promise.all(d).then(l)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return Ig(this.visualElement,t),s.start(mv(t,s,0,n,this.visualElement,!1))}stopAnimation(){ys(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ys(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){ys(n=>{const{drag:s}=this.getProps();if(!Hd(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(n);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[n];i.set(t[n]-Et(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!co(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ys(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();a[o]=OW({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ys(o=>{if(!Hd(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(Et(c,d,a[o]))})}addListeners(){if(!this.visualElement.current)return;UW.set(this.visualElement,this);const t=this.visualElement.current,n=ec(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();co(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),St.read(s);const o=Fc(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(ys(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=c[u].translate,f.set(f.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=Fg,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Hd(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function VW(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class WW extends Va{constructor(t){super(t),this.removeGroupControls=Cs,this.removeListeners=Cs,this.controls=new zW(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Cs}unmount(){this.removeGroupControls(),this.removeListeners()}}const Wj=e=>(t,n)=>{e&&St.postRender(()=>e(t,n))};class HW extends Va{constructor(){super(...arguments),this.removePointerDownListener=Cs}onPointerDown(t){this.session=new _P(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:jP(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:Wj(t),onStart:Wj(n),onMove:s,onEnd:(i,o)=>{delete this.session,a&&St.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=ec(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const gu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Hj(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Cl={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(be.test(e))e=parseFloat(e);else return e;const n=Hj(e,t.target.x),s=Hj(e,t.target.y);return`${n}% ${s}%`}},qW={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,a=Ma.parse(e);if(a.length>5)return s;const i=Ma.createTransformer(e),o=typeof a[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;a[0+o]/=l,a[1+o]/=c;const d=Et(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=d),typeof a[3+o]=="number"&&(a[3+o]/=d),i(a)}};let qj=!1;class KW extends h.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:i}=t;m8(GW),i&&(n.group&&n.group.add(i),s&&s.register&&a&&s.register(i),qj&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),gu.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:a,isPresent:i}=this.props,{projection:o}=s;return o&&(o.isPresent=i,qj=!0,a||t.layoutDependency!==n||n===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||St.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),rv.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function SP(e){const[t,n]=o8(),s=h.useContext(sk);return r.jsx(KW,{...e,layoutGroup:s,switchLayoutGroup:h.useContext(aP),isPresent:t,safeToRemove:n})}const GW={borderRadius:{...Cl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Cl,borderTopRightRadius:Cl,borderBottomLeftRadius:Cl,borderBottomRightRadius:Cl,boxShadow:qW};function YW(e,t,n){const s=Sn(e)?e:Ko(e);return s.start(mv("",s,t,n)),s.animation}const QW=(e,t)=>e.depth-t.depth;class XW{constructor(){this.children=[],this.isDirty=!1}add(t){Fy(this.children,t),this.isDirty=!0}remove(t){By(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(QW),this.isDirty=!1,this.children.forEach(t)}}function JW(e,t){const n=Kn.now(),s=({timestamp:a})=>{const i=a-n;i>=t&&(Da(s),e(i-t))};return St.setup(s,!0),()=>Da(s)}const NP=["TopLeft","TopRight","BottomLeft","BottomRight"],ZW=NP.length,Kj=e=>typeof e=="string"?parseFloat(e):e,Gj=e=>typeof e=="number"||be.test(e);function e7(e,t,n,s,a,i){a?(e.opacity=Et(0,n.opacity??1,t7(s)),e.opacityExit=Et(t.opacity??1,0,n7(s))):i&&(e.opacity=Et(t.opacity??1,n.opacity??1,s));for(let o=0;o<ZW;o++){const l=`border${NP[o]}Radius`;let c=Yj(t,l),d=Yj(n,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||Gj(c)===Gj(d)?(e[l]=Math.max(Et(Kj(c),Kj(d),s),0),(xr.test(d)||xr.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||n.rotate)&&(e.rotate=Et(t.rotate||0,n.rotate||0,s))}function Yj(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const t7=CP(0,.5,mk),n7=CP(.5,.95,Cs);function CP(e,t,n){return s=>s<e?0:s>t?1:n($c(e,t,s))}function Qj(e,t){e.min=t.min,e.max=t.max}function xs(e,t){Qj(e.x,t.x),Qj(e.y,t.y)}function Xj(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Jj(e,t,n,s,a){return e-=t,e=hf(e,1/n,s),a!==void 0&&(e=hf(e,1/a,s)),e}function s7(e,t=0,n=1,s=.5,a,i=e,o=e){if(xr.test(t)&&(t=parseFloat(t),t=Et(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Et(i.min,i.max,s);e===i&&(l-=t),e.min=Jj(e.min,t,n,l,a),e.max=Jj(e.max,t,n,l,a)}function Zj(e,t,[n,s,a],i,o){s7(e,t[n],t[s],t[a],t.scale,i,o)}const r7=["x","scaleX","originX"],a7=["y","scaleY","originY"];function e_(e,t,n,s){Zj(e.x,t,r7,n?n.x:void 0,s?s.x:void 0),Zj(e.y,t,a7,n?n.y:void 0,s?s.y:void 0)}function t_(e){return e.translate===0&&e.scale===1}function EP(e){return t_(e.x)&&t_(e.y)}function n_(e,t){return e.min===t.min&&e.max===t.max}function i7(e,t){return n_(e.x,t.x)&&n_(e.y,t.y)}function s_(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function TP(e,t){return s_(e.x,t.x)&&s_(e.y,t.y)}function r_(e){return Mn(e.x)/Mn(e.y)}function a_(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class o7{constructor(){this.members=[]}add(t){Fy(this.members,t),t.scheduleRender()}remove(t){if(By(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){s=i;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function l7(e,t,n){let s="";const a=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((a||i||o)&&(s=`translate3d(${a}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:d,rotate:u,rotateX:f,rotateY:m,skewX:y,skewY:j}=n;d&&(s=`perspective(${d}px) ${s}`),u&&(s+=`rotate(${u}deg) `),f&&(s+=`rotateX(${f}deg) `),m&&(s+=`rotateY(${m}deg) `),y&&(s+=`skewX(${y}deg) `),j&&(s+=`skewY(${j}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(s+=`scale(${l}, ${c})`),s||"none"}const Om=["","X","Y","Z"],c7=1e3;let d7=0;function Fm(e,t,n,s){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),s&&(s[e]=0))}function kP(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=pP(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",St,!(a||i))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&kP(s)}function PP({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(o={},l=t==null?void 0:t()){this.id=d7++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(h7),this.nodes.forEach(x7),this.nodes.forEach(y7),this.nodes.forEach(m7)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new XW)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Vy),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=qk(o)&&!r8(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let u,f=0;const m=()=>this.root.updateBlockedByResize=!1;St.read(()=>{f=window.innerWidth}),e(o,()=>{const y=window.innerWidth;y!==f&&(f=y,this.root.updateBlockedByResize=!0,u&&u(),u=JW(m,250),gu.hasAnimatedSinceResize&&(gu.hasAnimatedSinceResize=!1,this.nodes.forEach(l_)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||d.getDefaultTransition()||b7,{onLayoutAnimationStart:g,onLayoutAnimationComplete:w}=d.getProps(),x=!this.targetLayout||!TP(this.targetLayout,y),p=!f&&m;if(this.options.layoutRoot||this.resumeFrom||p||f&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const v={...nv(j,"layout"),onPlay:g,onComplete:w};(d.shouldReduceMotion||this.options.layoutRoot)&&(v.delay=0,v.type=!1),this.startAnimation(v),this.setAnimationOrigin(u,p)}else f||l_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Da(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(v7),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&kP(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(i_);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(o_);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(g7),this.nodes.forEach(u7),this.nodes.forEach(f7)):this.nodes.forEach(o_),this.clearAllSnapshots();const l=Kn.now();dn.delta=Wr(0,1e3/60,l-dn.timestamp),dn.timestamp=l,dn.isProcessing=!0,Tm.update.process(dn),Tm.preRender.process(dn),Tm.render.process(dn),dn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,rv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(p7),this.sharedNodes.forEach(w7)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,St.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){St.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Mn(this.snapshot.measuredBox.x)&&!Mn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Lt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!EP(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||ri(this.latestValues)||u)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),S7(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return Lt();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(N7))){const{scroll:u}=this.root;u&&(uo(l.x,u.offset.x),uo(l.y,u.offset.y))}return l}removeElementScroll(o){var c;const l=Lt();if(xs(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:f,options:m}=u;u!==this.root&&f&&m.layoutScroll&&(f.wasRoot&&xs(l,o),uo(l.x,f.offset.x),uo(l.y,f.offset.y))}return l}applyTransform(o,l=!1){const c=Lt();xs(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&fo(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),ri(u.latestValues)&&fo(c,u.latestValues)}return ri(this.latestValues)&&fo(c,this.latestValues),c}removeTransform(o){const l=Lt();xs(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!ri(d.latestValues))continue;$g(d.latestValues)&&d.updateSnapshot();const u=Lt(),f=d.measurePageBox();xs(u,f),e_(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return ri(this.latestValues)&&e_(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==dn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var m;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:f}=this.options;if(!(!this.layout||!(u||f))){if(this.resolvedRelativeTargetAt=dn.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Lt(),this.relativeTargetOrigin=Lt(),nc(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),xs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Lt(),this.targetWithTransforms=Lt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),RW(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):xs(this.target,this.layout.layoutBox),cP(this.target,this.targetDelta)):xs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Lt(),this.relativeTargetOrigin=Lt(),nc(this.relativeTargetOrigin,this.target,y.target),xs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||$g(this.parent.latestValues)||lP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var j;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(j=this.parent)!=null&&j.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===dn.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;xs(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;z8(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Lt());const{target:y}=o;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Xj(this.prevProjectionDelta.x,this.projectionDelta.x),Xj(this.prevProjectionDelta.y,this.projectionDelta.y)),tc(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!a_(this.projectionDelta.x,this.prevProjectionDelta.x)||!a_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ho(),this.projectionDelta=ho(),this.projectionDeltaWithTransform=ho()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},f=ho();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=Lt(),y=c?c.source:void 0,j=this.layout?this.layout.source:void 0,g=y!==j,w=this.getStack(),x=!w||w.members.length<=1,p=!!(g&&!x&&this.options.crossfade===!0&&!this.path.some(_7));this.animationProgress=0;let v;this.mixTargetDelta=_=>{const b=_/1e3;c_(f.x,o.x,b),c_(f.y,o.y,b),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(nc(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),j7(this.relativeTarget,this.relativeTargetOrigin,m,b),v&&i7(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=Lt()),xs(v,this.relativeTarget)),g&&(this.animationValues=u,e7(u,d,this.latestValues,b,p,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=b},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(Da(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=St.update(()=>{gu.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ko(0)),this.currentAnimation=YW(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(c7),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&RP(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Lt();const f=Mn(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const m=Mn(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+m}xs(l,c),fo(l,u),tc(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new o7),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&Fm("z",o,d,this.animationValues);for(let u=0;u<Om.length;u++)Fm(`rotate${Om[u]}`,o,d,this.animationValues),Fm(`skew${Om[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=pu(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=pu(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!ri(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=d.animationValues||d.latestValues;this.applyTransformsToTarget();let f=l7(this.projectionDeltaWithTransform,this.treeScale,u);c&&(f=c(u,f)),o.transform=f;const{x:m,y}=this.projectionDelta;o.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,d.animationValues?o.opacity=d===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=d===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const j in Ic){if(u[j]===void 0)continue;const{correct:g,applyTo:w,isCSSVariable:x}=Ic[j],p=f==="none"?u[j]:g(u[j],d);if(w){const v=w.length;for(let _=0;_<v;_++)o[w[_]]=p}else x?this.options.visualElement.renderState.vars[j]=p:o[j]=p}this.options.layoutId&&(o.pointerEvents=d===this?pu(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(i_),this.root.sharedNodes.clear()}}}function u7(e){e.updateLayout()}function f7(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?ys(f=>{const m=o?t.measuredBox[f]:t.layoutBox[f],y=Mn(m);m.min=s[f].min,m.max=m.min+y}):RP(i,t.layoutBox,s)&&ys(f=>{const m=o?t.measuredBox[f]:t.layoutBox[f],y=Mn(s[f]);m.max=m.min+y,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+y)});const l=ho();tc(l,s,t.layoutBox);const c=ho();o?tc(c,e.applyTransform(a,!0),t.measuredBox):tc(c,s,t.layoutBox);const d=!EP(l);let u=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:y}=f;if(m&&y){const j=Lt();nc(j,t.layoutBox,m.layoutBox);const g=Lt();nc(g,s,y.layoutBox),TP(j,g)||(u=!0),f.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=j,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function h7(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function m7(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function p7(e){e.clearSnapshot()}function i_(e){e.clearMeasurements()}function o_(e){e.isLayoutDirty=!1}function g7(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function l_(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function x7(e){e.resolveTargetDelta()}function y7(e){e.calcProjection()}function v7(e){e.resetSkewAndRotation()}function w7(e){e.removeLeadSnapshot()}function c_(e,t,n){e.translate=Et(t.translate,0,n),e.scale=Et(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function d_(e,t,n,s){e.min=Et(t.min,n.min,s),e.max=Et(t.max,n.max,s)}function j7(e,t,n,s){d_(e.x,t.x,n.x,s),d_(e.y,t.y,n.y,s)}function _7(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const b7={duration:.45,ease:[.4,0,.1,1]},u_=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),f_=u_("applewebkit/")&&!u_("chrome/")?Math.round:Cs;function h_(e){e.min=f_(e.min),e.max=f_(e.max)}function S7(e){h_(e.x),h_(e.y)}function RP(e,t,n){return e==="position"||e==="preserve-aspect"&&!PW(r_(t),r_(n),.2)}function N7(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const C7=PP({attachResizeListener:(e,t)=>Fc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Bm={current:void 0},AP=PP({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Bm.current){const e=new C7({});e.mount(window),e.setOptions({layoutScroll:!0}),Bm.current=e}return Bm.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),E7={pan:{Feature:HW},drag:{Feature:WW,ProjectionNode:AP,MeasureLayout:SP}};function m_(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,i=s[a];i&&St.postRender(()=>i(t,dd(t)))}class T7 extends Va{mount(){const{current:t}=this.node;t&&(this.unmount=ZV(t,(n,s)=>(m_(this.node,s,"Start"),a=>m_(this.node,a,"End"))))}unmount(){}}class k7 extends Va{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=od(Fc(this.node.current,"focus",()=>this.onFocus()),Fc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function p_(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),i=s[a];i&&St.postRender(()=>i(t,dd(t)))}class P7 extends Va{mount(){const{current:t}=this.node;t&&(this.unmount=s8(t,(n,s)=>(p_(this.node,s,"Start"),(a,{success:i})=>p_(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Bg=new WeakMap,Um=new WeakMap,R7=e=>{const t=Bg.get(e.target);t&&t(e)},A7=e=>{e.forEach(R7)};function $7({root:e,...t}){const n=e||document;Um.has(n)||Um.set(n,{});const s=Um.get(n),a=JSON.stringify(t);return s[a]||(s[a]=new IntersectionObserver(A7,{root:e,...t})),s[a]}function D7(e,t,n){const s=$7(t);return Bg.set(e,n),s.observe(e),()=>{Bg.delete(e),s.unobserve(e)}}const M7={some:0,all:1};class L7 extends Va{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:M7[a]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),m=d?u:f;m&&m(c)};return D7(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(I7(t,n))&&this.startObserver()}unmount(){}}function I7({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const O7={inView:{Feature:L7},tap:{Feature:P7},focus:{Feature:k7},hover:{Feature:T7}},F7={layout:{ProjectionNode:AP,MeasureLayout:SP}},B7={...SW,...O7,...E7,...F7},qd=F8(B7,J8),U7=()=>{const e=rl();return h.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:r.jsxs(qd.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center space-y-6 p-8",children:[r.jsx(qd.div,{initial:{scale:.5},animate:{scale:1},transition:{duration:.5,delay:.2},children:r.jsx("h1",{className:"text-8xl font-bold text-primary",children:"404"})}),r.jsxs(qd.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},className:"space-y-4",children:[r.jsx("h2",{className:"text-2xl font-semibold tracking-tight",children:"Page Not Found"}),r.jsx("p",{className:"text-muted-foreground",children:"Sorry, the page you are looking for does not exist or has been removed."})]}),r.jsx(qd.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.6},children:r.jsx(ee,{asChild:!0,variant:"default",size:"lg",children:r.jsx("a",{href:"/",children:"Back to Home"})})})]})})};class Ws{static convertEzSiteOptions(t){const n={};return t.PageNo&&t.PageSize&&(n.offset=(t.PageNo-1)*t.PageSize,n.limit=t.PageSize),t.OrderByField&&(n.orderBy={column:t.OrderByField,ascending:t.IsAsc!==!1}),t.Filters&&Array.isArray(t.Filters)&&(n.filters=t.Filters.map(s=>({column:s.name,operator:Ws.convertEzSiteOperator(s.op),value:s.value}))),n}static convertEzSiteOperator(t){return{Equal:"eq",NotEqual:"neq",GreaterThan:"gt",GreaterThanOrEqual:"gte",LessThan:"lt",LessThanOrEqual:"lte",Contains:"ilike",In:"in",IsNull:"is",IsNotNull:"not"}[t]||"eq"}static getTableName(t){return{12818:"seasons",12820:"conferences",12852:"teams",12853:"team_conference_junction",13329:"matchups",13768:"team_records",12870:"players",draft_results:"draft_results",transactions:"transactions",playoff_bracket:"playoff_bracket",matchup_admin_override:"matchup_admin_override",team_rosters:"team_rosters"}[t.toString()]||t.toString()}static async tablePage(t,n={}){const s=Ws.getTableName(t),a=Ws.convertEzSiteOptions(n),i=await ne.queryTable(s,a);return{data:{List:i.data,TotalCount:i.count||0},error:i.error}}static async tableCreate(t,n){const s=Ws.getTableName(t),a={...n};delete a.ID;const i=await ne.createRecord(s,a);return{data:i.data,error:i.error}}static async tableUpdate(t,n){const s=Ws.getTableName(t);if(!n.ID&&!n.id)return{error:"Missing ID for update operation"};const a=n.ID||n.id,i={...n};delete i.ID,delete i.id;const o=await ne.updateRecord(s,a,i);return{data:o.data,error:o.error}}static async tableDelete(t,n){const s=Ws.getTableName(t);if(!n.ID&&!n.id)return{error:"Missing ID for delete operation"};const a=n.ID||n.id;return{data:null,error:(await ne.deleteRecord(s,a)).error}}}const z7={tablePage:Ws.tablePage,tableCreate:Ws.tableCreate,tableUpdate:Ws.tableUpdate,tableDelete:Ws.tableDelete},V7=new SI,W7=()=>(h.useEffect(()=>{window.ezsite||(window.ezsite={apis:z7});const e=document.createElement("script");return e.src="https://studio.pickaxe.co/api/embed/bundle.js",e.defer=!0,document.head.appendChild(e),()=>{const t=document.querySelector('script[src="https://studio.pickaxe.co/api/embed/bundle.js"]');t&&t.remove()}},[]),r.jsx(CI,{client:V7,children:r.jsx(eI,{children:r.jsx(HF,{children:r.jsxs(NO,{children:[r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx(A5,{}),r.jsx("main",{className:"container mx-auto px-4 py-6",children:r.jsxs(yO,{children:[r.jsx(Vn,{path:"/",element:r.jsx(B5,{})}),r.jsx(Vn,{path:"/standings",element:r.jsx(V5,{})}),r.jsx(Vn,{path:"/matchups",element:r.jsx(J5,{})}),r.jsx(Vn,{path:"/teams",element:r.jsx(m6,{})}),r.jsx(Vn,{path:"/teams/:teamId",element:r.jsx(P6,{})}),r.jsx(Vn,{path:"/players",element:r.jsx(A6,{})}),r.jsx(Vn,{path:"/players/:playerId",element:r.jsx(B6,{})}),r.jsx(Vn,{path:"/transactions",element:r.jsx(U6,{})}),r.jsx(Vn,{path:"/draft",element:r.jsx(z6,{})}),r.jsx(Vn,{path:"/rules",element:r.jsx(Q6,{})}),r.jsx(Vn,{path:"/conferences",element:r.jsx(J6,{})}),r.jsx(Vn,{path:"/admin",element:r.jsx(oz,{})}),r.jsx(Vn,{path:"*",element:r.jsx(U7,{})})]})})]}),r.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:r.jsx("div",{id:"deployment-f277b3b5-018e-4ef6-a37c-d2fd421a7ba5"})}),r.jsx(mM,{})]})})})}));IS(document.getElementById("root")).render(r.jsx(W7,{}));
